R7xOY[441568]=(function(){var n2D=2;for(;n2D !== 9;){switch(n2D){case 1:return globalThis;break;case 2:n2D=typeof globalThis === '\u006f\x62\x6a\u0065\u0063\u0074'?1:5;break;case 5:var d9s;try{var z9E=2;for(;z9E !== 6;){switch(z9E){case 2:Object['\u0064\u0065\x66\u0069\u006e\u0065\x50\x72\u006f\x70\u0065\u0072\u0074\x79'](Object['\x70\x72\x6f\x74\u006f\u0074\x79\x70\x65'],'\x6a\u004d\u0050\u0066\u0035',{'\x67\x65\x74':function(){var D1A=2;for(;D1A !== 1;){switch(D1A){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});d9s=jMPf5;d9s['\x6f\x57\x43\x75\x33']=d9s;z9E=4;break;case 4:z9E=typeof oWCu3 === '\u0075\x6e\u0064\x65\x66\x69\u006e\u0065\x64'?3:9;break;case 3:throw "";z9E=9;break;case 9:delete d9s['\x6f\x57\x43\x75\x33'];var Q0O=Object['\x70\x72\x6f\u0074\x6f\u0074\x79\u0070\u0065'];delete Q0O['\u006a\x4d\u0050\x66\x35'];z9E=6;break;}}}catch(R_r){d9s=window;}return d9s;break;}}})();R7xOY[520203]=false;R7xOY[238260]=true;R7xOY[193115]=649;R7xOY.a2W=function(){return typeof R7xOY[1009].L$q3dyn === 'function'?R7xOY[1009].L$q3dyn.apply(R7xOY[1009],arguments):R7xOY[1009].L$q3dyn;};function R7xOY(){}R7xOY[148327]="tUV";R7xOY.L7v=function(){return typeof R7xOY[1009].L$q3dyn === 'function'?R7xOY[1009].L$q3dyn.apply(R7xOY[1009],arguments):R7xOY[1009].L$q3dyn;};R7xOY.x9d=function(){return typeof R7xOY[1009].j0d3p1f === 'function'?R7xOY[1009].j0d3p1f.apply(R7xOY[1009],arguments):R7xOY[1009].j0d3p1f;};R7xOY[1009]=(function(D3t){return {L$q3dyn:function(){var b7W,M32=arguments;switch(D3t){case 5:b7W=M32[1] < M32[0];break;case 24:b7W=(M32[0] + M32[1]) * M32[2] + M32[3];break;case 8:b7W=void M32[0] !== M32[1];break;case 16:b7W=M32[1] * M32[0];break;case 4:b7W=(M32[3] + M32[1]) * M32[2] - M32[0];break;case 11:b7W=M32[0] === M32[1];break;case 1:b7W=M32[1] / M32[0];break;case 9:b7W=M32[0] + M32[1] + M32[2] + M32[4] + M32[3];break;case 21:b7W=(M32[0] - M32[1]) / M32[2] * M32[3] - M32[4];break;case 2:b7W=M32[2] * M32[0] / M32[1];break;case 26:b7W=M32[1] * M32[0] + M32[2];break;case 15:b7W=M32[4] * M32[0] * M32[1] * M32[3] - M32[2];break;case 25:b7W=M32[2] * M32[3] - M32[0] - M32[1] - M32[4];break;case 13:b7W=M32[1] / M32[0] - M32[2] + M32[3];break;case 27:b7W=(M32[3] - M32[0]) * M32[2] - M32[1];break;case 23:b7W=M32[1] + M32[2] + M32[0] - M32[3];break;case 22:b7W=M32[1] * M32[3] / M32[4] / M32[2] + M32[0];break;case 28:b7W=M32[0] * M32[2] - M32[1];break;case 14:b7W=-M32[2] + M32[0] + M32[1];break;case 19:b7W=M32[1] / M32[2] | M32[0];break;case 29:b7W=-M32[1] / M32[0] + M32[2];break;case 3:b7W=M32[2] * M32[3] * M32[0] / M32[4] - M32[1];break;case 18:b7W=M32[3] + M32[2] / M32[0] * M32[1];break;case 6:b7W=(M32[1] - M32[0]) * M32[2];break;case 7:b7W=M32[1] + M32[0];break;case 10:b7W=M32[0] + M32[2] + M32[1];break;case 0:b7W=M32[1] - M32[0];break;case 30:b7W=M32[1] >= M32[0];break;case 20:b7W=-M32[1] + M32[2] + M32[3] - M32[0];break;case 17:b7W=(M32[0] / M32[1] | M32[3]) * M32[2];break;case 12:b7W=M32[1] + M32[2] - M32[0];break;}return b7W;},j0d3p1f:function(n0W){D3t=n0W;}};})();R7xOY[144082]="$_M";R7xOY[441568].E4DD=R7xOY;R7xOY[179001]=true;R7xOY[158174]=R7xOY[441568];R7xOY.f4w=function(){return typeof R7xOY[1009].j0d3p1f === 'function'?R7xOY[1009].j0d3p1f.apply(R7xOY[1009],arguments):R7xOY[1009].j0d3p1f;};R7xOY[27406]=445;(function(){(function(mb,Bb){var lc,vc,Pb,fd,Fb,Gb,Xb,ee,fe,Mb,Kb,Ec,ge,gd,he,ie,zd,Ia,Cb,Tc,je,Ad,eb,ub,Db,mc,fc,Ub,vb,Yb,Nb,Vc,Ib,wc,Jb,$b,hd,nc,jc,kc,id,Bd,ke,xc,yc,Gc,Cd,Wc,oc,jd,Dc,Dd,le,Mc,Ed,Fd,Gd,Hd,pc,Id,Jd,Kd,Oc,qc,rc,Pc,kd,ld,md,hc,lf,Qb,Fc,me,nd,sc,ne,mf,tc,oe,nf,od,pe,of,Sc,qe,kf,pf,Ld,pd,qf,rf,be,sf,ce,re,gc,Xc,se,Yc,te,ic,ue,ve,we,xe,uf,de,ye,yd,ze,tf,Ae,Md,Be,Ce,De,Nd,Cc,Fe,Ee,vf,$c,Ge,Pd,ad,He,Od,Ie,Je,Qd,Le,Me,td,Hc,Qc,Ic,Ne,Oe,Pe,Qe,Re,Se,ud,wf,Te,Ue,Sd,Ve,ec,Zc,Nc,qd,zc,uc,rd,Ac,Uc,Ke,We,bd,Xe,xf,cd,Ye,yf,zf,Ze,Rd,sd,$e,Bf,Af,Rc,ed,Cf,ae,Df,Ef;function ac(gb,fb){if(!fb || "utf-8" === fb)return vd(gb);throw Error("unsupported encoding");}function bc(gb,fb){if(!fb || "utf-8" === fb)return wd(gb);throw Error("unsupported encoding");}function vd(gb){for(var fb=0,db,$a=gb.length,kb="";fb < $a;){db=gb[fb++];if(db & 128)if(192 === (db & 224))db=((db & 31) << 6) + (gb[fb++] & 63);else if(224 === (db & 240))db=((db & 15) << 12) + ((gb[fb++] & 63) << 6) + (gb[fb++] & 63);else throw Error("unsupported character");kb+=String.fromCharCode(db);}return kb;}function wd(gb){var fb,db,$a,kb,rb;fb=gb.length;db=0;kb=0;for($a=fb;$a--;){rb=gb.charCodeAt($a);128 > rb?db++:db=2048 > rb?db + 2:db + 3;}db=new Uint8Array(db);for($a=0;$a < fb;$a++){rb=gb.charCodeAt($a);128 > rb?db[kb++]=rb:(2048 > rb?db[kb++]=192 | rb >>> 6:(db[kb++]=224 | rb >>> 12,db[kb++]=128 | rb >>> 6 & 63),db[kb++]=128 | rb & 63);}return db;}function cc(gb,fb){if(gb === fb)return !0;if(!gb || !fb || gb.length != fb.length)return !1;for(var db=0;db < gb.length;++db){if(gb[db] != fb[db])return !1;}return !0;}function dc(gb){var $a;if(!(gb && gb.constructor == Uint8Array || Array.isArray(gb)))throw new TypeError("Cannot compute the hash code of " + gb);for(var fb=1,db=0;db < gb.length;++db){$a=gb[db];if("number" !== typeof $a)throw new TypeError("Cannot compute the hash code over non-numeric elements: " + $a);fb=31 * fb + $a & 4294967295;}return fb;}function Wd(gb,fb){var ib;if(gb === fb)return !0;if(!gb || !fb)return !1;fb instanceof Array || (fb=[fb]);for(var db=0;db < fb.length;++db){for(var $a=fb[db],kb=!1,rb=0;rb < gb.length;++rb){ib=gb[rb];if($a.equals && "function" === typeof $a.equals && $a.equals(ib) || $a == ib){kb=!0;break;}}if(!kb)return !1;}return !0;}function Xd(gb,fb){return Wd(gb,fb) && (gb.length == fb.length || Wd(fb,gb));}function Na(gb,fb,db){var $a,kb;db && ($a=db);if("object" !== typeof gb || "function" !== typeof gb.result || "function" !== typeof gb.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{kb=fb.call($a,gb);kb !== Bb && gb.result(kb);}catch(rb){try{gb.error(rb);}catch(ib){}}}function bb(gb,fb,db){if("object" !== typeof gb || "function" !== typeof gb.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");Na(gb,fb,db);}function X(gb,fb,db){1E5 > gb && (gb=1E5 + gb);Object.defineProperties(this,{internalCode:{value:gb,writable:!1,configurable:!1},responseCode:{value:fb,writable:!1,configurable:!1},message:{value:db,writable:!1,configurable:!1}});}function xd(gb){switch(gb){case Qb.PSK:case Qb.MGK:return !0;default:return !1;}}function Yd(gb){switch(gb){case Qb.PSK:case Qb.MGK:case Qb.X509:case Qb.RSA:case Qb.NPTICKET:case Qb.ECC:return !0;default:return !1;}}function ff(gb){return gb.toJSON();}function Zd(gb,fb){ed?fb.result(ed):Promise.resolve().then(function(){return Jb.getKeyByName(gb);}).catch(function(){return Jb.generateKey({name:gb},!1,["wrapKey","unwrapKey"]);}).then(function(db){ed=db;fb.result(ed);}).catch(function(db){fb.error(new eb(X.INTERNAL_EXCEPTION,"Unable to get system key"));});}function $d(gb,fb){var db,$a;db=fb.masterToken;$a=fb.userIdToken;fb=fb.serviceTokens;return {NccpMethod:gb.method,UserId:gb.userId,UT:$a && $a.serialNumber,MT:db && db.serialNumber + ":" + db.sequenceNumber,STCount:fb && fb.length};}function gf(gb){return gb.uniqueKey();}function hf(gb,fb,db,$a,kb){var Pa;function rb(xa,pa){xa.errorCode === Ia.ENTITY_REAUTH || xa.errorCode === Ia.ENTITYDATA_REAUTH?($a.clearCryptoContexts(),La()):xa.errorCode !== Ia.USER_REAUTH && xa.errorCode !== Ia.USERDATA_REAUTH || ib(pa);}function ib(xa){if(xa=$a.getUserIdToken(xa))($a.removeUserIdToken(xa),La());}function Ga(xa,pa,ja){var ca;ca=[];(function aa(){xa.read(-1,pa,{result:function(ea){Na(ja,function(){var ba,ma,ya,ua,na;if(ea)(ca.push(ea),aa());else switch(ca.length){case 0:return new Uint8Array(0);case 1:return ca[0];default:(ya=ca.length,ua=0);for(ma=ba=0;ma < ya;ma++){ba+=ca[ma].length;}ba=new Uint8Array(ba);for(ma=0;ma < ya;ma++){na=ca[ma];ba.set(na,ua);ua+=na.length;}return ba;}});},timeout:function(){ja.timeout();},error:function(ea){ja.error(ea);}});})();}function La(){$a.getStoreState({result:function(xa){for(var pa=Pa.slice(),ja=0;ja < pa.length;ja++){pa[ja]({storeState:xa});}},timeout:function(){gb.error("Timeout getting store state","" + e);},error:function(xa){gb.error("Error getting store state","" + xa);}});}Pa=[];this.addEventHandler=function(xa,pa){switch(xa){case "shouldpersist":Pa.push(pa);}};this.send=function(xa){return new Promise(function(pa,ja){var ca,Y,aa;ca=xa.timeout;Y=new ae(gb,db,xa,$a.getKeyRequestData());aa=new be(xa.url);gb.trace("Sending MSL request");fb.request(db,Y,aa,ca,{result:function(ea){var ba;gb.trace("Received MSL response",{Method:xa.method});if(ea){xa.allowTokenRefresh && La();ba=ea.getErrorHeader();ba?(rb(ba,xa.profileGuid || xa.userId),ja({success:!1,error:ba})):Ga(ea,ca,{result:function(ma){pa({success:!0,body:ac(ma)});},timeout:function(){ja({success:!1,subCode:kb.MSL_READ_TIMEOUT});},error:function(ma){ja({success:!1,error:ma});}});}else ja({success:!1,error:new eb(X.INTERNAL_EXCEPTION,"Null response stream"),description:"Null response stream"});},timeout:function(){ja({success:!1,subCode:kb.MSL_REQUEST_TIMEOUT});},error:function(ea){ja({success:!1,error:ea});}});});};this.hasUserIdToken=function(xa){return !!$a.getUserIdToken(xa);};this.getUserIdTokenKeys=function(){return $a.getUserIdTokenKeys();};this.removeUserIdToken=ib;this.clearUserIdTokens=function(){$a.clearUserIdTokens();La();};this.isErrorReauth=function(xa){return xa && xa.errorCode == Ia.USERDATA_REAUTH;};this.isErrorHeader=function(xa){return xa instanceof Cc;};this.getErrorCode=function(xa){return xa && xa.errorCode;};this.getStateForMdx=function(xa){var pa,ja;pa=$a.getMasterToken();xa=$a.getUserIdToken(xa);ja=$a.getCryptoContext(pa);return {masterToken:pa,userIdToken:xa,cryptoContext:ja};};this.buildPlayDataRequest=function(xa,pa){var ja;ja=new ce();fb.request(db,new ae(gb,db,xa),ja,xa.timeout,{result:function(){pa.result(ja.getRequest());},error:function(){pa.result(ja.getRequest());},timeout:function(){pa.timeout();}});};this.rekeyUserIdToken=function(xa,pa){$a.rekeyUserIdToken(xa,pa);La();};this.getServiceTokens=function(xa){var pa;pa=$a.getMasterToken();(xa=$a.getUserIdToken(xa)) && !xa.isBoundTo(pa) && (xa=Bb);return $a.getServiceTokens(pa,xa);};this.removeServiceToken=function(xa){var pa;pa=$a.getMasterToken();$a.getServiceTokens(pa).find(function(ja){return ja.name === xa;}) && ($a.removeServiceTokens(xa,pa),La());};}function jf(gb,fb,db){var rb;function $a(){return Promise.resolve().then(function(){return Jb.generateKey(fb,!1,["wrapKey","unwrapKey"]);}).then(function(ib){return kb(ib.publicKey,ib.privateKey);});}function kb(ib,Ga){return Promise.all([new Promise(function(La,Pa){Dc(ib,{result:La,error:function(xa){Pa(new eb(X.INTERNAL_EXCEPTION,"Unable to create keyx public key",xa));}});}),new Promise(function(La,Pa){Mc(Ga,{result:La,error:function(xa){Pa(new eb(X.INTERNAL_EXCEPTION,"Unable to create keyx private key",xa));}});})]).then(function(La){La=new yd("rsaKeypairId",db,La[0],La[1]);rb && (La.storeData={keyxPublicKey:ib,keyxPrivateKey:Ga});return La;});}rb=!gb.systemKeyWrapFormat;return Promise.resolve().then(function(){var ib,Ga;ib=gb.storeState;Ga=ib && ib.keyxPublicKey;ib=ib && ib.keyxPrivateKey;return rb && Ga && ib?kb(Ga,ib):$a();}).then(function(ib){var Ga,La,Pa;Ga={};Ga[Qb.NONE]=new kf();La=new Sc(gb.esn);Pa=[new de()];return {entityAuthFactories:Ga,entityAuthData:La,keyExchangeFactories:Pa,keyRequestData:ib,createKeyRequestData:rb?$a:Bb};});}vc=mb.nfCrypto || mb.msCrypto || mb.webkitCrypto || mb.crypto;Pb=vc && (vc.webkitSubtle || vc.subtle);fd=mb.nfCryptokeys || mb.msCryptokeys || mb.webkitCryptokeys || mb.cryptokeys;(function(gb){var fb,db;fb=(function(){function $a(kb,rb){kb instanceof fb?(this.abv=kb.abv,this.position=kb.position):(this.abv=kb,this.position=rb || 0);}$a.prototype={readByte:function(){return this.abv[this.position++];},writeByte:function(kb){this.abv[this.position++]=kb;},peekByte:function(kb){return this.abv[kb];},copyBytes:function(kb,rb,ib){var Ga;Ga=new Uint8Array(this.abv.buffer,this.position,ib);kb=new Uint8Array(kb.buffer,rb,ib);Ga.set(kb);this.position+=ib;},seek:function(kb){this.position=kb;},skip:function(kb){this.position+=kb;},getPosition:function(){return this.position;},setPosition:function(kb){this.position=kb;},getRemaining:function(){return this.abv.length - this.position;},getLength:function(){return this.abv.length;},isEndOfStream:function(){return this.position >= this.abv.length;},show:function(){return "AbvStream: pos " + (this.getPosition().toString() + " of " + this.getLength().toString());}};return $a;})();db={};(function(){var ea,ba,ma,ya,ua,na,ta,Da,oa;function $a(da,ia){var ka;ia.writeByte(da.tagClass << 6 | da.constructed << 5 | da.tag);ka=da.payloadLen;if(128 > ka)ia.writeByte(ka);else {for(var Ba=ka,Sa=0;Ba;){++Sa;Ba>>=8;}ia.writeByte(128 | Sa);for(Ba=0;Ba < Sa;++Ba){ia.writeByte(ka >> 8 * (Sa - Ba - 1) & 255);}}if(da.child)for((da.tag == ea.BIT_STRING && ia.writeByte(0),da=da._child);da;){if(!$a(da,ia))return !1;da=da.next;}else switch(da.tag){case ea.INTEGER:da.backingStore[da.dataIdx] >> 7 && ia.writeByte(0);ia.copyBytes(da.backingStore,da.dataIdx,da.dataLen);break;case ea.BIT_STRING:ia.writeByte(0);ia.copyBytes(da.backingStore,da.dataIdx,da.dataLen);break;case ea.OCTET_STRING:ia.copyBytes(da.backingStore,da.dataIdx,da.dataLen);break;case ea.OBJECT_IDENTIFIER:ia.copyBytes(da.backingStore,da.dataIdx,da.dataLen);}return !0;}function kb(da){var ia,ka;ia=da.readByte();ka=ia & 127;if(ka == ia)return ka;if(3 < ka || 0 === ka)return -1;for(var Ba=ia=0;Ba < ka;++Ba){ia=ia << 8 | da.readByte();}return ia;}function rb(da,ia,ka){var Ba,Sa,Ma,Ra,Ta,ra,Ca;Ba=da.backingStore;Sa=new fb(Ba,ia);ia+=ka;ka=da;if(8 < ua++)return Bb;for(;Sa.getPosition() < ia;){Sa.getPosition();Ra=Sa.readByte();if(31 == (Ra & 31)){for(Ma=0;Ra & 128;){Ma<<=8;Ma|=Ra & 127;}Ra=Ma;}Ta=Ra;Ma=Ta & 31;if(0 > Ma || 30 < Ma)return Bb;Ra=kb(Sa);if(0 > Ra || Ra > Sa.getRemaining())return Bb;ka.constructed=Ta & 32;ka.tagClass=(Ta & 192) >> 6;ka.tag=Ma;ka.dataLen=Ra;ka.dataIdx=Sa.getPosition();Ma=Sa;ra=Ta;Ta=Ra;if(ra & 32)Ma=!0;else if(ra < ea.BIT_STRING || ra > ea.OCTET_STRING)Ma=!1;else {Ca=new fb(Ma);ra == ea.BIT_STRING && Ca.skip(1);Ca.readByte() >> 6 & 1?Ma=!1:(ra=kb(Ca),Ma=Ca.getPosition() - Ma.getPosition() + ra == Ta);}Ma && (Ma=Sa.getPosition(),Ta=Ra,ka.tag == ea.BIT_STRING && (ka.dataIdx++,ka.dataLen--,Ma++,Ta--),ka.child=new ba(Ba,ka),rb(ka.child,Ma,Ta));ka.tag == ea.INTEGER && (Ma=Sa.getPosition(),0 == Sa.peekByte(Ma) && Sa.peekByte(Ma + 1) >> 7 && (ka.dataIdx++,ka.dataLen--));Sa.skip(Ra);Sa.getPosition() < ia && (ka.next=new ba(Ba,ka.parent),ka=ka.next);}ua--;return da;}function ib(da,ia,ka){if(9 != ka)return !1;for(ka=0;9 > ka;++ka){if(da[ia++] != na[ka])return !1;}return !0;}function Ga(da){var ia;if(!(da && da.child && da.child.next && da.child.child && da.child.next.child))return !1;ia=da.child.child;return ib(ia.backingStore,ia.dataIdx,ia.dataLen) && 2 == da.nChildren && 2 == da.child.nChildren && 2 == da.child.next.child.nChildren?!0:!1;}function La(da){var ia;if(!(da && da.child && da.child.next && da.child.next.child && da.child.next.next && da.child.next.next.child))return !1;ia=da.child.next.child;return ib(ia.backingStore,ia.dataIdx,ia.dataLen) && 3 == da.nChildren && 2 == da.child.next.nChildren && 9 == da.child.next.next.child.nChildren?!0:!1;}function Pa(da){var ia,ka;ia=ma.createSequenceNode();ka=new ya(ia);ka.addChild(ma.createSequenceNode());ka.addChild(ma.createOidNode(na));ka.addSibling(ma.createNullNode());ka.addToParent(ia,ma.createBitStringNode(null));ka.addChild(ma.createSequenceNode());ka.addChild(ma.createIntegerNode(da.n));ka.addSibling(ma.createIntegerNode(da.e));return ia;}function xa(da){var ia;da=da.child.next.child.child;ia=da.data;da=da.next;return new ta(ia,da.data,null,null);}function pa(da){var ia,ka;ia=ma.createSequenceNode();ka=new ya(ia);ka.addChild(ma.createIntegerNode(new Uint8Array([0])));ka.addSibling(ma.createSequenceNode());ka.addChild(ma.createOidNode(na));ka.addSibling(ma.createNullNode());ka.addToParent(ia,ma.createOctetStringNode(null));ka.addChild(ma.createSequenceNode());ka.addChild(ma.createIntegerNode(new Uint8Array([0])));ka.addSibling(ma.createIntegerNode(da.n));ka.addSibling(ma.createIntegerNode(da.e));ka.addSibling(ma.createIntegerNode(da.d));ka.addSibling(ma.createIntegerNode(da.p));ka.addSibling(ma.createIntegerNode(da.q));ka.addSibling(ma.createIntegerNode(da.dp));ka.addSibling(ma.createIntegerNode(da.dq));ka.addSibling(ma.createIntegerNode(da.qi));return ia;}function ja(da){var ia;ia=[];da=da.child.next.next.child.child.next;for(var ka=0;8 > ka;ka++){ia.push(da.data);da=da.next;}return new Da(ia[0],ia[1],ia[2],ia[3],ia[4],ia[5],ia[6],ia[7]);}function ca(da,ia,ka,Ba){if(!(da instanceof ta || da instanceof Da))return Bb;if(ka)for(var Sa=0;Sa < ka.length;++Sa){if(-1 == oa.indexOf(ka[Sa]))return Bb;}ia={kty:"RSA",alg:ia,key_ops:ka || [],ext:Ba == Bb?!1:Ba,n:Fb(da.n,!0),e:Fb(da.e,!0)};da instanceof Da && (ia.d=Fb(da.d,!0),ia.p=Fb(da.p,!0),ia.q=Fb(da.q,!0),ia.dp=Fb(da.dp,!0),ia.dq=Fb(da.dq,!0),ia.qi=Fb(da.qi,!0));return ia;}function Y(da){var ia,ka,Ba,Sa,Ma,Ra,Ta,ra,Ca,Ha;if(!da.kty || "RSA" != da.kty || !da.n || !da.e)return Bb;ia=("RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512").split(" ");if(da.alg && -1 == ia.indexOf(da.alg))return Bb;ia=[];da.use?"enc" == da.use?ia=["encrypt","decrypt","wrap","unwrap"]:"sig" == da.use && (ia=["sign","verify"]):ia=da.key_ops;ka=da.ext;Ba=Gb(da.n,!0);Sa=Gb(da.e,!0);if(da.d){Ma=Gb(da.d,!0);Ra=Gb(da.p,!0);Ta=Gb(da.q,!0);ra=Gb(da.dp,!0);Ca=Gb(da.dq,!0);Ha=Gb(da.qi,!0);return new Da(Ba,Sa,Ma,Ra,Ta,ra,Ca,Ha,da.alg,ia,ka);}return new ta(Ba,Sa,ka,ia);}function aa(da,ia,ka,Ba){this.der=da;this.type=ia;this.keyOps=ka;this.extractable=Ba;}ea={BER:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL:5,OBJECT_IDENTIFIER:6,OBJECT_DESCRIPTOR:7,INSTANCE_OF_EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PPV:11,UTF8_STRING:12,RELATIVE_OID:13,SEQUENCE:16,SET:17,NUMERIC_STRING:18,PRINTABLE_STRING:19,TELETEX_STRING:20,T61_STRING:20,VIDEOTEX_STRING:21,IA5_STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,ISO64_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30};ba=function(da,ia,ka,Ba,Sa,Ma){this._data=da;this._parent=ia || Bb;this._constructed=ka || !1;this._tagClass=0;this._tag=Ba || 0;this._dataIdx=Sa || 0;this._dataLen=Ma || 0;};ba.prototype={_child:Bb,_next:Bb,get data() {return new Uint8Array(this._data.buffer.slice(this._dataIdx,this._dataIdx + this._dataLen));},get backingStore() {return this._data;},get constructed() {return this._constructed;},set constructed(da) {this._constructed=0 != da?!0:!1;},get tagClass() {return this._tagClass;},set tagClass(da) {this._tagClass=da;},get tag() {return this._tag;},set tag(da) {this._tag=da;},get dataIdx() {return this._dataIdx;},set dataIdx(da) {this._dataIdx=da;},get dataLen() {return this._dataLen;},set dataLen(da) {this._dataLen=da;},get child() {return this._child;},set child(da) {this._child=da;this._child.parent=this;},get next() {return this._next;},set next(da) {this._next=da;},get parent() {return this._parent;},set parent(da) {this._parent=da;},get payloadLen() {var da;da=0;if(this._child){for(var ia=this._child;ia;){da+=ia.length;ia=ia.next;}this._tag == ea.BIT_STRING && da++;}else switch(this._tag){case ea.INTEGER:da=this._dataLen;this._data[this._dataIdx] >> 7 && da++;break;case ea.BIT_STRING:da=this._dataLen + 1;break;case ea.OCTET_STRING:da=this._dataLen;break;case ea.NULL:da=0;break;case ea.OBJECT_IDENTIFIER:ib(this._data,this._dataIdx,this._dataLen) && (da=9);}return da;},get length() {var da,ia;da=this.payloadLen;if(127 < da)for(ia=da;ia;){ia>>=8;++da;}return da + 2;},get der() {var da,ia;da=this.length;if(!da)return Bb;da=new Uint8Array(da);ia=new fb(da);return $a(this,ia)?da:Bb;},get nChildren() {for(var da=0,ia=this._child;ia;){da++;ia=ia.next;}return da;}};ma={createSequenceNode:function(){return new ba(null,null,!0,ea.SEQUENCE,null,null);},createOidNode:function(da){return new ba(da,null,!1,ea.OBJECT_IDENTIFIER,0,da?da.length:0);},createNullNode:function(){return new ba(null,null,!1,ea.NULL,null,null);},createBitStringNode:function(da){return new ba(da,null,!1,ea.BIT_STRING,0,da?da.length:0);},createIntegerNode:function(da){return new ba(da,null,!1,ea.INTEGER,0,da?da.length:0);},createOctetStringNode:function(da){return new ba(da,null,!1,ea.OCTET_STRING,0,da?da.length:0);}};ya=function(da){this._currentNode=this._rootNode=da;};ya.prototype={addChild:function(da){this.addTo(this._currentNode,da);},addSibling:function(da){this.addTo(this._currentNode.parent,da);},addTo:function(da,ia){this._currentNode=ia;this._currentNode.parent=da;if(da.child){for(da=da.child;da.next;){da=da.next;}da.next=ia;}else da.child=ia;},addToParent:function(da,ia){this.findNode(da) && this.addTo(da,ia);},findNode:function(da){for(var ia=this._currentNode;ia;){if(da == ia)return !0;ia=ia.parent;}return !1;}};ua=0;na=new Uint8Array([42,134,72,134,247,13,1,1,1]);ta=function(da,ia,ka,Ba){this.n=da;this.e=ia;this.ext=ka;this.keyOps=Ba;};Da=function(da,ia,ka,Ba,Sa,Ma,Ra,Ta,ra,Ca,Ha){this.n=da;this.e=ia;this.d=ka;this.p=Ba;this.q=Sa;this.dp=Ma;this.dq=Ra;this.qi=Ta;this.alg=ra;this.keyOps=Ca;this.ext=Ha;};oa=("sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits").split(" ");aa.prototype.getDer=function(){return this.der;};aa.prototype.getType=function(){return this.type;};aa.prototype.getKeyOps=function(){return this.keyOps;};aa.prototype.getExtractable=function(){return this.extractable;};db.parse=function(da){ua=0;return rb(new ba(da),0,da.length);};db.show=function(da,ia){};db.isRsaSpki=Ga;db.isRsaPkcs8=La;db.NodeFactory=ma;db.Builder=ya;db.tagVal=ea;db.RsaPublicKey=ta;db.RsaPrivateKey=Da;db.buildRsaSpki=Pa;db.parseRsaSpki=function(da){da=db.parse(da);return Ga?xa(da):Bb;};db.buildRsaPkcs8=pa;db.parseRsaPkcs8=function(da){da=db.parse(da);return La(da)?ja(da):Bb;};db.buildRsaJwk=ca;db.parseRsaJwk=Y;db.RsaDer=aa;db.rsaDerToJwk=function(da,ia,ka,Ba){da=db.parse(da);if(!da)return Bb;if(Ga(da))da=xa(da);else if(La(da))da=ja(da);else return Bb;return ca(da,ia,ka,Ba);};db.jwkToRsaDer=function(da){var ia,ka;da=Y(da);if(!da)return Bb;if(da instanceof ta){ia="spki";ka=Pa(da).der;}else if(da instanceof Da)(ia="pkcs8",ka=pa(da).der);else return Bb;return new aa(ka,ia,da.keyOps,da.ext);};db.webCryptoAlgorithmToJwkAlg=function(da){return "RSAES-PKCS1-v1_5" == da.name?"RSA1_5":"RSASSA-PKCS1-v1_5" == da.name?"SHA-256" == da.hash.name?"RS256":"SHA-384" == da.hash.name?"RS384":"SHA-512" == da.hash.name?"RS512":Bb:Bb;};db.webCryptoUsageToJwkKeyOps=function(da){return da.map(function(ia){return "wrapKey" == ia?"wrap":"unwrapKey" == ia?"unwrap":ia;});};})();gb.ASN1=db;})(mb);(function(){for(var gb={},fb={},db={"=":0,".":0},$a={"=":0,".":0},kb=/\s+/g,rb=/^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/_-]*[=]{0,2}$/,ib=64;ib--;){gb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[ib]]=262144 * ib;fb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[ib]]=4096 * ib;db[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[ib]]=64 * ib;$a[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[ib]]=ib;}for(ib=64;ib-- && ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")[ib] != ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[ib];){gb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[ib]]=262144 * ib;fb[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[ib]]=4096 * ib;db[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[ib]]=64 * ib;$a[("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_")[ib]]=ib;}Fb=function(Ga,La){for(var Pa="",xa=0,pa=Ga.length,ja=pa - 2,ca=La?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Y=La?"":"=";xa < ja;){La=65536 * Ga[xa++] + 256 * Ga[xa++] + Ga[xa++];Pa+=ca[La >>> 18] + ca[La >>> 12 & 63] + ca[La >>> 6 & 63] + ca[La & 63];}xa == ja?(La=65536 * Ga[xa++] + 256 * Ga[xa++],Pa+=ca[La >>> 18] + ca[La >>> 12 & 63] + ca[La >>> 6 & 63] + Y):xa == pa - 1 && (La=65536 * Ga[xa++],Pa+=ca[La >>> 18] + ca[La >>> 12 & 63] + Y + Y);return Pa;};Gb=function(Ga,La){Ga=Ga.replace(kb,"");if(La && (La=Ga.length % 4)){La=4 - La;for(var Pa=0;Pa < La;++Pa){Ga+="=";}}La=Ga.length;if(0 != La % 4 || !rb.test(Ga))throw Error("bad base64: " + Ga);for(var xa=La / 4 * 3 - ("=" == Ga[La - 1]?1:0) - ("=" == Ga[La - 2]?1:0),pa=new Uint8Array(xa),ja=0,ca=0;ja < La;){Pa=gb[Ga[ja++]] + fb[Ga[ja++]] + db[Ga[ja++]] + $a[Ga[ja++]];pa[ca++]=Pa >>> 16;ca < xa && (pa[ca++]=Pa >>> 8 & 255,ca < xa && (pa[ca++]=Pa & 255));}return pa;};})();Xb={};(function(){var rb,ib,Ga,Pa;function gb(xa){if(!(this instanceof gb))return new gb(xa);for(var pa=0,ja=ib.length;pa < ja;pa++){this[ib[pa]]="";}this.bufferCheckPosition=Xb.MAX_BUFFER_LENGTH;this.q=this.c=this.p="";this.opt=xa || ({});this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.state=Ga.BEGIN;this.stack=new rb();this.index=this.position=this.column=0;this.line=1;this.slashed=!1;this.unicodeI=0;this.unicodeS=null;fb(this,"onready");}function fb(xa,pa,ja){if(xa[pa])xa[pa](ja);}function db(xa,pa){var ja,ca;ja=xa.opt;ca=xa.textNode;ja.trim && (ca=ca.trim());ja.normalize && (ca=ca.replace(/\s+/g," "));xa.textNode=ca;xa.textNode && fb(xa,pa?pa:"onvalue",xa.textNode);xa.textNode="";}function $a(xa,pa){db(xa);pa+="\nLine: " + xa.line + "\nColumn: " + xa.column + "\nChar: " + xa.c;pa=Error(pa);xa.error=pa;fb(xa,"onerror",pa);return xa;}function kb(xa){xa.state !== Ga.VALUE && $a(xa,"Unexpected end");db(xa);xa.c="";xa.closed=!0;fb(xa,"onend");gb.call(xa,xa.opt);return xa;}rb=Array;Xb.parser=function(xa){return new gb(xa);};Xb.CParser=gb;Xb.MAX_BUFFER_LENGTH=65536;Xb.DEBUG=!1;Xb.INFO=!1;Xb.EVENTS=("value string key openobject closeobject openarray closearray error end ready").split(" ");ib=["textNode","numberNode"];Xb.EVENTS.filter(function(xa){return "error" !== xa && "end" !== xa;});Ga=0;Xb.STATE={BEGIN:Ga++,VALUE:Ga++,OPEN_OBJECT:Ga++,CLOSE_OBJECT:Ga++,OPEN_ARRAY:Ga++,CLOSE_ARRAY:Ga++,TEXT_ESCAPE:Ga++,STRING:Ga++,BACKSLASH:Ga++,END:Ga++,OPEN_KEY:Ga++,CLOSE_KEY:Ga++,TRUE:Ga++,TRUE2:Ga++,TRUE3:Ga++,FALSE:Ga++,FALSE2:Ga++,FALSE3:Ga++,FALSE4:Ga++,NULL:Ga++,NULL2:Ga++,NULL3:Ga++,NUMBER_DECIMAL_POINT:Ga++,NUMBER_DIGIT:Ga++};for(var La in Xb.STATE){Xb.STATE[Xb.STATE[La]]=La;}Ga=Xb.STATE;Object.getPrototypeOf || (Object.getPrototypeOf=function(xa){return xa.__proto__;});Pa=/[\\"\n]/g;gb.prototype={end:function(){kb(this);},write:function(xa){var ca,Y,aa;if(this.error)throw this.error;if(this.closed)return $a(this,"Cannot write after close. Assign an onready handler.");if(null === xa)return kb(this);for(var pa=xa[0],ja;pa;){ja=pa;this.c=pa=xa.charAt(this.index++);ja !== pa?this.p=ja:ja=this.p;if(!pa)break;this.position++;"\n" === pa?(this.line++,this.column=0):this.column++;switch(this.state){case Ga.BEGIN:"{" === pa?this.state=Ga.OPEN_OBJECT:"[" === pa?this.state=Ga.OPEN_ARRAY:"\r" !== pa && "\n" !== pa && " " !== pa && "\t" !== pa && $a(this,"Non-whitespace before {[.");continue;case Ga.OPEN_KEY:case Ga.OPEN_OBJECT:if("\r" === pa || "\n" === pa || " " === pa || "\t" === pa)continue;if(this.state === Ga.OPEN_KEY)this.stack.push(Ga.CLOSE_KEY);else if("}" === pa){fb(this,"onopenobject");fb(this,"oncloseobject");this.state=this.stack.pop() || Ga.VALUE;continue;}else this.stack.push(Ga.CLOSE_OBJECT);'"' === pa?this.state=Ga.STRING:$a(this,'Malformed object key should start with "');continue;case Ga.CLOSE_KEY:case Ga.CLOSE_OBJECT:if("\r" === pa || "\n" === pa || " " === pa || "\t" === pa)continue;":" === pa?(this.state === Ga.CLOSE_OBJECT?(this.stack.push(Ga.CLOSE_OBJECT),db(this,"onopenobject")):db(this,"onkey"),this.state=Ga.VALUE):"}" === pa?(db(this),fb(this,"oncloseobject",void 0),this.state=this.stack.pop() || Ga.VALUE):"," === pa?(this.state === Ga.CLOSE_OBJECT && this.stack.push(Ga.CLOSE_OBJECT),db(this),this.state=Ga.OPEN_KEY):$a(this,"Bad object");continue;case Ga.OPEN_ARRAY:case Ga.VALUE:if("\r" === pa || "\n" === pa || " " === pa || "\t" === pa)continue;if(this.state === Ga.OPEN_ARRAY)if((fb(this,"onopenarray"),this.state=Ga.VALUE,"]" === pa)){fb(this,"onclosearray");this.state=this.stack.pop() || Ga.VALUE;continue;}else this.stack.push(Ga.CLOSE_ARRAY);'"' === pa?this.state=Ga.STRING:"{" === pa?this.state=Ga.OPEN_OBJECT:"[" === pa?this.state=Ga.OPEN_ARRAY:"t" === pa?this.state=Ga.TRUE:"f" === pa?this.state=Ga.FALSE:"n" === pa?this.state=Ga.NULL:"-" === pa?this.numberNode+=pa:"0" === pa?(this.numberNode+=pa,this.state=Ga.NUMBER_DIGIT):-1 !== ("123456789").indexOf(pa)?(this.numberNode+=pa,this.state=Ga.NUMBER_DIGIT):$a(this,"Bad value");continue;case Ga.CLOSE_ARRAY:if("," === pa)(this.stack.push(Ga.CLOSE_ARRAY),db(this,"onvalue"),this.state=Ga.VALUE);else if("]" === pa)(db(this),fb(this,"onclosearray",void 0),this.state=this.stack.pop() || Ga.VALUE);else if("\r" === pa || "\n" === pa || " " === pa || "\t" === pa)continue;else $a(this,"Bad array");continue;case Ga.STRING:ja=this.index - 1;(ca=this.slashed,Y=this.unicodeI);a:for(;;){if(Xb.DEBUG)for(;0 < Y;){if((this.unicodeS+=pa,pa=xa.charAt(this.index++),4 === Y?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),Y=0,ja=this.index - 1):Y++,!pa))break a;}if('"' === pa && !ca){this.state=this.stack.pop() || Ga.VALUE;(this.textNode+=xa.substring(ja,this.index - 1)) || fb(this,"onvalue","");break;}if("\\" === pa && !ca && (ca=!0,this.textNode+=xa.substring(ja,this.index - 1),pa=xa.charAt(this.index++),!pa))break;if(ca)if((ca=!1,"n" === pa?this.textNode+="\n":"r" === pa?this.textNode+="\r":"t" === pa?this.textNode+="\t":"f" === pa?this.textNode+="\f":"b" === pa?this.textNode+="\b":"u" === pa?(Y=1,this.unicodeS=""):this.textNode+=pa,pa=xa.charAt(this.index++),ja=this.index - 1,pa))continue;else break;Pa.lastIndex=this.index;aa=Pa.exec(xa);if(null === aa){this.index=xa.length + 1;this.textNode+=xa.substring(ja,this.index - 1);break;}this.index=aa.index + 1;pa=xa.charAt(aa.index);if(!pa){this.textNode+=xa.substring(ja,this.index - 1);break;}}this.slashed=ca;this.unicodeI=Y;continue;case Ga.TRUE:if("" === pa)continue;"r" === pa?this.state=Ga.TRUE2:$a(this,"Invalid true started with t" + pa);continue;case Ga.TRUE2:if("" === pa)continue;"u" === pa?this.state=Ga.TRUE3:$a(this,"Invalid true started with tr" + pa);continue;case Ga.TRUE3:if("" === pa)continue;"e" === pa?(fb(this,"onvalue",!0),this.state=this.stack.pop() || Ga.VALUE):$a(this,"Invalid true started with tru" + pa);continue;case Ga.FALSE:if("" === pa)continue;"a" === pa?this.state=Ga.FALSE2:$a(this,"Invalid false started with f" + pa);continue;case Ga.FALSE2:if("" === pa)continue;"l" === pa?this.state=Ga.FALSE3:$a(this,"Invalid false started with fa" + pa);continue;case Ga.FALSE3:if("" === pa)continue;"s" === pa?this.state=Ga.FALSE4:$a(this,"Invalid false started with fal" + pa);continue;case Ga.FALSE4:if("" === pa)continue;"e" === pa?(fb(this,"onvalue",!1),this.state=this.stack.pop() || Ga.VALUE):$a(this,"Invalid false started with fals" + pa);continue;case Ga.NULL:if("" === pa)continue;"u" === pa?this.state=Ga.NULL2:$a(this,"Invalid null started with n" + pa);continue;case Ga.NULL2:if("" === pa)continue;"l" === pa?this.state=Ga.NULL3:$a(this,"Invalid null started with nu" + pa);continue;case Ga.NULL3:if("" === pa)continue;"l" === pa?(fb(this,"onvalue",null),this.state=this.stack.pop() || Ga.VALUE):$a(this,"Invalid null started with nul" + pa);continue;case Ga.NUMBER_DECIMAL_POINT:"." === pa?(this.numberNode+=pa,this.state=Ga.NUMBER_DIGIT):$a(this,"Leading zero not followed by .");continue;case Ga.NUMBER_DIGIT:-1 !== ("0123456789").indexOf(pa)?this.numberNode+=pa:"." === pa?(-1 !== this.numberNode.indexOf(".") && $a(this,"Invalid number has two dots"),this.numberNode+=pa):"e" === pa || "E" === pa?(-1 === this.numberNode.indexOf("e") && -1 === this.numberNode.indexOf("E") || $a(this,"Invalid number has two exponential"),this.numberNode+=pa):"+" === pa || "-" === pa?("e" !== ja && "E" !== ja && $a(this,"Invalid symbol in number"),this.numberNode+=pa):(this.numberNode && fb(this,"onvalue",parseFloat(this.numberNode)),this.numberNode="",this.index--,this.state=this.stack.pop() || Ga.VALUE);continue;default:$a(this,"Unknown state: " + this.state);}}if(this.position >= this.bufferCheckPosition){xa=Math.max(Xb.MAX_BUFFER_LENGTH,10);ja=pa=0;for(ca=ib.length;ja < ca;ja++){Y=this[ib[ja]].length;if(Y > xa)switch(ib[ja]){case "text":break;default:$a(this,"Max buffer length exceeded: " + ib[ja]);}pa=Math.max(pa,Y);}this.bufferCheckPosition=Xb.MAX_BUFFER_LENGTH - pa + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);}};})();(function(){var $a,kb,rb;function gb(ib,Ga){Ga || (Ga=ib.length);return ib.reduce(function(La,Pa,xa){return xa < Ga?La + String.fromCharCode(Pa):La;},"");}for(var fb={},db=0;256 > db;++db){$a=gb([db]);fb[$a]=db;}kb=Object.keys(fb).length;rb=[];for(db=0;256 > db;++db){rb[db]=[db];}ee=function(ib,Ga){var ba,ma;function La(ya,ua){var na;for(;0 < ua;){if(Y >= ca.length)return !1;if(ua > aa){na=ya;na>>>=ua - aa;ca[Y]|=na & 255;ua-=aa;aa=8;++Y;}else ua <= aa && (na=ya,na<<=aa - ua,na&=255,na>>>=8 - aa,ca[Y]|=na & 255,aa-=ua,ua=0,0 == aa && (aa=8,++Y));}return !0;}for(var Pa in fb){Ga[Pa]=fb[Pa];}for(var xa=kb,pa=[],ja=8,ca=new Uint8Array(ib.length),Y=0,aa=8,ea=0;ea < ib.length;++ea){ba=ib[ea];pa.push(ba);Pa=gb(pa);ma=Ga[Pa];if(!ma){pa=gb(pa,pa.length - 1);if(!La(Ga[pa],ja))return null;0 != xa >> ja && ++ja;Ga[Pa]=xa++;pa=[ba];}}return 0 < pa.length && (Pa=gb(pa),ma=Ga[Pa],!La(ma,ja))?null:ca.subarray(0,8 > aa?Y + 1:Y);};fe=function(ib){var ea,ba;for(var Ga=rb.slice(),La=0,Pa=0,xa=8,pa=new Uint8Array(Math.ceil(1.5 * ib.length)),ja=0,ca,Y=[];La < ib.length && !(8 * (ib.length - La) - Pa < xa);){for(var aa=ca=0;aa < xa;){ea=Math.min(xa - aa,8 - Pa);ba=ib[La];ba<<=Pa;ba&=255;ba>>>=8 - ea;aa+=ea;Pa+=ea;8 == Pa && (Pa=0,++La);ca|=(ba & 255) << xa - aa;}aa=Ga[ca];0 == Y.length?++xa:(aa?Y.push(aa[0]):Y.push(Y[0]),Ga[Ga.length]=Y,Y=[],Ga.length == 1 << xa && ++xa,aa || (aa=Ga[ca]));ca=ja + aa.length;ca >= pa.length && (ea=new Uint8Array(Math.ceil(1.5 * ca)),ea.set(pa),pa=ea);pa.set(aa,ja);ja=ca;Y=Y.concat(aa);}return pa.subarray(0,ja);};})();(function(){var gb,fb,db;Mb="utf-8";Kb=9007199254740992;gb=Ec={GZIP:"GZIP",LZW:"LZW"};Object.freeze(Ec);ge=function($a){for(var kb=[gb.GZIP,gb.LZW],rb=0;rb < kb.length && 0 < $a.length;++rb){for(var ib=kb[rb],Ga=0;Ga < $a.length;++Ga){if($a[Ga] == ib)return ib;}}return null;};fb=gd={AES_CBC_PKCS5Padding:"AES/CBC/PKCS5Padding",AESWrap:"AESWrap",RSA_ECB_PKCS1Padding:"RSA/ECB/PKCS1Padding"};Object.freeze(gd);he=function($a){return fb.AES_CBC_PKCS5Padding == $a?fb.AES_CBC_PKCS5Padding:fb.RSA_ECB_PKCS1Padding == $a?fb.RSA_ECB_PKCS1Padding:fb[$a];};db=ie={HmacSHA256:"HmacSHA256",SHA256withRSA:"SHA256withRSA"};Object.freeze(ie);zd=function($a){return db[$a];};Ia={FAIL:1,TRANSIENT_FAILURE:2,ENTITY_REAUTH:3,USER_REAUTH:4,KEYX_REQUIRED:5,ENTITYDATA_REAUTH:6,USERDATA_REAUTH:7,EXPIRED:8,REPLAYED:9,SSOTOKEN_REJECTED:10};Object.freeze(Ia);})();Cb={isObjectLiteral:function(gb){return null !== gb && "object" === typeof gb && gb.constructor === Object;},extendDeep:function(){var gb,fb,db,$a,kb,rb,ib,Ga;gb=arguments[0];fb=1;db=arguments.length;$a=!1;"boolean" === typeof gb && ($a=gb,gb=arguments[1],fb=2);for(;fb < db;fb++){if(null != (kb=arguments[fb]))for(rb in kb){if(!($a && (rb in gb))){ib=kb[rb];if(gb !== ib && ib !== Bb){Ga=gb[rb];gb[rb]=null !== Ga && null !== ib && "object" === typeof Ga && "object" === typeof ib?Cb.extendDeep($a,{},Ga,ib):ib;}}}}return gb;}};(function(){var ib,Ga;function gb(La,Pa){return function(){var xa,pa;xa=La.base;La.base=Pa;pa=La.apply(this,arguments);La.base=xa;return pa;};}function fb(La,Pa,xa){var pa,ja,ca,Y;xa=xa || Ga;ja=!!xa.extendAll;for(pa in Pa){ca=Pa.__lookupGetter__(pa);Y=Pa.__lookupSetter__(pa);ca || Y?(ca && La.__defineGetter__(pa,ca),Y && La.__defineSetter__(pa,Y)):(ca=Pa[pa],Y=La[pa],"function" === typeof ca && "function" === typeof Y && ca !== Y?(ca.base !== Function.prototype.base && (ca=gb(ca,Y)),ca.base=Y):(ja || xa[pa]) && Cb.isObjectLiteral(ca) && Cb.isObjectLiteral(Y) && (ca=Cb.extendDeep({},Y,ca)),La[pa]=ca);}}function db(){var La,Pa;La=Array.prototype.slice;Pa=La.call(arguments,1);return this.extend({init:function pa(){var ja;ja=La.call(arguments,0);pa.base.apply(this,Pa.concat(ja));}});}function $a(La,Pa){var xa;xa=new this(ib);fb(xa,La,Pa);return rb(xa);}function kb(La,Pa){fb(this.prototype,La,Pa);return this;}function rb(La){var Pa;Pa=function(){var xa;xa=this.init;xa && arguments[0] !== ib && xa.apply(this,arguments);};La && (Pa.prototype=La);Pa.prototype.constructor=Pa;Pa.extend=$a;Pa.bind=db;Pa.mixin=kb;return Pa;}ib={};Ga={actions:!0};Function.prototype.base=function(){};Cb.Class={create:rb,mixin:fb,extend:function(La,Pa){var xa;xa=rb();xa.prototype=new La();return xa.extend(Pa);}};Cb.mixin=function(){Cb.log && Cb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");fb.apply(null,arguments);};})();(function(){var ib,Ga,La;function gb(Pa,xa){return function(){var pa,ja;pa=Pa.base;Pa.base=xa;ja=Pa.apply(this,arguments);Pa.base=pa;return ja;};}function fb(Pa,xa,pa){var ja,ca,Y,aa;pa=pa || Ga;ca=!!pa.extendAll;for(ja in xa){Y=xa.__lookupGetter__(ja);aa=xa.__lookupSetter__(ja);Y || aa?(Y && Pa.__defineGetter__(ja,Y),aa && Pa.__defineSetter__(ja,aa)):(Y=xa[ja],aa=Pa[ja],"function" === typeof Y && "function" === typeof aa && Y !== aa?(Y.base !== La && (Y=gb(Y,aa)),Y.base=aa):(ca || pa[ja]) && Cb.isObjectLiteral(Y) && Cb.isObjectLiteral(aa) && (Y=Cb.extendDeep({},aa,Y)),Pa[ja]=Y);}}function db(){var Pa,xa;Pa=Array.prototype.slice;xa=Pa.call(arguments,1);return this.extend({init:function ja(){var ca;ca=Pa.call(arguments,0);ja.base.apply(this,xa.concat(ca));}});}function $a(Pa,xa){var pa;pa=new this(ib);fb(pa,Pa,xa);return rb(pa);}function kb(Pa,xa){fb(this.prototype,Pa,xa);return this;}function rb(Pa){var xa;xa=function(){var pa;pa=this.init;pa && arguments[0] !== ib && pa.apply(this,arguments);};Pa && (xa.prototype=Pa);xa.prototype.constructor=xa;xa.extend=$a;xa.bind=db;xa.mixin=kb;return xa;}ib={};Ga={actions:!0};La=function(){};Function.prototype.base=La;Cb.Class={create:rb,mixin:fb,extend:function(Pa,xa){var pa;pa=rb();pa.prototype=new Pa();return pa.extend(xa);}};Cb.mixin=function(){Cb.log && Cb.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");fb.apply(null,arguments);};})();(function(){function gb(db){return db == Kb?1:db + 1;}function fb(db){if(0 === Object.keys(db._waiters).length)return 0;for(var $a=gb(db._nextWaiter);!db._waiters[$a];){$a=gb($a);}return $a;}Tc=Cb.Class.create({init:function(){Object.defineProperties(this,{_queue:{value:[],writable:!1,enumerable:!1,configurable:!1},_waiters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(db){var $a;if(this._waiters[db]){$a=this._waiters[db];delete this._waiters[db];db == this._nextWaiter && (this._nextWaiter=fb(this));$a.call(this,Bb);}},cancelAll:function(){for(;0 !== this._nextWaiter;){this.cancel(this._nextWaiter);}},poll:function(db,$a){var kb,rb;kb=this;rb=gb(this._lastWaiter);this._lastWaiter=rb;bb($a,function(){var ib,Ga;if(0 < this._queue.length){ib=this._queue.shift();setTimeout(function(){$a.result(ib);},0);}else {-1 != db && (Ga=setTimeout(function(){delete kb._waiters[rb];rb == kb._nextWaiter && (kb._nextWaiter=fb(kb));$a.timeout();},db));this._waiters[rb]=function(La){clearTimeout(Ga);setTimeout(function(){$a.result(La);},0);};this._nextWaiter || (this._nextWaiter=rb);}},kb);return rb;},add:function(db){var $a;if(this._nextWaiter){$a=this._waiters[this._nextWaiter];delete this._waiters[this._nextWaiter];this._nextWaiter=fb(this);$a.call(this,db);}else this._queue.push(db);}});})();(function(){var gb;gb=0 - Kb;je=Cb.Class.create({nextBoolean:function(){var fb;fb=new Uint8Array(1);vc.getRandomValues(fb);return fb[0] & 1?!0:!1;},nextInt:function(fb){var db;if(null !== fb && fb !== Bb){if("number" !== typeof fb)throw new TypeError("n must be of type number");if(1 > fb)throw new RangeError("n must be greater than zero");--fb;db=new Uint8Array(4);vc.getRandomValues(db);return Math.floor(((db[3] & 127) << 24 | db[2] << 16 | db[1] << 8 | db[0]) / 2147483648 * (fb - 0 + 1));}fb=new Uint8Array(4);vc.getRandomValues(fb);db=(fb[3] & 127) << 24 | fb[2] << 16 | fb[1] << 8 | fb[0];return fb[3] & 128?-db:db;},nextLong:function(){var db;for(var fb=gb;fb == gb;){fb=new Uint8Array(7);vc.getRandomValues(fb);db=16777216 * ((fb[6] & 31) << 24 | fb[5] << 16 | fb[4] << 8 | fb[3]) + (fb[2] << 16 | fb[1] << 8 | fb[0]);fb=fb[6] & 128?-db - 1:db;}return fb;},nextBytes:function(fb){vc.getRandomValues(fb);}});})();(function(){function gb($a){return $a == Kb?1:$a + 1;}function fb($a){if(0 === Object.keys($a._waitingReaders).length)return 0;for(var kb=gb($a._nextReader);!$a._waitingReaders[kb];){kb=gb(kb);}return kb;}function db($a){if(0 === Object.keys($a._waitingWriters).length)return 0;for(var kb=gb($a._nextWriter);!$a._waitingWriters[kb];){kb=gb(kb);}return kb;}Ad=Cb.Class.create({init:function(){Object.defineProperties(this,{_readers:{value:{},writable:!1,enumerable:!1,configurable:!1},_waitingReaders:{value:{},writable:!1,enumerable:!1,configurable:!1},_writer:{value:null,writable:!0,enumerable:!1,configurable:!1},_waitingWriters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextReader:{value:0,writable:!0,enumerable:!1,configurable:!1},_nextWriter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastNumber:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function($a){var kb;if(this._waitingReaders[$a]){kb=this._waitingReaders[$a];delete this._waitingReaders[$a];$a == this._nextReader && (this._nextReader=fb(this));kb.call(this,!0);}this._waitingWriters[$a] && (kb=this._waitingWriters[$a],delete this._waitingWriters[$a],$a == this._nextWriter && (this._nextWriter=db(this)),kb.call(this,!0));},cancelAll:function(){for(;0 !== this._nextWriter;){this.cancel(this._nextWriter);}for(;0 !== this._nextReader;){this.cancel(this._nextReader);}},readLock:function($a,kb){var rb,ib;rb=this;ib=gb(this._lastNumber);this._lastNumber=ib;bb(kb,function(){var Ga;if(!this._writer && 0 === Object.keys(this._waitingWriters).length)return (this._readers[ib]=!0,ib);-1 != $a && (Ga=setTimeout(function(){delete rb._waitingReaders[ib];ib == rb._nextReader && (rb._nextReader=fb(rb));kb.timeout();},$a));this._waitingReaders[ib]=function(La){clearTimeout(Ga);La?setTimeout(function(){kb.result(Bb);},0):(rb._readers[ib]=!0,setTimeout(function(){kb.result(ib);},0));};this._nextReader || (this._nextReader=ib);},rb);return ib;},writeLock:function($a,kb){var rb,ib;rb=this;ib=gb(this._lastNumber);this._lastNumber=ib;bb(kb,function(){var Ga;if(0 === Object.keys(this._readers).length && 0 === Object.keys(this._waitingReaders).length && !this._writer)return this._writer=ib;-1 != $a && (Ga=setTimeout(function(){delete rb._waitingWriters[ib];ib == rb._nextWriter && (rb._nextWriter=db(rb));kb.timeout();},$a));this._waitingWriters[ib]=function(La){clearTimeout(Ga);La?setTimeout(function(){kb.result(Bb);},0):(rb._writer=ib,setTimeout(function(){kb.result(ib);},0));};this._nextWriter || (this._nextWriter=ib);},rb);return ib;},unlock:function($a){if($a == this._writer)this._writer=null;else {if(!this._readers[$a])throw new vb("There is no reader or writer with ticket number " + $a + ".");delete this._readers[$a];}if(this._nextWriter)0 < Object.keys(this._readers).length || ($a=this._waitingWriters[this._nextWriter],delete this._waitingWriters[this._nextWriter],this._nextWriter=db(this),$a.call(this,!1));else {for(var kb=this._nextReader;0 < Object.keys(this._waitingReaders).length;kb=gb(kb)){this._waitingReaders[kb] && ($a=this._waitingReaders[kb],delete this._waitingReaders[kb],$a.call(this,!1));}this._nextReader=0;}}});})();Cb.Class.mixin(X,{JSON_PARSE_ERROR:new X(0,Ia.FAIL,"Error parsing JSON."),JSON_ENCODE_ERROR:new X(1,Ia.FAIL,"Error encoding JSON."),ENVELOPE_HASH_MISMATCH:new X(2,Ia.FAIL,"Computed hash does not match envelope hash."),INVALID_PUBLIC_KEY:new X(3,Ia.FAIL,"Invalid public key provided."),INVALID_PRIVATE_KEY:new X(4,Ia.FAIL,"Invalid private key provided."),PLAINTEXT_ILLEGAL_BLOCK_SIZE:new X(5,Ia.FAIL,"Plaintext is not a multiple of the block size."),PLAINTEXT_BAD_PADDING:new X(6,Ia.FAIL,"Plaintext contains incorrect padding."),CIPHERTEXT_ILLEGAL_BLOCK_SIZE:new X(7,Ia.FAIL,"Ciphertext is not a multiple of the block size."),CIPHERTEXT_BAD_PADDING:new X(8,Ia.FAIL,"Ciphertext contains incorrect padding."),ENCRYPT_NOT_SUPPORTED:new X(9,Ia.FAIL,"Encryption not supported."),DECRYPT_NOT_SUPPORTED:new X(10,Ia.FAIL,"Decryption not supported."),ENVELOPE_KEY_ID_MISMATCH:new X(11,Ia.FAIL,"Encryption envelope key ID does not match crypto context key ID."),CIPHERTEXT_ENVELOPE_PARSE_ERROR:new X(12,Ia.FAIL,"Error parsing ciphertext envelope."),CIPHERTEXT_ENVELOPE_ENCODE_ERROR:new X(13,Ia.FAIL,"Error encoding ciphertext envelope."),SIGN_NOT_SUPPORTED:new X(14,Ia.FAIL,"Sign not supported."),VERIFY_NOT_SUPPORTED:new X(15,Ia.FAIL,"Verify not suppoprted."),SIGNATURE_ERROR:new X(16,Ia.FAIL,"Signature not initialized or unable to process data/signature."),HMAC_ERROR:new X(17,Ia.FAIL,"Error computing HMAC."),ENCRYPT_ERROR:new X(18,Ia.FAIL,"Error encrypting plaintext."),DECRYPT_ERROR:new X(19,Ia.FAIL,"Error decrypting ciphertext."),INSUFFICIENT_CIPHERTEXT:new X(20,Ia.FAIL,"Insufficient ciphertext for decryption."),SESSION_KEY_CREATION_FAILURE:new X(21,Ia.FAIL,"Error when creating session keys."),ASN1_PARSE_ERROR:new X(22,Ia.FAIL,"Error parsing ASN.1."),ASN1_ENCODE_ERROR:new X(23,Ia.FAIL,"Error encoding ASN.1."),INVALID_SYMMETRIC_KEY:new X(24,Ia.FAIL,"Invalid symmetric key provided."),INVALID_ENCRYPTION_KEY:new X(25,Ia.FAIL,"Invalid encryption key."),INVALID_HMAC_KEY:new X(26,Ia.FAIL,"Invalid HMAC key."),WRAP_NOT_SUPPORTED:new X(27,Ia.FAIL,"Wrap not supported."),UNWRAP_NOT_SUPPORTED:new X(28,Ia.FAIL,"Unwrap not supported."),UNIDENTIFIED_JWK_TYPE:new X(29,Ia.FAIL,"Unidentified JSON web key type."),UNIDENTIFIED_JWK_USAGE:new X(30,Ia.FAIL,"Unidentified JSON web key usage."),UNIDENTIFIED_JWK_ALGORITHM:new X(31,Ia.FAIL,"Unidentified JSON web key algorithm."),WRAP_ERROR:new X(32,Ia.FAIL,"Error wrapping plaintext."),UNWRAP_ERROR:new X(33,Ia.FAIL,"Error unwrapping ciphertext."),INVALID_JWK:new X(34,Ia.FAIL,"Invalid JSON web key."),INVALID_JWK_KEYDATA:new X(35,Ia.FAIL,"Invalid JSON web key keydata."),UNSUPPORTED_JWK_ALGORITHM:new X(36,Ia.FAIL,"Unsupported JSON web key algorithm."),WRAP_KEY_CREATION_FAILURE:new X(37,Ia.FAIL,"Error when creating wrapping key."),INVALID_WRAP_CIPHERTEXT:new X(38,Ia.FAIL,"Invalid wrap ciphertext."),UNSUPPORTED_JWE_ALGORITHM:new X(39,Ia.FAIL,"Unsupported JSON web encryption algorithm."),JWE_ENCODE_ERROR:new X(40,Ia.FAIL,"Error encoding JSON web encryption header."),JWE_PARSE_ERROR:new X(41,Ia.FAIL,"Error parsing JSON web encryption header."),INVALID_ALGORITHM_PARAMS:new X(42,Ia.FAIL,"Invalid algorithm parameters."),JWE_ALGORITHM_MISMATCH:new X(43,Ia.FAIL,"JSON web encryption header algorithms mismatch."),KEY_IMPORT_ERROR:new X(44,Ia.FAIL,"Error importing key."),KEY_EXPORT_ERROR:new X(45,Ia.FAIL,"Error exporting key."),DIGEST_ERROR:new X(46,Ia.FAIL,"Error in digest."),UNSUPPORTED_KEY:new X(47,Ia.FAIL,"Unsupported key type or algorithm."),UNSUPPORTED_JWE_SERIALIZATION:new X(48,Ia.FAIL,"Unsupported JSON web encryption serialization."),XML_PARSE_ERROR:new X(49,Ia.FAIL,"Error parsing XML."),XML_ENCODE_ERROR:new X(50,Ia.FAIL,"Error encoding XML."),INVALID_WRAPPING_KEY:new X(51,Ia.FAIL,"Invalid wrapping key."),UNIDENTIFIED_CIPHERTEXT_ENVELOPE:new X(52,Ia.FAIL,"Unidentified ciphertext envelope version."),UNIDENTIFIED_SIGNATURE_ENVELOPE:new X(53,Ia.FAIL,"Unidentified signature envelope version."),UNSUPPORTED_CIPHERTEXT_ENVELOPE:new X(54,Ia.FAIL,"Unsupported ciphertext envelope version."),UNSUPPORTED_SIGNATURE_ENVELOPE:new X(55,Ia.FAIL,"Unsupported signature envelope version."),UNIDENTIFIED_CIPHERSPEC:new X(56,Ia.FAIL,"Unidentified cipher specification."),UNIDENTIFIED_ALGORITHM:new X(57,Ia.FAIL,"Unidentified algorithm."),SIGNATURE_ENVELOPE_PARSE_ERROR:new X(58,Ia.FAIL,"Error parsing signature envelope."),SIGNATURE_ENVELOPE_ENCODE_ERROR:new X(59,Ia.FAIL,"Error encoding signature envelope."),INVALID_SIGNATURE:new X(60,Ia.FAIL,"Invalid signature."),WRAPKEY_FINGERPRINT_NOTSUPPORTED:new X(61,Ia.FAIL,"Wrap key fingerprint not supported"),UNIDENTIFIED_JWK_KEYOP:new X(62,Ia.FAIL,"Unidentified JSON web key key operation."),MASTERTOKEN_UNTRUSTED:new X(1E3,Ia.ENTITY_REAUTH,"Master token is not trusted."),MASTERTOKEN_KEY_CREATION_ERROR:new X(1001,Ia.ENTITY_REAUTH,"Unable to construct symmetric keys from master token."),MASTERTOKEN_EXPIRES_BEFORE_RENEWAL:new X(1002,Ia.ENTITY_REAUTH,"Master token expiration timestamp is before the renewal window opens."),MASTERTOKEN_SESSIONDATA_MISSING:new X(1003,Ia.ENTITY_REAUTH,"No master token session data found."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE:new X(1004,Ia.ENTITY_REAUTH,"Master token sequence number is out of range."),MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new X(1005,Ia.ENTITY_REAUTH,"Master token serial number is out of range."),MASTERTOKEN_TOKENDATA_INVALID:new X(1006,Ia.ENTITY_REAUTH,"Invalid master token data."),MASTERTOKEN_SIGNATURE_INVALID:new X(1007,Ia.ENTITY_REAUTH,"Invalid master token signature."),MASTERTOKEN_SESSIONDATA_INVALID:new X(1008,Ia.ENTITY_REAUTH,"Invalid master token session data."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_SYNC:new X(1009,Ia.ENTITY_REAUTH,"Master token sequence number does not have the expected value."),MASTERTOKEN_TOKENDATA_MISSING:new X(1010,Ia.ENTITY_REAUTH,"No master token data found."),MASTERTOKEN_TOKENDATA_PARSE_ERROR:new X(1011,Ia.ENTITY_REAUTH,"Error parsing master token data."),MASTERTOKEN_SESSIONDATA_PARSE_ERROR:new X(1012,Ia.ENTITY_REAUTH,"Error parsing master token session data."),MASTERTOKEN_IDENTITY_REVOKED:new X(1013,Ia.ENTITY_REAUTH,"Master token entity identity is revoked."),MASTERTOKEN_REJECTED_BY_APP:new X(1014,Ia.ENTITY_REAUTH,"Master token is rejected by the application."),USERIDTOKEN_MASTERTOKEN_MISMATCH:new X(2E3,Ia.USER_REAUTH,"User ID token master token serial number does not match master token serial number."),USERIDTOKEN_NOT_DECRYPTED:new X(2001,Ia.USER_REAUTH,"User ID token is not decrypted or verified."),USERIDTOKEN_MASTERTOKEN_NULL:new X(2002,Ia.USER_REAUTH,"User ID token requires a master token."),USERIDTOKEN_EXPIRES_BEFORE_RENEWAL:new X(2003,Ia.USER_REAUTH,"User ID token expiration timestamp is before the renewal window opens."),USERIDTOKEN_USERDATA_MISSING:new X(2004,Ia.USER_REAUTH,"No user ID token user data found."),USERIDTOKEN_MASTERTOKEN_NOT_FOUND:new X(2005,Ia.USER_REAUTH,"User ID token is bound to an unknown master token."),USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new X(2006,Ia.USER_REAUTH,"User ID token master token serial number is out of range."),USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new X(2007,Ia.USER_REAUTH,"User ID token serial number is out of range."),USERIDTOKEN_TOKENDATA_INVALID:new X(2008,Ia.USER_REAUTH,"Invalid user ID token data."),USERIDTOKEN_SIGNATURE_INVALID:new X(2009,Ia.USER_REAUTH,"Invalid user ID token signature."),USERIDTOKEN_USERDATA_INVALID:new X(2010,Ia.USER_REAUTH,"Invalid user ID token user data."),USERIDTOKEN_IDENTITY_INVALID:new X(2011,Ia.USER_REAUTH,"Invalid user ID token user identity."),RESERVED_2012:new X(2012,Ia.USER_REAUTH,"The entity is not associated with the user."),USERIDTOKEN_IDENTITY_NOT_FOUND:new X(2013,Ia.USER_REAUTH,"The user identity was not found."),USERIDTOKEN_PASSWORD_VERSION_CHANGED:new X(2014,Ia.USER_REAUTH,"The user identity must be reauthenticated because the password version changed."),USERIDTOKEN_USERAUTH_DATA_MISMATCH:new X(2015,Ia.USER_REAUTH,"The user ID token and user authentication data user identities do not match."),USERIDTOKEN_TOKENDATA_MISSING:new X(2016,Ia.USER_REAUTH,"No user ID token data found."),USERIDTOKEN_TOKENDATA_PARSE_ERROR:new X(2017,Ia.USER_REAUTH,"Error parsing user ID token data."),USERIDTOKEN_USERDATA_PARSE_ERROR:new X(2018,Ia.USER_REAUTH,"Error parsing user ID token user data."),USERIDTOKEN_REVOKED:new X(2019,Ia.USER_REAUTH,"User ID token is revoked."),USERIDTOKEN_REJECTED_BY_APP:new X(2020,Ia.USER_REAUTH,"User ID token is rejected by the application."),SERVICETOKEN_MASTERTOKEN_MISMATCH:new X(3E3,Ia.FAIL,"Service token master token serial number does not match master token serial number."),SERVICETOKEN_USERIDTOKEN_MISMATCH:new X(3001,Ia.FAIL,"Service token user ID token serial number does not match user ID token serial number."),SERVICETOKEN_SERVICEDATA_INVALID:new X(3002,Ia.FAIL,"Service token data invalid."),SERVICETOKEN_MASTERTOKEN_NOT_FOUND:new X(3003,Ia.FAIL,"Service token is bound to an unknown master token."),SERVICETOKEN_USERIDTOKEN_NOT_FOUND:new X(3004,Ia.FAIL,"Service token is bound to an unknown user ID token."),SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new X(3005,Ia.FAIL,"Service token master token serial number is out of range."),SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new X(3006,Ia.FAIL,"Service token user ID token serial number is out of range."),SERVICETOKEN_TOKENDATA_INVALID:new X(3007,Ia.FAIL,"Invalid service token data."),SERVICETOKEN_SIGNATURE_INVALID:new X(3008,Ia.FAIL,"Invalid service token signature."),SERVICETOKEN_TOKENDATA_MISSING:new X(3009,Ia.FAIL,"No service token data found."),UNIDENTIFIED_ENTITYAUTH_SCHEME:new X(4E3,Ia.FAIL,"Unable to identify entity authentication scheme."),ENTITYAUTH_FACTORY_NOT_FOUND:new X(4001,Ia.FAIL,"No factory registered for entity authentication scheme."),X509CERT_PARSE_ERROR:new X(4002,Ia.ENTITYDATA_REAUTH,"Error parsing X.509 certificate data."),X509CERT_ENCODE_ERROR:new X(4003,Ia.ENTITYDATA_REAUTH,"Error encoding X.509 certificate data."),X509CERT_VERIFICATION_FAILED:new X(4004,Ia.ENTITYDATA_REAUTH,"X.509 certificate verification failed."),ENTITY_NOT_FOUND:new X(4005,Ia.FAIL,"Entity not recognized."),INCORRECT_ENTITYAUTH_DATA:new X(4006,Ia.FAIL,"Entity used incorrect entity authentication data type."),RSA_PUBLICKEY_NOT_FOUND:new X(4007,Ia.ENTITYDATA_REAUTH,"RSA public key not found."),NPTICKET_GRACE_PERIOD_EXCEEDED:new X(4008,Ia.ENTITYDATA_REAUTH,"Fake NP-Tickets cannot be used after the grace period when the Playstation Network is up."),NPTICKET_SERVICE_ID_MISSING:new X(4009,Ia.ENTITYDATA_REAUTH,"NP-Ticket service ID is missing."),NPTICKET_SERVICE_ID_DISALLOWED:new X(4010,Ia.ENTITYDATA_REAUTH,"NP-Ticket service ID is not allowed."),NPTICKET_NOT_YET_VALID:new X(4011,Ia.ENTITYDATA_REAUTH,"NP-Ticket issuance date is in the future."),NPTICKET_EXPIRED:new X(4012,Ia.ENTITYDATA_REAUTH,"NP-Ticket has expired."),NPTICKET_PRIVATE_KEY_NOT_FOUND:new X(4013,Ia.ENTITYDATA_REAUTH,"No private key found for NP-Ticket GUID."),NPTICKET_COOKIE_VERIFICATION_FAILED:new X(4014,Ia.ENTITYDATA_REAUTH,"NP-Ticket cookie signature verification failed."),NPTICKET_INCORRECT_COOKIE_VERSION:new X(4015,Ia.ENTITYDATA_REAUTH,"Incorrect NP-Ticket cookie version."),NPTICKET_BROKEN:new X(4016,Ia.ENTITYDATA_REAUTH,"NP-Ticket broken."),NPTICKET_VERIFICATION_FAILED:new X(4017,Ia.ENTITYDATA_REAUTH,"NP-Ticket signature verification failed."),NPTICKET_ERROR:new X(4018,Ia.ENTITYDATA_REAUTH,"Unknown NP-Ticket TCM error."),NPTICKET_CIPHER_INFO_NOT_FOUND:new X(4019,Ia.ENTITYDATA_REAUTH,"No cipher information found for NP-Ticket."),NPTICKET_INVALID_CIPHER_INFO:new X(4020,Ia.ENTITYDATA_REAUTH,"Cipher information for NP-Ticket is invalid."),NPTICKET_UNSUPPORTED_VERSION:new X(4021,Ia.ENTITYDATA_REAUTH,"Unsupported NP-Ticket version."),NPTICKET_INCORRECT_KEY_LENGTH:new X(4022,Ia.ENTITYDATA_REAUTH,"Incorrect NP-Ticket public key length."),UNSUPPORTED_ENTITYAUTH_DATA:new X(4023,Ia.FAIL,"Unsupported entity authentication data."),CRYPTEX_RSA_KEY_SET_NOT_FOUND:new X(4024,Ia.FAIL,"Cryptex RSA key set not found."),ENTITY_REVOKED:new X(4025,Ia.FAIL,"Entity is revoked."),ENTITY_REJECTED_BY_APP:new X(4026,Ia.ENTITYDATA_REAUTH,"Entity is rejected by the application."),FORCE_LOGIN:new X(5E3,Ia.USERDATA_REAUTH,"User must login again."),NETFLIXID_COOKIES_EXPIRED:new X(5001,Ia.USERDATA_REAUTH,"Netflix ID cookie identity has expired."),NETFLIXID_COOKIES_BLANK:new X(5002,Ia.USERDATA_REAUTH,"Netflix ID or Secure Netflix ID cookie is blank."),UNIDENTIFIED_USERAUTH_SCHEME:new X(5003,Ia.FAIL,"Unable to identify user authentication scheme."),USERAUTH_FACTORY_NOT_FOUND:new X(5004,Ia.FAIL,"No factory registered for user authentication scheme."),EMAILPASSWORD_BLANK:new X(5005,Ia.USERDATA_REAUTH,"Email or password is blank."),AUTHMGR_COMMS_FAILURE:new X(5006,Ia.TRANSIENT_FAILURE,"Error communicating with authentication manager."),EMAILPASSWORD_INCORRECT:new X(5007,Ia.USERDATA_REAUTH,"Email or password is incorrect."),UNSUPPORTED_USERAUTH_DATA:new X(5008,Ia.FAIL,"Unsupported user authentication data."),SSOTOKEN_BLANK:new X(5009,Ia.SSOTOKEN_REJECTED,"SSO token is blank."),SSOTOKEN_NOT_ASSOCIATED:new X(5010,Ia.USERDATA_REAUTH,"SSO token is not associated with a Netflix user."),USERAUTH_USERIDTOKEN_INVALID:new X(5011,Ia.USERDATA_REAUTH,"User authentication data user ID token is invalid."),PROFILEID_BLANK:new X(5012,Ia.USERDATA_REAUTH,"Profile ID is blank."),UNIDENTIFIED_USERAUTH_MECHANISM:new X(5013,Ia.FAIL,"Unable to identify user authentication mechanism."),UNSUPPORTED_USERAUTH_MECHANISM:new X(5014,Ia.FAIL,"Unsupported user authentication mechanism."),SSOTOKEN_INVALID:new X(5015,Ia.SSOTOKEN_REJECTED,"SSO token invalid."),USERAUTH_MASTERTOKEN_MISSING:new X(5016,Ia.USERDATA_REAUTH,"User authentication required master token is missing."),ACCTMGR_COMMS_FAILURE:new X(5017,Ia.TRANSIENT_FAILURE,"Error communicating with the account manager."),SSO_ASSOCIATION_FAILURE:new X(5018,Ia.TRANSIENT_FAILURE,"SSO user association failed."),SSO_DISASSOCIATION_FAILURE:new X(5019,Ia.TRANSIENT_FAILURE,"SSO user disassociation failed."),MDX_USERAUTH_VERIFICATION_FAILED:new X(5020,Ia.USERDATA_REAUTH,"MDX user authentication data verification failed."),USERAUTH_USERIDTOKEN_NOT_DECRYPTED:new X(5021,Ia.USERDATA_REAUTH,"User authentication data user ID token is not decrypted or verified."),MDX_USERAUTH_ACTION_INVALID:new X(5022,Ia.USERDATA_REAUTH,"MDX user authentication data action is invalid."),CTICKET_DECRYPT_ERROR:new X(5023,Ia.USERDATA_REAUTH,"CTicket decryption failed."),USERAUTH_MASTERTOKEN_INVALID:new X(5024,Ia.USERDATA_REAUTH,"User authentication data master token is invalid."),USERAUTH_MASTERTOKEN_NOT_DECRYPTED:new X(5025,Ia.USERDATA_REAUTH,"User authentication data master token is not decrypted or verified."),CTICKET_CRYPTOCONTEXT_ERROR:new X(5026,Ia.USERDATA_REAUTH,"Error creating CTicket crypto context."),MDX_PIN_BLANK:new X(5027,Ia.USERDATA_REAUTH,"MDX controller or target PIN is blank."),MDX_PIN_MISMATCH:new X(5028,Ia.USERDATA_REAUTH,"MDX controller and target PIN mismatch."),MDX_USER_UNKNOWN:new X(5029,Ia.USERDATA_REAUTH,"MDX controller user ID token or CTicket is not decrypted or verified."),USERAUTH_USERIDTOKEN_MISSING:new X(5030,Ia.USERDATA_REAUTH,"User authentication required user ID token is missing."),MDX_CONTROLLERDATA_INVALID:new X(5031,Ia.USERDATA_REAUTH,"MDX controller authentication data is invalid."),USERAUTH_ENTITY_MISMATCH:new X(5032,Ia.USERDATA_REAUTH,"User authentication data does not match entity identity."),USERAUTH_INCORRECT_DATA:new X(5033,Ia.FAIL,"Entity used incorrect key request data type"),SSO_ASSOCIATION_WITH_NONMEMBER:new X(5034,Ia.USERDATA_REAUTH,"SSO user association failed because the customer is not a member."),SSO_ASSOCIATION_WITH_FORMERMEMBER:new X(5035,Ia.USERDATA_REAUTH,"SSO user association failed because the customer is a former member."),SSO_ASSOCIATION_CONFLICT:new X(5036,Ia.USERDATA_REAUTH,"SSO user association failed because the token identifies a different member."),USER_REJECTED_BY_APP:new X(5037,Ia.USERDATA_REAUTH,"User is rejected by the application."),PROFILE_SWITCH_DISALLOWED:new X(5038,Ia.TRANSIENT_FAILURE,"Unable to switch user profile."),MEMBERSHIPCLIENT_COMMS_FAILURE:new X(5039,Ia.TRANSIENT_FAILURE,"Error communicating with the membership manager."),USERIDTOKEN_IDENTITY_NOT_ASSOCIATED_WITH_ENTITY:new X(5040,Ia.USER_REAUTH,"The entity is not associated with the user."),UNSUPPORTED_COMPRESSION:new X(6E3,Ia.FAIL,"Unsupported compression algorithm."),COMPRESSION_ERROR:new X(6001,Ia.FAIL,"Error compressing data."),UNCOMPRESSION_ERROR:new X(6002,Ia.FAIL,"Error uncompressing data."),MESSAGE_ENTITY_NOT_FOUND:new X(6003,Ia.FAIL,"Message header entity authentication data or master token not found."),PAYLOAD_MESSAGE_ID_MISMATCH:new X(6004,Ia.FAIL,"Payload chunk message ID does not match header message ID ."),PAYLOAD_SEQUENCE_NUMBER_MISMATCH:new X(6005,Ia.FAIL,"Payload chunk sequence number does not match expected sequence number."),PAYLOAD_VERIFICATION_FAILED:new X(6006,Ia.FAIL,"Payload chunk payload signature verification failed."),MESSAGE_DATA_MISSING:new X(6007,Ia.FAIL,"No message data found."),MESSAGE_FORMAT_ERROR:new X(6008,Ia.FAIL,"Malformed message data."),MESSAGE_VERIFICATION_FAILED:new X(6009,Ia.FAIL,"Message header/error data signature verification failed."),HEADER_DATA_MISSING:new X(6010,Ia.FAIL,"No header data found."),PAYLOAD_DATA_MISSING:new X(6011,Ia.FAIL,"No payload data found in non-EOM payload chunk."),PAYLOAD_DATA_CORRUPT:new X(6012,Ia.FAIL,"Corrupt payload data found in non-EOM payload chunk."),UNIDENTIFIED_COMPRESSION:new X(6013,Ia.FAIL,"Unidentified compression algorithm."),MESSAGE_EXPIRED:new X(6014,Ia.EXPIRED,"Message expired and not renewable. Rejected."),MESSAGE_ID_OUT_OF_RANGE:new X(6015,Ia.FAIL,"Message ID is out of range."),INTERNAL_CODE_NEGATIVE:new X(6016,Ia.FAIL,"Error header internal code is negative."),UNEXPECTED_RESPONSE_MESSAGE_ID:new X(6017,Ia.FAIL,"Unexpected response message ID. Possible replay."),RESPONSE_REQUIRES_ENCRYPTION:new X(6018,Ia.KEYX_REQUIRED,"Message response requires encryption."),PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE:new X(6019,Ia.FAIL,"Payload chunk sequence number is out of range."),PAYLOAD_MESSAGE_ID_OUT_OF_RANGE:new X(6020,Ia.FAIL,"Payload chunk message ID is out of range."),MESSAGE_REPLAYED:new X(6021,Ia.REPLAYED,"Non-replayable message replayed."),INCOMPLETE_NONREPLAYABLE_MESSAGE:new X(6022,Ia.FAIL,"Non-replayable message sent non-renewable or without key request data or without a master token."),HEADER_SIGNATURE_INVALID:new X(6023,Ia.FAIL,"Invalid Header signature."),HEADER_DATA_INVALID:new X(6024,Ia.FAIL,"Invalid header data."),PAYLOAD_INVALID:new X(6025,Ia.FAIL,"Invalid payload."),PAYLOAD_SIGNATURE_INVALID:new X(6026,Ia.FAIL,"Invalid payload signature."),RESPONSE_REQUIRES_MASTERTOKEN:new X(6027,Ia.KEYX_REQUIRED,"Message response requires a master token."),RESPONSE_REQUIRES_USERIDTOKEN:new X(6028,Ia.USER_REAUTH,"Message response requires a user ID token."),REQUEST_REQUIRES_USERAUTHDATA:new X(6029,Ia.FAIL,"User-associated message requires user authentication data."),UNEXPECTED_MESSAGE_SENDER:new X(6030,Ia.FAIL,"Message sender is equal to the local entity or not the master token entity."),NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN:new X(6031,Ia.FAIL,"Non-replayable message requires a master token."),NONREPLAYABLE_ID_OUT_OF_RANGE:new X(6032,Ia.FAIL,"Non-replayable message non-replayable ID is out of range."),MESSAGE_SERVICETOKEN_MISMATCH:new X(6033,Ia.FAIL,"Service token master token or user ID token serial number does not match the message token serial numbers."),MESSAGE_PEER_SERVICETOKEN_MISMATCH:new X(6034,Ia.FAIL,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers."),RESPONSE_REQUIRES_INTEGRITY_PROTECTION:new X(6035,Ia.KEYX_REQUIRED,"Message response requires integrity protection."),HANDSHAKE_DATA_MISSING:new X(6036,Ia.FAIL,"Handshake message is not renewable or does not contain key request data."),MESSAGE_RECIPIENT_MISMATCH:new X(6037,Ia.FAIL,"Message recipient does not match local identity."),UNIDENTIFIED_KEYX_SCHEME:new X(7E3,Ia.FAIL,"Unable to identify key exchange scheme."),KEYX_FACTORY_NOT_FOUND:new X(7001,Ia.FAIL,"No factory registered for key exchange scheme."),KEYX_REQUEST_NOT_FOUND:new X(7002,Ia.FAIL,"No key request found matching header key response data."),UNIDENTIFIED_KEYX_KEY_ID:new X(7003,Ia.FAIL,"Unable to identify key exchange key ID."),UNSUPPORTED_KEYX_KEY_ID:new X(7004,Ia.FAIL,"Unsupported key exchange key ID."),UNIDENTIFIED_KEYX_MECHANISM:new X(7005,Ia.FAIL,"Unable to identify key exchange mechanism."),UNSUPPORTED_KEYX_MECHANISM:new X(7006,Ia.FAIL,"Unsupported key exchange mechanism."),KEYX_RESPONSE_REQUEST_MISMATCH:new X(7007,Ia.FAIL,"Key exchange response does not match request."),KEYX_PRIVATE_KEY_MISSING:new X(7008,Ia.FAIL,"Key exchange private key missing."),UNKNOWN_KEYX_PARAMETERS_ID:new X(7009,Ia.FAIL,"Key exchange parameters ID unknown or invalid."),KEYX_MASTER_TOKEN_MISSING:new X(7010,Ia.FAIL,"Master token required for key exchange is missing."),KEYX_INVALID_PUBLIC_KEY:new X(7011,Ia.FAIL,"Key exchange public key is invalid."),KEYX_PUBLIC_KEY_MISSING:new X(7012,Ia.FAIL,"Key exchange public key missing."),KEYX_WRAPPING_KEY_MISSING:new X(7013,Ia.FAIL,"Key exchange wrapping key missing."),KEYX_WRAPPING_KEY_ID_MISSING:new X(7014,Ia.FAIL,"Key exchange wrapping key ID missing."),KEYX_INVALID_WRAPPING_KEY:new X(7015,Ia.FAIL,"Key exchange wrapping key is invalid."),KEYX_INCORRECT_DATA:new X(7016,Ia.FAIL,"Entity used incorrect wrapping key data type"),CRYPTEX_ENCRYPTION_ERROR:new X(8E3,Ia.FAIL,"Error encrypting data with cryptex."),CRYPTEX_DECRYPTION_ERROR:new X(8001,Ia.FAIL,"Error decrypting data with cryptex."),CRYPTEX_MAC_ERROR:new X(8002,Ia.FAIL,"Error computing MAC with cryptex."),CRYPTEX_VERIFY_ERROR:new X(8003,Ia.FAIL,"Error verifying MAC with cryptex."),CRYPTEX_CONTEXT_CREATION_FAILURE:new X(8004,Ia.FAIL,"Error creating cryptex cipher or MAC context."),DATAMODEL_DEVICE_ACCESS_ERROR:new X(8005,Ia.TRANSIENT_FAILURE,"Error accessing data model device."),DATAMODEL_DEVICETYPE_NOT_FOUND:new X(8006,Ia.FAIL,"Data model device type not found."),CRYPTEX_KEYSET_UNSUPPORTED:new X(8007,Ia.FAIL,"Cryptex key set not supported."),CRYPTEX_PRIVILEGE_EXCEPTION:new X(8008,Ia.FAIL,"Insufficient privileges for cryptex operation."),CRYPTEX_WRAP_ERROR:new X(8009,Ia.FAIL,"Error wrapping data with cryptex."),CRYPTEX_UNWRAP_ERROR:new X(8010,Ia.FAIL,"Error unwrapping data with cryptex."),CRYPTEX_COMMS_FAILURE:new X(8011,Ia.TRANSIENT_FAILURE,"Error comunicating with cryptex."),CRYPTEX_SIGN_ERROR:new X(8012,Ia.FAIL,"Error computing signature with cryptex."),INTERNAL_EXCEPTION:new X(9E3,Ia.TRANSIENT_FAILURE,"Internal exception."),MSL_COMMS_FAILURE:new X(9001,Ia.FAIL,"Error communicating with MSL entity."),NONE:new X(9999,Ia.FAIL,"Special unit test error.")});Object.freeze(X);(function(){eb=Cb.Class.create(Error());eb.mixin({init:function(gb,fb,db){var kb,rb,ib;function $a(){return rb?rb:this.cause && this.cause instanceof eb?this.cause.messageId:Bb;}Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);kb=gb.message;fb && (kb+=" [" + fb + "]");ib=this.stack;Object.defineProperties(this,{message:{value:kb,writable:!1,configurable:!0},error:{value:gb,writable:!1,configurable:!0},cause:{value:db,writable:!1,configurable:!0},name:{value:"MslException",writable:!1,configurable:!0},masterToken:{value:null,writable:!0,configurable:!1},entityAuthenticationData:{value:null,writable:!0,configurable:!1},userIdToken:{value:null,writable:!0,configurable:!1},userAuthenticationData:{value:null,writable:!0,configurable:!1},messageId:{get:$a,set:function(Ga){if(0 > Ga || Ga > Kb)throw new RangeError("Message ID " + Ga + " is outside the valid range.");$a() || (rb=Ga);},configurable:!0},stack:{get:function(){var Ga;Ga=this.toString();ib && (Ga+="\n" + ib);db && db.stack && (Ga+="\nCaused by " + db.stack);return Ga;},configurable:!0}});},setEntity:function(gb){!gb || this.masterToken || this.entityAuthenticationData || (gb instanceof ec?this.masterToken=gb:gb instanceof Fc && (this.entityAuthenticationData=gb));return this;},setUser:function(gb){!gb || this.userIdToken || this.userAuthenticationData || (gb instanceof Nc?this.userIdToken=gb:gb instanceof Uc && (this.userAuthenticationData=gb));return this;},setMessageId:function(gb){this.messageId=gb;return this;},toString:function(){return this.name + ": " + this.message;}});})();ub=eb.extend({init:function kb(fb,db,$a){kb.base.call(this,fb,db,$a);Object.defineProperties(this,{name:{value:"MslCryptoException",writable:!1,configurable:!0}});}});Db=eb.extend({init:function rb(db,$a,kb){rb.base.call(this,db,$a,kb);Object.defineProperties(this,{name:{value:"MslEncodingException",writable:!1,configurable:!0}});}});mc=eb.extend({init:function ib($a,kb,rb){ib.base.call(this,$a,kb,rb);Object.defineProperties(this,{name:{value:"MslEntityAuthException",writable:!1,configurable:!0}});}});(function(){fc=Cb.Class.create(Error());fc.mixin({init:function($a,kb,rb){var ib;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);ib=this.stack;Object.defineProperties(this,{message:{value:$a,writable:!1,configurable:!1},cause:{value:kb,writable:!1,configurable:!1},requestCause:{value:rb,writable:!1,configurable:!1},name:{value:"MslErrorResponseException",writable:!1,configurable:!0},stack:{get:function(){var Ga;Ga=this.toString();ib && (Ga+="\n" + ib);kb && kb.stack && (Ga+="\nCaused by " + kb.stack);return Ga;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){Ub=Cb.Class.create(Error());Ub.mixin({init:function($a,kb){var rb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);rb=this.stack;Object.defineProperties(this,{message:{value:$a,writable:!1,configurable:!1},cause:{value:kb,writable:!1,configurable:!1},name:{value:"MslIoException",writable:!1,configurable:!0},stack:{get:function(){var ib;ib=this.toString();rb && (ib+="\n" + rb);kb && kb.stack && (ib+="\nCaused by " + kb.stack);return ib;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){vb=Cb.Class.create(Error());vb.mixin({init:function($a,kb){var rb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);rb=this.stack;Object.defineProperties(this,{message:{value:$a,writable:!1,configurable:!1},cause:{value:kb,writable:!1,configurable:!1},name:{value:"MslInternalException",writable:!1,configurable:!0},stack:{get:function(){var ib;ib=this.toString();rb && (ib+="\n" + rb);kb && kb.stack && (ib+="\nCaused by " + kb.stack);return ib;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();(function(){Yb=Cb.Class.create(Error());Yb.mixin({init:function($a,kb){var rb;Error.captureStackTrace && Error.captureStackTrace(this,this.constructor);rb=this.stack;Object.defineProperties(this,{message:{value:$a,writable:!1,configurable:!1},cause:{value:kb,writable:!1,configurable:!1},name:{value:"MslInterruptedException",writable:!1,configurable:!0},stack:{get:function(){var ib;ib=this.toString();rb && (ib+="\n" + rb);kb && kb.stack && (ib+="\nCaused by " + kb.stack);return ib;},configurable:!0}});},toString:function(){return this.name + ": " + this.message;}});})();Nb=eb.extend({init:function Ga(kb,rb,ib){Ga.base.call(this,kb,rb,ib);Object.defineProperties(this,{name:{value:"MslKeyExchangeException",writable:!1,configurable:!0}});}});Vc=eb.extend({init:function Ga(rb,ib){Ga.base.call(this,rb);Object.defineProperties(this,{masterToken:{value:ib,writable:!1,configurable:!1},name:{value:"MslMasterTokenException",writable:!1,configurable:!0}});}});Ib=eb.extend({init:function Pa(ib,Ga,La){Pa.base.call(this,ib,Ga,La);Object.defineProperties(this,{name:{value:"MslMessageException",writable:!1,configurable:!0}});}});wc=eb.extend({init:function xa(Ga,La,Pa){xa.base.call(this,Ga,La,Pa);Object.defineProperties(this,{name:{value:"MslUserAuthException",writable:!1,configurable:!0}});}});(function(){var pa;function Ga(ja){return "undefined" === typeof ja?!1:ja;}function La(ja){return ja && ja.length?($b === pa.V2014_02 && (ja=ja.map(function(ca){return "wrap" == ca?"wrapKey":"unwrap" == ca?"unwrapKey":ca;})),ja):$b === pa.V2014_02?("encrypt decrypt sign verify deriveKey wrapKey unwrapKey").split(" "):("encrypt decrypt sign verify deriveKey wrap unwrap").split(" ");}function Pa(ja,ca,Y,aa,ea){return Promise.resolve().then(function(){return Pb.importKey(ja,ca,Y,aa,ea);}).catch(function(ba){var ma;if("spki" !== ja && "pkcs8" !== ja)throw ba;ba=ASN1.webCryptoAlgorithmToJwkAlg(Y);ma=ASN1.webCryptoUsageToJwkKeyOps(ea);ba=ASN1.rsaDerToJwk(ca,ba,ma,aa);if(!ba)throw Error("Could not make valid JWK from DER input");ba=JSON.stringify(ba);return Pb.importKey("jwk",wd(ba),Y,aa,ea);});}function xa(ja,ca){return Promise.resolve().then(function(){return Pb.exportKey(ja,ca);}).catch(function(Y){if("spki" !== ja && "pkcs8" !== ja)throw Y;return Pb.exportKey("jwk",ca).then(function(aa){aa=JSON.parse(vd(new Uint8Array(aa)));aa=ASN1.jwkToRsaDer(aa);if(!aa)throw Error("Could not make valid DER from JWK input");return aa.getDer().buffer;});});}pa=hd={LEGACY:1,V2014_01:2,V2014_02:3,LATEST:3};Object.freeze(hd);$b=pa.LATEST;Jb={encrypt:function(ja,ca,Y){switch($b){case pa.LEGACY:return new Promise(function(aa,ea){var ba;ba=Pb.encrypt(ja,ca,Y);ba.oncomplete=function(ma){aa(ma.target.result);};ba.onerror=function(ma){ea(ma);};});case pa.V2014_01:case pa.V2014_02:return Pb.encrypt(ja,ca,Y).then(function(aa){return new Uint8Array(aa);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},decrypt:function(ja,ca,Y){switch($b){case pa.LEGACY:return new Promise(function(aa,ea){var ba;ba=Pb.decrypt(ja,ca,Y);ba.oncomplete=function(ma){aa(ma.target.result);};ba.onerror=function(ma){ea(ma);};});case pa.V2014_01:case pa.V2014_02:return Pb.decrypt(ja,ca,Y).then(function(aa){return new Uint8Array(aa);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},sign:function(ja,ca,Y){switch($b){case pa.LEGACY:return new Promise(function(aa,ea){var ba;ba=Pb.sign(ja,ca,Y);ba.oncomplete=function(ma){aa(ma.target.result);};ba.onerror=function(ma){ea(ma);};});case pa.V2014_01:case pa.V2014_02:return Pb.sign(ja,ca,Y).then(function(aa){return new Uint8Array(aa);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},verify:function(ja,ca,Y,aa){switch($b){case pa.LEGACY:return new Promise(function(ea,ba){var ma;ma=Pb.verify(ja,ca,Y,aa);ma.oncomplete=function(ya){ea(ya.target.result);};ma.onerror=function(ya){ba(ya);};});case pa.V2014_01:case pa.V2014_02:return Pb.verify(ja,ca,Y,aa);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},digest:function(ja,ca){switch($b){case pa.LEGACY:return new Promise(function(Y,aa){var ea;ea=Pb.digest(ja,ca);ea.oncomplete=function(ba){Y(ba.target.result);};ea.onerror=function(ba){aa(ba);};});case pa.V2014_01:case pa.V2014_02:return Pb.digest(ja,ca).then(function(Y){return new Uint8Array(Y);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},generateKey:function(ja,ca,Y){var aa,ea;aa=Ga(ca);ea=La(Y);switch($b){case pa.LEGACY:return new Promise(function(ba,ma){var ya;ya=Pb.generateKey(ja,aa,ea);ya.oncomplete=function(ua){ba(ua.target.result);};ya.onerror=function(ua){ma(ua);};});case pa.V2014_01:case pa.V2014_02:return Pb.generateKey(ja,aa,ea);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},deriveKey:function(ja,ca,Y,aa,ea){var ba,ma;ba=Ga(aa);ma=La(ea);switch($b){case pa.LEGACY:return new Promise(function(ya,ua){var na;na=Pb.deriveKey(ja,ca,Y,ba,ma);na.oncomplete=function(ta){ya(ta.target.result);};na.onerror=function(ta){ua(ta);};});case pa.V2014_01:case pa.V2014_02:return Pb.deriveKey(ja,ca,Y,ba,ma);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},importKey:function(ja,ca,Y,aa,ea){var ba,ma;ba=Ga(aa);ma=La(ea);switch($b){case pa.LEGACY:return new Promise(function(ya,ua){var na;na=Pb.importKey(ja,ca,Y,ba,ma);na.oncomplete=function(ta){ya(ta.target.result);};na.onerror=function(ta){ua(ta);};});case pa.V2014_01:case pa.V2014_02:return Pa(ja,ca,Y,ba,ma);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},exportKey:function(ja,ca){switch($b){case pa.LEGACY:return new Promise(function(Y,aa){var ea;ea=Pb.exportKey(ja,ca);ea.oncomplete=function(ba){Y(ba.target.result);};ea.onerror=function(ba){aa(ba);};});case pa.V2014_01:case pa.V2014_02:return xa(ja,ca).then(function(Y){return new Uint8Array(Y);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},wrapKey:function(ja,ca,Y,aa){switch($b){case pa.LEGACY:return new Promise(function(ea,ba){var ma;ma=Pb.wrapKey(ca,Y,aa);ma.oncomplete=function(ya){ea(ya.target.result);};ma.onerror=function(ya){ba(ya);};});case pa.V2014_01:case pa.V2014_02:return Pb.wrapKey(ja,ca,Y,aa).then(function(ea){return new Uint8Array(ea);});default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}},unwrapKey:function(ja,ca,Y,aa,ea,ba,ma){switch($b){case pa.LEGACY:return new Promise(function(ya,ua){var na;na=Pb.unwrapKey(ca,ea,Y);na.oncomplete=function(ta){ya(ta.target.result);};na.onerror=function(ta){ua(ta);};});case pa.V2014_01:case pa.V2014_02:return Pb.unwrapKey(ja,ca,Y,aa,ea,Ga(ba),La(ma));default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}}};fd && fd.getKeyByName && (Jb.getKeyByName=function(ja){switch($b){case pa.LEGACY:return new Promise(function(ca,Y){var aa;aa=fd.getKeyByName(ja);aa.oncomplete=function(ea){ca(ea.target.result);};aa.onerror=function(ea){Y(ea);};});case pa.V2014_01:case pa.V2014_02:return fd.getKeyByName(ja);default:throw Error("Unsupported Web Crypto version " + WEB_CRYPTO_VERSION + ".");}});mb.netflix=mb.netflix || ({});mb.netflix.crypto=Jb;})();nc={name:"AES-KW"};jc={name:"AES-CBC"};kc={name:"HMAC",hash:{name:"SHA-256"}};id={name:"RSA-OAEP",hash:{name:"SHA-1"}};Bd={name:"RSAES-PKCS1-v1_5"};ke={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};xc=["encrypt","decrypt"];yc=["wrap","unwrap"];Gc=["sign","verify"];(function(){Cd=Cb.Class.create({init:function(Ga,La,Pa){var pa;function xa(ja){Na(La,function(){var ca;ca=ja?Fb(ja):Bb;Object.defineProperties(pa,{rawKey:{value:Ga,writable:!1,configurable:!1},keyData:{value:ja,writable:!1,configurable:!1},keyDataB64:{value:ca,writable:!1,configurable:!1}});return this;},pa);}pa=this;Na(La,function(){if(!Ga || "object" != typeof Ga)throw new ub(X.INVALID_SYMMETRIC_KEY);!Pa && Ga.extractable?Jb.exportKey("raw",Ga).then(function(ja){xa(new Uint8Array(ja));},function(ja){La.error(new ub(X.KEY_EXPORT_ERROR,"raw"));}):xa(Pa);},pa);},size:function(){return this.keyData.length;},toByteArray:function(){return this.keyData;},toBase64:function(){return this.keyDataB64;}});Wc=function(Ga,La){new Cd(Ga,La);};oc=function(Ga,La,Pa,xa){Na(xa,function(){try{Ga="string" == typeof Ga?Gb(Ga):Ga;}catch(pa){throw new ub(X.INVALID_SYMMETRIC_KEY,"keydata " + Ga,pa);}Jb.importKey("raw",Ga,La,!0,Pa).then(function(pa){new Cd(pa,xa,Ga);},function(pa){xa.error(new ub(X.INVALID_SYMMETRIC_KEY));});});};})();(function(){jd=Cb.Class.create({init:function(Ga,La,Pa){var pa;function xa(ja){Na(La,function(){Object.defineProperties(pa,{rawKey:{value:Ga,writable:!1,configurable:!1},encoded:{value:ja,writable:!1,configurable:!1}});return this;},pa);}pa=this;Na(La,function(){if(!Ga || "object" != typeof Ga || "public" != Ga.type)throw new TypeError("Only original public crypto keys are supported.");!Pa && Ga.extractable?Jb.exportKey("spki",Ga).then(function(ja){xa(new Uint8Array(ja));},function(ja){La.error(new ub(X.KEY_EXPORT_ERROR,"spki"));}):xa(Pa);});},getEncoded:function(){return this.encoded;}});Dc=function(Ga,La){new jd(Ga,La);};Dd=function(Ga,La,Pa,xa){Na(xa,function(){try{Ga="string" == typeof Ga?Gb(Ga):Ga;}catch(pa){throw new ub(X.INVALID_PUBLIC_KEY,"spki " + Ga,pa);}Jb.importKey("spki",Ga,La,!0,Pa).then(function(pa){new jd(pa,xa,Ga);},function(pa){xa.error(new ub(X.INVALID_PUBLIC_KEY));});});};})();(function(){le=Cb.Class.create({init:function(Ga,La,Pa){var pa;function xa(ja){Na(La,function(){Object.defineProperties(pa,{rawKey:{value:Ga,writable:!1,configurable:!1},encoded:{value:ja,writable:!1,configurable:!1}});return this;},pa);}pa=this;Na(La,function(){if(!Ga || "object" != typeof Ga || "private" != Ga.type)throw new TypeError("Only original private crypto keys are supported.");!Pa && Ga.extractable?Jb.exportKey("pkcs8",Ga).then(function(ja){xa(new Uint8Array(ja));},function(ja){La.error(new ub(X.KEY_EXPORT_ERROR,"pkcs8"));}):xa(Pa);});},getEncoded:function(){return this.encoded;}});Mc=function(Ga,La){new le(Ga,La);};})();(function(){var Ga;Ga=Hd={V1:1,V2:2};Ed=Cb.Class.create({init:function(La,Pa,xa,pa){Na(pa,function(){var ja,ca,Y,aa;ja=Ga.V1;ca=La;Y=null;for(aa in gd){if(gd[aa] == La){ja=Ga.V2;ca=null;Y=La;break;}}Object.defineProperties(this,{version:{value:ja,writable:!1,enumerable:!1,configurable:!1},keyId:{value:ca,writable:!1,configurable:!1},cipherSpec:{value:Y,writable:!1,configurable:!1},iv:{value:Pa,writable:!1,configurable:!1},ciphertext:{value:xa,writable:!1,configurable:!1}});return this;},this);},toJSON:function(){var La;La={};switch(this.version){case Ga.V1:La.keyid=this.keyId;this.iv && (La.iv=Fb(this.iv));La.ciphertext=Fb(this.ciphertext);La.sha256="AA==";break;case Ga.V2:La.version=this.version;La.cipherspec=this.cipherSpec;this.iv && (La.iv=Fb(this.iv));La.ciphertext=Fb(this.ciphertext);break;default:throw new vb("Ciphertext envelope version " + this.version + " encoding unsupported.");}return La;}});Fd=function(La,Pa,xa,pa){new Ed(La,Pa,xa,pa);};Gd=function(La,Pa,xa){Na(xa,function(){var pa,ja,ca,Y,aa,ea,ba;pa=La.keyid;ja=La.cipherspec;ca=La.iv;Y=La.ciphertext;aa=La.sha256;if(!Pa)if((Pa=La.version) && "number" === typeof Pa && Pa === Pa){ea=!1;for(ba in Ga){if(Ga[ba] == Pa){ea=!0;break;}}if(!ea)throw new ub(X.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(La));}else Pa=Ga.V1;switch(Pa){case Ga.V1:if("string" !== typeof pa || ca && "string" !== typeof ca || "string" !== typeof Y || "string" !== typeof aa)throw new Db(X.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(La));break;case Ga.V2:ba=La.version;if(ba != Ga.V2)throw new ub(X.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(La));if("string" !== typeof ja || ca && "string" !== typeof ca || "string" !== typeof Y)throw new Db(X.JSON_PARSE_ERROR,"ciphertext envelope " + JSON.stringify(La));ja=he(ja);if(!ja)throw new ub(X.UNIDENTIFIED_CIPHERSPEC,"ciphertext envelope " + JSON.stringify(La));pa=ja;break;default:throw new ub(X.UNSUPPORTED_CIPHERTEXT_ENVELOPE,"ciphertext envelope " + JSON.stringify(La));}try{ca && (ca=Gb(ca));Y=Gb(Y);}catch(ma){throw new ub(X.CIPHERTEXT_ENVELOPE_PARSE_ERROR,"encryption envelope " + JSON.stringify(La),ma);}new Ed(pa,ca,Y,xa);});};})();(function(){var Ga;Ga=Kd={V1:1,V2:2};pc=Cb.Class.create({init:function(La,Pa,xa){var pa;switch(La){case Ga.V1:pa=xa;break;case Ga.V2:pa={};pa.version=La;pa.algorithm=Pa;pa.signature=Fb(xa);pa=bc(JSON.stringify(pa),Mb);break;default:throw new vb("Signature envelope version " + La + " encoding unsupported.");}Object.defineProperties(this,{version:{value:La,writable:!1,enumerable:!1,configurable:!1},algorithm:{value:Pa,writable:!1,configurable:!1},signature:{value:xa,writable:!1,configurable:!1},bytes:{value:pa,writable:!1,configurable:!1}});}});Id=function(){var La,Pa,xa,pa;if(2 == arguments.length){La=Ga.V1;Pa=arguments[0];xa=null;pa=arguments[1];}else 3 == arguments.length && (La=Ga.V2,xa=arguments[0],Pa=arguments[1],pa=arguments[2]);Na(pa,function(){return new pc(La,xa,Pa);});};Jd=function(La,Pa,xa){Na(xa,function(){var pa,ja,ca,Y,aa,ea,ba;if(Pa)switch(Pa){case Ga.V1:return new pc(Ga.V1,null,La);case Ga.V2:try{pa=ac(La,Mb);ja=JSON.parse(pa);ca=parseInt(ja.version);Y=ja.algorithm;aa=ja.signature;if(!ca || "number" !== typeof ca || ca != ca || "string" !== typeof Y || "string" !== typeof aa)throw new Db(X.JSON_PARSE_ERROR,"signature envelope " + Fb(La));if(Ga.V2 != ca)throw new ub(X.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Fb(La));ea=zd(Y);if(!ea)throw new ub(X.UNIDENTIFIED_ALGORITHM,"signature envelope " + Fb(La));ba=Gb(aa);if(!ba)throw new ub(X.INVALID_SIGNATURE,"signature envelope " + Base64Util.encode(La));return new pc(Ga.V2,ea,ba);}catch(ma){if(ma instanceof SyntaxError)throw new Db(X.JSON_PARSE_ERROR,"signature envelope " + Fb(La),ma);throw ma;}default:throw new ub(X.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + Fb(La));}try{pa=ac(La,Mb);ja=JSON.parse(pa);}catch(ma){ja=null;}if(ja && ja.version){if((pa=ja.version,"number" !== typeof pa || pa !== pa))pa=Ga.V1;}else pa=Ga.V1;switch(pa){case Ga.V1:return new pc(pa,null,La);case Ga.V2:ea=ja.algorithm;aa=ja.signature;if("string" !== typeof ea || "string" !== typeof aa)return new pc(Ga.V1,null,La);ea=zd(ea);if(!ea)return new pc(Ga.V1,null,La);try{ba=Gb(aa);}catch(ma){return new pc(Ga.V1,null,La);}return new pc(pa,ea,ba);default:throw new ub(X.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope " + La);}});};})();Oc=Cb.Class.create({encrypt:function(Ga,La){},decrypt:function(Ga,La){},wrap:function(Ga,La){},unwrap:function(Ga,La,Pa,xa){},sign:function(Ga,La){},verify:function(Ga,La,Pa){}});(function(){var Ga;Ga=rc={RSA_OAEP:id.name,A128KW:nc.name};lc="A128GCM";qc=Cb.Class.create({init:function(La,Pa,xa,pa,ja){switch(Pa){case Ga.RSA_OAEP:ja=ja && (ja.rawKey || ja);pa=pa && (pa.rawKey || pa);break;case Ga.A128KW:ja=pa=pa && (pa.rawKey || pa);break;default:throw new vb("Unsupported algorithm: " + Pa);}Object.defineProperties(this,{_ctx:{value:La,writable:!1,enumerable:!1,configurable:!1},_algo:{value:Pa,writable:!1,enumerable:!1,configurable:!1},_enc:{value:xa,writable:!1,enumerable:!1,configurable:!1},_wrapKey:{value:ja,writable:!1,enumerable:!1,configurable:!1},_unwrapKey:{value:pa,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(La,Pa){Pa.error(new ub(X.ENCRYPT_NOT_SUPPORTED));},decrypt:function(La,Pa){Pa.error(new ub(X.DECRYPT_NOT_SUPPORTED));},wrap:function(La,Pa){Na(Pa,function(){Jb.wrapKey("jwe+jwk",La.rawKey,this._wrapKey,this._wrapKey.algorithm).then(function(xa){Pa.result(xa);},function(xa){Pa.error(new ub(X.WRAP_ERROR));});},this);},unwrap:function(La,Pa,xa,pa){function ja(ca){Na(pa,function(){switch(ca.type){case "secret":Wc(ca,pa);break;case "public":Dc(ca,pa);break;case "private":Mc(ca,pa);break;default:throw new ub(X.UNSUPPORTED_KEY,"type: " + ca.type);}});}Na(pa,function(){Jb.unwrapKey("jwe+jwk",La,this._unwrapKey,this._unwrapKey.algorithm,Pa,!1,xa).then(function(ca){ja(ca);},function(){pa.error(new ub(X.UNWRAP_ERROR));});},this);},sign:function(La,Pa){Pa.error(new ub(X.SIGN_NOT_SUPPORTED));},verify:function(La,Pa,xa){xa.error(new ub(X.VERIFY_NOT_SUPPORTED));}});})();Pc=Oc.extend({encrypt:function(Ga,La){La.result(Ga);},decrypt:function(Ga,La){La.result(Ga);},wrap:function(Ga,La){La.result(Ga);},unwrap:function(Ga,La,Pa,xa){xa.result(Ga);},sign:function(Ga,La){La.result(new Uint8Array(0));},verify:function(Ga,La,Pa){Pa.result(!0);}});(function(){var Ga;Ga=ld={ENCRYPT_DECRYPT_OAEP:1,ENCRYPT_DECRYPT_PKCS1:2,WRAP_UNWRAP_OAEP:3,WRAP_UNWRAP_PKCS1:4,SIGN_VERIFY:5};kd=Oc.extend({init:function Y(Pa,xa,pa,ja,ca){Y.base.call(this);pa && (pa=pa.rawKey);ja && (ja=ja.rawKey);Object.defineProperties(this,{id:{value:xa,writable:!1,enumerable:!1,configurable:!1},privateKey:{value:pa,writable:!1,enumerable:!1,configurable:!1},publicKey:{value:ja,writable:!1,enumerable:!1,configurable:!1},transform:{value:ca == Ga.ENCRYPT_DECRYPT_PKCS1?Bd:ca == Ga.ENCRYPT_DECRYPT_OAEP?id:"nullOp",writable:!1,enumerable:!1,configurable:!1},wrapTransform:{value:ca == Ga.WRAP_UNWRAP_PKCS1?Bd:ca == Ga.WRAP_UNWRAP_OAEP?id:"nullOp",writable:!1,enumerable:!1,configurable:!1},algo:{value:ca == Ga.SIGN_VERIFY?ke:"nullOp",writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Pa,xa){var pa;pa=this;Na(xa,function(){if("nullOp" == this.transform)return Pa;if(!this.publicKey)throw new ub(X.ENCRYPT_NOT_SUPPORTED,"no public key");if(0 == Pa.length)return Pa;Jb.encrypt(pa.transform,pa.publicKey,Pa).then(function(ja){Fd(pa.id,null,ja,{result:function(ca){var Y;try{Y=JSON.stringify(ca);xa.result(bc(Y,Mb));}catch(aa){xa.error(new ub(X.ENCRYPT_ERROR,null,aa));}},error:function(ca){ca instanceof eb || (ca=new ub(X.ENCRYPT_ERROR,null,ca));xa.error(ca);}});},function(ja){xa.error(new ub(X.ENCRYPT_ERROR));});},this);},decrypt:function(Pa,xa){var pa;pa=this;Na(xa,function(){var ja,ca;if("nullOp" == this.transform)return Pa;if(!this.privateKey)throw new ub(X.DECRYPT_NOT_SUPPORTED,"no private key");if(0 == Pa.length)return Pa;try{ja=ac(Pa,Mb);ca=JSON.parse(ja);}catch(Y){if(Y instanceof SyntaxError)throw new ub(X.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,Y);throw new ub(X.DECRYPT_ERROR,null,Y);}Gd(ca,Hd.V1,{result:function(Y){var aa;try{if(Y.keyId != pa.id)throw new ub(X.ENVELOPE_KEY_ID_MISMATCH);aa=xa.result;Jb.decrypt(pa.transform,pa.privateKey,Y.ciphertext).then(aa,function(ea){xa.error(new ub(X.DECRYPT_ERROR));});}catch(ea){ea instanceof eb?xa.error(ea):xa.error(new ub(X.DECRYPT_ERROR,null,ea));}},error:function(Y){Y instanceof Db && (Y=new ub(X.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,Y));Y instanceof eb || (Y=new ub(X.DECRYPT_ERROR,null,Y));xa.error(Y);}});},this);},wrap:function(Pa,xa){Na(xa,function(){var pa;if("nullOp" == this.wrapTransform || !this.publicKey)throw new ub(X.WRAP_NOT_SUPPORTED,"no public key");pa=xa.result;Jb.wrapKey("jwk",Pa.rawKey,this.publicKey,this.wrapTransform).then(pa,function(ja){xa.error(new ub(X.WRAP_ERROR));});},this);},unwrap:function(Pa,xa,pa,ja){function ca(Y){Na(ja,function(){switch(Y.type){case "secret":Wc(Y,ja);break;case "public":Dc(Y,ja);break;case "private":Mc(Y,ja);break;default:throw new ub(X.UNSUPPORTED_KEY,"type: " + Y.type);}});}Na(ja,function(){if("nullOp" == this.wrapTransform || !this.privateKey)throw new ub(X.UNWRAP_NOT_SUPPORTED,"no private key");Jb.unwrapKey("jwk",Pa,this.privateKey,{name:this.privateKey.algorithm.name,hash:{name:"SHA-1"}},xa,!1,pa).then(ca,function(Y){ja.error(new ub(X.UNWRAP_ERROR));});},this);},sign:function(Pa,xa){Na(xa,function(){if("nullOp" == this.algo)return new Uint8Array(0);if(!this.privateKey)throw new ub(X.SIGN_NOT_SUPPORTED,"no private key");Jb.sign(this.algo,this.privateKey,Pa).then(function(pa){Id(pa,{result:function(ja){xa.result(ja.bytes);},error:xa.error});},function(pa){xa.error(new ub(X.SIGNATURE_ERROR));});},this);},verify:function(Pa,xa,pa){var ja;ja=this;Na(pa,function(){if("nullOp" == this.algo)return !0;if(!this.publicKey)throw new ub(X.VERIFY_NOT_SUPPORTED,"no public key");Jd(xa,Kd.V1,{result:function(ca){Na(pa,function(){var Y;Y=pa.result;Jb.verify(this.algo,this.publicKey,ca.signature,Pa).then(Y,function(aa){pa.error(new ub(X.SIGNATURE_ERROR));});},ja);},error:pa.error});},this);}});})();(function(){md=Oc.extend({init:function ca(La,Pa,xa,pa,ja){ca.base.call(this);xa=xa && xa.rawKey;pa=pa && pa.rawKey;ja=ja && ja.rawKey;Object.defineProperties(this,{ctx:{value:La,writable:!1,enumerable:!1,configurable:!1},id:{value:Pa,writable:!1,enumerable:!1,configurable:!1},encryptionKey:{value:xa,writable:!1,enumerable:!1,configurable:!1},hmacKey:{value:pa,writable:!1,enumerable:!1,configurable:!1},wrapKey:{value:ja,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(La,Pa){var xa;xa=this;Na(Pa,function(){var pa;if(!this.encryptionKey)throw new ub(X.ENCRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == La.length)return La;pa=new Uint8Array(16);this.ctx.getRandom().nextBytes(pa);Jb.encrypt({name:jc.name,iv:pa},xa.encryptionKey,La).then(function(ja){ja=new Uint8Array(ja);Fd(xa.id,pa,ja,{result:function(ca){var Y;try{Y=JSON.stringify(ca);Pa.result(bc(Y,Mb));}catch(aa){Pa.error(new ub(X.ENCRYPT_ERROR,null,aa));}},error:function(ca){ca instanceof eb || (ca=new ub(X.ENCRYPT_ERROR,null,ca));Pa.error(ca);}});},function(ja){Pa.error(new ub(X.ENCRYPT_ERROR));});},this);},decrypt:function(La,Pa){var xa;xa=this;Na(Pa,function(){var pa,ja;if(!this.encryptionKey)throw new ub(X.DECRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0 == La.length)return La;try{pa=ac(La,Mb);ja=JSON.parse(pa);}catch(ca){if(ca instanceof SyntaxError)throw new ub(X.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,ca);throw new ub(X.DECRYPT_ERROR,null,ca);}Gd(ja,Hd.V1,{result:function(ca){try{if(ca.keyId != xa.id)throw new ub(X.ENVELOPE_KEY_ID_MISMATCH);Jb.decrypt({name:jc.name,iv:ca.iv},xa.encryptionKey,ca.ciphertext).then(function(Y){Y=new Uint8Array(Y);Pa.result(Y);},function(){Pa.error(new ub(X.DECRYPT_ERROR));});}catch(Y){Y instanceof eb?Pa.error(Y):Pa.error(new ub(X.DECRYPT_ERROR,null,Y));}},error:function(ca){ca instanceof Db && (ca=new ub(X.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,ca));ca instanceof eb || (ca=new ub(X.DECRYPT_ERROR,null,ca));Pa.error(ca);}});},this);},wrap:function(La,Pa){Na(Pa,function(){if(!this.wrapKey)throw new ub(X.WRAP_NOT_SUPPORTED,"no wrap/unwrap key");Jb.wrapKey("raw",La.rawKey,this.wrapKey,this.wrapKey.algorithm).then(function(xa){Pa.result(xa);},function(xa){Pa.error(new ub(X.WRAP_ERROR));});},this);},unwrap:function(La,Pa,xa,pa){function ja(ca){Na(pa,function(){switch(ca.type){case "secret":Wc(ca,pa);break;case "public":Dc(ca,pa);break;case "private":Mc(ca,pa);break;default:throw new ub(X.UNSUPPORTED_KEY,"type: " + ca.type);}});}Na(pa,function(){if(!this.wrapKey)throw new ub(X.UNWRAP_NOT_SUPPORTED,"no wrap/unwrap key");Jb.unwrapKey("raw",La,this.wrapKey,this.wrapKey.algorithm,Pa,!1,xa).then(function(ca){ja(ca);},function(ca){pa.error(new ub(X.UNWRAP_ERROR));});},this);},sign:function(La,Pa){var xa;xa=this;Na(Pa,function(){if(!this.hmacKey)throw new ub(X.SIGN_NOT_SUPPORTED,"no HMAC key.");Jb.sign(kc,this.hmacKey,La).then(function(pa){Na(Pa,function(){var ja;ja=new Uint8Array(pa);Id(ja,{result:function(ca){Pa.result(ca.bytes);},error:Pa.error});},xa);},function(){Pa.error(new ub(X.HMAC_ERROR));});},this);},verify:function(La,Pa,xa){var pa;pa=this;Na(xa,function(){if(!this.hmacKey)throw new ub(X.VERIFY_NOT_SUPPORTED,"no HMAC key.");Jd(Pa,Kd.V1,{result:function(ja){Na(xa,function(){Jb.verify(kc,this.hmacKey,ja.signature,La).then(function(ca){xa.result(ca);},function(ca){xa.error(new ub(X.HMAC_ERROR));});},pa);},error:xa.error});},this);}});})();hc=md.extend({init:function ca(La,Pa,xa,pa,ja){if(xa || pa || ja)ca.base.call(this,La,xa + "_" + Pa.sequenceNumber,pa,ja,null);else {if(!Pa.isDecrypted())throw new Vc(X.MASTERTOKEN_UNTRUSTED,Pa);ca.base.call(this,La,Pa.identity + "_" + Pa.sequenceNumber,Pa.encryptionKey,Pa.hmacKey,null);}}});lf=Oc.extend({encrypt:function(La,Pa){Pa.result(La);},decrypt:function(La,Pa){Pa.result(La);},wrap:function(La,Pa){Pa.error(new vb("Wrap is unsupported by the MSL token crypto context."));},unwrap:function(La,Pa,xa,pa){pa.error(new vb("Unwrap is unsupported by the MSL token crypto context."));},sign:function(La,Pa){Pa.result(new Uint8Array(0));},verify:function(La,Pa,xa){xa.result(!1);}});Qb={PSK:"PSK",MGK:"MGK",X509:"X509",RSA:"RSA",NPTICKET:"NPTICKET",ECC:"ECC",NONE:"NONE"};Object.freeze(Qb);(function(){Fc=Cb.Class.create({init:function(La){Object.defineProperties(this,{scheme:{value:La,writable:!1,configurable:!1}});},getIdentity:function(){},getAuthData:function(){},equals:function(La){return this === La?!0:La instanceof Fc?this.scheme == La.scheme:!1;},toJSON:function(){var La;La={};La.scheme=this.scheme;La.authdata=this.getAuthData();return La;}});me=function(La,Pa){var xa,pa;xa=Pa.scheme;pa=Pa.authdata;if(!xa || !pa)throw new Db(X.JSON_PARSE_ERROR,"entityauthdata " + JSON.stringify(Pa));if(!Qb[xa])throw new mc(X.UNIDENTIFIED_ENTITYAUTH_SCHEME,xa);Pa=La.getEntityAuthenticationFactory(xa);if(!Pa)throw new mc(X.ENTITYAUTH_FACTORY_NOT_FOUND,xa);return Pa.createData(La,pa);};})();nd=Cb.Class.create({init:function(La){Object.defineProperties(this,{scheme:{value:La,writable:!1,configurable:!1}});},createData:function(La,Pa){},getCryptoContext:function(La,Pa){}});(function(){sc=Fc.extend({init:function xa(Pa){xa.base.call(this,Qb.MGK);Object.defineProperties(this,{identity:{value:Pa,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var Pa;Pa={};Pa.identity=this.identity;return Pa;},equals:function pa(xa){return this === xa?!0:xa instanceof sc?pa.base.call(this,this,xa) && this.identity == xa.identity:!1;}});ne=function(xa){var pa;pa=xa.identity;if(!pa)throw new Db(X.JSON_PARSE_ERROR,"mgk authdata" + JSON.stringify(xa));return new sc(pa);};})();mf=nd.extend({init:function xa(Pa){xa.base.call(this,Qb.MGK);Object.defineProperties(this,{localIdentity:{value:Pa,writable:!1,enumerable:!1,configurable:!1}});},createData:function(Pa,xa){return ne(xa);},getCryptoContext:function(Pa,xa){if(!(xa instanceof sc))throw new vb("Incorrect authentication data type " + JSON.stringify(xa) + ".");if(xa.identity != this.localIdentity)throw new mc(X.ENTITY_NOT_FOUND,"mgk " + xa.identity).setEntity(xa);return new Pc();}});(function(){tc=Fc.extend({init:function pa(xa){pa.base.call(this,Qb.PSK);Object.defineProperties(this,{identity:{value:xa,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var xa;xa={};xa.identity=this.identity;return xa;},equals:function ja(pa){return this === pa?!0:pa instanceof tc?ja.base.call(this,this,pa) && this.identity == pa.identity:!1;}});oe=function(pa){var ja;ja=pa.identity;if(!ja)throw new Db(X.JSON_PARSE_ERROR,"psk authdata" + JSON.stringify(pa));return new tc(ja);};})();nf=nd.extend({init:function pa(xa){pa.base.call(this,Qb.PSK);Object.defineProperties(this,{localIdentity:{value:xa,writable:!1,enumerable:!1,configurable:!1}});},createData:function(xa,pa){return oe(pa);},getCryptoContext:function(xa,pa){if(!(pa instanceof tc))throw new vb("Incorrect authentication data type " + JSON.stringify(pa) + ".");if(pa.getIdentity() != this.localIdentity)throw new mc(X.ENTITY_NOT_FOUND,"psk " + pa.identity).setEntity(pa);return new Pc();}});(function(){od=Fc.extend({init:function ca(pa,ja){ca.base.call(this,Qb.RSA);Object.defineProperties(this,{identity:{value:pa,writable:!1,configurable:!1},publicKeyId:{value:ja,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var pa;pa={};pa.identity=this.identity;pa.pubkeyid=this.publicKeyId;return pa;},equals:function ca(ja){return this === ja?!0:ja instanceof od?ca.base.call(this,this,ja) && this.identity == ja.identity && this.publicKeyId == ja.publicKeyId:!1;}});pe=function(ja){var ca,Y;ca=ja.identity;Y=ja.pubkeyid;if(!ca || "string" !== typeof ca || !Y || "string" !== typeof Y)throw new Db(X.JSON_PARSE_ERROR,"RSA authdata" + JSON.stringify(ja));return new od(ca,Y);};})();of=nd.extend({init:function ja(pa){ja.base.call(this,Qb.RSA);Object.defineProperties(this,{store:{value:pa,writable:!1,enumerable:!1,configurable:!1}});},createData:function(pa,ja){return pe(ja);},getCryptoContext:function(pa,ja){var ca,Y,aa;if(!(ja instanceof od))throw new vb("Incorrect authentication data type " + ja + ".");ca=ja.identity;Y=ja.publicKeyId;aa=this.store.getPublicKey(Y);if(!aa)throw new mc(X.RSA_PUBLICKEY_NOT_FOUND,Y).setEntity(ja);return new kd(pa,ca,null,aa,ld.SIGN_VERIFY);}});(function(){Sc=Fc.extend({init:function ca(ja){ca.base.call(this,Qb.NONE);Object.defineProperties(this,{identity:{value:ja,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var ja;ja={};ja.identity=this.identity;return ja;},equals:function Y(ca){return this === ca?!0:ca instanceof Sc?Y.base.call(this,this,ca) && this.identity == ca.identity:!1;}});qe=function(ca){var Y;Y=ca.identity;if(!Y)throw new Db(X.JSON_PARSE_ERROR,"Unauthenticated authdata" + JSON.stringify(ca));return new Sc(Y);};})();kf=nd.extend({init:function ja(){ja.base.call(this,Qb.NONE);},createData:function(ja,ca){return qe(ca);},getCryptoContext:function(ja,ca){if(!(ca instanceof Sc))throw new vb("Incorrect authentication data type " + JSON.stringify(ca) + ".");return new Pc();}});pf=Cb.Class.create({init:function(){Object.defineProperties(this,{rsaKeys:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addPublicKey:function(ja,ca){if(!(ca instanceof jd))throw new vb("Incorrect key data type " + ca + ".");this.rsaKeys[ja]=ca;},getIdentities:function(){return Object.keys(this.rsaKeys);},removePublicKey:function(ja){delete this.rsaKeys[ja];},getPublicKey:function(ja){return this.rsaKeys[ja];}});Ld=Cb.Class.create({abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(ja,ca,Y){}});pd=Cb.Class.create({abort:function(){},close:function(ja,ca){},write:function(ja,ca,Y,aa,ea){},flush:function(ja,ca){}});qf=Cb.Class.create({init:function(ja){Object.defineProperties(this,{_data:{value:ja,writable:!1,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_currentPosition:{value:0,writable:!0,enumerable:!1,configurable:!1},_mark:{value:-1,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){},close:function(){this._close=!0;},mark:function(){this._mark=this._currentPosition;},reset:function(){if(-1 == this._mark)throw new Ub("Stream has not been marked.");this._currentPosition=this._mark;},markSupported:function(){return !0;},read:function(ja,ca,Y){bb(Y,function(){var aa;if(this._closed)throw new Ub("Stream is already closed.");if(this._currentPosition == this._data.length)return null;-1 == ja && (ja=this._data.length - this._currentPosition);aa=this._data.subarray(this._currentPosition,this._currentPosition + ja);this._currentPosition+=aa.length;return aa;},this);}});rf=Cb.Class.create({init:function(){var ja;ja={_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_result:{value:new Uint8Array(0),writable:!0,enuemrable:!1,configurable:!1},_buffered:{value:[],writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,ja);},abort:function(){},close:function(ja,ca){this._closed=!0;ca.result(!0);},write:function(ja,ca,Y,aa,ea){bb(ea,function(){var ba;if(this._closed)throw new Ub("Stream is already closed.");if(0 > ca)throw new RangeError("Offset cannot be negative.");if(0 > Y)throw new RangeError("Length cannot be negative.");if(ca + Y > ja.length)throw new RangeError("Offset plus length cannot be greater than the array length.");ba=ja.subarray(ca,Y);this._buffered.push(ba);return ba.length;},this);},flush:function(ja,ca){var Y;for(;0 < this._buffered.length;){if((ja=this._buffered.shift(),this._result)){Y=new Uint8Array(this._result.length + ja.length);Y.set(this._result);Y.set(ja,this._result.length);this._result=Y;}else this._result=new Uint8Array(ja);}ca.result(!0);},size:function(){this.flush(1,{result:function(){}});return this._result.length;},toByteArray:function(){this.flush(1,{result:function(){}});return this._result;}});sf=Cb.Class.create({getResponse:function(ja,ca,Y){}});(function(){var ja,ca;ja=pd.extend({init:function(Y,aa){Y={_httpLocation:{value:Y,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:aa,writable:!0,enumerable:!1,configurable:!1},_buffer:{value:new rf(),writable:!1,enumerable:!1,configurable:!1},_response:{value:Bb,writable:!0,enumerable:!1,configurable:!1},_abortToken:{value:Bb,writable:!0,enumerable:!1,configurable:!1},_responseQueue:{value:new Tc(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,Y);},setTimeout:function(Y){this._timeout=Y;},getResponse:function(Y,aa){var ea;ea=this;this._responseQueue.poll(Y,{result:function(ba){bb(aa,function(){ba && this._responseQueue.add(ba);return ba;},ea);},timeout:function(){bb(aa,function(){this._response={isTimeout:!0};this._responseQueue.add(this._response);this.abort();aa.timeout();},ea);},error:function(ba){bb(aa,function(){this._response={isError:!0};this._responseQueue.add(this._response);throw ba;},ea);}});},abort:function(){this._abortToken && this._abortToken.abort();},close:function(Y,aa){var ea;ea=this;bb(aa,function(){var ba;if(this._response)return !0;ba=this._buffer.toByteArray();0 < ba.length && (this._abortToken=this._httpLocation.getResponse({body:ba},this._timeout,{result:function(ma){ea._response={response:ma};ea._responseQueue.add(ea._response);},timeout:function(){ea._response={isTimeout:!0};ea._responseQueue.add(ea._response);},error:function(ma){ea._response={isError:!0,error:ma};ea._responseQueue.add(ea._response);}}));return !0;},this);},write:function(Y,aa,ea,ba,ma){bb(ma,function(){if(this._response)throw new Ub("HttpOutputStream already closed.");this._buffer.write(Y,aa,ea,ba,ma);},this);},flush:function(Y,aa){bb(aa,function(){if(this._response)return !0;this._buffer.flush(Y,aa);},this);}});ca=Ld.extend({init:function(Y){Object.defineProperties(this,{_out:{value:Y,writable:!1,enumerable:!1,configurable:!1},_buffer:{value:Bb,writable:!0,enumerable:!1,configurable:!1},_exception:{value:Bb,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_json:{value:Bb,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){this._out.abort();},close:function(){this._buffer && this._buffer.close();},mark:function(){this._buffer || this._buffer.mark();},reset:function(){this._buffer && this._buffer.reset();},markSupported:function(){if(this._buffer)return this._buffer.markSupported();},read:function(Y,aa,ea){var ma;function ba(ya){bb(ea,function(){if(!ya)return new Uint8Array(0);this._out.getResponse(aa,{result:function(ua){bb(ea,function(){var na;if(ua.isTimeout)(this._timedout=!0,ea.timeout());else {if(ua.isError)throw (this._exception=ua.error || new Ub("Unknown HTTP exception."),this._exception);if(!ua.response)throw (this._exception=new Ub("Missing HTTP response."),this._exception);ua.response.json !== Bb && (this._json=ua.response.json,this.getJSON=function(){return ma._json;});na=ua.response.content || wd("string" === typeof ua.response.body?ua.response.body:JSON.stringify(this._json));this._buffer=new qf(na);this._buffer.read(Y,aa,ea);}},ma);},timeout:function(){ea.timeout();},error:function(ua){ea.error(ua);}});},ma);}ma=this;bb(ea,function(){if(this._exception)throw this._exception;if(this._timedout)ea.timeout();else {if(this._aborted)return new Uint8Array(0);this._buffer?this._buffer.read(Y,aa,ea):this._out.close(aa,{result:function(ya){ba(ya);},timeout:function(){ea.timeout();},error:function(ya){ea.error(ya);}});}},ma);}});be=Cb.Class.create({init:function(Y,aa){Object.defineProperties(this,{_httpLocation:{value:Y,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:aa,writable:!0,enumerable:!1,configurable:!1}});},setTimeout:function(Y){this._timeout=Y;},openConnection:function(){var Y;Y=new ja(this._httpLocation,this._timeout);return {input:new ca(Y),output:Y};}});})();(function(){var ja,ca;ja=pd.extend({init:function(){var Y;Y={_buffer:{value:new Uint8Array(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,Y);},setTimeout:function(){},getResponse:function(Y,aa){aa.result({success:!1,content:null,errorHttpCode:Bb,errorSubCode:Bb});},abort:function(){},close:function(Y,aa){aa.result(!0);},write:function(Y,aa,ea,ba,ma){var ya,ua;try{if(0 > aa)throw new RangeError("Offset cannot be negative.");if(0 > ea)throw new RangeError("Length cannot be negative.");if(aa + ea > Y.length)throw new RangeError("Offset plus length cannot be greater than the array length.");ya=Y.subarray(aa,ea);ua=new Uint8Array(this._buffer.length + ya.length);ua.set(this._buffer);ua.set(ya,this._buffer.length);this._buffer=ua;ma.result(ya.length);}catch(na){ma.error(na);}},flush:function(Y,aa){aa.result(!0);},request:function(){return this._buffer;}});ca=Ld.extend({init:function(){},abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(Y,aa,ea){ea.result(new Uint8Array(16));}});ce=Cb.Class.create({init:function(){var Y;Y={output:{value:new ja(),writable:!1,enumerable:!1,configurable:!1},input:{value:new ca(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,Y);},setTimeout:function(){},openConnection:function(){return {input:this.input,output:this.output};},getRequest:function(){return vd(this.output.request());}});})();re=function(ja,ca,Y){(function(aa,ea,ba){aa.read(-1,ea,{result:function(ma){ma && ma.length?ba(null,ma):ba(null,null);},timeout:function(){Y.timeout();},error:function(ma){ba(ma,null);}});})(ja,ca,function(aa,ea){var ba,ma;if(aa)Y.error(aa);else if(ea){if(ja.getJSON !== Bb && "function" === typeof ja.getJSON)Y.result(ja.getJSON());else {aa=Y.result;ea=new tf(ac(ea,"utf-8"));ba=[];for(ma=ea.nextValue();ma !== Bb;){ba.push(ma);ma=ea.nextValue();}aa.call(Y,ba);}}else Y.result(null);});};gc={SYMMETRIC_WRAPPED:"SYMMETRIC_WRAPPED",ASYMMETRIC_WRAPPED:"ASYMMETRIC_WRAPPED",DIFFIE_HELLMAN:"DIFFIE_HELLMAN",JWE_LADDER:"JWE_LADDER",JWK_LADDER:"JWK_LADDER",AUTHENTICATED_DH:"AUTHENTICATED_DH"};Object.freeze(gc);(function(){Xc=Cb.Class.create({init:function(ja){Object.defineProperties(this,{keyExchangeScheme:{value:ja,writable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var ja;ja={};ja.scheme=this.keyExchangeScheme;ja.keydata=this.getKeydata();return ja;},equals:function(ja){return this === ja?!0:ja instanceof Xc?this.keyExchangeScheme == ja.keyExchangeScheme:!1;},uniqueKey:function(){return this.keyExchangeScheme;}});se=function(ja,ca,Y){Na(Y,function(){var aa,ea,ba;aa=ca.scheme;ea=ca.keydata;if(!aa || !ea || "object" !== typeof ea)throw new Db(X.JSON_PARSE_ERROR,"keyrequestdata " + JSON.stringify(ca));if(!gc[aa])throw new Nb(X.UNIDENTIFIED_KEYX_SCHEME,aa);ba=ja.getKeyExchangeFactory(aa);if(!ba)throw new Nb(X.KEYX_FACTORY_NOT_FOUND,aa);ba.createRequestData(ja,ea,Y);});};})();(function(){Yc=Cb.Class.create({init:function(ja,ca){Object.defineProperties(this,{masterToken:{value:ja,writable:!1,configurable:!1},keyExchangeScheme:{value:ca,wrtiable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var ja;ja={};ja.mastertoken=this.masterToken;ja.scheme=this.keyExchangeScheme;ja.keydata=this.getKeydata();return ja;},equals:function(ja){return this === ja?!0:ja instanceof Yc?this.masterToken.equals(ja.masterToken) && this.keyExchangeScheme == ja.keyExchangeScheme:!1;},uniqueKey:function(){return this.masterToken.uniqueKey() + ":" + this.keyExchangeScheme;}});te=function(ja,ca,Y){Na(Y,function(){var aa,ea,ba;aa=ca.mastertoken;ea=ca.scheme;ba=ca.keydata;if(!ea || !aa || "object" !== typeof aa || !ba || "object" !== typeof ba)throw new Db(X.JSON_PARSE_ERROR,"keyresponsedata " + JSON.stringify(ca));if(!gc[ea])throw new Nb(X.UNIDENTIFIED_KEYX_SCHEME,ea);Zc(ja,aa,{result:function(ma){Na(Y,function(){var ya;ya=ja.getKeyExchangeFactory(ea);if(!ya)throw new Nb(X.KEYX_FACTORY_NOT_FOUND,ea);return ya.createResponseData(ja,ma,ba);});},error:function(ma){Y.error(ma);}});});};})();(function(){var ja;ja=Cb.Class.create({init:function(ca,Y){Object.defineProperties(this,{keyResponseData:{value:ca,writable:!1,configurable:!1},cryptoContext:{value:Y,writable:!1,configurable:!1}});}});ic=Cb.Class.create({init:function(ca){Object.defineProperties(this,{scheme:{value:ca,writable:!1,configurable:!1}});},createRequestData:function(ca,Y,aa){},createResponseData:function(ca,Y,aa){},generateResponse:function(ca,Y,aa,ea){},getCryptoContext:function(ca,Y,aa,ea,ba){},generateSessionKeys:function(ca,Y){Na(Y,function(){var aa,ea;aa=new Uint8Array(16);ea=new Uint8Array(32);ca.getRandom().nextBytes(aa);ca.getRandom().nextBytes(ea);oc(aa,jc,xc,{result:function(ba){oc(ea,kc,Gc,{result:function(ma){Y.result({encryptionKey:ba,hmacKey:ma});},error:function(ma){Y.error(new ub(X.SESSION_KEY_CREATION_FAILURE,null,ma));}});},error:function(ba){Y.error(new ub(X.SESSION_KEY_CREATION_FAILURE,null,ba));}});});},importSessionKeys:function(ca,Y,aa){oc(ca,jc,xc,{result:function(ea){oc(Y,kc,Gc,{result:function(ba){aa.result({encryptionKey:ea,hmacKey:ba});},error:function(ba){aa.error(ba);}});},error:function(ea){aa.error(ea);}});}});ic.KeyExchangeData=ja;})();(function(){var ca,Y,aa;function ja(ea,ba,ma,ya,ua){Na(ua,function(){var na,ta;switch(ba){case ca.PSK:(na=new tc(ya),ta=ea.getEntityAuthenticationFactory(Qb.PSK));if(!ta)throw new Nb(X.UNSUPPORTED_KEYX_MECHANISM,ba);na=ta.getCryptoContext(ea,na);return new qc(ea,rc.A128KW,lc,Bb);case ca.MGK:na=new sc(ya);ta=ea.getEntityAuthenticationFactory(Qb.MGK);if(!ta)throw new Nb(X.UNSUPPORTED_KEYX_MECHANISM,ba);na=ta.getCryptoContext(ea,na);return new qc(ea,rc.A128KW,lc,Bb);case ca.WRAP:na=ea.getMslCryptoContext();na.unwrap(ma,nc,yc,{result:function(Da){Na(ua,function(){return new qc(ea,rc.A128KW,lc,Da);});},error:ua.error});break;default:throw new Nb(X.UNSUPPORTED_KEYX_MECHANISM,ba);}});}ca={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};Y=ue=Xc.extend({init:function ya(ba,ma){ya.base.call(this,gc.JWE_LADDER);switch(ba){case ca.WRAP:if(!ma)throw new vb("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:ma=null;}Object.defineProperties(this,{mechanism:{value:ba,writable:!1,configurable:!1},wrapdata:{value:ma,writable:!1,configurable:!1}});},getKeydata:function(){var ba;ba={};ba.mechanism=this.mechanism;this.wrapdata && (ba.wrapdata=Fb(this.wrapdata));return ba;},equals:function ya(ma){return ma === this?!0:ma instanceof ue?ya.base.call(this,ma) && this.mechanism == ma.mechanism && cc(this.wrapdata,ma.wrapdata):!1;},uniqueKey:function ya(){var ua;ua=ya.base.call(this) + ":" + this.mechanism;this.wrapdata && (ua+=":" + dc(this.wrapdata));return ua;}});aa=ve=Yc.extend({init:function da(ua,na,ta,Da,oa){da.base.call(this,ua,gc.JWE_LADDER);Object.defineProperties(this,{wrapKey:{value:na,writable:!1,configurable:!1},wrapdata:{value:ta,writable:!1,configurable:!1},encryptionKey:{value:Da,writable:!1,configurable:!1},hmacKey:{value:oa,writable:!1,configurable:!1}});},getKeydata:function(){var ua;ua={};ua.wrapkey=Fb(this.wrapKey);ua.wrapdata=Fb(this.wrapdata);ua.encryptionkey=Fb(this.encryptionKey);ua.hmackey=Fb(this.hmacKey);return ua;},equals:function ta(na){return this === na?!0:na instanceof ve?ta.base.call(this,na) && cc(this.wrapKey,na.wrapKey) && cc(this.wrapdata,na.wrapdata) && cc(this.encryptionKey,na.encryptionKey) && cc(this.hmacKey,na.hmacKey):!1;},uniqueKey:function ta(){return ta.base.call(this) + ":" + dc(this.wrapKey) + ":" + dc(this.wrapdata) + ":" + dc(this.encryptionKey) + ":" + dc(this.hmacKey);}});ic.extend({init:function oa(Da){oa.base.call(this,gc.JWE_LADDER);Object.defineProperties(this,{repository:{value:Da,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(Da,oa,da){Na(da,function(){var ia,ka,Ba;ia=oa.mechanism;ka=oa.wrapdata;if(!ia || ia == ca.WRAP && (!ka || "string" !== typeof ka))throw new Db(X.JSON_PARSE_ERROR,"keydata " + JSON.stringify(oa));if(!ca[ia])throw new Nb(X.UNIDENTIFIED_KEYX_MECHANISM,ia);switch(ia){case ca.WRAP:try{Ba=Gb(ka);}catch(Sa){throw new Nb(X.KEYX_WRAPPING_KEY_MISSING,"keydata " + oa.toString());}if(null == Ba || 0 == Ba.length)throw new Nb(X.KEYX_WRAPPING_KEY_MISSING,"keydata " + oa.toString());break;default:Ba=null;}return new Y(ia,Ba);});},createResponseData:function(Da,oa,da){var ia,ka,Ba,Sa,Ma,Ra,Ta;Da=da.wrapkey;ia=da.wrapdata;ka=da.encryptionkey;Ba=da.hmackey;if(!(Da && "string" === typeof Da && ia && "string" === typeof ia && ka && "string" === typeof ka && Ba) || "string" !== typeof Ba)throw new Db(X.JSON_PARSE_ERROR,"keydata " + JSON.stringify(da));try{Sa=Gb(Da);Ma=Gb(ia);}catch(ra){throw new ub(X.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(da),ra);}try{Ra=Gb(ka);}catch(ra){throw new ub(X.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(da),ra);}try{Ta=Gb(Ba);}catch(ra){throw new ub(X.INVALID_HMAC_KEY,"keydata " + JSON.stringify(da),ra);}return new aa(oa,Sa,Ma,Ra,Ta);},generateResponse:function(Da,oa,da,ia){var Ra,Ta;function ka(ra,Ca,Ha){Ra.generateSessionKeys(Da,{result:function(Ka){Na(ia,function(){Ba(ra,Ca,Ha,Ka.encryptionKey,Ka.hmacKey);},Ra);},error:function(Ka){Na(ia,function(){Ka instanceof eb && Ka.setEntity(Ta);throw Ka;});}});}function Ba(ra,Ca,Ha,Ka,Fa){Na(ia,function(){ja(Da,oa.mechanism,oa.wrapdata,ra,{result:function(Ua){Ua.wrap(Ca,{result:function(Ja){Sa(Ca,Ha,Ka,Fa,Ja);},error:function(Ja){Na(ia,function(){Ja instanceof eb && Ja.setEntity(Ta);throw Ja;});}});},error:function(Ua){Na(ia,function(){Ua instanceof eb && Ua.setEntity(Ta);throw Ua;});}});},Ra);}function Sa(ra,Ca,Ha,Ka,Fa){Na(ia,function(){var Ua;Ua=new qc(Da,rc.A128KW,lc,ra);Ua.wrap(Ha,{result:function(Ja){Ua.wrap(Ka,{result:function(Wa){Ma(Ca,Fa,Ha,Ja,Ka,Wa);},error:function(Wa){Na(ia,function(){Wa instanceof eb && Wa.setEntity(Ta);throw Wa;});}});},error:function(Ja){Na(ia,function(){Ja instanceof eb && Ja.setEntity(Ta);throw Ja;});}});},Ra);}function Ma(ra,Ca,Ha,Ka,Fa,Ua){Na(ia,function(){var Ja;Ja=Da.getTokenFactory();Ta?Ja.renewMasterToken(Da,Ta,Ha,Fa,{result:function(Wa){Na(ia,function(){var ab,Va;ab=new hc(Da,Wa);Va=new aa(Wa,Ca,ra,Ka,Ua);return new ic.KeyExchangeData(Va,ab,ia);},Ra);},error:function(Wa){Na(ia,function(){Wa instanceof eb && Wa.setEntity(Ta);throw Wa;});}}):Ja.createMasterToken(Da,da,Ha,Fa,{result:function(Wa){Na(ia,function(){var ab,Va;ab=new hc(Da,Wa);Va=new aa(Wa,Ca,ra,Ka,Ua);return new ic.KeyExchangeData(Va,ab,ia);},Ra);},error:ia.error});},Ra);}Ra=this;Na(ia,function(){var ra,Ca;if(!(oa instanceof Y))throw new vb("Key request data " + JSON.stringify(oa) + " was not created by this factory.");ra=da;if(da instanceof ec){if(!da.isVerified())throw new Vc(X.MASTERTOKEN_UNTRUSTED,da);Ta=da;ra=da.identity;}Ca=new Uint8Array(16);Da.getRandom().nextBytes(Ca);oc(Ca,nc,yc,{result:function(Ha){Na(ia,function(){Da.getMslCryptoContext().wrap(Ha,{result:function(Ka){ka(ra,Ha,Ka);},error:function(Ka){Na(ia,function(){Ka instanceof eb && Ka.setEntity(Ta);throw Ka;},Ra);}});},Ra);},error:function(Ha){Na(ia,function(){throw new ub(X.WRAP_KEY_CREATION_FAILURE,null,Ha).setEntity(Ta);},Ra);}});},Ra);},getCryptoContext:function(Da,oa,da,ia,ka){var Sa;function Ba(Ma,Ra,Ta,ra,Ca){Na(ka,function(){var Ha;Ha=new qc(Da,rc.A128KW,lc,Ca);Ha.unwrap(Ra.encryptionKey,jc,xc,{result:function(Ka){Ha.unwrap(Ra.hmacKey,kc,Gc,{result:function(Fa){Na(ka,function(){this.repository.addCryptoContext(Ra.wrapdata,Ha);this.repository.removeCryptoContext(Ta);return new hc(Da,Ra.masterToken,ra,Ka,Fa);},Sa);},error:function(Fa){Na(ka,function(){Fa instanceof eb && Fa.setEntity(Ma);throw Fa;});}});},error:function(Ka){Na(ka,function(){Ka instanceof eb && Ka.setEntity(Ma);throw Ka;});}});},Sa);}Sa=this;Na(ka,function(){var Ma,Ra;if(!(oa instanceof Y))throw new vb("Key request data " + JSON.stringify(oa) + " was not created by this factory.");if(!(da instanceof aa))throw new vb("Key response data " + JSON.stringify(da) + " was not created by this factory.");Ma=oa.mechanism;Ra=oa.wrapdata;Da.getEntityAuthenticationData(null,{result:function(Ta){Na(ka,function(){var ra,Ca,Ha;ra=Ta.getIdentity();switch(Ma){case ca.PSK:Ca=new tc(ra);Ha=Da.getEntityAuthenticationFactory(Qb.PSK);if(!Ha)throw new Nb(X.UNSUPPORTED_KEYX_MECHANISM,Ma).setEntity(Ta);Ca=Ha.getCryptoContext(Da,Ca);Ca=new qc(Da,rc.A128KW,lc,Bb);break;case ca.MGK:Ca=new sc(ra);Ha=Da.getEntityAuthenticationFactory(Qb.MGK);if(!Ha)throw new Nb(X.UNSUPPORTED_KEYX_MECHANISM,Ma).setEntity(Ta);Ca=Ha.getCryptoContext(Da,Ca);Ca=new qc(Da,rc.A128KW,lc,Ca.wrapKey);break;case ca.WRAP:Ca=this.repository.getCryptoContext(Ra);if(!Ca)throw new Nb(X.KEYX_WRAPPING_KEY_MISSING,Fb(Ra)).setEntity(Ta);break;default:throw new Nb(X.UNSUPPORTED_KEYX_MECHANISM,Ma).setEntity(Ta);}Ca.unwrap(da.wrapKey,nc,yc,{result:function(Ka){Ba(Ta,da,Ra,ra,Ka);},error:function(Ka){Na(ka,function(){Ka instanceof eb && Ka.setEntity(Ta);throw Ka;});}});},Sa);},error:ka.error});},Sa);}});})();(function(){var ca,Y,aa,ea;function ja(ba,ma,ya,ua,na){Na(na,function(){var ta,Da;switch(ma){case ca.PSK:(ta=new tc(ua),Da=ba.getEntityAuthenticationFactory(Qb.PSK));if(!Da)throw new Nb(X.UNSUPPORTED_KEYX_MECHANISM,ma);ta=Da.getCryptoContext(ba,ta);return new ea(Bb);case ca.MGK:ta=new sc(ua);Da=ba.getEntityAuthenticationFactory(Qb.MGK);if(!Da)throw new Nb(X.UNSUPPORTED_KEYX_MECHANISM,ma);ta=Da.getCryptoContext(ba,ta);return new ea(Bb);case ca.WRAP:ta=ba.getMslCryptoContext();ta.unwrap(ya,nc,yc,{result:function(oa){Na(na,function(){return new ea(oa);});},error:na.error});break;default:throw new Nb(X.UNSUPPORTED_KEYX_MECHANISM,ma);}});}ca={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};Y=we=Xc.extend({init:function ua(ma,ya){ua.base.call(this,gc.JWK_LADDER);switch(ma){case ca.WRAP:if(!ya)throw new vb("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:ya=null;}Object.defineProperties(this,{mechanism:{value:ma,writable:!1,configurable:!1},wrapdata:{value:ya,writable:!1,configurable:!1}});},getKeydata:function(){var ma;ma={};ma.mechanism=this.mechanism;this.wrapdata && (ma.wrapdata=Fb(this.wrapdata));return ma;},equals:function ua(ya){return ya === this?!0:ya instanceof we?ua.base.call(this,ya) && this.mechanism == ya.mechanism && cc(this.wrapdata,ya.wrapdata):!1;},uniqueKey:function ua(){var na;na=ua.base.call(this) + ":" + this.mechanism;this.wrapdata && (na+=":" + dc(this.wrapdata));return na;}});aa=xe=Yc.extend({init:function ia(na,ta,Da,oa,da){ia.base.call(this,na,gc.JWK_LADDER);Object.defineProperties(this,{wrapKey:{value:ta,writable:!1,configurable:!1},wrapdata:{value:Da,writable:!1,configurable:!1},encryptionKey:{value:oa,writable:!1,configurable:!1},hmacKey:{value:da,writable:!1,configurable:!1}});},getKeydata:function(){var na;na={};na.wrapkey=Fb(this.wrapKey);na.wrapdata=Fb(this.wrapdata);na.encryptionkey=Fb(this.encryptionKey);na.hmackey=Fb(this.hmacKey);return na;},equals:function Da(ta){return this === ta?!0:ta instanceof xe?Da.base.call(this,ta) && cc(this.wrapKey,ta.wrapKey) && cc(this.wrapdata,ta.wrapdata) && cc(this.encryptionKey,ta.encryptionKey) && cc(this.hmacKey,ta.hmacKey):!1;},uniqueKey:function Da(){return Da.base.call(this) + ":" + dc(this.wrapKey) + ":" + dc(this.wrapdata) + ":" + dc(this.encryptionKey) + ":" + dc(this.hmacKey);}});ea=Oc.extend({init:function(Da){Da && Da.rawKey && (Da=Da.rawKey);Object.defineProperties(this,{_wrapKey:{value:Da,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(Da,oa){oa.error(new ub(X.ENCRYPT_NOT_SUPPORTED));},decrypt:function(Da,oa){oa.error(new ub(X.DECRYPT_NOT_SUPPORTED));},wrap:function(Da,oa){Na(oa,function(){Jb.wrapKey("jwk",Da.rawKey,this._wrapKey,nc).then(function(da){oa.result(da);},function(da){oa.error(new ub(X.WRAP_ERROR));});},this);},unwrap:function(Da,oa,da,ia){function ka(Ba){Na(ia,function(){switch(Ba.type){case "secret":Wc(Ba,ia);break;case "public":Dc(Ba,ia);break;case "private":Mc(Ba,ia);break;default:throw new ub(X.UNSUPPORTED_KEY,"type: " + Ba.type);}});}Na(ia,function(){Jb.unwrapKey("jwk",Da,this._wrapKey,nc,oa,!1,da).then(function(Ba){ka(Ba);},function(Ba){ia.error(new ub(X.UNWRAP_ERROR));});},this);},sign:function(Da,oa){oa.error(new ub(X.SIGN_NOT_SUPPORTED));},verify:function(Da,oa,da){da.error(new ub(X.VERIFY_NOT_SUPPORTED));}});ic.extend({init:function da(oa){da.base.call(this,gc.JWK_LADDER);Object.defineProperties(this,{repository:{value:oa,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(oa,da,ia){Na(ia,function(){var ka,Ba,Sa;ka=da.mechanism;Ba=da.wrapdata;if(!ka || ka == ca.WRAP && (!Ba || "string" !== typeof Ba))throw new Db(X.JSON_PARSE_ERROR,"keydata " + JSON.stringify(da));if(!ca[ka])throw new Nb(X.UNIDENTIFIED_KEYX_MECHANISM,ka);switch(ka){case ca.WRAP:try{Sa=Gb(Ba);}catch(Ma){throw new Nb(X.KEYX_WRAPPING_KEY_MISSING,"keydata " + da.toString());}if(null == Sa || 0 == Sa.length)throw new Nb(X.KEYX_WRAPPING_KEY_MISSING,"keydata " + da.toString());break;default:Sa=null;}return new Y(ka,Sa);});},createResponseData:function(oa,da,ia){var ka,Ba,Sa,Ma,Ra,Ta,ra;oa=ia.wrapkey;ka=ia.wrapdata;Ba=ia.encryptionkey;Sa=ia.hmackey;if(!(oa && "string" === typeof oa && ka && "string" === typeof ka && Ba && "string" === typeof Ba && Sa) || "string" !== typeof Sa)throw new Db(X.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ia));try{Ma=Gb(oa);Ra=Gb(ka);}catch(Ca){throw new ub(X.INVALID_SYMMETRIC_KEY,"keydata " + JSON.stringify(ia),Ca);}try{Ta=Gb(Ba);}catch(Ca){throw new ub(X.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(ia),Ca);}try{ra=Gb(Sa);}catch(Ca){throw new ub(X.INVALID_HMAC_KEY,"keydata " + JSON.stringify(ia),Ca);}return new aa(da,Ma,Ra,Ta,ra);},generateResponse:function(oa,da,ia,ka){var Ta,ra;function Ba(Ca,Ha,Ka){Ta.generateSessionKeys(oa,{result:function(Fa){Na(ka,function(){Sa(Ca,Ha,Ka,Fa.encryptionKey,Fa.hmacKey);},Ta);},error:function(Fa){Na(ka,function(){Fa instanceof eb && Fa.setEntity(ra);throw Fa;});}});}function Sa(Ca,Ha,Ka,Fa,Ua){Na(ka,function(){ja(oa,da.mechanism,da.wrapdata,Ca,{result:function(Ja){Ja.wrap(Ha,{result:function(Wa){Ma(Ha,Ka,Fa,Ua,Wa);},error:function(Wa){Na(ka,function(){Wa instanceof eb && Wa.setEntity(ra);throw Wa;});}});},error:function(Ja){Na(ka,function(){Ja instanceof eb && Ja.setEntity(ra);throw Ja;});}});},Ta);}function Ma(Ca,Ha,Ka,Fa,Ua){Na(ka,function(){var Ja;Ja=new ea(Ca);Ja.wrap(Ka,{result:function(Wa){Ja.wrap(Fa,{result:function(ab){Ra(Ha,Ua,Ka,Wa,Fa,ab);},error:function(ab){Na(ka,function(){ab instanceof eb && ab.setEntity(ra);throw ab;});}});},error:function(Wa){Na(ka,function(){Wa instanceof eb && Wa.setEntity(ra);throw Wa;});}});},Ta);}function Ra(Ca,Ha,Ka,Fa,Ua,Ja){Na(ka,function(){var Wa;Wa=oa.getTokenFactory();ra?Wa.renewMasterToken(oa,ra,Ka,Ua,{result:function(ab){Na(ka,function(){var Va,jb;Va=new hc(oa,ab);jb=new aa(ab,Ha,Ca,Fa,Ja);return new ic.KeyExchangeData(jb,Va,ka);},Ta);},error:function(ab){Na(ka,function(){ab instanceof eb && ab.setEntity(ra);throw ab;});}}):Wa.createMasterToken(oa,ia,Ka,Ua,{result:function(ab){Na(ka,function(){var Va,jb;Va=new hc(oa,ab);jb=new aa(ab,Ha,Ca,Fa,Ja);return new ic.KeyExchangeData(jb,Va,ka);},Ta);},error:ka.error});},Ta);}Ta=this;Na(ka,function(){var Ca,Ha;if(!(da instanceof Y))throw new vb("Key request data " + JSON.stringify(da) + " was not created by this factory.");Ca=ia;if(ia instanceof ec){if(!ia.isVerified())throw new Vc(X.MASTERTOKEN_UNTRUSTED,ia);ra=ia;Ca=ia.identity;}Ha=new Uint8Array(16);oa.getRandom().nextBytes(Ha);oc(Ha,nc,yc,{result:function(Ka){Na(ka,function(){oa.getMslCryptoContext().wrap(Ka,{result:function(Fa){Ba(Ca,Ka,Fa);},error:function(Fa){Na(ka,function(){Fa instanceof eb && Fa.setEntity(ra);throw Fa;},Ta);}});},Ta);},error:function(Ka){Na(ka,function(){throw new ub(X.WRAP_KEY_CREATION_FAILURE,null,Ka).setEntity(ra);},Ta);}});},Ta);},getCryptoContext:function(oa,da,ia,ka,Ba){var Ma;function Sa(Ra,Ta,ra,Ca,Ha){Na(Ba,function(){var Ka;Ka=new ea(Ha);Ka.unwrap(Ta.encryptionKey,jc,xc,{result:function(Fa){Ka.unwrap(Ta.hmacKey,kc,Gc,{result:function(Ua){Na(Ba,function(){this.repository.addCryptoContext(Ta.wrapdata,Ka);this.repository.removeCryptoContext(ra);return new hc(oa,Ta.masterToken,Ca,Fa,Ua);},Ma);},error:function(Ua){Na(Ba,function(){Ua instanceof eb && Ua.setEntity(Ra);throw Ua;});}});},error:function(Fa){Na(Ba,function(){Fa instanceof eb && Fa.setEntity(Ra);throw Fa;});}});},Ma);}Ma=this;Na(Ba,function(){var Ra,Ta;if(!(da instanceof Y))throw new vb("Key request data " + JSON.stringify(da) + " was not created by this factory.");if(!(ia instanceof aa))throw new vb("Key response data " + JSON.stringify(ia) + " was not created by this factory.");Ra=da.mechanism;Ta=da.wrapdata;oa.getEntityAuthenticationData(null,{result:function(ra){Na(Ba,function(){var Ca,Ha,Ka;Ca=ra.getIdentity();switch(Ra){case ca.PSK:Ha=new tc(Ca);Ka=oa.getEntityAuthenticationFactory(Qb.PSK);if(!Ka)throw new Nb(X.UNSUPPORTED_KEYX_MECHANISM,Ra).setEntity(ra);Ha=Ka.getCryptoContext(oa,Ha);Ha=new ea(Ha.wrapKey);break;case ca.MGK:Ha=new sc(Ca);Ka=oa.getEntityAuthenticationFactory(Qb.MGK);if(!Ka)throw new Nb(X.UNSUPPORTED_KEYX_MECHANISM,Ra).setEntity(ra);Ha=Ka.getCryptoContext(oa,Ha);Ha=new ea(Ha.wrapKey);break;case ca.WRAP:Ha=this.repository.getCryptoContext(Ta);if(!Ha)throw new Nb(X.KEYX_WRAPPING_KEY_MISSING,Fb(Ta)).setEntity(ra);break;default:throw new Nb(X.UNSUPPORTED_KEYX_MECHANISM,Ra).setEntity(ra);}Ha.unwrap(ia.wrapKey,nc,yc,{result:function(Fa){Sa(ra,ia,Ta,Ca,Fa);},error:function(Fa){Na(Ba,function(){Fa instanceof eb && Fa.setEntity(ra);throw Fa;});}});},Ma);},error:Ba.error});},Ma);}});})();uf=Cb.Class.create({addCryptoContext:function(ja,ca){},getCryptoContext:function(ja){},removeCryptoContext:function(ja){}});(function(){var ca,Y,aa,ea;function ja(ba,ma,ya,ua,na){switch(ya){case ca.JWE_RSA:case ca.JWEJS_RSA:return new qc(ba,rc.RSA_OAEP,lc,ua,na);case ca.JWK_RSA:return new kd(ba,ma,ua,na,ld.WRAP_UNWRAP_OAEP);case ca.JWK_RSAES:return new kd(ba,ma,ua,na,ld.WRAP_UNWRAP_PKCS1);default:throw new ub(X.UNSUPPORTED_KEYX_MECHANISM,ya);}}ca=ye={RSA:"RSA",ECC:"ECC",JWE_RSA:"JWE_RSA",JWEJS_RSA:"JWEJS_RSA",JWK_RSA:"JWK_RSA",JWK_RSAES:"JWK_RSAES"};Y=yd=Xc.extend({init:function ta(ma,ya,ua,na){ta.base.call(this,gc.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:ma,writable:!1,configurable:!1},mechanism:{value:ya,writable:!1,configurable:!1},publicKey:{value:ua,writable:!1,configurable:!1},privateKey:{value:na,writable:!1,configurable:!1}});},getKeydata:function(){var ma;ma={};ma.keypairid=this.keyPairId;ma.mechanism=this.mechanism;ma.publickey=Fb(this.publicKey.getEncoded());return ma;},equals:function ua(ya){var na;if(ya === this)return !0;if(!(ya instanceof yd))return !1;na=this.privateKey === ya.privateKey || this.privateKey && ya.privateKey && cc(this.privateKey.getEncoded(),ya.privateKey.getEncoded());return ua.base.call(this,ya) && this.keyPairId == ya.keyPairId && this.mechanism == ya.mechanism && cc(this.publicKey.getEncoded(),ya.publicKey.getEncoded()) && na;},uniqueKey:function ua(){var na,ta;na=this.publicKey.getEncoded();ta=this.privateKey && this.privateKey.getEncoded();na=ua.base.call(this) + ":" + this.keyPairId + ":" + this.mechanism + ":" + dc(na);ta && (na+=":" + dc(ta));return na;}});aa=function(ua,na){Na(na,function(){var ta,Da,oa,da;ta=ua.keypairid;Da=ua.mechanism;oa=ua.publickey;if(!ta || "string" !== typeof ta || !Da || !oa || "string" !== typeof oa)throw new Db(X.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ua));if(!ca[Da])throw new Nb(X.UNIDENTIFIED_KEYX_MECHANISM,Da);try{da=Gb(oa);switch(Da){case ca.JWE_RSA:case ca.JWEJS_RSA:case ca.JWK_RSA:Dd(da,id,yc,{result:function(ia){na.result(new Y(ta,Da,ia,null));},error:function(ia){na.error(ia);}});break;case ca.JWK_RSAES:Dd(da,Bd,yc,{result:function(ia){na.result(new Y(ta,Da,ia,null));},error:function(ia){na.error(ia);}});break;default:throw new ub(X.UNSUPPORTED_KEYX_MECHANISM,Da);}}catch(ia){if(!(ia instanceof eb))throw new ub(X.INVALID_PUBLIC_KEY,"keydata " + JSON.stringify(ua),ia);throw ia;}});};ea=ze=Yc.extend({init:function da(na,ta,Da,oa){da.base.call(this,na,gc.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:ta,writable:!1,configurable:!1},encryptionKey:{value:Da,writable:!1,configurable:!1},hmacKey:{value:oa,writable:!1,configurable:!1}});},getKeydata:function(){var na;na={};na.keypairid=this.keyPairId;na.encryptionkey=Fb(this.encryptionKey);na.hmackey=Fb(this.hmacKey);return na;},equals:function Da(ta){return this === ta?!0:ta instanceof ze?Da.base.call(this,ta) && this.keyPairId == ta.keyPairId && cc(this.encryptionKey,ta.encryptionKey) && cc(this.hmacKey,ta.hmacKey):!1;},uniqueKey:function Da(){return Da.base.call(this) + ":" + this.keyPairId + ":" + dc(this.encryptionKey) + ":" + dc(this.hmacKey);}});de=ic.extend({init:function oa(){oa.base.call(this,gc.ASYMMETRIC_WRAPPED);},createRequestData:function(oa,da,ia){aa(da,ia);},createResponseData:function(oa,da,ia){var ka,Ba,Sa,Ma;oa=ia.keypairid;ka=ia.encryptionkey;Ba=ia.hmackey;if(!oa || "string" !== typeof oa || !ka || "string" !== typeof ka || !Ba || "string" !== typeof Ba)throw new Db(X.JSON_PARSE_ERROR,"keydata " + JSON.stringify(ia));try{Sa=Gb(ka);}catch(Ra){throw new ub(X.INVALID_ENCRYPTION_KEY,"keydata " + JSON.stringify(ia),Ra);}try{Ma=Gb(Ba);}catch(Ra){throw new ub(X.INVALID_HMAC_KEY,"keydata " + JSON.stringify(ia),Ra);}return new ea(da,oa,Sa,Ma);},generateResponse:function(oa,da,ia,ka){var Ma;function Ba(Ra,Ta){Na(ka,function(){var ra;ra=ja(oa,da.keyPairId,da.mechanism,null,da.publicKey);ra.wrap(Ra,{result:function(Ca){Na(ka,function(){ra.wrap(Ta,{result:function(Ha){Sa(Ra,Ca,Ta,Ha);},error:function(Ha){Na(ka,function(){Ha instanceof eb && ia instanceof ec && Ha.setEntity(ia);throw Ha;},Ma);}});},Ma);},error:function(Ca){Na(ka,function(){Ca instanceof eb && ia instanceof ec && Ca.setEntity(ia);throw Ca;},Ma);}});},Ma);}function Sa(Ra,Ta,ra,Ca){Na(ka,function(){var Ha;Ha=oa.getTokenFactory();ia instanceof ec?Ha.renewMasterToken(oa,ia,Ra,ra,{result:function(Ka){Na(ka,function(){var Fa,Ua;Fa=new hc(oa,Ka);Ua=new ea(Ka,da.keyPairId,Ta,Ca);return new ic.KeyExchangeData(Ua,Fa,ka);},Ma);},error:function(Ka){Na(ka,function(){Ka instanceof eb && Ka.setEntity(ia);throw Ka;},Ma);}}):Ha.createMasterToken(oa,ia,Ra,ra,{result:function(Ka){Na(ka,function(){var Fa,Ua;Fa=new hc(oa,Ka);Ua=new ea(Ka,da.keyPairId,Ta,Ca);return new ic.KeyExchangeData(Ua,Fa,ka);},Ma);},error:ka.error});},Ma);}Ma=this;Na(ka,function(){if(!(da instanceof Y))throw new vb("Key request data " + JSON.stringify(da) + " was not created by this factory.");this.generateSessionKeys(oa,{result:function(Ra){Ba(Ra.encryptionKey,Ra.hmacKey);},error:function(Ra){Na(ka,function(){Ra instanceof eb && ia instanceof ec && Ra.setEntity(ia);throw Ra;},Ma);}});},Ma);},getCryptoContext:function(oa,da,ia,ka,Ba){var Sa;Sa=this;Na(Ba,function(){var Ma,Ra,Ta;if(!(da instanceof Y))throw new vb("Key request data " + JSON.stringify(da) + " was not created by this factory.");if(!(ia instanceof ea))throw new vb("Key response data " + JSON.stringify(ia) + " was not created by this factory.");Ma=da.keyPairId;Ra=ia.keyPairId;if(Ma != Ra)throw new Nb(X.KEYX_RESPONSE_REQUEST_MISMATCH,"request " + Ma + "; response " + Ra).setEntity(ka);Ra=da.privateKey;if(!Ra)throw new Nb(X.KEYX_PRIVATE_KEY_MISSING,"request Asymmetric private key").setEntity(ka);Ta=ja(oa,Ma,da.mechanism,Ra,null);Ta.unwrap(ia.encryptionKey,jc,xc,{result:function(ra){Ta.unwrap(ia.hmacKey,kc,Gc,{result:function(Ca){oa.getEntityAuthenticationData(null,{result:function(Ha){Na(Ba,function(){var Ka;Ka=Ha.getIdentity();return new hc(oa,ia.masterToken,Ka,ra,Ca);},Sa);},error:function(Ha){Na(Ba,function(){Ha instanceof eb && Ha.setEntity(ka);throw Ha;},Sa);}});},error:function(Ca){Na(Ba,function(){Ca instanceof eb && Ca.setEntity(ka);throw Ca;},Sa);}});},error:function(ra){Na(Ba,function(){ra instanceof eb && ra.setEntity(ka);throw ra;},Sa);}});},Sa);}});})();tf=Cb.Class.create({init:function(ja){var ca,Y,aa,ea,ba,ma,ya,ua;ca=Xb.parser();Y=[];aa=[];ya=0;ua=!1;ca.onerror=function(na){ua || (ua=!0,ca.end());};ca.onopenobject=function(na){var ta;if(ea)(ea[ma]={},aa.push(ea),ea=ea[ma]);else if(ba){ta={};aa.push(ba);ba.push(ta);ea=ta;ba=Bb;}else ea={};ma=na;};ca.oncloseobject=function(){var na;na=aa.pop();na?"object" === typeof na?ea=na:(ea=Bb,ba=na):(Y.push(ea),ya=ca.index,ea=Bb);};ca.onopenarray=function(){var na;if(ea)(ea[ma]=[],aa.push(ea),ba=ea[ma],ea=Bb);else if(ba){na=[];aa.push(ba);ba.push(na);ba=na;}else ba=[];};ca.onclosearray=function(){var na;na=aa.pop();na?"object" === typeof na?(ea=na,ba=Bb):ba=na:(Y.push(ba),ya=ca.index,ba=Bb);};ca.onkey=function(na){ma=na;};ca.onvalue=function(na){ea?ea[ma]=na:ba?ba.push(na):(Y.push(na),ya=ca.index);};ca.write(ja).close();Object.defineProperties(this,{_values:{value:Y,writable:!1,enumerable:!1,configurable:!1},_lastIndex:{value:ya,writable:!0,enumerable:!1,configurable:!1}});},more:function(){return 0 < this._values.length;},nextValue:function(){return 0 == this._values.length?Bb:this._values.shift();},lastIndex:function(){return this._lastIndex;}});(function(){var ja,ca,Y,aa,ea;ja=Md="entityauthdata";ca=Be="mastertoken";Y=Ce="headerdata";aa=De="errordata";ea=Nd="signature";Ae=function(ba,ma,ya,ua){Na(ua,function(){var na,ta,Da,oa,da,ia;na=ma[ja];ta=ma[ca];Da=ma[ea];if(na && "object" !== typeof na || ta && "object" !== typeof ta || "string" !== typeof Da)throw new Db(X.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(ma));try{oa=Gb(Da);}catch(ka){throw new Ib(X.HEADER_SIGNATURE_INVALID,"header/errormsg " + JSON.stringify(ma),ka);}da=null;na && (da=me(ba,na));ia=ma[Y];if(ia != Bb && null != ia){if("string" !== typeof ia)throw new Db(X.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(ma));ta?Zc(ba,ta,{result:function(ka){Od(ba,ia,da,ka,oa,ya,ua);},error:function(ka){ua.error(ka);}}):Od(ba,ia,da,null,oa,ya,ua);}else if((na=ma[aa],na != Bb && null != na)){if("string" !== typeof na)throw new Db(X.JSON_PARSE_ERROR,"header/errormsg " + JSON.stringify(ma));Ee(ba,na,da,oa,ua);}else throw new Db(X.JSON_PARSE_ERROR,JSON.stringify(ma));});};})();(function(){function ja(ca,Y){this.errordata=ca;this.signature=Y;}Cc=Cb.Class.create({init:function(ca,Y,aa,ea,ba,ma,ya,ua,na,ta){var Da;Da=this;Na(ta,function(){var oa,da;0 > ma && (ma=-1);if(0 > ea || ea > Kb)throw new vb("Message ID " + ea + " is out of range.");if(!Y)throw new Ib(X.MESSAGE_ENTITY_NOT_FOUND);if(na)return (Object.defineProperties(this,{entityAuthenticationData:{value:Y,writable:!1,configurable:!1},recipient:{value:aa,writable:!1,configurable:!1},messageId:{value:ea,writable:!1,configurable:!1},errorCode:{value:ba,writable:!1,configurable:!1},internalCode:{value:ma,writable:!1,configurable:!1},errorMessage:{value:ya,writable:!1,configurable:!1},userMessage:{value:ua,writable:!1,configurable:!1},errordata:{value:na.errordata,writable:!1,enumerable:!1,configurable:!1},signature:{value:na.signature,writable:!1,enumerable:!1,configurable:!1}}),this);oa={};aa && (oa.recipient=aa);oa.messageid=ea;oa.errorcode=ba;0 < ma && (oa.internalcode=ma);ya && (oa.errormsg=ya);ua && (oa.usermsg=ua);try{da=ca.getEntityAuthenticationFactory(Y.scheme).getCryptoContext(ca,Y);}catch(ia){throw (ia instanceof eb && (ia.setEntity(Y),ia.setMessageId(ea)),ia);}oa=bc(JSON.stringify(oa),Mb);da.encrypt(oa,{result:function(ia){Na(ta,function(){da.sign(ia,{result:function(ka){Na(ta,function(){Object.defineProperties(this,{entityAuthenticationData:{value:Y,writable:!1,configurable:!1},recipient:{value:aa,writable:!1,configurable:!1},messageId:{value:ea,writable:!1,configurable:!1},errorCode:{value:ba,writable:!1,configurable:!1},internalCode:{value:ma,writable:!1,configurable:!1},errorMessage:{value:ya,writable:!1,configurable:!1},userMessage:{value:ua,writable:!1,configurable:!1},errordata:{value:ia,writable:!1,enumerable:!1,configurable:!1},signature:{value:ka,writable:!1,enumerable:!1,configurable:!1}});return this;},Da);},error:function(ka){Na(ta,function(){ka instanceof eb && (ka.setEntity(Y),ka.setMessageId(ea));throw ka;},Da);}});},Da);},error:function(ia){Na(ta,function(){ia instanceof eb && (ia.setEntity(Y),ia.setMessageId(ea));throw ia;},Da);}});},Da);},toJSON:function(){var ca;ca={};ca[Md]=this.entityAuthenticationData;ca[De]=Fb(this.errordata);ca[Nd]=Fb(this.signature);return ca;}});Fe=function(ca,Y,aa,ea,ba,ma,ya,ua,na){new Cc(ca,Y,aa,ea,ba,ma,ya,ua,null,na);};Ee=function(ca,Y,aa,ea,ba){Na(ba,function(){var ma,ya,ua;if(!aa)throw new Ib(X.MESSAGE_ENTITY_NOT_FOUND);try{ma=aa.scheme;ya=ca.getEntityAuthenticationFactory(ma);if(!ya)throw new mc(X.ENTITYAUTH_FACTORY_NOT_FOUND,ma);ua=ya.getCryptoContext(ca,aa);}catch(na){throw (na instanceof eb && na.setEntity(aa),na);}try{Y=Gb(Y);}catch(na){throw new Ib(X.HEADER_DATA_INVALID,Y,na).setEntity(aa);}if(!Y || 0 == Y.length)throw new Ib(X.HEADER_DATA_MISSING,Y).setEntity(aa);ua.verify(Y,ea,{result:function(na){Na(ba,function(){if(!na)throw new ub(X.MESSAGE_VERIFICATION_FAILED).setEntity(aa);ua.decrypt(Y,{result:function(ta){Na(ba,function(){var Da,oa,da,ia,ka,Ba,Sa,Ma;Da=ac(ta,Mb);try{oa=JSON.parse(Da);}catch(Ta){if(Ta instanceof SyntaxError)throw new Db(X.JSON_PARSE_ERROR,"errordata " + Da,Ta).setEntity(aa);throw Ta;}da=oa.recipient !== Bb?oa.recipient:null;ia=parseInt(oa.messageid);ka=parseInt(oa.errorcode);Ba=parseInt(oa.internalcode);Sa=oa.errormsg;Ma=oa.usermsg;if(da && "string" !== typeof da || !ia || ia != ia || !ka || ka != ka || oa.internalcode && Ba != Ba || Sa && "string" !== typeof Sa || Ma && "string" !== typeof Ma)throw new Db(X.JSON_PARSE_ERROR,"errordata " + Da).setEntity(aa);if(0 > ia || ia > Kb)throw new Ib(X.MESSAGE_ID_OUT_OF_RANGE,"errordata " + Da).setEntity(aa);oa=!1;for(var Ra in Ia){if(Ia[Ra] == ka){oa=!0;break;}}oa || (ka=Ia.FAIL);if(Ba){if(0 > Ba)throw new Ib(X.INTERNAL_CODE_NEGATIVE,"errordata " + Da).setEntity(aa).setMessageId(ia);}else Ba=-1;Da=new ja(Y,ea);new Cc(ca,aa,da,ia,ka,Ba,Sa,Ma,Da,ba);});},error:function(ta){Na(ba,function(){ta instanceof eb && ta.setEntity(aa);throw ta;});}});});},error:function(na){Na(ba,function(){na instanceof eb && na.setEntity(aa);throw na;});}});});};})();vf=Cb.Class.create({getUserMessage:function(ja,ca){}});(function(){Pd=function(ja,ca){var Y;if(!ja || !ca)return null;Y=ja.compressionAlgorithms.filter(function(aa){for(var ea=0;ea < ca.compressionAlgorithms.length;++ea){if(aa == ca.compressionAlgorithms[ea])return !0;}return !1;});ja=ja.languages.filter(function(aa){for(var ea=0;ea < ca.languages.length;++ea){if(aa == ca.languages[ea])return !0;}return !1;});return new $c(Y,ja);};$c=Cb.Class.create({init:function(ja,ca){ja || (ja=[]);ca || (ca=[]);ja.sort();Object.defineProperties(this,{compressionAlgorithms:{value:ja,writable:!1,enumerable:!0,configurable:!1},languages:{value:ca,writable:!1,enumerable:!0,configurable:!1}});},toJSON:function(){var ja;ja={};ja.compressionalgos=this.compressionAlgorithms;ja.languages=this.languages;return ja;},equals:function(ja){return this === ja?!0:ja instanceof $c?Xd(this.compressionAlgorithms,ja.compressionAlgorithms) && Xd(this.languages,ja.languages):!1;},uniqueKey:function(){return this.compressionAlgorithms.join(":") + "|" + this.languages.join(":");}});Ge=function(ja){var ca,Y,ea;ca=ja.compressionalgos;Y=ja.languages;if(ca && !(ca instanceof Array) || Y && !(Y instanceof Array))throw new Db(X.JSON_PARSE_ERROR,"capabilities " + JSON.stringify(ja));ja=[];for(var aa=0;ca && aa < ca.length;++aa){ea=ca[aa];Ec[ea] && ja.push(ea);}return new $c(ja,Y);};})();(function(){var ta,Da;function ja(oa,da,ia,ka,Ba){this.customer=oa;this.sender=da;this.messageCryptoContext=ia;this.headerdata=ka;this.signature=Ba;}function ca(oa,da,ia,ka,Ba,Sa,Ma,Ra,Ta,ra,Ca,Ha,Ka,Fa,Ua,Ja,Wa,ab,Va,jb){return {cryptoContext:{value:da,writable:!1,configurable:!1},customer:{value:ia,writable:!1,configurable:!1},entityAuthenticationData:{value:ka,writable:!1,configurable:!1},masterToken:{value:Ba,writable:!1,configurable:!1},sender:{value:Sa,writable:!1,configurable:!1},messageId:{value:Ma,writable:!1,configurable:!1},nonReplayableId:{value:Ja,writable:!1,configurable:!1},keyRequestData:{value:Ra,writable:!1,configurable:!1},keyResponseData:{value:Ta,writable:!1,configurable:!1},userAuthenticationData:{value:ra,writable:!1,configurable:!1},userIdToken:{value:Ca,writable:!1,configurable:!1},serviceTokens:{value:Ha,writable:!1,configurable:!1},peerMasterToken:{value:Ka,writable:!1,configurable:!1},peerUserIdToken:{value:Fa,writable:!1,configurable:!1},peerServiceTokens:{value:Ua,writable:!1,configurable:!1},messageCapabilities:{value:ab,writable:!1,configurable:!1},renewable:{value:Wa,writable:!1,enumerable:!1,configurable:!1},headerdata:{value:Va,writable:!1,enumerable:!1,configurable:!1},signature:{value:jb,writable:!1,enumerable:!1,configurable:!1}};}function Y(oa,da,ia){var ka;if(ia){if(da=oa.getMslStore().getCryptoContext(ia))return da;if(!ia.isVerified() || !ia.isDecrypted())throw new Vc(X.MASTERTOKEN_UNTRUSTED,ia);return new hc(oa,ia);}ia=da.scheme;ka=oa.getEntityAuthenticationFactory(ia);if(!ka)throw new mc(X.ENTITYAUTH_FACTORY_NOT_FOUND,ia);return ka.getCryptoContext(oa,da);}function aa(oa,da,ia,ka,Ba){Na(Ba,function(){da.verify(ia,ka,{result:function(Sa){Na(Ba,function(){if(!Sa)throw new ub(X.MESSAGE_VERIFICATION_FAILED);da.decrypt(ia,{result:function(Ma){Na(Ba,function(){return ac(Ma,Mb);});},error:function(Ma){Ba.error(Ma);}});});},error:function(Sa){Ba.error(Sa);}});});}function ea(oa,da,ia){Na(ia,function(){if(da)te(oa,da,ia);else return null;});}function ba(oa,da,ia,ka){Na(ka,function(){if(da)qd(oa,da,ia,ka);else return null;});}function ma(oa,da,ia,ka){Na(ka,function(){if(ia)Ke(oa,da,ia,ka);else return null;});}function ya(oa,da,ia,ka,Ba,Sa,Ma){var Ta;function Ra(ra,Ca,Ha){var Ka,Fa;if(Ca >= ra.length){Ka=[];for(Fa in Ta){Ka.push(Ta[Fa]);}Ha.result(Ka);}else {Ka=ra[Ca];if("object" !== typeof Ka)throw new Db(X.JSON_PARSE_ERROR,"headerdata " + Sa);rd(oa,Ka,ia,ka,Ba,{result:function(Ua){Na(Ha,function(){Ta[Ua.uniqueKey()]=Ua;Ra(ra,Ca + 1,Ha);});},error:function(Ua){Ha.error(Ua);}});}}Ta={};Na(Ma,function(){if(da){if(!(da instanceof Array))throw new Db(X.JSON_PARSE_ERROR,"headerdata " + Sa);Ra(da,0,Ma);}else return [];});}function ua(oa,da,ia,ka,Ba,Sa){function Ma(Ta,ra,Ca){Na(Ca,function(){var Ha;Ha=ra.peermastertoken;if(Ha && "object" !== typeof Ha)throw new Db(X.JSON_PARSE_ERROR,"headerdata " + Ba);if(!Ha)return null;Zc(Ta,Ha,Ca);});}function Ra(Ta,ra,Ca,Ha){Na(Ha,function(){var Ka;Ka=ra.peeruseridtoken;if(Ka && "object" !== typeof Ka)throw new Db(X.JSON_PARSE_ERROR,"headerdata " + Ba);if(!Ka)return null;qd(Ta,Ka,Ca,Ha);});}Na(Sa,function(){if(!oa.isPeerToPeer())return {peerMasterToken:null,peerUserIdToken:null,peerServiceTokens:[]};Ma(oa,da,{result:function(Ta){Na(Sa,function(){var ra;ra=ia?ia.masterToken:Ta;Ra(oa,da,ra,{result:function(Ca){Na(Sa,function(){ya(oa,da.peerservicetokens,ra,Ca,ka,Ba,{result:function(Ha){Na(Sa,function(){return {peerMasterToken:Ta,peerUserIdToken:Ca,peerServiceTokens:Ha};});},error:function(Ha){Na(Sa,function(){Ha instanceof eb && (Ha.setEntity(ra),Ha.setUser(Ca));throw Ha;});}});});},error:function(Ca){Na(Sa,function(){Ca instanceof eb && Ca.setEntity(ra);throw Ca;});}});});},error:Sa.error});});}function na(oa,da,ia,ka){var Sa;function Ba(Ma,Ra){Na(ka,function(){if(Ra >= Ma.length)return Sa;se(oa,Ma[Ra],{result:function(Ta){Na(ka,function(){Sa.push(Ta);Ba(Ma,Ra + 1);});},error:function(Ta){ka.error(Ta);}});});}Sa=[];Na(ka,function(){var Ma;Ma=da.keyrequestdata;if(!Ma)return Sa;if(!(Ma instanceof Array))throw new Db(X.JSON_PARSE_ERROR,"headerdata " + ia);Ba(Ma,0);});}ta=Ie=Cb.Class.create({init:function(oa,da,ia,ka,Ba,Sa,Ma,Ra,Ta){Object.defineProperties(this,{messageId:{value:oa,writable:!1,configurable:!1},nonReplayableId:{value:da,writable:!1,configurable:!1},renewable:{value:ia,writable:!1,configurable:!1},capabilities:{value:ka,writable:!1,configurable:!1},keyRequestData:{value:Ba,writable:!1,configurable:!1},keyResponseData:{value:Sa,writable:!1,configurable:!1},userAuthData:{value:Ma,writable:!1,configurable:!1},userIdToken:{value:Ra,writable:!1,configurable:!1},serviceTokens:{value:Ta,writable:!1,configurable:!1}});}});Da=Je=Cb.Class.create({init:function(oa,da,ia){Object.defineProperties(this,{peerMasterToken:{value:oa,writable:!1,configurable:!1},peerUserIdToken:{value:da,writable:!1,configurable:!1},peerServiceTokens:{value:ia,writable:!1,configurable:!1}});}});ad=Cb.Class.create({init:function(oa,da,ia,ka,Ba,Sa,Ma){var Ta;function Ra(ra){Na(Ma,function(){var Ca,Ha,Ka,Fa,Ua,Ja,Wa,ab,Va,jb,lb,ob,pb,qb,Ab,yb,r;da=ia?null:da;Ca=ka.nonReplayableId;Ha=ka.renewable;Ka=ka.capabilities;Fa=ka.messageId;Ua=ka.keyRequestData?ka.keyRequestData:[];Ja=ka.keyResponseData;Wa=ka.userAuthData;ab=ka.userIdToken;Va=ka.serviceTokens?ka.serviceTokens:[];if(oa.isPeerToPeer()){jb=Ba.peerMasterToken;lb=Ba.peerUserIdToken;ob=Ba.peerServiceTokens?Ba.peerServiceTokens:[];}else (lb=jb=null,ob=[]);if(0 > Fa || Fa > Kb)throw new vb("Message ID " + Fa + " is out of range.");if(!da && !ia)throw new vb("Message entity authentication data or master token must be provided.");if(Ja){if(oa.isPeerToPeer()){pb=ia;qb=Ja.masterToken;}else (pb=Ja.masterToken,qb=jb);}else (pb=ia,qb=jb);if(ab && (!pb || !ab.isBoundTo(pb)))throw new vb("User ID token must be bound to a master token.");if(lb && (!qb || !lb.isBoundTo(qb)))throw new vb("Peer user ID token must be bound to a peer master token.");Va.forEach(function(b){if(b.isMasterTokenBound() && (!pb || !b.isBoundTo(pb)))throw new vb("Master token bound service tokens must be bound to the provided master token.");if(b.isUserIdTokenBound() && (!ab || !b.isBoundTo(ab)))throw new vb("User ID token bound service tokens must be bound to the provided user ID token.");},this);ob.forEach(function(b){if(b.isMasterTokenBound() && (!qb || !b.isBoundTo(qb)))throw new vb("Master token bound peer service tokens must be bound to the provided peer master token.");if(b.isUserIdTokenBound() && (!lb || !b.isBoundTo(lb)))throw new vb("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},this);if(Sa){r=Sa.customer;Ab=Sa.messageCryptoContext;yb=ca(oa,Ab,r,da,ia,ra,Fa,Ua,Ja,Wa,ab,Va,jb,lb,ob,Ca,Ha,Ka,Sa.headerdata,Sa.signature);Object.defineProperties(this,yb);return this;}r=ab?ab.customer:null;yb={};ra && (yb.sender=ra);yb.messageid=Fa;"number" === typeof Ca && (yb.nonreplayableid=Ca);yb.renewable=Ha;Ka && (yb.capabilities=Ka);0 < Ua.length && (yb.keyrequestdata=Ua);Ja && (yb.keyresponsedata=Ja);Wa && (yb.userauthdata=Wa);ab && (yb.useridtoken=ab);0 < Va.length && (yb.servicetokens=Va);jb && (yb.peermastertoken=jb);lb && (yb.peeruseridtoken=lb);0 < ob.length && (yb.peerservicetokens=ob);try{Ab=Y(oa,da,ia);}catch(b){throw (b instanceof eb && (b.setEntity(ia),b.setEntity(da),b.setUser(ab),b.setUser(Wa),b.setMessageId(Fa)),b);}yb=bc(JSON.stringify(yb),Mb);Ab.encrypt(yb,{result:function(b){Na(Ma,function(){Ab.sign(b,{result:function(a){Na(Ma,function(){var c;c=ca(oa,Ab,r,da,ia,ra,Fa,Ua,Ja,Wa,ab,Va,jb,lb,ob,Ca,Ha,Ka,b,a);Object.defineProperties(this,c);return this;},Ta);},error:function(a){Na(Ma,function(){a instanceof eb && (a.setEntity(ia),a.setEntity(da),a.setUser(ab),a.setUser(Wa),a.setMessageId(Fa));throw a;},Ta);}});},Ta);},error:function(b){Na(Ma,function(){b instanceof eb && (b.setEntity(ia),b.setEntity(da),b.setUser(ab),b.setUser(Wa),b.setMessageId(Fa));throw b;},Ta);}});},Ta);}Ta=this;Na(Ma,function(){Sa?Ra(Sa.sender):ia?oa.getEntityAuthenticationData(null,{result:function(ra){ra=ra.getIdentity();Ra(ra);},error:Ma.error}):Ra(null);},Ta);},isEncrypting:function(){return this.masterToken || xd(this.entityAuthenticationData.scheme);},isRenewable:function(){return this.renewable;},toJSON:function(){var oa;oa={};this.masterToken?oa[Be]=this.masterToken:oa[Md]=this.entityAuthenticationData;oa[Ce]=Fb(this.headerdata);oa[Nd]=Fb(this.signature);return oa;}});He=function(oa,da,ia,ka,Ba,Sa){new ad(oa,da,ia,ka,Ba,null,Sa);};Od=function(oa,da,ia,ka,Ba,Sa,Ma){Na(Ma,function(){var Ra,Ta;ia=ka?null:ia;if(!ia && !ka)throw new Ib(X.MESSAGE_ENTITY_NOT_FOUND);Ra=da;try{da=Gb(Ra);}catch(ra){throw new Ib(X.HEADER_DATA_INVALID,Ra,ra);}if(!da || 0 == da.length)throw new Ib(X.HEADER_DATA_MISSING,Ra);try{Ta=Y(oa,ia,ka);}catch(ra){throw (ra instanceof eb && (ra.setEntity(ka),ra.setEntity(ia)),ra);}aa(oa,Ta,da,Ba,{result:function(ra){Na(Ma,function(){var Ca,Ha,Ka,Fa,Ua;try{Ca=JSON.parse(ra);}catch(Ja){if(Ja instanceof SyntaxError)throw new Db(X.JSON_PARSE_ERROR,"headerdata " + ra,Ja).setEntity(ka).setEntity(ia);throw Ja;}Ha=parseInt(Ca.messageid);if(!Ha || Ha != Ha)throw new Db(X.JSON_PARSE_ERROR,"headerdata " + ra).setEntity(ka).setEntity(ia);if(0 > Ha || Ha > Kb)throw new Ib(X.MESSAGE_ID_OUT_OF_RANGE,"headerdata " + ra).setEntity(ka).setEntity(ia);Ka=ka?Ca.sender:null;if(ka && (!Ka || "string" !== typeof Ka))throw new Db(X.JSON_PARSE_ERROR,"headerdata " + ra).setEntity(ka).setEntity(ia).setMessageId(Ha);Fa=Ca.keyresponsedata;if(Fa && "object" !== typeof Fa)throw new Db(X.JSON_PARSE_ERROR,"headerdata " + ra).setEntity(ka).setEntity(ia).setMessageId(Ha);Ua=Ma;Ma={result:function(Ja){Ua.result(Ja);},error:function(Ja){Ja instanceof eb && (Ja.setEntity(ka),Ja.setEntity(ia),Ja.setMessageId(Ha));Ua.error(Ja);}};ea(oa,Fa,{result:function(Ja){Na(Ma,function(){var Wa,ab;Wa=!oa.isPeerToPeer() && Ja?Ja.masterToken:ka;ab=Ca.useridtoken;if(ab && "object" !== typeof ab)throw new Db(X.JSON_PARSE_ERROR,"headerdata " + ra);ba(oa,ab,Wa,{result:function(Va){Na(Ma,function(){var jb;jb=Ca.userauthdata;if(jb && "object" !== typeof jb)throw new Db(X.JSON_PARSE_ERROR,"headerdata " + ra);ma(oa,Wa,jb,{result:function(lb){Na(Ma,function(){var ob,pb,qb;if(lb){ob=lb.scheme;pb=oa.getUserAuthenticationFactory(ob);if(!pb)throw new wc(X.USERAUTH_FACTORY_NOT_FOUND,ob).setUser(Va).setUser(lb);ob=ka?ka.identity:ia.getIdentity();qb=pb.authenticate(oa,ob,lb,Va);}else qb=Va?Va.customer:null;ya(oa,Ca.servicetokens,Wa,Va,Sa,ra,{result:function(Ab){Na(Ma,function(){var yb,r,b,a;yb=Ca.nonreplayableid !== Bb?parseInt(Ca.nonreplayableid):null;r=Ca.renewable;if(yb != yb || "boolean" !== typeof r)throw new Db(X.JSON_PARSE_ERROR,"headerdata " + ra);if(0 > yb || yb > Kb)throw new Ib(X.NONREPLAYABLE_ID_OUT_OF_RANGE,"headerdata " + ra);b=null;a=Ca.capabilities;if(a){if("object" !== typeof a)throw new Db(X.JSON_PARSE_ERROR,"headerdata " + ra);b=Ge(a);}na(oa,Ca,ra,{result:function(c){ua(oa,Ca,Ja,Sa,ra,{result:function(l){Na(Ma,function(){var g,m,d,f;g=l.peerMasterToken;m=l.peerUserIdToken;d=l.peerServiceTokens;f=new ta(Ha,yb,r,b,c,Ja,lb,Va,Ab);g=new Da(g,m,d);m=new ja(qb,Ka,Ta,da,Ba);new ad(oa,ia,ka,f,g,m,Ma);});},error:Ma.error});},error:function(c){Na(Ma,function(){c instanceof eb && (c.setUser(Va),c.setUser(lb));throw c;});}});});},error:function(Ab){Na(Ma,function(){Ab instanceof eb && (Ab.setEntity(Wa),Ab.setUser(Va),Ab.setUser(lb));throw Ab;});}});});},error:Ma.error});});},error:Ma.error});});},error:Ma.error});});},error:Ma.error});});};})();(function(){function ja(ca,Y){this.payload=ca;this.signature=Y;}Qd=Cb.Class.create({init:function(ca,Y,aa,ea,ba,ma,ya,ua){var na;na=this;Na(ua,function(){var ta,Da;if(0 > ca || ca > Kb)throw new vb("Sequence number " + ca + " is outside the valid range.");if(0 > Y || Y > Kb)throw new vb("Message ID " + Y + " is outside the valid range.");if(ya)return (Object.defineProperties(this,{sequenceNumber:{value:ca,writable:!1,configurable:!1},messageId:{value:Y,writable:!1,configurable:!1},compressionAlgo:{value:ea,writable:!1,configurable:!1},data:{value:ba,writable:!1,configurable:!1},endofmsg:{value:aa,writable:!1,enumerable:!1,configurable:!1},payload:{value:ya.payload,writable:!1,enumerable:!1,configurable:!1},signature:{value:ya.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(ea){ta=Rd(ea,ba);ta || (ea=null,ta=ba);}else (ea=null,ta=ba);Da={};Da.sequencenumber=ca;Da.messageid=Y;aa && (Da.endofmsg=aa);ea && (Da.compressionalgo=ea);Da.data=Fb(ta);ta=bc(JSON.stringify(Da),Mb);ma.encrypt(ta,{result:function(oa){Na(ua,function(){ma.sign(oa,{result:function(da){Na(ua,function(){Object.defineProperties(this,{sequenceNumber:{value:ca,writable:!1,configurable:!1},messageId:{value:Y,writable:!1,configurable:!1},compressionAlgo:{value:ea,writable:!1,configurable:!1},data:{value:ba,writable:!1,configurable:!1},endofmsg:{value:aa,writable:!1,enumerable:!1,configurable:!1},payload:{value:oa,writable:!1,enumerable:!1,configurable:!1},signature:{value:da,writable:!1,enumerable:!1,configurable:!1}});return this;},na);},error:function(da){ua.error(da);}});},na);},error:function(oa){ua.error(oa);}});},na);},isEndOfMessage:function(){return this.endofmsg;},toJSON:function(){var ca;ca={};ca.payload=Fb(this.payload);ca.signature=Fb(this.signature);return ca;}});Le=function(ca,Y,aa,ea,ba,ma,ya){new Qd(ca,Y,aa,ea,ba,ma,null,ya);};Me=function(ca,Y,aa){Na(aa,function(){var ea,ba,ma,ya;ea=ca.payload;ba=ca.signature;if(!ea || "string" !== typeof ea || "string" !== typeof ba)throw new Db(X.JSON_PARSE_ERROR,"payload chunk " + JSON.stringify(ca));try{ma=Gb(ea);}catch(ua){throw new Ib(X.PAYLOAD_INVALID,"payload chunk " + JSON.stringify(ca),ua);}try{ya=Gb(ba);}catch(ua){throw new Ib(X.PAYLOAD_SIGNATURE_INVALID,"payload chunk " + JSON.stringify(ca),ua);}Y.verify(ma,ya,{result:function(ua){Na(aa,function(){if(!ua)throw new ub(X.PAYLOAD_VERIFICATION_FAILED);Y.decrypt(ma,{result:function(na){Na(aa,function(){var ta,Da,oa,da,ia,ka,Ba;ta=ac(na,Mb);try{Da=JSON.parse(ta);}catch(Sa){if(Sa instanceof SyntaxError)throw new Db(X.JSON_PARSE_ERROR,"payload chunk payload " + ta,Sa);throw Sa;}oa=parseInt(Da.sequencenumber);da=parseInt(Da.messageid);ia=Da.endofmsg;ka=Da.compressionalgo;Da=Da.data;if(!oa || oa != oa || !da || da != da || ia && "boolean" !== typeof ia || ka && "string" !== typeof ka || "string" !== typeof Da)throw new Db(X.JSON_PARSE_ERROR,"payload chunk payload " + ta);if(0 > oa || oa > Kb)throw new eb(X.PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE,"payload chunk payload " + ta);if(0 > da || da > Kb)throw new eb(X.PAYLOAD_MESSAGE_ID_OUT_OF_RANGE,"payload chunk payload " + ta);ia || (ia=!1);if(ka && !Ec[ka])throw new Ib(X.UNIDENTIFIED_COMPRESSION,ka);try{Ba=Gb(Da);}catch(Sa){throw new Ib(X.PAYLOAD_DATA_CORRUPT,Da,Sa);}if(Ba && 0 != Ba.length)ta=ka?sd(ka,Ba):Ba;else {if(0 < Da.length)throw new Ib(X.PAYLOAD_DATA_CORRUPT,Da);if(ia)ta=new Uint8Array(0);else throw new Ib(X.PAYLOAD_DATA_MISSING,Da);}Ba=new ja(ma,ya);new Qd(oa,da,ia,ka,ta,Y,Ba,aa);});},error:function(na){aa.error(na);}});});},error:function(ua){aa.error(ua);}});});};})();(function(){var aa,ea;function ja(ba,ma,ya,ua,na){var Da,oa,da,ia,ka;function ta(){Na(na,function(){var Ba,Sa;oa >= ma.length && (oa=0,++Da);if(Da >= da.length){if(ia)throw ia;throw new Nb(X.KEYX_FACTORY_NOT_FOUND,JSON.stringify(ma));}Ba=da[Da];Sa=ma[oa];Ba.scheme != Sa.keyExchangeScheme?(++oa,ta()):Ba.generateResponse(ba,Sa,ka,{result:function(Ma){na.result(Ma);},error:function(Ma){Na(na,function(){if(!(Ma instanceof eb))throw Ma;ia=Ma;++oa;ta();});}});});}Da=0;oa=0;da=ba.getKeyExchangeFactories();ka=ya?ya:ua;ta();}function ca(ba,ma,ya,ua,na){Na(na,function(){var ta;ta=ma.keyRequestData;if(ma.isRenewable() && 0 < ta.length)ua?ua.isRenewable() || ua.isExpired()?ja(ba,ta,ua,null,na):ba.getTokenFactory().isNewestMasterToken(ba,ua,{result:function(Da){Na(na,function(){if(Da)return null;ja(ba,ta,ua,null,na);});},error:na.error}):ja(ba,ta,null,ya.getIdentity(),na);else return null;});}function Y(ba,ma,ya,ua){Na(ua,function(){var na,ta,Da,oa;na=ma.userIdToken;ta=ma.userAuthenticationData;Da=ma.messageId;if(na && na.isVerified()){if(na.isRenewable() && ma.isRenewable() || na.isExpired() || !na.isBoundTo(ya)){ta=ba.getTokenFactory();ta.renewUserIdToken(ba,na,ya,ua);return;}}else if(ma.isRenewable() && ya && ta){na=ma.customer;if(!na){na=ta.scheme;oa=ba.getUserAuthenticationFactory(na);if(!oa)throw new wc(X.USERAUTH_FACTORY_NOT_FOUND,na).setEntity(ya).setUser(ta).setMessageId(Da);na=oa.authenticate(ba,ya.identity,ta,null);}ta=ba.getTokenFactory();ta.createUserIdToken(ba,na,ya,ua);return;}return na;});}aa=new Uint8Array(0);ea=Hc=function(ba){if(0 > ba || ba > Kb)throw new vb("Message ID " + ba + " is outside the valid range.");return ba == Kb?0:ba + 1;};Qc=function(ba){if(0 > ba || ba > Kb)throw new vb("Message ID " + ba + " is outside the valid range.");return 0 == ba?Kb:ba - 1;};Ic=function(ba,ma,ya,ua,na){Na(na,function(){var ta;if(ua == Bb || null == ua){ta=ba.getRandom();do {ua=ta.nextLong();}while(0 > ua || ua > Kb);}else if(0 > ua || ua > Kb)throw new vb("Message ID " + ua + " is outside the valid range.");ba.getEntityAuthenticationData(null,{result:function(Da){Na(na,function(){var oa;oa=ba.getMessageCapabilities();return new td(ba,ua,oa,Da,ma,ya,null,null,null,null,null);});},error:function(Da){na.error(Da);}});});};Ne=function(ba,ma,ya){Na(ya,function(){var na,ta,Da,oa,da,ia;function ua(ka){Na(ya,function(){ka instanceof eb && (ka.setEntity(na),ka.setEntity(ta),ka.setUser(Da),ka.setUser(oa),ka.setMessageId(da));throw ka;});}na=ma.masterToken;ta=ma.entityAuthenticationData;Da=ma.userIdToken;oa=ma.userAuthenticationData;da=ma.messageId;ia=ea(da);ca(ba,ma,ta,na,{result:function(ka){Na(ya,function(){var Ba;Ba=ka?ka.keyResponseData.masterToken:Ba=na;ba.getEntityAuthenticationData(null,{result:function(Sa){Na(ya,function(){Y(ba,ma,Ba,{result:function(Ma){Na(ya,function(){var Ra,Ta,ra;Da=Ma;Ra=Pd(ma.messageCapabilities,ba.getMessageCapabilities());Ta=ma.keyResponseData;ra=ma.serviceTokens;return ba.isPeerToPeer()?new td(ba,ia,Ra,Sa,Ta?Ta.masterToken:ma.peerMasterToken,ma.peerUserIdToken,ma.peerServiceTokens,na,Da,ra,ka):new td(ba,ia,Ra,Sa,Ta?Ta.masterToken:na,Da,ra,null,null,null,ka);});},error:ua});});},error:ua});});},error:ua});});};Oe=function(ba,ma,ya,ua,na){Na(na,function(){ba.getEntityAuthenticationData(null,{result:function(ta){Na(na,function(){var Da,oa;if(ma != Bb && null != ma)Da=ea(ma);else {oa=ba.getRandom();do {Da=oa.nextInt();}while(0 > Da || Da > Kb);}Fe(ba,ta,Da,ya.responseCode,ya.internalCode,ya.message,ua,na);});},error:function(ta){na.error(ta);}});});};td=Cb.Class.create({init:function(ba,ma,ya,ua,na,ta,Da,oa,da,ia,ka){var Ba,Sa,Ma,Ra,Ta;if(!ba.isPeerToPeer() && (oa || da))throw new vb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");Ba=ka && !ba.isPeerToPeer()?ka.keyResponseData.masterToken:na;Sa=[];Ba=ba.getMslStore().getServiceTokens(Ba,ta);Sa.push.apply(Sa,Ba);Da && Da.forEach(function(ra){Sa.push(ra);},this);Ma=[];if(ba.isPeerToPeer()){Ra=oa;Ta=da;Da=ka?ka.keyResponseData.masterToken:oa;da=ba.getMslStore().getServiceTokens(Da,da);Ma.push.apply(Ma,da);ia && ia.forEach(function(ra){Ma.push(ra);},this);}Object.defineProperties(this,{_ctx:{value:ba,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:ua,writable:!1,enumerable:!1,configurable:!1},_masterToken:{value:na,writable:!0,enumerable:!1,configurable:!1},_messageId:{value:ma,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:ya,writable:!1,enumerable:!1,configurable:!1},_keyExchangeData:{value:ka,writable:!1,enumerable:!1,configurable:!1},_nonReplayable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_renewable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_keyRequestData:{value:{},writable:!1,enumerable:!1,configurable:!1},_userAuthData:{value:null,writable:!0,enumerable:!1,configurable:!1},_userIdToken:{value:ta,writable:!0,enumerable:!1,configurable:!1},_serviceTokens:{value:Sa,writable:!1,enumerable:!1,configurable:!1},_peerMasterToken:{value:Ra,writable:!0,enumerable:!1,configurable:!1},_peerUserIdToken:{value:Ta,writable:!0,enumerable:!1,configurable:!1},_peerServiceTokens:{value:Ma,writable:!1,enumerable:!1,configurable:!1}});},getMessageId:function(){return this._messageId;},getMasterToken:function(){return this._masterToken;},getUserIdToken:function(){return this._userIdToken;},getKeyExchangeData:function(){return this._keyExchangeData;},willEncryptHeader:function(){return this._masterToken || xd(this._entityAuthData.scheme);},willEncryptPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || xd(this._entityAuthData.scheme);},willIntegrityProtectHeader:function(){return this._masterToken || Yd(this._entityAuthData.scheme);},willIntegrityProtectPayloads:function(){return this._masterToken || !this._ctx.isPeerToPeer() && this._keyExchangeData || Yd(this._entityAuthData.scheme);},getHeader:function(ba){Na(ba,function(){var ma,ya,ua;ma=this._keyExchangeData?this._keyExchangeData.keyResponseData:null;ya=[];for(ua in this._keyRequestData){ya.push(this._keyRequestData[ua]);}if(this._nonReplayable){if(!this._masterToken)throw new Ib(X.NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN);ua=this._ctx.getMslStore().getNonReplayableId(this._masterToken);}else ua=null;ma=new Ie(this._messageId,ua,this._renewable,this._capabilities,ya,ma,this._userAuthData,this._userIdToken,this._serviceTokens);ya=new Je(this._peerMasterToken,this._peerUserIdToken,this._peerServiceTokens);He(this._ctx,this._entityAuthData,this._masterToken,ma,ya,ba);},this);},isNonReplayable:function(){return this._nonReplayable;},setNonReplayable:function(ba){this._nonReplayable=ba;return this;},isRenewable:function(){return this._renewable;},setRenewable:function(ba){this._renewable=ba;return this;},setAuthTokens:function(ba,ma){var ya,na;if(ma && !ma.isBoundTo(ba))throw new vb("User ID token must be bound to master token.");if(this._keyExchangeData && !this._ctx.isPeerToPeer())throw new vb("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{ya=this._ctx.getMslStore().getServiceTokens(ba,ma);}catch(ta){if(ta instanceof eb)throw new vb("Invalid master token and user ID token combination despite checking above.",ta);throw ta;}for(var ua=this._serviceTokens.length - 1;0 <= ua;--ua){na=this._serviceTokens[ua];(na.isUserIdTokenBound() && !na.isBoundTo(ma) || na.isMasterTokenBound() && !na.isBoundTo(ba)) && this._serviceTokens.splice(ua,1);}ya.forEach(function(ta){this.excludeServiceToken(ta.name,ta.isMasterTokenBound(),ta.isUserIdTokenBound());this._serviceTokens.push(ta);},this);this._masterToken=ba;this._userIdToken=ma;},setUserAuthenticationData:function(ba){this._userAuthData=ba;return this;},setCustomer:function(ba,ma){var ya;ya=this;Na(ma,function(){var ua;if(!this._ctx.isPeerToPeer() && null != this._userIdToken || this._ctx.isPeerToPeer() && null != this._peerUserIdToken)throw new vb("User ID token or peer user ID token already exists for the remote user.");ua=this._keyExchangeData?this._keyExchangeData.keyResponseData.masterToken:this._ctx.isPeerToPeer()?this._peerMasterToken:this._masterToken;if(!ua)throw new vb("User ID token or peer user ID token cannot be created because no corresponding master token exists.");this._ctx.getTokenFactory().createUserIdToken(this._ctx,ba,ua,{result:function(na){Na(ma,function(){this._ctx.isPeerToPeer()?this._peerUserIdToken=na:(this._userIdToken=na,this._userAuthData=null);return !0;},ya);},error:function(na){ma.error(na);}});},ya);},addKeyRequestData:function(ba){this._keyRequestData[ba.uniqueKey()]=ba;return this;},removeKeyRequestData:function(ba){delete this._keyRequestData[ba.uniqueKey()];return this;},addServiceToken:function(ba){var ma;ma=this._keyExchangeData && !this._ctx.isPeerToPeer()?this._keyExchangeData.keyResponseData.masterToken:this._masterToken;if(ba.isMasterTokenBound() && !ba.isBoundTo(ma))throw new Ib(X.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(ba) + "; mt " + JSON.stringify(ma)).setEntity(ma);if(ba.isUserIdTokenBound() && !ba.isBoundTo(this._userIdToken))throw new Ib(X.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(ba) + "; uit " + JSON.stringify(this._userIdToken)).setEntity(ma).setUser(this._userIdToken);this.excludeServiceToken(ba.name,ba.isMasterTokenBound(),ba.isUserIdTokenBound());this._serviceTokens.push(ba);return this;},addServiceTokenIfAbsent:function(ba){var ya;for(var ma=this._serviceTokens.length - 1;0 <= ma;--ma){ya=this._serviceTokens[ma];if(ya.name == ba.name && ya.isMasterTokenBound() == ba.isMasterTokenBound() && ya.isUserIdTokenBound() == ba.isUserIdTokenBound())return this;}this.addServiceToken(ba);return this;},excludeServiceToken:function(){var ba,ma,ya,na;if(1 == arguments.length){ba=arguments[0];ma=ba.name;ya=ba.isMasterTokenBound();ba=ba.isUserIdTokenBound();}else (arguments.length=3,ma=arguments[0],ya=arguments[1],ba=arguments[2]);for(var ua=this._serviceTokens.length - 1;0 <= ua;--ua){na=this._serviceTokens[ua];na.name == ma && na.isMasterTokenBound() == ya && na.isUserIdTokenBound() == ba && this._serviceTokens.splice(ua,1);}return this;},deleteServiceToken:function(){var ba,ma,ya,ua;if(2 == arguments.length){ba=arguments[0];ma=ba.name;ba.isMasterTokenBound();ba.isUserIdTokenBound();ya=arguments[1];}else (arguments.length=4,ma=arguments[0],ya=arguments[3]);ua=this;Na(ya,function(){var na,ta;na=originalToken.isMasterTokenBound()?this._masterToken:null;ta=originalToken.isUserIdTokenBound()?this._userIdToken:null;uc(this._ctx,ma,aa,na,ta,!1,null,new Pc(),{result:function(Da){Na(ya,function(){return this.addServiceToken(Da);},ua);},error:function(Da){Da instanceof eb && (Da=new vb("Failed to create and add empty service token to message.",Da));ya.error(Da);}});},ua);},getServiceTokens:function(){var ba;ba=[];ba.push.apply(ba,this._serviceTokens);return ba;},getPeerMasterToken:function(){return this._peerMasterToken;},getPeerUserIdToken:function(){return this._peerUserIdToken;},setPeerAuthTokens:function(ba,ma){var ya,na;if(!this._ctx.isPeerToPeer())throw new vb("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");if(ma && !ba)throw new vb("Peer master token cannot be null when setting peer user ID token.");if(ma && !ma.isBoundTo(ba))throw new Ib(X.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit " + ma + "; mt " + ba).setEntity(ba).setUser(ma);try{ya=this._ctx.getMslStore().getServiceTokens(ba,ma);}catch(ta){if(ta instanceof eb)throw new vb("Invalid peer master token and user ID token combination despite proper check.",ta);throw ta;}for(var ua=this._peerServiceTokens.length - 1;0 <= ua;--ua){na=this._peerServiceTokens[ua];(na.isUserIdTokenBound() && !na.isBoundTo(ma) || na.isMasterTokenBound() && !na.isBoundTo(ba)) && this._peerServiceTokens.slice(ua,1);}ya.forEach(function(ta){this.excludePeerServiceToken(ta.name,ta.isMasterTokenBound(),ta.isUserIdTokenBound());this._peerServiceTokens.push(ta);},this);this._peerUserIdToken=ma;this._peerMasterToken=ba;return this;},addPeerServiceToken:function(ba){if(!this._ctx.isPeerToPeer())throw new vb("Cannot set peer service tokens when not in peer-to-peer mode.");if(ba.isMasterTokenBound() && !ba.isBoundTo(this._peerMasterToken))throw new Ib(X.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st " + JSON.stringify(ba) + "; mt " + JSON.stringify(this._peerMasterToken)).setEntity(this._peerMasterToken);if(ba.isUserIdTokenBound() && !ba.isBoundTo(this._peerUserIdToken))throw new Ib(X.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st " + JSON.stringify(ba) + "; uit " + JSON.stringify(this._peerUserIdToken)).setEntity(this._peerMasterToken).setUser(this._peerUserIdToken);this.excludePeerServiceToken(ba.name,ba.isMasterTokenBound(),ba.isUserIdTokenBound());this._peerServiceTokens.push(ba);return this;},addPeerServiceTokenIfAbsent:function(ba){var ya;for(var ma=this._peerServiceTokens.length - 1;0 <= ma;--ma){ya=this._peerServiceTokens[ma];if(ya.name == ba.name && ya.isMasterTokenBound() == ba.isMasterTokenBound() && ya.isUserIdTokenBound() == ba.isUserIdTokenBound())return this;}this.addPeerServiceToken(ba);return this;},excludePeerServiceToken:function(){var ba,ma,ya,na;if(1 == arguments.length){ba=arguments[0];ma=ba.name;ya=ba.isMasterTokenBound();ba=ba.isUserIdTokenBound();}else (arguments.length=3,ma=arguments[0],ya=arguments[1],ba=arguments[2]);for(var ua=this._peerServiceTokens.length - 1;0 <= ua;--ua){na=this._peerServiceTokens[ua];na.name == ma && na.isMasterTokenBound() == ya && na.isUserIdTokenBound() == ba && this._peerServiceTokens.splice(ua,1);}return this;},deletePeerServiceToken:function(){var ba,ma,ya,ua,na,ta;if(2 == arguments.length){ba=arguments[0];ma=ba.name;ya=ba.isMasterTokenBound();ua=ba.isUserIdTokenBound();na=arguments[1];}else (arguments.length=4,ma=arguments[0],ya=arguments[1],ua=arguments[2],na=arguments[3]);ta=this;Na(na,function(){uc(this._ctx,ma,aa,ya?this._peerMasterToken:null,ua?this._peerUserIdToken:null,!1,null,new Pc(),{result:function(Da){Na(na,function(){return this.addPeerServiceToken(Da);},ta);},error:function(Da){Da instanceof eb && (Da=new vb("Failed to create and add empty peer service token to message.",Da));na.error(Da);}});},ta);},getPeerServiceTokens:function(){var ba;ba=[];ba.push.apply(ba,this._peerServiceTokens);return ba;}});})();(function(){function ja(Y,aa){return aa[Y]?aa[Y]:aa[""];}function ca(Y){var aa;aa=Y.builder.getKeyExchangeData();return aa && !Y.ctx.isPeerToPeer()?aa.keyResponseData.masterToken:Y.builder.getMasterToken();}Pe=Cb.Class.create({init:function(Y,aa,ea){Y={ctx:{value:Y,writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:aa.getCryptoContexts(),writable:!1,enumerable:!1,configurable:!1},builder:{value:ea,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,Y);},isPrimaryMasterTokenAvailable:function(){return ca(this)?!0:!1;},isPrimaryUserIdTokenAvailable:function(){return this.builder.getUserIdToken()?!0:!1;},isPeerMasterTokenAvailable:function(){return this.builder.getPeerMasterToken()?!0:!1;},isPeerUserIdTokenAvailable:function(){return this.builder.getPeerUserIdToken()?!0:!1;},getPrimaryServiceTokens:function(){return this.builder.getServiceTokens();},getPeerServiceTokens:function(){return this.builder.getPeerServiceTokens();},addPrimaryServiceToken:function(Y){try{return (this.builder.addServiceToken(Y),!0);}catch(aa){if(aa instanceof Ib)return !1;throw aa;}},addPeerServiceToken:function(Y){try{return (this.builder.addPeerServiceToken(Y),!0);}catch(aa){if(aa instanceof Ib)return !1;throw aa;}},addUnboundPrimaryServiceToken:function(Y,aa,ea,ba,ma){var ya;ya=this;Na(ma,function(){var ua;ua=ja(Y,this.cryptoContexts);if(!ua)return !1;uc(this.ctx,Y,aa,null,null,ea,ba,ua,{result:function(na){Na(ma,function(){try{this.builder.addServiceToken(na);}catch(ta){if(ta instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite being unbound.",ta);throw ta;}return !0;},ya);},error:function(na){ma.error(na);}});},ya);},addUnboundPeerServiceToken:function(Y,aa,ea,ba,ma){var ya;ya=this;Na(ma,function(){var ua;ua=ja(Y,this.cryptoContexts);if(!ua)return !1;uc(this.ctx,Y,aa,null,null,ea,ba,ua,{result:function(na){Na(ma,function(){try{this.builder.addPeerServiceToken(na);}catch(ta){if(ta instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite being unbound.",ta);throw ta;}return !0;},ya);},error:function(na){ma.error(na);}});},ya);},addMasterBoundPrimaryServiceToken:function(Y,aa,ea,ba,ma){var ya;ya=this;Na(ma,function(){var ua,na;ua=ca(this);if(!ua)return !1;na=ja(Y,this.cryptoContexts);if(!na)return !1;uc(this.ctx,Y,aa,ua,null,ea,ba,na,{result:function(ta){Na(ma,function(){try{this.builder.addServiceToken(ta);}catch(Da){if(Da instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token.",Da);throw Da;}return !0;},ya);},error:function(ta){ma.error(ta);}});},ya);},addMasterBoundPeerServiceToken:function(Y,aa,ea,ba,ma){var ya;ya=this;Na(ma,function(){var ua,na;ua=this.builder.getPeerMasterToken();if(!ua)return !1;na=ja(Y,this.cryptoContexts);if(!na)return !1;uc(this.ctx,Y,aa,ua,null,ea,ba,na,{result:function(ta){Na(ma,function(){try{this.builder.addPeerServiceToken(ta);}catch(Da){if(Da instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token.",Da);throw Da;}return !0;},ya);},error:function(ta){ma.error(ta);}});},ya);},addUserBoundPrimaryServiceToken:function(Y,aa,ea,ba,ma){var ya;ya=this;Na(ma,function(){var ua,na,ta;ua=ca(this);if(!ua)return !1;na=this.builder.getUserIdToken();if(!na)return !1;ta=ja(Y,this.cryptoContexts);if(!ta)return !1;uc(this.ctx,Y,aa,ua,na,ea,ba,ta,{result:function(Da){Na(ma,function(){try{this.builder.addServiceToken(Da);}catch(oa){if(oa instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",oa);throw oa;}return !0;},ya);},error:function(Da){ma.error(Da);}});},ya);},addUserBoundPeerServiceToken:function(Y,aa,ea,ba,ma){var ya;ya=this;Na(ma,function(){var ua,na,ta;ua=this.builder.getPeerMasterToken();if(!ua)return !1;na=this.builder.getPeerUserIdToken();if(!na)return !1;ta=ja(Y,this.cryptoContexts);if(!ta)return !1;uc(this.ctx,Y,aa,ua,na,ea,ba,ta,{result:function(Da){Na(ma,function(){try{this.builder.addPeerServiceToken(Da);}catch(oa){if(oa instanceof Ib)throw new vb("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",oa);throw oa;}return !0;},ya);},error:function(Da){ma.error(Da);}});},ya);},excludePrimaryServiceToken:function(){var Y,aa,ea,ba;if(1 == arguments.length){Y=arguments[0];aa=Y.name;ea=Y.isMasterTokenBound();ba=Y.isUserIdTokenBound();}else (arguments.length=3,aa=arguments[0],ea=arguments[1],ba=arguments[2]);for(var ma=this.builder.getServiceTokens(),ya=0;ya < ma.length;++ya){if((Y=ma[ya],Y.name == aa && Y.isMasterTokenBound() == ea && Y.isUserIdTokenBound() == ba))return (this.builder.excludeServiceToken(aa,ea,ba),!0);}return !1;},excludePeerServiceToken:function(){var Y,aa,ea,ba;if(1 == arguments.length){Y=arguments[0];aa=Y.name;ea=Y.isMasterTokenBound();ba=Y.isUserIdTokenBound();}else (arguments.length=3,aa=arguments[0],ea=arguments[1],ba=arguments[2]);for(var ma=this.builder.getPeerServiceTokens(),ya=0;ya < ma.length;++ya){if((Y=ma[ya],Y.name == aa && Y.isMasterTokenBound() == ea && Y.isUserIdTokenBound() == ba))return (this.builder.excludePeerServiceToken(aa,ea,ba),!0);}return !1;},deletePrimaryServiceToken:function(){var Y,aa,ea,ba,ma;if(2 == arguments.length){Y=arguments[0];aa=Y.name;ea=Y.isMasterTokenBound();ba=Y.isUserIdTokenBound();ma=arguments[1];}else 4 == arguments.length && (aa=arguments[0],ea=arguments[1],ba=arguments[2],ma=arguments[3]);Na(ma,function(){var na;for(var ya=this.builder.getServiceTokens(),ua=0;ua < ya.length;++ua){na=ya[ua];if(na.name == aa && na.isMasterTokenBound() == ea && na.isUserIdTokenBound() == ba){this.builder.deleteServiceToken(aa,ea,ba,{result:function(){ma.result(!0);},error:function(ta){ma.error(ta);}});return;}}return !1;},this);},deletePeerServiceToken:function(){var Y,aa,ea,ba,ma;if(2 == arguments.length){Y=arguments[0];aa=Y.name;ea=Y.isMasterTokenBound();ba=Y.isUserIdTokenBound();ma=arguments[1];}else 4 == arguments.length && (aa=arguments[0],ea=arguments[1],ba=arguments[2],ma=arguments[3]);Na(ma,function(){var na;for(var ya=this.builder.getPeerServiceTokens(),ua=0;ua < ya.length;++ua){na=ya[ua];if(na.name == aa && na.isMasterTokenBound() == ea && na.isUserIdTokenBound() == ba){this.builder.deletePeerServiceToken(aa,ea,ba,{result:function(){ma.result(!0);},error:function(ta){ma.error(ta);}});return;}}return !1;},this);}});})();(function(){function ja(ca,Y,aa,ea){Na(ea,function(){var ma,ya,ua,na,ta,Da;function ba(){Na(ea,function(){var oa;if(Da >= aa.length){if(ta)throw ta;throw new Nb(X.KEYX_RESPONSE_REQUEST_MISMATCH,JSON.stringify(aa));}oa=aa[Da];ua != oa.keyExchangeScheme?(++Da,ba()):na.getCryptoContext(ca,oa,ya,ma,{result:ea.result,error:function(da){Na(ea,function(){if(!(da instanceof eb))throw da;ta=da;++Da;ba();});}});});}ma=Y.masterToken;ya=Y.keyResponseData;if(!ya)return null;ua=ya.keyExchangeScheme;na=ca.getKeyExchangeFactory(ua);if(!na)throw new Nb(X.KEYX_FACTORY_NOT_FOUND,ua);Da=0;ba();});}Qe=Ld.extend({init:function(ca,Y,aa,ea,ba,ma,ya){var ua;ua=this;bb(ya,function(){var ia;function na(){ua._ready=!0;ua._readyQueue.add(!0);}function ta(ka,Ba){var Sa;try{Sa=Ba.masterToken;ka.getTokenFactory().isMasterTokenRevoked(ka,Sa,{result:function(Ma){Ma?(ua._errored=new Vc(Ma,Sa).setUser(Ba.userIdToken).setUser(Ba.userAuthenticationData).setMessageId(Ba.messageId),na()):Da(ka,Ba);},error:function(Ma){Ma instanceof eb && (Ma.setEntity(Ba.masterToken),Ma.setUser(Ba.userIdToken),Ma.setUser(Ba.userAuthenticationData),Ma.setMessageId(Ba.messageId));ua._errored=Ma;na();}});}catch(Ma){Ma instanceof eb && (Ma.setEntity(Ba.masterToken),Ma.setUser(Ba.userIdToken),Ma.setUser(Ba.userAuthenticationData),Ma.setMessageId(Ba.messageId));ua._errored=Ma;na();}}function Da(ka,Ba){var Sa,Ma;try{Sa=Ba.masterToken;Ma=Ba.userIdToken;Ma?ka.getTokenFactory().isUserIdTokenRevoked(ka,Sa,Ma,{result:function(Ra){Ra?(ua._errored=new MslUserIdTokenException(Ra,Ma).setEntity(Sa).setUser(Ma).setMessageId(Ba.messageId),na()):oa(ka,Ba);},error:function(Ra){Ra instanceof eb && (Ra.setEntity(Ba.masterToken),Ra.setUser(Ba.userIdToken),Ra.setUser(Ba.userAuthenticationData),Ra.setMessageId(Ba.messageId));ua._errored=Ra;na();}}):oa(ka,Ba);}catch(Ra){Ra instanceof eb && (Ra.setEntity(Ba.masterToken),Ra.setUser(Ba.userIdToken),Ra.setUser(Ba.userAuthenticationData),Ra.setMessageId(Ba.messageId));ua._errored=Ra;na();}}function oa(ka,Ba){var Sa;try{Sa=Ba.masterToken;Sa.isExpired()?Ba.isRenewable() && 0 != Ba.keyRequestData.length?ka.getTokenFactory().isMasterTokenRenewable(ka,Sa,{result:function(Ma){Ma?(ua._errored=new Ib(Ma,"Master token is expired and not renewable.").setEntity(Sa).setUser(Ba.userIdToken).setUser(Ba.userAuthenticationData).setMessageId(Ba.messageId),na()):da(ka,Ba);},error:function(Ma){Ma instanceof eb && (Ma.setEntity(Ba.masterToken),Ma.setUser(Ba.userIdToken),Ma.setUser(Ba.userAuthenticationData),Ma.setMessageId(Ba.messageId));ua._errored=Ma;na();}}):(ua._errored=new Ib(X.MESSAGE_EXPIRED,JSON.stringify(Ba)).setEntity(Sa).setUser(Ba.userIdToken).setUser(Ba.userAuthenticationData).setMessageId(Ba.messageId),na()):da(ka,Ba);}catch(Ma){Ma instanceof eb && (Ma.setEntity(Ba.masterToken),Ma.setUser(Ba.userIdToken),Ma.setUser(Ba.userAuthenticationData),Ma.setMessageId(Ba.messageId));ua._errored=Ma;na();}}function da(ka,Ba){var Sa,Ma;try{Sa=Ba.masterToken;Ma=Ba.nonReplayableId;"number" === typeof Ma?Sa?ka.getTokenFactory().acceptNonReplayableId(ka,Sa,Ma,{result:function(Ra){Ra || (ua._errored=new Ib(X.MESSAGE_REPLAYED,JSON.stringify(Ba)).setEntity(Sa).setUser(Ba.userIdToken).setUser(Ba.userAuthenticationData).setMessageId(Ba.messageId));na();},error:function(Ra){Ra instanceof eb && (Ra.setEntity(Sa),Ra.setUser(Ba.userIdToken),Ra.setUser(Ba.userAuthenticationData),Ra.setMessageId(Ba.messageId));ua._errored=Ra;na();}}):(ua._errored=new Ib(X.INCOMPLETE_NONREPLAYABLE_MESSAGE,JSON.stringify(Ba)).setEntity(Ba.entityAuthenticationData).setUser(Ba.userIdToken).setUser(Ba.userAuthenticationData).setMessageId(Ba.messageId),na()):na();}catch(Ra){Ra instanceof eb && (Ra.setEntity(Ba.masterToken),Ra.setEntity(Ba.entityAuthenticationData),Ra.setUser(Ba.userIdToken),Ra.setUser(Ba.userAuthenticationData),Ra.setMessageId(Ba.messageId));ua._errored=Ra;na();}}ia={_source:{value:Y,writable:!1,enumerable:!1,configurable:!1},_parser:{value:Bb,writable:!0,enumerable:!1,configurable:!1},_charset:{value:aa,writable:!1,enumerable:!1,configurable:!1},_remainingData:{value:"",writable:!0,enumerable:!1,configurable:!1},_timeout:{value:ma,writable:!1,enumerable:!1,configurable:!1},_header:{value:Bb,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:Bb,writable:!0,enumerable:!1,configurable:!1},_keyxCryptoContext:{value:Bb,writable:!0,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enuemrable:!1,configurable:!1},_eom:{value:!1,writable:!0,enumerable:!1,configurable:!1},_closeSource:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!0,enumerable:!1,configurable:!1},_payloadIndex:{value:-1,writable:!0,enumerable:!1,configurable:!1},_payloadOffset:{value:0,writable:!0,enuemrable:!1,configurable:!1},_markOffset:{value:0,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:null,writable:!0,enumerable:!1,configurable:!1},_readException:{value:null,writable:!0,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new Tc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,ia);re(ua._source,ma,{result:function(ka){ua._json=ka;ua._jsonIndex=0;null === ua._json?(ua._errored=new Db(X.MESSAGE_DATA_MISSING),na()):Ae(ca,ua._json[ua._jsonIndex++],ba,{result:function(Ba){var Sa;ua._header=Ba;if(ua._header instanceof Cc)(ua._keyxCryptoContext=null,ua._cryptoContext=null,na());else {Sa=ua._header;ja(ca,Sa,ea,{result:function(Ma){var Ra;try{ua._keyxCryptoContext=Ma;ca.isPeerToPeer() || !ua._keyxCryptoContext?ua._cryptoContext=Sa.cryptoContext:ua._cryptoContext=ua._keyxCryptoContext;try{Ra=Sa.masterToken;Ra && (ca.isPeerToPeer() || Ra.isVerified())?ta(ca,Sa):da(ca,Sa);}catch(Ta){Ta instanceof eb && (Ta.setEntity(Sa.masterToken),Ta.setUser(Sa.userIdToken),Ta.setUser(Sa.userAuthenticationData),Ta.setMessageId(Sa.messageId));ua._errored=Ta;na();}}catch(Ta){Ta instanceof eb && (Ta.setEntity(Sa.masterToken),Ta.setEntity(Sa.entityAuthenticationData),Ta.setUser(Sa.userIdToken),Ta.setUser(Sa.userAuthenticationData),Ta.setMessageId(Sa.messageId));ua._errored=Ta;na();}},error:function(Ma){Ma instanceof eb && (Ma.setEntity(Sa.masterToken),Ma.setEntity(Sa.entityAuthenticationData),Ma.setUser(Sa.userIdToken),Ma.setUser(Sa.userAuthenticationData),Ma.setMessageId(Sa.messageId));ua._errored=Ma;na();}});}},error:function(Ba){ua._errored=Ba;na();}});},timeout:function(){ua._timedout=!0;na();},error:function(ka){ua._errored=ka;na();}});return this;},ua);},nextData:function(ca,Y){var aa;aa=this;bb(Y,function(){var ba;function ea(ma){bb(ma,function(){var ya;if(this._jsonIndex < this._json.length)return ya=this._json[this._jsonIndex++];re(this._source,this._timeout,{result:function(ua){ua && ua.length && 0 < ua.length?(ua.forEach(function(na){this._json.push(na);}),ea(ma)):(this._eom=!0,ma.result(null));},timeout:function(){ma.timeout();},error:function(ua){ma.error(ua);}});},aa);}ba=this.getMessageHeader();if(!ba)throw new vb("Read attempted with error message.");if(-1 != this._payloadIndex && this._payloadIndex < this._payloads.length)return this._payloads[this._payloadIndex++];if(this._eom)return null;ea({result:function(ma){bb(Y,function(){if(!ma)return null;if("object" !== typeof ma)throw new Db(X.MESSAGE_FORMAT_ERROR);Me(ma,this._cryptoContext,{result:function(ya){bb(Y,function(){var ua,na,ta,Da;ua=ba.masterToken;na=ba.entityAuthenticationData;ta=ba.userIdToken;Da=ba.getUserAuthenticationData;if(ya.messageId != ba.messageId)throw new Ib(X.PAYLOAD_MESSAGE_ID_MISMATCH,"payload mid " + ya.messageId + " header mid " + ba.messageId).setEntity(ua).setEntity(na).setUser(ta).setUser(Da);if(ya.sequenceNumber != this._payloadSequenceNumber)throw new Ib(X.PAYLOAD_SEQUENCE_NUMBER_MISMATCH,"payload seqno " + ya.sequenceNumber + " expected seqno " + this._payloadSequenceNumber).setEntity(ua).setEntity(na).setUser(ta).setUser(Da);++this._payloadSequenceNumber;ya.isEndOfMessage() && (this._eom=!0);ua=ya.data;this._payloads.push(ua);this._payloadIndex=-1;return ua;},aa);},error:function(ya){ya instanceof SyntaxError && (ya=new Db(X.JSON_PARSE_ERROR,"payloadchunk",ya));Y.error(ya);}});},aa);},timeout:function(){Y.timeout();},error:function(ma){Y.error(ma);}});},aa);},isReady:function(ca,Y){var ea;function aa(){bb(Y,function(){if(this._aborted)return !1;if(this._timedout)Y.timeout();else {if(this._errored)throw this._errored;return !0;}},ea);}ea=this;bb(Y,function(){this._ready?aa():this._readyQueue.poll(ca,{result:function(ba){bb(Y,function(){if(ba === Bb)return !1;aa();},ea);},timeout:function(){Y.timeout();},error:function(ba){Y.error(ba);}});},ea);},getMessageHeader:function(){return this._header instanceof ad?this._header:null;},getErrorHeader:function(){return this._header instanceof Cc?this._header:null;},getIdentity:function(){var ca,Y;ca=this.getMessageHeader();if(ca){Y=ca.masterToken;return Y?Y.identity:ca.entityAuthenticationData.getIdentity();}return this.getErrorHeader().entityAuthenticationData.getIdentity();},getCustomer:function(){var ca;ca=this.getMessageHeader();return ca?ca.customer:null;},getPayloadCryptoContext:function(){return this._cryptoContext;},getKeyExchangeCryptoContext:function(){return this._keyxCryptoContext;},closeSource:function(ca){this._closeSource=ca;},abort:function(){this._aborted=!0;this._source.abort();this._readyQueue.cancelAll();},close:function(){this._closeSource && this._source.close();},mark:function(){if(this._currentPayload){for(;0 < this._payloads.length && this._payloads[0] !== this._currentPayload;){this._payloads.shift();}this._payloadIndex=0;this._currentPayload=this._payloads[this._payloadIndex++];this._markOffset=this._payloadOffset;}else (this._payloadIndex=-1,this._payloads=[]);},markSupported:function(){return !0;},read:function(ca,Y,aa){var ba;function ea(){bb(aa,function(){var ya,ua,na,ta;function ma(Da){bb(Da,function(){var oa,da,ia;if(ua && ta >= ua.length)return ua.subarray(0,ta);oa=-1;if(this._currentPayload){da=this._currentPayload.length - this._payloadOffset;if(!ua){ia=da;if(-1 != this._payloadIndex)for(var ka=this._payloadIndex;ka < this._payloads.length;++ka){ia+=this._payloads[ka].length;}0 < ia && (ua=new Uint8Array(ia));}da=Math.min(da,ua?ua.length - ta:0);0 < da && (oa=this._currentPayload.subarray(this._payloadOffset,this._payloadOffset + da),ua.set(oa,na),oa=da,na+=da,this._payloadOffset+=da);}-1 != oa?(ta+=oa,ma(Da)):this.nextData(Y,{result:function(Ba){bb(Da,function(){if(this._aborted)return ua?ua.subarray(0,ta):new Uint8Array(0);this._currentPayload=Ba;this._payloadOffset=0;if(this._currentPayload)ma(Da);else return 0 == ta && 0 != ca?null:ua?ua.subarray(0,ta):new Uint8Array(0);},ba);},timeout:function(){Da.timeout(ua?ua.subarray(0,ta):new Uint8Array(0));},error:function(Ba){bb(Da,function(){Ba instanceof eb && (Ba=new Ub("Error reading the payload chunk.",Ba));if(0 < ta)return (ba._readException=Ba,ua.subarray(0,ta));throw Ba;},ba);}});},ba);}if(this._aborted)return new Uint8Array(0);if(this._timedout)aa.timeout(new Uint8Array(0));else {if(this._errored)throw this._errored;if(null != this._readException){ya=this._readException;this._readException=null;throw ya;}ua=-1 != ca?new Uint8Array(ca):Bb;na=0;ta=0;ma(aa);}},ba);}ba=this;bb(aa,function(){if(-1 > ca)throw new RangeError("read requested with illegal length " + ca);this._ready?ea():this._readyQueue.poll(Y,{result:function(ma){ma === Bb?aa.result(!1):ea();},timeout:function(){aa.timeout(new Uint8Array(0));},error:function(ma){aa.error(ma);}});},ba);},reset:function(){this._payloadIndex=0;0 < this._payloads.length?(this._currentPayload=this._payloads[this._payloadIndex++],this._payloadOffset=this._markOffset):this._currentPayload=null;}});Re=function(ca,Y,aa,ea,ba,ma,ya){new Qe(ca,Y,aa,ea,ba,ma,ya);};})();(function(){Se=pd.extend({init:function(ja,ca,Y,aa,ea,ba,ma){var ya;ya=this;bb(ma,function(){var na,ta,Da;function ua(){ya._ready=!0;ya._readyQueue.add(!0);}na=Pd(ja.getMessageCapabilities(),aa.messageCapabilities);ta=null;na && (ta=ge(na.compressionAlgorithms));na={_destination:{value:ca,writable:!1,enumerable:!1,configurable:!1},_charset:{value:Y,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:na,writable:!1,enumerable:!1,configurable:!1},_header:{value:aa,writable:!1,enumerable:!1,configurable:!1},_compressionAlgo:{value:ta,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:ea,writable:!1,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:[],writable:!0,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!1,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new Tc(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,na);Da=bc(JSON.stringify(aa),Y);ca.write(Da,0,Da.length,ba,{result:function(oa){try{ya._aborted?ua():oa < Da.length?(ya._timedout=!0,ua()):ca.flush(ba,{result:function(da){ya._aborted || (ya._timedout=!da);ua();},timeout:function(){ya._timedout=!0;ua();},error:function(da){ya._errored=da;ua();}});}catch(da){ya._errored=da;ua();}},timeout:function(){ya._timedout=!0;ua();},error:function(oa){ya._errored=oa;ua();}});return this;},ya);},setCompressionAlgorithm:function(ja,ca,Y){var ea;function aa(){ea.flush(ca,{result:function(ba){bb(Y,function(){if(!ba)throw new Ub("flush() aborted");this._compressionAlgo=ja;return !0;},ea);},timeout:function(){Y.timeout();},error:function(ba){Y.error(ba);}});}ea=this;bb(Y,function(){if(!this.getMessageHeader())throw new vb("Cannot write payload data for an error message.");if(this._compressionAlgo == ja)return !0;if(ja){if(!this._capabilities)return !1;for(var ba=this._capabilities.compressionAlgorithms,ma=0;ma < ba.length;++ma){if(ba[ma] == ja){aa();return;}}return !1;}aa();},ea);},getMessageHeader:function(){return this._header instanceof ad?this._header:null;},getErrorMessage:function(){return this._header instanceof Cc?this._header:null;},getPayloads:function(){return this._payloads;},abort:function(){this._aborted=!0;this._destination.abort();this._readyQueue.cancelAll();},close:function(ja,ca){var Y;Y=this;bb(ca,function(){if(this._aborted)return !1;if(this._timedout)ca.timeout();else {if(this._errored)throw this._errored;if(this._closed)return !0;this._closed=!0;this.flush(ja,{result:function(aa){bb(ca,function(){aa && (this._currentPayload=null);return aa;},Y);},timeout:function(){ca.timeout();},error:function(aa){ca.error(aa);}});}},Y);},flush:function(ja,ca){var aa;function Y(){bb(ca,function(){var ea,ba,na;if(this._aborted)return !1;if(this._timedout)ca.timeout();else {if(this._errored)throw this._errored;if(!this._currentPayload || !this._closed && 0 == this._currentPayload.length)return !0;ea=this.getMessageHeader();if(!ea)return !0;ba=0;this._currentPayload && this._currentPayload.forEach(function(ta){ba+=ta.length;});for(var ma=new Uint8Array(ba),ya=0,ua=0;this._currentPayload && ua < this._currentPayload.length;++ua){na=this._currentPayload[ua];ma.set(na,ya);ya+=na.length;}Le(this._payloadSequenceNumber,ea.messageId,this._closed,this._compressionAlgo,ma,this._cryptoContext,{result:function(ta){bb(ca,function(){var Da;this._payloads.push(ta);Da=bc(JSON.stringify(ta),this._charset);this._destination.write(Da,0,Da.length,ja,{result:function(oa){bb(ca,function(){if(this._aborted)return !1;oa < ta.length?ca.timeout():this._destination.flush(ja,{result:function(da){bb(ca,function(){if(this._aborted)return !1;if(da)return (++this._payloadSequenceNumber,this._currentPayload=this._closed?null:[],!0);ca.timeout();},aa);},timeout:function(){ca.timeout();},error:function(da){da instanceof eb && (da=new Ub("Error encoding payload chunk [sequence number " + aa._payloadSequenceNumber + "].",da));ca.error(da);}});},aa);},timeout:function(oa){ca.timeout();},error:function(oa){oa instanceof eb && (oa=new Ub("Error encoding payload chunk [sequence number " + aa._payloadSequenceNumber + "].",oa));ca.error(oa);}});},aa);},error:function(ta){ta instanceof eb && (ta=new Ub("Error encoding payload chunk [sequence number " + aa._payloadSequenceNumber + "].",ta));ca.error(ta);}});}},aa);}aa=this;bb(ca,function(){this._ready?Y():this._readyQueue.poll(ja,{result:function(ea){ea === Bb?ca.result(!1):Y();},timeout:function(){ca.timeout();},error:function(ea){ca.error(ea);}});},aa);},write:function(ja,ca,Y,aa,ea){bb(ea,function(){var ba;if(this._aborted)return !1;if(this._timedout)ea.timeout();else {if(this._errored)throw this._errored;if(this._closed)throw new Ub("Message output stream already closed.");if(0 > ca)throw new RangeError("Offset cannot be negative.");if(0 > Y)throw new RangeError("Length cannot be negative.");if(ca + Y > ja.length)throw new RangeError("Offset plus length cannot be greater than the array length.");if(!this.getMessageHeader())throw new vb("Cannot write payload data for an error message.");ba=ja.subarray(ca,ca + Y);this._currentPayload.push(ba);return ba.length;}},this);}});ud=function(ja,ca,Y,aa,ea,ba,ma){new Se(ja,ca,Y,aa,ea,ba,ma);};})();wf=Cb.Class.create({sentHeader:function(ja){},receivedHeader:function(ja){}});Object.freeze({USERDATA_REAUTH:Ia.USERDATA_REAUTH,SSOTOKEN_REJECTED:Ia.SSOTOKEN_REJECTED});Te=Cb.Class.create({getCryptoContexts:function(){},getRecipient:function(){},isEncrypted:function(){},isIntegrityProtected:function(){},isNonReplayable:function(){},isRequestingTokens:function(){},getUserId:function(){},getUserAuthData:function(ja,ca,Y,aa){},getCustomer:function(){},getKeyRequestData:function(ja){},updateServiceTokens:function(ja,ca,Y){},write:function(ja,ca,Y){},getDebugContext:function(){}});Cb.Class.create({getInputStream:function(ja){},getOutputStream:function(ja){}});(function(){var ya,ua,na,ta,Da,oa,da,ia,ka,Ba,Sa,Ma;function ja(Ra){return function(){Ra.abort();};}function ca(Ra,Ta){Object.defineProperties(this,{masterToken:{value:Ra,writable:!1,configurable:!1},ticket:{value:Ta,writable:!1,configurable:!1}});}function Y(Ra,Ta){Object.defineProperties(this,{builder:{value:Ra,writable:!1,configurable:!1},msgCtx:{value:Ta,writable:!1,configurable:!1}});}function aa(Ra,Ta,ra){Object.defineProperties(this,{requestHeader:{value:Ra,writable:!1,configurable:!1},payloads:{value:Ta,writable:!1,configurable:!1},handshake:{value:ra,writable:!1,configurable:!1}});}function ea(Ra,Ta){Object.defineProperties(this,{requestHeader:{value:Ta.requestHeader,writable:!1,configurable:!1},payloads:{value:Ta.payloads,writable:!1,configurable:!1},handshake:{value:Ta.handshake,writable:!1,configurable:!1},response:{value:Ra,writable:!1,configurable:!1}});}function ba(Ra){for(;Ra;){if(Ra instanceof Yb)return !0;Ra=Ra instanceof eb?Ra.cause:Bb;}return !1;}function ma(Ra,Ta,ra,Ca,Ha,Ka,Fa,Ua,Ja){Oe(Ta,Ca,Ha,Ka,{result:function(Wa){ra && ra.sentHeader(Wa);ud(Ta,Fa,Mb,Wa,null,null,Ua,{result:function(ab){Ra.setAbort(function(){ab.abort();});ab.close(Ua,{result:function(Va){bb(Ja,function(){if(!Va)throw new Yb("sendError aborted.");return Va;});},timeout:function(){Ja.timeout();},error:function(Va){Ja.error(Va);}});},timeout:function(){},error:function(ab){Ja.error(ab);}});},error:function(Wa){Ja.error(Wa);}});}ya=pd.extend({close:function(Ra,Ta){Ta.result(!0);},write:function(Ra,Ta,ra,Ca,Ha){Na(Ha,function(){return Math.min(Ra.length - Ta,ra);});},flush:function(Ra,Ta){Ta.result(!0);}});ua=vf.extend({getUserMessage:function(Ra,Ta){return null;}});na=Te.extend({init:function(Ra){Object.defineProperties(this,{_appCtx:{value:Ra,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContexts:function(){return this._appCtx.getCryptoContexts();},isEncrypted:function(){return this._appCtx.isEncrypted();},isIntegrityProtected:function(){return this._appCtx.isIntegrityProtected();},isNonReplayable:function(){return this._appCtx.isNonReplayable();},isRequestingTokens:function(){return this._appCtx.isRequestingTokens();},getUserId:function(){return this._appCtx.getUserId();},getUserAuthData:function(Ra,Ta,ra,Ca){this._appCtx.getUserAuthData(Ra,Ta,ra,Ca);},getCustomer:function(){return this._appCtx.getCustomer();},getKeyRequestData:function(Ra){this._appCtx.getKeyRequestData(Ra);},updateServiceTokens:function(Ra,Ta,ra){this._appCtx.updateServiceTokens(Ra,Ta,ra);},write:function(Ra,Ta,ra){this._appCtx.write(Ra,Ta,ra);},getDebugContext:function(){return this._appCtx.getDebugContext();}});ta=na.extend({init:function Ca(Ta,ra){Ca.base.call(this,ra);Object.defineProperties(this,{_payloads:{value:Ta,writable:!1,enumerable:!1,configurable:!1}});},write:function(Ta,ra,Ca){var Ka;function Ha(Fa,Ua){var Ja;if(Fa == Ka._payloads.length)Ca.result(!0);else {Ja=Ka._payloads[Fa];Ta.setCompressionAlgorithm(Ja.compressionAlgo,ra,{result:function(Wa){Ta.write(Ja.data,0,Ja.data.length,ra,{result:function(ab){bb(Ca,function(){Ja.isEndOfMessage()?Ha(Fa + 1,Ua):Ta.flush(ra,{result:function(Va){Ca.result(Va);},timeout:function(){Ca.timeout();},error:function(Va){Ca.error(Va);}});},Ka);},timeout:function(ab){Ca.timeout(ab);},error:function(ab){Ca.error(ab);}});},timeout:function(){},error:function(Wa){Ca.error(Wa);}});}}Ka=this;Ha(0);}});Da=na.extend({init:function Ca(ra){Ca.base.call(this,ra);},isEncrypted:function(){return !1;},isNonReplayable:function(){return !1;},write:function(ra,Ca,Ha){Ha.result(!0);}});oa={};da=Cb.Class.create({init:function(ra){ra || (ra=new ua());Object.defineProperties(this,{_filterFactory:{value:null,writable:!0,enumerable:!1,configurable:!1},_renewingContexts:{value:[],writable:!1,enumerable:!1,configurable:!1},_masterTokenLocks:{value:{},writable:!1,enumerable:!1,configurable:!1},_messageRegistry:{value:ra,writable:!1,enumerable:!1,configurable:!1}});},setFilterFactory:function(ra){this._filterFactory=ra;},getNewestMasterToken:function(ra,Ca,Ha,Ka){var Fa;Fa=this;bb(Ka,function(){var Ua,Ja,Wa,ab,Va;Ua=Ca.getMslStore();Ja=Ua.getMasterToken();if(!Ja)return null;Wa=Ja.uniqueKey();ab=this._masterTokenLocks[Wa];ab || (ab=new Ad(),this._masterTokenLocks[Wa]=ab);Va=ab.readLock(Ha,{result:function(jb){bb(Ka,function(){var lb;if(jb === Bb)throw new Yb("getNewestMasterToken aborted.");lb=Ua.getMasterToken();if(Ja.equals(lb))return new ca(Ja,jb);ab.unlock(jb);ab.writeLock(Ha,{result:function(ob){bb(Ka,function(){if(ob === Bb)throw new Yb("getNewestMasterToken aborted.");delete this._masterTokenLocks[Wa];ab.unlock(ob);return this.getNewestMasterToken(ra,Ca,Ha,Ka);},Fa);},timeout:function(){Ka.timeout();},error:function(ob){Ka.error(ob);}});},Fa);},timeout:function(){Ka.timeout();},error:function(jb){Ka.error(jb);}});ra.setAbort(function(){Va && (ab.cancel(Va),Va=Bb);});},Fa);},deleteMasterToken:function(ra,Ca){var Ha;if(Ca){Ha=this;setTimeout(function(){var Ka,Fa;Ka=Ca.uniqueKey();Fa=Ha._masterTokenLocks[Ka];Fa || (Fa=new Ad(),Ha._masterTokenLocks[Ka]=Fa);Fa.writeLock(-1,{result:function(Ua){ra.getMslStore().removeCryptoContext(Ca);delete Ha._masterTokenLocks[Ka];Fa.unlock(Ua);},timeout:function(){throw new vb("Unexpected timeout received.");},error:function(Ua){throw Ua;}});},0);}},releaseMasterToken:function(ra){var Ca;if(ra && ra.masterToken){Ca=ra.masterToken.uniqueKey();Ca=this._masterTokenLocks[Ca];if(!Ca)throw new vb("Master token read/write lock does not exist when it should.");Ca.unlock(ra.ticket);}},updateOutgoingCryptoContexts:function(ra,Ca,Ha){var Ka;Ka=ra.getMslStore();!ra.isPeerToPeer() && Ha && (Ka.setCryptoContext(Ha.keyResponseData.masterToken,Ha.cryptoContext),this.deleteMasterToken(ra,Ca.masterToken));},updateIncomingCryptoContexts:function(ra,Ca,Ha){var Ka,Fa;Ka=Ha.getMessageHeader();if(Ka){Fa=ra.getMslStore();if(Ka=Ka.keyResponseData)(Fa.setCryptoContext(Ka.masterToken,Ha.getKeyExchangeCryptoContext()),this.deleteMasterToken(ra,Ca.masterToken));}},storeServiceTokens:function(ra,Ca,Ha,Ka){var Ja,Wa;ra=ra.getMslStore();for(var Fa=[],Ua=0;Ua < Ka.length;++Ua){Ja=Ka[Ua];if(!Ja.isBoundTo(Ca) || !Ca.isVerified()){Wa=Ja.data;Wa && 0 == Wa.length?ra.removeServiceTokens(Ja.name,Ja.isMasterTokenBound()?Ca:null,Ja.isUserIdTokenBound()?Ha:null):Fa.push(Ja);}}0 < Fa.length && ra.addServiceTokens(Fa);},buildRequest:function(ra,Ca,Ha,Ka,Fa){var Ua;Ua=this;this.getNewestMasterToken(ra,Ca,Ka,{result:function(Ja){Na(Fa,function(){var Wa,ab,Va;Wa=Ja && Ja.masterToken;if(Wa){ab=Ha.getUserId();Va=Ca.getMslStore();ab=(ab=ab?Va.getUserIdToken(ab):null) && ab.isBoundTo(Wa)?ab:null;}else ab=null;Ic(Ca,Wa,ab,null,{result:function(jb){Na(Fa,function(){jb.setNonReplayable(Ha.isNonReplayable());return {builder:jb,tokenTicket:Ja};});},error:function(jb){Na(Fa,function(){this.releaseMasterToken(Ja);jb instanceof eb && (jb=new vb("User ID token not bound to master token despite internal check.",jb));throw jb;},Ua);}});},Ua);},timeout:function(){Fa.timeout();},error:function(Ja){Fa.error(Ja);}});},buildResponse:function(ra,Ca,Ha,Ka,Fa,Ua){var Ja;Ja=this;Ne(Ca,Ka,{result:function(Wa){bb(Ua,function(){Wa.setNonReplayable(Ha.isNonReplayable());if(!Ca.isPeerToPeer() && !Ka.keyResponseData)return {builder:Wa,tokenTicket:null};this.getNewestMasterToken(ra,Ca,Fa,{result:function(ab){bb(Ua,function(){var Va,jb,lb;Va=ab && ab.masterToken;if(Va){jb=Ha.getUserId();lb=Ca.getMslStore();jb=(jb=jb?lb.getUserIdToken(jb):null) && jb.isBoundTo(Va)?jb:null;}else jb=null;Wa.setAuthTokens(Va,jb);return {builder:Wa,tokenTicket:ab};},Ja);},timeout:function(){Ua.timeout();},error:function(ab){Ua.error(ab);}});},Ja);},error:function(Wa){Ua.error(Wa);}});},buildErrorResponse:function(ra,Ca,Ha,Ka,Fa,Ua,Ja){var Va;function Wa(jb,lb){bb(Ja,function(){var ob,pb;ob=Hc(Fa.messageId);pb=new ta(lb,Ha);Ic(Ca,null,null,ob,{result:function(qb){bb(Ja,function(){Ca.isPeerToPeer() && qb.setPeerAuthTokens(jb.peerMasterToken,jb.peerUserIdToken);qb.setNonReplayable(pb.isNonReplayable());return {errorResult:new Y(qb,pb),tokenTicket:null};},Va);},error:function(qb){Ja.error(qb);}});},Va);}function ab(jb,lb){Va.getNewestMasterToken(ra,Ca,Ua,{result:function(ob){bb(Ja,function(){var pb,qb,Ab;pb=ob && ob.masterToken;qb=Hc(Fa.messageId);Ab=new ta(lb,Ha);Ic(Ca,pb,null,qb,{result:function(yb){bb(Ja,function(){Ca.isPeerToPeer() && yb.setPeerAuthTokens(jb.peerMasterToken,jb.peerUserIdToken);yb.setNonReplayable(Ab.isNonReplayable());return {errorResult:new Y(yb,Ab),tokenTicket:ob};},Va);},error:function(yb){Ja.error(yb);}});},Va);},timeout:function(){Ja.timeout();},error:function(ob){Ja.error(ob);}});}Va=this;bb(Ja,function(){var jb,lb,ob,pb;jb=Ka.requestHeader;lb=Ka.payloads;ob=Fa.errorCode;switch(ob){case Ia.ENTITYDATA_REAUTH:case Ia.ENTITY_REAUTH:Ca.getEntityAuthenticationData(ob,{result:function(qb){bb(Ja,function(){if(!qb)return null;Wa(jb,lb);},Va);},error:function(qb){Ja.error(qb);}});break;case Ia.USERDATA_REAUTH:case Ia.SSOTOKEN_REJECTED:Ha.getUserAuthData(ob,!1,!0,{result:function(qb){bb(Ja,function(){if(!qb)return null;ab(jb,lb);},Va);},error:function(qb){Ja.error(qb);}});break;case Ia.USER_REAUTH:ab(jb,lb);break;case Ia.KEYX_REQUIRED:ob=Hc(Fa.messageId);pb=new ta(lb,Ha);Ic(Ca,null,null,ob,{result:function(qb){bb(Ja,function(){Ca.isPeerToPeer() && qb.setPeerAuthTokens(jb.peerMasterToken,jb.peerUserIdToken);qb.setRenewable(!0);qb.setNonReplayable(pb.isNonReplayable());return {errorResult:new Y(qb,pb),tokenTicket:null};},Va);},error:function(qb){Ja.error(qb);}});break;case Ia.EXPIRED:this.getNewestMasterToken(ra,Ca,Ua,{result:function(qb){bb(Ja,function(){var Ab,yb,r,b;Ab=qb && qb.masterToken;yb=jb.userIdToken;r=Hc(Fa.messageId);b=new ta(lb,Ha);Ic(Ca,Ab,yb,r,{result:function(a){bb(Ja,function(){Ca.isPeerToPeer() && a.setPeerAuthTokens(jb.peerMasterToken,jb.peerUserIdToken);jb.masterToken.equals(Ab) && a.setRenewable(!0);a.setNonReplayable(b.isNonReplayable());return {errorResult:new Y(a,b),tokenTicket:qb};},Va);},error:function(a){Ja.error(a);}},Va);},Va);},timeout:function(){Ja.timeout();},error:function(qb){Ja.error(qb);}});break;case Ia.REPLAYED:this.getNewestMasterToken(ra,Ca,Ua,{result:function(qb){bb(Ja,function(){var Ab,yb,r,b;Ab=qb && qb.masterToken;yb=jb.userIdToken;r=Hc(Fa.messageId);b=new ta(lb,Ha);Ic(Ca,Ab,yb,r,{result:function(a){bb(Ja,function(){Ca.isPeerToPeer() && a.setPeerAuthTokens(jb.peerMasterToken,jb.peerUserIdToken);jb.masterToken.equals(Ab)?(a.setRenewable(!0),a.setNonReplayable(!1)):a.setNonReplayable(b.isNonReplayable());return {errorResult:new Y(a,b),tokenTicket:qb};},Va);},error:function(a){Ja.error(a);}});},Va);},timeout:function(){Ja.timeout();},error:function(qb){Ja.error(qb);}});break;default:return null;}},Va);},cleanupContext:function(ra,Ca,Ha){switch(Ha.errorCode){case Ia.ENTITY_REAUTH:this.deleteMasterToken(ra,Ca.masterToken);break;case Ia.USER_REAUTH:(Ha=Ca.userIdToken,Ca.masterToken && Ha && ra.getMslStore().removeUserIdToken(Ha));}},send:function(ra,Ca,Ha,Ka,Fa,Ua,Ja){var ob;function Wa(pb,qb,Ab){bb(Ja,function(){var yb;yb=Fa.getPeerUserIdToken();!Ca.isPeerToPeer() && !qb || Ca.isPeerToPeer() && !yb?(yb=Ha.getCustomer())?Fa.setCustomer(yb,{result:function(r){bb(Ja,function(){qb=Fa.getUserIdToken();ab(pb,qb,Ab);},ob);},error:function(r){Ja.error(r);}}):ab(pb,qb,Ab):ab(pb,qb,Ab);},ob);}function ab(pb,qb,Ab){bb(Ja,function(){var yb,r;yb=!Ab && (!Ha.isEncrypted() || Fa.willEncryptPayloads()) && (!Ha.isIntegrityProtected() || Fa.willIntegrityProtectPayloads()) && (!Ha.isNonReplayable() || Fa.isNonReplayable() && pb);yb || Fa.setNonReplayable(!1);r=[];Fa.isRenewable() && (!pb || pb.isRenewable() || Ha.isNonReplayable())?Ha.getKeyRequestData({result:function(b){bb(Ja,function(){var c;for(var a=0;a < b.length;++a){c=b[a];r.push(c);Fa.addKeyRequestData(c);}Va(pb,qb,yb,r);},ob);},error:function(b){Ja.error(b);}}):Va(pb,qb,yb,r);},ob);}function Va(pb,qb,Ab,yb){bb(Ja,function(){var r;r=new Pe(Ca,Ha,Fa);Ha.updateServiceTokens(r,!Ab,{result:function(b){Fa.getHeader({result:function(a){bb(Ja,function(){var c,l;c=Ha.getDebugContext();c && c.sentHeader(a);c=Fa.getKeyExchangeData();this.updateOutgoingCryptoContexts(Ca,a,c);this.storeServiceTokens(Ca,pb,qb,a.serviceTokens);c=!Ca.isPeerToPeer() && c?c.cryptoContext:a.cryptoContext;if(ra.isAborted())throw new Yb("send aborted.");l=null != this._filterFactory?this._filterFactory.getOutputStream(Ka):Ka;ud(Ca,l,Mb,a,c,Ua,{result:function(g){ra.setAbort(function(){g.abort();});jb(g,a,Ab);},timeout:function(){Ja.timeout();},error:function(g){Ja.error(g);}});},ob);},timeout:function(){Ja.timeout();},error:function(a){Ja.error(a);}});},error:function(b){Ja.error(b);}});},ob);}function jb(pb,qb,Ab){var yb,r;if(Ab)Ha.write(pb,Ua,{result:function(b){bb(Ja,function(){if(ra.isAborted())throw new Yb("MessageOutputStream write aborted.");lb(pb,qb,Ab);},ob);},timeout:function(){Ja.timeout();},error:function(b){Ja.error(b);}});else {yb=new ya();r=new Pc();ud(Ca,yb,Mb,qb,r,Ua,{result:function(b){Ha.write(b,Ua,{result:function(a){bb(Ja,function(){if(ra.isAborted())throw new Yb("MessageOutputStream proxy write aborted.");b.close(Ua,{result:function(c){bb(Ja,function(){var l;if(!c)throw new Yb("MessageOutputStream proxy close aborted.");l=b.getPayloads();lb(pb,qb,Ab,l);},ob);},timeout:function(){Ja.timeout();},error:function(c){Ja.error(c);}});},ob);},timeout:function(){Ja.timeout();},error:function(a){Ja.error(a);}});},timeout:function(){Ja.timeout();},error:function(b){Ja.error(b);}});}}function lb(pb,qb,Ab,yb){pb.close(Ua,{result:function(r){bb(Ja,function(){if(!r)throw new Yb("MessageOutputStream close aborted.");yb || (yb=pb.getPayloads());return new aa(qb,yb,!Ab);},ob);},timeout:function(){Ja.timeout();},error:function(r){Ja.error(r);}});}ob=this;bb(Ja,function(){var pb,qb,Ab,yb;pb=Fa.getMasterToken();qb=Fa.getUserIdToken();Ab=!1;if(Ha.getUserId()){yb=!qb;Ha.getUserAuthData(null,Fa.isRenewable(),yb,{result:function(r){bb(Ja,function(){r && (Fa.willEncryptHeader() && Fa.willIntegrityProtectHeader()?Fa.setUserAuthenticationData(r):Ab=!0);Wa(pb,qb,Ab);},ob);},error:function(r){Ja.error(r);}});}else Wa(pb,qb,Ab);},ob);},receive:function(ra,Ca,Ha,Ka,Fa,Ua,Ja){var Wa;Wa=this;bb(Ja,function(){var ab,Va,jb;if(ra.isAborted())throw new Yb("receive aborted.");ab=[];Fa && (ab=Fa.keyRequestData.filter(function(){return !0;}));Va=Ha.getCryptoContexts();jb=this._filterFactory?this._filterFactory.getInputStream(Ka):Ka;Re(Ca,jb,Mb,ab,Va,Ua,{result:function(lb){ra.setAbort(function(){lb.abort();});lb.isReady(Ua,{result:function(ob){bb(Ja,function(){var pb,qb,Ab,yb;if(!ob)throw new Yb("MessageInputStream aborted.");pb=lb.getMessageHeader();qb=lb.getErrorHeader();Ab=Ha.getDebugContext();Ab && Ab.receivedHeader(pb?pb:qb);if(Fa && (Ab=qb?qb.errorCode:null,pb || Ab != Ia.FAIL && Ab != Ia.TRANSIENT_FAILURE && Ab != Ia.ENTITY_REAUTH && Ab != Ia.ENTITYDATA_REAUTH)){Ab=pb?pb.messageId:qb.messageId;yb=Hc(Fa.messageId);if(Ab != yb)throw new Ib(X.UNEXPECTED_RESPONSE_MESSAGE_ID,"expected " + yb + "; received " + Ab);}Ca.getEntityAuthenticationData(null,{result:function(r){bb(Ja,function(){var b,a,c,l;b=r.getIdentity();if(pb){a=pb.entityAuthenticationData;c=pb.masterToken;a=c?pb.sender:a.getIdentity();if(c && c.isDecrypted() && c.identity != a || b == a)throw new Ib(X.UNEXPECTED_MESSAGE_SENDER,a);Fa && this.updateIncomingCryptoContexts(Ca,Fa,lb);b=pb.keyResponseData;Ca.isPeerToPeer()?(b=b?b.masterToken:pb.peerMasterToken,c=pb.peerUserIdToken,a=pb.peerServiceTokens):(b=b?b.masterToken:pb.masterToken,c=pb.userIdToken,a=pb.serviceTokens);l=Ha.getUserId();l && c && !c.isVerified() && Ca.getMslStore().addUserIdToken(l,c);this.storeServiceTokens(Ca,b,c,a);}else if((a=qb.entityAuthenticationData.getIdentity(),b == a))throw new Ib(X.UNEXPECTED_MESSAGE_SENDER,a);return lb;},Wa);},error:Ja.error});},Wa);},timeout:function(){Ja.timeout();},error:function(ob){Ja.error(ob);}});},timeout:function(){Ja.timeout();},error:function(lb){Ja.error(lb);}});},Wa);},sendReceive:function(ra,Ca,Ha,Ka,Fa,Ua,Ja,Wa,ab){var jb;function Va(lb,ob){bb(ab,function(){Ua.setRenewable(ob);this.send(ra,Ca,Ha,Fa,Ua,Ja,{result:function(pb){bb(ab,function(){var qb;qb=pb.requestHeader.keyRequestData;Wa || pb.handshake || !qb.isEmpty()?this.receive(ra,Ca,Ha,Ka,pb.requestHeader,Ja,{result:function(Ab){bb(ab,function(){ob && this.releaseRenewalLock(Ca,lb,Ab);return new ea(Ab,pb);},jb);},timeout:function(){bb(ab,function(){ob && this.releaseRenewalLock(Ca,lb,null);ab.timeout();},jb);},error:function(Ab){bb(ab,function(){ob && this.releaseRenewalLock(Ca,lb,null);throw Ab;},jb);}}):bb(ab,function(){ob && this.releaseRenewalLock(Ca,lb,null);return new ea(null,pb);},jb);},jb);},timeout:function(){bb(ab,function(){ob && this.releaseRenewalLock(Ca,lb,null);ab.timeout();},jb);},error:function(pb){bb(ab,function(){ob && this.releaseRenewalLock(Ca,lb,null);throw pb;},jb);}});},jb);}jb=this;bb(ab,function(){var lb;lb=new Tc();this.acquireRenewalLock(ra,Ca,Ha,lb,Ua,Ja,{result:function(ob){Va(lb,ob);},timeout:function(){ab.timeout();},error:function(ob){ob instanceof Yb?ab.result(null):ab.error(ob);}});},jb);},acquireRenewalLock:function(ra,Ca,Ha,Ka,Fa,Ua,Ja){var Va;function Wa(jb,lb,ob){bb(Ja,function(){var Ab,yb;if(ra.isAborted())throw new Yb("acquireRenewalLock aborted.");for(var pb=null,qb=0;qb < this._renewingContexts.length;++qb){Ab=this._renewingContexts[qb];if(Ab.ctx === Ca){pb=Ab.queue;break;}}if(!pb)return (this._renewingContexts.push({ctx:Ca,queue:Ka}),!0);yb=pb.poll(Ua,{result:function(r){bb(Ja,function(){var b;if(r === Bb)throw new Yb("acquireRenewalLock aborted.");pb.add(r);if(r === oa || r.isExpired())Wa(r,lb,ob);else {if(ob && !lb || lb && !lb.isBoundTo(r)){b=Ca.getMslStore().getUserIdToken(ob);lb=b && b.isBoundTo(r)?b:null;}Fa.setAuthTokens(r,lb);Fa.isRenewable() && r.equals(jb)?Wa(r,lb,ob):Ha.isRequestingTokens() && !lb?Wa(r,lb,ob):ab(r,lb);}},Va);},timeout:function(){},error:function(r){}});ra.setAbort(function(){yb && (pb.cancel(yb),yb=Bb);});},Va);}function ab(jb,lb){bb(Ja,function(){var qb;if(ra.isAborted())throw new Yb("acquireRenewalLock aborted.");if(!jb || jb.isRenewable() || !lb && Ha.getUserId() || lb && lb.isRenewable()){for(var ob=null,pb=0;pb < this._renewingContexts.length;++pb){qb=this._renewingContexts[pb];if(qb.ctx === Ca){ob=qb.queue;break;}}if(!ob)return (this._renewingContexts.push({ctx:Ca,queue:Ka}),!0);}return !1;},Va);}Va=this;bb(Ja,function(){var jb,lb,ob;jb=Fa.getMasterToken();lb=Fa.getUserIdToken();ob=Ha.getUserId();Ha.isEncrypted() && !Fa.willEncryptPayloads() || Ha.isIntegrityProtected() && !Fa.willIntegrityProtectPayloads() || Fa.isRenewable() || !jb && Ha.isNonReplayable() || jb && jb.isExpired() || !(lb || !ob || Fa.willEncryptHeader() && Fa.willIntegrityProtectHeader()) || Ha.isRequestingTokens() && (!jb || ob && !lb)?Wa(jb,lb,ob):ab(jb,lb);},Va);},releaseRenewalLock:function(ra,Ca,Ha){var Ja;for(var Ka,Fa,Ua=0;Ua < this._renewingContexts.length;++Ua){Ja=this._renewingContexts[Ua];if(Ja.ctx === ra){Ka=Ua;Fa=Ja.queue;break;}}if(Fa !== Ca)throw new vb("Attempt to release renewal lock that is not owned by this queue.");Ha?(Ha=Ha.messageHeader)?(Fa=Ha.keyResponseData)?Ca.add(Fa.masterToken):(ra=ra.isPeerToPeer()?Ha.peerMasterToken:Ha.masterToken)?Ca.add(ra):Ca.add(oa):Ca.add(oa):Ca.add(oa);this._renewingContexts.splice(Ka,1);}});Ue=Cb.Class.create({init:function(){var ra;ra={_impl:{value:new da(),writable:!1,enumerable:!1,configurable:!1},_shutdown:{value:!1,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,ra);},setFilterFactory:function(ra){this._impl.setFilterFactory(ra);},shutdown:function(){this._shutdown=!0;},receive:function(ra,Ca,Ha,Ka,Fa,Ua){var Ja;if(this._shutdown)throw new eb("MslControl is shutdown.");Ja=new ia(this._impl,ra,Ca,Ha,Ka,Fa);setTimeout(function(){Ja.call(Ua);},0);return ja(Ja);},respond:function(ra,Ca,Ha,Ka,Fa,Ua,Ja){var Wa;if(this._shutdown)throw new eb("MslControl is shutdown.");Wa=new ka(this._impl,ra,Ca,Ha,Ka,Fa,Ua);setTimeout(function(){Wa.call(Ja);},0);return ja(Wa);},error:function Ha(ra,Ca,Ha,Ka,Fa,Ua,Ja){var Wa;if(this._shutdown)throw new eb("MslControl is shutdown.");Wa=new Ba(this._impl,ra,Ca,Ha,Ka,Fa,Ua);setTimeout(function(){Wa.call(Ja);},0);return ja(Wa);},request:function(ra,Ca){var Ha,Ka,Fa,Ua,Ja,Wa;if(this._shutdown)throw new eb("MslControl is shutdown.");if(5 == arguments.length){Ka=arguments[2];Fa=Ha=null;Ua=arguments[3];Ja=arguments[4];if(ra.isPeerToPeer()){Ja.error(new vb("This method cannot be used in peer-to-peer mode."));return;}}else if(6 == arguments.length && (Ka=null,Ha=arguments[2],Fa=arguments[3],Ua=arguments[4],Ja=arguments[5],!ra.isPeerToPeer())){Ja.error(new vb("This method cannot be used in trusted network mode."));return;}Wa=new Ma(this._impl,ra,Ca,Ka,Ha,Fa,null,0,Ua);setTimeout(function(){Wa.call(Ja);},0);return ja(Wa);}});ia=Cb.Class.create({init:function(ra,Ca,Ha,Ka,Fa,Ua){Object.defineProperties(this,{_ctrl:{value:ra,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:Ca,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ha,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ka,writable:!1,enumerable:!1,configurable:!1},_output:{value:Fa,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ua,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Bb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(ra){this._abortFunc=ra;},call:function(ra){var Fa;function Ca(Ua){bb(ra,function(){var Ja;Ja=Ua.messageHeader;if(!Ja)return Ua;this.setAbort(function(){Ua.abort();});Ua.mark(Number.MAX_VALUE);Ua.read(1,Fa._timeout,{result:function(Wa){bb(ra,function(){if(Wa && 0 == Wa.length)return null;if(Wa)return (Ua.reset(),Ua);Ha(Ua);},Fa);},timeout:function(){ra.timeout();},error:function(Wa){bb(ra,function(){var ab,Va,jb;if(ba(Wa))return null;ab=Ja?Ja.messageId:null;if(Wa instanceof Ub){Va=X.MSL_COMMS_FAILURE;jb=Wa;}else (Va=X.INTERNAL_EXCEPTION,jb=new vb("Error peeking into the message payloads."));ma(this,this._ctx,this._msgCtx.getDebugContext(),ab,Va,null,this._output,this._timeout,{result:function(lb){ra.error(jb);},timeout:function(){ra.timeout();},error:function(lb){bb(ra,function(){if(ba(lb))return null;throw new fc("Error peeking into the message payloads.",lb,Wa);},Fa);}});},Fa);}});},Fa);}function Ha(Ua){bb(ra,function(){Ua.close();this._ctrl.buildResponse(this,this._ctx,this._msgCtx,Ua.messageHeader,this._timeout,{result:function(Ja){bb(ra,function(){var Wa,ab,Va,jb,lb;Wa=Ja.builder;ab=Ja.tokenTicket;Va=Ua.messageHeader;jb=new Da(this._msgCtx);if(!this._ctx.isPeerToPeer() || Va.isEncrypting() || Va.keyResponseData)Ka(Va,Wa,jb,ab);else {lb=new Ma(this._ctrl,this._ctx,jb,null,this._input,this._output,Ja,1,this._timeout);this.setAbort(function(){lb.abort();});lb.call(ra);}},Fa);},timeout:function(){ra.timeout();},error:function(Ja){bb(ra,function(){var Wa,ab,Va,jb;if(ba(Ja))return null;if(Ja instanceof eb){Wa=Ja.messageId;ab=Ja.error;Va=Ua.messageHeader.messageCapabilities;Va=this._ctrl.messageRegistry.getUserMessage(ab,Va?Va.languages:null);jb=Ja;}else (Wa=requestHeader?requestHeader.messageId:null,ab=X.INTERNAL_EXCEPTION,Va=null,jb=new vb("Error creating an automatic handshake response.",Ja));ma(this,this._ctx,this._msgCtx.getDebugContext(),Wa,ab,Va,this._output,this._timeout,{result:function(lb){ra.error(jb);},timeout:function(){ra.timeout();},error:function(lb){bb(ra,function(){if(ba(lb))return null;throw new fc("Error creating an automatic handshake response.",lb,Ja);},Fa);}});},Fa);}});},Fa);}function Ka(Ua,Ja,Wa,ab){bb(ra,function(){Ja.setRenewable(!1);this._ctrl.send(this._ctx,Wa,this._output,Ja,this._timeout,{result:function(Va){bb(ra,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(ab);return null;},Fa);},timeout:function(){bb(ra,function(){this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(ab);ra.timeout();},Fa);},error:function(Va){bb(ra,function(){var jb,lb,ob,pb;this._ctx.isPeerToPeer() && this._ctrl.releaseMasterToken(ab);if(ba(Va))return null;if(Va instanceof eb){jb=Va.messageId;lb=Va.error;ob=Ua?Ua.messageCapabilities:null;ob=this._ctrl.messageRegistry.getUserMessage(lb,ob?ob.languages:null);pb=Va;}else Va instanceof Ub?(jb=Ua?Ua.messageId:null,lb=X.MSL_COMMS_FAILURE,ob=null,pb=Va):(jb=Ua?Ua.messageId:null,lb=X.INTERNAL_EXCEPTION,ob=null,pb=new vb("Error sending an automatic handshake response.",Va));ma(this,this._ctx,this._msgCtx.getDebugContext(),jb,lb,ob,this._output,this._timeout,{result:function(qb){ra.error(pb);},timeout:function(){ra.timeout();},error:function(qb){bb(ra,function(){if(ba(qb))return null;throw new fc("Error sending an automatic handshake response.",qb,Va);},Fa);}});},Fa);}});},Fa);}Fa=this;bb(ra,function(){this._ctrl.receive(this,this._ctx,this._msgCtx,this._input,null,this._timeout,{result:function(Ua){Ca(Ua);},timeout:function(){ra.timeout();},error:function(Ua){bb(ra,function(){var Ja,Wa,ab,Va;if(ba(Ua))return null;if(Ua instanceof eb){Ja=Ua.messageId;Wa=Ua.error;ab=this._ctrl.messageRegistry.getUserMessage(Wa,null);Va=Ua;}else (Ja=null,Wa=X.INTERNAL_EXCEPTION,ab=null,Va=new vb("Error receiving the message header.",Ua));ma(this,this._ctx,this._msgCtx.getDebugContext(),Ja,Wa,ab,this._output,this._timeout,{result:function(jb){ra.error(Va);},timeout:function(){ra.timeout();},error:function(jb){bb(ra,function(){if(ba(jb))return null;throw new fc("Error receiving the message header.",jb,Ua);},Fa);}});},Fa);}});},Fa);}});ka=Cb.Class.create({init:function(ra,Ca,Ha,Ka,Fa,Ua,Ja){Object.defineProperties(this,{_ctrl:{value:ra,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:Ca,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ha,writable:!1,enumerable:!1,configurable:!1},_input:{value:Ka,writable:!1,enumerable:!1,configurable:!1},_output:{value:Fa,writable:!1,enumerable:!1,configurable:!1},_request:{value:Ua,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ja,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Bb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(ra){this._abortFunc=ra;},trustedNetworkExecute:function(ra,Ca,Ha){var Ka;Ka=this;bb(Ha,function(){var Fa,Ua;if(12 < Ca + 1)return !1;if(Fa=this._msgCtx.isIntegrityProtected() && !ra.willIntegrityProtectHeader()?X.RESPONSE_REQUIRES_INTEGRITY_PROTECTION:this._msgCtx.isEncrypted() && !ra.willEncryptPayloads()?X.RESPONSE_REQUIRES_ENCRYPTION:null){Ua=Qc(ra.getMessageId());ma(this,this._ctx,this._msgCtx.getDebugContext(),Ua,Fa,null,this._output,this._timeout,{result:function(Ja){Ha.result(!1);},timeout:function(){Ha.timeout();},error:function(Ja){bb(Ha,function(){if(ba(Ja))return !1;throw new fc("Response requires encryption or integrity protection but cannot be protected: " + Fa,Ja,null);},Ka);}});}else !this._msgCtx.getCustomer() || ra.getMasterToken() || ra.getKeyExchangeData()?(ra.setRenewable(!1),this._ctrl.send(this._ctx,this._msgCtx,this._output,ra,this._timeout,{result:function(Ja){Ha.result(!0);},timeout:function(){Ha.timeout();},error:function(Ja){Ha.error(Ja);}})):(Ua=Qc(ra.getMessageId()),ma(this,this._ctx,this._msgCtx.getDebugContext(),Ua,X.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Ja){Ha.result(!1);},timeout:function(){Ha.timeout();},error:function(Ja){bb(Ha,function(){if(ba(Ja))return !1;throw new fc("Response wishes to attach a user ID token but there is no master token.",Ja,null);},Ka);}}));},Ka);},peerToPeerExecute:function(ra,Ca,Ha,Ka){var Ua;function Fa(Ja){bb(Ka,function(){var Wa;Wa=Ja.response;Wa.close();Wa=Wa.getErrorHeader();this._ctrl.cleanupContext(this._ctx,Ja.requestHeader,Wa);this._ctrl.buildErrorResponse(this,this._ctx,ra,Ja,Wa,{result:function(ab){bb(Ka,function(){var Va,jb;if(!ab)return !1;Va=ab.errorResult;jb=ab.tokenTicket;this.peerToPeerExecute(Va.msgCtx,Va.builder,Ha,{result:function(lb){bb(Ka,function(){this._ctrl.releaseMasterToken(jb);return lb;},Ua);},timeout:function(){bb(Ka,function(){this._ctrl.releaseMasterToken(jb);Ka.timeout();},Ua);},error:function(lb){bb(Ka,function(){this._ctrl.releaseMasterToken(jb);throw lb;},Ua);}});},Ua);}});},Ua);}Ua=this;bb(Ka,function(){var Ja;if(12 < Ha + 2)return !1;if(null != ra.getCustomer() && null == Ca.getPeerMasterToken() && null == Ca.getKeyExchangeData()){Ja=Qc(Ca.getMessageId());ma(this,this._ctx,ra.getDebugContext(),Ja,X.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(Wa){Ka.result(!1);},timeout:function(){Ka.timeout();},error:function(Wa){bb(Ka,function(){if(ba(Wa))return !1;throw new fc("Response wishes to attach a user ID token but there is no master token.",Wa,null);},Ua);}});}else this._ctrl.sendReceive(this._ctx,ra,this._input,this._output,Ca,this._timeout,!1,{result:function(Wa){bb(Ka,function(){var jb,lb,ob;function ab(){jb.read(32768,Ua._timeout,{result:function(pb){bb(Ka,function(){pb?ab():Va();},Ua);},timeout:function(){Ka.timeout();},error:function(pb){Ka.error(pb);}});}function Va(){bb(Ka,function(){var pb;pb=new ta(Wa.payloads,ra);this._ctrl.buildResponse(this,this._ctx,pb,lb,this._timeout,{result:function(qb){bb(Ka,function(){var Ab;Ab=qb.tokenTicket;this.peerToPeerExecute(pb,qb.builder,Ha,{result:function(yb){bb(Ka,function(){this._ctrl.releaseMasterToken(Ab);return yb;},Ua);},timeout:function(){bb(Ka,function(){this._ctrl.releaseMasterToken(Ab);Ka.timeout();},Ua);},error:function(yb){bb(Ka,function(){this._ctrl.releaseMasterToken(Ab);throw yb;},Ua);}});},Ua);},timeout:function(){Ka.timeout();},error:function(qb){Ka.error(qb);}});},Ua);}jb=Wa.response;Ha+=2;if(!jb)return !0;lb=jb.getMessageHeader();if(lb){ob=Wa.payloads;ob=0 < ob.length && 0 < ob[0].data.length;if(Wa.handshake && ob)ab();else return !0;}else Fa(Wa);},Ua);},timeout:function(){Ka.timeout();},error:function(Wa){Ka.error(Wa);}});},Ua);},call:function(ra){var Ca;Ca=this;this._ctrl.buildResponse(this,this._ctx,this._msgCtx,this._request,this._timeout,{result:function(Ha){bb(ra,function(){var Ka,Fa;Ka=Ha.builder;Fa=Ha.tokenTicket;this._ctx.isPeerToPeer()?this.peerToPeerExecute(this._msgCtx,Ka,3,{result:function(Ua){bb(ra,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Fa);return Ua;},Ca);},timeout:function(){bb(ra,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Fa);ra.timeout();},Ca);},error:function(Ua){bb(ra,function(){var Ja,Wa,ab,Va;this._ctx.isPeerToPeer() && this.releaseMasterToken(Fa);if(ba(Ua))return !1;Ja=Qc(Ka.getMessageId());if(Ua instanceof eb){Wa=Ua.error;ab=this._request.messageCapabilities;ab=this._ctrl.messageRegistry.getUserMessage(Wa,ab?ab.languages:null);Va=Ua;}else Ua instanceof Ub?(Wa=X.MSL_COMMS_FAILURE,ab=null,Va=Ua):(Wa=X.INTERNAL_EXCEPTION,ab=null,Va=new vb("Error sending the response.",Ua));ma(this,this._ctx,this._msgCtx.getDebugContext(),Ja,Wa,ab,this._output,this._timeout,{result:function(jb){ra.error(Va);},timeout:function(){ra.timeout();},error:function(jb){bb(ra,function(){if(ba(jb))return !1;throw new fc("Error sending the response.",jb,null);},Ca);}});},Ca);}}):this.trustedNetworkExecute(Ka,3,{result:function(Ua){bb(ra,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Fa);return Ua;},Ca);},timeout:function(){bb(ra,function(){this._ctx.isPeerToPeer() && this.releaseMasterToken(Fa);ra.timeout();},Ca);},error:function(Ua){bb(ra,function(){var Ja,Wa,ab,Va;this._ctx.isPeerToPeer() && this.releaseMasterToken(Fa);if(ba(Ua))return !1;Ja=Qc(Ka.getMessageId());if(Ua instanceof eb){Wa=Ua.error;ab=this._request.messageCapabilities;ab=this._ctrl.messageRegistry.getUserMessage(Wa,ab?ab.languages:null);Va=Ua;}else Ua instanceof Ub?(Wa=X.MSL_COMMS_FAILURE,ab=null,Va=Ua):(Wa=X.INTERNAL_EXCEPTION,ab=null,Va=new vb("Error sending the response.",Ua));ma(this,this._ctx,this._msgCtx.getDebugContext(),Ja,Wa,ab,this._output,this._timeout,{result:function(jb){ra.error(Va);},timeout:function(){ra.timeout();},error:function(jb){bb(ra,function(){if(ba(jb))return !1;throw new fc("Error sending the response.",jb,null);},Ca);}});},Ca);}});},Ca);},timeout:function(){ra.timeout();},error:function(Ha){bb(ra,function(){var Ka,Fa,Ua,Ja;if(ba(Ha))return !1;if(Ha instanceof eb){Ka=Ha.messageId;Fa=Ha.error;Ua=this._request.messageCapabilities;Ua=this._ctrl.messageRegistry.getUserMessage(Fa,Ua?Ua.languages:null);Ja=Ha;}else (Ka=null,Fa=X.INTERNAL_EXCEPTION,Ua=null,Ja=new vb("Error building the response.",Ha));ma(this,this._ctx,this._msgCtx.getDebugContext(),Ka,Fa,Ua,this._output,this._timeout,{result:function(Wa){ra.error(Ja);},timeout:function(){ra.timeout();},error:function(Wa){bb(ra,function(){if(ba(Wa))return null;throw new fc("Error building the response.",Wa,Ha);},Ca);}});},Ca);}});}});Ba=Cb.Class.create({init:function(ra,Ca,Ha,Ka,Fa,Ua,Ja){Object.defineProperties(this,{_ctrl:{value:ra,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:Ca,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ha,writable:!1,enumerable:!1,configurable:!1},_appError:{value:Ka,writable:!1,enumerable:!1,configurable:!1},_output:{value:output,writable:!1,enumerable:!1,configurable:!1},_request:{value:Ua,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:Ja,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Bb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(ra){this._abortFunc=ra;},call:function(ra){var Ca;Ca=this;bb(ra,function(){var Ha,Ka;if(this._appError == ENTITY_REJECTED)Ha=this._request.masterToken?X.MASTERTOKEN_REJECTED_BY_APP:X.ENTITY_REJECTED_BY_APP;else if(this._appError == USER_REJECTED)Ha=this._request.userIdToken?X.USERIDTOKEN_REJECTED_BY_APP:X.USER_REJECTED_BY_APP;else throw new vb("Unhandled application error " + this._appError + ".");Ka=this._request.messageCapabilities;Ka=this._ctrl.messageRegistry.getUserMessage(Ha,Ka?Ka.languages:null);ma(this,this._ctx,this._msgCtx.getDebugContext(),this._request.messageId,Ha,Ka,this._output,this._timeout,{result:function(Fa){ra.result(Fa);},timeout:ra.timeout,error:function(Fa){bb(ra,function(){if(ba(Fa))return !1;if(Fa instanceof eb)throw Fa;throw new vb("Error building the error response.",Fa);},Ca);}});},Ca);}});Sa={result:function(){},timeout:function(){},error:function(){}};Ma=Cb.Class.create({init:function(ra,Ca,Ha,Ka,Fa,Ua,Ja,Wa,ab){var Va;if(Ja){Va=Ja.builder;Ja=Ja.tokenTicket;}else Ja=Va=null;Object.defineProperties(this,{_ctrl:{value:ra,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:Ca,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:Ha,writable:!1,enumerable:!1,configurable:!1},_remoteEntity:{value:Ka,writable:!1,enumerable:!1,configurable:!1},_input:{value:Fa,writable:!0,enumerable:!1,configurable:!1},_output:{value:Ua,writable:!0,enumerable:!1,configurable:!1},_openedStreams:{value:!1,writable:!0,enumerable:!1,configurable:!1},_builder:{value:Va,writable:!0,enumerable:!1,configurable:!1},_tokenTicket:{value:Ja,writable:!0,enumerable:!1,configurable:!1},_timeout:{value:ab,writable:!1,enumerable:!1,configurable:!1},_msgCount:{value:Wa,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:Bb,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc && this._abortFunc.call(this);},setAbort:function(ra){this._abortFunc=ra;},execute:function(ra,Ca,Ha,Ka,Fa){var Wa;function Ua(ab){function Va(jb){bb(Fa,function(){var lb;lb=ab.response;return jb?jb:lb;},Wa);}bb(Fa,function(){var jb,lb;jb=ab.response;jb.close();lb=jb.getErrorHeader();this._ctrl.cleanupContext(this._ctx,ab.requestHeader,lb);this._ctrl.buildErrorResponse(this,this._ctx,ra,ab,lb,Ha,{result:function(ob){bb(Fa,function(){var pb,qb,Ab,yb;if(!ob)return jb;pb=ob.errorResult;qb=ob.tokenTicket;Ab=pb.builder;pb=pb.msgCtx;if(this._ctx.isPeerToPeer())this.execute(pb,Ab,this._timeout,Ka,{result:function(r){bb(Fa,function(){this._ctrl.releaseMasterToken(qb);Va(r);},Wa);},timeout:function(){bb(Fa,function(){this._ctrl.releaseMasterToken(qb);Fa.timeout();},Wa);},error:function(r){bb(Fa,function(){this._ctrl.releaseMasterToken(qb);Fa.error(r);},Wa);}});else {this._openedStreams && (this._input.close(),this._output.close(Ha,Sa));yb=new Ma(this._ctrl,this._ctx,pb,this._remoteEntity,null,null,{builder:Ab,tokenTicket:qb},Ka,this._timeout);this.setAbort(function(){yb.abort();});yb.call({result:function(r){Va(r);},timeout:function(){Fa.timeout();},error:function(r){Fa.error(r);}});}},Wa);},timeout:function(){Fa.timeout();},error:function(ob){Fa.error(ob);}});},Wa);}function Ja(ab){bb(Fa,function(){var lb,ob,pb,qb,Ab;function Va(){lb.read(32768,Wa._timeout,{result:function(yb){yb?Va():jb();},timeout:function(){Fa.timeout();},error:function(yb){Fa.error(yb);}});}function jb(){bb(Fa,function(){var yb;yb=new ta(ab.payloads,ra);this._ctrl.buildResponse(this,this._ctx,ra,ob,Ha,{result:function(r){bb(Fa,function(){var b;b=r.tokenTicket;this.execute(yb,r.builder,this._timeout,Ka,{result:function(a){bb(Fa,function(){this._ctrl.releaseMasterToken(b);return a;},Wa);},timeout:function(){bb(Fa,function(){this._ctrl.releaseMasterToken(b);Fa.timeout();},Wa);},error:function(a){bb(Fa,function(){this._ctrl.releaseMasterToken(b);throw a;},Wa);}});},Wa);},timeout:function(){Fa.timeout();},error:function(r){Fa.error(r);}});},Wa);}lb=ab.response;ob=lb.getMessageHeader();pb=ab.payloads;pb=0 < pb.length && 0 < pb[0].data.length;if(!this._ctx.isPeerToPeer()){if(!ab.handshake || !pb)return lb;this._openedStreams && (this._input.close(),this._output.close(Ha,Sa));qb=new ta(ab.payloads,ra);this._ctrl.buildResponse(this,this._ctx,ra,ob,Ha,{result:function(yb){bb(Fa,function(){var r;r=new Ma(this._ctrl,this._ctx,qb,this._remoteEntity,null,null,yb,Ka,this._timeout);this.setAbort(function(){r.abort();});r.call(Fa);},Wa);},timeout:function(){Fa.timeout();},error:function(yb){Fa.error(yb);}});}else if(ab.handshake && pb)Va();else if(0 < ob.keyRequestData.length){Ab=new Da(ra);this._ctrl.buildResponse(this,this._ctx,Ab,ob,Ha,{result:function(yb){bb(Fa,function(){var r,b;r=yb.builder;b=yb.tokenTicket;lb.mark();lb.read(1,this._timeout,{result:function(a){bb(Fa,function(){function c(){lb.read(32768,Wa._timeout,{result:function(g){g?c():l();},timeout:function(){Fa.timeout();},error:function(g){Fa.error(g);}});}function l(){Wa.execute(Ab,r,Wa._timeout,Ka,{result:function(g){bb(Fa,function(){this._ctrl.releaseMasterToken(b);return g;},Wa);},timeout:function(){bb(Fa,function(){this._ctrl.releaseMasterToken(b);Fa.timeout();},Wa);},error:function(g){bb(Fa,function(){this._ctrl.releaseMasterToken(b);throw g;},Wa);}});}if(a){if((lb.reset(),12 >= Ka + 1))(r.setRenewable(!1),this._ctrl.send(this,this._ctx,Ab,this._output,r,this._timeout,{result:function(g){bb(Fa,function(){this.releaseMasterToken(b);return lb;},Wa);},timeout:function(){Fa.timeout();},error:function(g){Fa.error(g);}}));else return (this.releaseMasterToken(b),lb);}else c();},Wa);},timeout:function(){bb(Fa,function(){this.releaseMasterToken(b);Fa.timeout();},Wa);},error:function(a){bb(Fa,function(){this.releaseMasterToken(b);throw a;},Wa);}});},Wa);},timeout:function(){Fa.timeout();},error:function(yb){Fa.error(yb);}});}},Wa);}Wa=this;bb(Fa,function(){if(12 < Ka + 2)return null;this._ctrl.sendReceive(this,this._ctx,ra,this._input,this._output,Ca,Ha,!0,{result:function(ab){bb(Fa,function(){var Va;if(!ab)return null;Va=ab.response;Ka+=2;Va.getMessageHeader()?Ja(ab):Ua(ab);},Wa);},timeout:function(){Fa.timeout();},error:function(ab){Fa.error(ab);}});},Wa);},call:function(ra){var Ha;function Ca(Ka,Fa,Ua){bb(ra,function(){this.execute(this._msgCtx,Ka,Ua,this._msgCount,{result:function(Ja){bb(ra,function(){this._ctrl.releaseMasterToken(Fa);this._openedStreams && this._output.close(Ua,Sa);Ja && Ja.closeSource(this._openedStreams);return Ja;},Ha);},timeout:function(){bb(ra,function(){this._ctrl.releaseMasterToken(Fa);this._openedStreams && (this._output.close(Ua,Sa),this._input.close());ra.timeout();},Ha);},error:function(Ja){bb(ra,function(){this._ctrl.releaseMasterToken(Fa);this._openedStreams && (this._output.close(Ua,Sa),this._input.close());if(ba(Ja))return null;throw Ja;},Ha);}});},Ha);}Ha=this;bb(ra,function(){var Ka,Fa,Ua;Ka=this._timeout;if(!this._input || !this._output)try{this._remoteEntity.setTimeout(this._timeout);Fa=Date.now();Ua=this._remoteEntity.openConnection();this._output=Ua.output;this._input=Ua.input;-1 != Ka && (Ka=this._timeout - (Date.now() - Fa));this._openedStreams=!0;}catch(Ja){this._builder && this._ctrl.releaseMasterToken(this._tokenTicket);this._output && this._output.close(this._timeout,Sa);this._input && this._input.close();if(ba(Ja))return null;throw Ja;}this._builder?Ca(this._builder,this._tokenTicket,Ka):this._ctrl.buildRequest(this,this._ctx,this._msgCtx,this._timeout,{result:function(Ja){bb(ra,function(){Ca(Ja.builder,Ja.tokenTicket,Ka);},Ha);},timeout:function(){bb(ra,function(){this._openedStreams && (this._output.close(this._timeout,Sa),this._input.close());ra.timeout();},Ha);},error:function(Ja){bb(ra,function(){this._openedStreams && (this._output.close(this._timeout,Sa),this._input.close());if(ba(Ja))return null;throw Ja;},Ha);}});},Ha);}});})();(function(){Sd=Cb.Class.create({init:function(ja){Object.defineProperties(this,{id:{value:ja,writable:!1,configurable:!1}});},toJSON:function(){var ja;ja={};ja.id=this.id;return ja;},equals:function(ja){return this === ja?!0:ja instanceof Sd?this.id == ja.id:!1;},uniqueKey:function(){return this.id;}});Ve=function(ja){var ca;ca=ja.id;if(!ca)throw new Db(X.JSON_PARSE_ERROR,JSON.stringify(ja));return new Sd(ca);};})();Cb.Class.create({isNewestMasterToken:function(ja,ca,Y){},isMasterTokenRevoked:function(ja,ca){},acceptNonReplayableId:function(ja,ca,Y,aa){},createMasterToken:function(ja,ca,Y,aa,ea){},isMasterTokenRenewable:function(ja,ca,Y){},renewMasterToken:function(ja,ca,Y,aa,ea){},isUserIdTokenRevoked:function(ja,ca,Y,aa){},createUserIdToken:function(ja,ca,Y,aa){},renewUserIdToken:function(ja,ca,Y,aa){}});(function(){function ja(ca,Y,aa,ea){this.sessiondata=ca;this.tokendata=Y;this.signature=aa;this.verified=ea;}ec=Cb.Class.create({init:function(ca,Y,aa,ea,ba,ma,ya,ua,na,ta,Da){var oa;oa=this;Na(Da,function(){var da,ia,ka,Ba,Sa;if(aa.getTime() < Y.getTime())throw new vb("Cannot construct a master token that expires before its renewal window opens.");if(0 > ea || ea > Kb)throw new vb("Sequence number " + ea + " is outside the valid range.");if(0 > ba || ba > Kb)throw new vb("Serial number " + ba + " is outside the valid range.");da=Math.floor(Y.getTime() / 1E3);ia=Math.floor(aa.getTime() / 1E3);if(ta)ka=ta.sessiondata;else {Ba={};ma && (Ba.issuerdata=ma);Ba.identity=ya;Ba.encryptionkey=Fb(ua.toByteArray());Ba.hmackey=Fb(na.toByteArray());ka=bc(JSON.stringify(Ba),Mb);}if(ta)return (Object.defineProperties(this,{ctx:{value:ca,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:da,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ia,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:ea,writable:!1,configurable:!1},serialNumber:{value:ba,writable:!1,configurable:!1},issuerData:{value:ma,writable:!1,configurable:!1},identity:{value:ya,writable:!1,configurable:!1},encryptionKey:{value:ua,writable:!1,configurable:!1},hmacKey:{value:na,writable:!1,configurable:!1},sessiondata:{value:ka,writable:!1,enumerable:!1,configurable:!1},verified:{value:ta.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:ta.tokendata,writable:!1,enumerable:!1,configurable:!1},signature:{value:ta.signature,writable:!1,enumerable:!1,configurable:!1}}),this);Sa=ca.getMslCryptoContext();Sa.encrypt(ka,{result:function(Ma){Na(Da,function(){var Ra,Ta;Ra={};Ra.renewalwindow=da;Ra.expiration=ia;Ra.sequencenumber=ea;Ra.serialnumber=ba;Ra.sessiondata=Fb(Ma);Ta=bc(JSON.stringify(Ra),Mb);Sa.sign(Ta,{result:function(ra){Na(Da,function(){Object.defineProperties(this,{ctx:{value:ca,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:da,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:ia,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:ea,writable:!1,enumerable:!1,configurable:!1},serialNumber:{value:ba,writable:!1,enumerable:!1,configurable:!1},issuerData:{value:ma,writable:!1,configurable:!1},identity:{value:ya,writable:!1,configurable:!1},encryptionKey:{value:ua,writable:!1,configurable:!1},hmacKey:{value:na,writable:!1,configurable:!1},sessiondata:{value:ka,writable:!1,enumerable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ta,writable:!1,enumerable:!1,configurable:!1},signature:{value:ra,writable:!1,enumerable:!1,configurable:!1}});return this;},oa);},error:function(ra){Da.error(ra);}});},oa);},error:function(Ma){Da.error(Ma);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isDecrypted:function(){return this.sessiondata?!0:!1;},isVerified:function(){return this.verified;},isRenewable:function(ca){return this.isVerified()?this.renewalWindow.getTime() <= this.ctx.getTime():!0;},isExpired:function(ca){return this.isVerified()?this.expiration.getTime() <= this.ctx.getTime():!1;},isNewerThan:function(ca){var Y;if(this.sequenceNumber == ca.sequenceNumber)return this.expiration > ca.expiration;if(this.sequenceNumber > ca.sequenceNumber){Y=this.sequenceNumber - Kb + 127;return ca.sequenceNumber >= Y;}Y=ca.sequenceNumber - Kb + 127;return this.sequenceNumber < Y;},toJSON:function(){var ca;ca={};ca.tokendata=Fb(this.tokendata);ca.signature=Fb(this.signature);return ca;},equals:function(ca){return this === ca?!0:ca instanceof ec?this.serialNumber == ca.serialNumber && this.sequenceNumber == ca.sequenceNumber && this.expiration.getTime() == ca.expiration.getTime():!1;},uniqueKey:function(){return this.serialNumber + ":" + this.sequenceNumber + this.expiration.getTime();}});Zc=function(ca,Y,aa){Na(aa,function(){var ea,ba,ma,ya,ua;ea=ca.getMslCryptoContext();ba=Y.tokendata;ma=Y.signature;if("string" !== typeof ba || "string" !== typeof ma)throw new Db(X.JSON_PARSE_ERROR,"mastertoken " + JSON.stringify(Y));try{ya=Gb(ba);}catch(na){throw new eb(X.MASTERTOKEN_TOKENDATA_INVALID,"mastertoken " + JSON.stringify(Y),na);}if(!ya || 0 == ya.length)throw new Db(X.MASTERTOKEN_TOKENDATA_MISSING,"mastertoken " + JSON.stringify(Y));try{ua=Gb(ma);}catch(na){throw new eb(X.MASTERTOKEN_SIGNATURE_INVALID,"mastertoken " + JSON.stringify(Y),na);}ea.verify(ya,ua,{result:function(na){Na(aa,function(){var ta,Da,oa,da,ia,ka,Ba,Sa,Ma,Ra;ta=ac(ya,Mb);try{Da=JSON.parse(ta);oa=parseInt(Da.renewalwindow);da=parseInt(Da.expiration);ia=parseInt(Da.sequencenumber);ka=parseInt(Da.serialnumber);Ba=Da.sessiondata;}catch(Ta){if(Ta instanceof SyntaxError)throw new Db(X.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + ta,Ta);throw Ta;}if(!oa || oa != oa || !da || da != da || "number" !== typeof ia || ia != ia || "number" !== typeof ka || ka != ka || "string" !== typeof Ba)throw new Db(X.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata " + ta);if(da < oa)throw new eb(X.MASTERTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + ta);if(0 > ia || ia > Kb)throw new eb(X.MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE,"mastertokendata " + ta);if(0 > ka || ka > Kb)throw new eb(X.MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"mastertokendata " + ta);Sa=new Date(1E3 * oa);Ma=new Date(1E3 * da);try{Ra=Gb(Ba);}catch(Ta){throw new eb(X.MASTERTOKEN_SESSIONDATA_INVALID,Ba,Ta);}if(!Ra || 0 == Ra.length)throw new eb(X.MASTERTOKEN_SESSIONDATA_MISSING,Ba);na?ea.decrypt(Ra,{result:function(Ta){Na(aa,function(){var ra,Ca,Ha,Ka,Fa,Ua;ra=ac(Ta,Mb);try{Ca=JSON.parse(ra);Ha=Ca.issuerdata;Ka=Ca.identity;Fa=Ca.encryptionkey;Ua=Ca.hmackey;}catch(Ja){if(Ja instanceof SyntaxError)throw new Db(X.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + ra,Ja);throw Ja;}if(Ha && "object" !== typeof Ha || !Ka || "string" !== typeof Fa || "string" !== typeof Ua)throw new Db(X.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata " + ra);oc(Fa,jc,xc,{result:function(Ja){oc(Ua,kc,Gc,{result:function(Wa){Na(aa,function(){var ab;ab=new ja(Ta,ya,ua,na);new ec(ca,Sa,Ma,ia,ka,Ha,Ka,Ja,Wa,ab,aa);});},error:function(Wa){aa.error(new ub(X.MASTERTOKEN_KEY_CREATION_ERROR,Wa));}});},error:function(Ja){aa.error(new ub(X.MASTERTOKEN_KEY_CREATION_ERROR,Ja));}});});},error:function(Ta){aa.error(Ta);}}):(oa=new ja(null,ya,ua,na),new ec(ca,Sa,Ma,ia,ka,null,null,null,null,oa,aa));});},error:function(na){aa.error(na);}});});};})();(function(){function ja(ca,Y,aa){this.tokendata=ca;this.signature=Y;this.verified=aa;}Nc=Cb.Class.create({init:function(ca,Y,aa,ea,ba,ma,ya,ua,na){var ta;ta=this;Na(na,function(){var Da,oa,da,ia,ka,Ba,Sa;if(aa.getTime() < Y.getTime())throw new vb("Cannot construct a user ID token that expires before its renewal window opens.");if(!ea)throw new vb("Cannot construct a user ID token without a master token.");if(0 > ba || ba > Kb)throw new vb("Serial number " + ba + " is outside the valid range.");Da=Math.floor(Y.getTime() / 1E3);oa=Math.floor(aa.getTime() / 1E3);da=ea.serialNumber;if(ua){ia=ua.tokendata;ka=ua.signature;Ba=ua.verified;da=ea.serialNumber;Object.defineProperties(this,{ctx:{value:ca,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:Da,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:oa,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:da,writable:!1,configurable:!1},serialNumber:{value:ba,writable:!1,configurable:!1},issuerData:{value:ma,writable:!1,configurable:!1},customer:{value:ya,writable:!1,configurable:!1},verified:{value:Ba,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:ia,writable:!1,enumerable:!1,configurable:!1},signature:{value:ka,writable:!1,enumerable:!1,configurable:!1}});return this;}ia={};ma && (ia.issuerdata=ma);ia.identity=ya;ia=bc(JSON.stringify(ia),Mb);Sa=ca.getMslCryptoContext();Sa.encrypt(ia,{result:function(Ma){Na(na,function(){var Ra,Ta;Ra={};Ra.renewalwindow=Da;Ra.expiration=oa;Ra.mtserialnumber=da;Ra.serialnumber=ba;Ra.userdata=Fb(Ma);Ta=bc(JSON.stringify(Ra),Mb);Sa.sign(Ta,{result:function(ra){Na(na,function(){Object.defineProperties(this,{ctx:{value:ca,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:Da,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:oa,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:ea.serialNumber,writable:!1,configurable:!1},serialNumber:{value:ba,writable:!1,configurable:!1},issuerData:{value:ma,writable:!1,configurable:!1},customer:{value:ya,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ta,writable:!1,enumerable:!1,configurable:!1},signature:{value:ra,writable:!1,enumerable:!1,configurable:!1}});return this;},ta);},error:function(ra){Na(na,function(){ra instanceof eb && ra.setEntity(ea);throw ra;},ta);}});},ta);},error:function(Ma){Na(na,function(){Ma instanceof eb && Ma.setEntity(ea);throw Ma;},ta);}});},this);},get renewalWindow() {return new Date(1E3 * this.renewalWindowSeconds);},get expiration() {return new Date(1E3 * this.expirationSeconds);},isVerified:function(){return this.verified;},isDecrypted:function(){return this.customer?!0:!1;},isRenewable:function(){return this.renewalWindow.getTime() <= this.ctx.getTime();},isExpired:function(){return this.expiration.getTime() <= this.ctx.getTime();},isBoundTo:function(ca){return ca && ca.serialNumber == this.mtSerialNumber;},toJSON:function(){var ca;ca={};ca.tokendata=Fb(this.tokendata);ca.signature=Fb(this.signature);return ca;},equals:function(ca){return this === ca?!0:ca instanceof Nc?this.serialNumber == ca.serialNumber && this.mtSerialNumber == ca.mtSerialNumber:!1;},uniqueKey:function(){return this.serialNumber + ":" + this.mtSerialNumber;}});qd=function(ca,Y,aa,ea){Na(ea,function(){var ba,ma,ya,ua,na;ba=ca.getMslCryptoContext();ma=Y.tokendata;ya=Y.signature;if("string" !== typeof ma || "string" !== typeof ya)throw new Db(X.JSON_PARSE_ERROR,"useridtoken " + JSON.stringify(Y)).setEntity(aa);try{ua=Gb(ma);}catch(ta){throw new eb(X.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(Y),ta).setEntity(aa);}if(!ua || 0 == ua.length)throw new Db(X.USERIDTOKEN_TOKENDATA_MISSING,"useridtoken " + JSON.stringify(Y)).setEntity(aa);try{na=Gb(ya);}catch(ta){throw new eb(X.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken " + JSON.stringify(Y),ta).setEntity(aa);}ba.verify(ua,na,{result:function(ta){Na(ea,function(){var Da,oa,da,ia,ka,Ba,Sa,Ma,Ra,Ta;Da=ac(ua,Mb);try{oa=JSON.parse(Da);da=parseInt(oa.renewalwindow);ia=parseInt(oa.expiration);ka=parseInt(oa.mtserialnumber);Ba=parseInt(oa.serialnumber);Sa=oa.userdata;}catch(ra){if(ra instanceof SyntaxError)throw new Db(X.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + Da,ra).setEntity(aa);throw ra;}if(!da || da != da || !ia || ia != ia || "number" !== typeof ka || ka != ka || "number" !== typeof Ba || Ba != Ba || "string" !== typeof Sa)throw new Db(X.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata " + Da).setEntity(aa);if(ia < da)throw new eb(X.USERIDTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata " + Da).setEntity(aa);if(0 > ka || ka > Kb)throw new eb(X.USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + Da).setEntity(aa);if(0 > Ba || Ba > Kb)throw new eb(X.USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata " + Da).setEntity(aa);Ma=new Date(1E3 * da);Ra=new Date(1E3 * ia);if(!aa || ka != aa.serialNumber)throw new eb(X.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ka + "; mt " + JSON.stringify(aa)).setEntity(aa);try{Ta=Gb(Sa);}catch(ra){throw new eb(X.USERIDTOKEN_USERDATA_INVALID,Sa,ra).setEntity(aa);}if(!Ta || 0 == Ta.length)throw new eb(X.USERIDTOKEN_USERDATA_MISSING,Sa).setEntity(aa);ta?ba.decrypt(Ta,{result:function(ra){Na(ea,function(){var Ca,Ha,Ka,Fa,Ua;Ca=ac(ra,Mb);try{Ha=JSON.parse(Ca);Ka=Ha.issuerdata;Fa=Ha.identity;}catch(Ja){if(Ja instanceof SyntaxError)throw new Db(X.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + Ca).setEntity(aa);throw Ja;}if(Ka && "object" !== typeof Ka || "object" !== typeof Fa)throw new Db(X.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata " + Ca).setEntity(aa);try{Ua=Ve(Fa);}catch(Ja){throw new eb(X.USERIDTOKEN_IDENTITY_INVALID,"userdata " + Ca,Ja).setEntity(aa);}Fa=new ja(ua,na,ta);new Nc(ca,Ma,Ra,aa,Ba,Ka,Ua,Fa,ea);});},error:function(ra){Na(ea,function(){ra instanceof eb && ra.setEntity(aa);throw ra;});}}):(da=new ja(ua,na,ta),new Nc(ca,Ma,Ra,aa,Ba,null,null,da,ea));});},error:function(ta){Na(ea,function(){ta instanceof eb && ta.setEntity(aa);throw ta;});}});});};})();(function(){function ja(Y,aa){var ea,ba,ma;ea=Y.tokendata;if("string" !== typeof ea)throw new Db(X.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(Y));try{ba=Gb(ea);}catch(ya){throw new eb(X.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(Y),ya);}if(!ba || 0 == ba.length)throw new Db(X.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(Y));try{ma=JSON.parse(ac(ba,Mb)).name;}catch(ya){if(ya instanceof SyntaxError)throw new Db(X.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(Y),ya);throw ya;}if(!ma)throw new Db(X.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(Y));return aa[ma]?aa[ma]:aa[""];}function ca(Y,aa,ea){this.tokendata=Y;this.signature=aa;this.verified=ea;}zc=Cb.Class.create({init:function(Y,aa,ea,ba,ma,ya,ua,na,ta,Da){var oa;oa=this;Na(Da,function(){var da,ia,ka,Ba,Sa;if(ba && ma && !ma.isBoundTo(ba))throw new vb("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");da=ba?ba.serialNumber:-1;ia=ma?ma.serialNumber:-1;if(ta)return (Sa=ta.tokendata,Object.defineProperties(this,{ctx:{value:Y,writable:!1,enumerable:!1,configurable:!1},name:{value:aa,writable:!1,configurable:!1},mtSerialNumber:{value:da,writable:!1,configurable:!1},uitSerialNumber:{value:ia,writable:!1,configurable:!1},data:{value:ea,writable:!1,configurable:!1},encrypted:{value:ya,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ua,writable:!1,configurable:!1},verified:{value:ta.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Sa,writable:!1,enumerable:!1,configurable:!1},signature:{value:ta.signature,writable:!1,enumerable:!1,configurable:!1}}),this);if(ua){ka=Rd(ua,ea);ka.length < ea.length || (ua=null,ka=ea);}else (ua=null,ka=ea);Ba={};Ba.name=aa;-1 != da && (Ba.mtserialnumber=da);-1 != ia && (Ba.uitserialnumber=ia);Ba.encrypted=ya;ua && (Ba.compressionalgo=ua);if(ya && 0 < ka.length)na.encrypt(ka,{result:function(Ma){Na(Da,function(){var Ra;Ba.servicedata=Fb(Ma);Ra=bc(JSON.stringify(Ba),Mb);na.sign(Ra,{result:function(Ta){Na(Da,function(){Object.defineProperties(this,{ctx:{value:Y,writable:!1,enumerable:!1,configurable:!1},name:{value:aa,writable:!1,configurable:!1},mtSerialNumber:{value:da,writable:!1,configurable:!1},uitSerialNumber:{value:ia,writable:!1,configurable:!1},data:{value:ea,writable:!1,configurable:!1},encrypted:{value:ya,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ua,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Ra,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ta,writable:!1,enumerable:!1,configurable:!1}});return this;},oa);},error:function(Ta){Na(Da,function(){Ta instanceof eb && (Ta.setEntity(ba),Ta.setUser(ma));throw Ta;});}});},oa);},error:function(Ma){Na(Da,function(){Ma instanceof eb && (Ma.setEntity(ba),Ma.setUser(ma));throw Ma;});}});else {Ba.servicedata=Fb(ka);Sa=bc(JSON.stringify(Ba),Mb);na.sign(Sa,{result:function(Ma){Na(Da,function(){Object.defineProperties(this,{ctx:{value:Y,writable:!1,enumerable:!1,configurable:!1},name:{value:aa,writable:!1,configurable:!1},mtSerialNumber:{value:da,writable:!1,configurable:!1},uitSerialNumber:{value:ia,writable:!1,configurable:!1},data:{value:ea,writable:!1,configurable:!1},encrypted:{value:ya,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:ua,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:Sa,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ma,writable:!1,enumerable:!1,configurable:!1}});return this;},oa);},error:function(Ma){Na(Da,function(){Ma instanceof eb && (Ma.setEntity(ba),Ma.setUser(ma));throw Ma;});}});}},this);},isEncrypted:function(){return this.encrypted;},isVerified:function(){return this.verified;},isDecrypted:function(){return this.data?!0:!1;},isDeleted:function(){return this.data && 0 == this.data.length;},isMasterTokenBound:function(){return -1 != this.mtSerialNumber;},isBoundTo:function(Y){return Y?Y instanceof ec?Y.serialNumber == this.mtSerialNumber:Y instanceof Nc?Y.serialNumber == this.uitSerialNumber:!1:!1;},isUserIdTokenBound:function(){return -1 != this.uitSerialNumber;},isUnbound:function(){return -1 == this.mtSerialNumber && -1 == this.uitSerialNumber;},toJSON:function(){var Y;Y={};Y.tokendata=Fb(this.tokendata);Y.signature=Fb(this.signature);return Y;},equals:function(Y){return this === Y?!0:Y instanceof zc?this.name == Y.name && this.mtSerialNumber == Y.mtSerialNumber && this.uitSerialNumber == Y.uitSerialNumber:!1;},uniqueKey:function(){return this.name + ":" + this.mtSerialNumber + ":" + this.uitSerialNumber;}});uc=function(Y,aa,ea,ba,ma,ya,ua,na,ta){new zc(Y,aa,ea,ba,ma,ya,ua,na,null,ta);};rd=function(Y,aa,ea,ba,ma,ya){Na(ya,function(){var ua,na,ta,Da,oa,da,ia,ka,Ba,Sa,Ma,Ra,Ta;!ma || ma instanceof Oc || (ma=ja(aa,ma));ua=aa.tokendata;na=aa.signature;if("string" !== typeof ua || "string" !== typeof na)throw new Db(X.JSON_PARSE_ERROR,"servicetoken " + JSON.stringify(aa)).setEntity(ea).setEntity(ba);try{ta=Gb(ua);}catch(ra){throw new eb(X.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken " + JSON.stringify(aa),ra).setEntity(ea).setEntity(ba);}if(!ta || 0 == ta.length)throw new Db(X.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken " + JSON.stringify(aa)).setEntity(ea).setEntity(ba);try{Da=Gb(na);}catch(ra){throw new eb(X.SERVICETOKEN_SIGNATURE_INVALID,"servicetoken " + JSON.stringify(aa),ra).setEntity(ea).setEntity(ba);}oa=ac(ta,Mb);try{da=JSON.parse(oa);ia=da.name;ka=da.mtserialnumber?parseInt(da.mtserialnumber):-1;Ba=da.uitserialnumber?parseInt(da.uitserialnumber):-1;Sa=da.encrypted;Ma=da.compressionalgo;Ra=da.servicedata;}catch(ra){if(ra instanceof SyntaxError)throw new Db(X.JSON_PARSE_ERROR,"servicetokendata " + oa,ra).setEntity(ea).setEntity(ba);throw ra;}if(!ia || "number" !== typeof ka || ka != ka || "number" !== typeof Ba || Ba != Ba || "boolean" !== typeof Sa || Ma && "string" !== typeof Ma || "string" !== typeof Ra)throw new Db(X.JSON_PARSE_ERROR,"servicetokendata " + oa).setEntity(ea).setEntity(ba);if(da.mtserialnumber && 0 > ka || ka > Kb)throw new eb(X.SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + oa).setEntity(ea).setEntity(ba);if(da.uitserialnumber && 0 > Ba || Ba > Kb)throw new eb(X.SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata " + oa).setEntity(ea).setEntity(ba);if(-1 != ka && (!ea || ka != ea.serialNumber))throw new eb(X.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st mtserialnumber " + ka + "; mt " + ea).setEntity(ea).setEntity(ba);if(-1 != Ba && (!ba || Ba != ba.serialNumber))throw new eb(X.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st uitserialnumber " + Ba + "; uit " + ba).setEntity(ea).setEntity(ba);Sa=!0 === Sa;if(Ma){if(!Ec[Ma])throw new eb(X.UNIDENTIFIED_COMPRESSION,Ma);Ta=Ma;}else Ta=null;ma?ma.verify(ta,Da,{result:function(ra){Na(ya,function(){var Ca,Ha;if(ra){try{Ca=Gb(Ra);}catch(Ka){throw new eb(X.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + oa,Ka).setEntity(ea).setEntity(ba);}if(!Ca || 0 != Ra.length && 0 == Ca.length)throw new eb(X.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata " + oa).setEntity(ea).setEntity(ba);if(Sa && 0 < Ca.length)ma.decrypt(Ca,{result:function(Ka){Na(ya,function(){var Fa,Ua;Fa=Ta?sd(Ta,Ka):Ka;Ua=new ca(ta,Da,ra);new zc(Y,ia,Fa,-1 != ka?ea:null,-1 != Ba?ba:null,Sa,Ta,ma,Ua,ya);});},error:function(Ka){Na(ya,function(){Ka instanceof eb && (Ka.setEntity(ea),Ka.setUser(ba));throw Ka;});}});else {Ca=Ta?sd(Ta,Ca):Ca;Ha=new ca(ta,Da,ra);new zc(Y,ia,Ca,-1 != ka?ea:null,-1 != Ba?ba:null,Sa,Ta,ma,Ha,ya);}}else (Ca="" == Ra?new Uint8Array(0):null,Ha=new ca(ta,Da,ra),new zc(Y,ia,Ca,-1 != ka?ea:null,-1 != Ba?ba:null,Sa,Ta,ma,Ha,ya));});},error:function(ra){Na(ya,function(){ra instanceof eb && (ra.setEntity(ea),ra.setUser(ba));throw ra;});}}):(ua="" == Ra?new Uint8Array(0):null,na=new ca(ta,Da,!1),new zc(Y,ia,ua,-1 != ka?ea:null,-1 != Ba?ba:null,Sa,Ta,ma,na,ya));});};})();Ac={EMAIL_PASSWORD:"EMAIL_PASSWORD",NETFLIXID:"NETFLIXID",SSO:"SSO",SWITCH_PROFILE:"SWITCH_PROFILE",MDX:"MDX"};Object.freeze(Ac);(function(){Uc=Cb.Class.create({init:function(ja){Object.defineProperties(this,{scheme:{value:ja,writable:!1,configurable:!1}});},getAuthData:function(){},equals:function(ja){return this === ja?!0:ja instanceof Uc?this.scheme == ja.scheme:!1;},toJSON:function(){var ja;ja={};ja.scheme=this.scheme;ja.authdata=this.getAuthData();return ja;}});Ke=function(ja,ca,Y,aa){Na(aa,function(){var ea,ba,ma;ea=Y.scheme;ba=Y.authdata;if(!ea || !ba)throw new Db(X.JSON_PARSE_ERROR,"userauthdata " + JSON.stringify(Y));if(!Ac[ea])throw new wc(X.UNIDENTIFIED_USERAUTH_SCHEME,ea);ma=ja.getUserAuthenticationFactory(ea);if(!ma)throw new wc(X.USERAUTH_FACTORY_NOT_FOUND,ea);ma.createData(ja,ca,ba,aa);});};})();We=Cb.Class.create({init:function(ja){Object.defineProperties(this,{scheme:{value:ja,writable:!1,configurable:!1}});},createData:function(ja,ca,Y,aa){},authenticate:function(ja,ca,Y,aa){}});(function(){bd=Uc.extend({init:function aa(ca,Y){aa.base.call(this,Ac.NETFLIXID);Object.defineProperties(this,{netflixId:{value:ca,writable:!1,configurable:!1},secureNetflixId:{value:Y,writable:!1,configurable:!1}});},getAuthData:function(){var ca;ca={};ca.netflixid=this.netflixId;this.secureNetflixId && (ca.securenetflixid=this.secureNetflixId);return ca;},equals:function aa(Y){return this === Y?!0:Y instanceof bd?aa.base.call(this,Y) && this.netflixId == Y.netflixId && this.secureNetflixId == Y.secureNetflixId:!1;}});Xe=function(Y){var aa,ea;aa=Y.netflixid;ea=Y.securenetflixid;if(!aa)throw new Db(X.JSON_PARSE_ERROR,"NetflixId authdata " + JSON.stringify(Y));return new bd(aa,ea);};})();xf=We.extend({init:function ca(){ca.base.call(this,Ac.NETFLIXID);},createData:function(ca,Y,aa,ea){Na(ea,function(){return Xe(aa);});},authenticate:function(ca,Y,aa,ea){if(!(aa instanceof bd))throw new vb("Incorrect authentication data type " + aa + ".");ca=aa.secureNetflixId;if(!aa.netflixId || !ca)throw new wc(X.NETFLIXID_COOKIES_BLANK).setUser(aa);throw new wc(X.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(aa);}});(function(){cd=Uc.extend({init:function ea(Y,aa){ea.base.call(this,Ac.EMAIL_PASSWORD);Object.defineProperties(this,{email:{value:Y,writable:!1,configurable:!1},password:{value:aa,writable:!1,configurable:!1}});},getAuthData:function(){var Y;Y={};Y.email=this.email;Y.password=this.password;return Y;},equals:function ea(aa){return this === aa?!0:aa instanceof cd?ea.base.call(this,this,aa) && this.email == aa.email && this.password == aa.password:!1;}});Ye=function(aa){var ea,ba;ea=aa.email;ba=aa.password;if(!ea || !ba)throw new Db(X.JSON_PARSE_ERROR,"email/password authdata " + JSON.stringify(aa));return new cd(ea,ba);};})();yf=We.extend({init:function Y(){Y.base.call(this,Ac.EMAIL_PASSWORD);},createData:function(Y,aa,ea,ba){Na(ba,function(){return Ye(ea);});},authenticate:function(Y,aa,ea,ba){if(!(ea instanceof cd))throw new vb("Incorrect authentication data type " + ea + ".");Y=ea.password;if(!ea.email || !Y)throw new wc(X.EMAILPASSWORD_BLANK).setUser(ea);throw new wc(X.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(ea);}});Object.freeze({ENTITY_REAUTH:Ia.ENTITY_REAUTH,ENTITYDATA_REAUTH:Ia.ENTITYDATA_REAUTH});zf=Cb.Class.create({getTime:function(){},getRandom:function(){},isPeerToPeer:function(){},getMessageCapabilities:function(){},getEntityAuthenticationData:function(Y,aa){},getMslCryptoContext:function(){},getEntityAuthenticationFactory:function(Y){},getUserAuthenticationFactory:function(Y){},getTokenFactory:function(){},getKeyExchangeFactory:function(Y){},getKeyExchangeFactories:function(){},getMslStore:function(){}});Ze=Cb.Class.create({setCryptoContext:function(Y,aa){},getMasterToken:function(){},getNonReplayableId:function(Y){},getCryptoContext:function(Y){},removeCryptoContext:function(Y){},clearCryptoContexts:function(){},addUserIdToken:function(Y,aa){},getUserIdToken:function(Y){},removeUserIdToken:function(Y){},clearUserIdTokens:function(){},addServiceTokens:function(Y){},getServiceTokens:function(Y,aa){},removeServiceTokens:function(Y,aa,ea){},clearServiceTokens:function(){}});(function(){var Y;Y=Ec;Rd=function(aa,ea){var ba;ba={};switch(aa){case Y.LZW:return ee(ea,ba);case Y.GZIP:return gzip$compress(ea);default:throw new eb(X.UNSUPPORTED_COMPRESSION,aa);}};sd=function(aa,ea,ba){switch(aa){case Y.LZW:return fe(ea);case Y.GZIP:return gzip$uncompress(ea);default:throw new eb(X.UNSUPPORTED_COMPRESSION,aa.name());}};})();Ze.extend({setCryptoContext:function(Y,aa){},getMasterToken:function(){return null;},getNonReplayableId:function(Y){return 1;},getCryptoContext:function(Y){return null;},removeCryptoContext:function(Y){},clearCryptoContexts:function(){},addUserIdToken:function(Y,aa){},getUserIdToken:function(Y){return null;},removeUserIdToken:function(Y){},clearUserIdTokens:function(){},addServiceTokens:function(Y){},getServiceTokens:function(Y,aa){if(aa){if(!Y)throw new eb(X.USERIDTOKEN_MASTERTOKEN_NULL);if(!aa.isBoundTo(Y))throw new eb(X.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + aa.mtSerialNumber + "; mt " + Y.serialNumber);}return [];},removeServiceTokens:function(Y,aa,ea){if(ea && aa && !ea.isBoundTo(aa))throw new eb(X.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ea.masterTokenSerialNumber + "; mt " + aa.serialNumber);},clearServiceTokens:function(){}});(function(){$e=Ze.extend({init:function aa(){aa.base.call(this);Object.defineProperties(this,{masterTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:{},writable:!1,enumerable:!1,configurable:!1},userIdTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},nonReplayableIds:{value:{},writable:!1,enumerable:!1,configurable:!1},unboundServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},mtServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},uitServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1}});},setCryptoContext:function(aa,ea){var ba;if(ea){ba=aa.uniqueKey();this.masterTokens[ba]=aa;this.cryptoContexts[ba]=ea;}else this.removeCryptoContext(aa);},getMasterToken:function(){var aa,ea,ba;aa=null;for(ea in this.masterTokens){ba=this.masterTokens[ea];if(!aa || ba.isNewerThan(aa))aa=ba;}return aa;},getNonReplayableId:function(aa){var ea;aa=aa.serialNumber;ea=this.nonReplayableIds[aa] !== Bb?this.nonReplayableIds[aa]:0;if(0 > ea || ea > Kb)throw new vb("Non-replayable ID " + ea + " is outside the valid range.");ea=ea == Kb?0:ea + 1;return this.nonReplayableIds[aa]=ea;},getCryptoContext:function(aa){return this.cryptoContexts[aa.uniqueKey()];},removeCryptoContext:function(aa){var ea,ba,ma,ya;ea=aa.uniqueKey();if(this.masterTokens[ea]){ba=aa.serialNumber;for(ma in this.masterTokens){ya=this.masterTokens[ma];if(!ya.equals(aa) && ya.serialNumber == ba){delete this.masterTokens[ea];delete this.cryptoContexts[ea];return;}}Object.keys(this.userIdTokens).forEach(function(ua){ua=this.userIdTokens[ua];ua.isBoundTo(aa) && this.removeUserIdToken(ua);},this);try{this.removeServiceTokens(null,aa,null);}catch(ua){if(ua instanceof eb)throw new vb("Unexpected exception while removing master token bound service tokens.",ua);throw ua;}delete this.nonReplayableIds[ba];delete this.masterTokens[ea];delete this.cryptoContexts[ea];}},clearCryptoContexts:function(){[this.masterTokens,this.cryptoContexts,this.nonReplayableIds,this.userIdTokens,this.uitServiceTokens,this.mtServiceTokens].forEach(function(aa){for(var ea in aa){delete aa[ea];}},this);},addUserIdToken:function(aa,ea){var ba,ma;ba=!1;for(ma in this.masterTokens){if(ea.isBoundTo(this.masterTokens[ma])){ba=!0;break;}}if(!ba)throw new eb(X.USERIDTOKEN_MASTERTOKEN_NOT_FOUND,"uit mtserialnumber " + ea.mtSerialNumber);this.userIdTokens[aa]=ea;},getUserIdToken:function(aa){return this.userIdTokens[aa];},removeUserIdToken:function(aa){var ea,ba,ma;ea=null;for(ba in this.masterTokens){ma=this.masterTokens[ba];if(aa.isBoundTo(ma)){ea=ma;break;}}Object.keys(this.userIdTokens).forEach(function(ya){if(this.userIdTokens[ya].equals(aa)){try{this.removeServiceTokens(null,ea,aa);}catch(ua){if(ua instanceof eb)throw new vb("Unexpected exception while removing user ID token bound service tokens.",ua);throw ua;}delete this.userIdTokens[ya];}},this);},clearUserIdTokens:function(){for(var aa in this.userIdTokens){this.removeUserIdToken(this.userIdTokens[aa]);}},addServiceTokens:function(aa){aa.forEach(function(ea){var ba,ma;if(ea.isMasterTokenBound()){ba=!1;for(ma in this.masterTokens){if(ea.isBoundTo(this.masterTokens[ma])){ba=!0;break;}}if(!ba)throw new eb(X.SERVICETOKEN_MASTERTOKEN_NOT_FOUND,"st mtserialnumber " + ea.mtSerialNumber);}if(ea.isUserIdTokenBound()){ba=!1;for(var ya in this.userIdTokens){if(ea.isBoundTo(this.userIdTokens[ya])){ba=!0;break;}}if(!ba)throw new eb(X.SERVICETOKEN_USERIDTOKEN_NOT_FOUND,"st uitserialnumber " + ea.uitSerialNumber);}},this);aa.forEach(function(ea){var ba;if(ea.isUnbound())this.unboundServiceTokens[ea.uniqueKey()]=ea;else {if(ea.isMasterTokenBound()){ba=this.mtServiceTokens[ea.mtSerialNumber];ba || (ba={});ba[ea.uniqueKey()]=ea;this.mtServiceTokens[ea.mtSerialNumber]=ba;}ea.isUserIdTokenBound() && ((ba=this.uitServiceTokens[ea.uitSerialNumber]) || (ba={}),ba[ea.uniqueKey()]=ea,this.uitServiceTokens[ea.uitSerialNumber]=ba);}},this);},getServiceTokens:function(aa,ea){var ba,ma,ya;if(ea){if(!aa)throw new eb(X.USERIDTOKEN_MASTERTOKEN_NULL);if(!ea.isBoundTo(aa))throw new eb(X.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ea.mtSerialNumber + "; mt " + aa.serialNumber);}ba={};for(ma in this.unboundServiceTokens){ya=this.unboundServiceTokens[ma];ba[ya.uniqueKey()]=ya;}if(aa && (ma=this.mtServiceTokens[aa.serialNumber]))for(var ua in ma){ya=ma[ua];ya.isUserIdTokenBound() || (ba[ua]=ya);}if(ea && (ea=this.uitServiceTokens[ea.serialNumber]))for(var na in ea){ua=ea[na];ua.isBoundTo(aa) && (ba[na]=ua);}aa=[];for(var ta in ba){aa.push(ba[ta]);}return aa;},removeServiceTokens:function(aa,ea,ba){var ma,ya,ua;if(ba && ea && !ba.isBoundTo(ea))throw new eb(X.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber " + ba.mtSerialNumber + "; mt " + ea.serialNumber);!aa || ea || ba || Object.keys(this.unboundServiceTokens).forEach(function(na){this.unboundServiceTokens[na].name == aa && delete this.unboundServiceTokens[na];},this);if(ea && !ba && (ma=this.mtServiceTokens[ea.serialNumber])){ua=Object.keys(ma);ua.forEach(function(na){var ta;ta=ma[na];aa && ta.name != aa || delete ma[na];},this);this.mtServiceTokens[ea.serialNumber]=ma;}ba && (ya=this.uitServiceTokens[ba.serialNumber]) && (ea=Object.keys(ya),ea.forEach(function(na){var ta;ta=ya[na];aa && ta.name != aa || delete ya[na];},this),this.uitServiceTokens[ba.serialNumber]=ya);},clearServiceTokens:function(){[this.unboundServiceTokens,this.mtServiceTokens,this.uitServiceTokens].forEach(function(aa){for(var ea in aa){delete aa[ea];}},this);}});})();uf.extend({init:function aa(){aa.base.call(this);Object.defineProperties(this,{_contextMap:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addCryptoContext:function(aa,ea){ea && aa && aa.length && (aa=Fb(aa),this._contextMap[aa]=ea);},getCryptoContext:function(aa){return aa && aa.length?(aa=Fb(aa),this._contextMap[aa] || null):null;},removeCryptoContext:function(aa){aa && aa.length && (aa=Fb(aa),delete this._contextMap[aa]);}});mf.extend({init:function ua(ea,ba,ma,ya){ua.base.call(this,ea);Object.defineProperties(this,{_kde:{value:ba,writable:!1,enumerable:!1,configurable:!1},_kdh:{value:ma,writable:!1,enumerable:!1,configurable:!1},_kdw:{value:ya,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(ea,ba){if(!(ba instanceof sc))throw new vb("Incorrect authentication data type " + JSON.stringify(ba) + ".");if(ba.identity != this.localIdentity)throw new mc(X.ENTITY_NOT_FOUND,"mgk " + ba.identity);return new md(ea,this.localIdentity,this._kde,this._kdh,this._kdw);}});nf.extend({init:function na(ba,ma,ya,ua){na.base.call(this,ba);Object.defineProperties(this,{_kpe:{value:ma,writable:!1,enumerable:!1,configurable:!1},_kph:{value:ya,writable:!1,enumerable:!1,configurable:!1},_kpw:{value:ua,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(ba,ma){if(!(ma instanceof tc))throw new vb("Incorrect authentication data type " + JSON.stringify(ma) + ".");if(ma.identity != this.localIdentity)throw new mc(X.ENTITY_NOT_FOUND,"psk " + ma.identity);return new md(ba,this.localIdentity,this._kpe,this._kph,this._kpw);}});Bf=$e.extend({init:function oa(ma,ya,ua,na,ta,Da){oa.base.call(this);this._log=ma;this._esn=ya;this._keyRequestData=ua;this._createKeyRequestData=na;this._systemKeyName=ta;this._systemKeyWrapFormat=Da;},setCryptoContext:function ta(ya,ua,na){var Da;Da=this;Da._log.trace("Adding MasterToken",{SequenceNumber:ya.sequenceNumber,SerialNumber:ya.serialNumber,Expiration:ya.expiration.getTime()});ta.base.call(this,ya,ua);!na && (ya=Da._createKeyRequestData) && (Da._log.trace("Generating new keyx request data"),ya().then(function(oa){Da._keyRequestData=oa;},function(oa){Da._log.error("Unable to generate new keyx request data","" + oa);}));},addUserIdToken:function ta(ua,na){this._log.trace("Adding UserIdToken",{UserId:ua,SerialNumber:na.serialNumber,MTSerialNumber:na.mtSerialNumber,Expiration:na.expiration.getTime()});ta.base.call(this,ua,na);},addServiceTokens:function ta(na){ta.base.call(this,na.filter(function(Da){return !Af[Da.name];}));},getUserIdTokenKeys:function(){var na,ta;na=[];for(ta in this.userIdTokens){na.push(ta);}return na;},rekeyUserIdToken:function(na,ta){this.userIdTokens[na] && (this.userIdTokens[ta]=this.userIdTokens[na],delete this.userIdTokens[na]);},getKeyRequestData:function(){return this._keyRequestData;},getStoreState:function(na){var ta;ta=this;Na(na,function(){var Da;Da=ta.getMasterToken();Da?ta.getKeysForStore(Da,{result:function(oa){Na(na,function(){var da,ia,ka;da=ta.userIdTokens;ia=Object.keys(da).map(function(Ba){var Sa;Sa=da[Ba];return {userId:Ba,userIdTokenJSON:da[Ba].toJSON(),serviceTokenJSONList:ta.getServiceTokens(Da,Sa).map(ff)};});oa.esn=ta._esn;oa.masterTokenJSON=Da.toJSON();oa.userList=ia;ka=ta._keyRequestData.storeData;ka && Object.keys(ka).forEach(function(Ba){oa[Ba]=ka[Ba];});return oa;});},timeout:na.timeout,error:na.error}):na.result(null);});},getKeysForStore:function(na,ta){var Da;Da=this;Na(ta,function(){var oa;oa=Da.getCryptoContext(na);oa={encryptionKey:oa.encryptionKey,hmacKey:oa.hmacKey};if(oa.encryptionKey && oa.hmacKey){if(Da._systemKeyWrapFormat)Da.wrapKeysWithSystemKey(oa,ta);else return oa;}else throw new eb(X.INTERNAL_EXCEPTION,"Unable to get CryptoContext keys");});},wrapKeysWithSystemKey:function(na,ta){var Da;Da=this;Zd(this._systemKeyName,{result:function(oa){Na(ta,function(){var da,ia,ka,Ba;da=na.encryptionKey;ia=na.hmacKey;ka=da[Rc];Ba=ia[Rc];if(ka && Ba)return {wrappedEncryptionKey:ka,wrappedHmacKey:Ba};Promise.resolve().then(function(){return Promise.all([Jb.wrapKey(Da._systemKeyWrapFormat,da,oa,oa.algorithm),Jb.wrapKey(Da._systemKeyWrapFormat,ia,oa,oa.algorithm)]);}).then(function(Sa){ka=Fb(Sa[0]);da[Rc]=ka;Ba=Fb(Sa[1]);ia[Rc]=Ba;ta.result({wrappedEncryptionKey:ka,wrappedHmacKey:Ba});}).catch(function(Sa){ta.error(new eb(X.INTERNAL_EXCEPTION,"Error wrapping key with SYSTEM key",Sa));});});},timeout:ta.timeout,error:ta.error});},unwrapKeysWithSystemKey:function(na,ta){var Da;Da=this;Zd(this._systemKeyName,{result:function(oa){Na(ta,function(){var da,ia;da=Gb(na.wrappedEncryptionKey);ia=Gb(na.wrappedHmacKey);Promise.resolve().then(function(){return Promise.all([Jb.unwrapKey(Da._systemKeyWrapFormat,da,oa,oa.algorithm,jc,!1,xc),Jb.unwrapKey(Da._systemKeyWrapFormat,ia,oa,oa.algorithm,kc,!1,Gc)]);}).then(function(ka){var Ba;Ba=ka[0];ka=ka[1];Ba[Rc]=na.wrappedEncryptionKey;ka[Rc]=na.wrappedHmacKey;ta.result({encryptionKey:Ba,hmacKey:ka});}).catch(function(ka){ta.error(new eb(X.INTERNAL_EXCEPTION,"Error unwrapping with SYSTEM key",ka));});});},timeout:ta.timeout,error:ta.error});},loadStoreState:function(na,ta,Da,oa){var ka,Ba;function da(Sa,Ma){var Ra;try{Ra=Da.userList.slice();}catch(Ta){}Ra?(function ra(){var Ca;Ca=Ra.shift();Ca?qd(ta,Ca.userIdTokenJSON,Sa,{result:function(Ha){try{ka.addUserIdToken(Ca.userId,Ha);ia(Sa,Ha,Ca.serviceTokenJSONList,{result:ra,timeout:ra,error:ra});}catch(Ka){ra();}},timeout:ra,error:ra}):Ma.result();})():Ma.result();}function ia(Sa,Ma,Ra,Ta){var ra,Ca;try{ra=Ra.slice();}catch(Ha){}if(ra){Ca=ka.getCryptoContext(Sa);(function Ka(){var Fa;Fa=ra.shift();Fa?rd(ta,Fa,Sa,Ma,Ca,{result:function(Ua){ka.addServiceTokens([Ua]);Ka();},timeout:function(){Ka();},error:function(){Ka();}}):Ta.result();})();}else Ta.result();}ka=this;Ba=ka._log;Da.esn != ka._esn?(Ba.error("Esn mismatch, starting fresh"),oa.error()):(function(Sa){var Ta,ra,Ca,Ha;function Ma(){var Ka;if(!Ta && ra && Ca && Ha){Ta=!0;Ka=new hc(ta,ra,na.esn,{rawKey:Ca},{rawKey:Ha});ka.setCryptoContext(ra,Ka,!0);Sa.result(ra);}}function Ra(Ka,Fa){Ba.error(Ka,Fa && "" + Fa);Ta || (Ta=!0,Sa.error());}Da.masterTokenJSON?(Zc(ta,Da.masterTokenJSON,{result:function(Ka){ra=Ka;Ma();},timeout:function(){Ra("Timeout parsing MasterToken");},error:function(Ka){Ra("Error parsing MasterToken",Ka);}}),ka._systemKeyWrapFormat?ka.unwrapKeysWithSystemKey(Da,{result:function(Ka){Ca=Ka.encryptionKey;Ha=Ka.hmacKey;Ma();},timeout:function(){Ra("Timeout unwrapping keys");},error:function(Ka){Ra("Error unwrapping keys",Ka);}}):Promise.resolve().then(function(){return Jb.encrypt({name:jc.name,iv:new Uint8Array(16)},Da.encryptionKey,new Uint8Array(1));}).then(function(Ka){Ca=Da.encryptionKey;}).catch(function(Ka){Ra("Error loading encryptionKey");}).then(function(){return Jb.sign(kc,Da.hmacKey,new Uint8Array(1));}).then(function(Ka){Ha=Da.hmacKey;Ma();}).catch(function(Ka){Ra("Error loading hmacKey");})):Ra("Persisted store is corrupt");})({result:function(Sa){da(Sa,oa);},timeout:oa.timeout,error:oa.error});}});Af={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};Rc="$netflix$msl$wrapsys";Cf=zf.extend({init:function(na,ta,Da,oa,da,ia){var ka,Ba;ka=new $c([Ec.LZW]);Ba=new pf();Ba.addPublicKey(ta,Da);oa[Qb.RSA]=new of(Ba);ta={};ta[Ac.EMAIL_PASSWORD]=new yf();ta[Ac.NETFLIXID]=new xf();na={_mslCryptoContext:{value:new lf(),writable:!0,enumerable:!1,configurable:!1},_capabilities:{value:ka,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:da,writable:!0,enumerable:!1,configurable:!1},_entityAuthFactories:{value:oa,writable:!1,enumerable:!1,configurable:!1},_userAuthFactories:{value:ta,writable:!1,enumerable:!1,configurable:!1},_keyExchangeFactories:{value:ia,writable:!1,enumerable:!1,configurable:!1},_store:{value:na,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,na);},getTime:function(){return Date.now();},getRandom:function(){return new je();},isPeerToPeer:function(){return !1;},getMessageCapabilities:function(){return this._capabilities;},getEntityAuthenticationData:function(na,ta){ta.result(this._entityAuthData);},getMslCryptoContext:function(){return this._mslCryptoContext;},getEntityAuthenticationFactory:function(na){return this._entityAuthFactories[na];},getUserAuthenticationFactory:function(na){return this._userAuthFactories[na];},getTokenFactory:function(){return null;},getKeyExchangeFactory:function(na){return this._keyExchangeFactories.filter(function(ta){return ta.scheme == na;})[0];},getKeyExchangeFactories:function(){return this._keyExchangeFactories;},getMslStore:function(){return this._store;}});ae=Te.extend({init:function(na,ta,Da,oa){this._log=na;this._mslContext=ta;this._mslRequest=Da;this._keyRequestData=oa;},getCryptoContexts:function(){return {};},isEncrypted:function(){return !!this._mslRequest.encrypted;},isNonReplayable:function(){return !!this._mslRequest.nonReplayable;},isRequestingTokens:function(){return !0;},getUserId:function(){return this._mslRequest.profileGuid || this._mslRequest.userId || null;},getUserAuthData:function(na,ta,Da,oa){var da;da=this._mslRequest;Na(oa,function(){return na || !da.shouldSendUserAuthData?null:da.email?new cd(da.email,da.password):da.useNetflixUserAuthData || Da && da.sendUserAuthIfRequired?new bd():null;});},getCustomer:function(){return null;},getKeyRequestData:function(na){na.result(this._mslRequest.allowTokenRefresh?[this._keyRequestData]:[]);},updateServiceTokens:function(na,ta,Da){var oa,da,ia,ka,Ba,Sa;oa=this._log;da=(this._mslRequest.serviceTokens || []).slice();ia=this._mslContext;ta=ia.getMslStore();ka=na.builder.getMasterToken();Ba=this.getUserId();Sa=ta.getUserIdToken(Ba);(function Ra(){var Ta;Ta=da.shift();if(Ta)try{Ta instanceof zc?(na.addPrimaryServiceToken(Ta),Ra()):rd(ia,Ta,ka,Sa,null,{result:function(ra){try{na.addPrimaryServiceToken(ra);}catch(Ca){oa.warn("Exception adding service token","" + Ca);}Ra();},timeout:function(){oa.warn("Timeout parsing service token");Ra();},error:function(ra){oa.warn("Error parsing service token","" + ra);Ra();}});}catch(ra){oa.warn("Exception processing service token","" + ra);Ra();}else Da.result(!0);})();},write:function(na,ta,Da){var oa;oa=bc(this._mslRequest.body);na.write(oa,0,oa.length,ta,{result:function(da){da != oa.length?Da.error(new Ub("Not all data was written to output.")):na.flush(ta,{result:function(){Da.result(!0);},timeout:function(){Da.timeout();},error:function(ia){Da.error(ia);}});},timeout:function(){Da.timeout();},error:function(da){Da.error(da);}});},getDebugContext:function(){this._dc || (this._dc=new Df(this._log,this._mslRequest));return this._dc;}});Df=wf.extend({init:function(na,ta){this._log=na;this._mslRequest=ta;},sentHeader:function(na){this._log.trace("Sent MSL header",$d(this._mslRequest,na),na.serviceTokens && na.serviceTokens.map(gf).join("\n"));},receivedHeader:function(na){var ta,Da;ta=$d(this._mslRequest,na);Da=na.errorCode;Da?this._log.warn("Received MSL error header",ta,{errorCode:Da,errorMessage:na.errorMessage,internalCode:na.internalCode}):this._log.trace("Received MSL header",ta);}});Ef={JWK_RSA:function(na){return jf(na,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},ye.JWK_RSA);}};mb.netflix=mb.netflix || ({});mb.netflix.msl={createMslClient:function(na,ta){var Da,oa,da,ia,ka;Da=na.log;ka=na.notifyMilestone || (function(){});Promise.resolve().then(function(){if(!(Pb && Pb.generateKey && Pb.importKey && Pb.unwrapKey))throw new eb(X.INTERNAL_EXCEPTION,"No WebCrypto");$b=Pb.generateKey({name:"AES-CBC",length:128},!0,xc).then?hd.V2014_02:hd.LEGACY;ka("mslisik");return Jb.importKey("spki",na.serverIdentityKeyData,ke,!1,["verify"]);}).then(function(Ba){return new Promise(function(Sa,Ma){Dc(Ba,{result:Sa,error:function(){Ma(new eb(X.KEY_IMPORT_ERROR,"Unable to create server identity verification key"));}});});}).then(function(Ba){oa=Ba;if(Ba=Ef.JWK_RSA)return (ka("mslcc"),Ba(na));throw new eb(X.INTERNAL_EXCEPTION,"Invalid authenticationType: JWK_RSA");}).then(function(Ba){var Sa;da=new Bf(Da,na.esn,Ba.keyRequestData,Ba.createKeyRequestData,na.authenticationKeyNames.s,na.systemKeyWrapFormat);ia=new Cf(da,na.serverIdentityId,oa,Ba.entityAuthFactories,Ba.entityAuthData,Ba.keyExchangeFactories);Sa=na.storeState;if(Sa)return (ka("mslss"),Da.info("Loading store state"),new Promise(function(Ma,Ra){da.loadStoreState(na,ia,Sa,{result:Ma,timeout:Ma,error:Ma});}));Da.info("No store state, starting fresh");}).then(function(){var Ba;Ba=new Ue();ka("msldone");ta.result(new hf(Da,Ba,ia,da,na.ErrorSubCodes));}).catch(function(Ba){ta.error(Ba);});},IHttpLocation:sf,MslIoException:Ub};(function(){var ab,Va,jb,lb,ob,pb,qb,Ab,yb;function na(r){var b;b=0;return function(){return b < r.length?{done:!1,value:r[b++]}:{done:!0};};}function ta(r,b){var a,l;if(b)a:{a=Va;r=r.split(".");for(var c=0;c < r.length - 1;c++){l=r[c];if(!((l in a)))break a;a=a[l];}r=r[r.length - 1];c=a[r];b=b(c);b != c && null != b && ab(a,r,{configurable:!0,writable:!0,value:b});}}function Da(r){r={next:r};r[Symbol.iterator]=function(){return this;};return r;}function oa(r){var b;b="undefined" != typeof Symbol && Symbol.iterator && r[Symbol.iterator];return b?b.call(r):{next:na(r)};}function da(r){for(var b,a=[];!(b=r.next()).done;){a.push(b.value);}return a;}function ia(r){return r instanceof Array?r:da(oa(r));}function ka(r,b){var c;r.prototype=jb(b.prototype);r.prototype.constructor=r;if(Ab)Ab(r,b);else for(var a in b){if("prototype" != a)if(Object.defineProperties){c=Object.getOwnPropertyDescriptor(b,a);c && Object.defineProperty(r,a,c);}else r[a]=b[a];}r.Exc=b.prototype;}function Ba(){this.CZ=!1;this.VG=null;this.yha=void 0;this.YF=1;this.W6a=this.WJb=0;this.fW=null;}function Sa(r){if(r.CZ)throw new TypeError("Generator is already running");r.CZ=!0;}function Ma(r,b){r.YF=2;return {value:b};}function Ra(r){this.ng=new Ba();this.kbc=r;}function Ta(r,b){var a;Sa(r.ng);a=r.ng.VG;if(a)return ra(r,("return" in a)?a["return"]:function(c){return {value:c,done:!0};},b,r.ng.return);r.ng.return(b);return Ca(r);}function ra(r,b,a,c){var l,g;try{l=b.call(r.ng.VG,a);if(!(l instanceof Object))throw new TypeError("Iterator result " + l + " is not an object");if(!l.done)return (r.ng.CZ=!1,l);g=l.value;}catch(m){return (r.ng.VG=null,r.ng.c2(m),Ca(r));}r.ng.VG=null;c.call(r.ng,g);return Ca(r);}function Ca(r){var b;for(;r.ng.YF;){try{b=r.kbc(r.ng);if(b)return (r.ng.CZ=!1,{value:b.value,done:!1});}catch(a){r.ng.yha=void 0;r.ng.c2(a);}}r.ng.CZ=!1;if(r.ng.fW){b=r.ng.fW;r.ng.fW=null;if(b.Q1b)throw b.tP;return {value:b.return,done:!0};}return {value:void 0,done:!0};}function Ha(r){this.next=function(b){return r.F_(b);};this.throw=function(b){return r.c2(b);};this.return=function(b){return Ta(r,b);};this[Symbol.iterator]=function(){return this;};}function Ka(r,b){b=new Ha(new Ra(b));Ab && r.prototype && Ab(b,r.prototype);return b;}function Fa(r,b){return Object.prototype.hasOwnProperty.call(r,b);}function Ua(r,b){var a,c,l;r instanceof String && (r+="");a=0;c=!1;l={next:function(){var g;if(!c && a < r.length){g=a++;return {value:b(g,r[g]),done:!1};}c=!0;return {done:!0,value:void 0};}};l[Symbol.iterator]=function(){return l;};return l;}function Ja(r,b,a){var g;r instanceof String && (r=String(r));for(var c=r.length,l=0;l < c;l++){g=r[l];if(b.call(a,g,l,r))return {Swa:l,hha:g};}return {Swa:-1,hha:void 0};}function Wa(r,b,a){if(null == r)throw new TypeError("The 'this' value for String.prototype." + a + " must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype." + a + " must not be a regular expression");return r + "";}ab="function" == typeof Object.defineProperties?Object.defineProperty:function(r,b,a){if(r == Array.prototype || r == Object.prototype)return r;r[b]=a.value;return r;};Va=(function(r){var a;r=["object" == typeof globalThis && globalThis,r,"object" == typeof mb && mb,"object" == typeof self && self,"object" == typeof global && global];for(var b=0;b < r.length;++b){a=r[b];if(a && a.Math == Math)return a;}throw Error("Cannot find global object");})(this);ta("Symbol",function(r){var c;function b(l){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new a("jscomp_symbol_" + (l || "") + "_" + c++,l);}function a(l,g){this.Hqb=l;ab(this,"description",{configurable:!0,writable:!0,value:g});}if(r)return r;a.prototype.toString=function(){return this.Hqb;};c=0;return b;});ta("Symbol.iterator",function(r){var c;if(r)return r;r=Symbol("Symbol.iterator");for(var b=("Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array").split(" "),a=0;a < b.length;a++){c=Va[b[a]];"function" === typeof c && "function" != typeof c.prototype[r] && ab(c.prototype,r,{configurable:!0,writable:!0,value:function(){return Da(na(this));}});}return r;});jb="function" == typeof Object.create?Object.create:function(r){function b(){}b.prototype=r;return new b();};lb=(function(){var b;function r(){function a(){}new a();Reflect.construct(a,[],function(){});return new a() instanceof a;}if("undefined" != typeof Reflect && Reflect.construct){if(r())return Reflect.construct;b=Reflect.construct;return function(a,c,l){a=b(a,c);l && Reflect.setPrototypeOf(a,l.prototype);return a;};}return function(a,c,l){void 0 === l && (l=a);l=jb(l.prototype || Object.prototype);return Function.prototype.apply.call(a,l,c) || l;};})();if("function" == typeof Object.setPrototypeOf)ob=Object.setPrototypeOf;else {a:{pb={a:!0};qb={};try{qb.__proto__=pb;ob=qb.a;break a;}catch(r){}ob=!1;}ob=ob?function(r,b){r.__proto__=b;if(r.__proto__ !== b)throw new TypeError(r + " is not extensible");return r;}:null;}Ab=ob;Ba.prototype.F_=function(r){this.yha=r;};Ba.prototype.c2=function(r){this.fW={tP:r,Q1b:!0};this.YF=this.WJb || this.W6a;};Ba.prototype.return=function(r){this.fW={return:r};this.YF=this.W6a;};Ra.prototype.F_=function(r){Sa(this.ng);if(this.ng.VG)return ra(this,this.ng.VG.next,r,this.ng.F_);this.ng.F_(r);return Ca(this);};Ra.prototype.c2=function(r){Sa(this.ng);if(this.ng.VG)return ra(this,this.ng.VG["throw"],r,this.ng.F_);this.ng.c2(r);return Ca(this);};ta("Reflect",function(r){return r?r:{};});ta("Reflect.construct",function(){return lb;});ta("Reflect.setPrototypeOf",function(r){return r?r:Ab?function(b,a){try{return (Ab(b,a),!0);}catch(c){return !1;}}:null;});ta("Object.setPrototypeOf",function(r){return r || Ab;});yb="function" == typeof Object.assign?Object.assign:function(r,b){var c;for(var a=1;a < arguments.length;a++){c=arguments[a];if(c)for(var l in c){Fa(c,l) && (r[l]=c[l]);}}return r;};ta("Object.assign",function(r){return r || yb;});ta("Promise",function(r){var l,g;function b(m){var d;this.oS=0;this.d1=void 0;this.dR=[];this.Ybb=!1;d=this.Tra();try{m(d.resolve,d.reject);}catch(f){d.reject(f);}}function a(){this.wE=null;}function c(m){return m instanceof b?m:new b(function(d){d(m);});}if(r)return r;a.prototype.G0a=function(m){var d;if(null == this.wE){this.wE=[];d=this;this.H0a(function(){d.eTb();});}this.wE.push(m);};l=Va.setTimeout;a.prototype.H0a=function(m){l(m,0);};a.prototype.eTb=function(){var m,f;for(;this.wE && this.wE.length;){m=this.wE;this.wE=[];for(var d=0;d < m.length;++d){f=m[d];m[d]=null;try{f();}catch(h){this.BHb(h);}}}this.wE=null;};a.prototype.BHb=function(m){this.H0a(function(){throw m;});};b.prototype.Tra=function(){var d,f;function m(h){return function(k){f || (f=!0,h.call(d,k));};}d=this;f=!1;return {resolve:m(this.Idc),reject:m(this.WCa)};};b.prototype.Idc=function(m){var d;if(m === this)this.WCa(new TypeError("A Promise cannot resolve to itself"));else if(m instanceof b)this.Wfc(m);else {a:switch(typeof m){case "object":d=null != m;break a;case "function":d=!0;break a;default:d=!1;}d?this.Hdc(m):this.S7a(m);}};b.prototype.Hdc=function(m){var d;d=void 0;try{d=m.then;}catch(f){this.WCa(f);return;}"function" == typeof d?this.Xfc(d,m):this.S7a(m);};b.prototype.WCa=function(m){this.Wlb(2,m);};b.prototype.S7a=function(m){this.Wlb(1,m);};b.prototype.Wlb=function(m,d){if(0 != this.oS)throw Error("Cannot settle(" + m + ", " + d + "): Promise already settled in state" + this.oS);this.oS=m;this.d1=d;2 === this.oS && this.uec();this.fTb();};b.prototype.uec=function(){var m;m=this;l(function(){var d;if(m.w7b()){d=Va.console;"undefined" !== typeof d && d.error(m.d1);}},1);};b.prototype.w7b=function(){var m,d,f;if(this.Ybb)return !1;m=Va.CustomEvent;d=Va.Event;f=Va.dispatchEvent;if("undefined" === typeof f)return !0;"function" === typeof m?m=new m("unhandledrejection",{cancelable:!0}):"function" === typeof d?m=new d("unhandledrejection",{cancelable:!0}):(m=Va.document.createEvent("CustomEvent"),m.initCustomEvent("unhandledrejection",!1,!0,m));m.promise=this;m.reason=this.d1;return f(m);};b.prototype.fTb=function(){if(null != this.dR){for(var m=0;m < this.dR.length;++m){g.G0a(this.dR[m]);}this.dR=null;}};g=new a();b.prototype.Wfc=function(m){var d;d=this.Tra();m.Y8(d.resolve,d.reject);};b.prototype.Xfc=function(m,d){var f;f=this.Tra();try{m.call(d,f.resolve,f.reject);}catch(h){f.reject(h);}};b.prototype.then=function(m,d){var h,k,n;function f(p,q){return "function" == typeof p?function(v){try{h(p(v));}catch(t){k(t);}}:q;}n=new b(function(p,q){h=p;k=q;});this.Y8(f(m,h),f(d,k));return n;};b.prototype.catch=function(m){return this.then(void 0,m);};b.prototype.Y8=function(m,d){var h;function f(){switch(h.oS){case 1:m(h.d1);break;case 2:d(h.d1);break;default:throw Error("Unexpected state: " + h.oS);}}h=this;null == this.dR?g.G0a(f):this.dR.push(f);this.Ybb=!0;};b.resolve=c;b.reject=function(m){return new b(function(d,f){f(m);});};b.race=function(m){return new b(function(d,f){for(var h=oa(m),k=h.next();!k.done;k=h.next()){c(k.value).Y8(d,f);}});};b.all=function(m){var d,f;d=oa(m);f=d.next();return f.done?c([]):new b(function(h,k){var p,q;function n(v){return function(t){p[v]=t;q--;0 == q && h(p);};}p=[];q=0;do {p.push(void 0);q++;c(f.value).Y8(n(p.length - 1),k);f=d.next();}while(!f.done);});};return b;});ta("Array.prototype.keys",function(r){return r?r:function(){return Ua(this,function(b){return b;});};});ta("Array.prototype.find",function(r){return r?r:function(b,a){return Ja(this,b,a).hha;};});ta("Object.is",function(r){return r?r:function(b,a){return b === a?0 !== b || 1 / b === 1 / a:b !== b && a !== a;};});ta("Array.prototype.includes",function(r){return r?r:function(b,a){var c,l,g;c=this;c instanceof String && (c=String(c));l=c.length;a=a || 0;for(0 > a && (a=Math.max(a + l,0));a < l;a++){g=c[a];if(g === b || Object.is(g,b))return !0;}return !1;};});ta("String.prototype.includes",function(r){return r?r:function(b,a){return -1 !== Wa(this,b,"includes").indexOf(b,a || 0);};});ta("Math.tanh",function(r){return r?r:function(b){var a;b=Number(b);if(0 === b)return b;a=Math.exp(-2 * Math.abs(b));a=(1 - a) / (1 + a);return 0 > b?-a:a;};});ta("Number.isNaN",function(r){return r?r:function(b){return "number" === typeof b && isNaN(b);};});ta("WeakMap",function(r){var m,d;function b(f){this.iZ=(d+=Math.random() + 1).toString();if(f){f=oa(f);for(var h;!(h=f.next()).done;){h=h.value;this.set(h[0],h[1]);}}}function a(){}function c(f){var h;h=typeof f;return "object" === h && null !== f || "function" === h;}function l(f){var h;if(!Fa(f,m)){h=new a();ab(f,m,{value:h});}}function g(f){var h;h=Object[f];h && (Object[f]=function(k){if(k instanceof a)return k;Object.isExtensible(k) && l(k);return h(k);});}if((function(){var f,h,k;if(!r || !Object.seal)return !1;try{f=Object.seal({});h=Object.seal({});k=new r([[f,2],[h,3]]);if(2 != k.get(f) || 3 != k.get(h))return !1;k.delete(f);k.set(h,4);return !k.has(f) && 4 == k.get(h);}catch(n){return !1;}})())return r;m="$jscomp_hidden_" + Math.random();g("freeze");g("preventExtensions");g("seal");d=0;b.prototype.set=function(f,h){if(!c(f))throw Error("Invalid WeakMap key");l(f);if(!Fa(f,m))throw Error("WeakMap key fail: " + f);f[m][this.iZ]=h;return this;};b.prototype.get=function(f){return c(f) && Fa(f,m)?f[m][this.iZ]:void 0;};b.prototype.has=function(f){return c(f) && Fa(f,m) && Fa(f[m],this.iZ);};b.prototype.delete=function(f){return c(f) && Fa(f,m) && Fa(f[m],this.iZ)?delete f[m][this.iZ]:!1;};return b;});ta("Map",function(r){var g,m;function b(){var d;d={};return d.ho=d.next=d.head=d;}function a(d,f){var h;h=d.LB;return Da(function(){if(h){for(;h.head != d.LB;){h=h.ho;}for(;h.next != h.head;){return (h=h.next,{done:!1,value:f(h)});}h=null;}return {done:!0,value:void 0};});}function c(d,f){var h,k,n;h=f && typeof f;"object" == h || "function" == h?g.has(f)?h=g.get(f):(h="" + ++m,g.set(f,h)):h="p_" + f;k=d.qB[h];if(k && Fa(d.qB,h))for(d=0;d < k.length;d++){n=k[d];if(f !== f && n.key !== n.key || f === n.key)return {id:h,list:k,index:d,entry:n};}return {id:h,list:k,index:-1,entry:void 0};}function l(d){this.qB={};this.LB=b();this.size=0;if(d){d=oa(d);for(var f;!(f=d.next()).done;){f=f.value;this.set(f[0],f[1]);}}}if((function(){var d,f,h,k;if(!r || "function" != typeof r || !r.prototype.entries || "function" != typeof Object.seal)return !1;try{d=Object.seal({x:4});f=new r(oa([[d,"s"]]));if("s" != f.get(d) || 1 != f.size || f.get({x:4}) || f.set({x:4},"t") != f || 2 != f.size)return !1;h=f.entries();k=h.next();if(k.done || k.value[0] != d || "s" != k.value[1])return !1;k=h.next();return k.done || 4 != k.value[0].x || "t" != k.value[1] || !h.next().done?!1:!0;}catch(n){return !1;}})())return r;g=new WeakMap();l.prototype.set=function(d,f){var h;d=0 === d?0:d;h=c(this,d);h.list || (h.list=this.qB[h.id]=[]);h.entry?h.entry.value=f:(h.entry={next:this.LB,ho:this.LB.ho,head:this.LB,key:d,value:f},h.list.push(h.entry),this.LB.ho.next=h.entry,this.LB.ho=h.entry,this.size++);return this;};l.prototype.delete=function(d){d=c(this,d);return d.entry && d.list?(d.list.splice(d.index,1),d.list.length || delete this.qB[d.id],d.entry.ho.next=d.entry.next,d.entry.next.ho=d.entry.ho,d.entry.head=null,this.size--,!0):!1;};l.prototype.clear=function(){this.qB={};this.LB=this.LB.ho=b();this.size=0;};l.prototype.has=function(d){return !!c(this,d).entry;};l.prototype.get=function(d){return (d=c(this,d).entry) && d.value;};l.prototype.entries=function(){return a(this,function(d){return [d.key,d.value];});};l.prototype.keys=function(){return a(this,function(d){return d.key;});};l.prototype.values=function(){return a(this,function(d){return d.value;});};l.prototype.forEach=function(d,f){for(var h=this.entries(),k;!(k=h.next()).done;){k=k.value;d.call(f,k[1],k[0],this);}};l.prototype[Symbol.iterator]=l.prototype.entries;m=0;return l;});ta("Set",function(r){function b(a){this.Cy=new Map();if(a){a=oa(a);for(var c;!(c=a.next()).done;){this.add(c.value);}}this.size=this.Cy.size;}if((function(){var a,c,l,g;if(!r || "function" != typeof r || !r.prototype.entries || "function" != typeof Object.seal)return !1;try{a=Object.seal({x:4});c=new r(oa([a]));if(!c.has(a) || 1 != c.size || c.add(a) != c || 1 != c.size || c.add({x:4}) != c || 2 != c.size)return !1;l=c.entries();g=l.next();if(g.done || g.value[0] != a || g.value[1] != a)return !1;g=l.next();return g.done || g.value[0] == a || 4 != g.value[0].x || g.value[1] != g.value[0]?!1:l.next().done;}catch(m){return !1;}})())return r;b.prototype.add=function(a){a=0 === a?0:a;this.Cy.set(a,a);this.size=this.Cy.size;return this;};b.prototype.delete=function(a){a=this.Cy.delete(a);this.size=this.Cy.size;return a;};b.prototype.clear=function(){this.Cy.clear();this.size=0;};b.prototype.has=function(a){return this.Cy.has(a);};b.prototype.entries=function(){return this.Cy.entries();};b.prototype.values=function(){return this.Cy.values();};b.prototype.keys=b.prototype.values;b.prototype[Symbol.iterator]=b.prototype.values;b.prototype.forEach=function(a,c){var l;l=this;this.Cy.forEach(function(g){return a.call(c,g,g,l);});};return b;});ta("Array.prototype.entries",function(r){return r?r:function(){return Ua(this,function(b,a){return [b,a];});};});ta("Object.entries",function(r){return r?r:function(b){var a,c;a=[];for(c in b){Fa(b,c) && a.push([c,b[c]]);}return a;};});ta("Object.getOwnPropertySymbols",function(r){return r?r:function(){return [];};});ta("Reflect.apply",function(r){var b;if(r)return r;b=Function.prototype.apply;return function(a,c,l){return b.call(a,c,l);};});ta("String.prototype.endsWith",function(r){return r?r:function(b,a){var c;c=Wa(this,b,"endsWith");b+="";void 0 === a && (a=c.length);a=Math.max(0,Math.min(a | 0,c.length));for(var l=b.length;0 < l && 0 < a;){if(c[--a] != b[--l])return !1;}return 0 >= l;};});ta("String.prototype.repeat",function(r){return r?r:function(b){var a;a=Wa(this,null,"repeat");if(0 > b || 1342177279 < b)throw new RangeError("Invalid count value");b|=0;for(var c="";b;){if((b & 1 && (c+=a),b>>>=1))a+=a;}return c;};});ta("Array.prototype.values",function(r){return r?r:function(){return Ua(this,function(b,a){return a;});};});ta("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;});ta("Array.prototype.findIndex",function(r){return r?r:function(b,a){return Ja(this,b,a).Swa;};});ta("String.fromCodePoint",function(r){return r?r:function(b){var l;for(var a="",c=0;c < arguments.length;c++){l=Number(arguments[c]);if(0 > l || 1114111 < l || l !== Math.floor(l))throw new RangeError("invalid_code_point " + l);65535 >= l?a+=String.fromCharCode(l):(l-=65536,a+=String.fromCharCode(l >>> 10 & 1023 | 55296),a+=String.fromCharCode(l & 1023 | 56320));}return a;};});ta("Array.from",function(r){return r?r:function(b,a,c){var l,g;a=null != a?a:function(d){return d;};l=[];g="undefined" != typeof Symbol && Symbol.iterator && b[Symbol.iterator];if("function" == typeof g){b=g.call(b);for(var m=0;!(g=b.next()).done;){l.push(a.call(c,g.value,m++));}}else for((g=b.length,m=0);m < g;m++){l.push(a.call(c,b[m],m));}return l;};});ta("Object.values",function(r){return r?r:function(b){var a,c;a=[];for(c in b){Fa(b,c) && a.push(b[c]);}return a;};});ta("String.prototype.startsWith",function(r){return r?r:function(b,a){var c,l,g;c=Wa(this,b,"startsWith");b+="";l=c.length;g=b.length;a=Math.max(0,Math.min(a | 0,c.length));for(var m=0;m < g && a < l;){if(c[a++] != b[m++])return !1;}return m >= g;};});ta("Promise.prototype.finally",function(r){return r?r:function(b){return this.then(function(a){return Promise.resolve(b()).then(function(){return a;});},function(a){return Promise.resolve(b()).then(function(){throw a;});});};});ta("Number.isFinite",function(r){return r?r:function(b){return "number" !== typeof b?!1:!isNaN(b) && Infinity !== b && -Infinity !== b;};});ta("Number.parseInt",function(r){return r || parseInt;});(function(r){var a;function b(c){var l;if(a[c])return a[c].exports;l=a[c]={Swa:c,a3b:!1,exports:{}};r[c].call(l.exports,l,l.exports,b);l.a3b=!0;return l.exports;}a={};b.rvc=r;b.c=a;b.d=function(c,l,g){b.G7b(c,l) || Object.defineProperty(c,l,{enumerable:!0,get:g});};b.r=function(c){"undefined" !== typeof Symbol && Symbol.toStringTag && Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});Object.defineProperty(c,"__esModule",{value:!0});};b.t=function(c,l){var g;l & 1 && (c=b(c));if(l & 8 || l & 4 && "object" === typeof c && c && c.__esModule)return c;g=Object.create(null);b.r(g);Object.defineProperty(g,"default",{enumerable:!0,value:c});if(l & 2 && "string" != typeof c)for(var m in c){b.d(g,m,(function(d){return c[d];}).bind(null,m));}return g;};b.n=function(c){var l;l=c && c.__esModule?function(){return c["default"];}:function(){return c;};b.d(l,"a",l);return l;};b.G7b=function(c,l){return Object.prototype.hasOwnProperty.call(c,l);};b.p="";return b(b.bec=605);})([function(r,b,a){var L,O;function c(){c=Object.assign || (function(K){for(var I,M=1,H=arguments.length;M < H;M++){I=arguments[M];for(var J in I){Object.prototype.hasOwnProperty.call(I,J) && (K[J]=I[J]);}}return K;});return c.apply(this,arguments);}function l(K,I){l=Object.setPrototypeOf || ({__proto__:[]}) instanceof Array && (function(M,H){M.__proto__=H;}) || (function(M,H){for(var J in H){Object.prototype.hasOwnProperty.call(H,J) && (M[J]=H[J]);}});return l(K,I);}function g(K,I){function M(){this.constructor=K;}if("function" !== typeof I && null !== I)throw new TypeError("Class extends value " + String(I) + " is not a constructor or null");l(K,I);K.prototype=null === I?Object.create(I):(M.prototype=I.prototype,new M());}function m(K,I){var M,H,J;M={};for(H in K){Object.prototype.hasOwnProperty.call(K,H) && 0 > I.indexOf(H) && (M[H]=K[H]);}if(null != K && "function" === typeof Object.getOwnPropertySymbols){J=0;for(H=Object.getOwnPropertySymbols(K);J < H.length;J++){0 > I.indexOf(H[J]) && Object.prototype.propertyIsEnumerable.call(K,H[J]) && (M[H[J]]=K[H[J]]);}}return M;}function d(K,I,M,H){var J,N,P;J=arguments.length;N=3 > J?I:null === H?H=Object.getOwnPropertyDescriptor(I,M):H;if("object" === typeof Reflect && "function" === typeof Reflect.ME)N=Reflect.ME(K,I,M,H);else for(var W=K.length - 1;0 <= W;W--){if(P=K[W])N=(3 > J?P(N):3 < J?P(I,M,N):P(I,M)) || N;}return (3 < J && N && Object.defineProperty(I,M,N),N);}function f(K,I){return function(M,H){I(M,H,K);};}function h(K,I){if("object" === typeof Reflect && "function" === typeof Reflect.gd)return Reflect.gd(K,I);}function k(K,I,M,H){function J(N){return N instanceof M?N:new M(function(P){P(N);});}return new (M || (M=Promise))(function(N,P){function W(U){try{S(H.next(U));}catch(fa){P(fa);}}function V(U){try{S(H["throw"](U));}catch(fa){P(fa);}}function S(U){U.done?N(U.value):J(U.value).then(W,V);}S((H=H.apply(K,I || [])).next());});}function n(K,I){var J,N,P,W,V;function M(S){return function(U){return H([S,U]);};}function H(S){if(N)throw new TypeError("Generator is already executing.");for(;(V && (V=0,S[0] && (J=0)),J);){try{if((N=1,P && (W=S[0] & 2?P["return"]:S[0]?P["throw"] || ((W=P["return"]) && W.call(P),0):P.next) && !(W=W.call(P,S[1])).done))return W;if((P=0,W))S=[S[0] & 2,W.value];switch(S[0]){case 0:case 1:W=S;break;case 4:return (J.label++,{value:S[1],done:!1});case 5:J.label++;P=S[1];S=[0];continue;case 7:S=J.NK.pop();J.Es.pop();continue;default:if(!(W=J.Es,W=0 < W.length && W[W.length - 1]) && (6 === S[0] || 2 === S[0])){J=0;continue;}if(3 === S[0] && (!W || S[1] > W[0] && S[1] < W[3]))J.label=S[1];else if(6 === S[0] && J.label < W[1])(J.label=W[1],W=S);else if(W && J.label < W[2])(J.label=W[2],J.NK.push(S));else {W[2] && J.NK.pop();J.Es.pop();continue;}}S=I.call(K,J);}catch(U){S=[6,U];P=0;}finally{N=W=0;}}if(S[0] & 5)throw S[1];return {value:S[0]?S[1]:void 0,done:!0};}J={label:0,zb:function(){if(W[0] & 1)throw W[1];return W[1];},Es:[],NK:[]};return (V={next:M(0),"throw":M(1),"return":M(2)},"function" === typeof Symbol && (V[Symbol.iterator]=function(){return this;}),V);}function p(K,I){for(var M in K){"default" === M || Object.prototype.hasOwnProperty.call(I,M) || L(I,K,M);}}function q(K){var I,M,H;I="function" === typeof Symbol && Symbol.iterator;M=I && K[I];H=0;if(M)return M.call(K);if(K && "number" === typeof K.length)return {next:function(){K && H >= K.length && (K=void 0);return {value:K && K[H++],done:!K};}};throw new TypeError(I?"Object is not iterable.":"Symbol.iterator is not defined.");}function v(K,I){var M,H,J;M="function" === typeof Symbol && K[Symbol.iterator];if(!M)return K;K=M.call(K);J=[];try{for(;(void 0 === I || 0 < I--) && !(H=K.next()).done;){J.push(H.value);}}catch(P){var N;N={error:P};}finally{try{H && !H.done && (M=K["return"]) && M.call(K);}finally{if(N)throw N.error;}}return J;}function t(){for(var K=[],I=0;I < arguments.length;I++){K=K.concat(v(arguments[I]));}return K;}function w(){var H;for(var K=0,I=0,M=arguments.length;I < M;I++){K+=arguments[I].length;}K=Array(K);H=0;for(I=0;I < M;I++){for(var J=arguments[I],N=0,P=J.length;N < P;(N++,H++)){K[H]=J[N];}}return K;}function u(K,I,M){if(M || 2 === arguments.length)for(var H=0,J=I.length,N;H < J;H++){!N && (H in I) || (N || (N=Array.prototype.slice.call(I,0,H)),N[H]=I[H]);}return K.concat(N || Array.prototype.slice.call(I));}function x(K){return this instanceof x?(this.hha=K,this):new x(K);}function y(K,I,M){var V,S,U;function H(fa){V[fa] && (S[fa]=function(qa){return new Promise(function(za,Aa){1 < U.push([fa,qa,za,Aa]) || J(fa,qa);});});}function J(fa,qa){var za;try{za=V[fa](qa);za.value instanceof x?Promise.resolve(za.value.hha).then(N,P):W(U[0][2],za);}catch(Aa){W(U[0][3],Aa);}}function N(fa){J("next",fa);}function P(fa){J("throw",fa);}function W(fa,qa){(fa(qa),U.shift(),U.length) && J(U[0][0],U[0][1]);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");V=M.apply(K,I || []);U=[];return (S={},H("next"),H("throw"),H("return"),S[Symbol.asyncIterator]=function(){return this;},S);}function z(K){var M,H;function I(J,N){M[J]=K[J]?function(P){return (H=!H)?{value:x(K[J](P)),done:"return" === J}:N?N(P):P;}:N;}return (M={},I("next"),I("throw",function(J){throw J;}),I("return"),M[Symbol.iterator]=function(){return this;},M);}function B(K){var H,J;function I(N){J[N]=K[N] && (function(P){return new Promise(function(W,V){P=K[N](P);M(W,V,P.done,P.value);});});}function M(N,P,W,V){Promise.resolve(V).then(function(S){N({value:S,done:W});},P);}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");H=K[Symbol.asyncIterator];return H?H.call(K):(K="function" === typeof q?q(K):K[Symbol.iterator](),J={},I("next"),I("throw"),I("return"),J[Symbol.asyncIterator]=function(){return this;},J);}function A(K,I){Object.defineProperty?Object.defineProperty(K,"raw",{value:I}):K.raw=I;return K;}function C(K){var I;if(K && K.__esModule)return K;I={};if(null != K)for(var M in K){"default" !== M && Object.prototype.hasOwnProperty.call(K,M) && L(I,K,M);}O(I,K);return I;}function D(K){return K && K.__esModule?K:{default:K};}function E(K,I,M,H){if("a" === M && !H)throw new TypeError("Private accessor was defined without a getter");if("function" === typeof I?K !== I || !H:!I.has(K))throw new TypeError("Cannot read private member from an object whose class did not declare it");return "m" === M?H:"a" === M?H.call(K):H?H.value:I.get(K);}function G(K,I,M,H,J){if("m" === H)throw new TypeError("Private method is not writable");if("a" === H && !J)throw new TypeError("Private accessor was defined without a setter");if("function" === typeof I?K !== I || !J:!I.has(K))throw new TypeError("Cannot write private member to an object whose class did not declare it");return ("a" === H?J.call(K,M):J?J.value=M:I.set(K,M),M);}function F(K,I){if(null === I || "object" !== typeof I && "function" !== typeof I)throw new TypeError("Cannot use 'in' operator on non-object");return "function" === typeof K?I === K:K.has(I);}a.r(b);a.d(b,"__extends",function(){return g;});a.d(b,"__assign",function(){return c;});a.d(b,"__rest",function(){return m;});a.d(b,"__decorate",function(){return d;});a.d(b,"__param",function(){return f;});a.d(b,"__metadata",function(){return h;});a.d(b,"__awaiter",function(){return k;});a.d(b,"__generator",function(){return n;});a.d(b,"__createBinding",function(){return L;});a.d(b,"__exportStar",function(){return p;});a.d(b,"__values",function(){return q;});a.d(b,"__read",function(){return v;});a.d(b,"__spread",function(){return t;});a.d(b,"__spreadArrays",function(){return w;});a.d(b,"__spreadArray",function(){return u;});a.d(b,"__await",function(){return x;});a.d(b,"__asyncGenerator",function(){return y;});a.d(b,"__asyncDelegator",function(){return z;});a.d(b,"__asyncValues",function(){return B;});a.d(b,"__makeTemplateObject",function(){return A;});a.d(b,"__importStar",function(){return C;});a.d(b,"__importDefault",function(){return D;});a.d(b,"__classPrivateFieldGet",function(){return E;});a.d(b,"__classPrivateFieldSet",function(){return G;});a.d(b,"__classPrivateFieldIn",function(){return F;});L=Object.create?function(K,I,M,H){var J;void 0 === H && (H=M);J=Object.getOwnPropertyDescriptor(I,M);if(!J || (("get" in J)?!I.__esModule:J.writable || J.configurable))J={enumerable:!0,get:function(){return I[M];}};Object.defineProperty(K,H,J);}:function(K,I,M,H){void 0 === H && (H=M);K[H]=I[M];};O=Object.create?function(K,I){Object.defineProperty(K,"default",{enumerable:!0,value:I});}:function(K,I){K["default"]=I;};},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(41);b.ppc=r;r=a(654);b.n3=r.n3;r=a(79);b.Qu=r.Qu;b.Fk=r.Fk;b.dA=r.dA;r=a(670);b.vIa=r.vIa;b.Ed=r.Ed;r=a(671);b.$=r.$;r=a(672);b.unb=r.unb;r=a(673);b.yfb=r.yfb;r=a(328);b.l=r.l;b.Oja=r.Oja;r=a(674);b.optional=r.optional;r=a(675);b.Hp=r.Hp;r=a(676);b.EK=r.EK;r=a(677);b.Y1=r.Y1;r=a(678);b.aib=r.aib;r=a(326);b.nka=r.nka;r=a(109);b.id=r.id;r=a(97);b.ME=r.ME;r=a(331);b.tob=r.tob;b.vnb=r.vnb;b.zfb=r.zfb;b.Bob=r.Bob;r=a(143);b.PP=r.PP;a=a(679);b.ufb=a.ufb;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.assert=void 0;c=a(0);l=(function(g){function m(){return null !== g && g.apply(this,arguments) || this;}c.__extends(m,g);return m;})(Error);b.assert=function(g,m){var d;if(!g){d=new l(m || "Assertion failed");a(117).jn.H.error("Assertion failed",{value:g,message:m,stack:d.stack});throw d;}};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.default={lZ:function(a){for(var c in a){a.hasOwnProperty(c) && (this[c]=a[c]);}},reset:function(){}};},function(r,b){var a,c;Object.defineProperty(b,"__esModule",{value:!0});b.Mz=b.LLa=b.KLa=b.dja=b.JLa=b.K3=b.S4=b.J4=b.ILa=b.Y=b.aa=void 0;(function(l){l[l.Fo=7001]="UNKNOWN";l[l.fWa=7002]="UNHANDLED_EXCEPTION";l[l.hvb=7003]="INIT_COMPONENT_LOG_TO_REMOTE";l[l.Gub=7004]="HLS_NOT_SUPPORTED";l[l.yja=7010]="INIT_ASYNCCOMPONENT";l[l.lvb=7011]="INIT_HTTP";l[l.fvb=7014]="INIT_BADMOVIEID";l[l.CNa=7020]="INIT_PLAYBACK_LOCK";l[l.DNa=7022]="INIT_SESSION_LOCK";l[l.mvb=7029]="INIT_POSTAUTHORIZE";l[l.BNa=7031]="INIT_HEADER_MEDIA";l[l.nvb=7034]="INIT_TIMEDTEXT_TRACK";l[l.Qqb=7037]="ASE_SESSION_ERROR";l[l.Pqb=7038]="ASE_SEEK_THREW";l[l.Rqb=7039]="ASE_SKIPPED_THREW";l[l.ivb=7041]="INIT_CORE_OBJECTS1";l[l.jvb=7042]="INIT_CORE_OBJECTS2";l[l.kvb=7043]="INIT_CORE_OBJECTS3";l[l.vNa=7053]="INIT_COMPONENT_STORAGE";l[l.wNa=7054]="INIT_COMPONENT_STORAGELOCK";l[l.sNa=7058]="INIT_COMPONENT_MAINTHREADMONITOR";l[l.zja=7059]="INIT_COMPONENT_DEVICE";l[l.tNa=7063]="INIT_COMPONENT_MSL";l[l.rNa=7066]="INIT_COMPONENT_LOGBLOBBATCHER";l[l.sD=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";l[l.ANa=7083]="INIT_COMPONENT_WEBCRYPTO";l[l.qNa=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";l[l.oNa=7088]="INIT_COMPONENT_BATTERY_MANAGER";l[l.nNa=7089]="INIT_COMPONENT_ASE";l[l.vM=7091]="INIT_COMPONENT_DRM_CACHE";l[l.gvb=7092]="INIT_COMPONENT_DRM";l[l.pNa=7094]="INIT_COMPONENT_FTL";l[l.uNa=7095]="INIT_COMPONENT_PREPARE_MODEL";l[l.xNa=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";l[l.yNa=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";l[l.zNa=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";l[l.AM=7111]="MANIFEST";l[l.Pvb=7114]="MANIFEST_MISTMATCH";l[l.ePa=7117]="MANIFEST_VERIFY";l[l.xyb=7120]="START";l[l.xM=7121]="LICENSE";l[l.ula=7122]="RELEASE";l[l.yyb=7123]="STOP";l[l.Ija=7125]="KEEPALIVE";l[l.nxb=7131]="PING";l[l.kub=7134]="ENGAGE";l[l.Kvb=7137]="LOGBLOB";l[l.qqc=7138]="PAUSE";l[l.Hqc=7139]="RESUME";l[l.qUa=7140]="SPLICE";l[l.urb=7142]="BIND";l[l.vrb=7144]="BIND_DEVICE";l[l.Aub=7145]="GENERATE_SCREENSHOTS";l[l.hHa=7146]="AD_EVENT";l[l.rxb=7202]="PLAY_INIT_EXCEPTION";l[l.Fka=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";l[l.xxb=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";l[l.iRa=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";l[l.yxb=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";l[l.Gka=7336]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_RESTRICTED";l[l.wxb=7338]="PLAY_MSE_EME_KEY_MAPPING_EXCEPTION";l[l.mRa=7351]="PLAY_MSE_NOTSUPPORTED";l[l.hRa=7353]="PLAY_MSE_DECODER_TIMEOUT";l[l.Hka=7355]="PLAY_MSE_SOURCEADD";l[l.gRa=7356]="PLAY_MSE_CREATE_MEDIAKEYS";l[l.sU=7357]="PLAY_MSE_GENERATEKEYREQUEST";l[l.lRa=7361]="PLAY_MSE_EVENT_ERROR";l[l.IM=7362]="PLAY_MSE_SETMEDIAKEYS";l[l.Os=7363]="PLAY_MSE_EVENT_KEYERROR";l[l.Axb=7364]="PLAY_MSE_EME_SESSION_CLOSE";l[l.Bxb=7365]="PLAY_MSE_GETCURRENTTIME";l[l.Cxb=7367]="PLAY_MSE_SETCURRENTTIME";l[l.Dxb=7371]="PLAY_MSE_SOURCEAPPEND";l[l.Hxb=7375]="PLAY_MSE_UNEXPECTED_SEEKING";l[l.Gxb=7376]="PLAY_MSE_UNEXPECTED_SEEKED";l[l.Fxb=7377]="PLAY_MSE_UNEXPECTED_REWIND";l[l.Exb=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";l[l.nRa=7382]="PLAY_MSE_SOURCEBUFFER_CHANGETYPE";l[l.sxb=7391]="PLAY_MSE_CREATE_MEDIASOURCE";l[l.txb=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";l[l.uxb=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";l[l.jRa=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";l[l.zxb=7395]="PLAY_MSE_EME_MISSING_PSSH";l[l.kRa=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";l[l.vxb=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";l[l.f5=7399]="PLAY_MSE_SET_LICENSE_ERROR";l[l.uLa=7400]="EXTERNAL";l[l.e5=7500]="PAUSE_TIMEOUT";l[l.L4=7502]="INACTIVITY_TIMEOUT";l[l.$qb=7510]="AUTHORIZATION_EXPIRED";l[l.cub=7700]="EME_INVALID_KEYSYSTEM";l[l.gLa=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";l[l.FT=7702]="EME_CREATE_MEDIAKEYS_FAILED";l[l.I3=7703]="EME_GENERATEREQUEST_FAILED";l[l.nLa=7704]="EME_UPDATE_FAILED";l[l.lLa=7705]="EME_KEYSESSION_ERROR";l[l.kLa=7706]="EME_KEYMESSAGE_EMPTY";l[l.gub=7707]="EME_REMOVE_FAILED";l[l.eub=7708]="EME_LOAD_FAILED";l[l.Ztb=7709]="EME_CREATE_SESSION_FAILED";l[l.Zia=7710]="EME_LDL_RENEWAL_ERROR";l[l.iLa=7711]="EME_INVALID_INITDATA_DATA";l[l.jLa=7712]="EME_INVALID_LICENSE_DATA";l[l.dub=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";l[l.fLa=7716]="EME_CLOSE_FAILED";l[l.$ia=7717]="EME_SESSION_CLOSED_UNEXPECTEDLY";l[l.iub=7718]="EME_SET_SERVER_CERTIFICATE";l[l.oxb=7800]="PLAYDATA_STORE_FAILURE";l[l.lT=7900]="BRANCH_PLAY_FAILURE";l[l.mT=7901]="BRANCH_QUEUE_FAILURE";l[l.FIa=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";l[l.Crb=7903]="BRANCH_CHOICE_MAP_MISSING";l[l.Zwb=8100]="PBO_EVENTLOOKUP_FAILURE";})(a=b.aa || (b.aa={}));(function(l){l[l.Fo=1001]="UNKNOWN";l[l.ln=1003]="EXCEPTION";l[l.qvb=1004]="INVALID_DI";l[l.Uqb=1011]="ASYNCLOAD_EXCEPTION";l[l.Vqb=1013]="ASYNCLOAD_TIMEOUT";l[l.Rmc=1015]="ASYNCLOAD_BADCONFIG";l[l.Sqb=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";l[l.Tqb=1017]="ASYNCLOAD_COMPONENT_MISSING";l[l.RT=1101]="HTTP_UNKNOWN";l[l.vja=1102]="HTTP_XHR";l[l.OT=1103]="HTTP_PROTOCOL";l[l.NT=1104]="HTTP_OFFLINE";l[l.QT=1105]="HTTP_TIMEOUT";l[l.iH=1106]="HTTP_READTIMEOUT";l[l.rD=1107]="HTTP_ABORT";l[l.OMa=1108]="HTTP_PARSE";l[l.KMa=1110]="HTTP_BAD_URL";l[l.PT=1111]="HTTP_PROXY";l[l.fka=1203]="MSE_AUDIO";l[l.gka=1204]="MSE_VIDEO";l[l.awb=1250]="MSE_MEDIA_ERR_BASE";l[l.rpc=1251]="MSE_MEDIA_ERR_ABORTED";l[l.upc=1252]="MSE_MEDIA_ERR_NETWORK";l[l.spc=1253]="MSE_MEDIA_ERR_DECODE";l[l.vpc=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";l[l.tpc=1255]="MSE_MEDIA_ERR_ENCRYPTED";l[l.Su=1260]="EME_MEDIA_KEYERR_BASE";l[l.noc=1261]="EME_MEDIA_KEYERR_UNKNOWN";l[l.ioc=1262]="EME_MEDIA_KEYERR_CLIENT";l[l.moc=1263]="EME_MEDIA_KEYERR_SERVICE";l[l.loc=1264]="EME_MEDIA_KEYERR_OUTPUT";l[l.koc=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";l[l.joc=1266]="EME_MEDIA_KEYERR_DOMAIN";l[l.ooc=1269]="EME_MEDIA_UNAVAILABLE_CDM";l[l.bub=1270]="EME_INTERNAL_ERROR";l[l.Ytb=1271]="EME_CLOSED_BY_APPLICATION";l[l.fub=1272]="EME_RELEASE_ACKNOWLEDGED";l[l.Yia=1273]="EME_HARDWARE_CONTEXT_RESET";l[l.hub=1274]="EME_RESOURCE_EVICTED";l[l.aub=1280]="EME_ERROR_NODRMSESSSION";l[l.$tb=1281]="EME_ERROR_NODRMREQUESTS";l[l.foc=1282]="EME_ERROR_INDIV_FAILED";l[l.goc=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";l[l.jub=1284]="EME_TIMEOUT_MESSAGE";l[l.poc=1285]="EME_TIMEOUT_KEYCHANGE";l[l.mLa=1286]="EME_UNDEFINED_DATA";l[l.qM=1287]="EME_INVALID_STATE";l[l.hoc=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";l[l.hLa=1289]="EME_EMPTY_DATA";l[l.GT=1290]="EME_TIMEOUT";l[l.Jpc=1303]="NCCP_METHOD_NOT_SUPPORTED";l[l.Mpc=1305]="NCCP_PARSEXML";l[l.Kxb=1309]="PROCESS_EXCEPTION";l[l.Lpc=1311]="NCCP_NETFLIXID_MISSING";l[l.Npc=1312]="NCCP_SECURENETFLIXID_MISSING";l[l.Gpc=1313]="NCCP_HMAC_MISSING";l[l.Fpc=1315]="NCCP_HMAC_MISMATCH";l[l.Epc=1317]="NCCP_HMAC_FAILED";l[l.Dpc=1321]="NCCP_CLIENTTIME_MISSING";l[l.Cpc=1323]="NCCP_CLIENTTIME_MISMATCH";l[l.fMa=1331]="GENERIC";l[l.swb=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";l[l.twb=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";l[l.Opc=1341]="NCCP_TRANSACTION";l[l.Hpc=1343]="NCCP_INVALID_DRMTYPE";l[l.Ipc=1344]="NCCP_INVALID_LICENCE_RESPONSE";l[l.Kpc=1345]="NCCP_MISSING_PAYLOAD";l[l.vqc=1346]="PROTOCOL_NOT_INITIALIZED";l[l.uqc=1347]="PROTOCOL_MISSING_FIELD";l[l.tqc=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";l[l.cA=1402]="STORAGE_NODATA";l[l.Rqc=1403]="STORAGE_EXCEPTION";l[l.Zqc=1405]="STORAGE_QUOTA_NOT_GRANTED";l[l.$qc=1407]="STORAGE_QUOTA_TO_SMALL";l[l.tUa=1411]="STORAGE_LOAD_ERROR";l[l.Ayb=1412]="STORAGE_LOAD_TIMEOUT";l[l.uUa=1414]="STORAGE_SAVE_ERROR";l[l.Dyb=1415]="STORAGE_SAVE_TIMEOUT";l[l.Dla=1417]="STORAGE_DELETE_ERROR";l[l.sUa=1418]="STORAGE_DELETE_TIMEOUT";l[l.Yqc=1421]="STORAGE_FS_REQUESTFILESYSTEM";l[l.Vqc=1423]="STORAGE_FS_GETDIRECTORY";l[l.Xqc=1425]="STORAGE_FS_READENTRIES";l[l.Sqc=1427]="STORAGE_FS_FILEREAD";l[l.Uqc=1429]="STORAGE_FS_FILEWRITE";l[l.Tqc=1431]="STORAGE_FS_FILEREMOVE";l[l.Wqc=1432]="STORAGE_FS_PARSEJSON";l[l.Cyb=1451]="STORAGE_NO_LOCALSTORAGE";l[l.Byb=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";l[l.Xpc=1501]="NTBA_UNKNOWN";l[l.Wpc=1502]="NTBA_EXCEPTION";l[l.Spc=1504]="NTBA_CRYPTO_KEY";l[l.Upc=1506]="NTBA_CRYPTO_OPERATION";l[l.Tpc=1508]="NTBA_CRYPTO_KEYEXCHANGE";l[l.Vpc=1515]="NTBA_DECRYPT_UNSUPPORTED";l[l.hKa=1553]="DEVICE_NO_ESN";l[l.etb=1555]="DEVICE_ERROR_GETTING_ESN";l[l.Roc=1701]="FORMAT_UNKNOWN";l[l.tub=1713]="FORMAT_XML";l[l.Soc=1715]="FORMAT_XML_CONTENT";l[l.Poc=1721]="FORMAT_BASE64";l[l.Qoc=1723]="FORMAT_DFXP";l[l.Sub=1801]="INDEXDB_OPEN_EXCEPTION";l[l.lNa=1802]="INDEXDB_NOT_SUPPORTED";l[l.Rub=1803]="INDEXDB_OPEN_ERROR";l[l.mNa=1804]="INDEXDB_OPEN_NULL";l[l.Qub=1805]="INDEXDB_OPEN_BLOCKED";l[l.Tub=1807]="INDEXDB_OPEN_TIMEOUT";l[l.Pub=1808]="INDEXDB_INVALID_STORE_STATE";l[l.M4=1809]="INDEXDB_ACCESS_EXCEPTION";l[l.kwb=1901]="MSL_UNKNOWN";l[l.dwb=1911]="MSL_INIT_NO_MSL";l[l.oPa=1913]="MSL_INIT_ERROR";l[l.ewb=1915]="MSL_INIT_NO_WEBCRYPTO";l[l.bwb=1931]="MSL_ERROR";l[l.jwb=1933]="MSL_REQUEST_TIMEOUT";l[l.iwb=1934]="MSL_READ_TIMEOUT";l[l.cwb=1935]="MSL_ERROR_HEADER";l[l.wpc=1936]="MSL_ERROR_ENVELOPE";l[l.xpc=1937]="MSL_ERROR_MISSING_PAYLOAD";l[l.nPa=1957]="MSL_ERROR_REAUTH";l[l.fma=2103]="WEBCRYPTO_MISSING";l[l.Grc=2105]="WEBCRYPTOKEYS_MISSING";l[l.gzb=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";l[l.Anc=2200]="CACHEDDATA_PARSEJSON";l[l.cJa=2201]="CACHEDDATA_UNSUPPORTED_VERSION";l[l.Bnc=2202]="CACHEDDATA_UPGRADE_FAILED";l[l.mD=2203]="CACHEDDATA_INVALID_FORMAT";l[l.Omc=3E3]="ACCOUNT_CHANGE_INFLIGHT";l[l.Pmc=3001]="ACCOUNT_INVALID";l[l.Ync=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";l[l.Xnc=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";l[l.Vnc=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";l[l.Wnc=3201]="DOWNLOADED_LICENSE_UNUSEABLE";l[l.Unc=3202]="DOWNLOADED_LICENSE_EXCEPTION";l[l.brc=3300]="STORAGE_VA_LOAD_ERROR";l[l.crc=3301]="STORAGE_VA_LOAD_TIMEOUT";l[l.frc=3302]="STORAGE_VA_SAVE_ERROR";l[l.grc=3303]="STORAGE_VA_SAVE_TIMEOUT";l[l.drc=3304]="STORAGE_VA_REMOVE_ERROR";l[l.erc=3305]="STORAGE_VA_REMOVE_TIMEOUT";l[l.Cka=3077]="PBO_DEVICE_EOL_WARNING";l[l.ZQa=3078]="PBO_DEVICE_EOL_FINAL";l[l.bRa=3100]="PBO_DEVICE_RESET";l[l.aRa=3101]="PBO_DEVICE_RELOAD";l[l.$Qa=3102]="PBO_DEVICE_EXIT";l[l.lxb=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";l[l.Pwb=5005]="PBO_ACCOUNT_ON_HOLD";l[l.Ywb=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";l[l.cRa=5007]="PBO_INCORRECT_PIN";l[l.ixb=5008]="PBO_MOBILE_ONLY";l[l.mxb=5009]="PBO_VIEWABLE_RESTRICTED_BY_PROFILE";l[l.Qwb=5010]="PBO_ADS_UNAVAILABLE_VIEWABLE";l[l.Twb=5011]="PBO_ADS_UNSUPPORTED_DEVICE";l[l.Rwb=5012]="PBO_ADS_UNSUPPORTED_CLIENT_APP_VERSION";l[l.Swb=5013]="PBO_ADS_UNSUPPORTED_COUNTRY";l[l.Uwb=5014]="PBO_ADS_VPN_USE_DETECTED";l[l.fxb=5015]="PBO_LIVE_STREAMING_UNSUPPORTED_DEVICE";l[l.exb=5016]="PBO_LIVE_STREAMING_UNSUPPORTED_APP_VERSION";l[l.cxb=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";l[l.Wwb=5059]="PBO_BLACKLISTED_IP";l[l.Vwb=5070]="PBO_AGE_VERIFICATION_REQUIRED";l[l.Xwb=5080]="PBO_CHOICE_MAP_ERROR";l[l.jxb=5090]="PBO_RESTRICTED_TO_TESTERS";l[l.gxb=5091]="PBO_MALFORMED_REQUEST";l[l.dxb=5092]="PBO_INVALID_SERVICE_VERSION";l[l.hxb=5093]="PBO_MDX_INVALID_CTICKET";l[l.bxb=5094]="PBO_FREE_PREVIEW_ENDED";l[l.kxb=5095]="PBO_STREAMING_LOCATION_DISALLOWED";l[l.axb=5096]="PBO_EXTRA_MEMBER_STREAM_HOLD";l[l.$wb=5097]="PBO_EXTRA_MEMBER_REMOVED_STREAM_HOLD";l[l.Nsb=5100]="DECODER_TIMEOUT_BUFFERING";l[l.Psb=5101]="DECODER_TIMEOUT_PRESENTING";l[l.Osb=5102]="DECODER_TIMEOUT_PLAYING";l[l.Ftb=5200]="DOWNLOADER_IO_ERROR";l[l.EIa=5300]="BRANCHING_SEGMENT_NOTFOUND";l[l.yrb=5301]="BRANCHING_PRESENTER_UNINITIALIZED";l[l.dnc=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";l[l.iia=5303]="BRANCHING_ASE_UNINITIALIZED";l[l.$mc=5304]="BRANCHING_ASE_FAILURE";l[l.anc=5305]="BRANCHING_MOMENT_FAILURE";l[l.wrb=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";l[l.cnc=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";l[l.zrb=5308]="BRANCHING_SEEK_THREW";l[l.bnc=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";l[l.xrb=5310]="BRANCHING_PLAY_TIMEDOUT";l[l.Arb=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";l[l.Brb=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";l[l.Eyb=5500]="STUDIO_MUXED_MANIFEST";l[l.aka=5600]="MANIFEST_HYDRATION_FAILURE";l[l.arb=5700]="AUXILIARY_MANIFEST_ERROR_RETRIEVING_PARENT_MANIFEST";l[l.brb=5701]="AUXILIARY_MANIFEST_NO_MATCHING_HEACC_AUDIO_STREAM_FOUND";})(c=b.Y || (b.Y={}));(function(l){l[l.pnc=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";l[l.fnc=5005]="BR_ACCOUNT_ON_HOLD";l[l.jnc=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";l[l.mnc=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";l[l.inc=5059]="BR_BLACKLISTED_IP";l[l.gnc=5070]="BR_AGE_VERIFICATION_REQUIRED";l[l.nnc=2204]="BR_PLAYBACK_CONTEXT_CREATION";l[l.knc=2205]="BR_DRM_LICENSE_AQUISITION";l[l.onc=2206]="BR_PLAYBACK_SERVICE_ERROR";l[l.lnc=2207]="BR_ENDPOINT_ERROR";l[l.hnc=2208]="BR_AUTHORIZATION_ERROR";})(b.ILa || (b.ILa={}));b.J4={Jrb:"400",Brc:"401",vRa:"413"};b.S4={Noc:1,trc:2,soc:3,zrc:4,hpc:5,roc:6,Zla:7,uoc:8,Fqc:9,Oqc:10};b.K3=function(l,g,m,d){return l == a.e5 || l == a.L4 || l == a.Fka && 432E5 <= m || l == a.$ia && g === c.Yia && 0 < Number(d);};b.JLa=function(l){return 1100 <= l && 1199 >= l;};b.dja=function(l,g){return 1 <= l && 9 >= l?g + l:g;};b.KLa=function(l){return (0,b.dja)(l,c.awb);};b.LLa=function(l){return (0,b.dja)(l,c.Su);};b.Mz=function(l){var g,m,d;g={};m=l.errorExternalCode || l.Rf;d=l.errorDetails || l.Ub;g.ErrorSubCode=l.errorSubCode || l.Ca || c.Fo;m && (g.ErrorExternalCode=m);d && (g.ErrorDetails=d);return g;};},function(r,b,a){var g;function c(){return g.IU.apply(this,arguments) || this;}function l(m){return new g.Yu(m,b.va);}Object.defineProperty(b,"__esModule",{value:!0});b.Oa=b.$Ma=b.pka=b.Eo=b.va=b.sH=b.timestamp=b.b0b=b.mda=b.Ui=b.$b=b.eib=b.W5b=b.Uyb=void 0;g=a(332);ka(c,g.IU);b.Uyb=c;b.W5b=function(m){return new g.Yu(m,b.sH);};b.eib=function(m){return new g.Yu(m * b.Eo.kh,b.sH);};b.$b=l;b.Ui=function(m){return new g.Yu(m,b.Eo);};b.mda=function(m){return new g.Yu(m,b.pka);};b.b0b=function(m){return new g.Yu(m,b.$Ma);};b.timestamp=function(m){return l(m);};b.sH=new c(1,"\u03bcs");b.va=new c(1E3,"ms",b.sH);b.Eo=new c(1E3 * b.va.kh,"s",b.sH);b.pka=new c(60 * b.Eo.kh,"min",b.sH);b.$Ma=new c(60 * b.pka.kh,"hr",b.sH);b.Oa=l(0);},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(0).__exportStar(a(847),b);},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ET=b.jb=b.Uja=b.Hk=void 0;r=b.Hk || (b.Hk={});r[r.qub=0]="FATAL";r[r.Bg=1]="ERROR";r[r.ema=2]="WARN";r[r.xja=3]="INFO";r[r.yVa=4]="TRACE";r[r.M=5]="DEBUG";b.Uja="LogFieldBuilderFactorySymbol";b.jb="LoggerFactorySymbol";b.ET={};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.vU=b.gMa=void 0;r=a(0);r.__exportStar(a(401),b);r.__exportStar(a(104),b);r.__exportStar(a(20),b);r.__exportStar(a(934),b);r.__exportStar(a(935),b);r.__exportStar(a(936),b);r.__exportStar(a(937),b);r.__exportStar(a(938),b);r.__exportStar(a(939),b);r.__exportStar(a(940),b);r.__exportStar(a(415),b);c=r.__importDefault(a(941));b.gMa=c.default;a=r.__importDefault(a(417));b.vU=a.default;},function(r,b,a){var c,l,g,m,d,f,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.Ha=b.XSa=b.sY=b.kj=b.lk=b.log=b.ug=b.GP=b.b1a=b.mt=b.SA=b.yc=b.rIb=b.Ypa=b.pIb=b.qIb=b.gk=b.OS=b.v2=b.Ai=b.Jc=b.za=void 0;c=a(217);r=a(7);l=a(26);g=a(68);m=a(82);d=a(31);f=a(15);h=a(148);k=a(27);a=a(47);b.za=c.uc.get(k.Hh);b.Jc=c.uc.get(a.Zj);b.Ai=c.uc.get(g.Qs);b.v2=b.Ai.encode.bind(b.Ai);b.OS=b.Ai.decode.bind(b.Ai);b.gk=c.uc.get(m.Cz);b.qIb=b.gk.encode.bind(b.gk);b.pIb=b.gk.decode.bind(b.gk);b.Ypa=b.gk.yJ.bind(b.gk);b.rIb=b.gk.cob.bind(b.gk);b.yc=c.uc.get(d.Yi);b.SA=function(n){n=(0,f.Ng)(n)?(0,b.OS)(n):n;return b.yc.encode(n);};b.mt=b.yc.decode.bind(b.yc);b.b1a=function(n){return (0,b.v2)((0,b.mt)(n));};b.GP=function(){return c.uc.get(l.Hz);};b.ug=c.uc.get(r.jb);b.log=b.ug.cb("General");b.lk=function(n,p){return b.ug.cb(n,void 0,p);};b.kj=function(n,p,q){return b.ug.cb(p,n,q);};b.sY=function(n,p,q,v){return b.ug.cb(n,void 0,v,p,q);};b.XSa=function(n,p,q){return c.uc.get(h.wU)(n,p,q).i2();};b.Ha=c.uc;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.M=!1;},function(r){var b;b={Qa:function(a){return "number" === typeof a;},nk:function(a){return "object" === typeof a;},Ng:function(a){return "string" === typeof a;},wa:function(a){return "undefined" === typeof a;},Xuc:function(a){return "boolean" === typeof a;},qd:function(a){return "function" === typeof a;},ub:function(a){return null === a;},isArray:function(a){return "[object Array]" === Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a) && !isNaN(parseFloat(a));},has:function(a,c){return null !== a && "undefined" !== typeof a && Object.prototype.hasOwnProperty.call(a,c);},u9b:function(a){var c,l;l=[];if(!b.nk(a))throw new TypeError("Object.pairs called on non-object");for(c in a){a.hasOwnProperty(c) && l.push([c,a[c]]);}return l;}};b.pg=b.forEach=function(a,c,l){if(null === a || "undefined" === typeof a)return a;if(a.length === +a.length)for(var g=0,m=a.length;g < m;g++){c.call(l,a[g],g,a);}else for(g in a){b.has(a,g) && c.call(l,a[g],g,a);}return a;};r.exports=b;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ao={Nsc:"casttv",bra:"chrome",Usc:"chromecast",Mr:"edge",K5a:"edgeoss",m7a:"firefox",Ruc:"ie",opera:"opera",Dkb:"safari",znb:"tesla"};b.Np={g8:"android",qbb:"ios",u2a:"chromeos",ddb:"linux",Hdb:"mac",cHa:"windows"};b.I4={FLb:"computer",phone:"phone",pic:"tablet"};b.xc="ConfigSymbol";},function(r,b,a){b=a(105);b.JPb=0;r.exports={EventEmitter:b,ef:a(916)};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nya=b.localStorage=b.Q0b=b.indexedDB=b.uQa=b.Lr=b.yD=b.xD=b.URL=b.X4=b.wwb=b.DPa=b.CPa=b.R4=b.eU=b.Rz=b.Xu=b.Mp=b.mwb=b.CM=b.rVa=b.oKa=b.Mwb=b.pop=b.forEach=b.filter=b.reduce=b.every=b.slice=b.map=b.sort=b.QA=b.vwb=b.Xh=b.gx=b.vQa=b.hx=b.W4=b.vH=void 0;r=mb;b.ff=r.navigator;b.vH=null === b.ff || void 0 === b.ff?void 0:b.ff.userAgent;b.W4=r.location;b.hx=r.screen;b.vQa=r.devicePixelRatio;b.gx=r.performance;b.Xh=r.document;b.vwb=b.Xh.documentElement;b.QA=Array.prototype;b.sort=b.QA.sort;b.map=b.QA.map;b.slice=b.QA.slice;b.every=b.QA.every;b.reduce=b.QA.reduce;b.filter=b.QA.filter;b.forEach=b.QA.forEach;b.pop=b.QA.pop;b.Mwb=Object.create;b.oKa=Date.now;b.rVa=String.fromCharCode;b.CM=Math.floor;b.mwb=Math.ceil;b.Mp=Math.round;b.Xu=Math.max;b.Rz=Math.min;b.eU=Math.random;b.R4=Math.abs;b.CPa=Math.pow;b.DPa=Math.sqrt;b.wwb=r.escape;b.X4=r.unescape;b.URL=r.URL || r.webkitURL;b.xD=r.MediaSource || r.WebKitMediaSource;b.yD=r.webkitCrypto || r.msCrypto || r.crypto;b.Lr=b.yD && (b.yD.webkitSubtle || b.yD.subtle);b.uQa=r.webkitCryptokeys || r.msCryptokeys || r.cryptokeys;try{b.indexedDB=r.indexedDB;}catch(a){b.Q0b=a || "noex";}try{b.localStorage=r.localStorage;}catch(a){b.Nya=a || "noex";}},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.qd=b.vbb=b.pQ=b.Ng=b.bya=b.U1b=b.H1b=b.Sxa=b.FF=b.Jbb=b.Qa=b.$xa=b.isArray=b.icb=b.nk=b.xd=b.is=void 0;r=a(216);b.is=r.kH;b.xd=function(c){return b.is.wh(c);};b.nk=function(c){return b.is.sW(c);};b.icb=function(c){return b.is.Loa(c);};b.isArray=function(c){return b.is.qE(c);};b.$xa=function(c){return b.is.d0a(c);};b.Qa=function(c,l,g){return b.is.Ol(c,l,g);};b.Jbb=function(c,l,g){return b.is.spa(c,l,g);};b.FF=function(c,l,g){return b.is.tW(c,l,g);};b.Sxa=function(c){return b.is.dW(c);};b.H1b=function(c){return b.is.jFb(c);};b.U1b=function(c){return b.is.kFb(c);};b.bya=function(c){return b.is.e0a(c);};b.Ng=function(c){return b.is.Dr(c);};b.pQ=function(c){return b.is.Qo(c);};b.vbb=function(c){return b.is.N7(c);};b.qd=function(c){return b.is.P7(c);};},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Fd=b.nb=b.gg=b.ic=b.Z2=b.ka=b.Eja=b.BH=b.Pa=void 0;(function(c){c.odb="loadedtracks";c.ndb="loadedmetadata";c.loaded="loaded";c.error="error";c.closed="closed";c.oq="currenttimechanged";c.Lob="unthrottledcurrenttimechanged";c.Q8="bufferedtimechanged";c.Ssa="durationchanged";c.VGa="videosizechanged";c.phb="pausedchanged";c.VBa="playingchanged";c.q6a="endedchanged";c.zO="busychanged";c.C8="audiotracklistchanged";c.Fn="audiotrackchanged";c.Nw="timedtexttracklistchanged";c.cn="timedtexttrackchanged";c.k2="trickplayframeschanged";c.wfb="mutedchanged";c.fqb="volumechanged";c.NEa="showsubtitle";c.XCa="removesubtitle";c.Xlc="watermark";c.Wxa="isReadyToTransition";c.bQ="inactivated";c.nbb="internalPlaybackError";c.Iec="segmentmaploaded";c.Jec="segmentpresenting";c.T0a="autoplaywasallowed";c.F8="autoplaywasblocked";c.HGb="adsstatechanged";c.pK="livestatechanged";})(b.Pa || (b.Pa={}));(b.BH || (b.BH={})).i1="playgraphsegmenttransition";b.Eja=a;a.glb="serverTimeChanged";(function(c){c.BI="aseReport";c.vca="liveReport";c.uca="livePipelineFailover";c.Opa="autoplayWasAllowed";c.fj="autoplayWasBlocked";c.UA="bufferUnderrun";c.closed="closed";c.uh="closing";c.oq="currentTimeChanged";c.uB="downloadComplete";c.bQ="inactivated";c.Xcb="licenseAdded";c.TZ="licensed";c.ZZ="locationSelected";c.mza="manifestClosing";c.rK="manifestPresenting";c.Sca="mediaBufferChanged";c.yda="nextBranchingSegmentChosen";c.uw="playbackStart";c.Um="playbackReady";c.pl="repositioned";c.rG="repositioning";c.Fkb="safePlayRequested";c.pL="segmentPresenting";c.m1="serverSwitch";c.dmb="shouldUpdateVideoDiagInfo";c.sS="subtitleError";c.NFa="throttledMediaTimeChanged";c.Mob="unthrottledMediaTimeChanged";c.zS="timedTextRebuffer";c.Nw="timedTextTrackListChanged";c.k2="trickPlayFramesChanged";c.yGa="updateNextBranchingSegmentWeights";c.Ipb="userInitiatedPause";c.Jpb="userInitiatedResume";c.lob="tracksHydrated";c.pK="livestatechanged";})(b.ka || (b.ka={}));(b.Z2 || (b.Z2={})).nE="adBreakComplete";(function(c){c[c.FM=0]="NOTLOADED";c[c.LOADING=1]="LOADING";c[c.Se=2]="NORMAL";c[c.CLOSING=3]="CLOSING";c[c.CLOSED=4]="CLOSED";})(b.ic || (b.ic={}));(function(c){c[c.Se=1]="NORMAL";c[c.Yd=2]="BUFFERING";c[c.rUa=3]="STALLED";})(b.gg || (b.gg={}));(function(c){c[c.Cg=1]="WAITING";c[c.Xc=2]="PLAYING";c[c.aj=3]="PAUSED";c[c.Ks=4]="ENDED";})(b.nb || (b.nb={}));(function(c){c[c.Uu=0]="INITIAL";c[c.ED=1]="SEEK";c[c.VT=2]="LIVE_EDGE";c[c.L5=3]="TRACK_CHANGED";c[c.QM=4]="SEGMENT_CHANGED";c[c.M3=5]="FORCE_REBUFFER";})(b.Fd || (b.Fd={}));},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dU=b.Q4=b.Urb=b.Prb=b.Rrb=b.Srb=b.RIa=b.Orb=b.Qrb=b.QIa=b.Trb=b.$rb=b.Yrb=b.Zrb=b.Xrb=b.Ttb=b.Stb=b.Rtb=b.Svb=b.Uvb=b.Tvb=b.jPa=b.lPa=b.kPa=b.ZKa=b.Utb=b.Xia=b.H3=b.Iwb=b.tyb=b.gPa=b.Irb=b.eKa=b.d5=b.HM=b.c5=b.fPa=b.Qz=b.Hrb=b.DIa=b.Fvb=b.bzb=b.Rvb=b.Qvb=b.myb=b.lyb=b.Wu=b.mh=b.RTa=b.Wz=void 0;b.BIa=b.vla=void 0;b.Wz=function(){};b.RTa=function(){return !0;};b.mh={ja:!0};b.Wu=1E3;b.lyb=86400;b.myb=604800;b.Qvb=1E4;b.Rvb=1E7;b.bzb=1.5;b.Fvb=.128;b.DIa=7.8125;b.Hrb=128;b.Qz=145152E5;b.fPa=1E5;b.c5="$netflix$player$order";b.HM=-1;b.d5=1;b.eKa=["en-US"];b.Irb=8;b.gPa=65535;b.tyb=65536;b.Iwb=Number.MAX_VALUE;b.H3="playready";b.Xia="widevine";b.Utb="fps";b.ZKa="clearkey";b.kPa='audio/mp4; codecs="mp4a.40.5"';b.lPa='audio/mp4; codecs="mp4a.40.42"';b.jPa='audio/mp4; codecs="mp4a.a6"';b.Tvb='video/mp4; codecs="avc1.640028"';b.Uvb='video/mp4; codecs="hev1.2.6.L153.B0"';b.Svb='video/mp4; codecs="dvhe.01000000"';b.Rtb="9A04F079-9840-4286-AB92-E65BE0885F95";b.Stb="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";b.Ttb="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";b.Xrb=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];b.Zrb="A2394F52-5A9B-4F14-A244-6C427C648DF4";b.Yrb="4E657466-6C69-7846-7261-6D6552617465";b.$rb="8974DBCE-7BE7-4C51-84F9-7148F9882554";b.Trb="mp4a";b.QIa="enca";b.Qrb="ec-3";b.Orb="avc1";b.RIa="encv";b.Srb="hvcC";b.Rrb="hev1";b.Prb="dvhe";b.Urb="vp09";b.Q4=0;b.dU=1;b.vla="position:relative;width:100%;height:100%;overflow:hidden";b.BIa="AAAAJGZ0eXBpc28yAAAAAGlzb21pc28yZGFzaGlzbzZwaWZmAAAAhHV1aWROZXRmbGl4UGlmZlN0cm0hAQAAAAAAAAAEnph8AAAAAACYloAAAAABBq7BRQAAAAAAADQaAAAAAASeVDAAAAAAAAAjXwAAELsAAAAAAAAIKwAACoQxmsddr5Pt+Lrq/zLsOAU/AAAAAAAAHRsAAAOSAAAAAAAAIK0AAAKyAAAAGGZyZWUAAAAAAAAAAAAAAAAAAAAAAAAATXV1aWTi6QKlfkPiQZDaISEYxWQyAAAAAAAAAADesO2iTmV0ZmxpeCBNZWRpYSBMaWJyYXJ5IFZlcnNpb24gODAuMTAuMTcuIAAAAAcebW9vdgAAAHhtdmhkAQAAAAAAAADesO2jAAAAAN6w7aMAmJaAAAAAAAAAAAAAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAr5wc3NoAAAAAJoE8HmYQEKGq5LmW+CIX5UAAAKengIAAAEAAQCUAjwAVwBSAE0ASABFAEEARABFAFIAIAB4AG0AbABuAHMAPQAiAGgAdAB0AHAAOgAvAC8AcwBjAGgAZQBtAGEAcwAuAG0AaQBjAHIAbwBzAG8AZgB0AC4AYwBvAG0ALwBEAFIATQAvADIAMAAwADcALwAwADMALwBQAGwAYQB5AFIAZQBhAGQAeQBIAGUAYQBkAGUAcgAiACAAdgBlAHIAcwBpAG8AbgA9ACIANAAuADAALgAwAC4AMAAiAD4APABEAEEAVABBAD4APABQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEsARQBZAEwARQBOAD4AMQA2ADwALwBLAEUAWQBMAEUATgA+ADwAQQBMAEcASQBEAD4AQQBFAFMAQwBUAFIAPAAvAEEATABHAEkARAA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEsASQBEAD4AQQBBAEEAQQBBAE8AYwBHAHkAeQA0AEEAQQBBAEEAQQBBAEEAQQBBAEEAQQA9AD0APAAvAEsASQBEAD4APABDAEgARQBDAEsAUwBVAE0APgBvAE8ARwBWAHcAUwB0AGYAcABvAHMAPQA8AC8AQwBIAEUAQwBLAFMAVQBNAD4APABDAFUAUwBUAE8ATQBBAFQAVABSAEkAQgBVAFQARQBTAD4APABMAGkAdAB0AGwAZQBFAG4AZABpAGEAbgBLAEkARAA+AHQAcgB1AGUAPAAvAEwAaQB0AHQAbABlAEUAbgBkAGkAYQBuAEsASQBEAD4APAAvAEMAVQBTAFQATwBNAEEAVABUAFIASQBCAFUAVABFAFMAPgA8AC8ARABBAFQAQQA+ADwALwBXAFIATQBIAEUAQQBEAEUAUgA+AAAAAExwc3NoAAAAAClwH+Q8x0o0jFuukMdDmkcAAAAsAAAABAAAAAAG5y7LEQCZXm+LFtZ8GJ3qeQbAI/HmYiUnLTrYNjnKW2j/oyoAAAA0cHNzaAAAAADt74upedZKzqPIJ9zVHSHtAAAAFAgBEhAAAAAABucuywAAAAAAAAAAAAADJHRyYWsAAABodGtoZAEAAAcAAAAA3rDtowAAAADesO2jAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAFAAAAAtAAAAAAACxlZHRzAAAAJGVsc3QBAAAAAAAAAQAAAAEGrsFFAAAAAAAGW5sAAQAAAAACiG1kaWEAAAAsbWRoZAEAAAAAAAAA3rDtowAAAADesO2jAJiWgAAAAAAAAAAAVcQAAAAAADRoZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW8gTWVkaWEgSGFuZGxlcgAAAAIgbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAB4HN0YmwAAAAQc3R0cwAAAAAAAAAAAAAAEGN0dHMAAAAAAAAAAAAAAYRzdHNkAAAAAAAAAAEAAAF0ZW5jdgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAUAAtAASAAAAEgAAAAAAAAAAQpBVkMgQ29kaW5nAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAADxhdmNDAU1AH//hACVnTUAf6IAoAt2AiAAAAwAIAAADAYcBAAHH7gAAl/pSYYA8YMRIAQAEaOvssgAAABBwYXNwAAAAAQAAAAEAAAAidXVpZE5ldGZsaXhGcmFtZVJhdGUAAAAAAABdwAPoAAAAYHNpbmYAAAAMZnJtYWF2YzEAAAAUc2NobQAAAABwaWZmAAEAAQAAADhzY2hpAAAAMHV1aWSJdNvOe+dMUYT5cUj5iCVUAAAAAAAAAQgAAAAABucuywAAAAAAAAAAAAAAUHNpbmYAAAAMZnJtYWF2YzEAAAAUc2NobQAAAABjZW5jAAEAAAAAAChzY2hpAAAAIHRlbmMAAAAAAAABCAAAAAAG5y7LAAAAAAAAAAAAAAAQc3RzYwAAAAAAAAAAAAAAFHN0c3oAAAAAAAAAAAAAAAAAAAAQc3RjbwAAAAAAAAAAAAAAPG12ZXgAAAAUbWVoZAEAAAAAAAABBq7BRQAAACB0cmV4AAAAAAAAAAIAAAABAAAAAAAAAAABoQAA";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jd="ApplicationSymbol";},function(r,b,a){var g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A,C;function c(D){return (D=b.config.Pjc[l(D)])?D:{};}function l(D){if(D)return 0 <= D.indexOf("billboard")?"billboard":0 <= D.toLowerCase().indexOf("preplay")?"preplay":0 <= D.indexOf("embedded")?"embedded":0 <= D.indexOf("content-sampling")?"content-sampling":0 <= D.indexOf("video-merch-bob-horizontal")?"video-merch-bob-horizontal":0 <= D.indexOf("mini-modal-horizontal")?"mini-modal-horizontal":0 <= D.indexOf("standard")?"standard":0 <= D.indexOf("branching")?"branching":0 <= D.indexOf("live")?"live":D;}Object.defineProperty(b,"__esModule",{value:!0});b.GLb=b.HLb=b.h3a=b.k9=b.i3a=b.Dra=b.config=void 0;g=a(17);m=a(44);d=a(9);f=a(39);h=a(22);k=a(26);n=a(42);p=a(23);a(7);q=a(14);v=a(15);t=a(177);w=a(50);u=a(87);x=a(110);y=a(52);z=a(5);B=a(49);A=a(18);C=a(123);b.i3a=function(D,E){var za,Aa,Qa,T,Z,Q,la,sa,R;function G(ha,wa){(0,p.zh)(ha,function(va,Ea){(0,v.qd)(Ea)?wa[va]=Ea.call(void 0,wa[va]):(0,v.nk)(Ea) && (wa[va]=wa[va] || ({}),G(Ea,wa[va]));});}function F(ha,wa,va,Ea){for(var Ya=[],wb=3;wb < arguments.length;++wb){Ya[wb - 3]=arguments[wb];}return function(nb){(0,v.xd)(nb) && (va=nb);(0,h.ya)((0,v.qd)(ha));return ha.apply(void 0,[wa,va].concat(ia(Ya)));};}function L(ha){ha=ha.toLowerCase();T.hasOwnProperty(ha) && (Qa[ha]=T[ha],Z[ha]=T[ha]);return ha;}function O(ha,wa,va){var Ea;ha=ha.toLowerCase();if(Qa.hasOwnProperty(ha)){Ea=Qa[ha];try{Ea=va?va(Ea):Ea;}catch(Ya){Ea=void 0;}if(void 0 !== Ea)return Ea;(0,h.ya)(!1);d.log.error("Invalid configuration value. Name: " + ha);}return wa;}function K(ha,wa,va,Ea){return O(ha,wa,function(Ya){(0,v.Ng)(Ya) && (Ya=(0,p.Ak)(Ya));if((0,v.Jbb)(Ya,va,Ea))return Ya;});}function I(ha,wa,va,Ea){return O(ha,wa,function(Ya){(0,v.Ng)(Ya) && (Ya=(0,p.Ak)(Ya));if((0,v.FF)(Ya,va,Ea))return Ya;});}function M(ha,wa,va,Ea){return O(ha,wa,function(Ya){(0,v.Ng)(Ya) && (Ya=parseFloat(Ya));if((0,v.Qa)(Ya,va,Ea))return Ya;});}function H(ha,wa,va){return O(ha,wa,function(Ea){if(va?va.test(Ea):(0,v.Ng)(Ea))return Ea;});}function J(ha,wa){return O(ha,wa,function(va){if("true" == va || !0 === va)return !0;if("false" == va || !1 === va)return !1;});}function N(ha,wa){return O(ha,wa,function(va){if((0,v.Ng)(va))return JSON.parse((0,q.X4)(va));if((0,v.nk)(va))return va;});}function P(ha,wa,va,Ea,Ya,wb){var nb;ha=ha.toLowerCase();Qa.hasOwnProperty(ha) && (nb=Qa[ha]);if(!(0,v.xd)(nb))return wa;if((0,v.Ng)(nb))if(nb[0] !== va)nb=Ea(nb);else try{nb=JSON.parse((0,q.X4)(nb));}catch(zb){nb=void 0;}if(void 0 === nb)return wa;for(ha=0;ha < Ya.length;ha++){if(!Ya[ha](nb))return wa;}return wb?wb(nb):nb;}function W(ha,wa,va,Ea,Ya){return P(ha,wa,"[",function(wb){wb=wb.split("|");for(var nb=wb.length;nb--;){wb[nb]=(0,p.Ak)(wb[nb]);}return wb;},[function(wb){return (0,v.isArray)(wb) && 0 < wb.length;},function(wb){for(var nb=wb.length;nb--;){if(!(0,v.FF)(wb[nb],va,Ea))return !1;}return !0;},function(wb){return void 0 === Ya || wb.length >= Ya;}]);}function V(ha,wa){return P(ha,wa,"[",function(va){va=(0,v.isArray)(va)?va:va.split("|");for(var Ea=va.length;Ea--;){try{va[Ea]=JSON.parse((0,q.X4)(va[Ea]));}catch(Ya){va=void 0;break;}}return va;},[function(va){return (0,v.isArray)(va) && 0 < va.length;},function(va){for(var Ea=va.length;Ea--;){if(!(0,v.xd)(va[Ea]) || !(0,v.nk)(va[Ea]))return !1;}return !0;}]);}function S(ha,wa){var va;va=U(ha,[]);return va && 0 < va.length?(0,C.io)(va):V(ha,wa);}function U(ha,wa,va,Ea){return P(ha,wa,"[",function(Ya){return (0,v.isArray)(Ya)?Ya:Ya.split("|");},[function(Ya){return (0,v.isArray)(Ya) && 0 < Ya.length;},function(Ya){for(var wb=Ya.length;wb--;){if(va?!va.test(Ya[wb]):!(0,v.pQ)(Ya[wb]))return !1;}return !0;},function(Ya){return void 0 === Ea || Ya.length >= Ea;}]);}function fa(ha,wa,va){return P(ha,wa,"{",function(Ea){var Ya,nb,zb;Ya={};Ea=Ea.split(";");for(var wb=Ea.length;wb--;){nb=Ea[wb];zb=nb.indexOf(":");if(0 >= zb)return;Ya[nb.substring(0,zb)]=nb.substring(zb + 1);}return Ya;},[function(Ea){return (0,v.nk)(Ea) && 0 < Object.keys(Ea).length;},function(Ea){if(va)for(var Ya in Ea){if(!va.test(Ea[Ya]))return !1;}return !0;}],function(Ea){var Ya;Ya={};(0,p.Oe)(Ya,wa);(0,p.Oe)(Ya,Ea);return Ya;});}function qa(ha){var wa;wa=[];(0,p.zh)(ha,function(va,Ea){var Ya;try{Ya="videoapp" === va.toLowerCase()?"[object object]":JSON.stringify(Ea);}catch(wb){Ya="cantparse";}wa.push(va + "=" + Ya);});return wa.join("\n");}za=/^[0-9]+[%]?$/;Aa=/^[0-9]*$/;Z={};Q=d.Ha.get(f.Jp);la=d.Ha.get(x.yH);(function(ha){function wa(va){va.split(",").forEach(function(Ea){var Ya;Ya=Ea.indexOf("=");0 < Ya && (Qa[Ea.substring(0,Ya).toLowerCase()]=Ea.substring(Ya + 1));});}Qa={};(0,p.Oe)(Qa,ha);D && D.length && q.forEach.call(D,function(va){(0,v.Ng)(va)?wa(va):(0,v.nk)(va) && (0,p.Oe)(Qa,va,{e_:!0});});T=(0,p.Oe)({},(0,m.Faa)(),{e_:!0});if(ha=(0,m.Yib)().cadmiumconfig)(d.log.info("Config cookie loaded",ha),wa(ha));if(d.Ha.get(B.fr).c8 || Qa.istestaccount)((0,p.Oe)(Qa,T),Z=T);})(E);b.config={};sa={ySb:F(J,L("enableXHEAAC"),!1),W5a:F(J,L("enableDDPlus20"),!0),V5a:F(J,L("enableDDPlus"),!0),iP:F(J,L("enableDDPlusAtmos"),!1),dSb:F(J,L("enableLSSDH"),!0),ZRb:F(J,L("enableHEVC"),!1),Xgb:F(J,L("overrideEnableHEVC"),!1),Zsa:F(J,L("enableHDR"),!1),Wgb:F(J,L("overrideEnableHDR"),!1),Vgb:F(J,L("overrideEnableDV"),!1),gP:F(J,L("enableAVCHigh"),la.gP),Ugb:F(J,L("overrideEnableAVCHigh"),!1),uSb:F(J,L("enableVP9"),!1),Ygb:F(J,L("overrideEnableVP9"),!1),NRb:F(J,L("enableAV1"),!1),Tgb:F(J,L("overrideEnableAV1"),!1),n9b:F(J,L("overrideEnableXHEAAC"),!1),l9b:F(J,"overrideEnableAllAudioProfiles",!1),m9b:F(J,"overrideEnableAllVideoProfiles",!1),kSb:F(J,L("enablePRK"),!1),WRb:F(J,L("enableDV"),!1),$5a:F(J,L("enableHWDRM"),!1),aSb:F(J,L("enableImageSubs"),!0),CI:F(S,L("audioProfiles"),la.CI),YRb:F(J,L("enableFullHdForWidevineL3"),!1),Z5a:F(J,L("enableFullHdForWidevineL1"),!1),sSb:F(J,L("enableUHD"),!0),kha:F(I,"videoCapabilityDetectorType",k.sn.Gz),Jpa:F(I,"audioCapabilityDetectorType",k.Xw.Gz),zo:F(S,L("videoProfiles"),la.zo),S_a:F(S,L("additionalVideoProfiles"),[]),IEb:F(U,L("timedTextProfiles"),la.Mw),Mw:function(){return sa.IEb().filter(function(ha){return ha === n.qn.Gia?sa.dSb():ha === n.qn.EM?sa.aSb():!0;});},endpoint:F(J,L("endpoint"),!1),version:F(H,"version","unknown"),$Rb:F(J,L("enableHdcp"),!1),iu:F(J,L("prepareCadmium"),!1),oFb:F(J,L("acceptManifestOnPrepareItemParams"),!0),Y$b:F(N,"ppmconfig",{maxNumberTitlesScheduled:1}),TX:F(J,L("enableLdlPrefetch"),!1),f6a:F(J,L("enableMediaPrefetch"),!1),fSb:F(J,L("enableManifestCache"),!0),dQb:F(J,L("deleteCachedManifestOnPlayback"),!1),cQb:F(J,L("deleteCachedManifestOnCreate"),!1),gQb:F(J,L("deleteOtherManifestCacheOnCreate"),!1),fQb:F(J,L("deleteOtherLdlCacheOnCreate"),!1),rwc:F(I,L("periodicPrepareLogsIntervalMilliseconds"),36E5),uac:F(I,L("prepareManifestCacheMaxCount"),50),sac:F(I,L("prepareLdlCacheMaxCount"),30),iib:F(I,L("prepareManifestExpiryMilliseconds"),12E5),tac:F(I,L("prepareLdlExpiryMilliseconds"),78E4),mac:F(I,L("prefetcherMaxWishlistSize"),10),lac:F(I,L("prefetcherBudgetInBytes"),Infinity),nac:F(J,L("prefetcherOverrideItemPriority"),!0),rac:F(H,L("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),jyc:F(N,"videoApp"),EG:F(N,"storageRules"),$$:F(J,"ftlEnabled",la.$$),Uwa:F(I,L("imageSubsResolution"),0),A0b:F(I,L("imageSubsMaxBuffer"),la.n5b.ia(y.Yw),0),XW:F(J,L("captureBatteryStatus"),!1),dWb:F(I,L("getBatteryApiTimeoutMilliseconds"),5E3),Zn:F(H,L("keySystemId"),la.Zn),Ccb:F(U,L("keySystemList"),void 0,void 0),PGa:F(J,L("validateKeySystemAccess"),!1),$5b:F(I,L("hdcpGlobalTimeout1"),1E4),a6b:F(I,L("hdcpGlobalTimeout2"),1E4),Kvc:F(I,L("hdcpQueryTimeout1"),1E3),Lvc:F(I,L("hdcpQueryTimeout2"),1E3),Seb:F(I,L("hdcpQueryTimeout2"),100),b6b:F(J,L("microsoftHwdrmRequiresHevc"),!1),Reb:F(J,L("microsoftClearLeadRequiresSwdrm"),!1),X5b:F(J,L("microsoftEnableDeviceInfo"),!1),Y5b:F(J,L("microsoftEnableHardwareInfo"),!1),Z5b:F(J,L("microsoftEnableHardwareReset"),!1),Vkc:F(J,L("useHevcCodecForDolbyVision"),!1),hSb:F(J,L("enableMediaCapabilities"),!1),X$b:F(J,L("powerEfficientForVideo"),!1),iSb:F(J,L("enableMediaCapabilitiesSourceBufferCheck"),!1),p4b:F(J,"logMediaPipelineStatus",!1),Q0:F(J,L("renderDomDiagnostics"),!0),wdb:function(){return -1;},xQ:F(K,L("logDisplayMaxEntryCount"),la.xQ,-1),v4b:F(K,L("logToConsoleLevel"),-1),Csc:F(K,L("bladerunnerCmdHistorySize"),10),yB:function(){return Q.yB;},Rya:F(J,"logErrorIfEsnNotProvided",!0),gta:F(J,"enforceSinglePlayback",la.gta),l$:F(J,"enforceSingleSession",la.l$),pra:F(J,"closeOtherPlaybacks",!0),AHb:F(I,"asyncLoadTimeout",15E3,1),F4b:F(I,"mainThreadMonitorPollRate",0),QJ:function(){return Q.QJ;},FO:function(){return Q.FO;},n2:function(){return Q.n2;},Qpb:F(I,L("verbosePlaybackInfoDenominator"),0),dfa:F(J,"renderTimedText",!0),Z$b:F(J,"preBufferTimedText",!0),GTb:F(J,"fatalOnTimedTextLoadError",!0),Unb:F(fa,"timedTextStyleDefaults",{}),SFa:F(fa,"timedTextStyleOverrides",{}),Ega:F(fa,"timedTextFontFamilyMapping",la.Ega || ({"default":"font-family:Arial,Helvetica;font-weight:bolder"})),AS:F(I,"timedTextSimpleFallbackThreshold",la.AS.ia(y.Yw)),aQ:F(U,L("imscLanguageList"),la.aQ,[]),qca:F(U,L("lessBoldLanguageList"),la.qca,[]),fsa:F(H,L("customDfxpUrl")),rSb:F(J,L("enableSubtitleTrackerLogging"),!1),Xec:F(J,L("sendSubtitleQoeLogblobOnMidplay"),!1),Lqa:F(W,"cdnIdWhiteList",[]),Kqa:F(W,"cdnIdBlackList",[]),kua:F(H,L("forceAudioTrack")),qua:F(H,L("forceTimedTextTrack")),v5b:F(I,L("maxRetriesTimedTextDownload"),0),Sic:F(I,L("timedTextRetryInterval"),8E3),uhc:F(H,"storageType","idb",/^(none|fs|idb|ls)$/),tdb:F(I,"lockExpiration",1E4),n4b:F(I,"lockRefresh",3E3),VJb:F(J,"captureUnhandledExceptions",!0),z0b:F(J,"ignoreUnhandledExceptionDuringPlayback",!0),Sjc:F(J,"unhandledExceptionsArePlaybackErrors",!1),Hob:F(H,"unhandledExceptionSource",""),Eac:F(J,"preserveLastFrame",!1),i6b:F(I,"minBufferingTimeInMilliseconds",4E3),lbc:F(I,"progressBackwardsGraceTimeMilliseconds",4E3),mbc:F(I,"progressBackwardsMinPercent",10),DIb:F(H,L("bookmarkIgnoreBeginning"),"0",za),EIb:F(H,L("bookmarkIgnoreEnd"),"5%",za),FIb:F(H,L("bookmarkIgnoreEndForBranching"),"60000",za),DQ:F(I,"maxParallelConnections",3),gDa:F(J,"reportThroughputInLogblobs",!0),Hy:F(I,"minAudioMediaRequestDuration",16E3),g6b:F(I,"minAudioMediaRequestDurationBranching",0),jC:F(I,"minVideoMediaRequestDuration",4E3),r6b:F(I,"minVideoMediaRequestDurationVariableGOP",0),p6b:F(I,"minVideoMediaRequestDurationBranching",0),bda:F(I,"minAudioMediaRequestSizeBytes",0),kda:F(I,"minVideoMediaRequestSizeBytes",0),qRb:F(J,"droppedFrameRateFilterEnabled",!1),rRb:F(I,"droppedFrameRateFilterMaxObservation",60,10,1E3),tRb:F(function(ha,wa,va,Ea,Ya,wb){return P(ha,wa,"[",function(nb){nb=nb.split(";");for(var zb=nb.length;zb--;){nb[zb]=nb[zb].split("|");for(var Oa=nb[zb].length;Oa--;){nb[zb][Oa]=(0,p.Ak)(nb[zb][Oa]);}}return nb;},[function(nb){return (0,v.isArray)(nb) && 0 < nb.length;},function(nb){for(var zb=nb.length;zb-- && void 0 !== nb;){if(!(0,v.isArray)(nb[zb]))return !1;for(var Oa=nb[zb].length;Oa--;){if(!(0,v.FF)(nb[zb][Oa],va,Ea))return !1;}}return !0;},function(nb){if(void 0 !== Ya)for(var zb=nb.length;zb--;){if(Ya !== nb[zb].length)return !1;}return !0;},function(nb){return void 0 === wb || nb.length >= wb;}]);},"droppedFrameRateFilterPolicy",[[3,15],[6,9],[9,2],[15,1]],void 0,void 0,2,0),sRb:F(I,"droppedFrameRateFilterMinHeight",384),uRb:F(W,"droppedFramesPercentilesList",[]),c6b:F(J,"microsoftScreenSizeFilterEnabled",!1),T2b:F(J,"keyStatusFilterEnabled",!1),fab:F(I,"hdcpEngagementWaitTime",0),Ojc:F(J,"uiLabelFilterEnabled",!0),Njc:F(N,"uiLabelFilter",{}),OPb:F(I,L("defaultVolume"),100,0,100),Bza:F(I,L("maxPlaybackRate"),2,0,16),N6a:F(J,"fastForwardAds",!1),i5a:F(J,"disableVideoRightClickMenu",!1),fda:F(I,"minDecoderBufferMilliseconds",1E3,0,g.Qz),$F:F(I,"optimalDecoderBufferMilliseconds",5E3,0,g.Qz),dBa:F(I,"optimalDecoderBufferMillisecondsBranching",3E3,0,g.Qz),OQ:F(I,"minimumTimeBeforeBranchDecision",3E3,0,g.Qz),hfb:F(I,"minimumTimeBeforeDelayedSeekToQueuedSegment",500,0,g.Qz),cC:F(I,"maxDecoderBufferMilliseconds",la.cC.ia(z.va),0,g.Qz),E4a:F(I,"decoderTimeoutMilliseconds",1E4,1),Pfb:F(I,"noRenderTimeoutMilliseconds",0),Tpb:F(I,"videoGapsTimeoutMilliseconds",500),P9b:F(I,"pauseTimeoutLimitMilliseconds",18E5),Xwa:F(I,"inactivityMonitorInterval",3E4,0),nFb:F(W,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),kP:F(J,"enableTrickPlay",!1),yGb:F(W,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),xjc:F(I,"trickPlayHighResolutionBitrateThreshold",1E3),yjc:F(I,"trickPlayHighResolutionThresholdMilliseconds",1E4),Bjc:F(M,"trickplayBufferFactor",.5),wjc:F(I,"trickPlayDownloadRetryCount",1),qza:F(H,"marginPredictor","simple",/^(simple|scale|iqr|percentile|ci)$/),kTb:F(U,"experimentalFilter",["throughput-wssl"]),cra:F(H,"ciPredictorSource","throughput-ci"),XEa:F(H,"simulationDurationStrategy","default"),kAa:F(H,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),YMa:F(N,"HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}),keb:F(K,"maxIQRSamples",Infinity),$eb:F(K,"minIQRSamples",5),Dpb:F(J,"useResourceTimingAPI",!1),w0b:F(J,"ignoreFirstByte",!0),Mza:F(J,"mediaRequestAsyncLoadStart",la.Mza),dlc:F(J,"useXHROnLoadStart",!1),Ita:F(W,"failedDownloadRetryWaitsASE",[10,200,500,1E3,2E3,4E3]),m9:F(I,"connectTimeoutMilliseconds",8E3,500),rAa:F(I,"noProgressTimeoutMilliseconds",8E3,500),Tnb:F(I,"timedTextDownloadRetryCountBeforeCdnSwitch",3),Yvc:F(I,"netflixRequestExpiryTimeout",0),Ylc:F(J,"webkitDecodedFrameCountIncorrectlyReported",!1),yec:F(I,"seekBackOnAudioTrackChangeMilliseconds",8E3),vga:F(U,L("supportedAudioTrackTypes"),[],void 0,1),Bba:F(I,"initialLogFlushTimeout",5E3),Nhb:F(H,"playdataPersistKey",Q.yB?"unsentplaydatatest":"unsentplaydata"),hxc:F(J,"sendPersistedPlaydata",!0),w$b:F(I,"playdataPersistIntervalMilliseconds",4E3),twc:F(I,"playdataSendDelayMilliseconds",1E4),ixc:F(J,"sendPlaydataBackupOnInit",!0),s4b:F(U,"logPerformanceTiming",("navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading").split(" ")),Teb:F(J,"midplayEnabled",!0),$ca:F(I,"midplayIntervalMilliseconds",3E5),Ueb:F(W,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),Z9:F(I,"downloadReportDenominator",0),eRb:F(I,"downloadReportInterval",3E5),vdb:F(I,"logConfigApplyDenominator",0),l1a:F(fa,L("bookmarkByMovieId"),{}),nY:F(J,L("forceLimitedDurationLicense"),!1),KF:F(I,L("licenseRenewalRequestDelay"),0),DBa:F(I,L("persistedReleaseDelay"),1E4),kvc:F(J,L("limitedDurationFlagOverride"),void 0),Ekb:F(I,"safariPlayPauseWorkaroundDelay",100),imc:F(I,"workaroundValueForSeekIssue",1200),Hqa:F(J,L("callEndOfStream"),la.Hqa),a$b:F(J,"performRewindCheck",!0),ITb:F(J,"fatalOnUnexpectedSeeking",!0),HTb:F(J,"fatalOnUnexpectedSeeked",!0),FTb:F(J,"fatalOnManifestMistmatch",!0),Ufc:F(J,L("setVideoElementSize")),bLb:F(J,L("clearVideoSrc"),!0),T4a:F(I,L("delayPlayPause"),0),Hu:F(J,L("useTypescriptEme"),!1),upb:F(J,L("useEncryptedEvent"),!0),MX:F(H,L("drmPersistKey"),"unsentDrmData"),Cib:F(J,L("promiseBasedEme"),!1),z7b:F(J,L("nudgeSourceBuffer"),!1),XDa:F(K,L("seekDelta"),1),r0:F(J,L("preciseSeeking"),!1),aac:F(J,L("preciseSeekingOnTwoCoreDevice"),!1),S4a:F(fa,L("delayErrorHandling")),Wl:F(H,"esn",""),Q6a:F(H,"fesn",""),mSb:F(J,L("enablePerformanceLogging"),!1),Y5a:F(J,L("enableEmeVerboseLogging"),!1),appId:F(H,"appId","",Aa),sessionId:F(H,"sessionId","",Aa),Nqa:F(H,"cdnProxyUrl"),alc:F(J,"usePlayReadyHeaderObject",!1),A7a:F(I,"forceXhrErrorResponseCode",void 0),Mr:{Vvc:F(H,"mslApiPath","/msl/"),Bwc:F(H,"proxyPath",""),oz:F(H,"uiVersion"),Tga:F(H,"uiPlatform"),Psc:function(){return "0";},aCa:F(U,"preferredLanguages",g.eKa,/^[a-zA-Z-]{2,5}$/,1),SUb:F(H,L("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),aic:F(J,"supportPreviewContentPin",!0),bic:F(J,"supportWatermarking",!0),ygc:F(J,"showAllSubDubTracks",!1),$tc:F(J,L("failOnGuidMismatch"),!1)},Mea:{enabled:F(J,"qcEnabled",!1),zp:F(H,"qcPackageId","")},Gu:F(J,"useRangeHeader",!1),UX:F(J,"enableMilestoneEventList",!0),bIb:F(fa,"authenticationKeyNames",(0,p.Oe)({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),mic:F(H,"systemKeyWrapFormat"),sgc:F(J,"shouldSendUserAuthData",!0),kEa:F(J,"sendUserAuthIfRequired",la.kEa),mgc:F(J,"shouldClearUserData",!1),NS:F(J,"usesMsl",!0),J6b:F(J,"mslDeleteStore",!1),L6b:F(J,"mslPersistStore",!0),dMb:F(J,"correctNetworkForShortTitles",!0),W$b:F(J,"postplayHighInitBitrate",!1),gic:F(J,"supportsUnequalizedDownloadables",!0),y4a:F(I,L("debugAseDenominator"),100),p8:F(I,"aseAudioBufferSizeBytes",la.p8.ia(y.Yw)),t8:F(I,"aseVideoBufferSizeBytes",la.t8.ia(y.Yw)),nw:F(I,"minInitVideoBitrate",560),Yza:F(I,"minHCInitVideoBitrate",560),eC:F(I,"maxInitVideoBitrate",Infinity),z_:F(I,"minInitAudioBitrate",0),x_:F(I,"minHCInitAudioBitrate",0),k_:F(I,"maxInitAudioBitrate",65535),ada:F(I,"minAcceptableVideoBitrate",235),SF:F(I,"minRequiredBuffer",3E4),yk:F(I,"minPrebufSize",7800),eda:F(I,"minCheckBufferingCompleteInterval",999999),MCa:F(M,"rebufferingFactor",1),au:F(I,"maxBufferingTime",2600),KGa:F(J,"useMaxPrebufSize",!0),QF:F(I,"maxPrebufSize",45E3),Dza:F(I,"maxRebufSize",Infinity),yba:F(V,"initialBitrateSelectionCurve",null),Uab:F(I,"initSelectionLowerBound",560),Vab:F(I,"initSelectionUpperBound",1050),a2:F(I,"throughputPercentForAudio",15),Vpa:F(I,"bandwidthMargin",10),Wpa:F(J,"bandwidthMarginContinuous",!1),Xpa:F(V,"bandwidthMarginCurve",[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}]),Fra:F(I,"conservBandwidthMargin",20),GFa:F(J,"switchConfigBasedOnInSessionTput",!1),gX:F(I,"conservBandwidthMarginTputThreshold",0),Gra:F(V,"conservBandwidthMarginCurve",[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}]),snb:F(J,"switchAlgoBasedOnHistIQR",!1),GG:F(H,"switchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),Cza:F(K,"maxPlayerStateToSwitchConfig",-1),cza:F(H,"lowEndMarkingCriteria","none",/^(none|iqr|avg)$/),Aja:F(M,"IQRThreshold",.5),Jwa:F(H,"histIQRCalcToUse","simple"),bu:F(I,"maxTotalBufferLevelPerSession",0),RX:F(J,"enableCombinedPlaygraphs",!0),nJ:F(J,"enableAdPlaygraphs",!0),ofa:F(J,"retainSbrOnFade",!1),Ata:F(U,"excludedContentPlaygraphIds",[]),h$:F(J,"enableDiscontiguousBuffering",!1),oua:F(W,"forceImmediateTransitionTypeForTitles",[]),nua:F(I,"forceImmediateTransitionExitZone",0),bha:F(J,"useBufferSizeLimiter",!1),JGa:F(J,"useLegacyFragmentRounding",!1),nab:F(I,"highWatermarkLevel",3E4),bob:F(I,"toStableThreshold",3E4),Iga:F(I,"toUnstableThreshold",la.Iga.ia(z.va)),ZEa:F(J,"skipBitrateInUpswitch",!1),aHa:F(I,"watermarkLevelForSkipStart",8E3),kba:F(I,"highStreamRetentionWindow",9E4),Bca:F(I,"lowStreamTransitionWindow",51E4),Fwa:F(I,"highStreamRetentionWindowUp",3E5),eza:F(I,"lowStreamTransitionWindowUp",3E5),Ewa:F(I,"highStreamRetentionWindowDown",6E5),dza:F(I,"lowStreamTransitionWindowDown",0),Dwa:F(M,"highStreamInfeasibleBitrateFactor",.5),$B:F(I,"lowestBufForUpswitch",15E3),$Z:F(I,"lockPeriodAfterDownswitch",15E3),gza:F(I,"lowWatermarkLevel",25E3),xy:F(I,"lowestWaterMarkLevel",2E4),hza:F(J,"lowestWaterMarkLevelBufferRelaxed",!1),Wca:F(M,"mediaRate",1),Oca:F(I,"maxTrailingBufferLen",1E4),yW:F(I,"audioBufferTargetAvailableSize",262144),z2:F(I,"videoBufferTargetAvailableSize",1048576),zeb:F(I,"maxVideoTrailingBufferSize",8388608),ceb:F(I,"maxAudioTrailingBufferSize",393216),A$:F(M,"fastUpswitchFactor",3),Jta:F(M,"fastDownswitchFactor",1),jw:F(I,"maxMediaBufferAllowed",24E4),WEa:F(J,"simulatePartialBlocks",!0),gmb:F(J,"simulateBufferFull",!0),Hra:F(J,"considerConnectTime",!1),Era:F(M,"connectTimeMultiplier",1),Bdb:F(I,"lowGradeModeEnterThreshold",12E4),Cdb:F(I,"lowGradeModeExitThreshold",9E4),feb:F(I,"maxDomainFailureWaitDuration",3E4),beb:F(I,"maxAttemptsOnFailure",18),D6a:F(J,"exhaustAllLocationsForFailure",!0),neb:F(I,"maxNetworkErrorsDuringBuffering",20),Gca:F(I,"maxBufferingTimeAllowedWithNetworkError",12E4),M6a:F(I,"fastDomainSelectionBwThreshold",2E3),Gnb:F(I,"throughputProbingEnterThreshold",4E4),Hnb:F(I,"throughputProbingExitThreshold",34E3),rdb:F(I,"locationProbingTimeout",1E4),T6a:F(I,"finalLocationSelectionBwThreshold",1E4),Enb:F(M,"throughputHighConfidenceLevel",.75),Fnb:F(M,"throughputLowConfidenceLevel",.4),h6a:F(J,"enablePerfBasedLocationSwitch",!1),Aw:F(J,"probeServerWhenError",!0),mCa:F(I,"probeRequestTimeoutMilliseconds",8E3),MA:F(J,"allowSwitchback",!0),xR:F(I,"probeDetailDenominator",100),Hca:F(I,"maxDelayToReportFailure",300),Oya:F(I,"locationStatisticsUpdateInterval",6E4),A3a:F(J,"countGapInBuffer",!1),Z_a:F(J,"allowCallToStreamSelector",!0),u1a:F(I,"bufferThresholdForAbort",1E4),u5b:F(I,"maxResponsesInitialTput",6),a6a:F(J,"enableInitialTputLogging",!1),FBa:F(I,"pipelineScheduleTimeoutMs",2),fC:F(I,"maxPartialBuffersAtBufferingStart",2),Eza:F(I,"maxStreamingSkew",4E3),Aza:F(I,"maxPendingBufferPercentage",10),hba:F(I,"headerRequestSize",4096),nta:F(J,"estimateHeaderSize",!1),w_:F(I,"minBufferLenForHeaderDownloading",1E4),a1:F(I,"reserveForSkipbackBufferMs",1E4),CAa:F(I,"numExtraFragmentsAllowed",2),mj:F(J,"pipelineEnabled",!1),qmb:F(I,"socketReceiveBufferSize",0),A8:F(I,"audioSocketReceiveBufferSize",32768),RS:F(I,"videoSocketReceiveBufferSize",65536),Bwa:F(I,"headersSocketReceiveBufferSize",32768),Zga:F(I,"updatePtsIntervalMs",1E3),iqa:F(I,"bufferTraceDenominator",100),PW:F(I,"bufferLevelNotifyIntervalMs",2E3),sO:F(I,"aseReportDenominator",0),r8:F(I,"aseReportIntervalMs",3E5),ORb:F(J,"enableAbortTesting",!1),lFb:F(I,"abortRequestFrequency",8),xFa:F(I,"streamingStatusIntervalMs",2E3),wC:F(I,"prebufferTimeLimit",24E4),dda:F(I,"minBufferLevelForTrackSwitch",2E3),xBa:F(I,"penaltyFactorForLongConnectTime",2),$ya:F(I,"longConnectTimeThreshold",200),kpa:F(I,"additionalBufferingLongConnectTime",2E3),lpa:F(I,"additionalBufferingPerFailure",8E3),I0:F(I,"rebufferCheckDuration",6E4),e6a:F(J,"enableLookaheadHints",!1),zdb:F(I,"lookaheadFragments",2),VE:F(J,"enableOCSideChannel",!0),a5:F(N,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),Vob:F(J,"updateDrmRequestOnNetworkFailure",!1),R4a:F(J,"deferAseScheduling",!1),eeb:F(I,"maxDiffAudioVideoEndPtsMs",16E3),K9:F(I,"defaultHeaderCacheSize",4),J9:F(I,"defaultHeaderCacheDataPrefetchMs",8E3),wda:F(J,"neverWipeHeaderCache",!0),jAa:F(I,"networkFailureResetWaitMs",2E3),iAa:F(I,"networkFailureAbandonMs",6E4),Nca:F(I,"maxThrottledNetworkFailures",3),Aga:F(I,"throttledNetworkFailureThresholdMs",200),fza:F(K,"lowThroughputThreshold",400),zta:F(J,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),qfb:F(J,"mp4ParsingInNative",!1),tmb:F(J,"sourceBufferInOrderAppend",!0),hL:F(J,"requireAudioStreamToEncompassVideo",!0),Y_a:F(J,"allowAudioToStreamPastVideo",!0),jj:F(J,"enableManagerDebugTraces",!1),Odb:F(I,"managerDebugMessageInterval",1E3),Ndb:F(I,"managerDebugMessageCount",20),cgb:F(J,"notifyManifestCacheEom",!1),hqa:F(I,"bufferThresholdToSwitchToSingleConnMs",18E4),gqa:F(I,"bufferThresholdToSwitchToParallelConnMs",12E4),lea:F(I,"periodicHistoryPersistMs",3E5),Afa:F(I,"saveVideoBitrateMs",18E4),m0a:F(J,"appendMediaRequestOnComplete",!0),qha:F(J,"waitForDrmToAppendMedia",!1),P$:F(J,L("forceAppendHeadersAfterDrm"),!1),QUb:F(J,L("forceAppendEncryptedStreamHeaderFirst"),!0),Pbc:F(J,L("reappendRequestsOnSkip"),!1),P6b:F(I,"netIntrStoreWindow",36E3),l6b:F(I,"minNetIntrDuration",8E3),ATb:F(I,"fastHistoricBandwidthExpirationTime",10368E3),kIb:F(I,"bandwidthExpirationTime",5184E3),yTb:F(I,"failureExpirationTime",86400),X_b:F(I,"historyTimeOfDayGranularity",4),jTb:F(J,"expandDownloadTime",!1),y6b:F(I,"minimumMeasurementTime",500),x6b:F(I,"minimumMeasurementBytes",131072),Iic:F(I,"throughputMeasurementTimeout",2E3),b1b:F(I,"initThroughputMeasureDataSize",262144),Jic:F(H,"throughputPredictor","ewma"),Hic:F(I,"throughputMeasureWindow",5E3),Nic:F(I,"throughputWarmupTime",5E3),Gic:F(I,"throughputIQRMeasureWindow",5E3),Cvb:F(I,"IQRBucketizerWindow",15E3),KLb:F(I,"connectTimeHalflife",10),Jdc:F(I,"responseTimeHalflife",10),W_b:F(I,"historicBandwidthUpdateInterval",2E3),w6b:F(I,"minimumBufferToStopProbing",1E4),WDa:F(H,"secondThroughputEstimator","none"),Qkb:F(K,"secondThroughputMeasureWindowInMs",Infinity),XRb:F(U,"enableFilters",("throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy").split(" ")),WTb:F(N,"filterDefinitionOverrides",{}),HPb:F(H,"defaultFilter","throughput-ewma"),xec:F(H,"secondaryFilter","none"),IPb:F(N,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),E_:F(J,"needMinimumNetworkConfidence",!0),$pa:F(J,"biasTowardHistoricalThroughput",!0),Zoa:F(J,"addHeaderDataToNetworkMonitor",!1),gFa:F(J,"startMonitorOnLoadStart",!1),fDa:F(J,"reportFailedRequestsToNetworkMonitor",!1),Ica:F(K,"maxFastPlayBufferInMs",Infinity),xza:F(K,"maxFastPlayBitThreshold",Infinity),vpa:F(J,"appendFirstHeaderOnComplete",!0),nHb:F(H,"ase_stream_selector","optimized"),ixa:F(H,"initBitrateSelectorAlgorithm","default"),mqa:F(H,"bufferingSelectorAlgorithm","default"),z4a:F(H,"ase_ls_failure_simulation",""),jsa:F(J,"ase_dump_fragments",!1),ksa:F(I,"ase_location_history",0),A4a:F(I,"ase_throughput",0),C4a:F(J,"ase_simulate_verbose",!1),R$b:F(I,"pollingPeriod",150),g4b:F(I,"loadTimeMs",18E4),Y4b:F(I,"marginTimeMs",1E4),Vua:F(J,"getDeviceIdFromBindDevice",!1),Yoa:F(J,"addFailedLogBlobsToQueue",!0),Pjc:{"content-sampling":{au:F(I,"contentSamplingMaxBufferingTime",3E3),WR:F(H,"contentSamplingSelectStartingVMAFMethod","fallback"),hW:F(J,"contentSamplingActivateSelectStartingVMAF",!0),ow:F(I,"contentSamplingMinStartingVideoVMAF",80),v_:F(I,"contentSamplingMinAcceptableVMAF",70),AK:F(I,"contentSamplingMinAllowedVmaf",60)},billboard:{nw:F(I,"billboardMinInitVideoBitrate",1050),eC:F(I,"billboardMaxInitVideoBitrate",null),yk:F(I,"billboardMinPrebufSize",null),QF:F(I,"billboardMaxPrebufSize",null),au:F(I,"billboardMaxBufferingTime",null),fC:F(I,"billboardMaxPartialBuffersAtBufferingStart",null),xy:F(I,"billboardLowestWaterMarkLevel",6E3),$B:F(I,"billboardLowestBufForUpswitch",25E3),GG:F(H,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/)},preplay:{nw:F(I,"preplayMinInitVideoBitrate",1050),eC:F(I,"preplayMaxInitVideoBitrate",null),yk:F(I,"preplayMinPrebufSize",null),QF:F(I,"preplayMaxPrebufSize",null),au:F(I,"preplayMaxBufferingTime",null),fC:F(I,"preplayMaxPartialBuffersAtBufferingStart",null),xy:F(I,"preplayLowestWaterMarkLevel",6E3),$B:F(I,"preplayLowestBufForUpswitch",25E3)},embedded:{nw:F(I,"embeddedMinInitVideoBitrate",1050),eC:F(I,"embeddedMaxInitVideoBitrate",null),yk:F(I,"embeddedMinPrebufSize",null),QF:F(I,"embeddedMaxPrebufSize",null),au:F(I,"embeddedMaxBufferingTime",null),fC:F(I,"embeddedMaxPartialBuffersAtBufferingStart",null),xy:F(I,"embeddedLowestWaterMarkLevel",6E3),$B:F(I,"embeddedLowestBufForUpswitch",25E3)},"video-merch-bob-horizontal":{nw:F(I,"videoMerchBobHorizontalMinInitVideoBitrate",null),eC:F(I,"videoMerchBobHorizontalMaxInitVideoBitrate",null),yk:F(I,"videoMerchBobHorizontalMinPrebufSize",null),QF:F(I,"videoMerchBobHorizontalMaxPrebufSize",null),au:F(I,"videoMerchBobHorizontalMaxBufferingTime",null),fC:F(I,"videoMerchBobHorizontalMaxPartialBuffersAtBufferingStart",null),xy:F(I,"videoMerchBobHorizontalLowestWaterMarkLevel",null),$B:F(I,"videoMerchBobHorizontalLowestBufForUpswitch",null)},"mini-modal-horizontal":{nw:F(I,"miniModalHorizontalMinInitVideoBitrate",null),eC:F(I,"miniModalHorizontalMaxInitVideoBitrate",null),yk:F(I,"miniModalHorizontalMinPrebufSize",null),QF:F(I,"miniModalHorizontalMaxPrebufSize",null),au:F(I,"miniModalHorizontalMaxBufferingTime",500),fC:F(I,"miniModalHorizontalMaxPartialBuffersAtBufferingStart",null),xy:F(I,"miniModalHorizontalLowestWaterMarkLevel",null),$B:F(I,"miniModalHorizontalLowestBufForUpswitch",null)},live:{}},vSb:F(J,"enableVerbosePlaydelayLogging",!1),pSb:F(J,"enableSeamless",!1),Iwa:F(I,"hindsightDenominator",0),Hwa:F(I,"hindsightDebugDenominator",0),mba:F(N,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),VX:F(J,"enableSessionHistoryReport",!1),Vsa:F(I,"earlyStageEstimatePeriod",1E4),Ucb:F(I,"lateStageEstimatePeriod",3E4),Lca:F(I,"maxNumSessionHistoryStored",30),jda:F(I,"minSessionHistoryDuration",3E4),Dy:F(I,"maxActiveRequestsPerSession",3),Eca:F(I,"maxActiveRequestsSABCell100",2),Fya:F(J,"limitAudioDiscountByMaxAudioBitrate",!0),we:F(N,"browserInfo",{}),$Ib:F(I,L("busyGracePeriod"),199),Yec:F(J,L("sendTransitionLogblob"),!0),DRb:F(J,L("editVideoFragments"),!0),e$:F(J,L("earlyAppendSingleChildBranch"),!0),I0b:F(J,L("includeSegmentInfoOnLogblobs"),!0),pTb:F(J,"exposeTestData",!1),oTb:F(J,L("exposeErrorData"),!1),lsa:F(J,"declareBufferingCompleteAtSegmentEnd",!0),AI:F(J,L("applyProfileTimestampOffset"),!1),Dm:F(J,L("applyProfileStreamingOffset"),!1),s_:F(J,L("mediaSourceSupportsNegativePts"),!1),OGb:F(J,L("allowSmallSeekDelta"),!1),Ogc:F(I,L("smallSeekDeltaThresholdMilliseconds"),t.A5),TRb:F(J,"enableCDMAttestedDescriptors",!1),ifa:F(J,"requireDownloadDataAtBuffering",!1),jfa:F(J,"requireSetupConnectionDuringBuffering",!1),OCa:F(J,"recordFirstFragmentOnSubBranchCreate",!1),LIb:F(J,"branchingAudioTrackFrameDropSmallSeekFix",!0),ypb:F(J,"useMobileVMAF",!1),$4a:F(H,"desiredVMAFTypeMobile","phone_plus_lts"),a5a:F(H,"desiredVMAFTypeNonMobile","plus_lts"),hW:F(J,"activateSelectStartingVMAF",!1),ow:F(I,"minStartingVideoVMAF",1),v_:F(I,"minAcceptableVMAF",1),AK:F(I,"minAllowedVmaf",1),RGb:F(J,"alwaysNotifyEOSForPlaygraph",!0),j$:F(J,"enableNewAse",!0),dha:F(J,"useNewApi",!0),Fca:F(I,"maxAllowedOutstandingRequests",4),pO:F(J,"alwaysRunUnderflowTimer",!0),Zza:F(I,"minStreamableConcurrencyWindow",3E3),uFa:F(M,"streamableConcurrencyFactor",.3),SW:F(I,"bufferingConcurrencyWindow",7800),Hgc:F(J,"singleStreamablePerBranch",!0),k$:F(J,"enableResolutionVMAFStreamFilter",!1),nfa:F(N,"resolutionVMAFCappingRuleList",{}),ABa:F(K,"percentCapTitlesForResolutionVMAFStreamFilter",100),KQb:F(J,"disableSkipping",!1),cha:F(J,"useHLSPlayer",la.cha),HGa:F(J,L("useExitZones"),!0),qdc:F(J,"requestSegmentVmaf",!1),kR:F(N,"perFragmentVMAFConfig",{enabled:!1}),iBa:F(I,"paddingDurationMs",1E3),jBa:F(H,"paddingMediaType","padding"),qnb:F(J,"supportsPtsChanged",!1),eac:F(J,L("preferUnletterboxed"),!1),b6a:F(J,"enableKeySystemRestrictor",!1),YSb:F(I,"errorEventToRestrict",2),XSb:F(W,"errorCodesToRestrict",[7353,7361,7377,7701,7702,7703,7717]),WSb:F(W,"errorCodesToCache",[7353,7361,7377,7701,7702,7703,7717]),U5a:F(J,"enableCachedErrors",!1),jJb:F(I,"cachedErrorCountLimit",20),lJb:F(I,"cachedErrorExpirationSeconds",604800),mJb:F(I,"cachedErrorsStorageTimeoutSeconds",2E3),WZ:F(I,"liveTargetBufferDuration",1E4),sca:F(I,"liveEdgeCushion",6E3),R3b:F(K,"liveEdgeThreshold",1E4),lua:F(J,"forceDisableLiveUI",!1),mua:F(W,"forceDisableLiveUIByMovieIds",[]),RUb:F(K,"forceAstRelativeLiveBookmark",void 0),TUb:F(K,"forceEstRelativeLiveBookmark",void 0),khc:F(K,"startSlateMs",void 0),U3b:F(K,"liveSlateMs",void 0)};R=!0;b.Dra=function(ha){var wa,va,Ea;wa=d.Ha.get(A.jd).id;if(0 < b.config.vdb && 0 === wa % b.config.vdb)try{va=d.Ha.get(w.Do);Ea=d.Ha.get(u.Pz).Dv("config","info",{params:ha});va.Dc(Ea);}catch(Ya){d.log.error("Failed to log config$apply",Ya);}mb._cad_global.config=b.config;(0,h.ya)(ha);ha && (Qa=(0,p.Oe)({},ha,{e_:!0}),(0,p.Oe)(Qa,Z,{e_:!0}),G(sa,b.config),Qa.istestaccount && d.log.trace("Config applied for",qa(R?Qa:ha)),R=!1);};(0,b.Dra)(Qa);};b.k9=function(D){D=c(D);return (0,p.Oe)({},a(178)(D),{Yda:!0});};b.h3a=function(D,E,G){G=!!G && (0 <= G.indexOf("h264hpl") || 0 <= G.indexOf("vp9") || 0 <= G.indexOf("av1"));D={Hy:D?b.config.g6b:b.config.Hy,jC:D?b.config.p6b:G?b.config.r6b:b.config.jC,e$:!E};return (0,p.Oe)({},a(178)(D),{Yda:!0});};b.HLb=c;b.GLb=l;},function(r,b,a){var l;function c(g,m){return g && m?Math.abs(g * m / (0,l.eF)(g,m)):0;}Object.defineProperties(b,{__esModule:{value:!0}});b.N=void 0;l=a(402);r=(function(){function g(m,d){"object" === typeof m?(this.Bc=m.Ea,this.ob=m.W):(this.Bc=m,this.ob=d);isFinite(this.Bc) || (this.ob=1);}g.compare=function(m,d){return m.Fm(d);};g.abs=function(m){return new g(Math.abs(m.Bc),m.ob);};g.Na=function(m){return 0 === m?g.Oa:new g(m,1E3);};g.Hga=function(m,d){return Math.floor(1E3 * m / d);};g.sfb=function(m,d){return Math.floor(m * d / 1E3);};g.max=function(){for(var m=[],d=0;d < arguments.length;d++){m[d]=arguments[d];}return m.reduce(function(f,h){return f.greaterThan(h)?f:h;});};g.min=function(){for(var m=[],d=0;d < arguments.length;d++){m[d]=arguments[d];}return m.reduce(function(f,h){return f.lessThan(h)?f:h;});};g.eF=function(m,d){var f;if(m.ob === d.ob)return new g((0,l.eF)(m.Bc,d.Bc),m.ob);f=c(m.ob,d.ob);return new g((0,l.eF)(m.Bc * f / m.ob,d.Bc * f / d.ob),f);};Object.defineProperties(g.prototype,{Ea:{get:function(){return this.Bc;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{W:{get:function(){return this.ob;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Z:{get:function(){return g.Hga(this.Bc,this.ob);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{xC:{get:function(){return 1E3 * this.Bc / this.ob;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{lL:{get:function(){var m;m=this.xC;return 0 > m?Math.ceil(m):Math.floor(m);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ui:{get:function(){return this.Bc / this.ob;},enumerable:!1,configurable:!0}});g.prototype.Yf=function(m){m/=this.ob;return new g(Math.floor(this.Bc * m),Math.floor(this.ob * m));};g.prototype.add=function(m){var d;if(this.ob === m.ob)return new g(this.Bc + m.Bc,this.ob);d=c(this.ob,m.ob);return new g(this.Bc * d / this.ob + m.Bc * d / m.ob,d);};g.prototype.Ga=function(m){var d;if(this.ob === m.ob)return new g(this.Bc - m.Bc,this.ob);d=c(this.ob,m.ob);return new g(this.Bc * d / this.ob - m.Bc * d / m.ob,d);};g.prototype.Iy=function(m){return new g(this.Bc * m,this.ob);};g.prototype.kk=function(m){var d;if("number" === typeof m){if(Math.floor(m) === m){d=c(this.Bc,m);if(d !== this.Bc)return this.Yf(d / this.Bc * this.ob).kk(m);}return new g(Math.floor(this.Bc / m),this.ob);}if(this.ob === m.ob)return this.Bc / m.Bc;d=c(this.ob,m.ob);return this.Bc * d / this.ob / (m.Bc * d / m.ob);};g.prototype.YO=function(m){var d;if(this.ob === m.ob)return new g(Math.abs(this.Bc - m.Bc),this.ob);d=c(this.ob,m.ob);return new g(Math.abs(this.Bc * d / this.ob - m.Bc * d / m.ob),d);};g.prototype.rjb=function(){return new g(this.ob,this.Bc);};g.prototype.compare=function(m,d){var f;if(this.ob === d.ob)return m(this.Bc,d.Bc);f=c(this.ob,d.ob);return m(this.Bc * f / this.ob,d.Bc * f / d.ob);};g.prototype.Fm=function(m){var d;if(this.ob === m.ob)return this.Ea === m.Bc?0:this.Bc - m.Bc;d=c(this.ob,m.ob);return this.Bc * d / this.ob - m.Bc * d / m.ob;};g.prototype.equal=function(m){return this.compare(function(d,f){return d === f;},m);};g.prototype.Dda=function(m){return this.compare(function(d,f){return d !== f;},m);};g.prototype.lessThan=function(m){return this.compare(function(d,f){return d < f;},m);};g.prototype.greaterThan=function(m){return this.compare(function(d,f){return d > f;},m);};g.prototype.JF=function(m){return this.compare(function(d,f){return d <= f;},m);};g.prototype.mk=function(m){return this.compare(function(d,f){return d >= f;},m);};g.prototype.isFinite=function(){return !!this.ob && isFinite(this.Bc);};g.prototype.w$a=function(m){return c(this.W,m);};g.prototype.toJSON=function(){return {ticks:this.Bc,timescale:this.ob};};g.prototype.toString=function(){return ("").concat(this.Bc,"/").concat(this.ob);};g.prototype.Fb=function(){return ("").concat(this.Bc,"/").concat(this.ob," (").concat(this.Z,"ms)");};g.Oa=new g(0,1E3);g.oC=new g(1,1E3);g.Qt=new g(Infinity,1);return g;})();b.N=r;},function(r,b,a){var l;function c(g){return g.filter(function(m,d){return g.indexOf(m) === d;});}Object.defineProperties(b,{__esModule:{value:!0}});b.w0a=b.Cda=b.UZb=b.eMb=b.flatten=b.Yeb=b.vLb=b.o8=b.uv=b.y0a=b.wW=b.Cpa=b.ht=b.Dpa=b.Qc=void 0;l=a(0);b.Qc=function(g,m){for(var d=0;d < g.length;d++){if(m(g[d],d,g))return g[d];}};b.Dpa=function(g,m){for(var d=g.length - 1;0 <= d;--d){if(m(g[d],d,g))return g[d];}};b.ht=function(g,m){var d;d=-1;return g.some(function(f,h,k){d=h;return m(f,h,k);})?d:-1;};b.Cpa=function(g,m){for(var d=g.length - 1;0 <= d;d--){if(m(g[d],d,g))return d;}return -1;};b.wW=c;b.y0a=function(g,m){m=g.indexOf(m);if(-1 === m)return !1;g.splice(m,1);return !0;};b.uv=function(g,m,d){return d?g.filter(function(f){return !m.some(function(h){return d(f,h);});}):g.filter(function(f){return -1 === m.indexOf(f);});};b.o8=function(g,m){return c(g.concat(m));};b.vLb=function(g){return function(m,d){return g(m) - g(d);};};b.Yeb=function(g){return function(m,d){return g(m) < g(d)?m:d;};};b.flatten=function(g){var m;return (m=[]).concat.apply(m,l.__spreadArray([],l.__read(g),!1));};b.eMb=function(g,m){void 0 === m && (m=function(d){return d;});return g.reduce(function(d,f){f=m(f);return (void 0 === d[f]?d[f]=1:++d[f],d);},{});};b.UZb=function(g,m){return g.reduce(function(d,f){var h;h=m(f);return (void 0 === d[h]?d[h]=[f]:d[h].push(f),d);},{});};b.Cda=function(g){return null !== g && void 0 !== g;};b.w0a=function(g){var m,f;m=[];if(Array.isArray(g))for(var d=0;d < g.length;d++){f=g[d];Array.isArray(f)?m=m.concat(f.filter(function(h){return void 0 !== h;})):void 0 !== f && m.push(f);}return m;};},function(r,b,a){var g,m,d;function c(){d || (d=g.Ha.get(m.Fz));return d;}function l(f,h){return c().assert(f,h);}Object.defineProperty(b,"__esModule",{value:!0});b.oPb=b.isa=b.hPb=b.lPb=b.UO=b.vX=b.kPb=b.mPb=b.wX=b.x4a=b.jPb=b.iPb=b.ya=b.nPb=b.srb=void 0;g=a(9);m=a(111);b.srb=function(){l(!1);};b.nPb=!0;d=void 0;b.ya=l;b.iPb=function(f,h){return c().rHb(f,h);};b.jPb=function(f,h){return c().sHb(f,h);};b.x4a=function(f,h){return c().v8(f,h);};b.wX=function(f,h){return c().yHb(f,h);};b.mPb=function(f,h){return c().wHb(f,h);};b.kPb=function(f,h){return c().u8(f,h);};b.vX=function(f,h){return c().uHb(f,h);};b.UO=function(f,h){return c().xHb(f,h);};b.lPb=function(f,h){return c().vHb(f,h);};b.hPb=function(f,h){return c().qHb(f,h);};b.isa=function(f,h){return c().tHb(f,h);};b.oPb=function(){return c().y1b();};},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});b.$Lb=b.B7a=b.Sn=b.rg=b.lLb=b.mf=b.yy=b.trim=b.Lwa=b.bnb=b.Rib=b.w9b=b.Ak=b.z0a=b.T1a=b.Oe=b.zh=void 0;c=a(22);l=a(14);g=a(15);b.zh=function(m,d){for(var f in m){m.hasOwnProperty(f) && d(f,m[f]);}};b.Oe=b.Oe || (function(m,d,f){var h,k,n;if(d)if(f){h=f.e_;k=f.prefix;n=f.Yda;(0,b.zh)(d,function(p,q){if(!n || (0,g.xd)(q))m[(k || "") + (h?p.toLowerCase():p)]=q;});}else (0,b.zh)(d,function(p,q){m[p]=q;});return m;});b.T1a=function(m,d,f,h){var k;if(m){k=m[d];(0,g.qd)(k) && (f=k.apply(m,l.slice.call(arguments,3)));}return f;};b.z0a=function(m){for(var d={},f=m.length;f--;){d[m[f]]=!0;}return d;};b.Ak=b.Ak || (function(m){return parseInt(m,10);});b.w9b=function(m){return (/^true$/i).test(m);};b.Rib=function(m,d){return (0,l.Mp)(m + (0,l.eU)() * (d - m));};b.bnb=function(m){return JSON.stringify(m,null,"  ");};b.Lwa=(function(){var d,f;function m(h){(0,c.ya)(void 0 !== d[h]);return d[h];}d={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};f=/[&'"<>]/g;return function(h){return h.replace(f,m);};})();b.trim=(function(){var m;m=/^\s+|\s+$/gm;return function(d){return d.replace(m,"");};})();b.yy=function(m){return Array.isArray(m)?m:[m];};b.mf=b.mf || (function(m){var d,f,h;if(m){d=m.stack;f=m.number;h=m.message;h || (h="" + m);d?(m="" + d,0 != m.indexOf(h) && (m=h + "\n" + m)):m=h;f && (m+="\nnumber:" + f);return m;}});b.lLb=function(m){var h;for(var d=0;d < arguments.length;++d){;}d=0;for(var f=arguments.length;d < f;){h=arguments[d++];if((0,g.xd)(h))return h;}};b.rg=function(m){return (0,g.Qa)(m)?m.toFixed(0):"";};b.Sn=function(m){return (0,g.Qa)(m)?(m / 1E3).toFixed(0):"";};b.B7a=function(m){return (0,g.Qa)(m)?m.toFixed():"";};b.$Lb=function(m){for(var d=[],f=0;f < m.length;f++){d[f]=m[f];}return d;};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(102);b.M=!1;r=(function(){function l(g,m,d,f,h){this.Xb=g;this.type=m;this.byteOffset=d;this.byteLength=f;this.parent=h;this.ve={};this.OK=f;}l.zB=function(g,m){var f,k;function d(n){n && n.zB && (n=n.zB(m),n.length && (f=f.concat(n)));}f=[];g.type === m && f.push(g);if(g.ve)for(var h in g.ve){k=g.ve[h];Array.isArray(k) && k.forEach(d);}return f;};l.oW=function(g,m){void 0 === g.ve[m.type] && (g.ve[m.type]=[]);g.ve[m.type].push(m);};l.vq=function(g,m){return l.zB(g,m)[0];};Object.defineProperties(l.prototype,{startOffset:{get:function(){return this.byteOffset;},enumerable:!0,configurable:!0}});Object.defineProperties(l.prototype,{length:{get:function(){return this.byteLength;},enumerable:!0,configurable:!0}});Object.defineProperties(l.prototype,{R:{get:function(){return this.Xb;},enumerable:!0,configurable:!0}});l.prototype.Rh=function(){var g;g=this.Xb.jc();this.version=g >> 24;this.flags=g & 16777215;};l.prototype.oW=function(g){l.oW(this,g);};l.prototype.zB=function(g){return l.zB(this,g);};l.prototype.vq=function(g){return l.vq(this,g);};l.prototype.parse=function(){return !0;};l.prototype.sJ=function(){return !0;};l.prototype.Vq=function(g){if((g=this.ve[g]) && Array.isArray(g) && 1 === g.length)return g[0];};l.prototype.jo=function(g,m){m=void 0 === m?this.Xb.offset:m;c.assert(m >= this.startOffset + 8 && m + g <= this.startOffset + this.OK,"Removal range [0x" + m.toString(16) + "-0x" + (m + g).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.OK).toString(16) + ")");this.Xb.jo(g,m,this);};l.prototype.ffa=function(g,m,d){d=void 0 === d?this.Xb.offset:d;c.assert(d >= this.startOffset + 8 && d + g <= this.startOffset + this.OK,"Removal range [0x" + d.toString(16) + "-0x" + (d + g).toString(16) + ") must be in box [0x" + this.startOffset.toString(16) + "-0x" + (this.startOffset + this.OK).toString(16) + ")");this.Xb.ffa(g,m,d,this);};l.prototype.fjb=function(g,m,d){if(1 < d){for(var f=[];0 < d--;){f.push(this.pZa(g,m));}return f;}return this.pZa(g,m);};l.prototype.Yy=function(g){var m,d;d=this;void 0 === m && (m={});g.forEach(function(f){var h,k;if("offset" === f.type){h=f.offset;if(0 < h % 8)throw Error("Requested offset " + f.offset + "is not an even byte multiple");d.Xb.offset+=h / 8;}else for(h in f){k=f[h];m[h]="string" === typeof k?d.fjb(k):d.fjb(k.type,k.length,k.gHb);}});return m;};l.prototype.pZa=function(g,m){var d;d=this.byteLength - this.Xb.offset + this.startOffset;"undefined" === typeof m && (m=d);switch(g){case "int8":g=this.Xb.Md();break;case "int64":g=this.Xb.im();break;case "int32":g=this.Xb.jc();break;case "int16":g=this.Xb.Dh();break;case "string":g=this.Xb.Gbc(Math.min(m,d));break;default:throw Error("Invalid type: " + g);}return g;};l.wd=!1;return l;})();b.Ag=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ug="IsTypeSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hz=b.zWa=b.czb=b.cr=b.Jf=b.sn=b.Xw=b.u=void 0;(function(a){a[a.Audio=0]="Audio";a[a.rWa=1]="Video";})(b.u || (b.u={}));(function(a){a[a.Gz=0]="Default";a[a.Tz=1]="Microsoft";})(b.Xw || (b.Xw={}));(function(a){a[a.Gz=0]="Default";a[a.kM=1]="Chrome";a[a.Tz=2]="Microsoft";})(b.sn || (b.sn={}));(function(a){a[a.BU=0]="SD";a[a.W3=1]="HD";a[a.YM=2]="UHD";a[a.$w=3]="DV";a[a.uM=4]="HDR10";a[a.iD=5]="AVCHigh";a[a.JD=6]="VP9";a[a.Fl=7]="AV1";})(b.Jf || (b.Jf={}));(function(a){a[a.P4=0]="Level_1_4";a[a.nH=1]="Level_2_2";})(b.cr || (b.cr={}));b.czb=function(){};(function(a){a[a.Bqc=0]="Platform";a[a.Qnc=1]="CurrentTitle";})(b.zWa || (b.zWa={}));b.Hz="DeviceCapabilitiesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Hh="ClockSymbol";},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.xla=b.wj=b.Kc=void 0;c=a(0);l=a(929);g=a(21);(function(m){m[m.zl=0]="startPlayback";m[m.el=1]="endPlayback";m[m.hn=2]="underflow";})(b.Kc || (b.Kc={}));b.wj={xu:"startplay",iC:"midplay",wB:"endplay",uZ:"intrplay",bB:"chgstrm",nR:"playbackaborted",R0:"renderstrmswitch",qG:"repos",Hw:"resumeplay",J1:"statechanged",BI:"aseReport"};r=(function(){function m(d){this.config=d;this.fL=[];}m.prototype.ag=function(d){var f,h;h=c.__read(this.config.kHb.filter(function(k){return k.he === d.he;}),1)[0];this.config.RRb && (null !== (f=null === h || void 0 === h?void 0:h.enabled) && void 0 !== f?f:d.enabled)?this.fL.push(d):d.Wa && d.Wa();};m.prototype.OYb=function(d){return (0,g.Qc)(this.fL,function(f){return f.he === d.he;});};m.prototype.il=function(d,f){var h,k,n,v,t;k={};n=[];try{for(var p=c.__values(this.fL),q=p.next();!q.done;q=p.next()){v=q.value;try{t=v.il({Pg:d,MF:f});t && (v.eu?k[v.eu]=t:k=c.__assign(c.__assign({},k),t));}catch(u){n.push(Error(("").concat(v.he,"::").concat(u)));}}}catch(u){var w;w={error:u};}finally{try{q && !q.done && (h=p.return) && h.call(p);}finally{if(w)throw w.error;}}n.length && (k["rpt-error"]=l.Qha.stringify(new l.Qha("Reporting error",n)));return k;};return m;})();b.xla=r;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(76);b.default={qnc:{nx:0,Qqc:1,name:["STARTUP","STEADY"]},p4:{Yh:0,Pqc:1,Zyb:2,name:["STARTING","STABLE","UNSTABLE"]},$d:{T:r.u.T,J:r.u.J,Za:r.u.Za,name:["AUDIO","VIDEO","TEXT"]},opc:{T:r.u.T,J:r.u.J,Za:r.u.Za,name:["AUDIO","VIDEO","TEXT"]},Wh:{URL:0,DH:1,LOCATION:2,Vz:3,name:["URL","SERVER","LOCATION","NETWORK"]},Yj:{HAVE_NOTHING:0,qD:1,pD:2,IT:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},lx:{Wmc:0,Ooc:1,sqc:2,Ppc:3,mqc:4,qrc:5,Toc:6,npc:7,nx:8,Bg:9,Ika:10,Jxb:11,hia:12,Jvb:13,Ivb:14,qyb:15,pyb:16,Ovb:17,Hyb:18,name:("maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway manifestadded switchlivedvr").split(" ")},qoc:{Vz:0,Rnc:1,name:["NETWORK","DECODE"]},Nqc:{Snc:"delayedSeamless",apc:"hideLongTransition"}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Di="UtilitiesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Yi="Base64EncoderSymbol";},function(r,b,a){var m,d;function c(f,h){return f && f.gw && (h || !1 !== f.Ov);}function l(f,h,k){return !m.Qa(f) || f < h?h:f > k?k:f;}function g(f){if(!(this instanceof g))return new g(f);this.Ce=m.Qa(f)?f:void 0;}m=a(11);d=new (a(3).default.Console)("ASEJS_STREAM_SELECTOR","media|asejs");r.exports={console:d,debug:!1,assert:function(f,h){if(!f)throw (f=h?" : " + h:"",d.error("Assertion failed" + f),Error("ASEJS_STREAM_SELECTOR assertion failed" + f));},gK:c,$ta:function(f,h,k){var p,q,v,t;function n(w){var u;u=f[w];if(!u.gw || k && !k(u,w))return !1;t=w;return !0;}p=f.length;q=0;v=p;m.isArray(h) && (q=l(h[0],0,p),v=l(h[1],0,p),h=h[2]);h=l(h,q - 1,v);for(p=h - 1;p >= q;--p){if(n(p))return t;}for(p=h + 1;p < v;++p){if(n(p))return t;}return -1;},H6b:function(f,h){return Math.floor(f / (125 * h) * 1E3);},cJb:function(f,h){return Math.ceil(f / 1E3 * h * 125);},Yuc:function(f,h){return !f.slice(h + 1).some(c);},Qp:g,Qc:function(f,h){var k;return f.some(function(n,p,q){k=n;return h(n,p,q);})?k:void 0;},ht:function(f,h){var k;return f.some(function(n,p,q){k=p;return h(n,p,q);})?k:-1;},a9:l};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Eia="ConfigurableInputsSymbol";b.rn="ValidatingConfigurableInputsSymbol";b.m3="ConfigNameSymbol";b.TT="InitParamsSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uj="AsyncComponentLoaderSymbol";},function(r,b,a){var m,d,f;function c(h){var k,n,p,t;p=Object.getOwnPropertyNames(h);for(h=Object.getPrototypeOf(h);h !== Object.prototype;){try{for(var q=(k=void 0,m.__values(Object.getOwnPropertyNames(h))),v=q.next();!v.done;v=q.next()){t=v.value;-1 === p.indexOf(t) && p.push(t);}}catch(w){k={error:w};}finally{try{v && !v.done && (n=q.return) && n.call(q);}finally{if(k)throw k.error;}}h=Object.getPrototypeOf(h);}return p;}function l(h,k,n,p,q){var v;Object.getOwnPropertyNames(h).filter(function(t){return q(t) && (n || !Object.prototype.hasOwnProperty.call(k,t)) && (p || !((t in k)));}).forEach(function(t){v=Object.getOwnPropertyDescriptor(h,t);void 0 !== v && Object.defineProperty(k,t,v);});}function g(h,k,n,p){var q,v;q=[];n || (q=Object.getOwnPropertyNames(k));p || (q=c(k));v=Object.getPrototypeOf(h);null !== v && v !== Object.prototype && g(v,k,n,p);l(h,k,!0,!0,function(t){return "constructor" !== t && -1 === q.indexOf(t);});}Object.defineProperties(b,{__esModule:{value:!0}});b.cf=b.bMb=void 0;m=a(0);d=a(2);b.bMb=g;f=Object.getOwnPropertyNames(Function);b.cf=function(h,k,n,p){void 0 === n && (n=!0);void 0 === p && (p=!0);p || (0,d.assert)(!n);h.prototype?(g(h.prototype,k.prototype,n,p),l(h,k,n,p,function(q){return -1 === f.indexOf(q);})):l(h,k.prototype,n,p,function(q){return -1 === f.indexOf(q);});return k;};},function(r,b,a){var l;function c(g,m,d,f,h,k,n,p,q,v,t,w){this.code=void 0 === g?l.aa.Fo:g;this.wc=m;this.vd=d;this.ep=f;this.kC=h;this.message=k;this.details=n;this.data=p;this.gl=q;this.u$b=v;this.alert=t;this.npa=w;this.ja=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.rd=void 0;l=a(4);c.mf=function(g){var m,d,f;if(g){m=g.stack;d=g.number;f=g.message;f || (f="" + g);m?(g="" + m,0 !== g.indexOf(f) && (g=f + "\n" + g)):g=f;d && (g+="\nnumber:" + d);return g;}return "";};c.prototype.CX=function(g){this.details=c.mf(g);this.data=g;};c.prototype.toString=function(){return JSON.stringify(this.toJSON);};c.prototype.toJSON=function(){return {code:this.code,subCode:this.wc,extCode:this.vd,edgeCode:this.ep,mslCode:this.kC,message:this.message,details:this.details,data:this.data,errorDisplayMessage:this.gl,playbackServiceError:this.u$b};};c.uua=function(g,m){return new c(g,l.Y.ln,void 0,void 0,void 0,void 0,m.message,m.stack);};c.qqb=function(g,m){return new c(g,m,void 0,void 0,void 0,void 0,void 0,void 0);};c.fmc=function(g,m,d){return new c(g,m,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,d);};b.rd=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HWa="WindowTimersSymbol";b.lH="JSONSymbol";b.kWa="UserAgentSymbol";b.GM="NavigatorSymbol";b.owb="MediaSourceSymbol";b.JOa="LocationSymbol";b.pKa="DateSymbol";b.Ska="PerformanceSymbol";b.i5="PlatformExtraInfoSymbol";},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(0);r.__exportStar(a(1111),b);r.__exportStar(a(161),b);r.__exportStar(a(1112),b);r.__exportStar(a(1113),b);r.__exportStar(a(1114),b);r.__exportStar(a(1115),b);r.__exportStar(a(464),b);r.__exportStar(a(1116),b);r.__exportStar(a(1117),b);},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jp=b.fx=b.Lz=void 0;(function(a){a[a.BVa=0]="Test";a[a.UNa=1]="Int";a[a.Iyb=2]="Staging";a[a.Yxb=3]="Prod";})(b.Lz || (b.Lz={}));(function(a){a[a.xU=0]="PreferMsl";a[a.yTa=1]="PreferNoMsl";a[a.Hwb=2]="NoMsl";})(b.fx || (b.fx={}));b.Jp="GeneralConfigSymbol";},function(r,b,a){var m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A,C,D;function c(E){var G,F,L;G=B(E,0,1);F=B(E,-1);if("%" === G && "%" !== F)throw new m("invalid intrinsic syntax, expected closing `%`");if("%" === F && "%" !== G)throw new m("invalid intrinsic syntax, expected opening `%`");L=[];z(E,C,function(O,K,I,M){L[L.length]=I?z(M,D,"$1"):K || O;});return L;}function l(){throw new f();}function g(E){try{return d('"use strict"; return (' + E + ").constructor;")();}catch(G){}}m=SyntaxError;d=Function;f=TypeError;h=Object.getOwnPropertyDescriptor;if(h)try{h({},"");}catch(E){h=null;}b=h?(function(){try{return (arguments.callee,l);}catch(E){try{return h(arguments,"callee").get;}catch(G){return l;}}})():l;k=a(320)();n=Object.getPrototypeOf || (function(E){return E.__proto__;});p={};q="undefined" === typeof Uint8Array?void 0:n(Uint8Array);v={"%AggregateError%":"undefined" === typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined" === typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":k?n([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined" === typeof Atomics?void 0:Atomics,"%BigInt%":"undefined" === typeof BigInt?void 0:BigInt,"%BigInt64Array%":"undefined" === typeof BigInt64Array?void 0:BigInt64Array,"%BigUint64Array%":"undefined" === typeof BigUint64Array?void 0:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined" === typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined" === typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined" === typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined" === typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":d,"%GeneratorFunction%":p,"%Int8Array%":"undefined" === typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined" === typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined" === typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":k?n(n([][Symbol.iterator]())):void 0,"%JSON%":"object" === typeof JSON?JSON:void 0,"%Map%":"undefined" === typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined" !== typeof Map && k?n(new Map()[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined" === typeof Promise?void 0:Promise,"%Proxy%":"undefined" === typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined" === typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined" === typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined" !== typeof Set && k?n(new Set()[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined" === typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":k?n(("")[Symbol.iterator]()):void 0,"%Symbol%":k?Symbol:void 0,"%SyntaxError%":m,"%ThrowTypeError%":b,"%TypedArray%":q,"%TypeError%":f,"%Uint8Array%":"undefined" === typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined" === typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined" === typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined" === typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined" === typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined" === typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined" === typeof WeakSet?void 0:WeakSet};try{(null).error;}catch(E){b=n(n(E));v["%Error.prototype%"]=b;}t=function F(G){var L,O;if("%AsyncFunction%" === G)L=g("async function () {}");else if("%GeneratorFunction%" === G)L=g("function* () {}");else if("%AsyncGeneratorFunction%" === G)L=g("async function* () {}");else if("%AsyncGenerator%" === G){O=F("%AsyncGeneratorFunction%");O && (L=O.prototype);}else "%AsyncIteratorPrototype%" === G && (O=F("%AsyncGenerator%")) && (L=n(O.prototype));return v[G]=L;};w={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]};b=a(212);u=a(108);x=b.call(Function.call,Array.prototype.concat);y=b.call(Function.apply,Array.prototype.splice);z=b.call(Function.call,String.prototype.replace);B=b.call(Function.call,String.prototype.slice);A=b.call(Function.call,RegExp.prototype.exec);C=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g;D=/\\(\\)?/g;r.exports=function(G,F){var L,O,K,I,M,H,J,N,P;if("string" !== typeof G || 0 === G.length)throw new f("intrinsic name must be a non-empty string");if(1 < arguments.length && "boolean" !== typeof F)throw new f('"allowMissing" argument must be a boolean');if(null === A(/^%?[^%]*%?$/,G))throw new m("`%` may not be present anywhere but at the beginning and end of the intrinsic name");L=c(G);O=0 < L.length?L[0]:"";K="%" + O + "%";I=K;if(u(w,I)){M=w[I];I="%" + M[0] + "%";}if(u(v,I)){H=v[I];H === p && (H=t(I));if("undefined" === typeof H && !F)throw new f("intrinsic " + K + " exists, but is not available. Please file an issue!");}else throw new m("intrinsic " + K + " does not exist!");K=H;I=!1;M && (O=M[0],y(L,x([0,1],M)));M=1;for(H=!0;M < L.length;M+=1){J=L[M];N=B(J,0,1);P=B(J,-1);if(('"' === N || "'" === N || "`" === N || '"' === P || "'" === P || "`" === P) && N !== P)throw new m("property names with quotes must have matching quotes");"constructor" !== J && H || (I=!0);O+="." + J;N="%" + O + "%";if(u(v,N))K=v[N];else if(null != K){if(!((J in K))){if(!F)throw new f("base intrinsic for " + G + " exists, but the property is not available.");return;}h && M + 1 >= L.length?(P=h(K,J),K=(H=!!P) && ("get" in P) && !(("originalValue" in P.get))?P.get:K[J]):(H=u(K,J),K=K[J]);H && !I && (v[N]=K);}}return K;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wD="named";b.T4="name";b.HU="unmanaged";b.QQa="optional";b.ST="inject";b.qH="multi_inject";b.vVa="inversify:tagged";b.wVa="inversify:tagged_props";b.Aka="inversify:paramtypes";b.dtb="design:paramtypes";b.tU="post_construct";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.I={eH:"playready-h264mpl30-dash",fH:"playready-h264mpl31-dash",V3:"playready-h264mpl40-dash",nMa:"h264mpl30-dash-playready-prk-qc",oMa:"h264mpl31-dash-playready-prk-qc",pMa:"h264mpl40-dash-playready-prk-qc",lMa:"playready-h264hpl22-dash",Q3:"playready-h264hpl30-dash",S3:"playready-h264hpl31-dash",U3:"playready-h264hpl40-dash",mMa:"h264hpl22-dash-playready-live",R3:"h264hpl30-dash-playready-live",T3:"h264hpl31-dash-playready-live",lja:"h264hpl40-dash-playready-live",ama:"vp9-profile0-L21-dash-cenc",R5:"vp9-profile0-L30-dash-cenc",S5:"vp9-profile0-L31-dash-cenc",KU:"vp9-profile0-L40-dash-cenc",nja:"hevc-main10-L30-dash-cenc",oja:"hevc-main10-L31-dash-cenc",pja:"hevc-main10-L40-dash-cenc",qja:"hevc-main10-L41-dash-cenc",KT:"hevc-main10-L50-dash-cenc",LT:"hevc-main10-L51-dash-cenc",r4:"hevc-main10-L30-dash-cenc-prk",u4:"hevc-main10-L31-dash-cenc-prk",x4:"hevc-main10-L40-dash-cenc-prk",A4:"hevc-main10-L41-dash-cenc-prk",s4:"hevc-main10-L30-dash-cenc-prk-do",v4:"hevc-main10-L31-dash-cenc-prk-do",y4:"hevc-main10-L40-dash-cenc-prk-do",B4:"hevc-main10-L41-dash-cenc-prk-do",D4:"hevc-main10-L50-dash-cenc-prk-do",F4:"hevc-main10-L51-dash-cenc-prk-do",q4:"hevc-main10-L30-dash-cenc-live",t4:"hevc-main10-L31-dash-cenc-live",w4:"hevc-main10-L40-dash-cenc-live",z4:"hevc-main10-L41-dash-cenc-live",C4:"hevc-main10-L50-dash-cenc-live",E4:"hevc-main10-L51-dash-cenc-live",q3:"hevc-dv5-main10-L30-dash-cenc-prk",s3:"hevc-dv5-main10-L31-dash-cenc-prk",CT:"hevc-dv5-main10-L40-dash-cenc-prk",v3:"hevc-dv5-main10-L41-dash-cenc-prk",x3:"hevc-dv5-main10-L50-dash-cenc-prk",z3:"hevc-dv5-main10-L51-dash-cenc-prk",Nia:"hevc-dv5-main10-L40-dash-cenc-prk-qc",Oia:"hevc-dv5-main10-L41-dash-cenc-prk-qc",Pia:"hevc-dv5-main10-L50-dash-cenc-prk-qc",Qia:"hevc-dv5-main10-L51-dash-cenc-prk-qc",r3:"hevc-dv5-main10-L30-dash-cenc-prk-do",t3:"hevc-dv5-main10-L31-dash-cenc-prk-do",u3:"hevc-dv5-main10-L40-dash-cenc-prk-do",w3:"hevc-dv5-main10-L41-dash-cenc-prk-do",y3:"hevc-dv5-main10-L50-dash-cenc-prk-do",A3:"hevc-dv5-main10-L51-dash-cenc-prk-do",Y3:"hevc-hdr-main10-L30-dash-cenc-prk",b4:"hevc-hdr-main10-L31-dash-cenc-prk",JT:"hevc-hdr-main10-L40-dash-cenc-prk",g4:"hevc-hdr-main10-L41-dash-cenc-prk",j4:"hevc-hdr-main10-L50-dash-cenc-prk",m4:"hevc-hdr-main10-L51-dash-cenc-prk",Z3:"hevc-hdr-main10-L30-dash-cenc-prk-do",c4:"hevc-hdr-main10-L31-dash-cenc-prk-do",e4:"hevc-hdr-main10-L40-dash-cenc-prk-do",h4:"hevc-hdr-main10-L41-dash-cenc-prk-do",k4:"hevc-hdr-main10-L50-dash-cenc-prk-do",n4:"hevc-hdr-main10-L51-dash-cenc-prk-do",X3:"hevc-hdr-main10-L30-dash-cenc-live",a4:"hevc-hdr-main10-L31-dash-cenc-live",d4:"hevc-hdr-main10-L40-dash-cenc-live",f4:"hevc-hdr-main10-L41-dash-cenc-live",i4:"hevc-hdr-main10-L50-dash-cenc-live",l4:"hevc-hdr-main10-L51-dash-cenc-live",lHa:"av1-main-L20-dash-cbcs-prk",mHa:"av1-main-L21-dash-cbcs-prk",gD:"av1-main-L30-dash-cbcs-prk",hD:"av1-main-L31-dash-cbcs-prk",dT:"av1-main-L40-dash-cbcs-prk",eT:"av1-main-L41-dash-cbcs-prk",X2:"av1-main-L50-dash-cbcs-prk",Y2:"av1-main-L51-dash-cbcs-prk"};b.Pd={j3:[b.I.eH,b.I.fH,b.I.V3],T2:[b.I.Q3,b.I.S3,b.I.U3],S2:[b.I.R3,b.I.T3,b.I.lja],Dha:[b.I.R5,b.I.S5,b.I.KU],Cnc:[b.I.nja,b.I.oja,b.I.pja,b.I.qja,b.I.KT,b.I.LT],wia:[b.I.r4,b.I.u4,b.I.x4,b.I.A4,b.I.KT,b.I.LT],xia:[b.I.s4,b.I.v4,b.I.y4,b.I.B4,b.I.D4,b.I.F4],uia:[b.I.q4,b.I.t4,b.I.w4,b.I.z4,b.I.C4,b.I.E4],sia:[b.I.Y3,b.I.b4,b.I.JT,b.I.g4,b.I.j4,b.I.m4],tia:[b.I.Z3,b.I.c4,b.I.e4,b.I.h4,b.I.k4,b.I.n4],ria:[b.I.X3,b.I.a4,b.I.d4,b.I.f4,b.I.i4,b.I.l4],hJa:[b.I.q3,b.I.CT,b.I.x3,b.I.s3,b.I.v3,b.I.z3],iJa:[b.I.r3,b.I.u3,b.I.y3,b.I.t3,b.I.w3,b.I.A3],jJa:[b.I.gD,b.I.hD,b.I.dT,b.I.eT,b.I.X2,b.I.Y2]};b.ke={gH:"heaac-2-dash",o4:"heaac-5.1-dash",hH:"heaac-2hq-dash",gA:"xheaac-dash",AT:"ddplus-2.0-dash",o3:"ddplus-5.1-dash",BT:"ddplus-atmos-dash"};b.qn={syb:"simplesdh",Gia:"dfxp-ls-sdh",kNa:"imsc1.1",U5:"webvtt-lssdh-ios8",EM:"nflx-cmisc"};},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});b.g3a=b.xxa=b.nva=b.Bva=b.waa=b.gNa=b.gyb=b.bx=b.PMa=b.E5=b.D5=b.DWa=b.EWa=b.fRa=b.L3=b.TEMPORARY=b.Zw=void 0;c=a(15);l=a(9);g=a(172);b.Zw="cenc";b.TEMPORARY="temporary";b.L3="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";b.fRa="Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=";b.EWa="Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";b.DWa="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";b.D5="SW_SECURE_CRYPTO";b.E5="SW_SECURE_DECODE";b.PMa="HW_SECURE_DECODE";b.bx="HW_SECURE_ALL";b.gyb={D5:"SW_SECURE_CRYPTO",E5:"SW_SECURE_DECODE",PMa:"HW_SECURE_DECODE",bx:"HW_SECURE_ALL"};b.gNa=[b.bx];b.waa=function(m){var d;d=m.getConfiguration();return [b.bx,b.E5,b.D5].find(function(f){var h;return null === (h=d.videoCapabilities) || void 0 === h?void 0:h.some(function(k){return k.robustness === f;});});};b.Bva=function(m){var d,k;try{for(var f=/\((\d[^)]+)\)/g,h;h=f.exec(m);){k=Number(h[1]);(0,c.Qa)(k) && (d=k);}}catch(n){}return d;};b.nva=function(m){var d;d={};try{m.forEach(function(f){var h,k;if(f.jJ){for(var n=(0,l.SA),p=f.jJ,q=0,v=new Uint8Array(16),t=0;t < p.length;t+=2){v[q++]=parseInt(p.slice(t,t + 2),16);}n=n(v);f=null !== (h=f.height) && void 0 !== h?h:f.nDa;d[n]=Math.max(f,null !== (k=d[n]) && void 0 !== k?k:0);}});}catch(f){}return d;};b.xxa=function(m){return g.tf.Fl.test(m);};b.g3a=function(m){return m.robustness?m.keySystem + "." + m.robustness:m.keySystem;};},function(r,b,a){var h,k,n,p,q,v;function c(){var t,w;if(t=b.Faa.mZa)return t;t=p.W4.search.substr(1);w=t.indexOf("#");0 <= w && (t=t.substr(0,w));t=l(t);return b.Faa.mZa=t;}function l(t){for(var w=/[+]/g,u=(t || "").split("&"),x={},y,z=0;z < u.length;z++){t=(0,n.trim)(u[z]);y=t.indexOf("=");0 <= y?x[decodeURIComponent(t.substr(0,y).replace(w,"%20")).toLowerCase()]=decodeURIComponent(t.substr(y + 1).replace(w,"%20")):x[t.toLowerCase()]=null;}return x;}function g(t){return (t=(/function (.{1,})\(/).exec(t.toString())) && 1 < t.length?t[1]:"";}function m(t){return g(t.constructor);}function d(t){return p.sort.call(t,function(w,u){return w - u;});}function f(t){for(var w=0,u=t.length;u--;){w+=t[u];}return w;}Object.defineProperty(b,"__esModule",{value:!0});b.U$b=b.NJ=b.N8a=b.Yba=b.P$b=b.Wbb=b.Vrb=b.Wrb=b.LUb=b.Av=b.ELb=b.M$=b.RTb=b.LK=b.mrb=b.gT=b.nrb=b.b3=b.lrb=b.v1b=b.createElement=b.nX=b.yac=b.EAa=b.Pua=b.getFunctionName=b.g0=b.Faa=b.HYb=b.Yib=b.K_a=b.o3a=b.Ebc=b.FE=b.W2a=void 0;h=a(17);k=a(9);n=a(23);p=a(14);q=a(15);v=a(43);b.W2a=function(t,w){if(t === w)return !0;if(!t || !w)return !1;for(var u in t){if(t.hasOwnProperty(u) && (!w.hasOwnProperty(u) || t[u] !== w[u]))return !1;}return !0;};b.FE=b.FE || (function(t,w){if(t.length == w.length){for(var u=t.length;u--;){if(t[u] != w[u])return !1;}return !0;}return !1;});b.Ebc=function(t){var w;if(t){w=t.length;if(w)return (w=(0,n.Rib)(0,w - 1),t[w]);}};b.o3a=function(t,w){if(t.length != w.length)return !1;t.sort();w.sort();for(var u=t.length;u--;){if(t[u] !== w[u])return !1;}return !0;};b.K_a=function(t,w,u){function x(){t.removeEventListener(w,x);u.apply(this,arguments);}t.addEventListener(w,x);};b.Yib=function(){var t,w,u,x,y,z;t=p.Xh.cookie.split("; ");w=t.length;y={};for(u=0;u < w;u++){if(x=(0,n.trim)(t[u])){z=x.indexOf("=");0 < z && (y[x.substr(0,z)]=x.substr(z + 1));}}return y;};b.HYb=c;b.Faa=Object.assign(c,{mZa:void 0});b.g0=l;b.getFunctionName=g;b.Pua=m;b.EAa=function(t){var w;w="";(0,q.isArray)(t) || (0,q.$xa)(t)?w=p.reduce.call(t,function(u,x){return u + (32 <= x && 128 > x?(0,p.rVa)(x):".");},""):(0,q.Ng)(t)?w=t:(0,n.zh)(t,function(u,x){w+=(w?", ":"") + "{" + u + ": " + ((0,q.qd)(x)?g(x) || "function":x) + "}";});return "[" + m(t) + " " + w + "]";};b.yac=function(t,w){t.firstChild?t.insertBefore(w,t.firstChild):t.appendChild(w);};b.nX=b.nX || (function(t){var w;w="";(0,n.zh)(t,function(u,x){w+=(w?";":"") + u + ":" + x;});return w;});b.createElement=b.createElement || (function(t,w,u,x){var y;y=p.Xh.createElement(t);w && (y.style.cssText=w);u && (y.innerHTML=u);x && (0,n.zh)(x,function(z,B){y.setAttribute(z,B);});return y;});b.v1b=function(t,w){var u;u=t[0];if(w <= u[0])return u.slice(1);for(var x=1,y;y=t[x++];){if(w <= y[0]){t=(w - u[0]) / (y[0] - u[0]);w=[];for(x=1;x < u.length;x++){w.push((u[x] || 0) + t * ((y[x] || 0) - (u[x] || 0)));}return w;}u=y;}return u.slice(1);};b.lrb=function(t,w){var y;for(var u={},x=0;x < w.length;x++){y=w[x];if("string" != typeof y && "number" != typeof y)return !1;u[w[x]]=1;}for(x=0;x < t.length;x++){if((y=t[x],!u[y]))return !1;}return !0;};b.b3=d;b.nrb=f;b.gT=function(t,w){var u,x,y,z;u=-1;x=t.length;if(1 === arguments.length){for(;++u < x && !(null != (y=t[u]) && y <= y);){y=void 0;}for(;++u < x;){null != (z=t[u]) && z > y && (y=z);}}else {for(;++u < x && !(null != (y=w.call(t,t[u],u)) && y <= y);){y=void 0;}for(;++u < x;){null != (z=w.call(t,t[u],u)) && z > y && (y=z);}}return y;};b.mrb=function(t,w){var u,x,y,z;u=-1;x=t.length;if(1 === arguments.length){for(;++u < x && !(null != (y=t[u]) && y <= y);){y=void 0;}for(;++u < x;){null != (z=t[u]) && y > z && (y=z);}}else {for(;++u < x && !(null != (y=w.call(t,t[u],u)) && y <= y);){y=void 0;}for(;++u < x;){null != (z=w.call(t,t[u],u)) && y > z && (y=z);}}return y;};b.LK=function(t){return (0,q.qd)(t.then)?t:new Promise(function(w,u){t.oncomplete=function(){w(t.result);};t.onerror=function(){u(t.error);};});};b.RTb=function(t,w){var x,y,z,B,A,C;function u(D){0 > x.indexOf(D) && (0,q.Qa)(D) && x.push(D);}t=t.slice();d(t);x=[];if(!w || !w.length)return t;if(!t.length)return [];y=w.length;try{for(;y--;){B="" + w[y];A=(0,n.Ak)(B);switch(B[B.length - 1]){case "-":for(z=t.length;z--;){C=t[z];if(C < A){u(C);break;}}break;case "+":for(z=0;z < t.length;z++){if((C=t[z],C > A)){u(C);break;}}break;default:0 <= t.indexOf(A) && u(A);}}}catch(D){}x.length || x.push(t[0]);d(x);return x;};b.M$=b.M$ || (function(t,w,u){var x;if(t / w > u){x=(0,p.Mp)(w * u);t=w;}else (x=t,t=(0,p.Mp)(t / u));return {width:x,height:t};});b.ELb=function(t,w,u){for(var x=[],y=0;y < w;y++){x.push((0,p.CPa)(t[y] - u,2));}return (0,p.DPa)(f(x) / x.length);};b.Av=function(t,w){var u;u=t.length;w=(u - 1) * w + 1;if(1 === w)return t[0];if(w == u)return t[u - 1];u=(0,p.CM)(w);return t[u - 1] + (w - u) * (t[u] - t[u - 1]);};b.LUb=function(t,w){if(!(0,q.isArray)(t))throw Error("boxes is not an array");if(0 >= t.length)throw Error("There are no boxes in boxes");w=(0,q.isArray)(w)?w:[w];for(var u=t.length,x=0;x < u;x++){for(var y=0;y < w.length;y++){if(t[x].type == w[y])return t[x];}}throw Error("Box not found " + w);};b.Wrb=function(t){return t.FWb("trak/mdia/minf/stbl/stsd/" + h.QIa + "|" + h.RIa).children.filter(function(w){return "sinf" == w.type && w.auc.schm.Ywc == v.Zw;})[0].FWb("schi/tenc").Gq;};b.Vrb=function(t){var u;function w(x,y){var z;z=u[x];u[x]=u[y];u[y]=z;}u=new Uint8Array(t);w(0,3);w(1,2);w(4,5);w(6,7);return u;};b.Wbb=function(){return (0,q.qd)(p.ff.requestMediaKeySystemAccess);};b.P$b=function(t){return function(w){return w && w[t];};};(0,q.qd)(ArrayBuffer.prototype.slice) || (ArrayBuffer.prototype.slice=function(t,w){var u,x;void 0 === t && (t=0);void 0 === w && (w=this.byteLength);t=Math.floor(t);w=Math.floor(w);0 > t && (t+=this.byteLength);0 > w && (w+=this.byteLength);t=Math.min(Math.max(0,t),this.byteLength);w=Math.min(Math.max(0,w),this.byteLength);if(0 >= w - t)return new ArrayBuffer(0);u=new ArrayBuffer(w - t);x=new Uint8Array(u);t=new Uint8Array(this,t,w - t);x.set(t);return u;});b.Yba=function(t){return t && 0 == t.toLowerCase().indexOf("https");};b.N8a=function(){var t,w;t=new ArrayBuffer(4);w=new Uint8Array(t);t=new Uint32Array(t);w[0]=161;w[1]=178;w[2]=195;w[3]=212;return 3569595041 == t[0]?"LE":2712847316 == t[0]?"BE":"undefined";};b.NJ=function(){var t,w,u;try{t=/playercore.*js/;w=p.gx.getEntries("resource").filter(function(x){return null !== t.exec(x.name);});if(w && 0 < w.length){u=(0,p.Mp)(w[0].duration);return JSON.stringify(u);}}catch(x){}};b.U$b=function(t,w,u){if(t && t.length){if(u && u.JKb)try{t.forEach(function(x,y){var z;z=(y=u.JKb[y]) && y.media;z && (0,q.Ng)(z)?(!1,z=(0,k.mt)(z).buffer,x.media={arrayBuffer:z,length:z.byteLength,stream:w,Cc:y.cdn}):k.log.warn("chunk not in cache",x.Bh);});}catch(x){k.log.error("error reading cached chunks",x);}else k.log.warn("chunks not available in cached stream",u.type);}else k.log.warn("chunks not available in mediabuffer",u.type);};},function(r,b,a){var m,d,f;function c(h){return function(k,n){return k.JCa(n,h);};}function l(h,k){return h.Nea.ybc[k] || g(h,k);}function g(h,k){h=h.OB.data[k];switch(typeof h){case "undefined":break;case "string":case "number":case "boolean":return h.toString();default:return JSON.stringify(h);}}Object.defineProperty(b,"__esModule",{value:!0});b.PA=b.RCa=b.object=b.QSb=b.url=b.ga=b.am=b.lGa=b.x1b=b.GL=b.string=b.ZC=b.Hd=b.zF=b.config=void 0;m=a(52);d=a(5);f=a(146);b.config=function(h,k,n){n=void 0 === n?!1:n;return function(p,q,v){var t,w;t=void 0 !== k?k:q;w=v.get;void 0 !== w && (v.get=function(){var u;if(!this.p2b(q))return this.RYb(q);a:{u=(this.MGb || n?l:g)(this,t.toString());if(void 0 !== u)if((u=h(this.L_,u),u instanceof f.er))this.F7a(t,u);else break a;u=w.bind(this)();}this.tDa(q,u);return u;});return v;};};b.zF=function(h,k){return h.bjb(k);};b.Hd=function(h,k){return h.GCa(k);};b.ZC=function(h,k){return h.rs(k);};b.string=function(h,k){return h.JCa(k);};b.GL=function(h,k){return h.ol(k,b.string);};b.x1b=function(h,k){return h.ol(k,b.zF);};b.lGa=function(h,k){return h.ol(k,b.ZC);};b.am=function(h,k){h=h.rs(k);return h instanceof f.er?h:(0,d.$b)(h);};b.ga=function(h,k){h=h.rs(k);return h instanceof f.er?h:(0,m.ga)(h);};b.url=c(/^\S+$/);b.QSb=function(h){return function(k,n){return k.ajb(n,h);};};b.object=function(){return function(h,k){return h.cjb(k);};};b.RCa=c;b.PA=function(h,k){return function(n,p){return n.ol(p,h,k);};};},function(r,b,a){var g,m,d,f;function c(h,k){var n;n=f.call(this,h,k) || this;n.j3a=k;n.debug=h.debug;n.qa=h.ug.cb(n.j3a);return n;}function l(h,k){this.j3a=k;this.tCa={};this.OB=h.OB;this.L_=h.L_;this.Nea=h.Nea;}Object.defineProperty(b,"__esModule",{value:!0});b.If=b.nT=b.xVa=void 0;r=a(0);g=a(740);m=a(1);d=a(146);b.xVa="isTestAccount";l.prototype.F7a=function(){};l.prototype.tDa=function(h,k){this.tCa[h]=[k,this.OB.qfa];};l.prototype.p2b=function(h){return g.zka.of(this.tCa[h]).map(function(k){return k[1];}).or(-1) < this.OB.qfa;};l.prototype.RYb=function(h){return g.zka.of(this.tCa[h]).map(function(k){return k[0];}).or(function(){throw Error("Invalid State Error");});};Va.Object.defineProperties(l.prototype,{MGb:{configurable:!0,enumerable:!0,get:function(){var h,k;if(this && this.OB && this.OB.data){h=this.OB.data[b.xVa];"undefined" !== typeof h && (k=h.toString());h=this.L_.GCa(k);h=h instanceof d.er?!1:h;}else h=!1;return h;}}});f=l;f=r.__decorate([(0,m.$)(),r.__param(0,(0,m.Hp)()),r.__param(1,(0,m.Hp)())],f);b.nT=f;ka(c,f);c.prototype.F7a=function(h,k){this.qa.error("Invalid configuration value.",{name:h},k);this.debug.assert(!1);};a=c;a=r.__decorate([r.__param(0,(0,m.Hp)()),r.__param(1,(0,m.Hp)())],a);b.If=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zj="SchedulerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.u=void 0;b.u={T:0,J:1,Za:2};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fr="PlatformSymbol";b.j5="PlatformMutableSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Sja="LogBatcherConfigSymbol";b.Do="LogBatcherSymbol";b.MOa="LogBatcherProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pn="PboCommandContextSymbol";},function(r,b,a){var g;function c(){return g.IU.apply(this,arguments) || this;}function l(m){return new g.Yu(m,b.ZG);}Object.defineProperty(b,"__esModule",{value:!0});b.Oa=b.dQa=b.Lja=b.Yw=b.ZG=b.N5b=b.$2b=b.ga=b.pt=b.hsb=void 0;g=a(332);ka(c,g.IU);b.hsb=c;b.pt=l;b.ga=function(m){return new g.Yu(m,b.Yw);};b.$2b=function(m){return new g.Yu(m,b.Lja);};b.N5b=function(m){return new g.Yu(m,b.dQa);};b.ZG=new c(1,"b");b.Yw=new c(8 * b.ZG.kh,"B",b.ZG);b.Lja=new c(1024 * b.Yw.kh,"KB",b.ZG);b.dQa=new c(1024 * b.Lja.kh,"MB",b.ZG);b.Oa=l(0);},function(r,b,a){var c,l;c=a(125);l=a(170);r.exports=function(g){return function h(d,f){switch(arguments.length){case 0:return h;case 1:return l(d)?h:c(function(k){return g(d,k);});default:return l(d) && l(f)?h:l(d)?c(function(k){return g(k,f);}):l(f)?c(function(k){return g(d,k);}):g(d,f);}};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.flatten=b.Hq=b.Ehc=b.ogb=void 0;b.ogb=function(a,c){return a - c;};b.Ehc=function(a,c){return a.localeCompare(c);};b.Hq=function(a,c){var l;l=Object.getOwnPropertyDescriptor(a,c);l && Object.defineProperty(a,c,{configurable:l.configurable,enumerable:!1,value:l.value,writable:l.writable});};b.flatten=function(a){return [].concat.apply([],ia(a));};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Gtb="Cannot apply @injectable decorator multiple times.";b.Htb="Metadata key was used more than once in a parameter:";b.oU="NULL argument";b.aOa="Key Not Found";b.Kqb="Ambiguous match found for serviceIdentifier:";b.isb="Could not unbind serviceIdentifier:";b.ywb="No matching bindings found for serviceIdentifier:";b.Yvb="Missing required @injectable annotation in:";b.Zvb="Missing required @inject or @multiInject annotation in:";b.Yyb=function(a){return "@inject called with undefined this could mean that the class " + a + " has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};b.lsb="Circular dependency found:";b.Qpc="Sorry, this feature is not fully implemented yet.";b.ovb="Invalid binding type:";b.Awb="No snapshot available to restore.";b.svb="Invalid return type in middleware. Middleware must return!";b.rvb="Value provided to function binding must be a function!";b.uvb="The toSelf function can only be applied when a constructor is used as service identifier";b.pvb="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";b.Mqb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "The number of constructor arguments in the derived class " + (a[0] + " must be >= than the number of constructor arguments of its base class.");};b.Bsb="Invalid Container constructor argument. Container options must be an object.";b.zsb="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";b.ysb="Invalid Container option. Auto bind injectable must be a boolean";b.Asb="Invalid Container option. Skip base check must be a boolean";b.lwb="Cannot apply @postConstruct decorator multiple times in the same class";b.Ixb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "@postConstruct error in class " + a[0] + ": " + a[1];};b.msb=function(){for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}return "It looks like there is a circular dependency in one of the '" + (a[0] + "' bindings. Please investigate bindings withservice identifier '") + (a[1] + "'.");};b.wyb="Maximum call stack size exceeded";},function(r,b){var c,l;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Co=b.Ua=b.Kk=void 0;(function(g){g[g.gr=0]="STANDARD";g[g.Kp=1]="LIMITED";g[g.rqc=2]="PREVIEW";})(c || (c={}));(function(g){g[g.HAVE_NOTHING=0]="HAVE_NOTHING";g[g.HAVE_METADATA=1]="HAVE_METADATA";g[g.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA";g[g.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA";g[g.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA";})(l || (l={}));(function(g){g.Yqb="asl_start";g.Wqb="asl_comp";g.Smc="asl_exc";g.Xqb="asl_fail";g.zyb="stf_creat";g.Xub="idb_open";g.Uub="idb_block";g.dvb="idb_upgr";g.cvb="idb_succ";g.Vub="idb_error";g.Wub="idb_invalid_state";g.Zub="idb_open_timeout";g.avb="idb_open_wrkarnd";g.bvb="idb_storelen_exc";g.Yub="idb_open_exc";g.$ub="idb_timeout_invalid_storelen";g.fwb="msl_load_data";g.hwb="msl_load_no_data";g.gwb="msl_load_failed";})(r=b.Kk || (b.Kk={}));(function(g){g.Eka="PlaybackRequestStart";g.Dka="PlaybackRequestEnd";g.s5="RequestPrefetchManifestStart";g.r5="RequestPrefetchManifestEnd";g.q5="RequestManifestStart";g.p5="RequestManifestEnd";g.o5="RequestLicenseStart";g.n5="RequestLicenseEnd";g.tT="RequestTimedTextUrlStart";g.sT="RequestTimedTextUrlEnd";g.rT="RequestAudioUrlStart";g.qT="RequestAudioUrlEnd";g.vT="RequestVideoUrlStart";g.uT="RequestVideoUrlEnd";g.Fha="AppendBufferStart";g.Eha="AppendBufferEnd";g.Ala="SetMediaKeysStart";g.zla="SetMediaKeysEnd";g.O3="GenerateChallengeStart";g.N3="GenerateChallengeEnd";g.V2="ApplyLicenseStart";g.U2="ApplyLicenseEnd";})(b.Ua || (b.Ua={}));b.Co=a;a.Mja=c;a.y3a=function(g){return ["STANDARD","LIMITED","PREVIEW"][g];};a.Kk=r;a.MT=l;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Eya=b.$i=void 0;(function(a){a[a.gr=0]="STANDARD";a[a.Kp=1]="LIMITED";})(b.$i || (b.$i={}));b.Eya=function(a){return ["STANDARD","LIMITED"][a];};},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Taa=b.Lt=b.Uaa=b.qF=b.Lm=b.Xe=void 0;r=a(70);c=a(59);l=a(14);b.Xe=new r.Gk();b.Lm=1;b.qF=2;b.Uaa=3;b.Lt=4;b.Taa=5;(0,c.Lg)(function(){var m,d,f;function g(h,k){if(d)d.on(h,k);else mb.addEventListener(h,k);}m=mb.jQuery;d=m && m(mb);m=(m=mb.netflix) && m.cadmium && m.cadmium.addBeforeUnloadHandler;f=l.Xh.hidden;m?m(function(h){b.Xe.Zc(b.Lm,h);}):g("beforeunload",function(h){b.Xe.Zc(b.Lm,h);});g("keydown",function(h){b.Xe.Zc(b.qF,h);});g("resize",function(){b.Xe.Zc(b.Uaa);});l.Xh.addEventListener("visibilitychange",function(){f !== l.Xh.hidden && (f=l.Xh.hidden,b.Xe.Zc(b.Lt));});});(function(){mb.addEventListener("error",function(g){b.Xe.Zc(b.Taa,g);return !0;});})();},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lg=void 0;b.Lg=function(a){return setTimeout(a,0);};},function(r,b,a){(function(c){var l,g,m,d,f,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.G6b=b.platform=b.bh=b.RSb=b.FXb=b.NY=b.LP=b.G4b=b.XM=b.wj=b.Kc=b.Zq=b.Hl=b.fU=b.ox=b.ZM=void 0;l=a(0);l.__exportStar(a(181),b);l.__exportStar(a(900),b);l.__exportStar(a(901),b);l.__exportStar(a(902),b);g=a(116);Object.defineProperties(b,{ZM:{enumerable:!0,get:function(){return g.ZM;}}});Object.defineProperties(b,{ox:{enumerable:!0,get:function(){return g.ox;}}});Object.defineProperties(b,{fU:{enumerable:!0,get:function(){return g.fU;}}});l.__exportStar(a(913),b);l.__exportStar(a(914),b);l.__exportStar(a(401),b);l.__exportStar(a(256),b);l.__exportStar(a(20),b);l.__exportStar(a(61),b);l.__exportStar(a(405),b);m=a(406);Object.defineProperties(b,{Hl:{enumerable:!0,get:function(){return m.Hl;}}});Object.defineProperties(b,{Zq:{enumerable:!0,get:function(){return m.Zq;}}});l.__exportStar(a(411),b);d=a(28);Object.defineProperties(b,{Kc:{enumerable:!0,get:function(){return d.Kc;}}});Object.defineProperties(b,{wj:{enumerable:!0,get:function(){return d.wj;}}});f=a(413);Object.defineProperties(b,{XM:{enumerable:!0,get:function(){return f.XM;}}});l.__exportStar(a(257),b);l.__exportStar(a(6),b);b.G4b=function(n){b.platform.lZ(n);if(!c.ZX.Qmc)return a(930).qPa;throw Error("Legacy not included in bundle");};b.LP=function(n){b.platform.lZ(n);return Promise.resolve().then(function(){return l.__importStar(a(459));}).then(function(p){return p.LP();});};b.NY=function(n,p){b.platform.lZ(n);return Promise.resolve().then(function(){return l.__importStar(a(462));}).then(function(q){return q.NY(p);});};b.FXb=function(){return a(259);};h=l.__importDefault(a(29));b.RSb=h.default;h=a(1195);b.bh=h.bh;h=l.__importDefault(a(3));b.platform=h.default;k=a(1196);b.G6b=function(){return {Zu:k.Zu};};}).call(this,a(131));},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(403),b);r.__exportStar(a(404),b);r.__exportStar(a(182),b);r.__exportStar(a(915),b);r.__exportStar(a(152),b);},function(r,b,a){var l,g,m,d,f;function c(){return l.uc.get(m.jd).XB.ia(f.va);}Object.defineProperty(b,"__esModule",{value:!0});b.gLb=b.e9=b.I2a=b.eLb=b.fLb=b.ora=b.Uo=void 0;l=a(217);g=a(27);m=a(18);d=a(86);f=a(5);b.Uo=function(){return l.uc.get(m.jd).Rb().ia(f.va);};b.ora=function(){return l.uc.get(g.Hh).lf.ia(f.Eo);};b.fLb=function(){return l.uc.get(m.jd).XB.ia(f.Eo);};b.eLb=function(){return l.uc.get(d.Oz).nB();};b.I2a=c;b.e9=function(){return l.uc.get(g.Hh).lf.ia(f.va);};b.gLb=function(){return c();};},function(r,b){function a(c){var l;l=Error.call(this,"TimeoutError");this.message=l.message;("stack" in l) && (this.stack=l.stack);this.interval=c;}Object.defineProperty(b,"__esModule",{value:!0});b.CD=b.Ps=void 0;ka(a,Error);b.Ps=a;b.CD="PromiseTimerSymbol";},function(r,b,a){var l,g;function c(m,d){var f;f=b.Pp[0];f == d && (f=b.Pp[1]);f?f.close(function(){c(m,d);}):m && m(l.mh);}Object.defineProperty(b,"__esModule",{value:!0});b.DSa=b.BSa=b.Zka=b.$ka=b.BD=b.ala=b.CSa=b.dla=b.cla=b.Pp=b.FSa=b.bla=void 0;l=a(17);g=a(22);b.bla=c;b.FSa=function(m,d){switch(m){case b.CSa:b.cla.push(d);return;case b.ala:b.dla.push(d);return;}(0,g.ya)(!1);};b.Pp=[];b.cla=[];b.dla=[];b.CSa=1;b.ala=3;b.BD={index:0,pfb:void 0,fua:void 0};b.$ka="network";b.Zka="media";b.BSa="timedtext";b.DSa="playback";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cx=b.pU=b.ResponseType=void 0;b.ResponseType={Text:1,Irc:2,Krb:3};b.pU="OPEN_CONNECT_APPLIANCE";b.cx="LegacyHttpSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ih={Xya:"logblob",ba:"manifest",w3b:"licensedmanifest",ki:"license",events:"events",bind:"bind",ping:"ping",config:"config"};b.eyb={fUa:"X-Netflix.Request.Attempt",yla:"X-Netflix.Client.Request.Name",YIa:"x-netflix.browsername",ZIa:"x-netflix.browserversion",RQa:"x-netflix.osname",SQa:"x-xetflix.osversion",JJa:"x-netflix.clienttype",eWa:"x-netflix.uiversion"};b.DD={fUa:"reqAttempt",yla:"reqName",YIa:"browsername",ZIa:"browserversion",RQa:"osname",SQa:"osversion",JJa:"clienttype",eWa:"uiversion"};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);r=(function(){function l(g,m){this.key=g;this.value=m;}l.prototype.toString=function(){return this.key === c.wD?"named: " + this.value.toString() + " ":"tagged: { key:" + this.key.toString() + ", value: " + this.value + " }";};return l;})();b.Metadata=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qs="Utf8EncoderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Tu="EmeConfigSymbol";},function(r,b,a){var l,g;function c(){var m,d;m=this;this.fv={};this.on=function(f,h,k){m.addListener(f,h,k);};this.addListener=function(f,h,k){m.fv && (m.fv[f]=m.fv[f] || new g.pla(!0)).add(h,k);};this.removeListener=function(f,h){m.fv && m.fv[f] && m.fv[f].removeAll(h);};this.ava=function(f){return m.fv && m.fv[f]?m.fv[f].flatten():[];};d=this;this.Zc=function(f,h,k){var n;if(d.fv){n=d.ava(f);for(f={eM:0};f.eM < n.length;(f={eM:f.eM},f.eM++)){k?(function(p){return function(){var q;q=n[p.eM];(0,l.Lg)(function(){q(h);});};})(f)():n[f.eM].call(this,h);}}};}Object.defineProperty(b,"__esModule",{value:!0});b.Gk=void 0;l=a(59);g=a(365);c.prototype.Ji=function(){this.fv=void 0;};b.Gk=c;},function(r,b,a){var l,g,m,d;function c(f,h,k){var n,p,t;h=l.__assign({},null === (p=null === f || void 0 === f?void 0:f.context) || void 0 === p?void 0:p.call(f,{rgb:h,ft:k}));if((null === f || void 0 === f?0:f.ft) && k)if(!0 === f.ft)h.args=k;else {p={};h.args=p;try{for(var q=l.__values(f.ft),v=q.next();!v.done;v=q.next()){t=v.value;p[t]=k[t];}}catch(u){var w;w={error:u};}finally{try{v && !v.done && (n=q.return) && n.call(q);}finally{if(w)throw w.error;}}}return h;}Object.defineProperties(b,{__esModule:{value:!0}});b.px=b.gwa=b.mc=void 0;l=a(0);g=a(10);m=l.__importDefault(a(3));d=a(8);b.mc=function(f){return function(h,k,n){var p;p=n.value;n.value=function(){var q,v,t,w,u,x;v=(0,b.gwa)(this);if(v)(t=c(f,this,arguments),w=null !== (q=null === f || void 0 === f?void 0:f.methodName) && void 0 !== q?q:String(k),u=v.M_a(w,t,null === f || void 0 === f?void 0:f.Ul,null === f || void 0 === f?void 0:f.Luc));q=null === v || void 0 === v?void 0:v.bsa;v && (v.bsa=u);try{x=null === p || void 0 === p?void 0:p.apply(this,arguments);(0,d.Vxa)(x) && (x=x.then(function(z){u && (null === f || void 0 === f?0:f.return) && (u.data.resolve=z);return z;},function(z){u && (u.data.reject=("").concat(z));return Promise.reject(z);}));return x;}catch(z){var y;y=z;throw z;}finally{v && (v.bsa=q);u && (u.data || (u.data={}),y?(u.data.error=("").concat(y),null === v || void 0 === v?void 0:v.LLb(u)):(null === f || void 0 === f?0:f.return) && !(0,d.Vxa)(x) && (u.data.lRet=x));}};};};b.gwa=function(f){if(null === f || void 0 === f?0:f.kma)return f.kma;};r=(function(){function f(h){this.$r=[];this.O6=!1;this.ona={};this.K=l.__assign({Iq:10},h);Object.defineProperties(h.yp,{kma:{enumerable:!1,value:this,configurable:!0}});}Object.defineProperties(f.prototype,{source:{get:function(){return this.K.source;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return !this.O6;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{O2b:{get:function(){return l.__spreadArray([],l.__read(this.$r),!1);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Y_b:{get:function(){return this.ona;},enumerable:!1,configurable:!0}});f.prototype.sv=function(h){var k,n;if(!this.O6){n=null === (k=(0,b.gwa)(this.K.yp)) || void 0 === k?void 0:k.bsa;n && (n.data=l.__assign(l.__assign({},n.data),h));}};f.prototype.M_a=function(h,k,n,p){var q,v,t,w;if(!this.O6){t=!1;w=null === (v=(q=this.K).Q_a) || void 0 === v?void 0:v.call(q,this.K.yp);q=c({},this.K.yp);k=l.__assign(l.__assign(l.__assign({},w),q),k);w=0 < Object.keys(k).length;k={methodName:h,data:w?k:void 0,time:m.default.time.fa()};p && this.ona[h]++;n && this.$r.length && (n=this.$r[this.$r.length - 1],n.methodName === h && (n.data=n.data || ({}),n.data.dedup=n.data.dedup || ({hitCount:1}),n.data.dedup.hitCount++,n.data.dedup.lJournal=k,t=!0));this.MLb(k);t || this.$r.push(k);this.$r.length > this.K.Iq && this.$r.shift();return k;}};f.prototype.MLb=function(h){var k;g.M && (null === (k=this.K.console) || void 0 === k?void 0:k.trace(("").concat(this.K.source,"::").concat(h.methodName),h.data));"object" === typeof __ASE_DEVTOOLS_EXTENSION__ && __ASE_DEVTOOLS_EXTENSION__.register(this.K,h);};f.prototype.LLb=function(h){var k;g.M && (null === (k=this.K.console) || void 0 === k?void 0:k.error(("").concat(this.K.source,"::").concat(h.methodName),h.data));};f.prototype.Wa=function(){Object.defineProperties(this.K.yp,{kma:{enumerable:!1,value:null,configurable:!0}});this.O6=!0;this.clear();};f.prototype.clear=function(){this.$r=[];this.ona={};};return f;})();b.px=r;},function(r,b,a){var l,g,m,d,f;function c(h,k,n){this.context=h;this.errorCode=k;this.Rdc=n;}Object.defineProperty(b,"__esModule",{value:!0});b.Bi=void 0;r=a(0);l=a(1);g=a(560);m=a(5);d=a(36);f=a(39);c.prototype.send=function(h,k,n,p,q,v){var t;t=this;v=void 0 === v?f.fx.xU:v;return this.LWb(h,k,n,v,p,q).then(function(w){return t.context.QQb.send(w.context,w.request);});};c.prototype.LWb=function(h,k,n,p,q,v){var t,w;try{t=this.context.kdc.create(this.context.MB.nB(),k.url,n,q,p);w=this.WIb(k,h,p,v);return Promise.resolve({context:w,request:t});}catch(u){return Promise.reject(u);}};c.prototype.WIb=function(h,k,n,p){return {Bf:this.context.Bf,log:k,Vo:h.name,url:this.context.Rkc((0,g.F1a)(this.context.Gi,this.context.Ri,h.name,n)),yDa:this.Rdc,timeout:(0,m.Ui)(59),headers:(0,g.E1a)(this.context.Ri,this.context.fJ),ql:h.ql,yIb:p};};c.prototype.Tn=function(h){return h instanceof d.rd?h:(0,g.Tn)(this.errorCode,h);};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.Hp)()),r.__param(1,(0,l.Hp)()),r.__param(2,(0,l.Hp)())],a);b.Bi=a;},function(r,b,a){var l,g,m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.oM=b.xb=void 0;l=a(126);g=a(36);m=a(4);c.EY=function(d){if(d){if(d.includes(b.oM.vC))return l.kn.vC;if(d.includes("fps"))return l.kn.bF;if(d.includes(b.oM.tha))return l.kn.tha;}throw new g.rd(m.aa.cub,void 0,void 0,void 0,void 0,"Invalid KeySystem: " + d);};c.Yua=function(d){switch(d){case l.kn.vC:return b.oM.vC;case l.kn.bF:return b.oM.bF;default:return b.oM.tha;}};b.xb=c;c.$z="com.microsoft.playready";c.te="com.microsoft.playready.hardware";c.zH="com.microsoft.playready.software";c.wub="com.apple.fps.2_0";c.X5="com.widevine.alpha";c.izb="com.widevine.alpha.experiment";c.Yka="com.microsoft.playready.recommendation.3000";c.ySa="com.microsoft.playready.recommendation.2000";c.Oub=[c.Yka];b.oM={bF:"fairplay",tha:"widevine",vC:"playready"};},function(r,b,a){var l,g,m;function c(d,f){this.Ax=f?[f]:[];this.pna="$op$" + m++;this.Va=d;}Object.defineProperty(b,"__esModule",{value:!0});b.ec=void 0;l=a(17);g=a(22);m=0;c.prototype.addListener=function(d,f){var h;h=this;(0,g.isa)(d);(0,g.ya)(0 > this.Ax.indexOf(d));d[l.c5 + this.pna]=f;this.Ax=this.Ax.slice();this.Ax.push(d);this.Ax.sort(function(k,n){return h.Ugc(k,n);});};c.prototype.removeListener=function(d){var f;(0,g.isa)(d);this.Ax=this.Ax.slice();0 <= (f=this.Ax.indexOf(d)) && this.Ax.splice(f,1);};c.prototype.set=function(d,f){var h;if(this.Va !== d){h={oldValue:this.Va,newValue:d,ij:f};this.Va=d;this.qAb=f;d=this.Ax;f=d.length;for(var k=0;k < f;k++){d[k](h);}}};c.prototype.when=function(d){var f;f=this;return new Promise(function(h){function k(n){if(d(n.newValue))return (f.removeListener(k),h(n.newValue));}if(d(f.Va))return h(f.Va);f.addListener(k);});};c.prototype.Ugc=function(d,f){return (d[l.c5 + this.pna] || 0) - (f[l.c5 + this.pna] || 0);};Va.Object.defineProperties(c.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.Va;}},ij:{configurable:!0,enumerable:!0,get:function(){return this.qAb;}}});b.ec=c;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});r=a(243);c=a(149);b.$nc=c;c=a(386);b.dWa=c;c=a(390);b.DW=c;b.Gla=r.TQ.ve.sidx;r=a(835);b.Zu=r.Zu;r=a(252);b.tH=r.tH;r=a(840);b.Uz=r.Uz;b.AQ=r.AQ;r=a(841);b.Jja=r.Jja;r=a(89);b.sN=r.sN;a=a(842);b.u=a.u;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Meb=b.Oza=b.hg=b.u=void 0;c=a(48);Object.defineProperties(b,{u:{enumerable:!0,get:function(){return c.u;}}});b.hg=[c.u.T,c.u.J];b.Oza=function(l,g,m){l=l || g?g?[c.u.J]:[c.u.T]:[c.u.T,c.u.J];m && l.push(c.u.Za);return l;};b.Meb=function(l){return l === c.u.T?"audio":l === c.u.J?"video":l === c.u.Za?"text":"unknown";};},function(r,b,a){var c,l,g,m,d,f,h,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Gl=void 0;c=a(0);l=a(2);g=c.__importDefault(a(29));m=c.__importDefault(a(186));d=a(430);f=a(20);r=a(35);h=a(187);k=a(265);a=a(78);n=(function(p){function q(v,t,w){var u;u=p.call(this,v,t) || this;q.oa(u,v,t,w);return u;}c.__extends(q,p);q.oa=function(v,t,w,u){var x;h.Ww.oa(v,t,w);v.Je=w.index;v.qN=w.bb;v.ux=w.sb;v.fFb=w.gb?w.gb:t.gb;v.xG=w.xG;v.zaa=u;v.JXa=!!w.Pr;v.nYa=!!w.Nm;v.rZa=null !== (x=w.region) && void 0 !== x?x:0;v.IXa=!!w.gua;v.mYa=!!w.wy;v.pa=void 0 === w.V$ || void 0 === w.sua || w.V$ === w.bb && w.sua === w.sb?v:new k.jD(v,{bb:w.V$,sb:w.sua});v.jCb=w.fAa;v.wzb=w.Xk;v.qBb=t.B_b;v.Ok=w.Ka?v.Ufb(w.Ka):void 0;v.RZa=w.kz;v.de=!1;};q.Z3a=function(v){for(var t=new Uint32Array(v.length),w=new Uint32Array(v.length),u=new Uint8Array(v.length),x=new Uint8Array(v.length),y=0,z,B,A=0;A < v.length;++A){z=v[A];B=z.kd;t[A]=z.ux - z.qN;w[A]=B;u[A]=z.stream.zg;void 0 !== z.gb && null !== z.gb && (x[A]=z.gb);y+=B;}return new d.Hla(t,w,v.length?v[0].W:1E3,y);};Object.defineProperties(q.prototype,{CF:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{index:{get:function(){return this.Je;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{gb:{get:function(){return this.fFb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{aqa:{get:function(){return 8 * this.ga / this.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{bb:{get:function(){return this.qN;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{sb:{get:function(){return this.ux;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Tj:{get:function(){var v,t;return null !== (t=null === (v=this.zaa) || void 0 === v?void 0:v.call(this)) && void 0 !== t?t:0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Pr:{get:function(){return this.JXa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Nm:{get:function(){return this.nYa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{region:{get:function(){return this.rZa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{gua:{get:function(){return this.IXa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{wy:{get:function(){return this.mYa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{fAa:{get:function(){return this.jCb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Xk:{get:function(){return this.wzb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ka:{get:function(){return this.Ok;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{kz:{get:function(){return this.RZa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{V$:{get:function(){return this.pa.bb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{sua:{get:function(){return this.pa.sb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{dVb:{get:function(){return this.pa.Iv;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{X$:{get:function(){return this.pa.Bd;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{J7a:{get:function(){return this.pa.Xf;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{I7a:{get:function(){return this.pa.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{tua:{get:function(){return this.pa.Td;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{cVb:{get:function(){return this.pa.Nc;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{iy:{get:function(){var v;v=this.dVb;(0,l.assert)(v);return v / this.stream.da.Ea;},enumerable:!1,configurable:!0}});q.prototype.rza=function(v){this.JXa=!!v;};q.prototype.Xdb=function(){this.nYa=!0;};q.prototype.Lfc=function(v){this.xG={Ge:v.Uua(),get EZ() {return v.zu;}};};q.prototype.cS=function(v){this.RZa=v;};q.prototype.Ifc=function(v,t,w){this.rZa=v;this.IXa=t;this.mYa=w;};q.prototype.sj=function(v){var t,w;void 0 === v && (v={});t=this.stream.da.Ea;w=this.Ok || ({start:0,end:this.iy});v=this.Ufb(v);this.pa && this.pa !== this || (this.pa=new k.jD(this,this));v.start > w.start && (this.qN=this.pa.bb + v.start * t);v.end < w.end && (this.ux=this.pa.bb + v.end * t);this.Ok=c.__assign(c.__assign({},w),v);};q.prototype.Psa=function(v){void 0 === v && (v=1);this.Ok?this.sj({start:this.Ok.start + v,end:this.Ok.end}):this.sj({start:v});};q.prototype.Qsa=function(v){this.Ok?this.sj({start:this.Ok.start,end:(this.Ok.end || 0) - v}):this.sj({start:0,end:-v});};q.prototype.Gj=function(){this.Ka?this.sj({start:this.Ka.start,end:this.Ka.start}):this.sj({start:0,end:0});};q.prototype.Mfc=function(v){this.Ok || this.sj();this.Ok.cga=v;};q.prototype.tlb=function(v){this.Ok || this.sj();this.Ok.Kv=!0;v && (this.Ok.I6a=v);};q.prototype.ulb=function(v){this.Ok || this.sj();this.Ok.Lv=!0;v && (this.Ok.J6a=v);};q.prototype.h7a=function(v){var w;if(!(v < this.ca || v >= this.Ta) && this.Xk && this.Xk.length){v=new f.N(v + 1 - this.ca,1E3).kk(this.stream.da);for(var t=this.Xk.length - 1;0 <= t;--t){w=this.Xk[t];if(w.rj <= v)return w;}return {rj:0,re:this.tua};}};q.prototype.wUb=function(v){var w;if(!(v < this.ca || v >= this.Ta) && this.Xk && this.Xk.length){v=new f.N(v + 1 - this.ca,1E3).kk(this.stream.da);for(var t=this.Xk.length - 1;0 <= t;--t){w=this.Xk[t];if(w.rj <= v)return w;}return {rj:0,re:this.tua};}};q.prototype.X6a=function(v,t){var w,u,x;if(!(v < this.ca || v >= this.Ta)){if(!t && this.qBb)return {rj:0,re:this.ca};w=this.da.Ea;u=this.da.W;x=Math.floor(this.Iv / w);v=Math.min((t?Math.ceil:Math.floor)((f.N.sfb(v,u) - this.bb + (t?-1:1) * (u / 1E3 - 1)) / w),x);w=f.N.Hga(this.bb + v * w,u);return v === x?void 0:{rj:v,re:w};}};q.prototype.Wta=function(v){return this.mediaType === g.default.$d.J?this.h7a(v):this.X6a(v,!1);};q.prototype.Vta=function(v){return this.mediaType === g.default.$d.J?this.wUb(v):this.X6a(v,!0);};q.prototype.b8=function(v){this.kd+=v.ga;this.ux=v.sb;this.Ok && (this.pa=new k.jD(this,{bb:this.V$,sb:this.ux}),this.Ok.end=this.iy);};q.prototype.eDa=function(v){var t,w,u;t={type:"logdata",target:"endplay",fields:{}};w=this.mediaType === g.default.$d.T?"audioedit":"videoedit";u=[this.X$ === this.ca?this.Nc:this.Td,this.X$ === this.ca?-this.duration:this.duration];v && u.push(v);t.fields[w]={type:"array",value:u};return t;};q.prototype.toString=function(){return ("[").concat(this.Sa,", ").concat(this.bitrate,"kbit/s, ") + ("c:").concat(this.Td,"-").concat(this.Nc,",") + ("p:").concat(this.Bd,"-").concat(this.Xf,",d:").concat(this.duration,"]");};q.prototype.toJSON=function(){var v;v=h.Ww.prototype.toJSON.call(this);(0,m.default)({index:this.index,startPts:this.ca,endPts:this.Ta,"contentStartTicks:":this.bb,contentEndTicks:this.sb,contentStartPts:this.Td,contentEndPts:this.Nc,fragmentStartPts:this.X$ !== this.ca?this.X$:void 0,fragmentEndPts:this.J7a !== this.Ta?this.J7a:void 0,edit:this.Ka},v);return v;};q.prototype.g7a=function(v){var w;if(this.Xk)for(var t=0;t < this.Xk.length;++t){if(this.Xk[t].rj === v)w=this.Xk[t].offset;}return w;};q.prototype.Ufb=function(v){var t,w;t=v.start || 0;w=void 0 === v.end?this.iy:Math.min(this.iy,Math.max(t,0 > v.end?this.iy + v.end:v.end));return c.__assign(c.__assign({},v),{start:t,end:w});};return q;})(h.Ww);b.Gl=n;(0,r.cf)(a.Pu,n);(0,r.cf)(a.Bz,n);},function(r,b,a){var d;function c(f,h){return void 0 === f?void 0:0 === f?d.N.Oa:new d.N(f,h);}function l(f,h){return f && Math.floor(d.N.Hga(f,h));}function g(f,h){return void 0 === f || void 0 === h?void 0:f + h;}function m(f,h){return void 0 === f || void 0 === h?void 0:f - h;}Object.defineProperties(b,{__esModule:{value:!0}});b.Bz=b.Pu=void 0;d=a(20);r=(function(){function f(){}Object.defineProperties(f.prototype,{Iv:{get:function(){return m(this.sb,this.bb) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{E$b:{get:function(){return g(this.bb,this.Tj);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{A$b:{get:function(){return g(this.sb,this.Tj);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ct:{get:function(){return c(this.Iv,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{oc:{get:function(){return c(this.bb,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Jd:{get:function(){return c(this.sb,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ld:{get:function(){return c(this.E$b,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Vc:{get:function(){return c(this.A$b,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{xCa:{get:function(){return c(this.Tj,this.W);},enumerable:!1,configurable:!0}});return f;})();b.Pu=r;r=(function(){function f(){}Object.defineProperties(f.prototype,{duration:{get:function(){return m(this.Ta,this.ca) || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ca:{get:function(){return l(g(this.bb,this.Tj),this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ta:{get:function(){return l(g(this.sb,this.Tj),this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Dw:{get:function(){return l(this.Tj,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{$k:{get:function(){return l(this.bb,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Td:{get:function(){return l(this.bb,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Nc:{get:function(){return l(this.sb,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Bd:{get:function(){return l(g(this.bb,this.Tj),this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Xf:{get:function(){return l(g(this.sb,this.Tj),this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Qn:{get:function(){return this.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{AC:{get:function(){return this.ca;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Cw:{get:function(){return this.Ta;},enumerable:!1,configurable:!0}});return f;})();b.Bz=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qu={Request:"Request",Ila:"Singleton",O5:"Transient"};b.Fk={SJa:"ConstantValue",TJa:"Constructor",eLa:"DynamicValue",hja:"Factory",Function:"Function",Instance:"Instance",Evb:"Invalid",NTa:"Provider"};b.dA={IJa:"ClassProperty",UJa:"ConstructorArgument",bma:"Variable"};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SNa="Injector";b.Qz=145152E5;b.NM="ProfileSymbol";},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});b.g5a=b.H$a=b.Iob=b.tw=b.Zca=b.Neb=void 0;r=a(683);c=a(686);l=a(707);g=a(710);a=a(711);b.Neb=r;b.Zca=function(m,d){return (0,b.Neb)(function(f,h){return void 0 !== h?h:f;},m,d);};b.tw=c;b.Iob=l;b.H$a=g;b.g5a=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Cz="Base16EncoderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jyb="StorageValidatorSymbol";b.Az="AppStorageFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Zz="PboConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WM="TimingApiSymbol";b.kU="MilestoneTimingApiSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Oz="IdProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Pz="LogMessageFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ar={start:"start",stop:"stop",HZ:"keepAlive",lP:"engage",splice:"splice"};b.eja="EventPboCommandFactorySymbol";b.dVa="StartEventPboCommandSymbol";b.kVa="StopEventPboCommandSymbol";b.cOa="KeepAliveEventPboCommandSymbol";b.ZUa="SpliceEventPboCommandSymbol";b.DLa="EngageEventPboCommandSymbol";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(102);b.sN=function(l){c.assert("number" === typeof l);return String.fromCharCode(l >>> 24 & 255) + String.fromCharCode(l >>> 16 & 255) + String.fromCharCode(l >>> 8 & 255) + String.fromCharCode(l & 255);};b.jXa=function(l){return l.charCodeAt(3) + (l.charCodeAt(2) << 8) + (l.charCodeAt(1) << 16) + (l.charCodeAt(0) << 24);};b.Qrc=function(l,g){return Math.floor(1E3 * l / g);};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(m){l.prototype.parse.call(this,m);this.fd=this.Yy([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{Muc:"int32"},{iyc:"int32"},{offset:32,type:"offset"},{iuc:"int16"},{btc:{type:"int8",gHb:32}},{depth:"int16"},{offset:16,type:"offset"}]);return !0;};g.wd=!0;return g;})(a(244).default);b.default=r;a=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.xf="avc1";return g;})(r);b.drb=a;a=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.xf="avc2";return g;})(r);b.erb=a;a=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.xf="avc3";return g;})(r);b.frb=a;a=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.xf="avc4";return g;})(r);b.grb=a;a=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.xf="hvc1";return g;})(r);b.Mub=a;a=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.xf="hev1";return g;})(r);b.Fub=a;r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.xf="av01";return g;})(r);b.crb=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Vw=void 0;r=(function(){function a(c){this.me=c;}a.prototype.yEa=function(c){this.me=c;};a.prototype.A2a=function(){this.me=void 0;};a.prototype.oY=function(c){return this.me && this.me.$da && this.me.$da(c);};a.prototype.BP=function(c){this.me && this.me.qC && this.me.qC(c);};a.prototype.dF=function(c){this.me && this.me.pC && this.me.pC(c);};a.prototype.wJ=function(c){this.me && this.me.JK && this.me.JK(c);};a.prototype.C7a=function(c){this.me && this.me.cBa && this.me.cBa(c);};a.prototype.Pv=function(c){this.me && this.me.nl && this.me.nl(c);};a.prototype.T$=function(c){this.me && this.me.$_ && this.me.$_(c);};a.prototype.AP=function(c,l,g){this.me && this.me.Z_ && this.me.Z_(c,l,g);};a.prototype.U$=function(c,l,g){this.me && this.me.KK && this.me.KK(c,l,g);};a.prototype.D7a=function(c){this.me && this.me.Zda && this.me.Zda(c);};return a;})();b.Vw=r;r.prototype.$da=r.prototype.oY;r.prototype.qC=r.prototype.BP;r.prototype.pC=r.prototype.dF;r.prototype.JK=r.prototype.wJ;r.prototype.nl=r.prototype.Pv;r.prototype.$_=r.prototype.T$;r.prototype.Z_=r.prototype.AP;r.prototype.cBa=r.prototype.C7a;r.prototype.KK=r.prototype.U$;r.prototype.Zda=r.prototype.D7a;},function(r){r.exports=function(b,a){for(var c in b){b.hasOwnProperty(c) && (a[c]=b[c]);}return a;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xj={audio:"audio",video:"video",Fga:"timedtext",eGa:"trickplay"};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Iz="DeviceFactorySymbol";},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Ci=b.Jwb=b.AD=void 0;c=a(15);b.AD=b.AD || (function(l,g,m){return l >= g?l <= m?l:m:g;});b.Jwb=function(l,g,m,d,f){return (l - g) * (f - d) / (m - g) + d;};b.Ci=function(l){if((0,c.Qa)(l))return (l / 1E3).toFixed(3);};},function(r,b,a){var c;c=a(616);r.exports=function(l){return "symbol" === typeof l?"Symbol":"bigint" === typeof l?"BigInt":c(l);};},function(r,b,a){var g,m;function c(d,f,h,k,n){var p,q,t;p={};q="number" === typeof n;n=void 0 !== n && q?n.toString():h;if(q && void 0 !== h)throw Error(g.pvb);Reflect.vwa(d,f) && (p=Reflect.getMetadata(d,f));h=p[n];if(Array.isArray(h)){q=0;for(var v=h;q < v.length;q++){t=v[q];if(t.key === k.key)throw Error(g.Htb + " " + t.key.toString());}}else h=[];h.push(k);p[n]=h;Reflect.O9(d,p,f);}function l(d,f){return function(h,k){f(h,k,d);};}Object.defineProperty(b,"__esModule",{value:!0});g=a(55);m=a(41);b.JL=function(d,f,h,k){c(m.vVa,d,f,k,h);};b.X1=function(d,f,h){c(m.wVa,d.constructor,f,h);};b.ME=function(d,f,h){"number" === typeof h?(d=[l(h,d)],Reflect.ME(d,f)):"string" === typeof h?Reflect.ME([d],f,h):Reflect.ME([d],f);};},function(r,b,a){var l,g;function c(m,d,f,h,k){m=void 0 === m?l.aa.Fo:m;return g.rd.call(this,m,d,f,void 0,void 0,h,g.rd.mf(k),k) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.Vh=void 0;l=a(4);g=a(36);ka(c,g.rd);b.Vh=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Sz="MediaKeySystemAccessServicesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hT=b.prb=b.Tha=b.Uha=void 0;(function(a){a[a.D5a=0]="downloading";a[a.jRb=1]="downloaded";a[a.de=2]="appended";a[a.buffered=3]="buffered";a[a.GR=4]="removed";a[a.$xc=5]="unused";})(b.Uha || (b.Uha={}));(function(a){a[a.waiting=1]="waiting";a[a.fwc=2]="ondeck";a[a.D5a=4]="downloading";a[a.jRb=8]="downloaded";a[a.sZ=6]="inprogress";})(b.Tha || (b.Tha={}));b.prb="AseBufferViewSymbol";b.hT="AseBufferAccountingSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Pka=b.Lp=void 0;r=b.Lp || (b.Lp={});r.JM="PRE_FETCH";r.Zxb="QC";r.gr="STANDARD";r.C5="SUPPLEMENTAL";r.Tnc="DOWNLOAD";b.Pka="PboManifestCommandSymbol";},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=(function(g){function m(){return null !== g && g.apply(this,arguments) || this;}c.__extends(m,g);return m;})(Error);b.assert=function(g,m){if(!g)throw new l(m || "Assertion failed");};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tka="6674654e-696c-5078-6966-665374726d21";b.uka="6674654e-696c-4878-6165-6465722e7632";b.tQa="6674654e-696c-5078-6966-66496e646578";b.V4="6674654e-696c-4d78-6f6f-6653697a6573";b.U4="6674654e-696c-5378-6565-6b506f696e74";b.eRa="cedb7489-e77b-514c-84f9-7148f9882554";b.dRa="524f39a2-9b5a-144f-a244-6c427c648df4";b.ska="6674654e-696c-4678-7261-6d6552617465";},function(r,b,a){var n;function c(p,q){if(p.length == q.length && 1 < p.length){for(var v=p.length,t=0,w=d(p),u=d(q),x=0;x < v;x++){t+=p[x] * q[x];}return (t - w * u / v) / v;}return !1;}function l(p){if(!Array.isArray(p) || 2 > p.length)return !1;p=g(p);return Math.sqrt(p);}function g(p){var q;if(!Array.isArray(p) || 2 > p.length)return !1;q=m(p);return d(p.map(function(v){return (v - q) * (v - q);})) / (p.length - 1);}function m(p){return Array.isArray(p) && p.length?d(p) / p.length:!1;}function d(p){return Array.isArray(p)?p.reduce(function(q,v){return q + v;},0):!1;}function f(p,q,v){return Math.max(Math.min(p,v),q);}function h(p,q){return "number" === typeof p?p:q;}function k(p){return 1 / (1 + Math.exp(-p));}n=a(11);r.exports={kb:function(p,q,v){try{p.emit(q,v);}catch(t){p.Il("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",t,"Event:",v);}},iB:function(){var p,q,v;p=Array.prototype.concat.apply([],arguments);q=p.reduce(function(t,w){return t + w.byteLength;},0);v=new Uint8Array(q);p.reduce(function(t,w){v.set(new Uint8Array(w),t);return t + w.byteLength;},0);return v.buffer;},a9:f,PKb:function(p,q,v,t){return {min:f(h(p.min,q),v,t),max:f(h(p.max,q),v,t),$A:f(p.$A || 6E4,0,6E5),a2a:f(p.a2a || 0,-3E5,3E5),scale:f(p.scale || 6E4,0,3E5),Kkb:f(p.Kkb || 0,-3E5,3E5),gamma:f(p.gamma || 1,.1,10)};},zh:function(p,q){void 0 !== p && n.u9b(p).forEach(function(v){q(v[0],v[1]);});},qta:function(p,q,v){return p.min + (p.max - p.min) * (1 - Math.pow(k(6 * (q - (p.$A + (p.a2a || 0) * (1 - v))) / (p.scale + (p.Kkb || 0) * (1 - v))),p.gamma));},aTb:function(p,q){return p.min + (p.max - p.min) * Math.pow(k(6 * (q - p.$A) / p.scale),p.gamma);},yuc:d,$Vb:m,IZb:g,wuc:l,ouc:c,nuc:function(p,q){var v;if(p.length == q.length){v=c(p,q);p=l(p);q=l(q);if(0 < p && 0 < q)return v / (p * q);}return !1;},Oi:function(p,q,v){return q.a4a?q.a4a(v):new p.Console("ASEJS","media|asejs",q.prefix?q.prefix + " " + v:v);},Gec:function(p){return p.length?"{" + p + "} ":"";},pec:function(p,q,v){return {min:p.min * v + (1 - v) * q.min,max:p.max * v + (1 - v) * q.max,$A:p.$A * v + (1 - v) * q.$A,scale:p.scale * v + (1 - v) * q.scale,gamma:p.gamma * v + (1 - v) * q.gamma};},tanh:Math.tanh || (function(p){var q;q=Math.exp(+p);p=Math.exp(-p);return Infinity == q?1:Infinity == p?-1:(q - p) / (q + p);}),QEa:k,zy:function(p){var q;q=p.Xa.hb.G.id;return {ca:p.ca,duration:p.duration,offset:p.offset,ga:p.ga,bitrate:p.bitrate,profile:p.profile,Hc:p.Hc,S:q,Sa:p.Sa,$c:p.$c,location:p.location,Mi:p.Mi,$k:p.$k,gu:{hb:{G:{id:q}}}};}};},function(r){var h,k,n,p;function b(){b.oa.call(this);}function a(q){if("function" !== typeof q)throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof q);}function c(q,v,t,w){var u,x;a(t);u=q.Xg;if(void 0 === u)(u=q.Xg=Object.create(null),q.UH=0);else {void 0 !== u.awc && (q.emit("newListener",v,t.listener?t.listener:t),u=q.Xg);x=u[v];}void 0 === x?(u[v]=t,++q.UH):("function" === typeof x?x=u[v]=w?[t,x]:[x,t]:w?x.unshift(t):x.push(t),t=void 0 === q.yV?b.JPb:q.yV,0 < t && x.length > t && !x.Tlc && (x.Tlc=!0,t=Error("Possible EventEmitter memory leak detected. " + x.length + " " + String(v) + " listeners added. Use emitter.setMaxListeners() to increase limit"),t.name="MaxListenersExceededWarning",t.Dt=q,t.type=v,t.count=x.length,console && console.warn && console.warn(t)));return q;}function l(){if(!this.k7a)return (this.target.removeListener(this.type,this.rqb),this.k7a=!0,0 === arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments));}function g(q,v,t){q={k7a:!1,rqb:void 0,target:q,type:v,listener:t};v=l.bind(q);v.listener=t;return q.rqb=v;}function m(q){var v;v=this.Xg;if(void 0 !== v){q=v[q];if("function" === typeof q)return 1;if(void 0 !== q)return q.length;}return 0;}function d(q,v,t){"function" === typeof q.on && f(q,"error",v,t);}function f(q,v,t,w){if("function" === typeof q.on){if(w.once)q.once(v,t);else q.on(v,t);}else if("function" === typeof q.addEventListener)q.addEventListener(v,function y(x){w.once && q.removeEventListener(v,y);t(x);});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof q);}h="object" === typeof Reflect?Reflect:null;k=h && "function" === typeof h.apply?h.apply:function(q,v,t){return Function.prototype.apply.call(q,v,t);};n=Number.isNaN || (function(q){return q !== q;});r.exports=b;r.exports.once=function(q,v){return new Promise(function(t,w){function u(y){q.removeListener(v,x);w(y);}function x(){"function" === typeof q.removeListener && q.removeListener("error",u);t([].slice.call(arguments));}f(q,v,x,{once:!0});"error" !== v && d(q,u,{once:!0});});};b.EventEmitter=b;b.prototype.Xg=void 0;b.prototype.UH=0;b.prototype.yV=void 0;p=10;Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return p;},set:function(q){if("number" !== typeof q || 0 > q || n(q))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + q + ".");p=q;}});b.oa=function(){if(void 0 === this.Xg || this.Xg === Object.getPrototypeOf(this).Xg)(this.Xg=Object.create(null),this.UH=0);this.yV=this.yV || void 0;};b.prototype.setMaxListeners=function(q){if("number" !== typeof q || 0 > q || n(q))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + q + ".");this.yV=q;return this;};b.prototype.emit=function(q){var w,u;for(var v=[],t=1;t < arguments.length;t++){v.push(arguments[t]);}w="error" === q;t=this.Xg;if(void 0 !== t)w=w && void 0 === t.error;else if(!w)return !1;if(w){0 < v.length && (u=v[0]);if(u instanceof Error)throw u;v=Error("Unhandled error." + (u?" (" + u.message + ")":""));v.context=u;throw v;}t=t[q];if(void 0 === t)return !1;if("function" === typeof t)k(t,this,v);else {u=t.length;w=Array(u);for(var x=0;x < u;++x){w[x]=t[x];}for(t=0;t < u;++t){k(w[t],this,v);}}return !0;};b.prototype.addListener=function(q,v){return c(this,q,v,!1);};b.prototype.on=b.prototype.addListener;b.prototype.u0=function(q,v){return c(this,q,v,!0);};b.prototype.once=function(q,v){a(v);this.on(q,g(this,q,v));return this;};b.prototype.bCa=function(q,v){a(v);this.u0(q,g(this,q,v));return this;};b.prototype.removeListener=function(q,v){var t,w,u,x,y;a(v);w=this.Xg;if(void 0 === w)return this;u=w[q];if(void 0 === u)return this;if(u === v || u.listener === v)0 === --this.UH?this.Xg=Object.create(null):(delete w[q],w.removeListener && this.emit("removeListener",q,u.listener || v));else if("function" !== typeof u){x=-1;for(t=u.length - 1;0 <= t;t--){if(u[t] === v || u[t].listener === v){y=u[t].listener;x=t;break;}}if(0 > x)return this;if(0 === x)u.shift();else {for(;x + 1 < u.length;x++){u[x]=u[x + 1];}u.pop();}1 === u.length && (w[q]=u[0]);void 0 !== w.removeListener && this.emit("removeListener",q,y || v);}return this;};b.prototype.Jy=b.prototype.removeListener;b.prototype.removeAllListeners=function(q){var v,t,w;v=this.Xg;if(void 0 === v)return this;if(void 0 === v.removeListener)return (0 === arguments.length?(this.Xg=Object.create(null),this.UH=0):void 0 !== v[q] && (0 === --this.UH?this.Xg=Object.create(null):delete v[q]),this);if(0 === arguments.length){t=Object.keys(v);for(v=0;v < t.length;++v){w=t[v];"removeListener" !== w && this.removeAllListeners(w);}this.removeAllListeners("removeListener");this.Xg=Object.create(null);this.UH=0;return this;}t=v[q];if("function" === typeof t)this.removeListener(q,t);else if(void 0 !== t)for(v=t.length - 1;0 <= v;v--){this.removeListener(q,t[v]);}return this;};b.prototype.listeners=function(q){var v;v=this.Xg;if(void 0 === v)q=[];else if((q=v[q],void 0 === q))q=[];else if("function" === typeof q)q=[q.listener || q];else {v=Array(q.length);for(var t=0;t < v.length;++t){v[t]=q[t].listener || q[t];}q=v;}return q;};b.listenerCount=function(q,v){return "function" === typeof q.listenerCount?q.listenerCount(v):m.call(q,v);};b.prototype.listenerCount=m;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v;Object.defineProperties(b,{__esModule:{value:!0}});b.e3=b.Gh=void 0;c=a(0);r=c.__importDefault(a(13));l=c.__importStar(a(11));g=r.default.ef;m=c.__importDefault(a(3));d=m.default.dr;f=a(184);h=a(6);k=c.__importDefault(a(154));n=a(8);r=a(35);a(2);a(1001);p=a(188);q=a(187);(function(t){t[t.wQa=0]="NOTHING_APPENDED";t[t.Bka=1]="PARTIAL";t[t.Js=2]="COMPLETE";t[t.Bg=3]="ERROR";})(v=b.Gh || (b.Gh={}));a=(function(t){function w(u,x,y,z,B,A,C){x=t.call(this,x,y) || this;x.DBb=!!z.Hc;p.WG.oa(x,u,z,B,A,C);q.Ww.oa(x,u,z);x.pzb=u.Iaa(x.Hc,x.up);x.jma=z.responseType;x.ozb=z.$fa;void 0 === x.jma && (x.jma=d.Yc && !d.Yc.PR.SM?0:1);x.ak=new g();x.ak.on(x,d.df.NQa,x.Vna);x.ak.on(x,d.df.MQa,x.$Cb);x.ak.on(x,d.df.OQa,x.cDb);x.ak.on(x,d.df.qU,x.Una);x.ak.on(x,d.df.lqc,x.ZCb);x.ak.on(x,d.df.xH,x.AV);x.aN=!1;x.gf=!1;x.xn=!1;x.Zp=!1;x.fV=!1;x.YDb=z.$0;x.jEb=z.LC;x.ju=0;return x;}c.__extends(w,t);Object.defineProperties(w.prototype,{Hc:{get:function(){return this.DBb;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{active:{get:function(){return this.gf;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{NCa:{get:function(){return this.xn;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{complete:{get:function(){return !this.aN && 5 === this.readyState;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{aborted:{get:function(){return this.aN;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Oxa:{get:function(){return this.Zp && !this.fV;},enumerable:!1,configurable:!0}});w.prototype.oa=function(u){var x;p.WG.prototype.oa.call(this,u);if(!this.Xp && this.mediaType !== h.u.Za && (this.Le.Zoa || !this.Hc) && (u=this.Xp=k.default.instance(),this.active)){x=m.default.time.fa();u.Fw(x,this.sG);this.xn && (u.$jb(),x=this.jL,this.connect && 0 < x.length && u.LA(x[0]));}};w.prototype.Mm=function(){return this.de || 6 === this.readyState || 7 === this.readyState || 1 !== this.responseType?5 === this.readyState:3 <= this.readyState;};w.prototype.OA=function(u,x,y,z,B){var A;z || (z=(0,n.zy)(this));this.de=B?this.Le.U8b?B.every(function(C,D){return x.appendBuffer(C,0 === D?z:void 0);}):x.appendBuffer(1 < B.length?(0,n.iB)(B):B[0],z):x.appendBuffer(this.response,z);null === (A=this.S6) || void 0 === A?void 0:A.$7b();this.response && this.FR();return {status:this.de?v.Js:v.Bg};};w.prototype.MK=function(){var u;null === (u=this.S6) || void 0 === u?void 0:u.v8b();(this.Zp=d.prototype.open.call(this,this.pzb,{start:this.offset,end:this.offset + this.ga - 1},this.jma,{},void 0,void 0,this.ozb,this.stream.uu)) && this.oY(this);return this.Zp;};w.prototype.abort=function(){var u,x;if(this.aborted)return !0;u=this.gf;x=this.Xp;x && u && x.$y(m.default.time.fa(),this.xn,this.sG);this.aN=!0;this.xn=this.gf=!1;d.prototype.abort.call(this);this.AP(this,u,this.Oxa);return !0;};w.prototype.ud=function(){7 !== this.readyState && 5 !== this.readyState && this.abort();this.ak && this.ak.clear();t.prototype.ud.call(this);};w.prototype.Vna=function(){var u,x;x=this.tg || this.loadTime;null === (u=this.S6) || void 0 === u?void 0:u.o8b();f.Dz.instance().push(m.default.time.fa() - x);this.gf || (this.gf=!0,this.ew=this.track.ew(),this.stream.K.Zdb || (u=this.Xp) && u.Fw(x,this.sG),this.BP(this),this.zw=this.tg);};w.prototype.$Cb=function(){var u,x,y,z;null === (u=this.S6) || void 0 === u?void 0:u.k8b();u=this.tg || this.aua;x=this.connect;y=this.jL;f.Dz.instance().push(m.default.time.fa() - u);this.gf || (this.gf=!0);if(!this.xn){this.xn=!0;z=this.Xp;this.stream.K.Zdb && z && z.Fw(u,this.sG);z && z.$jb();x && 0 < y.length && z && z.LA(y[0]);this.dF(this);this.zw=u;0 >= this.ga && (u=this.ga,this.kfc(this.Rg),this.U$(this,this.Rg,u));this.stream.ta?(u=this.getResponseHeader("X-TCP-Info",!0),this.stream.E9b(u,this)):this.getAllResponseHeaders(!0);}};w.prototype.cDb=function(){var u,x,y;u=this.tg;x=this.bytesReceived - this.ju;f.Dz.instance().push(m.default.time.fa() - u);this.xn || (this.xn=!0);y=this.Xp;y && (void 0 === this.zw || y.pE(x,this.zw,u,this.sG),(x=this.jL) && x.length && x.forEach(function(z){y.KA(z);}));this.wJ(this);this.zw=u;this.ju=this.bytesReceived;};w.prototype.Una=function(){var u,x,y;null === (u=this.S6) || void 0 === u?void 0:u.P_();u=this.tg;x=this.bytesReceived - this.ju;f.Dz.instance().push(m.default.time.fa() - u);y=this.Xp;y && (0 < x && y.pE(x,this.zw,u,this.sG),(x=this.jL) && x.length && x.forEach(function(z){y.KA(z);}),y.$y(u,this.xn,this.sG));this.xn=this.gf=!1;this.fV=!0;this.Pv(this);this.zw=u;this.ju=this.bytesReceived;this.ud();};w.prototype.ZCb=function(){this.D7a(this);};w.prototype.ZAb=function(){var u,x;u=(u=this.stream)?u.toString():this.url;x=this.BO;x && (u+=",range " + x.start + "-" + x.end);return u;};Object.defineProperties(w.prototype,{sG:{get:function(){return {requestId:this.ZAb(),fl:this.$c,type:this.mediaType,$0:this.YDb,ga:this.ga,bytesReceived:this.bytesReceived,LC:this.jEb};},enumerable:!1,configurable:!0}});w.prototype.AV=function(){var u,x,y,z;this.H.warn("AseMediaRequest._onError:",this.toString());u=this.tg;x=this.status;y=this.Ah;z=this.Nj;f.Dz.instance().push(m.default.time.fa() - u);this.complete?this.H.warn("Error on a done request " + this.toString() + ", failurecode: " + y):this.aborted?this.H.warn("Error on an aborted request " + this.toString() + ", failurecode: " + y):l.Qa(y)?((y=this.Xp) && this.Le && this.Le.fDa && this.loadTime && void 0 === x && y.pE(this.ju?this.bytesReceived - this.ju:this.bytesReceived,this.zw?this.zw:this.loadTime,u,this.sG),this.T$(this)):this.H.warn("ignoring undefined request error (nativecode: " + z + ")");};return w;})(d);b.e3=a;(0,r.cf)(p.WG,a,!1);(0,r.cf)(q.Ww,a,!1);},function(r,b,a){var h,k,n,p,q,v,t,w,u,x,y,z,B;function c(){this.Eg=(0,v.lk)("Http");this.Jl=new h.Gk();this.PH=0;this.cc={ssl:0,"non-ssl":0,invalid:0};this.t5={Za:1,jzb:2,CIa:3};this.addEventListener=this.Jl.addListener;this.removeEventListener=this.Jl.removeListener;}function l(A){var C,D,E,G;C=A.url.split("?");D="sc=" + A.vec;E=A.G1a?"random=" + (1E17 * (0,u.eU)()).toFixed(0):"";G=C[0];G=C[1]?G + ("?" + C[1] + "&" + D):G + ("?" + D);G+=E?"&" + E:"";A.Cc && !(0,n.Yba)(G) && (A=k.config && k.config.Nqa) && (G=A.replace("{URL}",G).replace("{EURL}",encodeURIComponent(G)));return G;}function g(A,C){var D,E,G;D=A.url.split("?");E=m(A);G=D[0];E && (C.ou=E,(void 0 === A.Gu?k.config.Gu:A.Gu) || A.uu !== z.pU?(A.headers=A.headers || ({}),A.headers.Range="bytes=" + E):(C.ou=E,G="/" === G[G.length - 1]?G + "range/":G + "/range/",G+=E));E=A.G1a?"random=" + (1E17 * (0,u.eU)()).toFixed(0):"";k.config.VE && A.$fa && (E="sc=" + A.$fa + (E?"&" + E:""));G=D[1]?G + ("?" + D[1] + (E?"&" + E:"")):G + (E?"?" + E:"");A.Cc && !(0,n.Yba)(G) && (A=k.config && k.config.Nqa) && (G=A.replace("{URL}",G).replace("{EURL}",encodeURIComponent(G)));C.url=G;}function m(A){var C;C=A.offset;if(void 0 !== C)return ((0,t.vX)(C),void 0 !== A.length?(A=C + A.length - 1,(0,t.vX)(A),C + "-" + A):C + "-");}function d(A,C,D,E){var G,F;G=E.$hb;F=E.headers;A.open(G?"POST":"GET",C,!D);switch(E.responseType){case b.hZ:A.responseType="arraybuffer";break;case b.Nwa:(0,w.T1a)(A,"overrideMimeType",void 0,"text/xml");}G && (C={"Content-Type":(0,y.Ng)(G)?"text/plain":"application/x-octet-stream"},F=F?(0,w.Oe)(C,F):C);F && (0,w.zh)(F,function(L,O){A.setRequestHeader(L,O);});E.withCredentials && (A.withCredentials=!0);G?A.send(G):A.send();}function f(A,C){switch(C.type){case b.hZ:return A.response || new ArrayBuffer(0);case b.Nwa:return A.responseXML;default:return A.responseText;}}Object.defineProperty(b,"__esModule",{value:!0});b.hZ=b.Nwa=b.Mwa=b.i0b=b.Pwa=b.h0b=b.tab=b.nba=b.Bf=b.kzb=b.lzb=b.g0b=b.Owa=b.d0b=b.e0b=b.c0b=b.f0b=void 0;h=a(70);k=a(19);r=a(17);n=a(44);p=a(62);q=a(4);v=a(9);t=a(22);w=a(23);u=a(14);x=a(59);y=a(15);z=a(65);B=a(1245);c.prototype.Agc=function(A){var C;C=new XMLHttpRequest();A=l(A);C.open("HEAD",A);C.onreadystatechange=function(){2 === C.readyState && !1;};C.send();};c.prototype.download=function(A,C){var M,H,J,N,P,W,V,S,U,fa,qa,za,Aa,Qa;function D(){var T;if(!V){V=!0;Qa && (mb.clearTimeout(Qa),Qa=null);M.Jl.removeListener(b.Pwa,L);M.foa(qa,za);za && (za.onloadstart=null,za.onreadystatechange=null,za.onprogress=null,za.onerror=null,za.onload=null,za=za.onabort=null);qa.ja || (qa.Ca != q.Y.rD?J.warn("Download failed",W,(0,q.Mz)(qa)):J.trace("Download aborted",W));T=S;S=null;null === T || void 0 === T?void 0:T.reduceRight(function(Z,Q){(0,x.Lg)(function(){return Q(qa);});},null);M.Jl.Zc(b.tab,qa,!0);}}function E(){Qa && (mb.clearTimeout(Qa),Qa=null);Qa=mb.setTimeout(O,Aa?P:N);}function G(T,Z,Q,la){var sa,R;qa.ja=!1;qa.Ca=T;sa=(0,p.Uo)();R=qa.Qm;R.qj=R.qj || sa;R.Qq=R.Qq || sa;Z && 0 < Z && (qa.Vl=Z,qa.Rf=Z.toString());Q && (qa.Ub=Q);la && (qa.uG=la);T !== q.Y.NT && T !== q.Y.iH && T !== q.Y.QT || !za || (za.onabort=null,K());D();}function F(T){var Z,Q;try{Q=T.getResponseHeader("X-Netflix.Retry.Server.Policy");Q && (Z=JSON.parse(Q));}catch(la){!1;}return Z;}function L(){(0,b.Owa)() || G(q.Y.NT);}function O(){G(Aa?q.Y.iH:q.Y.QT);}function K(){try{null === za || void 0 === za?void 0:za.abort();}catch(T){}}function I(){G(q.Y.rD);}M=this;(0,t.ya)(C);J=(null === (H=null === A || void 0 === A?void 0:A.j) || void 0 === H?0:H.log)?(0,v.kj)(A.j,"Http"):this.Eg;N=A.m9 || k.config.m9;P=A.rAa || k.config.rAa;W={Num:this.PH++};V=!1;S=[C];U={};this.WEb(A);qa=new B.fNa(A,K,O,U,function(T){V || ((0,t.ya)(S,"Callback should be added before download starts."),S && S.unshift(T));});Aa=!1;(0,x.Lg)(function(){var T,Z;if((0,y.bya)(A.url))try{if((g(A,qa),fa=qa.url,(0,t.wX)(fa),W.Url=fa,(0,b.Owa)())){!1;za=new XMLHttpRequest();T=k.config.dlc && "undefined" != typeof za.onloadstart;T && (za.onloadstart=function(){var Q;Q=(0,p.Uo)();U.ws=Q;qa.S_({mediaRequest:A,timestamp:Q});});za.onreadystatechange=function(){2 === (null === za || void 0 === za?void 0:za.readyState) && (Aa=!0,U.qj=(0,p.Uo)(),za.onreadystatechange=null,E(),!1,M.foa(qa,za),qa.T_({timestamp:U.qj,connect:!0,mediaRequest:A,start:U.ws,rt:[U.qj - U.ws],responseHeaders:qa.headers}));};za.onprogress=function(Q){Aa=!0;U.iX=Q.loaded;E();M.foa(qa,za);Q={mediaRequest:A,bytes:Q.loaded,timestamp:(0,p.Uo)(),bytesLoaded:Q.loaded,responseHeaders:qa.headers};qa.T_(Q);};za.onload=function(Q){!V && za && ((0,t.ya)(void 0 === U.Qq),U.Qq=(0,p.Uo)(),U.qj=U.qj || U.Qq,U.iX=Q.loaded,200 <= za.status && 299 >= za.status?(Q=f(za,qa),qa.parsed=!1,qa.content=Q,qa.ja=!0):420 === za.status?G(q.Y.PT,za.status):G(q.Y.OT,za.status,za.response,F(za)),D());};za.onabort=I;za.onerror=function(){var Q,la;if(za){Q=za.status;"undefined" !== typeof k.config.A7a && (Q=k.config.A7a);if(0 < Q){if(420 === Q)G(q.Y.PT,Q);else {try{la=za.responseText;}catch(sa){}G(q.Y.OT,Q,la,F(za));}}else G(q.Y.RT);}};Z=(0,p.Uo)();d(za,fa,!1,A);M.Jl.Zc(b.nba,qa,!0);T || (U.ws=Z,qa.S_({mediaRequest:A,timestamp:Z}));E();M.Jl.addListener(b.Pwa,L);}else (0,x.Lg)(G.bind(void 0,q.Y.NT));}catch(Q){J.error("Exception starting download",Q,W);G(q.Y.vja,void 0,(0,w.mf)(Q));}else G(q.Y.KMa);});return qa;};c.prototype.Sac=function(A){var C,D,E;C=new XMLHttpRequest();D=A.url;E=A.Pac;C.open("HEAD",D);C.timeout=Math.max(2 * E.k4b,k.config.mCa);C.onreadystatechange=function(){2 === C.readyState && (!1,E && E.ZQ({url:D}));};C.ontimeout=C.onerror=function(){!1;E && E.yAa({url:D});};C.send();};c.prototype.WEb=function(A){var C;try{C=A.url;(0,y.bya)(C)?0 === C.indexOf("https")?this.cc.ssl++:0 === C.indexOf("http")?this.cc["non-ssl"]++:this.cc.invalid++:this.cc.invalid++;}catch(D){}};c.prototype.foa=function(A,C){var D;if(!A.headers && C){D={};C.getAllResponseHeaders().trim().split(/[\r\n]+/).forEach(function(E){var G;G=oa(E.split(": "));E=G.next().value;G=da(G).join(": ");E && (D[E.toLowerCase()]=G);});A.headers=D;}};b.f0b=l;b.c0b=function(A){var C,D,E,G;C=A.url.split("?");D="bb_reason=" + A.reason;E=A.G1a?"random=" + (1E17 * (0,u.eU)()).toFixed(0):"";G=C[0];G=C[1]?G + ("?" + C[1] + "&" + D):G + ("?" + D);G+=E?"&" + E:"";A.Cc && !(0,n.Yba)(G) && (A=k.config && k.config.Nqa) && (G=A.replace("{URL}",G).replace("{EURL}",encodeURIComponent(G)));return G;};b.e0b=g;b.d0b=m;b.Owa=r.RTa;b.g0b=function(){return !1 !== u.ff.onLine;};b.lzb=d;b.kzb=f;b.Bf=new c();b.nba=1;b.tab=2;b.h0b=3;b.Pwa=4;b.i0b=5;b.Mwa=b.Bf.t5.Za;b.Nwa=b.Bf.t5.jzb;b.hZ=b.Bf.t5.CIa;mb._cad_global.http=b.Bf;},function(r,b,a){b=a(212);r.exports=b.call(Function.call,Object.prototype.hasOwnProperty);},function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});a=0;b.id=function(){return a++;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.yH="PlatformConfigDefaultsSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sKa="DebugConfigSymbol";b.Fz="DebugSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fja="EventSourceSymbol";b.ija="GlobalEventSourceSymbol";b.C3="DebugEventSourceSymbol";b.HKa="DiagnosticsEventSourceSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UM="ThrottleFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zM="LoggerSinksSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rH="ManifestFetcherSymbol";},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(903),b);r.__exportStar(a(904),b);r.__exportStar(a(905),b);r.__exportStar(a(906),b);r.__exportStar(a(907),b);r.__exportStar(a(908),b);r.__exportStar(a(909),b);r.__exportStar(a(910),b);r.__exportStar(a(398),b);r.__exportStar(a(399),b);r.__exportStar(a(911),b);r.__exportStar(a(912),b);r.__exportStar(a(400),b);},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.jn=void 0;c=a(0).__importDefault(a(3));l=a(104);r=(function(){function g(m){m=("(").concat(m,")");this.H=new c.default.Console("ASEJS","media|asejs",m);this.Nna=[];}g.prototype.yq=function(m){var d;if(!this.Nna[m]){d=("[").concat(m,"]");this.Nna[m]=(0,l.Oi)(c.default,this.H,d);}return this.Nna[m];};return g;})();b.jn=new r(0);},function(r,b,a){var c,l,g,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.Bo=void 0;c=a(0);l=c.__importDefault(a(29));g=a(6);m=c.__importDefault(a(3));d=a(1002);r=(function(){function f(h){this.KH=h;this.Fe=[];this.console=new m.default.Console("ASEJS_DOWNLOAD_TRACK_POOL","media|asejs");}Object.defineProperties(f,{instance:{get:function(){var h;if(void 0 === f.mv){h=a(3).default;f.mv=new f(h.nM);}return f.mv;},enumerable:!1,configurable:!0}});f.reset=function(){f.mv=void 0;};f.prototype.zt=function(h,k,n,p,q,v){var t;t=v.dgc?this.pUb(n,k,h,v.egc):-1;-1 === t?(t={track:this.YNb(n,p,h,q,v),oj:n,L:k,Qib:h,oG:[],Nn:!1,eJ:!1},this.Fe.push(t),this.Vbc(t),h=!1):(h=!0,t=this.Fe[t]);h=new d.jUa(this.console,t.track,t.Nn,h);t.oG.push(h);return h;};f.prototype.Vbc=function(h){function k(){h.Nn=!0;h.track.removeListener("created",k);}h.track.on("created",k);};f.prototype.dJ=function(h){var k,n;h.Bt();k=this.jY(function(p){return p.track === h.track;});if(-1 !== k){if((k=this.Fe[k],1 === k.oG.length))(k.track.Bt(),k.eJ=!0);else {n=k.oG.indexOf(h);0 <= n && k.oG.splice(n,1);}}else h.track.Bt();};f.prototype.Sf=function(){this.KH.Sf();};f.prototype.YNb=function(h,k,n,p,q){var v,t,w,u,x,y;v=this;w=!1;u=t=!1;x=p.ta;h?n === g.u.J?(h=1,q.mj?(u=!0,h=q.DQ):q.Dy && 2 < q.Dy && (u=!0,h=q.Dy),t=x?!!q.u2:q.u2 || !u,t={type:this.KH.J,openRange:t,pipeline:u,connections:h,socketBufferSize:q.RS,minRequestSize:q.BK}):n === g.u.T?(w=q.mj && (q.Ykc || k && q.Zkc),t=x?!!q.u2:q.u2 || !w,t={type:this.KH.T,openRange:t,pipeline:w,connections:1,socketBufferSize:q.A8,minRequestSize:q.BK}):n === g.u.Za?(t=x?!!q.u2:q.u2 || !q.$kc,t={type:this.KH.Za,openRange:t,pipeline:q.mj,connections:1,socketBufferSize:q.Bic,minRequestSize:q.BK}):t={type:q.IQb?this.KH.J:this.KH.Dub,openRange:!1,pipeline:!0,connections:1,socketBufferSize:q.Bwa,minRequestSize:q.BK}:t={type:n === g.u.T?l.default.$d.T:l.default.$d.J,openRange:!1,pipeline:!1,connections:1,socketBufferSize:n === g.u.T?q.A8:q.RS,minRequestSize:q.BK};y=new this.KH(t,p);y.mj=u;y.on("transportreport",function(z){var B;B=v.jY(function(A){return A.track === y;});-1 !== B && (B=v.Fe[B],B.oG.length && B.oG[0].emit("transportreport",z));});y.on("mediaRequestComplete",function(z){var B;B=v.jY(function(A){return A.track === y;});-1 !== B && (B=v.Fe[B],B.oG.length && B.oG[0].emit("mediaRequestComplete",z));});y.on("destroyed",function(){var z;z=v.jY(function(B){return B.track === y;});-1 !== z && v.Fe.splice(z,1);y.removeAllListeners();});y.on("pipelinedisabled",function(){y.mj=!1;if(x)y.L0(c.__assign(c.__assign({},y.config),{pipeline:!1,openRange:!1,connections:1}));else if(w && q.Xkc || q.Cpb)q.Cpb && y.config.type === g.u.J?y.L0(c.__assign(c.__assign({},y.config),{socketBufferSize:q.s6b,pipeline:!1,openRange:!0,connections:1})):y.L0(c.__assign(c.__assign({},y.config),{pipeline:!1,openRange:!0}));});return y;};f.prototype.pUb=function(h,k,n,p){return this.jY(function(q){return !q.eJ && (!p && q.track.config.iwc || !h?!q.oj && q.Qib === n:q.oj && q.L === k && q.Qib === n);});};f.prototype.jY=function(h){for(var k=0;k < this.Fe.length;++k){if(h(this.Fe[k]))return k;}return -1;};return f;})();b.Bo=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Jk=void 0;r=b.Jk || (b.Jk={});r.Nn="created";r.jz="started";r.tS="succeeded";r.Mv="failed";r.bg="cancelled";r.X1a="cancelled_on_start";r.Jqa="cancelled_not_encrypted";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.IH="VideoPreparerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LM=b.CH=void 0;r=b.CH || (b.CH={});r.dpc="ident";r.$ja="main";r.sJa="credits";b.LM="PlaygraphHelperSymbol";},function(r,b,a){var c,l,g;c=a(40);l=a(618);g=l(c("String.prototype.indexOf"));r.exports=function(m,d){d=c(m,!!d);return "function" === typeof d && -1 < g(m,".prototype.")?l(d):d;};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.HAa=b.io=void 0;c=a(81);b.io=function(l,g){return [].concat.apply([],ia(l)).map(function(m){return Object.assign({name:m},null !== g && void 0 !== g?g:{});});};b.HAa=function(l,g){for(var m=[],d=1;d < arguments.length;++d){m[d - 1]=arguments[d];}return (0,c.g5a)(function(f,h){return f.name === h;},l,m);};},function(r,b,a){var c,l,g;c=a(125);l=a(53);g=a(170);r.exports=function(m){return function n(f,h,k){switch(arguments.length){case 0:return n;case 1:return g(f)?n:l(function(p,q){return m(f,p,q);});case 2:return g(f) && g(h)?n:g(f)?l(function(p,q){return m(p,h,q);}):g(h)?l(function(p,q){return m(f,p,q);}):c(function(p){return m(f,h,p);});default:return g(f) && g(h) && g(k)?n:g(f) && g(h)?l(function(p,q){return m(p,q,k);}):g(f) && g(k)?l(function(p,q){return m(p,h,q);}):g(h) && g(k)?l(function(p,q){return m(f,p,q);}):g(f)?c(function(p){return m(p,h,k);}):g(h)?c(function(p){return m(f,p,k);}):g(k)?c(function(p){return m(f,h,p);}):m(f,h,k);}};};},function(r,b,a){var c;c=a(170);r.exports=function(l){return function d(m){return 0 === arguments.length || c(m)?d:l.apply(this,arguments);};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vtb=b.kn=void 0;r=b.kn || (b.kn={});r[r.vC=0]="playready";r[r.tha=1]="widevine";r[r.bF=2]="fairplay";r[r.Ysc=3]="clearkey";b.Vtb="DrmTypeSymbol";},function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Zd=void 0;l=a(26);c.e4a=function(g){var m;m={};m[l.Jf.BU]=c.P3;m[l.Jf.W3]=c.P3;m[l.Jf.YM]=c.mja;m[l.Jf.uM]=c.uM;m[l.Jf.$w]=g || c.$w;m[l.Jf.iD]=c.P3;m[l.Jf.JD]=c.JU;m[l.Jf.Fl]=c.Fl;return m;};b.Zd=c;c.Wza='video/mp4; codecs="avc1.4d0028"';c.P3="avc1.4d0028";c.mja="hev1.1.6.L93.B0";c.Iia="dvhe.05.01";c.nKa="dvhe.05.04";c.Jia="dvhe.05.05";c.Kia="dvhe.05.06";c.Lia="dvhe.05.07";c.Mia="dvhe.05.09";c.$w=c.Iia;c.uM=c.mja;c.Cha="mp4a.40.2";c.gA="mp4a.40.42";c.Jsb="ec-3";c.JU="vp09.00.11.08.02";c.Fl="av01.0.04M.08";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XKa="DrmServicesSymbol";b.G3="DrmServicesProviderSymbol";},function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.FH=void 0;r=a(0);a=a(1);c.prototype.format=function(g,m){var f;for(var d=1;d < arguments.length;++d){;}f=Array.prototype.slice.call(arguments,1);return g.replace(/{(\d+)}/g,function(h,k){return "undefined" != typeof f[k]?f[k]:h;});};c.prototype.Zmb=function(g){for(var m=g.length,d=new Uint16Array(m),f=0;f < m;f++){d[f]=g.charCodeAt(f);}return d.buffer;};c.prototype.bnb=function(g){return JSON.stringify(g,null,"  ");};l=c;l=r.__decorate([(0,a.$)()],l);b.FH=l;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.N5=void 0;b.hr={KM:"PRIMARY",Gha:"ASSISTIVE",lJa:"COMMENTARY",NONE:"NONE"};b.N5={assistive:b.hr.Gha,closedcaptions:b.hr.Gha,directorscommentary:b.hr.lJa,commentary:b.hr.lJa,subtitles:b.hr.KM,primary:b.hr.KM,none:b.hr.NONE};},function(r){var h,k,n,p,q,v;function b(){throw Error("setTimeout has not been defined");}function a(){throw Error("clearTimeout has not been defined");}function c(t){if(h === setTimeout)return setTimeout(t,0);if((h === b || !h) && setTimeout)return (h=setTimeout,setTimeout(t,0));try{return h(t,0);}catch(w){try{return h.call(null,t,0);}catch(u){return h.call(this,t,0);}}}function l(t){if(k === clearTimeout)return clearTimeout(t);if((k === a || !k) && clearTimeout)return (k=clearTimeout,clearTimeout(t));try{return k(t);}catch(w){try{return k.call(null,t);}catch(u){return k.call(this,t);}}}function g(){p && q && (p=!1,q.length?n=q.concat(n):v=-1,n.length && m());}function m(){var t;if(!p){t=c(g);p=!0;for(var w=n.length;w;){q=n;for(n=[];++v < w;){q && q[v].dz();}v=-1;w=n.length;}q=null;p=!1;l(t);}}function d(t,w){this.vVb=t;this.PA=w;}function f(){}r=r.exports={};h="function" === typeof setTimeout?setTimeout:b;k="function" === typeof clearTimeout?clearTimeout:a;n=[];p=!1;v=-1;r.dwc=function(t){var w;w=Array(arguments.length - 1);if(1 < arguments.length)for(var u=1;u < arguments.length;u++){w[u - 1]=arguments[u];}n.push(new d(t,w));1 !== n.length || p || c(m);};d.prototype.dz=function(){this.vVb.apply(null,this.PA);};r.title="browser";r.Esc=!0;r.ZX={};r.nsc=[];r.version="";r.hyc={};r.on=f;r.addListener=f;r.once=f;r.Jy=f;r.removeListener=f;r.removeAllListeners=f;r.emit=f;r.u0=f;r.bCa=f;r.listeners=function(){return [];};r.Asc=function(){throw Error("process.binding is not supported");};r.htc=function(){return "/";};r.Tsc=function(){throw Error("process.chdir is not supported");};r.Zxc=function(){return 0;};},function(r,b,a){var g,m,d,f,h,k,n;function c(p){return p && "function" === typeof p.Ji?!0:!1;}function l(p){return c(p) && (p=typeof p.O1b,"boolean" === p || "undefined" === p)?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.flatten=b.map=b.Hsb=b.qTb=b.N1b=b.orb=b.AsyncIterator=void 0;g=a(0);m=a(10);f=(function(){function p(q){var v;v=this;this.pBb=q;this.oV=!1;this.DDb=function(t){return v.$ac(t);};this.E3a();}p.L2b=function(q,v){function t(){var w;w=q.next();w.then(function(u){l(q) && q.O1b || v(u);});w.then(function(u){return !u.done && t();});}t();};Object.defineProperties(p.prototype,{St:{get:function(){return this.oV;},enumerable:!1,configurable:!0}});p.M8a=function(){return new h([]);};p.awa=function(){d || (d=Promise.resolve({done:!0}));return d;};Object.defineProperties(p.prototype,{iQ:{get:function(){return this.tn || !1;},enumerable:!1,configurable:!0}});p.prototype.Ji=function(){this.cancel();};p.prototype.cancel=function(){this.$Ya();this.tn=!0;return this.yma;};p.prototype.next=function(){return this.tn?this.yma:Promise.race([this.yma,this.pBb()]).then(this.DDb);};p.prototype.$ac=function(q){q.done && (this.oV=!0,this.Ji());this.iQ || (this.$Ya(),this.E3a());return q;};p.prototype.E3a=function(){var q;q=this;this.yma=new Promise(function(v){q.$Ya=function(){v({done:!0});};});};return p;})();b.AsyncIterator=f;h=(function(p){function q(v){var t;t=p.call(this,function(){return t.$Xb();}) || this;t.PA=v;t.index=0;return t;}g.__extends(q,p);q.prototype.Ji=function(){c(this.PA) && this.PA.Ji();p.prototype.Ji.call(this);};q.prototype.$Xb=function(){return this.PA.length > this.index?Promise.resolve({value:this.PA[this.index++],done:!1}):Promise.resolve({done:!0});};return q;})(f);b.orb=h;b.N1b=c;b.qTb=l;k=(function(p){function q(v,t,w){var u;u=p.call(this,function(){return u.mAa();}) || this;u.console=t;u.zm=w;u.sCa=!1;Array.isArray(v)?u.BV=new h(v):u.BV=v;return u;}g.__extends(q,p);q.prototype.bbc=function(v){var t;this.sCa=!1;t=this.console;m.M && t && t.trace("CompoundIterator: processNextOuterIterator");if(v.done)return v;v=v.value;if(this.GN)return (c(v) && v.Ji(),f.awa());Array.isArray(v)?this.zm=new h(v):this.zm=v;return this.mAa();};q.prototype.abc=function(v){var t;t=this.console;m.M && t && t.trace("CompoundIterator: processNextInnerResult",this.GN,v.done);if(!v.done || this.GN)return v;this.zm=void 0;return this.mAa();};q.prototype.Ji=function(){var v;v=this.console;m.M && v && v.trace("CompoundIterator: dispose");this.GN=!0;p.prototype.Ji.call(this);c(this.BV) && this.BV.Ji();c(this.zm) && this.zm.Ji();};q.prototype.toString=function(){return ("CompoundIterator ").concat(this.GN," ").concat(this.BV," ").concat(this.zm);};q.prototype.mAa=function(){var v,t;v=this;t=this.console;m.M && t && t.trace("CompoundIterator: nextImpl");if(this.zm)return (m.M && t && t.trace("CompoundIterator: getNextInner"),this.zm.next().then(function(w){return v.abc(w);}));this.sCa=!0;m.M && t && t.trace("CompoundIterator: getNextOuter");return this.BV.next().then(function(w){return v.bbc(w);});};return q;})(f);b.Hsb=k;b.map=function(p,q,v){return new n(p,q,v);};n=(function(p){function q(v,t,w){var u;u=p.call(this,function(){return u.$Ab();}) || this;u.source=v;u.pza=t;u.Cra=w;return u;}g.__extends(q,p);q.prototype.Ji=function(){c(this.source) && this.source.Ji();p.prototype.Ji.call(this);};q.prototype.$Ab=function(){var v,t,w;v=this.Cra;t=this.pza;w=this.source;m.M && v && v.trace("MappedIterator: Requesting next");return w.next().then(function(u){return u.done?u:t(u.value);});};return q;})(f);b.flatten=function(p,q,v){return new k(p,q,v);};},function(r,b,a){(function(c){var g,m,d,f,h,k;function l(n,p){return n - p;}Object.defineProperties(b,{__esModule:{value:!0}});b.Bub=b.zJ=void 0;g=a(0);m=a(10);d=g.__importDefault(a(3));f="gctag" === c.ZX.zub;b.zJ=function(n,p){var q;if(!f)return n;q=new k(n.name,p);return (function(v){function t(){for(var w=[],u=0;u < arguments.length;u++){w[u]=arguments[u];}w=v.apply(this,g.__spreadArray([],g.__read(w),!1)) || this;w.T7a=q.dOb(w);return w;}g.__extends(t,v);return t;})(n);};k=(function(){function n(p,q){this.name=p;this.Cra=q;this.yF=[];this.s1b=0;}Object.defineProperties(n,{console:{get:function(){h || (h=new d.default.Console("GCTAGGER"));return h;},enumerable:!1,configurable:!0}});n.prototype.dOb=function(p){var q,v;if(f){q=this.Cra;q || (q=n.console);if(!p.T7a && "undefined" !== typeof nrdp){p={type:this.name,id:this.s1b++};this.yF.push(p.id);v=JSON.stringify(p);v=nrdp.T7a(v,(function(t,w,u,x){t.yF.splice(t.yF.indexOf(w),1);t.yF=t.yF.sort(l);for(var y=[],z=0;z < t.yF.length && 5 > z;z++){y.push(t.yF[z]);}null === x || void 0 === x?void 0:x.error(("Removing instance for ").concat(u,"/").concat(w,". ") + ("").concat(t.yF.length," remaining, earliest: ").concat(y,"}"));}).bind(null,this,p.id,p.type,q));m.M && q && q.info("Creating tagged instance",p);return v;}}};return n;})();b.Bub=k;}).call(this,a(131));},function(r,b,a){(function(c,l){function g(m,d,f,h){this.console=new m("ASEJS_PROGRESS","media|asejs");this.now=d;this.klb=this.ehc=m=this.now();this.n$=m + f;this.b$b=f;this.w4a=m + h;this.debug=!1;this.counter=this.dC=0;this.Xx=1E4;this.Onb=f / 100;this.Qnb=m;this.Pnb=1 * this.Onb / 4;this.Bga=0;this.xX="";this.Eg(m,"progress tracking start");}g.prototype.constructor=g;g.prototype.Eg=function(m,d){var f,h;f=((m - this.klb) / 1E3).toFixed(3);f=("     ").slice(f.length - 4) + f;h=c.S5b();this.console.info(f + (" " + ((this.w4a - m) / 1E3).toFixed(3)) + (" " + Math.round(this.Xx)) + (" M:(" + Math.floor(h.Iuc / 1024 / 1024) + " MB/" + Math.floor(h.kab / 1024 / 1024) + " MB) ") + this.xX + d);};g.prototype.nEb=function(m){var d;d=this.now();this.xX=m?m + ": ":m;this.dC=0;this.klb=d;this.Eg(d,"starting");};g.prototype.SEb=function(m){var d,f;this.counter++;if(!(this.counter < this.Xx)){this.counter=0;d=this.now();f=d - (this.Qnb + this.Onb);this.Qnb=d;this.Bga=.9 * this.Bga + .1 * f;this.Bga > this.Pnb?(this.Xx*=.875,this.Xx=Math.max(1,this.Xx)):this.Bga < -this.Pnb && (this.Xx*=1.5,this.Xx=Math.min(this.Xx,1E5));if(d >= this.w4a)throw (this.Eg("Execution deadline exceeded after " + (d - this.ehc) + " ms" + this.xX),Error("Execution deadline exceeded" + this.xX));f=c.S5b();this.dC=Math.max(this.dC,f.kab);if(7516192768 < f.kab)throw Error("Heap total limit exceeded" + this.xX);if(!(d <= this.n$)){for(;d > this.n$;){this.n$+=this.b$b;}this.Eg(d,m);}}};g.oa=function(m,d,f,h){l.mG=new g(m,d,f || 5E3,h || 33E5);};g.rEa=function(m){l.mG && l.mG.nEb(m);};g.update=function(m){l.mG && l.mG.SEb(m);};g.y9a=function(){if(l.mG)return l.mG.dC;};g.now=function(){return l.mG?l.mG.now():Date.now();};r.exports=g;}).call(this,a(131),a(211));},function(r){var b;b={lZ:function(a){for(var c in a){a.hasOwnProperty(c) && (b[c]=a[c]);}}};r.exports=b;},function(r,b,a){var d,f;function c(h){return h instanceof ArrayBuffer || "[object ArrayBuffer]" === Object.prototype.toString.call(h);}function l(h){return d.Ng(h);}function g(h){return d.Qa(h);}function m(h){return !c(h) && !l(h) && !g(h) && !Array.isArray(h) && d.nk(h);}d=a(11);f={cH:0,B5:1,Bwb:2,Z4:3,Fo:4};r.exports={hwa:function(h){return c(h)?f.cH:l(h)?f.B5:g(h)?f.Bwb:m(h)?f.Z4:f.Fo;},Iba:c,Ng:l,Qa:g,nk:m,Ns:f};},function(r,b,a){(function(c){var d,f,h,k,n,p,q,v,t,w;function l(u,x){var y,z,B,A;A=u.od.na.U[x];A && A.tc && u.od.wf && (A=Number(A.tc.replace(":main","")),(x=(0,v.BJ)(x)) && (B=null === (z=null === (y=u.od.wf.$g.Zg[A]) || void 0 === y?void 0:y[x.Cm]) || void 0 === z?void 0:z.PG));return B;}function g(u,x,y,z){var B;return x === p.ex.JX?(x=f.N.Oa,(null === z || void 0 === z?void 0:z.dxc) === w.end && (x=f.N.Na(null !== (B=y.od.na.U[u].Aa) && void 0 !== B?B:0),(0,h.assert)(0 < x.Z,"EndTime must be non null")),y.ii.RE({offset:x,S:u}).S):y.ii.Pw({offset:f.N.Oa,S:u}).S;}function m(u,x,y){return x === p.ex.tGa?y.ii.Pw(u):y.ii.RE(u);}Object.defineProperties(b,{__esModule:{value:!0}});b.Qy=void 0;d=a(0);f=a(20);h=a(2);k=a(1139);n=a(281);p=a(197);q=a(257);v=a(198);t=a(1144);n=(0,n.Akb)();k=(0,k.D1a)()({Wdb:"combinedPlaygraph",QR:{Ni:n()({map:m,XA:t.Ubb}),nf:n()({map:function(u,x,y,z){var B;B=(null === z || void 0 === z?0:z.As)?(0,t.raa)(u,z.As):u.position;x=m(B,x,y);u=(0,t.g9)(u,null === z || void 0 === z?void 0:z.As);(null === z || void 0 === z?0:z.As)?(0,t.vlb)(u,z.As,x):u.position=x;return u;},XA:function(u,x,y){return (null === y || void 0 === y?0:y.As)?(0,t.raa)(u,y.As):(0,t.nf)(u);}}),dHa:n()({map:function(u,x,y,z){if(x === p.ex.JX)return u.inner;x=(0,t.g9)(u,null === z || void 0 === z?void 0:z.As);x.inner || (x.inner=u,"gctag" === c.ZX.zub && (x.gctag=void 0));return x;},XA:function(u,x,y){return (null === y || void 0 === y?0:y.As)?"object" === typeof (0,t.raa)(u,y.As):"object" === typeof u;}}),S:n()({map:g,XA:t.$bb}),h1:n()({map:function(u,x,y,z){var B,A;A=null !== (B=u.S) && void 0 !== B?B:u.segmentId;x=g(A,x,y,z);return u.S?d.__assign(d.__assign({},u),{S:x}):d.__assign(d.__assign({},u),{segmentId:x});},XA:t.$$a}),q3a:n()({map:function(u,x,y){x === p.ex.JX?(u=(0,q.kX)(y.od.na,u.P,u.vt,{Pkb:!0}),(0,h.assert)(void 0 !== u,"Graph position must exist in ux playgraph"),u=y.ii.RE(u),x=u.S,u=u.offset,x=y.Cb.na.U[x],y=x.P,x=x.Ba,u=f.N.Na(x).add(u)):(u=(0,q.kX)(y.Cb.na,u.P,u.vt,{Pkb:!0}),(0,h.assert)(void 0 !== u,"Graph position must exist in combined playgraph"),u=y.ii.Pw(u),x=u.S,u=u.offset,x=y.od.na.U[x],y=x.P,x=x.Ba,u=f.N.Na(x).add(u));return {vt:u,P:y};},XA:t.Bbb}),eqa:n()({XA:t.xbb,map:function(u,x,y){var z,B,A,C,D;if(x === p.ex.JX){x={S:u.G.id,offset:f.N.Oa};A=y.ii.RE(x);x=y.Cb.na.U[A.S];y=y.od.na.U[u.G.id];C=x.Aa;D=x.Ba;C=null !== (z=C && C - D) && void 0 !== z?z:0;y=u.Rd.add(f.N.Na(x.Ba - y.Ba));return {Rd:y,fG:u.ls.add(f.N.Na(C)),ls:u.ls,G:{id:A.S,sf:f.N.Na(x.Ba),yh:f.N.Na(null !== (B=x.Aa) && void 0 !== B?B:0)}};}x={S:u.G.id,offset:f.N.Oa};B=y.ii.Pw(x);D=y.sxa.H_;x=D.U[u.G.id];A=y.od.na.U[B.S];z=f.N.Na(null !== (C=A.Aa && A.Aa - A.Ba) && void 0 !== C?C:0);A.Aa && Infinity !== A.Aa || (C=y.ii.AXb(B),D=D.U[C],D.Aa && (z=y.ii.Pw({S:C,offset:f.N.Na(D.Aa - D.Ba)}).offset));C=u.ls.Ga(B.offset);D=C.add(z);y=u.Rd.add(f.N.Na(A.Ba - x.Ba));u=f.N.Na(A.Ba);x=z.add(u);return {Rd:y,fG:D,ls:C,G:{id:B.S,sf:u,yh:x}};}}),aIb:n()({XA:function(u){return "segmentPresenting" === u.type;},map:function(u,x,y){var z;u=(0,t.g9)(u);if(x=u.metrics){z=l(y,x.destPosition.S);void 0 !== z && (u.metrics.adBreakLocationMs=z);z=l(y,x.srcStartPosition.S);void 0 !== z && (u.metrics.srcadBreakLocationMs=z);}return u;}})}});(function(u){u[u.zsc=0]="beginning";u[u.end=1]="end";})(w || (w={}));b.Qy=k;}).call(this,a(131));},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BM="ManifestFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rxb=b.Itb=b.tKa=void 0;r=b.tKa || (b.tKa={});r.zqc="PboDebugEvent";r.Cqc="PlaygraphEvent";b.Itb={ypc:"Manifest",Event:"Event",kpc:"Logblob"};b.Rxb={Arc:"UX",Jnc:"Combined_1",Knc:"Combined_2"};},function(r,b){var c;function a(l,g){var m;m=this;this.dna=[];c.forEach(function(d){(d=d(l,g)) && m.dna.push(d);});}Object.defineProperty(b,"__esModule",{value:!0});b.hU=b.cQa=void 0;c=[];a.prototype.OC=function(l){var d;for(var g=[],m=this.dna.length;m--;){d=this.dna[m];d.OC(l) && g.push(d.D$);}if(g.length)return g;};b.cQa=a;b.hU=function(l){c.push(l);};},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y;function c(z){var B,A;B=this;this.qea=new y.fla();this.createPlaygraphPlayer=function(C,D,E){var G;C=t.jla.encode(C);G=d.Ha.get(w.BM);E=E?G.create(E):void 0;G=d.Ha.get(p.lla).create(C);return G.COb(C.ie,B.qea.oza(B.Q0a(D,G.Sua())),E);};this.closeAllPlayers=function(C){C=void 0 === C?function(){}:C;(0,m.bla)(C);};this.init=function(C){B.sE.XZ(function(D){D.ja?B.Uec().then(function(){(0,l.uSa)();}).catch(function(E){d.log.error("Unable to initialize the playdata services",E);}).then(function(){Object.assign(B,c.tO);C(Object.assign({success:!0},c.tO));}):C({success:!1,error:(0,d.XSa)(D.errorCode || h.aa.yja,D)});});};this.applyConfig=function(C){B.Zob(C);(0,g.Dra)(C);};this.prepare=function(C,D){var E;C=B.gib.qQb(C) || [];E=new Set();C=C.filter(function(G){var F;F=E.has(G.L);E.add(G.L);return !F;});if(g.config.iu && B.Dd)try{B.Dd.ZK(C,D);}catch(G){d.log.warn("Prepare call failed",G);}};this.ppmUpdate=function(C){mb._cad_global.playerPredictionModel?(C=B.gib.sQb(C)) && mb._cad_global.playerPredictionModel.update(C):d.log.error("ppmUpdate called but there is no ppmModel");};this.supportsHdr=function(C){(0,d.GP)().Q1().then(function(D){return C(D.result);}).catch(function(){return C(!1);});};this.supportsUltraHd=function(C){(0,d.GP)().R1().then(C).catch(function(){return C(!1);});};this.supportsDolbyAtmos=function(C){(0,d.GP)().O1().then(C).catch(function(){return C(!1);});};this.supportsDolbyVision=function(C){(0,d.GP)().wga().then(function(D){return C(D.result);}).catch(function(){return C(!1);});};this.close=function(){};this.isSeamlessEnabled=function(){return g.config.pSb;};this.Zob(z);d.Ha.get(x.THa);this.gib=d.Ha.get(f.wSa);this.sE=d.Ha.get(v.uj);A=d.Ha.get(u.rSa).apply();(0,g.i3a)([z],A);this.Dd=d.Ha.get(q.IH);(0,d.GP)().R1();}Object.defineProperty(b,"__esModule",{value:!0});b.JH=void 0;l=a(305);g=a(19);m=a(64);d=a(9);f=a(551);h=a(4);k=a(33);n=a(151);p=a(312);q=a(120);v=a(34);t=a(38);w=a(138);u=a(333);x=a(526);y=a(599);c.prototype.Q0a=function(z,B){var A,C,D,E;z=void 0 === z?{}:z;E=null !== (C=null === (A=z.playbackState) || void 0 === A?void 0:A.currentTime) && void 0 !== C?C:B.Ba;return Object.assign(Object.assign({startPts:E,uiPlayStartTime:Date.now()},z),{endPts:null !== (D=B.Aa) && void 0 !== D?D:void 0,isPlaygraph:!0});};c.prototype.Zob=function(z){d.Ha.get(k.TT).T5b(z);};c.prototype.Uec=function(){d.Ha.get(n.uU)().catch(function(z){d.log.error("Unable to initialize the playdata services",z);throw z;}).then(function(z){return z.send(Infinity);}).catch(function(z){d.log.error("Unable to send deferred playdata",z);});return Promise.resolve();};b.JH=c;c.tO={};},function(r){r.exports=Number.isNaN || (function(b){return b !== b;});},function(r,b,a){var f;function c(h){return "function" === typeof h?h.name:"symbol" === typeof h?h.toString():h;}function l(h,k){return null === h.rC?!1:h.rC.Eh === k?!0:l(h.rC,k);}function g(h){function k(n,p){var q;void 0 === p && (p=[]);q=c(n.Eh);p.push(q);return null !== n.rC?k(n.rC,p):p;}return k(h).reverse().join(" --\x3e ");}function m(h){h.$qa.forEach(function(k){if(l(k,k.Eh))throw (k=g(k),Error(f.lsb + " " + k));m(k);});}function d(h){var k;if(h.name)return h.name;h=h.toString();k=h.match(/^function\s*([^\s(]+)/);return k?k[1]:"Anonymous function: " + h;}Object.defineProperty(b,"__esModule",{value:!0});f=a(55);b.PP=c;b.edb=function(h,k,n){var p;p="";h=n(h,k);0 !== h.length && (p="\nRegistered bindings:",h.forEach(function(q){var v;v="Object";null !== q.Xn && (v=d(q.Xn));p=p + "\n " + v;q.VI.Peb && (p=p + " - " + q.VI.Peb);}));return p;};b.LKb=m;b.y3b=function(h,k){var n,p;if(k.Yxa() || k.Mxa()){n="";p=k.YXb();k=k.BWb();null !== p && (n+=p.toString() + "\n");null !== k && k.forEach(function(q){n+=q.toString() + "\n";});return " " + h + "\n " + h + " - " + n;}return " " + h;};b.getFunctionName=d;},function(r,b,a){var l,g,m,d;function c(f,h){var k,n,p,q,v,t;k=f.bC;n=f.PQ;f=f.hR;p=h.bC;q=h.PQ;h=h.hR;v=void 0 === k || void 0 === p;t=v || void 0 === n || void 0 === q;return v || k > p || k === p && (t || n > q) || k === p && n === q && (t || void 0 === f || void 0 === h || f >= h);}Object.defineProperty(b,"__esModule",{value:!0});b.EP=b.FP=b.F2b=b.wZ=b.BZ=void 0;l=a(5);g=a(73);m=a(42);d=a(123);b.BZ=function(f,h,k,n){return c({bC:f.e9b,PQ:f.f9b,hR:f.g9b},{bC:h,PQ:k,hR:n});};b.wZ=function(f,h){return c({bC:f.Jr},{bC:h});};b.F2b=c;b.FP=function(){return {version:"6.0039.350.911",pda:!0,CP:!0,Bsa:"browser",M4a:["en-US"],Wya:"",DX:"cadmium",Kpb:!0,c8:!0};};b.EP=function(){return {CI:(0,d.io)([m.ke.gH,m.ke.hH]),zo:(0,d.io)([].concat(ia(m.Pd.j3),ia(m.Pd.T2),ia(m.Pd.S2),ia(m.Pd.Dha))),Zn:g.xb.X5,cC:(0,l.$b)(31E3)};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gU="MediaKeysStorageFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.K5=b.er=void 0;b.er=function(){};b.K5="StringObjectReaderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uVa="SystemRandomSymbol";b.u5="RandomGeneratorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wU="PlayerErrorFactorySymbol";},function(r){var c,l;function b(){var g,m;if(DataView.prototype && DataView.prototype.VY && !l){try{g=new ArrayBuffer(4);m=new DataView(g);m.UP(0,4,1);}catch(d){return;}try{g=new ArrayBuffer(4);m=new DataView(g);m.UP(1,2,2);}catch(d){DataView.prototype.UP=a(DataView.prototype.UP,DataView.prototype.getUint8,Uint8Array);DataView.prototype.Paa=a(DataView.prototype.Paa,DataView.prototype.getUint16,Uint16Array);DataView.prototype.VY=a(DataView.prototype.VY,DataView.prototype.getUint32,Uint32Array);DataView.prototype.kva=a(DataView.prototype.kva,DataView.prototype.getInt8,Int8Array);DataView.prototype.iva=a(DataView.prototype.iva,DataView.prototype.getInt16,Int16Array);DataView.prototype.jva=a(DataView.prototype.jva,DataView.prototype.getInt32,Int32Array);}c.EZb=function(d,f,h,k,n){return h?d.UP(f,h,k || 1,n):new Uint8Array(0);};c.CZb=function(d,f,h,k,n){return h?d.Paa(f,h,k || 2,n):new Uint16Array(0);};c.DZb=function(d,f,h,k,n){return h?d.VY(f,h,k || 4,n):new Uint32Array(0);};c.suc=function(d,f,h,k,n){return h?d.kva(f,h,k || 1,n):new Int8Array(0);};c.quc=function(d,f,h,k,n){return h?d.iva(f,h,k || 2,n):new Int16Array(0);};c.ruc=function(d,f,h,k,n){return h?d.jva(f,h,k || 4,n):new Int32Array(0);};l=!0;}}function a(g,m,d){return function(f,h,k,n){var p;k=k || d.BYTES_PER_ELEMENT;if(f + h * k > this.byteLength){p=new d(h);p.set(g.call(this,f,h - 1,k,n));p[h - 1]=m.call(this,f + (h - 1 * k),n);return p;}return g.call(this,f,h,k,n);};}c={UP:function(g,m,d,f,h){var k;k=new Uint8Array(d);f=f || 1;for(var n=0;n < d;(++n,m+=f)){k[n]=g.getUint8(m,h);}return k;},Paa:function(g,m,d,f,h){var k;k=new Uint16Array(d);f=f || 2;for(var n=0;n < d;(++n,m+=f)){k[n]=g.getUint16(m,h);}return k;},VY:function(g,m,d,f,h){var k;k=new Uint32Array(d);f=f || 4;for(var n=0;n < d;(++n,m+=f)){k[n]=g.getUint32(m,h);}return k;},kva:function(g,m,d,f,h){var k;k=new Int8Array(d);f=f || 1;for(var n=0;n < d;(++n,m+=f)){k[n]=g.getInt8(m,h);}return k;},iva:function(g,m,d,f,h){var k;k=new Int16Array(d);f=f || 2;for(var n=0;n < d;(++n,m+=f)){k[n]=g.getInt16(m,h);}return k;},jva:function(g,m,d,f,h){var k;k=new Int32Array(d);f=f || 4;for(var n=0;n < d;(++n,m+=f)){k[n]=g.getInt32(m,h);}return k;},Ztc:b};l=!1;c.IWb=function(){return l;};b();r.exports=c;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(245);r=(function(){function g(m,d,f){this.tag=m;this.view=d;this.R=f;this.startOffset=f.offset;}g.Zib=function(m,d,f){var h,k;h=m.Md();k=m.Ibc();m=new (l.XO[h] || g)(h,m.C8a(k),m);m.parse(d,f);return m;};Object.defineProperties(g.prototype,{length:{get:function(){return this.view.byteLength;},enumerable:!0,configurable:!0}});g.prototype.parse=function(){this.R.offset=this.startOffset + this.length;this.R.Vd=0;return !0;};g.prototype.Y6a=function(m){var d;d=[];this.tag === m && d.push(this);if(this.XO)for(var f=0;f < this.XO.length;f++){d=c.__spreadArrays(d,this.XO[f].Y6a(m));}return d;};g.prototype.vq=function(m){for(m=this.Y6a(m);0 < m.length;){return m[0];}};g.prototype.oZa=function(m){for(this.XO=[];this.R.offset < this.startOffset + this.length;){this.XO.push(g.Zib(this.R,m,this));}};return g;})();b.Uia=r;r.prototype.skip=r.prototype.parse;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fSa="PboPlaydataServicesSymbol";b.uU="PboPlaydataServicesProviderSymbol";},function(r,b,a){var c,l,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.bj=b.G5=void 0;c=a(20);(function(d){d[d.absolute=0]="absolute";d[d.wjb=1]="relative";})(l=b.G5 || (b.G5={}));m=(function(){function d(f,h){this.type=f;this.timestamp=h;}d.prototype.toString=function(){return ("timeStamp: ").concat(this.timestamp,", type: ").concat(l[this.type]);};Object.defineProperties(d,{Oa:{get:function(){g || (g=new d(l.wjb,c.N.Oa));return g;},enumerable:!1,configurable:!0}});return d;})();r=(function(){function d(){}d.dD=function(f){return new m(l.absolute,f);};Object.defineProperties(d,{Rlc:{get:function(){return m.Oa;},enumerable:!1,configurable:!0}});d.UG=function(f){return new m(l.wjb,f);};d.ZGa=new m(l.absolute,c.N.Qt);return d;})();b.bj=r;},function(r,b,a){function c(l,g){this.fO=l;this.Wk=Math.floor((l + g - 1) / g);this.ce=g;this.reset();}a(2);c.prototype.shift=function(){this.oe.shift();this.Ix.shift();};c.prototype.Mq=function(l){return this.K1a(this.oe[l],l);};c.prototype.update=function(l,g){this.oe[l]=(this.oe[l] || 0) + g;};c.prototype.push=function(){this.oe.push(0);this.Ix.push(0);this.Ab+=this.ce;};c.prototype.add=function(l,g,m){var d,f,h;if(null === this.Ab){d=Math.max(Math.floor((m - g + this.ce - 1) / this.ce),1);for(this.Ab=g;this.oe.length < d;){this.push();}}for(;this.Ab <= m;){this.push();this.oe.length > this.Wk && this.shift();}if(null === this.Rp || g < this.Rp)this.Rp=g;if(g > this.Ab - this.ce)this.update(this.oe.length - 1,l);else if(g == m)(d=this.oe.length - Math.max(Math.ceil((this.Ab - m) / this.ce),1),0 <= d && this.update(d,l));else for(d=1;d <= this.oe.length;++d){f=this.Ab - d * this.ce;h=f + this.ce;if(!(f > m)){if(h < g)break;this.update(this.oe.length - d,Math.round(l * (Math.min(h,m) - Math.max(f,g)) / (m - g)));}}for(;this.oe.length > this.Wk;){this.shift();}};c.prototype.start=function(l){null === this.Rp && (this.Rp=l);null === this.Ab && (this.Ab=l);};c.prototype.stop=function(l){var g,m;if(null !== this.Ab)if(l - this.Ab > 10 * this.fO)this.reset();else {for(;this.Ab <= l;){this.push();this.oe.length > this.Wk && this.shift();}g=this.oe.length - Math.ceil((this.Ab - this.Rp) / this.ce);m=this.oe.length - Math.ceil((this.Ab - l) / this.ce);if(0 <= m)if((0 > g && (this.Rp=this.Ab - this.ce * this.oe.length,g=0),g === m))this.Ix[g]+=l - this.Rp;else if(m > g)for((this.Ix[g]+=(this.Ab - this.Rp) % this.ce,this.Ix[m]+=this.ce - (this.Ab - l) % this.ce,l=g + 1);l < m;++l){this.Ix[l]=this.ce;}this.Rp=null;}};c.prototype.K1a=function(l,g){g=this.zua(g);return 0 === g?null:8 * l / g;};c.prototype.zua=function(l){var g;g=this.Ix[l];null !== this.Rp && (l=this.Ab - (this.oe.length - l - 1) * this.ce,l > this.Rp && (g=l - this.Rp <= this.ce?g + (l - this.Rp):this.ce));return g;};c.prototype.get=function(l,g){var m,d;m=this.oe.map(this.K1a,this);if("last" === l)for(l=0;l < m.length;++l){null === m[l] && (m[l]=0 < l?m[l - 1]:0);}else if("average" === l){g=1 - Math.pow(.5,1 / ((g || 2E3) / this.ce));for(l=0;l < m.length;++l){null === m[l]?m[l]=Math.floor(d || 0):d=void 0 !== d?g * m[l] + (1 - g) * d:m[l];}}return m;};c.prototype.reset=function(){this.qna || (this.oe=[],this.Ix=[],this.Rp=this.Ab=null);};c.prototype.setInterval=function(l){this.Wk=Math.floor((l + this.ce - 1) / this.ce);};r.exports=c;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});c=a(0);l=c.__importStar(a(11));r=a(13);g=c.__importDefault(a(153));m=c.__importDefault(a(421));d=a(954);f=a(422);h=a(955);k=a(957);n=a(3).default;p=new n.Console("ASEJS_NETWORK_MONITOR","media|asejs");a=(function(v){function t(w,u,x){var y;y=v.call(this) || this;y.An={};y.KV=0;y.WD=0;y.MU=[];y.ym=0;y.Yrc=!1;y.K=x;y.CXa=new m.default(x);y.cV=new h.cja(!0);y.LU=new h.cja(!1);x.g6a && (y.QN=new k.qRa(y.K));y.reset();y.MYa=w;y.Kl=u;y.gYa=n.Lq.name();y.Kl.Rfa(y.gYa);n.events.on("networkchange",y.s8b.bind(y));return q=y;}c.__extends(t,v);t.instance=function(){return q;};t.reset=function(){q && q.reset();};t.prototype.s8b=function(w){this.gYa=w;this.Kl.Rfa(w);};Object.defineProperties(t.prototype,{tk:{get:function(){return this.Kl;},enumerable:!1,configurable:!0}});t.prototype.Yob=function(){var w;if(!this.Eoa){w=this.u$a();this.Kl.xI(w.default.xa,this.confidence);w["initial-throughput-ewma"] && w["initial-throughput-ewma"].xa && this.Kl.vI(w["initial-throughput-ewma"].xa);w["throughput-ci"] && this.Kl.yI(w["throughput-ci"]);w.deliverytime && this.Kl.lO(w.deliverytime);this.Kl.YL(w.cw?w.cw.kea:void 0,w.cw?w.cw.dec:void 0);l.ub(this.dd) || (this.Eoa=!0);}};Object.defineProperties(t.prototype,{startTime:{get:function(){return this.rh;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{confidence:{get:function(){return this.An.confidence.get(0);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Bj:{get:function(){return this.cN;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{l_a:{get:function(){return this.MU;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{g3b:{get:function(){return this.jYa;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{location:{get:function(){return this.$H;},enumerable:!1,configurable:!0}});t.prototype.mAb=function(){var w,u,x,y;w=this.K;u=w.CAb.concat(w.LAb);x=w.cna;y=this.CXa;u=u.reduce(function(z,B){z[B]=y.create(B,x);return z;},{});u.confidence=new f.Mka(w,new d.zQa(w,this.Qda.bind(this)));return u;};t.prototype.reset=function(){var w,u,x,y;w=this.K.cna;u=this.CXa;x=this.K;this.$H=null;this.An=this.mAb();if(this.K.k6a){y=this.K.Inb;this.An.Lic=new g.default(y.numB * y.bSizeMs,y.bSizeMs);}this.cV.reset();this.LU.reset();this.CA=u.create("respconn-ewma",w);this.sA=u.create("respconn-ewma",w);this.QN && this.QN.reset();this.UEb=this.Yob.bind(this);this.L7=void 0;this.tA=this.dd=this.rh=null;this.G7=0;x.fkb && (this.WD=this.KV=this.cN=0,this.MU=[]);};t.prototype.s1=function(w){var u;u=this.An;if(w !== this.$H){l.wa(this.L7) || (clearInterval(this.L7),this.L7=void 0);l.ub(this.$H) && (this.G7=0,this.rh=null);if(!l.ub(w)){for(var x in u){u[x] && u[x].reset && u[x].reset();}this.CA.reset();this.sA.reset();}l.ub(this.rh) || (this.G7+=(l.ub(this.dd)?n.time.fa():this.dd) - this.rh);this.dd=this.rh=null;this.$H=w;this.Kl.s1(w);}};t.prototype.Rfa=function(w){this.Kl.Rfa(w);};t.prototype.RFb=function(w){this.An.QoEEvaluator?p.warn("monitor (QoEEvaluator) already existed."):this.An.QoEEvaluator=w;};t.prototype.Lcc=function(){delete this.An.QoEEvaluator;};t.prototype.pE=function(w,u,x,y){var z,B;this.jYa=Math.max(this.jYa || 0,x);this.WD-=w;z=this.K;B=this.An;if(!0 === y.YS)(y=B["throughput-wssl"]) && y.add(w,u,x,!0);else if(l.wa(u))p.warn("addDataReceived called with undefined start time");else {this.QN && this.QN.pE(w,u,x,y);z.KAb && 10 > x - u?u=x - 10:0 === x - u && (u=x - 1);this.cV.pE(w,u,x,y);this.LU.pE(w,u,x,y);for(var A in B){B[A] && B[A].add && B[A].add(w,u,x,y);}l.ub(this.rh) && (this.rh=u,this.dd=null,this.Eoa=!1);l.ub(this.dd) || (u > this.dd && (this.rh+=u - this.dd),this.dd=null,this.Eoa=!1);l.ub(this.tA) || (u - this.tA > z.NYa?this.MYa.obb(this.tA,u):x - u > z.NYa && this.MYa.obb(u,x));this.tA=this.tA?Math.max(x,this.tA):x;}};t.prototype.LA=function(w){this.CA.add(w);this.Kl.LA(w);};t.prototype.KA=function(w){this.sA.add(w);this.Kl.KA(w);};t.prototype.start=function(w,u){var x;l.ub(this.tA) && !l.ub(this.dd) && (this.tA=w);x=this.An;if(this.K.gFa)for(var y in x){x[y] && x[y].start && x[y].start(w,u);}};t.prototype.stop=function(w,u){var x,y;x=this.An;for(y in x){x[y] && x[y].stop && x[y].stop(w,u);}this.dd=l.ub(this.dd)?w:Math.min(this.dd,w);this.tA=null;};t.prototype.flush=function(){var w,u;w=this.An;for(u in w){w[u] && w[u].flush && w[u].flush();}};t.prototype.O8a=function(){var w,u;w=this.An.Rtc;if(w){u=w.nJb();w.reset();}return u;};t.prototype.u$a=function(){var w,u,x,y,z,B,A,C;w=n.time.fa();u=this.An;x=this.K;y=x.sAb;z=x.tAb;B=x.hEb;A={};for(C in u){u[C] && u[C].get && (A[C]=u[C].get(w,this.WD),"iqr" === u[C].type && (A.cw=A[C]),"tdigest" === u[C].type && (A.jh=A[C]),"wssl" === u[C].type && (A.YS=A[C]));}A.cdnavtp=this.cV.mp();A.activecdnavtp=this.LU.mp();A.default=y && A[y] && z && void 0 !== A[y][z]?{xa:A[y][z]}:y && A[y]?A[y]:A["throughput-ewma"];"none" !== x.WDa && "none" !== B && (A.Rkb=B && A[B]?A[B]:A["throughput-sw"]);return A;};t.prototype.Baa=function(){return this.QN?this.QN.Baa():void 0;};t.prototype.get=function(){var w,u,x,y,z,B;w=this.u$a();u=w.default;x=this.CA.get();y=this.sA.get();z=this.K;if(w.Rkb){B=w.Rkb;u=l.Qa(u.xa) && l.Qa(B.xa) && u.xa > B.xa && 0 < B.xa?B:u;}w.Ya=u;w.Yab=w["initial-throughput-ewma"];!z.xSb || !u || l.ub(u.xa) || isNaN(u.xa) || !w.YS || l.ub(w.YS.xa) || isNaN(w.YS.xa) || ("max" === z.vqb?w.Ya.xa=Math.max(w.YS.xa,u.xa):"sum" === z.vqb && (w.Ya.xa+=w.YS.xa));w.rl=x;w.$P=y;this.K.k6a && (u=this.K.Inb,w.Rxc=this.An.Lic.get(u.fillS,u.fillHl));u=this.G7 + (l.ub(this.rh)?0:(l.ub(this.dd)?n.time.fa():this.dd) - this.rh);w.time=u;return w;};t.prototype.xZb=function(){var w,u,x;w={};u=this.get();if(u.confidence && u["throughput-ewma"]){w.aseavtp=Number(u["throughput-ewma"].xa).toFixed(2);w.asevartp=Number(u["throughput-ewma"].He).toFixed(2);if(u.cw){x=u.cw.kea;!x || void 0 === x.em || void 0 === x.dm || void 0 === x.zk || isNaN(x.em || 0) || isNaN(x.dm) || isNaN(x.zk) || (w.aseniqr=0 < x.zk?Number((x.em - x.dm) / x.zk).toFixed(2):-1,w.aseiqr=Number(x.em - x.dm).toFixed(2),w.asemedtp=Number(x.zk).toFixed(2));w.iqrsamples=u.cw.dec;}u.jh && u.jh.FB && (w.tdigest=u.jh.FB());}return w;};t.prototype.Fw=function(w,u){var x,y,z;x=u.requestId;1 === ++this.cN && this.emit("active",w);if(this.K.S5a){y=this.An;for(z in y){y[z] && y[z].Fw && y[z].Fw(w,u);}}this.K.mga && this.start(w,u);x && (this.K.mga || this.start(w,u),this.MU.push(x));this.WD+=u.ga || 0;this.cV.Fw(w,u);this.LU.Fw(w,u);};t.prototype.$jb=function(){++this.KV;};t.prototype.$y=function(w,u,x){var y,z,B;y=x.requestId;u && --this.KV;--this.cN;this.WD=Math.max((this.WD || 0) - ((x.ga || 0) - (x.bytesReceived || 0)),0);this.K.fkb && (this.cN=Math.max(this.cN,0),this.KV=Math.max(this.KV,0));if(this.K.S5a){z=this.An;for(B in z){z[B] && z[B].$y && z[B].$y(w,u,x);}}this.K.mga && this.stop(w,x);0 === this.cN && (this.K.mga || this.stop(w,x),this.emit("inactive",w));y && (u=this.MU.indexOf(y),0 <= u && this.MU.splice(u,1));this.cV.$y(w,x);this.LU.$y(w,x);};t.prototype.Qda=function(){this.Yob();this.L7=setInterval(this.UEb,this.K.QBb);};return t;})(r.EventEmitter);b.default=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Ad=b.zd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDPBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBcjdHJhBrgBYBBcB0BrgOYDgIIKgLoOgO4rABCqgAgBDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBm21kBpBhgkYCgA4AgfYUBVDEgBgDAtgDoABsBygDIGd2aWRlgFIKBNgNAAgIgABIBhBugEQABlgEYCcBRm1pBuBmgBABAUB2BtgbgPAkgFQAgDYDccZHJlgA4CgSgGcMdXJsAggtQFAGgVwABiBsgBYBC6gA4ABzgSgGgEYCeqYXZjAxgkgWABgfoAgewABIgBABgAYCgowcgAAGAYH/gAoBAwgKoBBDABgM4AcN/+EAAXBngA4BCsDZFBD7AOAQgDIAc+kAALC4AADxBCCZBggJYAcGaOvjDLAigiQCAQBwhGwABwgA4BAEgAYBADgcoCBig5YAgrwBACgugBBnDggAYEgEYAgXIAgvQDgAAGgB4BBzBjgB4JAUgB4BB6gRoNgEYBBjBvgB4JA4hRwABlB4gC4CBtBlgzQGAXhUwCAggNwAgC4DgcYGgAYBADDpgBoG";b.Zb=!0;b.pa="AAAAtm1vb2YAAAAQbWZoZAAAAAAAAAABAAAAnnRyYWYAAAAYdGZoZAACAAoAAAABAAAAAQAAA+kAAAAQdGZkdAAAAAAAAAAAAAAAXHRydW4AAA4BAAAABgAAAL4AAALwAmAAAAAAB9IAAAAQAWEAAAAAE40AAAAOAWEAAAAAB9IAAAAOAaEAAAAAAAAAAAAOAaEAAAAAA+kAAAAWAWEAAAAAB9IAAAASc2R0cAAAAAAmFhYaGhYAAANIbWRhdAAAAq4GBf//qtxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNjQgcjMwOTUgYmFlZTQwMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMjIgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDM6MHgxMTMgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTEgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz03IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yMyBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADpliIQAN//+9vD+BTZWBFCXEc3onTMfvxW4ujQ3vc4AAq1PEG+4LBNpT2AQQAABnxHdErgspBAQL0rrAAAADEGaJGxC//6MsAADagAAAApBnkJ4hf8AAIOBAAAACgGeYXRCvwAAtoAAAAAKAZ5jakK/AAC2gQAAABJBmmVJqEFomUwIV//+OEAADUk=";b.Yb=!1;b.da={Ea:1001,W:24E3};b.duration={Ea:6006,W:24E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.zd=4;b.Ad=3;b.qc=[176,731];b.pc=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Ad=b.zd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDNBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBchdHJhBrgBYBBcB0BrgOYDgIIKgLoOgO4rABCqgAgBDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBmW1kBpBhgkYCgA4AgfYUBVDEgBgDAtgDoABsBygDIGd2aWRlgFIKBNgNAAgIgABIBhBugEQABlgEYCcBRG1pBuBmgBABAUB2BtgbgPAkgFQAgDYDccZHJlgA4CgSgGcMdXJsAggtQFAEgVwABiBsgBYBC4gA4ABzgSgGgEYCeoYXZjAxgkgWABgfoAgewABIgBABgAYCgowcgAAGAYH/gAoBAugKoBdDAU1AAND/DhAAAWBngA4BDsGgD9CHAIgDAAAfgJIAcF3AB4ChBMCwgJQAcFaOvjDLgT4CAQBwhGgABwgA4BAEgAYBADgcYCBig5IAgrgBACguQBBnDggAYEgEYAgW4AgvADgAAGgB4BBzBjgB4JAUgB4BB6gRYNgEYBBjBvgB4JA4hRgABlB4gC4CBtBlgzAGAXhUgCAggNwAgC4DgcIGgAYBADDpgBoG";b.Zb=!0;b.pa="AAAAtm1vb2YAAAAQbWZoZAAAAAAAAAABAAAAnnRyYWYAAAAYdGZoZAACAAoAAAABAAAAAQAAA+kAAAAQdGZkdAAAAAAAAAAAAAAAXHRydW4AAA4BAAAABgAAAL4AAALwAmAAAAAAB9IAAAAQAWEAAAAAE40AAAAOAWEAAAAAB9IAAAAOAaEAAAAAAAAAAAAOAaEAAAAAA+kAAAAWAWEAAAAAB9IAAAASc2R0cAAAAAAmFhYaGhYAAANIbWRhdAAAAq4GBf//qtxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNjQgcjMwOTUgYmFlZTQwMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMjIgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz03IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yMyBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADpliIQAN//+9vD+BTZWBFCXEc3onTMfvxW4ujQ3vc4AAq1PEG+4LBNpT2AQQAABnxHdErgspBAQL0rrAAAADEGaJGxC//6MsAADagAAAApBnkJ4hf8AAIOBAAAACgGeYXRCvwAAtoAAAAAKAZ5jakK/AAC2gQAAABJBmmVJqEFomUwIV//+OEAADUk=";b.Yb=!1;b.da={Ea:1001,W:24E3};b.duration={Ea:6006,W:24E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.zd=4;b.Ad=3;b.qc=[176,729];b.pc=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Ad=b.zd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDPBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBcjdHJhBrgBYBBcB0BrgOYDgIIKgLoOgO4rABgAgCDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBm21kBpBhgkYCgA4AgfYUBVDEgBgDAtgDoABsBygDIGd2aWRlgFIKBNgNAAgIgABIBhBugEQABlgEYCcBRm1pBuBmgBABAUB2BtgbgPAkgFQAgDYDccZHJlgA4CgSgGcMdXJsAggtQFAGgVwABiBsgBYBC6gA4ABzgSgGgEYCeqYXZjAxgkgWgfABgewABIgBABgAYCgowcgAAGAYH/gAoBAwgKoBBDABgM4AcN/+EAAXBngA4BCsDZFBD7ABAQgDIAc+kAALC4AADxBCCZBggJYAcGaOvjDLAigiQCAQBwhGwABwgL4FgAYCAUBig5YAgrwBACgugBBnDggAYEgEYAgXIAgvQDgAAGgB4BBzBjgB4JAUgB4BB6gRoNgEYBBjBvgB4JA4hRwABlB4gC4CBtBlgzQGAXhUwCAggNwAgC4DgcYGgAYBADDpgBoG";b.Zb=!0;b.pa="AAAAtm1vb2YAAAAQbWZoZAAAAAAAAAABAAAAnnRyYWYAAAAYdGZoZAACAAoAAAABAAAAAQAAA+kAAAAQdGZkdAAAAAAAAAAAAAAAXHRydW4AAA4BAAAABgAAAL4AAALwAmAAAAAAB9IAAAAQAWEAAAAAE40AAAAOAWEAAAAAB9IAAAAOAaEAAAAAAAAAAAAOAaEAAAAAA+kAAAAWAWEAAAAAB9IAAAASc2R0cAAAAAAmFhYaGhYAAANIbWRhdAAAAq4GBf//qtxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNjQgcjMwOTUgYmFlZTQwMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMjIgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDM6MHgxMTMgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTEgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz03IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yMyBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADpliIQAN//+9vD+BTZWBFCXEc3onTMfvxW4ujQ3vc4AAq1PEG+4LBNpT2AQQAABnxHdErgspBAQL0rrAAAADEGaJGxC//6MsAADagAAAApBnkJ4hf8AAIOBAAAACgGeYXRCvwAAtoAAAAAKAZ5jakK/AAC2gQAAABJBmmVJqEFomUwIV//+OEAADUk=";b.Yb=!1;b.da={Ea:1001,W:24E3};b.duration={Ea:6006,W:24E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.zd=1;b.Ad=1;b.qc=[176,731];b.pc=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Ad=b.zd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACDNBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgAQBchdHJhBrgBYBBcB0BrgOYDgIIKgLoOgO4rABgAgCDwgBwDckZWR0BzgA4BccZWxzB0gGIMAHDSgBIEcBmW1kBpBhgkYCgA4AgfYUBVDEgBgDAtgDoABsBygDIGd2aWRlgFIKBNgNAAgIgABIBhBugEQABlgEYCcBRG1pBuBmgBABAUB2BtgbgPAkgFQAgDYDccZHJlgA4CgSgGcMdXJsAggtQFAEgVwABiBsgBYBC4gA4ABzgSgGgEYCeoYXZjAxgkgWgfABgewABIgBABgAYCgowcgAAGAYH/gAoBAugKoBdDAU1AAND/DhAAAWBngA4BDsGgD9CACIgDAAAfgJIAcF3AB4ChBMCwgJQAcFaOvjDLgT4CAQBwhGgABwgLoFgAYCAUBig5IAgrgBACguQBBnDggAYEgEYAgW4AgvADgAAGgB4BBzBjgB4JAUgB4BB6gRYNgEYBBjBvgB4JA4hRgABlB4gC4CBtBlgzAGAXhUgCAggNwAgC4DgcIGgAYBADDpgBoG";b.Zb=!0;b.pa="AAAAtm1vb2YAAAAQbWZoZAAAAAAAAAABAAAAnnRyYWYAAAAYdGZoZAACAAoAAAABAAAAAQAAA+kAAAAQdGZkdAAAAAAAAAAAAAAAXHRydW4AAA4BAAAABgAAAL4AAALwAmAAAAAAB9IAAAAQAWEAAAAAE40AAAAOAWEAAAAAB9IAAAAOAaEAAAAAAAAAAAAOAaEAAAAAA+kAAAAWAWEAAAAAB9IAAAASc2R0cAAAAAAmFhYaGhYAAANIbWRhdAAAAq4GBf//qtxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNjQgcjMwOTUgYmFlZTQwMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMjIgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz03IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yMyBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADpliIQAN//+9vD+BTZWBFCXEc3onTMfvxW4ujQ3vc4AAq1PEG+4LBNpT2AQQAABnxHdErgspBAQL0rrAAAADEGaJGxC//6MsAADagAAAApBnkJ4hf8AAIOBAAAACgGeYXRCvwAAtoAAAAAKAZ5jakK/AAC2gQAAABJBmmVJqEFomUwIV//+OEAADUk=";b.Yb=!1;b.da={Ea:1001,W:24E3};b.duration={Ea:6006,W:24E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.zd=1;b.Ad=1;b.qc=[176,729];b.pc=[44];},function(r,b){var a,c;Object.defineProperties(b,{__esModule:{value:!0}});b.Pja=b.v5=void 0;a=(function(){function l(){var g;g=this;this.MV=[];this.Qcc=function(m){m=g.MV.indexOf(m);0 <= m && g.MV.splice(m,1);};}Object.defineProperties(l.prototype,{NA:{get:function(){return 0 !== this.MV.length;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{pgb:{get:function(){return this.MV.length;},enumerable:!1,configurable:!0}});l.prototype.add=function(){var g;g=new c(this.Qcc);this.MV.push(g);return g;};l.prototype.vha=function(g){var m;m=this.add();try{return Promise.resolve(g()).then(function(d){m.release();return d;},function(d){m.release();return Promise.reject(d);});}catch(d){return (m.release(),Promise.reject(d));}};return l;})();b.v5=a;c=(function(){function l(g){this.NDb=g;}l.prototype.release=function(){this.NDb(this);};return l;})();r=(function(){function l(g,m){this.F8b=g;this.console=m;this.counter=new a();}l.prototype.Kx=function(){var g,m;g=this;this.console.trace("Acquiring lease, total count",this.counter.pgb + 1);m=this.counter.add();return {release:function(){m.release();g.console.trace("Releasing lease, total count",g.counter.pgb);g.F8b(function(){return !g.counter.NA;});}};};return l;})();b.Pja=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.kD=void 0;c=a(6);l=a(104);g=a(449);r=(function(){function m(d,f){var o_P,h;o_P=2;for(;o_P !== 8;){switch(o_P){case 3:var p3p="1SI";p3p+="YbZrNJC";p3p+="p9";this.s0=function(k,n,p){var T_V;T_V=2;for(;T_V !== 5;){switch(T_V){case 2:k=h.mp(k,p);return h.config.a1a?(n=(0,l.qta)(h.config.$0a,n.ik - n.Oc,1),{lower:k * (1 - n),upper:void 0}):{lower:k * h.config.a2 / 100,upper:void 0};break;}}};p3p;o_P=8;break;case 2:h=this;this.config=d;this.CQ=f;this.Xpb=this.z8=null;o_P=3;break;}}}var R8;R8=2;for(;R8 !== 14;){switch(R8){case 2:m.prototype.j5a=function(d,f){var M2z,h;M2z=2;for(;M2z !== 3;){switch(M2z){case 2:h=null === this.z8?d * (100 - this.config.a2) / 100:(0,g.ypa)(d,this.z8);f=null !== f && void 0 !== f?f:this.CQ;this.config.Fya && f?(d=(0,g.ypa)(d,f),d=Math.max(d,h)):d=h;return d;break;}}};m.prototype.MEa=function(d){var Z$C;Z$C=2;for(;Z$C !== 1;){switch(Z$C){case 2:return this.config.bSb && (d === c.La.Yh || d === c.La.Yd);break;}}};m.prototype.mp=function(d,f){var N9g,h,k,n;N9g=2;for(;N9g !== 5;){switch(N9g){case 2:return this.MEa(f)?(null === (h=d.Yab) || void 0 === h?void 0:h.xa) || (null === (k=d.Ya) || void 0 === k?void 0:k.xa) || 0:(null === (n=d.Ya) || void 0 === n?void 0:n.xa) || 0;break;}}};m.prototype.MC=function(d){var A7T;A7T=2;for(;A7T !== 1;){switch(A7T){case 2:this.z8=d;A7T=1;break;case 4:this.z8=d;A7T=2;break;}}};R8=3;break;case 3:m.prototype.tY=function(){var d41;d41=2;for(;d41 !== 1;){switch(d41){case 2:return this.z8;break;}}};m.prototype.yL=function(d){var T8N;T8N=2;for(;T8N !== 1;){switch(T8N){case 2:this.Xpb=d;T8N=1;break;}}};m.prototype.WY=function(){var v0i;v0i=2;for(;v0i !== 1;){switch(v0i){case 2:return this.Xpb;break;}}};m.prototype.vGa=function(d){var E2F;E2F=2;for(;E2F !== 1;){switch(E2F){case 2:this.config=d;E2F=1;break;}}};return m;break;}}})();b.kD=r;},function(r,b){function a(l){return l && "object" === typeof l?Array.isArray(l)?l.map(a):Object.keys(l).reduce(function(g,m){g[m]=a(l[m]);return g;},{}):l;}function c(l,g){return Object.keys(l).reduce(function(m,d){return (m[g[d] || d]=l[d],m);},{});}Object.defineProperty(b,"__esModule",{value:!0});b.ix=void 0;r=(function(){function l(g){g && (this.vL(g.ie),this.HEa(g.Ge),this.AEa(g.U));}l.prototype.vL=function(g){this.ie=g;return this;};l.prototype.HEa=function(g){this.Ge=g;return this;};l.prototype.Blb=function(g){this.Wf=g;return this;};l.prototype.Ig=function(g,m,d){this.U || (this.U={});this.U[g]=a(m);if(d){g=this.U[g];if(m=g.next)g.next=c(m,d);g.dc && d[g.dc] && (g.dc=d[g.dc]);}return this;};l.prototype.AEa=function(g,m,d){void 0 === m && (m=function(){return !0;});this.U={};return this.J_a(g,m,d);};l.prototype.J_a=function(g,m,d,f){var h;h=this;void 0 === m && (m=function(){return !0;});Object.keys(g).filter(function(k){return m(g[k],k);}).forEach(function(k){var n;n=g[k];f && (n=f(n,k));h.Ig(k,n,d);});return this;};l.prototype.Z$a=function(g){var m;return !(null === (m=this.U) || void 0 === m || !m[g]);};l.prototype.hj=function(){var g;if(!this.U)throw Error("Invalid playgraph - `segments` is not defined");if(!this.ie)throw Error("Invalid playgraph - `initialSegment` is not defined");if(!this.U[this.ie])throw Error("Invalid playgraph - `initialSegment` is not part of `segments`");g={ie:this.ie,U:this.U};this.Ge && (g.Ge=this.Ge);this.Wf && (g.Wf=this.Wf);return g;};return l;})();b.ix=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.mM=b.Mtb=void 0;c=a(26);b.Mtb=function(){this.CI=[];this.zo=[];this.S_a=[];this.Jpa=c.Xw.Gz;this.kha=c.sn.Gz;};b.mM="DeviceCapabilitiesConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DU="SourceBufferTypeProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mU="MslProviderSymbol";},function(r){function b(m,d){return m.some(function(f){return f.id === d;});}function a(m,d){return m.filter(c.bind(null,d)).map(l).reduce(g,0);}function c(m,d){return m.id === d.id && m.displayTime + m.duration === d.displayTime;}function l(m){return m.duration;}function g(m,d){return m + d;}r.exports={wLb:function(m,d,f){for(var h=0;h < m.length;h++){if(m[h] !== d[h])return (f.error("indexId mismatch in sidx",{sIndexId:m,mIndexId:d}),!1);}return !0;},Ura:function(m,d,f){var h;h={};h.displayTime=m.displayTime;h.duration=m.duration;h.originX=m.V8b;h.originY=m.W8b;h.sizeX=m.Igc;h.sizeY=m.Jgc;h.imageData=d;h.id=m.VJ;h.rootContainerExtentX=f.Tdc;h.rootContainerExtentY=f.Udc;return h;},Xua:function(m,d){return "o_" + m + "s_" + d;},plc:function(m,d){d("P" === String.fromCharCode(m[1]));d("N" === String.fromCharCode(m[2]));d("G" === String.fromCharCode(m[3]));},xd:function(m){return "undefined" !== typeof m;},bxc:b,Ltc:a,GY:function(m,d){var f,h;f=Object.create({});for(h in m){f[h]=m[h];}m instanceof Error && (f.message=m.message,f.stack=m.stack);f.errorString=d;return f;},assert:function(m,d){if(!m)throw (d && d.error(Error("Assertion Failed").stack),Error("Assertion Failed"));},Bab:function(m){return m && 0 < m.entries.length && 0 === m.images.length;},Shc:function(m,d){for(var f=d.entries.length,h,k=0;k < f;k++){if((h=d.entries[k],h.displayTime <= m && h.displayTime + h.duration >= m))return !0;}return !1;},Thc:function(m,d,f){for(var h=f.entries.length,k,n,p=0;p < h;p++){k=f.entries[p];n=k.displayTime;k=n + k.duration;if(d < n)break;if(n <= m && k >= m || n > m && n <= d)return !0;}return !1;},l3a:function(m){return m.map(function(d,f){d.duration+=a(m.slice(f + 1),d);return d;}).reduce(function(d,f){b(d,f.id) || d.push(f);return d;},[]);},Uva:function(m){return m.reduce(function(d,f){return d + f.entries.reduce(function(h,k){return k.Twa + h;},0);},0);},YQb:function(m,d){return m && m.Wy <= d && m.ps >= d;},bXb:function(m){if(m)return m.endTime;},zXb:function(m){try{return String.fromCharCode.apply(String,m);}catch(d){}return "";}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AH="PlaygraphConfigSymbol";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Fr=b.qrb=void 0;b.qrb=a;b.Fr=new a();},function(r,b,a){var l,g,m;function c(d,f,h,k){f=m.Bi.call(this,d,f,k) || this;f.context=d;f.vta=h;return f;}Object.defineProperty(b,"__esModule",{value:!0});b.Is=void 0;r=a(0);l=a(1);g=a(66);m=a(72);a(139);ka(c,m.Bi);c.prototype.Haa=function(d){return "LIVE" === d.ih?g.Ih.events + "/live/" + this.vta:g.Ih.events + "/" + this.vta;};c.prototype.Sf=function(d,f){var h,k;h=this;k=this.AE(f);!1;!1;return this.send(d,{url:f.href,name:g.Ih.events,ql:this.Haa(f)},k).then(function(){return f;}).catch(function(n){throw h.Tn(n);});};c.prototype.tq=function(d,f,h){var k,n,p;k=this;n=this.AE(h);!1;!1;p={url:f.JP("events").href,name:g.Ih.events,ql:this.Haa(h)};return this.send(d,p,n).then(function(q){f.$oa(q.result.links);return h;}).catch(function(q){throw k.Tn(q);});};c.prototype.AE=function(d){return {event:this.vta,xid:d.sa,position:d.position || 0,clientTime:d.dB,sessionStartTime:d.oo,videoTrackId:d.TS,audioTrackId:d.iq,timedTextTrackId:d.BS,mediaId:d.GQ,trackId:d.trackId,sessionId:d.sessionId,appId:d.appId,playTimes:this.qqa(d.Py),sessionParams:d.no};};c.prototype.pqa=function(d){return {downloadableId:d.Tb,duration:d.duration};};c.prototype.qqa=function(d){var f;f={total:d.total,audio:d.audio.map(this.pqa),video:d.video.map(this.pqa),text:d.text.map(this.pqa)};d.total !== d.RL && (f.totalContentTime=d.RL);0 !== d.KG && (f.totalAdDuration=d.KG);0 !== d.LG && (f.totalOtherDuration=d.LG);if(0 !== d.LG || 0 !== d.KG)f.totalCombinedDuration=d.ES;0 !== d.SL && (f.totalLiveEdgeDuration=d.SL);0 !== d.TL && (f.totalStartSlateDuration=d.TL);return f;};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.Hp)()),r.__param(1,(0,l.Hp)()),r.__param(2,(0,l.Hp)()),r.__param(3,(0,l.Hp)())],a);b.Is=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$G="BrowserInfoSymbol";},function(r){r.exports=function(b){return null != b && "object" === typeof b && !0 === b["@@functional/placeholder"];};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.buffer=c;this.position=0;}a.prototype.seek=function(c){this.position=c;};a.prototype.skip=function(c){this.position+=c;};a.prototype.Kva=function(){return this.buffer.length - this.position;};a.prototype.CC=function(){return this.buffer[this.position++];};a.prototype.ol=function(c){var l;l=this.position;this.position+=c;return this.B2b(this.buffer)?this.buffer.subarray(l,this.position):this.buffer.slice(l,this.position);};a.prototype.B2b=function(c){return void 0 !== c.subarray;};a.prototype.qs=function(c){for(var l=0;c--;){l=256 * l + this.buffer[this.position++];}return l;};a.prototype.HCa=function(c){for(var l="";c--;){l+=String.fromCharCode(this.buffer[this.position++]);}return l;};a.prototype.si=function(){return this.qs(2);};a.prototype.rs=function(){return this.qs(4);};a.prototype.CR=function(){return this.qs(8);};a.prototype.Xy=function(c){for(var l,g="";c--;){l=this.CC();g+=("0123456789ABCDEF")[l >>> 4] + ("0123456789ABCDEF")[l & 15];}return g;};a.prototype.ICa=function(c){for(var l=0,g=0;g < c;g++){l+=this.CC() << (g << 3);}return l;};a.prototype.BR=function(){return this.ICa(4);};a.prototype.N2=function(c){this.XS(c,2);};a.prototype.fD=function(c){this.XS(c,4);};a.prototype.xha=function(c){this.buffer[this.position++]=c;};a.prototype.XS=function(c,l){this.position+=l;for(var g=1;g <= l;g++){this.buffer[this.position - g]=c & 255;c=Math.floor(c / 256);}};a.prototype.eD=function(c){for(var l=0;l < c.length;l++){this.buffer[this.position++]=c.charCodeAt(l);}};a.prototype.M2=function(c){for(var l=c.length,g=0;g < l;g++){this.buffer[this.position++]=c[g];}};a.prototype.WS=function(c,l){this.M2(c.ol(l));};a.prototype.uqb=function(c){c=new a(c);for(var l,g;;){if((l=c.Kva(),g=l >>> 14))(g=Math.min(4,g),this.xha(192 | g),this.WS(c,16384 * g));else {128 > l?this.xha(l):this.XS(l | 32768,2);this.WS(c,l);break;}}};a.prototype.Wib=function(){var g;for(var c=[],l=new a(c);;){g=this.CC();if(g & 128){if(128 == (g & 192))(g&=63,g=(g << 8) + this.CC(),l.WS(this,g));else if((g&=63,0 < g && 4 >= g)){l.WS(this,16384 * g);continue;}else throw Error("bad asn1");}else l.WS(this,g);break;}return new Uint8Array(c);};return a;})();b.DT=r;},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.tf=void 0;b.tf=a;a.DMa=/^hevc-main/;a.CMa=/^hevc-hdr-|hevc-dv/;a.uM=/^hevc-hdr-/;a.$w=/^hevc-dv/;a.P3=/h264mpl/;a.eH=/h264mpl30/;a.fH=/h264mpl31/;a.iD=/h264hpl/;a.JD=/^vp9-/;a.Fl=/^av1-/;a.rub=/[l|L]4[0-1]-/;a.YM=/-L5[0-1]-/;a.iOa=/-live/;a.Cha=/^heaac-2-/;a.Hub=/^heaac-2hq-dash/;a.gA=/^xheaac-dash/;a.Ksb=/ddplus-2/;a.Lsb=/ddplus-5/;a.Msb=/ddplus-atmos/;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.l3="CannedChallengeProvider";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aUa="ReportSyncSymbol";b.ZTa="ReportApiErrorSyncSymbol";b.bMa="FtlProbeConfigSymbol";b.dMa="FtlProbeSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.a3="ApiInfoSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.B3="DebouncerFactorySymbol";},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.STa=b.A5=b.paa=void 0;c=a(48);l=a(4);b.paa=function(g){return g === c.u.T?l.Y.fka:l.Y.gka;};b.A5=50;b.STa=1E3;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r.exports=function(a){return {minInitVideoBitrate:a.nw,minHCInitVideoBitrate:a.Yza,maxInitVideoBitrate:a.eC,minInitAudioBitrate:a.z_,maxInitAudioBitrate:a.k_,minHCInitAudioBitrate:a.x_,minAcceptableVideoBitrate:a.ada,minRequiredBuffer:a.SF,minPrebufSize:a.yk,minCheckBufferingCompleteInterval:a.eda,rebufferingFactor:a.MCa,useMaxPrebufSize:a.KGa,maxPrebufSize:a.QF,maxRebufSize:a.Dza,maxBufferingTime:a.au,minAudioMediaRequestSizeBytes:a.bda,minVideoMediaRequestSizeBytes:a.kda,initialBitrateSelectionCurve:a.yba,initSelectionLowerBound:a.Uab,initSelectionUpperBound:a.Vab,throughputPercentForAudio:a.a2,bandwidthMargin:a.Vpa,bandwidthMarginContinuous:a.Wpa,bandwidthMarginCurve:a.Xpa,conservBandwidthMargin:a.Fra,switchConfigBasedOnInSessionTput:a.GFa,conservBandwidthMarginTputThreshold:a.gX,conservBandwidthMarginCurve:a.Gra,switchAlgoBasedOnHistIQR:a.snb,switchConfigBasedOnThroughputHistory:a.GG,maxPlayerStateToSwitchConfig:a.Cza,lowEndMarkingCriteria:a.cza,IQRThreshold:a.Aja,histIQRCalcToUse:a.Jwa,maxTotalBufferLevelPerSession:a.bu,highWatermarkLevel:a.nab,toStableThreshold:a.bob,toUnstableThreshold:a.Iga,skipBitrateInUpswitch:a.ZEa,watermarkLevelForSkipStart:a.aHa,highStreamRetentionWindow:a.kba,lowStreamTransitionWindow:a.Bca,highStreamRetentionWindowUp:a.Fwa,lowStreamTransitionWindowUp:a.eza,highStreamRetentionWindowDown:a.Ewa,lowStreamTransitionWindowDown:a.dza,highStreamInfeasibleBitrateFactor:a.Dwa,lowestBufForUpswitch:a.$B,lockPeriodAfterDownswitch:a.$Z,lowWatermarkLevel:a.gza,lowestWaterMarkLevel:a.xy,lowestWaterMarkLevelBufferRelaxed:a.hza,mediaRate:a.Wca,maxTrailingBufferLen:a.Oca,audioBufferTargetAvailableSize:a.yW,videoBufferTargetAvailableSize:a.z2,maxVideoTrailingBufferSize:a.zeb,maxAudioTrailingBufferSize:a.ceb,fastUpswitchFactor:a.A$,fastDownswitchFactor:a.Jta,maxMediaBufferAllowed:a.jw,simulatePartialBlocks:a.WEa,simulateBufferFull:a.gmb,considerConnectTime:a.Hra,connectTimeMultiplier:a.Era,lowGradeModeEnterThreshold:a.Bdb,lowGradeModeExitThreshold:a.Cdb,maxDomainFailureWaitDuration:a.feb,maxAttemptsOnFailure:a.beb,exhaustAllLocationsForFailure:a.D6a,maxNetworkErrorsDuringBuffering:a.neb,maxBufferingTimeAllowedWithNetworkError:a.Gca,fastDomainSelectionBwThreshold:a.M6a,throughputProbingEnterThreshold:a.Gnb,throughputProbingExitThreshold:a.Hnb,locationProbingTimeout:a.rdb,finalLocationSelectionBwThreshold:a.T6a,throughputHighConfidenceLevel:a.Enb,throughputLowConfidenceLevel:a.Fnb,locationStatisticsUpdateInterval:a.Oya,enablePerfBasedLocationSwitch:a.h6a,probeServerWhenError:a.Aw,probeRequestTimeoutMilliseconds:a.mCa,allowSwitchback:a.MA,probeDetailDenominator:a.xR,maxDelayToReportFailure:a.Hca,countGapInBuffer:a.A3a,bufferThresholdForAbort:a.u1a,allowCallToStreamSelector:a.Z_a,pipelineScheduleTimeoutMs:a.FBa,maxPartialBuffersAtBufferingStart:a.fC,maxActiveRequestsSABCell100:a.Eca,maxStreamingSkew:a.Eza,maxPendingBufferPercentage:a.Aza,headerRequestSize:a.hba,estimateHeaderSize:a.nta,minBufferLenForHeaderDownloading:a.w_,reserveForSkipbackBufferMs:a.a1,numExtraFragmentsAllowed:a.CAa,pipelineEnabled:a.mj,maxParallelConnections:a.DQ,socketReceiveBufferSize:a.qmb,audioSocketReceiveBufferSize:a.A8,videoSocketReceiveBufferSize:a.RS,headersSocketReceiveBufferSize:a.Bwa,updatePtsIntervalMs:a.Zga,bufferTraceDenominator:a.iqa,bufferLevelNotifyIntervalMs:a.PW,aseReportDenominator:a.sO,aseReportIntervalMs:a.r8,enableAbortTesting:a.ORb,abortRequestFrequency:a.lFb,streamingStatusIntervalMs:a.xFa,prebufferTimeLimit:a.wC,minBufferLevelForTrackSwitch:a.dda,penaltyFactorForLongConnectTime:a.xBa,longConnectTimeThreshold:a.$ya,additionalBufferingLongConnectTime:a.kpa,additionalBufferingPerFailure:a.lpa,rebufferCheckDuration:a.I0,enableLookaheadHints:a.e6a,lookaheadFragments:a.zdb,enableOCSideChannel:a.VE,OCSCBufferQuantizationConfig:a.a5,updateDrmRequestOnNetworkFailure:a.Vob,deferAseScheduling:a.R4a,maxDiffAudioVideoEndPtsMs:a.eeb,defaultHeaderCacheSize:a.K9,defaultHeaderCacheDataPrefetchMs:a.J9,neverWipeHeaderCache:a.wda,networkFailureResetWaitMs:a.jAa,networkFailureAbandonMs:a.iAa,maxThrottledNetworkFailures:a.Nca,throttledNetworkFailureThresholdMs:a.Aga,lowThroughputThreshold:a.fza,excludeSessionWithoutHistoryFromLowThroughputThreshold:a.zta,mp4ParsingInNative:a.qfb,sourceBufferInOrderAppend:a.tmb,requireAudioStreamToEncompassVideo:a.hL,allowAudioToStreamPastVideo:a.Y_a,enableManagerDebugTraces:a.jj,managerDebugMessageInterval:a.Odb,managerDebugMessageCount:a.Ndb,bufferThresholdToSwitchToSingleConnMs:a.hqa,bufferThresholdToSwitchToParallelConnMs:a.gqa,netIntrStoreWindow:a.P6b,minNetIntrDuration:a.l6b,fastHistoricBandwidthExpirationTime:a.ATb,bandwidthExpirationTime:a.kIb,failureExpirationTime:a.yTb,historyTimeOfDayGranularity:a.X_b,expandDownloadTime:a.jTb,minimumMeasurementTime:a.y6b,minimumMeasurementBytes:a.x6b,throughputMeasurementTimeout:a.Iic,initThroughputMeasureDataSize:a.b1b,throughputMeasureWindow:a.Hic,throughputIQRMeasureWindow:a.Gic,IQRBucketizerWindow:a.Cvb,connectTimeHalflife:a.KLb,responseTimeHalflife:a.Jdc,historicBandwidthUpdateInterval:a.W_b,throughputWarmupTime:a.Nic,minimumBufferToStopProbing:a.w6b,throughputPredictor:a.Jic,ase_stream_selector:a.nHb,enableFilters:a.XRb,filterDefinitionOverrides:a.WTb,defaultFilter:a.HPb,secondaryFilter:a.xec,defaultFilterDefinitions:a.IPb,initBitrateSelectorAlgorithm:a.ixa,bufferingSelectorAlgorithm:a.mqa,ase_ls_failure_simulation:a.z4a,ase_dump_fragments:a.jsa,ase_location_history:a.ksa,ase_throughput:a.A4a,ase_simulate_verbose:a.C4a,secondThroughputEstimator:a.WDa,secondThroughputMeasureWindowInMs:a.Qkb,marginPredictor:a.qza,networkMeasurementGranularity:a.kAa,HistoricalTDigestConfig:a.YMa,maxIQRSamples:a.keb,minIQRSamples:a.$eb,periodicHistoryPersistMs:a.lea,saveVideoBitrateMs:a.Afa,needMinimumNetworkConfidence:a.E_,biasTowardHistoricalThroughput:a.$pa,maxFastPlayBufferInMs:a.Ica,maxFastPlayBitThreshold:a.xza,minAudioMediaRequestDuration:a.Hy,minVideoMediaRequestDuration:a.jC,minAudioMediaRequestDurationCache:a.Hy,minVideoMediaRequestDurationCache:a.jC,addHeaderDataToNetworkMonitor:a.Zoa,hindsightDenominator:a.Iwa,hindsightDebugDenominator:a.Hwa,hindsightParam:a.mba,minimumTimeBeforeBranchDecision:a.OQ,minimumTimeBeforeDelayedSeekToQueuedSegment:a.hfb,enableSessionHistoryReport:a.VX,earlyStageEstimatePeriod:a.Vsa,lateStageEstimatePeriod:a.Ucb,maxNumSessionHistoryStored:a.Lca,minSessionHistoryDuration:a.jda,appendMediaRequestOnComplete:a.m0a,waitForDrmToAppendMedia:a.qha,forceAppendHeadersAfterDrm:a.P$,startMonitorOnLoadStart:a.gFa,reportFailedRequestsToNetworkMonitor:a.fDa,reappendRequestsOnSkip:a.Pbc,maxActiveRequestsPerSession:a.Dy,limitAudioDiscountByMaxAudioBitrate:a.Fya,appendFirstHeaderOnComplete:a.vpa,maxAudioFragmentOverlapMs:0,editVideoFragments:a.DRb,declareBufferingCompleteAtSegmentEnd:a.lsa,applyProfileTimestampOffset:a.AI,applyProfileStreamingOffset:a.Dm,mediaSourceSupportsNegativePts:a.s_,requireDownloadDataAtBuffering:a.ifa,requireSetupConnectionDuringBuffering:a.jfa,recordFirstFragmentOnSubBranchCreate:a.OCa,earlyAppendSingleChildBranch:a.e$,selectStartingVMAFMethod:a.WR,activateSelectStartingVMAF:a.hW,minStartingVideoVMAF:a.ow,minAcceptableVMAF:a.v_,minAllowedVmaf:a.AK,alwaysNotifyEOSForPlaygraph:a.RGb,enableNewAse:a.j$,useNewApi:a.dha,enableCombinedPlaygraphs:a.RX,enableAdPlaygraphs:a.nJ,retainSbrOnFade:a.ofa,excludedContentPlaygraphIds:a.Ata,enableDiscontiguousBuffering:a.h$,forceImmediateTransitionTypeForTitles:a.oua,forceImmediateTransitionExitZone:a.nua,useBufferSizeLimiter:a.bha,useLegacyFragmentRounding:a.JGa,maxAllowedOutstandingRequests:a.Fca,alwaysRunUnderflowTimer:a.pO,minStreamableConcurrencyWindow:a.Zza,streamableConcurrencyFactor:a.uFa,bufferingConcurrencyWindow:a.SW,singleStreamablePerBranch:a.Hgc,enableResolutionVMAFStreamFilter:a.k$,resolutionVMAFCappingRuleList:a.nfa,percentCapTitlesForResolutionVMAFStreamFilter:a.ABa,useExitZones:a.HGa,perFragmentVMAFConfig:a.kR,enableInitialTputLogging:a.a6a,maxResponsesInitialTput:a.u5b,paddingDurationMs:a.iBa,paddingMediaType:a.jBa,supportsPtsChanged:a.qnb,ciPredictorSource:a.cra,experimentalFilter:a.kTb,simulationDurationStrategy:a.XEa,liveTargetBufferDuration:a.WZ,liveEdgeCushion:a.sca};};},function(r,b){function a(l,g){return "number" !== typeof l || "number" !== typeof g?!1:l && g?Math.abs(l * g / c(l,g)):0;}function c(l,g){var m;l=Math.abs(l);for(g=Math.abs(g);g;){m=g;g=l % g;l=m;}return l;}Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function l(g,m){"object" === typeof g?(this.Bc=g.Ea,this.ob=g.W):(this.Bc=g,this.ob=m);}l.Na=function(g){return new l(g,1E3);};l.Hga=function(g,m){return Math.floor(1E3 * g / m);};l.sfb=function(g,m){return Math.floor(g * m / 1E3);};l.max=function(){for(var g=[],m=0;m < arguments.length;m++){g[m]=arguments[m];}return g.reduce(function(d,f){return d.greaterThan(f)?d:f;});};l.min=function(){for(var g=[],m=0;m < arguments.length;m++){g[m]=arguments[m];}return g.reduce(function(d,f){return d.lessThan(f)?d:f;});};l.eF=function(g,m){var d;if(g.W === m.W)return new l(c(g.Ea,m.Ea),g.W);d=a(g.W,m.W);return l.eF(g.Yf(d),m.Yf(d));};Object.defineProperties(l.prototype,{Ea:{get:function(){return this.Bc;},enumerable:!0,configurable:!0}});Object.defineProperties(l.prototype,{W:{get:function(){return this.ob;},enumerable:!0,configurable:!0}});Object.defineProperties(l.prototype,{Z:{get:function(){return 1E3 * this.Bc / this.ob;},enumerable:!0,configurable:!0}});Object.defineProperties(l.prototype,{Ui:{get:function(){return this.Bc / this.ob;},enumerable:!0,configurable:!0}});l.prototype.Yf=function(g){g/=this.W;return new l(Math.floor(this.Ea * g),Math.floor(this.W * g));};l.prototype.add=function(g){var m;if(this.W === g.W)return new l(this.Ea + g.Ea,this.W);m=a(this.W,g.W);return this.Yf(m).add(g.Yf(m));};l.prototype.Ga=function(g){return this.add(new l(-g.Ea,g.W));};l.prototype.Iy=function(g){return new l(this.Ea * g,this.W);};l.prototype.kk=function(g){var m;if(this.W === g.W)return this.Ea / g.Ea;m=a(this.W,g.W);return this.Yf(m).kk(g.Yf(m));};l.prototype.w$a=function(g){return a(this.W,g);};l.prototype.rjb=function(){return new l(this.W,this.Ea);};l.prototype.compare=function(g,m){var d;if(this.W === m.W)return g(this.Ea,m.Ea);d=a(this.W,m.W);return g(this.Yf(d).Ea,m.Yf(d).Ea);};l.prototype.equal=function(g){return this.compare(function(m,d){return m === d;},g);};l.prototype.Dda=function(g){return this.compare(function(m,d){return m !== d;},g);};l.prototype.lessThan=function(g){return this.compare(function(m,d){return m < d;},g);};l.prototype.greaterThan=function(g){return this.compare(function(m,d){return m > d;},g);};l.prototype.JF=function(g){return this.compare(function(m,d){return m <= d;},g);};l.prototype.mk=function(g){return this.compare(function(m,d){return m >= d;},g);};l.prototype.toJSON=function(){return {ticks:this.Ea,timescale:this.W};};l.prototype.toString=function(){return this.Ea + "/" + this.W;};l.Oa=new l(0,1);l.oC=new l(1,1E3);return l;})();b.N=r;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(24);r=(function(g){function m(){return null !== g && g.apply(this,arguments) || this;}c.__extends(m,g);m.prototype.parse=function(d){var f;f=g.prototype.parse.call(this,d);this.R.offset+=8;this.Qqa=this.R.Dh();this.IDa=this.R.Dh();this.R.offset+=4;this.samplerate=this.R.Dh();this.R.offset+=2;l.M && this.R.console.trace("MP4AudioSampleEntry: channelcount: " + this.Qqa + ", samplesize: " + this.IDa + ", samplerate: " + this.samplerate);if(null === d || void 0 === d?0:d.Ff)(d.Ff.Qqa=this.Qqa,d.Ff.IDa=this.IDa,d.Ff.samplerate=this.samplerate);return f;};m.wd=!1;return m;})(a(244).default);b.default=r;},function(r,b,a){var l;function c(g){var m;m={profile:g.spoofedProfile || g.profile,Z$:g.max_framerate_value,Y$:g.max_framerate_scale,maxWidth:g.maxWidth,maxHeight:g.maxHeight,GBa:g.pixelAspectX,HBa:g.pixelAspectY,channels:g.channels,sampleRate:g.channels?48E3:void 0};g.spoofedProfile && (m.jwc=g.profile);return m;}Object.defineProperties(b,{__esModule:{value:!0}});b.B9a=b.sva=void 0;l=a(6);b.sva=function(g,m,d){var f;f=[{},{}];(d === l.u.T?["audio_tracks"]:["audio_tracks","video_tracks"]).forEach(function(h,k){g[h].some(function(n,p){return p === m[k]?(f[k]=c(n),!0):!1;});});return f;};b.B9a=c;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Vla=b.xm=void 0;c=a(152);(function(g){g[g.pending=0]="pending";g[g.tfa=1]="running";g[g.complete=2]="complete";g[g.eJ=3]="destroyed";})(l=b.xm || (b.xm={}));r=(function(){function g(m,d){void 0 === d && (d=0);this.name=m;this.priority=d;this.Sc=l.pending;}Object.defineProperties(g.prototype,{state:{get:function(){return this.Sc;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{rbb:{get:function(){return this.Sc === l.pending || this.Sc === l.tfa;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ee:{get:function(){return this.cq;},enumerable:!1,configurable:!0}});g.prototype.zHb=function(m){var d;null === (d=this.cq) || void 0 === d?void 0:d.cfa(this);this.cq=m;};g.prototype.dz=function(){this.Sc=l.tfa;this.Sf();this.zda() === c.bj.ZGa && (this.Sc=l.complete);};g.prototype.Wa=function(){var m;this.Sc=l.eJ;null === (m=this.cq) || void 0 === m?void 0:m.cfa(this);};g.prototype.d2a=function(m){this.cq.cfa(this);this.cq=m;this.cq.wDa(this);};g.prototype.jy=function(){};g.prototype.reset=function(){this.Sc=l.pending;};return g;})();b.Vla=r;},function(r,b,a){var l;function c(g,m){return g < m?-1:g > m?1:0;}Object.defineProperties(b,{__esModule:{value:!0}});b.lU=void 0;l=a(0);r=(function(){function g(m,d){this.data=null !== m && void 0 !== m?m:[];this.compare=null !== d && void 0 !== d?d:c;if(!this.empty)for(m=(this.length >> 1) - 1;0 <= m;m--){this.Rma(m);}}Object.defineProperties(g.prototype,{length:{get:function(){return this.data.length;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{empty:{get:function(){return 0 === this.data.length;},enumerable:!1,configurable:!0}});g.prototype.push=function(m){this.data.push(m);this.$Za(this.length - 1);};g.prototype.pop=function(){var m,d;if(!this.empty){m=this.data[0];d=this.data.pop();this.empty || (this.data[0]=d,this.Rma(0));return m;}};g.prototype.Mq=function(){return this.data[0];};g.prototype.map=function(m){return this.data.map(m);};g.prototype.find=function(m){return l.__read(this.data.filter(m),1)[0];};g.prototype.clear=function(){this.data=[];};g.prototype.remove=function(m){var d,f,h;d=this.data;m=d.indexOf(m);if(-1 !== m){f=d.pop();if(m < d.length){d[m]=f;h=m - 1 >> 1;d=d[h];0 <= h && 0 > this.compare(f,d)?this.$Za(m):this.Rma(m);}}};g.prototype.ZHb=function(){for(var m=this.data,d=1;d < m.length;d++){if(0 > this.compare(m[d],m[d - 1 >> 1]))throw Error(("Audit failed at position ").concat(d," of ").concat(m));}};g.prototype.contains=function(m){return 0 <= this.data.indexOf(m);};g.prototype.Bl=function(){return this.data.concat([]);};g.prototype.$Za=function(m){for(var d=this.data,f=this.compare,h=d[m],k,n;0 < m;){k=m - 1 >> 1;n=d[k];if(0 <= f(h,n))break;d[m]=n;m=k;}d[m]=h;};g.prototype.Rma=function(m){for(var d=this.data,f=this.compare,h=this.length >> 1,k=d[m],n,p,q;m < h;){n=(m << 1) + 1;q=d[n];p=n + 1;p < this.length && 0 > f(d[p],q) && (n=p,q=d[p]);if(0 <= f(q,k))break;d[m]=q;m=n;}d[m]=k;};return g;})();b.lU=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Dz=void 0;c=a(185);l=a(2);r=(function(){function g(m){this.config=m;this.reset();}g.instance=function(){(0,l.assert)(void 0 !== g.mv);return g.mv;};g.JLb=function(m){g.mv=new g(m);};g.prototype.push=function(m){this.jh && this.jh.push(m);};g.prototype.Nb=function(){if(this.jh)return (this.jh.hB(),this.jh.Qj([.25,.5,.75,.9,.95,.99]).map(function(m){return m?parseFloat(m.toFixed(1)):0;}));};g.prototype.reset=function(){this.config.j6a && this.config.Gja && (this.jh=new c.Sla(this.config.Gja.c,this.config.Gja.maxc));};return g;})();b.Dz=r;},function(r,b,a){var d;function c(f,h,k){this.ZO=!1 === f;this.pq=f || .01;this.Hja=void 0 === h?25:h;this.tJa=void 0 === k?1.1:k;this.Fj=new d(l);this.reset();}function l(f,h){return f.vg > h.vg?1:f.vg < h.vg?-1:0;}function g(f,h){return f.Fy - h.Fy;}function m(f){this.config=f || ({});this.mode=this.config.mode || "auto";c.call(this,"cont" === this.mode?f.pq:!1);this.CQb=this.config.ratio || .9;this.DQb=this.config.Kxc || 1E3;this.qda=0;}d=a(931).byb;c.prototype.reset=function(){this.Fj.clear();this.Aya=this.n=0;};c.prototype.size=function(){return this.Fj.size;};c.prototype.Bl=function(f){var h;h=[];f?(this.s6(!0),this.Fj.pg(function(k){h.push(k);})):this.Fj.pg(function(k){h.push({vg:k.vg,n:k.n});});return h;};c.prototype.summary=function(){return [(this.ZO?"exact ":"approximating ") + this.n + " samples using " + this.size() + " centroids","min = " + this.Qj(0),"Q1  = " + this.Qj(.25),"Q2  = " + this.Qj(.5),"Q3  = " + this.Qj(.75),"max = " + this.Qj(1)].join("\n");};c.prototype.push=function(f,h){h=h || 1;f=Array.isArray(f)?f:[f];for(var k=0;k < f.length;k++){this.tXa(f[k],h);}};c.prototype.BCa=function(f){f=Array.isArray(f)?f:[f];for(var h=0;h < f.length;h++){this.tXa(f[h].vg,f[h].n);}};c.prototype.s6=function(f){var h;if(!(this.n === this.Aya || !f && this.tJa && this.tJa > this.n / this.Aya)){h=0;this.Fj.pg(function(k){k.Fy=h + k.n / 2;h=k.PO=h + k.n;});this.n=this.Aya=h;}};c.prototype.xUb=function(f){var h,k;if(0 === this.size())return null;h=this.Fj.lowerBound({vg:f});k=null === h.data()?h.bL():h.data();return k.vg === f || this.ZO?k:(h=h.bL()) && Math.abs(h.vg - f) < Math.abs(k.vg - f)?h:k;};c.prototype.ON=function(f,h,k){this.Fj.pp({vg:f,n:h,PO:k});this.n+=h;};c.prototype.Z5=function(f,h,k){h !== f.vg && (f.vg+=k * (h - f.vg) / (f.n + k));f.PO+=k;f.Fy+=k / 2;f.n+=k;this.n+=k;};c.prototype.tXa=function(f,h){var k,n,p;k=this.Fj.min();n=this.Fj.max();p=this.xUb(f);p && p.vg === f?this.Z5(p,f,h):p === k?this.ON(f,h,0):p === n?this.ON(f,h,this.n):this.ZO?this.ON(f,h,p.PO):(k=p.Fy / this.n,Math.floor(4 * this.n * this.pq * k * (1 - k)) - p.n >= h?this.Z5(p,f,h):this.ON(f,h,p.PO));this.s6(!1);!this.ZO && this.Hja && this.size() > this.Hja / this.pq && this.hB();};c.prototype.GIb=function(f){var h,k;this.Fj.Ho=g;h=this.Fj.upperBound({Fy:f});this.Fj.Ho=l;k=h.bL();f=k && k.Fy === f?k:h.next();return [k,f];};c.prototype.Qj=function(f){var h;h=(Array.isArray(f)?f:[f]).map(this.pDb,this);return Array.isArray(f)?h:h[0];};c.prototype.pDb=function(f){var h,k;if(0 !== this.size()){this.s6(!0);this.Fj.min();this.Fj.max();f*=this.n;h=this.GIb(f);k=h[0];h=h[1];return h === k || null === k || null === h?(k || h).vg:this.ZO?f <= k.PO?k.vg:h.vg:k.vg + (f - k.Fy) * (h.vg - k.vg) / (h.Fy - k.Fy);}};c.prototype.hB=function(){var f;if(!this.e3a){f=this.Bl();this.reset();for(this.e3a=!0;0 < f.length;){this.BCa(f.splice(Math.floor(Math.random() * f.length),1)[0]);}this.s6(!0);this.e3a=!1;}};m.prototype=Object.create(c.prototype);m.prototype.constructor=m;m.prototype.push=function(f){c.prototype.push.call(this,f);this.FKb();};m.prototype.ON=function(f,h,k){this.qda+=1;c.prototype.ON.call(this,f,h,k);};m.prototype.Z5=function(f,h,k){1 === f.n && --this.qda;c.prototype.Z5.call(this,f,h,k);};m.prototype.FKb=function(){!("auto" !== this.mode || this.size() < this.DQb) && this.qda / this.size() > this.CQb && (this.mode="cont",this.ZO=!1,this.pq=this.config.pq || .01,this.hB());};r.exports={TDigest:c,Digest:m};},function(r,b){function a(c,l){var g;c.__proto__ && c.__proto__ !== Object.prototype && a(c.__proto__,l);Object.getOwnPropertyNames(c).forEach(function(m){g=Object.getOwnPropertyDescriptor(c,m);void 0 !== g && Object.defineProperty(l,m,g);});}Object.defineProperties(b,{__esModule:{value:!0}});b.default=a;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.Ww=void 0;a(2);r=(function(){function c(l,g){c.oa(this,l,g);}c.oa=function(l,g,m){l.Tc=g;l.kd=m.ga;l.Lb=m.offset;};Object.defineProperties(c.prototype,{stream:{get:function(){return this.Tc;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{ga:{get:function(){return this.kd;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{offset:{get:function(){return this.Lb;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{O:{get:function(){return this.Tc.O;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{L:{get:function(){return this.Tc.L;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{mediaType:{get:function(){return this.Tc.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{Sa:{get:function(){return this.Tc.Sa;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{bitrate:{get:function(){return this.Tc.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{profile:{get:function(){return this.Tc.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{W:{get:function(){return this.Tc.W;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{DK:{get:function(){return this.Tc.DK;},enumerable:!1,configurable:!0}});Object.defineProperties(c.prototype,{da:{get:function(){return this.Tc.da;},enumerable:!1,configurable:!0}});c.prototype.kfc=function(l){this.kd=l;};c.prototype.toJSON=function(){return {movieId:this.L,streamId:this.Sa,offset:this.offset,bytes:this.ga};};return c;})();b.Ww=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.WG=void 0;c=a(0);l=c.__importDefault(a(3));r=(function(g){function m(d,f,h,k,n){var p;p=g.call(this,h) || this;p.a8=!1;m.oa(p,d,f,h,k,n);return p;}c.__extends(m,g);m.oa=function(d,f,h,k,n,p){d.me=k;d.az=f;d.Le=n;d.$H=f.location || h.location;d.SV=f.bc || h.$c;d.nEa=f.nEa || h.nEa;d.up=h.up;d.Cga=l.default.time.fa();d.H=p;};Object.defineProperties(m.prototype,{console:{get:function(){return this.H;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{location:{get:function(){return this.$H;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{$c:{get:function(){return this.SV;},enumerable:!1,configurable:!0}});m.prototype.oa=function(d){this.Xa=d;};m.prototype.zEa=function(d,f){this.$H=d;this.SV=f;};m.prototype.CGa=function(d){var f,h,k;if(this.complete)return 0;f=this.az;h=f.O;if(!f.url)return (this.H.warn("updateurl, missing url for streamId:",f.Sa,"mediaRequest:",this,"stream:",f),1);k=f.Iaa(this.Hc,this.up);if(this.url !== k || d)if((h.zEa(this,f.location,f.bc),!this.xga(k)))return (this.H.warn("swapUrl failed: ",this.wP),2);return 0;};return m;})(a(91).Vw);b.WG=r;},function(r,b,a){var c,l,g,m,d,f,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.iT=void 0;c=a(0);a(2);r=a(35);l=c.__importDefault(a(29));g=c.__importDefault(a(3));m=a(190);d=a(77);f=a(106);h=g.default.dr;k=a(1028);a=(function(n){var r74;r74=2;function p(q,v,t,w,u,x,y,z){var e4H,B;e4H=2;for(;e4H !== 6;){switch(e4H){case 8:d.Gl.oa(B,q,t,z);return B;break;case 4:B=B.length?"(" + B.join(",") + ")":"";void 0 === t.responseType && (t.responseType=t.Ka || h.Yc && !h.Yc.PR.SM?0:1);B=n.call(this,q,v,B,t,w,x,y) || this;e4H=8;break;case 2:var o4M="e";o4M+="di";o4M+="t";var e_n="c";e_n+="a";e_n+="c";e_n+="h";e_n+="e";var h1T="1";h1T+="SI";h1T+="YbZrN";h1T+="JCp9";B=this;h1T;B=[e_n,o4M].filter(function(A,C){var Z1C;Z1C=2;for(;Z1C !== 1;){switch(Z1C){case 4:return [u,t.Ka][C];break;case 2:return [u,t.Ka][C];break;}}});e4H=4;break;}}}for(;r74 !== 9;){switch(r74){case 12:return p;break;case 3:return p;break;case 2:c.__extends(p,n);p.create=function(q,v,t,w,u,x,y,z){var n99,B,A;n99=2;for(;n99 !== 11;){switch(n99){case 5:n99=w.EQ && w.ga > w.EQ?4:12;break;case 8:u=new m.Uw(q,w,u,v,y,z);n99=7;break;case 1:return new k.$Ha(q,t,w,u,x,v,y,z);break;case 6:n99=0 < A?14:13;break;case 4:B=Math.ceil(w.ga / w.EQ);x=w.offset;A=w.ga;n99=8;break;case 2:n99=!v.Th && w.Ka && q.mediaType === l.default.$d.J && h.Yc && h.Yc.PR.SM?1:5;break;case 14:var X4P="s";X4P+="u";X4P+="bre";X4P+="quest";(B={offset:x,ga:Math.min(A,z),responseType:w.responseType},x+=B.ga,A-=B.ga,u.push(new f.e3(q,t,X4P,B,u,v,y)));n99=6;break;case 7:z=Math.ceil(w.ga / B);n99=6;break;case 13:return u;break;case 12:return new p(q,t,w,u,x,v,y,z);break;}}};p.prototype.toString=function(){var m7x;m7x=2;for(;m7x !== 1;){switch(m7x){case 2:var q69="I";q69+="D";q69+=": ";return q69 + this.Mi() + ":" + d.Gl.prototype.toString.call(this);break;}}};p.prototype.toJSON=function(){var f_z;f_z=2;for(;f_z !== 1;){switch(f_z){case 2:return {ID:this.Mi(),request:d.Gl.prototype.toJSON.call(this)};break;}}};r74=3;break;}}})(f.e3);b.iT=a;(0,r.cf)(d.Gl,a,!1);},function(r,b,a){var c,l,g,m,d,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Uw=void 0;c=a(0);l=a(2);r=a(35);g=a(8);m=a(21);d=a(435);f=a(77);h=a(106);a=(function(k){function n(p,q,v,t,w,u){v=k.call(this,p,q,v,t,w) || this;f.Gl.oa(v,p,q,u);v.kd=0;v.de=!1;return v;}c.__extends(n,k);Object.defineProperties(n.prototype,{Hc:{get:function(){return !1;},enumerable:!1,configurable:!0}});n.prototype.push=function(p){this.kd+=p.ga;k.prototype.push.call(this,p);};n.prototype.ss=function(p){this.kd-=p.ga;k.prototype.ss.call(this,p);};n.prototype.Mm=function(){var p;return !this.de && !!this.Ma.length && !(null === (p=(0,m.Qc)(this.Ma,function(q){return !q.de;})) || void 0 === p || !p.Mm());};n.prototype.OA=function(p,q,v){var t,w;(0,l.assert)(!this.de);t=h.Gh.wQa;w=(0,g.zy)(this);this.de=this.Ma.every(function(u){if(u.de)return !0;if(!u.Mm())return !1;t=u.OA(p,q,v,w).status;return t === h.Gh.Js;});t !== h.Gh.Js || this.de || (t=h.Gh.Bka);return {status:t};};n.prototype.Ccc=function(){this.Ma.forEach(function(p){p.FR();});};n.prototype.Mi=function(){return this.Ma?this.Ma[0].Mi() + "-" + this.Ma[this.Ma.length - 1].Mi():"empty";};n.prototype.KK=function(p,q,v){this.kd+=q - v;this.U$(this,q,v);};n.prototype.toString=function(){return "ID: " + this.Mi() + ":" + f.Gl.prototype.toString.call(this) + "(aggregate)";};n.prototype.toJSON=function(){return {ID:this.Mi(),request:k.prototype.toJSON.call(this)};};return n;})(d.Sha);b.Uw=a;(0,r.cf)(f.Gl,a);},function(r,b,a){var g,m,d,f,h,k,n,p;function c(q,v){return q.done?q:{value:{value:q.value,k_a:v}};}function l(q){q.k_a();return {done:!1,value:q.value};}Object.defineProperties(b,{__esModule:{value:!0}});b.cIb=b.ayb=b.XG=void 0;g=a(0);r=a(13);m=a(132);d=a(10);f=g.__importDefault(a(3));h=a(8);k=a(2);a=a(35);n=(function(){function q(v,t){this.console=v;this.Sg=t;this.pCb=this.XU=0;this.oh=[];this.console=(0,h.Oi)(f.default,this.console,"QueueIterator:");}Object.defineProperties(q.prototype,{kQb:{get:function(){return this.XU;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{a3a:{get:function(){var v,t,w;for(t=0;t < this.oh.length;t++){w=this.oh[t];if(!w.AZ || (null === (v=w.item) || void 0 === v?0:v.done))break;}return t;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{count:{get:function(){return this.Sg;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{St:{get:function(){return 0 === this.Sg;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{kDa:{get:function(){var v;for(v=0;v < this.oh.length && this.oh[v].Xxa;v++){;}return v;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{head:{get:function(){var v;v=g.__read(this.oh,1)[0];return (v=v && v.item) && !v.done && v.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{nAa:{get:function(){var v;for(v=0;v < this.oh.length && this.oh[v].AZ;v++){;}return v;},enumerable:!1,configurable:!0}});q.prototype.mP=function(){var v;if(void 0 === this.Sg){v=this.console;d.M && v && v.trace("QueueIterator: enqueueEnd");this.wGa(this.nAa - (this.Sg || 0));}};q.prototype.Bl=function(){return this.oh.map(function(v){return v.item;});};q.prototype.j2=function(){this.jg || (this.jg=this.oh.filter(function(v){return (null === v || void 0 === v?void 0:v.item) && !v.item.done;}).map(function(v){return v.item.value;}));return this.jg;};q.prototype.wGa=function(v){var t;d.M && this.console.trace("updateCount",{ewc:this.Sg,pq:v});if(void 0 !== this.Sg){t=this.oh[this.Sg];t && this.qxa(t);}this.Sg=void 0 === this.Sg?v:void 0 === v?v:this.Sg + v;void 0 !== this.Sg && (this.Sg=Math.max(0,this.Sg),(t=this.oh[this.Sg]) && t.iK.resolve({done:!0}));};q.prototype.enqueue=function(v){var t;d.M && this.console.trace("Enqueue called");t=this.nAa;this.c9();return this.obc(t,{value:v,done:!1}).X4a.promise;};q.prototype.ikb=function(){d.M && this.console.trace("resetEnd");this.wGa(void 0);};q.prototype.clear=function(v){var t,w,u;d.M && this.console.trace("clear");this.Hib();t=this.kDa;w=this.oh.length - t;if(0 < w){u={index:t,DAa:w};d.M && this.console.trace("Removing items",u);this.oh.splice(t,w);this.c9();this.emit("onRemoved",u);}for(w=1;w < t;w++){this.qxa(this.oh[w]);}this.Sg=void 0;this.wGa(v?v + t:v);this.XU && (this.XU=0);};q.prototype.getIterator=function(){var v,t;v=this;t=(0,h.Oi)(f.default,this.console,"QueueIteratorInstance::");return new p(this,function(w){return v.H9a(w);},t);};q.prototype.WO=function(){var v;if(0 < this.kDa){v=g.__read(this.oh,1)[0];if(v.AZ)return (d.M && this.console.trace("dequeue",v.id),this.Hib(1),this.emit("onDequeue",v.iK.promise));}};q.prototype.remove=function(v){var t,w,u;for(t=0;t < this.oh.length;t++){w=this.oh[t];u=w.item;if(u && !u.done && u.value === v){this.oh.splice(t,1);this.Sg && this.Sg > t && this.Sg--;this.c9();d.M && this.console.trace("removed",{id:w.id});this.emit("onRemoved",{index:t,DAa:1});break;}}};q.prototype.Hib=function(v){var t;v=v || Math.min(this.kDa,this.nAa);if(0 < v){t=this.oh.splice(0,v);this.c9();this.Sg && (this.Sg-=v);d.M && this.console.trace("pruned",v);Promise.resolve().then(function(){t.forEach(function(w){w.X4a.resolve();});});this.emit("onRemoved",{index:0,DAa:v});this.XU+=v;}};q.prototype.H9a=function(v){var t;d.M && this.console.trace("getNextItemCalled",{offset:v});if(void 0 === this.count || 0 < this.count){this.Tab(v);t=this.oh[v];t.sdc.resolve();v=t.iK.promise;d.M && this.console.trace("getNextItem:return",{id:t.id});}else (d.M && this.console.trace("getNextItem:returnDone"),v=Promise.resolve({done:!0}));return v;};q.prototype.obc=function(v,t){var w;w=!t.done && t.value;w=w && w.toJSON?w.toJSON():w;d.M && this.console.trace("Providing result",{fHb:v,item:w});this.Tab(v);v=this.oh[v];w=v.iK.resolve;w(t);return v;};q.prototype.Tab=function(v){var t;if(void 0 === this.oh[v]){t={};this.qxa(t);this.oh[v]=t;v === this.Sg && t.iK.resolve({done:!0});d.M && this.console.trace("Item initialized",{fHb:v});}};q.prototype.Sra=function(v){var t;t={};t.promise=new Promise(function(w,u){t.resolve=function(x){w(x);v && v(x);};t.reject=u;});return t;};q.prototype.qxa=function(v){var t;t=this;v.iK=this.Sra(function(w){v.item=w;v.AZ=!0;d.M && t.console.trace("Item resolved",{id:v.id});});v.id && v.Xxa && !v.AZ && (v.iK.resolve({done:!0}),d.M && this.console.warn("Overwriting requested queue item",v.id));v.X4a=this.Sra();v.sdc=this.Sra(function(){v.Xxa=!0;d.M && t.console.trace("Item requested",{id:v.id});});v.id=this.pCb++;v.Xxa=!1;v.AZ=!1;v.item=void 0;};q.prototype.c9=function(){this.jg=void 0;};q.prototype.Hua=function(){var v,t,w;v=this;t=(0,h.Oi)(f.default,this.console,"QueueIteratorInstance::");w=new p(this,function(u){var x,y;if(0 === v.count)return m.AsyncIterator.awa();x=v.H9a(u);y=v.oh[0];return x.then(function(z){return c(z,function(){w.iQ || (y === v.oh[0]?v.WO():(0,k.assert)(!v.oh.filter(function(B){return B.iK.promise === x;}).length,"Out of order acknowledgements are not supported"));});});},t);return w;};return q;})();b.XG=n;(0,a.cf)(r.EventEmitter,n);p=(function(q){function v(t,w,u){var x;x=q.call(this,function(){d.M && x.console.trace("Next item requested",{index:x.index});return x.Vdc(x.index++);}) || this;x.parent=t;x.Vdc=w;x.console=u;x.GN=!1;x.index=0;x.tna=!1;x.Agb=function(y){var z;z=y.index;y=y.DAa;x.index >= z && (x.index=Math.max(z,x.index - y));z=x.console;d.M && z && z.trace("QueueIteratorInstance: onRemoved modified",x.index);};return x;}g.__extends(v,q);v.prototype.Ji=function(){this.console.trace("disposed");this.GN=!0;this.ud();q.prototype.Ji.call(this);};v.prototype.next=function(){this.iQ || this.gQ();return q.prototype.next.call(this);};v.prototype.cancel=function(){this.ud();return q.prototype.cancel.call(this);};v.prototype.ud=function(){this.parent.Jy("onRemoved",this.Agb);this.tna=!1;};v.prototype.gQ=function(){this.tna || (this.tna=!0,this.parent.on("onRemoved",this.Agb));};return v;})(m.AsyncIterator);b.ayb=p;b.cIb=function(q){return (0,m.map)(q,l);};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.J5=void 0;c=a(8);r=(function(){function l(g){this.wA=g;this.p7a=new c.oD();}Object.defineProperties(l.prototype,{Jcb:{get:function(){var g,m;return null !== (g=this.Q_b) && void 0 !== g?g:null === (m=this.parent) || void 0 === m?void 0:m.Jcb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{JZ:{get:function(){var g,m;return null !== (g=this.h7b) && void 0 !== g?g:null === (m=this.parent) || void 0 === m?void 0:m.JZ;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{kl:{get:function(){var g,m;return null !== (g=this.Sh) && void 0 !== g?g:null === (m=this.parent) || void 0 === m?void 0:m.kl;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Ocb:{get:function(){var g,m,d,f;return null !== (g=this.Ce) && void 0 !== g?g:(null === (m=this.track) || void 0 === m?0:m.equals(null === (d=this.parent) || void 0 === d?void 0:d.track))?null === (f=this.parent) || void 0 === f?void 0:f.Ce:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Qcb:{get:function(){var g,m;return null !== (g=this.vhc) && void 0 !== g?g:null === (m=this.parent) || void 0 === m?void 0:m.Qcb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{tya:{get:function(){var g,m;return null !== (g=this.whc) && void 0 !== g?g:null === (m=this.parent) || void 0 === m?void 0:m.tya;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{track:{get:function(){return this.Oec;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{kqb:{get:function(){return this.p7a.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{parent:{get:function(){var g;return null === (g=this.wA) || void 0 === g?void 0:g.call(this);},enumerable:!1,configurable:!0}});l.prototype.Wa=function(){this.wA=void 0;};l.prototype.wlb=function(g){this.Q_b=g;};l.prototype.Cfc=function(g){this.h7b=g;};l.prototype.Llb=function(g){this.Sh=g;this.p7a.resolve();};l.prototype.t1=function(g){this.Ce=g;};l.prototype.Ofc=function(g){this.vhc=g;};l.prototype.Nlb=function(g){this.whc=g;};l.prototype.u1=function(g){this.Oec=g;};return l;})();b.J5=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});r=a(1040);c=a(445);a=a(1042);b.default={STARTING:a.Vkb,BUFFERING:r.Ifa,REBUFFERING:r.Ifa,PLAYING:c.mo,PAUSED:c.mo};},function(r,b,a){var c,l,g,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.MP=b.kD=void 0;c=a(448);l=a(1053);g=a(1054);m=a(1055);d=a(160);Object.defineProperties(b,{kD:{enumerable:!0,get:function(){return d.kD;}}});b.MP=function(f,h){switch(f.qza){case "manifold":return new c.jka(f,h);case "stddev":return new g.iVa(f,h);case "ci":return new m.QJa(f,h);default:return new l.TUa(f,h);}};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.yT=void 0;b.yT=(function(){function a(){}a.Gba=function(c,l){var d;function g(f){return m(d++)(f,g);}function m(f){return f >= l.length?function(){throw Error(("The last delegate in the chain should not invoke next() nextDelegateIndex ").concat(f));}:l[f];}d=0;return g(c);};return a;})();},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Nva=b.np=b.isEqual=b.FZ=void 0;c=a(8);l=a(257);b.FZ=function(g){return !!g.P;};b.isEqual=function(g,m){var d,f;d=(0,b.FZ)(g);f=(0,b.FZ)(m);return d === f?d?g.P === m.P:g.na === m.na:!1;};b.np=function(g){if((0,b.FZ)(g))return g.P;g=g.na;return g.U[g.ie].P;};b.Nva=function(g,m){var d;return g.J8?g.J8 instanceof c.N?(g=(0,l.kX)(m,(0,b.np)(g.key),g.J8),(null === g || void 0 === g?0:g.offset.greaterThan(c.N.Oa))?g:{offset:c.N.Oa,S:null !== (d=null === g || void 0 === g?void 0:g.S) && void 0 !== d?d:m.ie}):g.J8:{offset:c.N.Oa,S:m.ie};};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.ex=void 0;r=b.ex || (b.ex={});r[r.tGa=0]="up";r[r.JX=1]="down";},function(r,b,a){var l,g,m;function c(d){var f;f=(/^.+:ad\-(\d+)\-(\d+)$/).exec(d);if(f)return {R7:parseInt(f[2]),Cm:parseInt(f[1]),fK:!1};if(d=(/^.+:pad((end)|(start))-(\d+)$/).exec(d))return {Cm:parseInt(d[4]),fK:!0,e0:d[1]};}Object.defineProperties(b,{__esModule:{value:!0}});b.z8a=b.BJ=b.GHa=void 0;l=a(406);g=a(8);m=a(470);r=(function(){function d(f,h,k){this.rv=f;this.od=h;this.$g=k;}d.prototype.PVb=function(f){for(var h,k,n=c(null === f || void 0 === f?void 0:f.S),p=this.rv.na,q,v=p.U[f.S],t=v,w=[f.S],u=this.od.na.U[t.tc].P;t && t.tc === v.tc && t.P !== u;){w.push(t.dc);t=p.U[t.dc];}w.pop();p=null !== (q=w.pop()) && void 0 !== q?q:f.S;q=c(p);f=this.rv.na.U[f.S];p=this.rv.na.U[p];f=(null !== (h=f.Aa) && void 0 !== h?h:Infinity) - f.Ba;h=(null !== (k=p.Aa) && void 0 !== k?k:Infinity) - p.Ba;return {start:(null === n || void 0 === n?0:n.fK)?new m.Xha(l.hM.start,f):void 0,end:(null === q || void 0 === q?0:q.fK)?new m.Xha(l.hM.end,h):void 0};};Object.defineProperties(d.prototype,{yC:{get:function(){if(this.rv.X.nf)return this.LVb(this.rv.X.Ii);},enumerable:!1,configurable:!0}});d.prototype.LVb=function(f){var h,k,n;k=c(f.S);if(k){n=null === (h=this.od.ii) || void 0 === h?void 0:h.Pw(f);h=this.$g.Zg[this.od.na.U[n.S].P][k.Cm];n=this.PVb(f);n=new m.XHa(h,n.start,n.end);for(var p=this.rv.na,q=p.U[f.S],v=q,t=-f.offset.Z,w=this.od.na.U[v.tc].P;v && v.tc === q.tc && v.P !== w;){t+=v.Aa - v.Ba;v=p.U[v.dc];}p=g.N.Na(t);q=p.Ga(n.WX.duration);k.fK && ("end" === k.e0?q=g.N.Oa:(v=n.jga.duration.Ga(f.offset),q=q.Ga(v)));n={uf:n,progress:{xFb:h.duration.Ga(q),zFb:1 - Math.max(0,q.Z) / h.duration.Z,AFb:n.duration.Ga(p),BFb:1 - Math.max(0,p.Z) / n.duration.Z},position:f,index:k.Cm};p=this.rv.na.U[f.S];p=p.Aa - p.Ba;f=f.offset.Z / p;k.fK?n.bhb={t9b:f,kBa:k.e0,dea:g.N.Na(p)}:n.oE={$f:h.kg[k.R7],p_a:f,index:k.R7};return n;}};d.prototype.NVb=function(f,h){var k,n;k=f.S;n=this.NZb(f);if(k=c(k))return (f=this.$g.Zg[n][k.Cm],k.fK?{uf:f,e0:k.e0}:{uf:f,$f:f.kg[k.R7]});if(f=this.$g.JEa(n,f,h))return {uf:f};};d.prototype.BJ=function(f){return c(f);};d.prototype.NZb=function(f){var h,k;k=this.od;f=null === (h=k.ii) || void 0 === h?void 0:h.Pw(f);return k.na.U[f.S].P;};return d;})();b.GHa=r;b.BJ=c;b.z8a=function(d){if(d=(/^.+-(\d+)$/).exec(d))return {r3a:parseInt(d[1])};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZT="LogblobBuilderFactorySymbol";b.Vja="LogblobBuilderCommonSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Cwb="NativeLocalStorageSymbol";b.xQa="NativeLocalStorageFactorySymbol";b.jNa="IDBFactorySymbol";},function(r,b,a){var l,g;function c(m){switch(m){case l.Y.OT:return "http";case l.Y.QT:return "connectiontimeout";case l.Y.iH:return "readtimeout";case l.Y.OMa:return "corruptcontent";case l.Y.rD:return "abort";case l.Y.RT:case l.Y.vja:return "unknown";}}Object.defineProperty(b,"__esModule",{value:!0});b.Mva=b.T9a=b.Ava=void 0;l=a(4);g=a(14);b.Ava=c;b.T9a=function(m,d){m={errorcode:m + (d.errorCode || l.aa.Fo)};d.Ca && (m.errorsubcode=d.Ca);d.Rf && (m.errorextcode=d.Rf);d.jta && (m.erroredgecode=d.jta);d.Ub && (m.errordetails=d.Ub);d.Vl && (m.httperr=d.Vl);d.sda && (m.aseneterr=d.sda);d.ZE && (m.errordata=d.ZE);d.r_ && (m.mediaerrormessage=d.r_);(d=c(Number(d.Ca))) && (m.nwerr=d);return m;};b.Mva=function(){return {screensize:g.hx.width + "x" + g.hx.height,screenavailsize:g.hx.availWidth + "x" + g.hx.availHeight,clientsize:mb.innerWidth + "x" + mb.innerHeight,devicePixelRatio:g.vQa};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Vu={CU:"START_SLATE",Nja:"LIVE_EVENT",aja:"END_SLATE"};b.yOa="LivePlaybackManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XT="LicenseProviderSymbol";},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.N4b=b.lhb=b.C9b=b.D8a=b.M9b=b.yqb=b.xqb=b.yz=b.gHa=b.wqb=b.P2=void 0;c=a(23);l=a(22);b.P2="$attributes";b.wqb="$children";b.gHa="$name";b.yz="$text";b.xqb="$parent";b.yqb="$sibling";b.M9b=/^\s*<\?xml.*\?>/i;b.D8a=function(g,m,d){for(var f=2;f < arguments.length;++f){;}for(f=1;(m=arguments[f++]) && (g=g[m]);){;}return g;};b.C9b=function(g,m){var d;g?d=(0,c.Ak)(g[b.yz]):void 0 !== m && (d=m);(0,l.vX)(d);return d;};b.lhb=function(g,m){var d;g?d=g[b.yz]:void 0 !== m && (d=m);(0,l.x4a)(d);return d;};b.N4b=function(g,m){var d;d={};d[b.P2]=g;d[b.yz]=m;return d;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.uD=void 0;r=b.uD || (b.uD={});r[r.snc=8]="Backspace";r[r.urc=9]="Tab";r[r.xoc=13]="Enter";r[r.mrc=16]="Shift";r[r.Pnc=17]="Ctrl";r[r.Umc=18]="Alt";r[r.yqc=19]="PauseBreak";r[r.Gnc=20]="CapsLock";r[r.zoc=27]="Escape";r[r.orc=32]="Space";r[r.xqc=33]="PageUp";r[r.wqc=34]="PageDown";r[r.woc=35]="End";r[r.bpc=36]="Home";r[r.ipc=37]="LeftArrow";r[r.Crc=38]="UpArrow";r[r.Iqc=39]="RightArrow";r[r.eoc=40]="DownArrow";r[r.fpc=45]="Insert";r[r.boc=46]="Delete";r[r.Lrc=48]="Zero";r[r.nqc=49]="One";r[r.xrc=50]="Two";r[r.vrc=51]="Three";r[r.Woc=52]="Four";r[r.Uoc=53]="Five";r[r.nrc=54]="Six";r[r.lrc=55]="Seven";r[r.voc=56]="Eight";r[r.Ypc=57]="Nine";r[r.Mmc=65]="A";r[r.Vmc=66]="B";r[r.znc=67]="C";r[r.Isb=68]="D";r[r.E=69]="E";r[r.Aoc=70]="F";r[r.Xoc=71]="G";r[r.$oc=72]="H";r[r.cpc=73]="I";r[r.gpc=74]="J";r[r.Hja=75]="K";r[r.Gvb=76]="L";r[r.mpc=77]="M";r[r.Bpc=78]="N";r[r.kqc=79]="O";r[r.pqc=80]="P";r[r.Q=81]="Q";r[r.Eqc=82]="R";r[r.hyb=83]="S";r[r.Syb=84]="T";r[r.yrc=85]="U";r[r.Drc=86]="V";r[r.Frc=87]="W";r[r.hma=88]="X";r[r.Jrc=89]="Y";r[r.Krc=90]="Z";r[r.jpc=91]="LeftWindowKey";r[r.Jqc=92]="RightWindowKey";r[r.jrc=93]="SelectKey";r[r.aqc=96]="Numpad0";r[r.bqc=97]="Numpad1";r[r.cqc=98]="Numpad2";r[r.dqc=99]="Numpad3";r[r.eqc=100]="Numpad4";r[r.fqc=101]="Numpad5";r[r.gqc=102]="Numpad6";r[r.hqc=103]="Numpad7";r[r.iqc=104]="Numpad8";r[r.jqc=105]="Numpad9";r[r.Apc=106]="Multiply";r[r.Tmc=107]="Add";r[r.prc=109]="Subtract";r[r.aoc=110]="DecimalPoint";r[r.doc=111]="Divide";r[r.Boc=112]="F1";r[r.Foc=113]="F2";r[r.Goc=114]="F3";r[r.Hoc=115]="F4";r[r.Ioc=116]="F5";r[r.Joc=117]="F6";r[r.Koc=118]="F7";r[r.Loc=119]="F8";r[r.Moc=120]="F9";r[r.Coc=121]="F10";r[r.Doc=122]="F11";r[r.Eoc=123]="F12";r[r.$pc=144]="NumLock";r[r.hrc=145]="ScrollLock";r[r.krc=186]="SemiColon";r[r.yoc=187]="Equals";r[r.Lnc=188]="Comma";r[r.Znc=189]="Dash";r[r.Aqc=190]="Period";r[r.Voc=191]="ForwardSlash";r[r.wrc=192]="Tilde";r[r.oqc=219]="OpenBracket";r[r.rnc=220]="BackSlash";r[r.Inc=221]="CloseBracket";r[r.Dqc=222]="Quote";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tM=void 0;b.tM=function(){return "";};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Via=b.PKa=void 0;b.PKa=function(){this.T=0;this.J=1;this.Dub=2;this.Sf=function(){};};b.Via="DownloadTrackConstructorFactorySymbol";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Fc=void 0;b.Fc=a;a.df={NQa:"mr1",MQa:"mr2",OQa:"mr3",qU:"mr4",Lwb:"mr5",xH:"mr6"};a.cd={UNSENT:0,OPENED:1,bA:2,aA:3,DONE:5,sM:6,cT:7,name:("UNSENT OPENED SENT RECEIVING DONE FAILED ABORTED").split(" ")};a.J3={NO_ERROR:-1,ptb:0,jKa:1,Btb:2,ttb:3,ssb:4,qJa:5,oJa:6,tsb:7,usb:8,wsb:9,psb:10,rsb:11,pJa:12,qsb:13,osb:14,Jub:15,MMa:16,LMa:17,sja:18,G4:19,tja:20,uja:21,Lub:22,H4:23,NMa:24,Kub:25,wtb:26,qtb:27,vyb:28,gtb:29,htb:30,itb:31,jtb:32,ktb:33,ltb:34,mtb:35,ntb:36,otb:37,rtb:38,stb:39,utb:40,vtb:41,xtb:42,ytb:43,ztb:44,Atb:45,Ctb:46,Dtb:47,uyb:48,TIMEOUT:49,IMa:50,JMa:51,Iub:52,name:("DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP").split(" ")};a.Yc={PR:{Nqb:!0,SM:!1,xwb:!0}};},function(r,b){function a(){var c;c=this;this.uy=!1;this.trace=[];this.C9=function(){c.tta.vl(function(){c.tt();});};}Object.defineProperty(b,"__esModule",{value:!0});b.sm=void 0;a.prototype.start=function(c){var l;l=this;this.j=c;this.wf=this.j.wq();this.uy || (this.wf.Dn.addListener(this.tt),this.j.addEventListener("closing",function(){return l.unsubscribe();}));this.b1();};a.prototype.unsubscribe=function(){this.wf.Dn.removeListener(this.tt);this.uy=!1;this.b1();};b.sm=a;},function(r,b,a){var c,l,g,m,d,f,h,k,n;Object.defineProperty(b,"__esModule",{value:!0});b.al=void 0;c=a(17);l=a(19);r=a(4);g=a(22);m=a(9);d=a(520);f=a(14);h=a(34);k=a(49);n=m.Ha.get(h.uj);n.register(r.aa.zja,function(p){var q,v,t;q=m.Ha.get(k.fr);(0,g.ya)(l.config);(0,g.ya)(f.yD && f.yD.getDeviceId || f.uQa || q.CP);v=m.Ha.get(d.GKa);t=(0,m.lk)("Device");n.Ze("devs");v.create({deviceId:l.config.deviceId,CP:q.CP,c5a:"deviceid",Wl:l.config.Wl,rq:q.rq,DX:q.DX,userAgent:f.vH,Rya:l.config.Rya,Vua:l.config.Vua,Xvc:l.config.yB?"mslstoretest":"mslstore",NS:l.config.NS}).then(function(w){b.al=w;mb._cad_global.device=b.al;t.info("Esn source: " + b.al.p$);n.Ze("devdone");p(c.mh);}).catch(function(w){w.ja=void 0;p(w);});});},function(r){var b;b=(function(){return this;})();try{b=b || new Function("return this")();}catch(a){"object" === typeof mb && (b=mb);}r.exports=b;},function(r,b,a){b=a(611);r.exports=Function.prototype.bind || b;},function(r,b,a){var c;c=a(321);r.exports=function(){return c() && !!Symbol.toStringTag;};},function(r){r.exports=function(){if("function" !== typeof Promise)throw new TypeError("`Promise.prototype.finally` requires a global `Promise` be available.");};},function(r,b,a){var c,l,g,m;b=a(40);c=b("%TypeError%");l=b("%SyntaxError%");g=a(108);m={"Property Descriptor":function(d){var f,h;f={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(h in d){if(g(d,h) && !f[h])return !1;}f=g(d,"[[Value]]");d=g(d,"[[Get]]") || g(d,"[[Set]]");if(f && d)throw new c("Property Descriptors may not be both accessor and data descriptors");return !0;},"Match Record":a(646),"Iterator Record":function(d){return g(d,"[[Iterator]]") && g(d,"[[NextMethod]]") && g(d,"[[Done]]");},"PromiseCapability Record":function(d){return d && g(d,"[[Resolve]]") && "function" === typeof d["[[Resolve]]"] && g(d,"[[Reject]]") && "function" === typeof d["[[Reject]]"] && g(d,"[[Promise]]") && d["[[Promise]]"] && "function" === typeof d["[[Promise]]"].then;},"AsyncGeneratorRequest Record":function(d){return d && g(d,"[[Completion]]") && g(d,"[[Capability]]") && m["PromiseCapability Record"](d["[[Capability]]"]);}};r.exports=function(d,f,h,k){var n;n=m[f];if("function" !== typeof n)throw new l("unknown record type: " + f);if("Object" !== d(k) || !n(k))throw new c(h + " must be a " + f);};},function(r,b){var c;function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.kH=void 0;c=/^\S+$/;a.prototype.cJ=function(l){return void 0 !== l;};a.prototype.wh=function(l){return null !== l && void 0 !== l;};a.prototype.sW=function(l){return a.c0a(l);};a.prototype.Loa=function(l){return !(!l || !a.c0a(l));};a.prototype.qE=function(l){return Array.isArray(l);};a.prototype.d0a=function(l){return !(!l || l.constructor != Uint8Array);};a.prototype.Ol=function(l,g,m){return a.h_a(l,g,m);};a.prototype.Koa=function(l){return a.Koa(l);};a.prototype.spa=function(l,g,m){return a.f8(l,g,m) && 0 === l % 1;};a.prototype.tW=function(l,g,m){return a.f8(l,g || 0,m);};a.prototype.dW=function(l){return a.f8(l,1);};a.prototype.jFb=function(l){return a.f8(l,0,255);};a.prototype.kFb=function(l){return l === +l && (0 === l || l !== (l | 0)) && !0;};a.prototype.e0a=function(l){return !(!l || !c.test(l));};a.prototype.Dr=function(l){return a.i_a(l);};a.prototype.Qo=function(l){return !(!a.i_a(l) || !l);};a.prototype.N7=function(l){return !0 === l || !1 === l;};a.prototype.P7=function(l){return "function" == typeof l;};a.i_a=function(l){return "string" == typeof l;};a.h_a=function(l,g,m){return "number" == typeof l && !isNaN(l) && isFinite(l) && (void 0 === g || l >= g) && (void 0 === m || l <= m);};a.Koa=function(l){return "number" == typeof l && isNaN(l);};a.f8=function(l,g,m){return a.h_a(l,g,m) && 0 === l % 1;};a.c0a=function(l){return "object" == typeof l;};b.kH=new a();},function(r,b,a){var c,l,g,m,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.uc=void 0;r=a(1);c=a(80);l=a(680);g=a(225);m=a(737);d=a(744);f=a(748);a=a(1442);b.uc=new r.n3({AL:!0});(0,f.jdb)(b.uc);b.uc.load(l.platform);b.uc.load(m.config);g.dP.load(d.P5a);b.uc.load(a.i0a);b.uc.load(a.profile);b.uc.bind(c.SNa).dn(b.uc);},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(219);r=(function(){function l(g){this.Lc=g;}l.prototype.Ky=function(g){this.Lc.Ky=g;return new c.mia(this.Lc);};return l;})();b.f3=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(218);a(331);r=(function(){function l(g){this.Lc=g;}l.prototype.when=function(g){this.Lc.VI=g;return new c.f3(this.Lc);};l.prototype.K2=function(){this.Lc.VI=function(g){return null !== g.target && !g.target.Mxa() && !g.target.Yxa();};return new c.f3(this.Lc);};return l;})();b.mia=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Xka="PlatformEmeSymbol";},function(r){r.exports=function(b,a){return Object.prototype.hasOwnProperty.call(a,b);};},function(r,b,a){var g,m,d,f;function c(h,k,n){for(var p=n.next();!p.done;){if((k=h["@@transducer/step"](k,p.value)) && k["@@transducer/reduced"]){k=k["@@transducer/value"];break;}p=n.next();}return h["@@transducer/result"](k);}function l(h,k,n,p){return h["@@transducer/result"](n[p](d(h["@@transducer/step"],h),k));}g=a(689);m=a(691);d=a(692);f="undefined" !== typeof Symbol?Symbol.iterator:"@@iterator";r.exports=function(h,k,n){"function" === typeof h && (h=m(h));if(g(n)){for(var p=0,q=n.length;p < q;){if((k=h["@@transducer/step"](k,n[p])) && k["@@transducer/reduced"]){k=k["@@transducer/value"];break;}p+=1;}return h["@@transducer/result"](k);}if("function" === typeof n["fantasy-land/reduce"])return l(h,k,n,"fantasy-land/reduce");if(null != n[f])return c(h,k,n[f]());if("function" === typeof n.next)return c(h,k,n);if("function" === typeof n.reduce)return l(h,k,n,"reduce");throw new TypeError("reduce: list must be array or iterable");};},function(r){r.exports=function(b,a){switch(b){case 0:return function(){return a.apply(this,arguments);};case 1:return function(c){return a.apply(this,arguments);};case 2:return function(c,l){return a.apply(this,arguments);};case 3:return function(c,l,g){return a.apply(this,arguments);};case 4:return function(c,l,g,m){return a.apply(this,arguments);};case 5:return function(c,l,g,m,d){return a.apply(this,arguments);};case 6:return function(c,l,g,m,d,f){return a.apply(this,arguments);};case 7:return function(c,l,g,m,d,f,h){return a.apply(this,arguments);};case 8:return function(c,l,g,m,d,f,h,k){return a.apply(this,arguments);};case 9:return function(c,l,g,m,d,f,h,k,n){return a.apply(this,arguments);};case 10:return function(c,l,g,m,d,f,h,k,n,p){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qla="StringUtilsSymbol";},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A,C;Object.defineProperty(b,"__esModule",{value:!0});b.dP=b.O5a=void 0;r=a(1);c=a(128);l=a(343);g=a(226);m=a(227);d=a(720);f=a(722);h=a(99);k=a(145);n=a(723);p=a(173);q=a(724);v=a(228);t=a(725);w=a(230);u=a(729);x=a(351);y=a(733);z=a(352);B=a(735);A=a(232);C=a(736);b.O5a=new r.Ed(function(D){D(l.TKa).to(g.SKa).la();D(m.Aia).to(d.wJa).la();D(c.G3).h2(f.Fib);D(z.fOa).to(B.eOa).la();D(A.Kja).to(C.gOa).la();D(h.Sz).JG(function(E){b.dP.parent=E.yb;return b.dP.get(h.Sz);});D(k.gU).bf(function(){return function(){return new n.VPa();};});D(p.l3).to(q.yJa).la();D(v.bja).to(t.wLa).la();D(w.Wia).to(u.YKa).la();D(x.SPa).to(y.RPa).la();});b.dP=new r.n3({AL:!0});},function(r,b,a){var g;function c(){}function l(m){m?(this.active=!1,this.wua(m)):this.active=!0;}Object.defineProperty(b,"__esModule",{value:!0});b.SKa=b.F3=void 0;r=a(0);a=a(1);l.prototype.wua=function(m){this.Ye=m.keySessionData?m.keySessionData.map(function(d){return {id:d.id,oK:d.licenseContextId,SZ:d.licenseId};}):[];this.sa=m.xid;this.L=m.movieId;};l.prototype.Ow=function(){return JSON.parse(JSON.stringify({keySessionData:this.Ye?this.Ye.map(function(m){return {id:m.id,licenseContextId:m.oK,licenseId:m.SZ};}):[],xid:this.sa,movieId:this.L}));};b.F3=l;c.prototype.create=function(){return new l();};c.prototype.load=function(m){return new l(m);};g=c;g=r.__decorate([(0,a.$)()],g);b.SKa=g;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Aia="CachedDrmDataSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bja="EmeApiFactorySymbol";},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v;function c(t,w,u,x,y,z){this.D_=t;this.is=w;this.yc=u;this.Wi=x;this.cl=y;this.Ai=z;(0,m.Hq)(this,"nav");}Object.defineProperty(b,"__esModule",{value:!0});b.kx=void 0;r=a(0);g=a(1);m=a(54);d=a(4);f=a(37);h=a(25);k=a(98);n=a(30);p=a(31);q=a(69);a=a(68);c.prototype.DB=function(){if(this.Eb)return this.Eb.sessionId;};c.prototype.idc=function(t,w){return this.D_.requestMediaKeySystemAccess(t,w);};c.prototype.createMediaKeys=function(t){return t.createMediaKeys();};c.prototype.createSession=function(t,w){this.Eb=t.createSession(w);};c.prototype.x9=function(){return Promise.reject(new k.Vh(d.aa.I3));};c.prototype.t2b=function(){return !!this.Eb;};c.prototype.setServerCertificate=function(t,w){return this.is.P7(t.setServerCertificate) && w?t.setServerCertificate(w):Promise.resolve();};c.prototype.generateRequest=function(t,w){return this.Eb?this.Eb.generateRequest(t,w[0]):Promise.reject(new k.Vh(d.aa.I3,d.Y.qM,void 0,"Unable to generate a license request, key session is not valid"));};c.prototype.update=function(t){return this.Eb?this.Eb.update(t[0]):Promise.reject(new k.Vh(d.aa.nLa,d.Y.qM,void 0,"Unable to update the EME with a response, key session is not valid"));};c.prototype.load=function(t){return this.Eb?this.Eb.load(t):Promise.reject(new k.Vh(d.aa.eub,d.Y.qM,void 0,"Unable to load a key session, key session is not valid"));};c.prototype.close=function(){var t;this.qra=void 0;if(!this.Eb)return Promise.reject(new k.Vh(d.aa.fLa,d.Y.qM,void 0,"Unable to close a key session, key session is not valid"));t=Promise.resolve();this.DB() && (t=this.Eb.close());this.Eb=void 0;return t;};c.prototype.remove=function(){return this.Eb?this.Eb.remove():Promise.reject(new k.Vh(d.aa.gub,d.Y.qM,void 0,"Unable to remove a key session, key session is not valid"));};c.prototype.dL=function(){return Promise.reject(new k.Vh(d.aa.Zia,void 0,"Unable to renew a key session, not supported"));};c.prototype.D_a=function(t){if(!this.Eb)throw ReferenceError("Unable to add message handler, key session is not valid");this.Eb.addEventListener(l.sLa,t);};c.prototype.z_a=function(t){if(!this.Eb)throw ReferenceError("Unable to add key status handler, key session is not valid");this.Eb.addEventListener(l.rLa,t);};c.prototype.w_a=function(t){if(!this.Eb)throw ReferenceError("Unable to add error handler, key session is not valid");this.Eb.addEventListener(l.qLa,t);};c.prototype.LFb=function(t){var w;w=this;if(!this.Eb)throw ReferenceError("Unable to add closed unexpectedly handler, key session is not valid");this.qra=t;this.Eb.closed.then(function(u){var x;return null === (x=w.qra) || void 0 === x?void 0:x.call(w,u);});};c.prototype.Gjb=function(t){if(!this.Eb)throw ReferenceError("Unable to remove message handler, key session is not valid");this.Eb.removeEventListener(l.sLa,t);};c.prototype.Djb=function(t){if(!this.Eb)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.Eb.removeEventListener(l.rLa,t);};c.prototype.Bjb=function(t){if(!this.Eb)throw ReferenceError("Unable to remove error handler, key session is not valid");this.Eb.removeEventListener(l.qLa,t);};v=l=c;v.sLa="message";v.rLa="keystatuseschange";v.qLa="error";v=l=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(f.GM)),r.__param(1,(0,g.l)(h.Ug)),r.__param(2,(0,g.l)(p.Yi)),r.__param(3,(0,g.l)(n.Di)),r.__param(4,(0,g.l)(q.Tu)),r.__param(5,(0,g.l)(a.Qs))],v);b.kx=v;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wia="DrmTraitsFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zxa=b.ax=void 0;(function(a){a.qpb="usable";a.cy="expired";a.released="released";a.Pgb="output-restricted";a.i9b="output-downscaled";a.ohc="status-pending";a.u1b="internal-error";})(b.ax || (b.ax={}));b.zxa=function(a){return !!a && !!a.keyStatuses;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Kja="KeySystemRestrictorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Cia="CachedErrorsSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$la="UserAgentDataPlatformVersionProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GU="TimeoutMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Lk="_ANY_";b.GLa="EnricherSymbol";},function(r,b,a){var l,g,m;function c(d,f,h,k){this.Ia=d;this.S8=f;this.Ep=h;this.lq=void 0 === k?"General":k;this.tra={};}Object.defineProperty(b,"__esModule",{value:!0});b.yM=void 0;l=a(7);g=a(371);m=a(778);c.prototype.t_a=function(d,f){this.tra[d]=f;};c.prototype.fatal=function(d,f){for(var h=[],k=1;k < arguments.length;++k){h[k - 1]=arguments[k];}this.kE(l.Hk.qub,d,this.PS(d,h));};c.prototype.error=function(d,f){for(var h=[],k=1;k < arguments.length;++k){h[k - 1]=arguments[k];}this.kE(l.Hk.Bg,d,this.PS(d,h));};c.prototype.warn=function(d,f){for(var h=[],k=1;k < arguments.length;++k){h[k - 1]=arguments[k];}this.kE(l.Hk.ema,d,this.PS(d,h));};c.prototype.info=function(d,f){for(var h=[],k=1;k < arguments.length;++k){h[k - 1]=arguments[k];}this.kE(l.Hk.xja,d,this.PS(d,h));};c.prototype.trace=function(d,f){for(var h=[],k=1;k < arguments.length;++k){h[k - 1]=arguments[k];}this.kE(l.Hk.yVa,d,this.PS(d,h));};c.prototype.debug=function(d,f){for(var h=1;h < arguments.length;++h){;}!1;};c.prototype.log=function(d,f){for(var h=[],k=1;k < arguments.length;++k){h[k - 1]=arguments[k];}this.debug.apply(this,[d].concat(ia(h)));};c.prototype.write=function(d,f,h){for(var k=[],n=2;n < arguments.length;++n){k[n - 2]=arguments[n];}this.kE(d,f,this.PS(f,k));};c.prototype.toString=function(){return JSON.stringify(this);};c.prototype.toJSON=function(){return {category:this.lq};};c.prototype.v9=function(d){return new c(this.Ia,this.S8,this.Ep,d);};c.prototype.kE=function(d,f,h){d=new g.Tja(d,this.lq,this.Ia.Rb(),f,h);f=oa(this.Ep.Ep);for(h=f.next();!h.done;h=f.next()){h=h.value;h(d);}};c.prototype.vWb=function(d){return 0 < Object.keys(this.tra).length?[this.tra].concat(ia(d)):d;};c.prototype.PS=function(d,f){var h;d && "null" !== d && "undefined" !== d || f.push({StackTrace:null !== (h=Error("Empty message").stack) && void 0 !== h?h:"nostack"});return (0,m.C1a)(this.S8,this.vWb(f));};b.yM=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Fla="SegmentManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qka="PboPlaydataFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gla="PlaybackSegmentDataFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ika="ManifestParserFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rja="HLSConfigSymbol";},function(r,b,a){var E,G,F,L,O,K,I,M,H,J,N,P,W,V,S,U,fa,qa,za,Aa,Qa,T,Z,Q,la,sa,R,ha,wa,va,Ea,Ya,wb,nb,zb;function c(Oa,Za,Xa,cb,hb){L.call(this,Oa,Za,Xa,cb,hb);}function l(Oa,Za,Xa,cb,hb){L.call(this,Oa,Za,Xa,cb,hb);}function g(Oa,Za,Xa,cb,hb){L.call(this,Oa,Za,Xa,cb,hb);}function m(Oa,Za,Xa,cb,hb){L.call(this,Oa,Za,Xa,cb,hb);this.PEa=Oa.config.PEa;this.ye=this.sizes=void 0;}function d(Oa,Za,Xa,cb,hb){L.call(this,Oa,Za,Xa,cb,hb);}function f(){for(var Oa=new DataView(this),Za="",Xa,cb=0;cb < this.byteLength;cb++){Xa=Oa.getUint8(cb);Za+=("00" + Xa.toString(16)).slice(-2);}return Za;}function h(Oa,Za,Xa,cb,hb){L.call(this,Oa,Za,Xa,cb,hb);}function k(Oa,Za,Xa,cb,hb){L.call(this,Oa,Za,Xa,cb,hb);}function n(Oa,Za,Xa,cb,hb){L.call(this,Oa,Za,Xa,cb,hb);}function p(Oa,Za,Xa,cb,hb){L.call(this,Oa,Za,Xa,cb,hb);}function q(Oa,Za,Xa,cb,hb){L.call(this,Oa,Za,Xa,cb,hb);}function v(Oa){function Za(Xa,cb,hb,sb,Hb){L.call(this,Xa,cb,hb,sb,Hb);this.Gfb=Oa;}Za.wd=!1;Za.prototype=new L();Za.prototype.constructor=Za;Object.defineProperties(Za.prototype,{mKa:{get:function(){return this.Gfb;}}});Za.prototype.parse=function(){this.R.console.trace("renaming '" + this.type + "' to draft type '" + this.Gfb + "'");this.R.offset=this.startOffset + 4;this.Xb.tqb(this.mKa);this.type=this.mKa;return !0;};return Za;}function t(Oa,Za,Xa,cb,hb){L.call(this,Oa,Za,Xa,cb,hb);}function w(Oa,Za,Xa,cb,hb){L.call(this,Oa,Za,Xa,cb,hb);}function u(Oa,Za,Xa,cb,hb){L.call(this,Oa,Za,Xa,cb,hb);}function x(Oa,Za,Xa,cb,hb){L.call(this,Oa,Za,Xa,cb,hb);}function y(Oa,Za,Xa,cb,hb){L.call(this,Oa,Za,Xa,cb,hb);}function z(Oa,Za,Xa,cb,hb){L.call(this,Oa,Za,Xa,cb,hb);}function B(Oa,Za,Xa,cb,hb){L.call(this,Oa,Za,Xa,cb,hb);}function A(Oa,Za,Xa,cb,hb){L.call(this,Oa,Za,Xa,cb,hb);}function C(Oa,Za,Xa,cb,hb){L.call(this,Oa,Za,Xa,cb,hb);}function D(Oa,Za){Oa.forEach(function(Xa){Za[Xa.xf]=Xa;});}E=a(102).assert;b=a(103);G=a(179).N;F=a(386);a(149);a(89);a(89);a(89);L=a(24).Ag;O=a(800).default;K=a(801).default;I=a(802).default;M=a(803).default;H=a(804).default;J=a(805).default;N=a(806).default;P=a(807).default;W=a(808).default;a(244);a(180);V=a(387).Iqb;S=a(387).Xtb;U=a(809).default;fa=a(810).default;qa=a(90).default;za=a(90).drb;Aa=a(90).erb;Qa=a(90).frb;T=a(90).grb;Z=a(811).default;Q=a(812).default;la=a(813).default;sa=a(90).Mub;R=a(90).Fub;ha=a(90).crb;wa=a(814).default;va=a(815).default;Ea=a(816).default;Ya=a(388).default;wb=a(389).default;a(150);a(247);a(248);a(246);nb=a(817).default;zb=a(818).Xyb;a=a(834).default;c.wd=!0;c.prototype=new L();c.prototype.constructor=c;l.wd=!0;l.prototype=new L();l.prototype.constructor=l;g.wd=!1;g.prototype=new L();g.prototype.constructor=g;g.prototype.parse=function(Oa){var Za;this.Rh();1 === this.version?(this.R.im(),this.R.im(),this.W=this.R.jc(),this.duration=this.R.im()):(this.R.jc(),this.R.jc(),this.W=this.R.jc(),this.duration=this.R.jc());Za=this.R.Dh() & 32767;this.language=String.fromCharCode(96 + (Za >>> 10),96 + (Za >>> 5 & 31),96 + (Za & 31));Oa && Oa.Ff && (Oa.Ff.W=this.W,Oa.Ff.duration=this.duration);return !0;};m.wd=!1;m.prototype=new L();m.prototype.constructor=m;m.prototype.lDb=function(){this.Rh();this.R.jc();this.W=this.R.jc();0 === this.version?(this.J5a=this.R.jc(),this.o7a=this.R.jc()):(this.J5a=this.R.im(),this.o7a=this.R.im());this.zdc=this.R.Dh();this.vjb=this.R.Dh();};m.prototype.gAb=function(Oa,Za){var Xa,cb,hb;Xa=this.W;Oa=Oa && Oa.W || Xa;cb=Oa / Xa;Xa=this.R.Pea(Za,12,!1);hb=1 === cb?this.R.Pea(Za,12,!1):F.from(Uint32Array,{length:Za},function(){var sb;sb=Math.round(this.R.jc() * cb);this.R.offset+=8;return sb;},this);this.TEb(Za,hb,Xa,Oa);};m.prototype.TEb=function(Oa,Za,Xa,cb){if(this.PEa){cb=this.PEa * cb / 1E3;for(var hb=0,sb=1;sb < Oa;sb++){Math.abs(Za[hb] - cb) > Math.abs(Za[hb] + Za[sb] - cb)?(Za[hb]+=Za[sb],Xa[hb]+=Xa[sb]):(++hb,hb !== sb && (Za[hb]=Za[sb],Xa[hb]=Xa[sb]));}++hb;Za=new Uint32Array(Za.buffer.slice(0,4 * hb));Xa=new Uint32Array(Xa.buffer.slice(0,4 * hb));}this.sizes=Xa;this.ye=Za;};m.prototype.parse=function(Oa){var Za,Xa,cb,hb;this.lDb();this.da=Oa.da;Za=this.W;Xa=this.da && this.da.W || Za;cb=this.vjb;hb=this.startOffset + this.length + this.o7a;Za=new G(this.J5a,Za).Yf(Xa).Ea;this.ma={W:Xa,qo:Za,offset:hb};this.gAb(this.da,cb);this.ma.ye=this.ye;this.ma.sizes=this.sizes;Oa.gz=this;return !0;};d.wd=!1;d.prototype=new L();d.prototype.constructor=d;d.prototype.parse=function(){var Oa;this.wz=[];this.f$b=[];Oa=(this.length - 11) / 2;this.R.Md();this.R.Md();this.R.Md();for(var Za=0;Za < Oa;Za++){this.wz.push(this.R.Md());this.f$b.push(this.R.Md());}return !0;};h.wd=!1;h.prototype=new L();h.prototype.constructor=h;h.prototype.parse=function(Oa){var Za;this.Rh();this.R.offset+=1;if(0 == this.version)this.R.offset+=1;else {Za=this.R.Md();this.RPb=Za >> 4;this.XPb=Za & 15;Oa && Oa.Ff && (Oa.Ff.rtc=this.RPb,Oa.Ff.utc=this.XPb);}this.P4a=this.R.Md();this.O4a=this.R.Md();this.hya=this.R.offset;this.Gq=this.R.Rea(16);this.Gq.toString=f;Oa && Oa.Ff && (Oa.Ff.stc=this.P4a,Oa.Ff.TPb=this.O4a,Oa.Ff.ttc=this.Gq);1 == this.P4a && 0 == this.O4a && (this.QPb=this.R.Md(),this.PPb=this.R.Rea(this.QPb),Oa && Oa.Ff && (Oa.Ff.SPb=this.PPb));return !0;};k.wd=!1;k.prototype=new L();k.prototype.constructor=k;k.prototype.parse=function(){this.Rh();this.Nr=this.R.Dh();this.F5b=this.R.Pea(this.Nr,void 0,!0);return !0;};n.wd=!1;n.prototype=new L();n.prototype.constructor=n;n.prototype.parse=function(Oa){var Za,Xa,cb,hb,sb,Hb;Za=Oa.gz;E(Za);Oa=Oa.da;Xa=Za.W;Za=Za.vjb;E(Oa);E(Xa);E(Za);this.Rh();E(2 > this.version);this.Nr=this.R.Dh();this.qR=new Uint16Array(Za + 1);cb=Oa.w$a(Xa);hb=cb / Xa;sb=Oa.Yf(cb).Ea;if(0 === this.version)for((this.RR=new Uint16Array(),this.Qi=new Uint32Array(),Oa=Xa=0);Oa <= Za;++Oa){if((this.qR[Oa]=Xa,Oa < this.Nr)){Hb=this.R.Md();if(0 !== Hb)for(cb=0;cb < Hb;(++cb,++Xa)){this.RR[Xa]=Math.floor((this.R.jc() + 1) * hb) / sb;this.Qi[Xa]=this.R.jc();}}}else if(1 === this.version)for((cb=this.R.Fbc(this.Nr),this.R.offset+=4,this.Qi=this.R.Pea(this.Nr,10,!1),this.R.offset-=8,this.RR=F.from(Uint16Array,{length:this.Nr},function(){var Lb;Lb=Math.floor((this.R.jc() + 1) * hb) / sb;this.R.offset+=6;return Lb;},this),Xa=Oa=0);Oa <= Za;++Oa){for(;Xa < cb.length && cb[Xa] < Oa;){++Xa;}this.qR[Oa]=Xa;}this.Xk={qR:this.qR,RR:this.RR,Qi:this.Qi};return !0;};p.wd=!0;p.prototype=Object.create(c.prototype);p.prototype.constructor=p;q.wd=!0;q.prototype=Object.create(c.prototype);q.prototype.constructor=q;q.prototype.sJ=function(){var Oa;Oa=this.Vq("tfhd");Oa && (this.ot=Oa.c1a?Oa.ot:this.parent.startOffset);return !0;};t.wd=!1;t.prototype=new L();t.prototype.constructor=t;t.prototype.parse=function(){var Oa,Tb;Oa=this.R.offset;this.Rh();if(1 === this.version){this.R.console.trace("translating vpcC box to draft equivalent");this.R.offset+=2;for(var Za=this.R.offset,Xa=this.R.Md(),cb=this.R.Md(),hb=this.R.Md(),sb=this.R.Md(),Hb=this.R.Dh(),Lb=[],Rb=0;Rb < Hb;++Rb){Lb=this.R.Md();}Rb=(Xa & 240) >>> 4;Tb=(Xa & 14) >>> 1;Xa&=1;hb=16 === hb?1:0;cb != sb && this.R.console.warn("VP9: Has the VP9 spec for vpcC changed? colourPrimaries " + cb + " and matrixCoefficients " + sb + " should be the same value!");sb=2;switch(cb){case 1:sb=2;break;case 6:sb=1;break;case 9:sb=5;break;default:this.R.console.warn("VP9: Unknown colourPrimaries " + cb + "! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;this.Xb.wha(this.version,Oa);this.Xb.wha(Rb << 4 | sb,Za++);this.Xb.wha(Tb << 4 | hb << 1 | Xa,Za++);Hb+=2;Lb.push(0,0);this.Xb.jmc(Hb);Za+=2;Lb.forEach(function(Ob){this.Xb.wha(Ob,Za++);});}return !0;};w.wd=!1;w.prototype=new L();w.prototype.constructor=w;w.xf="tfhd";Object.defineProperties(w.prototype,{c1a:{get:function(){return this.flags & 1;}},fec:{get:function(){return this.flags & 2;}},UPb:{get:function(){return this.flags & 8;}},WPb:{get:function(){return this.flags & 16;}},Q4a:{get:function(){return this.flags & 32;}}});w.prototype.parse=function(Oa){this.Rh();this.HS=this.R.jc();this.ot=this.c1a?this.R.im():void 0;this.Gkb=this.fec?this.R.jc():void 0;this.$x=this.UPb?this.R.jc():void 0;this.sB=this.WPb?this.R.jc():void 0;this.rB=this.Q4a?this.R.jc():void 0;Oa && Oa.pa && (Oa.pa.HS=this.HS,Oa.pa.ot=this.ot,Oa.pa.Gkb=this.Gkb,Oa.pa.$x=this.$x,Oa.pa.sB=this.sB,Oa.pa.rB=this.Q4a?this.rB:void 0);return !0;};u.wd=!1;u.prototype=new L();u.prototype.constructor=u;u.prototype.parse=function(Oa){this.Rh();this.GI=1 === this.version?this.R.im():this.R.jc();Oa && Oa.pa && (Oa.pa.GI=this.GI);return !0;};u.prototype.Ka=function(Oa){var Za;Za=this.startOffset + 12;this.GI+=Oa;1 === this.version?this.Xb.kmc(this.GI,Za):this.Xb.Sw(this.GI,Za);};x.wd=!1;x.prototype=Object.create(L.prototype);x.prototype.constructor=x;Object.defineProperties(x.prototype,{EI:{get:function(){return this.flags & 1;}}});x.prototype.parse=function(Oa){this.Rh();this.EI && this.R.BC();this.EI && this.R.jc();this.VPb=this.R.Md();this.Xd=this.R.jc();this.R0b=this.R.Qea(this.Xd);Oa && Oa.pa && (Oa.pa.gec=this.R0b);return !0;};x.prototype.Ka=function(Oa,Za){if(Oa && 0 === this.VPb){Oa=Za?this.Xd - Oa:Oa;this.Xb.offset=this.startOffset + 13 + (this.EI?8:0);this.Xd-=Oa;this.Xb.Sw(this.Xd);this.DDa=0;if(Za)this.Xb.offset+=this.Xd;else {for(Za=0;Za < Oa;++Za){this.DDa+=this.Xb.Md();}this.Xb.offset-=Oa;}this.jo(Oa,this.R.offset);}return !0;};y.wd=!1;y.prototype=Object.create(L.prototype);y.prototype.constructor=y;Object.defineProperties(y.prototype,{EI:{get:function(){return this.flags & 1;}}});y.prototype.parse=function(Oa){var Za,Xa,Rb,Tb;this.Rh();this.EI && this.R.BC();this.EI && this.R.jc();this.Nr=this.R.jc();E(1 === this.Nr,"Expected a single entry in Sample Auxiliary Information Offsets box");this.Yo=0 === this.version?this.R.Tea():this.R.Mbc();this.R.offset=this.Yo;if(Oa && Oa.pa && Oa.Ff){Za=Oa.Ff.TPb;Xa=Oa.pa.gec;E(0 < Za || void 0 !== Oa.Ff.SPb,"Expected per sample or constant IV");E(0 < (Xa || []).length,"Expected saix box parsing to find sample info sizes");Oa.pa.mL=[];for(var cb=0;cb < Xa.length;cb++){for(var hb=Za?this.R.Rea(Za):void 0,sb=[],Hb=this.R.Dh(),Lb=0;Lb < Hb;Lb++){Rb=this.R.Dh();Tb=this.R.jc();sb.push({dJb:Rb,eJb:Tb});}Oa.pa.mL.push({zFa:sb,Bja:hb});}}return !0;};y.prototype.Ka=function(Oa,Za){this.Yo+=Oa;this.Xb.offset=this.startOffset + 16 + (this.EI?8:0) + (0 === this.version?0:4);this.Xb.eHa(Za,this.Yo);return !0;};z.wd=!1;z.prototype=Object.create(L.prototype);z.prototype.constructor=z;Object.defineProperties(z.prototype,{Zgb:{get:function(){return this.flags & 1;}},Gpb:{get:function(){return this.flags & 2;}}});z.prototype.parse=function(Oa){var Za,Hb,Lb;this.Rh();Za=0;this.Zgb && (Za=this.N2b=this.R.jc() & 255,this.R.Qea(16));if(Oa && Oa.pa){if(Oa.pa.mL)return !0;Oa.pa.ul || (Oa.pa.ul=[]);}if(0 !== Za && 8 !== Za && 16 !== Za)return !0;this.Xd=this.R.jc();if(Oa && Oa.pa)for(var Xa=0;Xa < this.Xd;Xa++){if((Oa.pa.ul[Xa].Bja=0 < Za?this.R.Rea(Za):void 0,this.Gpb)){for(var cb=[],hb=this.R.Dh(),sb=0;sb < hb;sb++){Hb=this.R.Dh();Lb=this.R.jc();cb.push({dJb:Hb,eJb:Lb});}Oa.pa.ul[Xa].zFa=cb;}}return !0;};z.prototype.Ka=function(Oa,Za){var Xa,cb;Xa=Za?this.Xd - Oa:Oa;this.Xb.offset=this.startOffset + 28 + (this.Zgb?20:0);this.Xd-=Xa;this.Xb.Sw(this.Xd);Oa=this.Xb.offset;if(this.Gpb)for(Xa=Za?this.Xd:Xa;0 < Xa;--Xa){this.Xb.offset+=8;cb=this.Xb.Dh();this.Xb.offset+=6 * cb;}else this.Xb.offset+=8 * (Za?this.Xd:Xa);Za?this.jo(this.length - (this.R.offset - this.startOffset),this.R.offset):this.jo(this.R.offset - Oa,Oa);};B.wd=!1;B.prototype=Object.create(L.prototype);B.prototype.constructor=B;B.prototype.parse=function(Oa){this.Rh();if(Oa && Oa.pa){void 0 === Oa.pa.ul && (Oa.pa.ul=[]);for(var Za=0;Za < this.length - 12;Za++){Oa.pa.ul[Za].Vwc=this.R.Md();}}return !0;};B.prototype.Ka=function(Oa,Za,Xa){Xa?this.jo(Za - Oa,this.startOffset + 12 + Oa):this.jo(Oa,this.startOffset + 12);return !0;};A.wd=!1;A.prototype=Object.create(L.prototype);A.prototype.constructor=A;A.prototype.parse=function(){this.Rh();this.R.BC();1 === this.version && this.R.jc();this.Nr=this.R.jc();this.e1=[];for(var Oa=0;Oa < this.Nr;++Oa){for(var Za=this.R.jc(),Xa=this.R.jc(),cb=0;cb < Za;++cb){this.e1.push(Xa);}}return !0;};A.prototype.Ka=function(Oa,Za){this.e1=Za?this.e1.slice(0,Oa):this.e1.slice(Oa);Oa=this.e1.reduce(function(Xa,cb){0 !== Xa.length && Xa[Xa.length - 1].group === cb || Xa.push({group:cb,count:0});++Xa[Xa.length - 1].count;return Xa;},[]);this.Xb.offset=this.startOffset + 16 + (1 === this.version?4:0);this.Xb.Sw(Oa.length);Oa.forEach((function(Xa){this.Xb.Sw(Xa.count);this.Xb.Sw(Xa.group);}).bind(this));this.Nr > Oa.length && this.jo(8 * (this.Nr - Oa.length));this.Nr=Oa.length;return !0;};C.wd=!1;C.prototype=Object.create(L.prototype);C.prototype.constructor=C;qa={ve:{moov:l,trak:c,mdia:c,mdhd:g,minf:c,encv:qa,schi:c,sidx:m,sinf:c,stbl:c,tenc:h,mvex:c,moof:p,traf:q,tfhd:w,trun:zb,sbgp:A,sdtp:B,saiz:x,saio:y,tfdt:u,mdat:C,vmaf:d},ujc:{vpcC:t,SmDm:v("smdm"),CoLL:v("coll")},rob:{schm:Z},EDa:{}};D([Q,la,J,N,a,P,sa,R,ha,O,M,Ya,wb,H,W,K,I,nb,zb],qa.ve);D([V,U,za,Aa,Qa,T,S,fa,va,wa],qa.EDa);D([Q,Z],qa.rob);qa.ve[b.eRa]=h;qa.ve[b.V4]=k;qa.ve[b.U4]=n;qa.ve[b.dRa]=z;qa.EDa[b.ska]=Ea;qa.Ag=L;r.exports={TQ:qa};},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=a(24);l=a(24);a=(function(g){function m(){return null !== g && g.apply(this,arguments) || this;}c.__extends(m,g);m.prototype.parse=function(d){this.R.offset+=6;this.R.Dh();l.M && this.R.console.trace("VideoSampleEntry sampleEntryType: " + this.type);if(null === d || void 0 === d?0:d.Ff)d.Ff.cec=this.type;return !0;};return m;})(r.Ag);b.default=a;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});r=a(0);r.__exportStar(a(150),b);r.__exportStar(a(246),b);r.__exportStar(a(247),b);r.__exportStar(a(248),b);r=a(247);c=a(248);a=a(246);b.XO={3:a.oLa,4:r.vKa,5:c.Jtb};},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(24);r=(function(g){function m(){return null !== g && g.apply(this,arguments) || this;}c.__extends(m,g);m.prototype.parse=function(d){var f;this.mub=this.R.Dh();f=this.R.Md();this.Umb=!!(f & 128);this.gWa=!!(f & 64);this.LQa=!!(f & 32);this.zhc=f & 31;this.jQb=this.Umb?this.R.Dh():void 0;this.gWa && this.R.Qea(this.R.Md());this.Kwb=this.LQa?this.R.Dh():void 0;l.M && this.R.console.trace("ESDescriptor: ES_ID=" + this.mub + ", streamDependenceFlag=" + this.Umb + ", URL_Flag=" + this.gWa + ", OCRstreamFlag=" + this.LQa + ", streamPriority=" + this.zhc + ", dependsOn_ES_ID=" + this.jQb + ", OCR_ES_Id=" + this.Kwb);this.oZa(d);return !0;};m.tag=3;return m;})(a(150).Uia);b.oLa=r;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(24);r=(function(g){function m(){return null !== g && g.apply(this,arguments) || this;}c.__extends(m,g);m.prototype.parse=function(d){var f;this.Kda=this.R.Md();f=this.R.Md();this.tFa=f >>> 2;this.uGa=f >>> 1 & 1;this.fqa=256 * this.R.Dh() + this.R.Md();this.maxBitrate=this.R.jc();this.H8=this.R.jc();l.M && this.R.console.trace("DecoderConfigDescriptor: objectTypeIndication= 0x" + this.Kda.toString(16) + ", streamType=" + this.tFa + ", upStream=" + this.uGa + ", bufferSizeDB=" + this.fqa + ", maxBitrate=" + this.maxBitrate + ", avgBitrate=" + this.H8);if(null === d || void 0 === d?0:d.jk)(d.jk.Kda=this.Kda,d.jk.tFa=this.tFa,d.jk.uGa=this.uGa,d.jk.fqa=this.fqa,d.jk.maxBitrate=this.maxBitrate,d.jk.H8=this.H8);this.oZa(d);return !0;};m.tag=4;return m;})(a(150).Uia);b.vKa=r;},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(24);r=a(150);g=a(245);a=(function(m){function d(){return null !== m && m.apply(this,arguments) || this;}c.__extends(d,m);d.prototype.ejb=function(){var f;f=this.R.Nd(4);return 15 !== f?[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350][f]:this.R.Nd(24);};d.prototype.parse=function(f,h){if(this.M1b(h) && 64 === h.Kda){if(null === f || void 0 === f?0:f.jk){h=this.R.C8a(this.length);for(var k=new ArrayBuffer(this.length),n=new Uint8Array(k),p=0;p < this.length;p++){n[p]=h.getUint8(p);}f.jk.ntc=k;}this.Gr=this.Xib();this.yfa=this.ejb();this.Pqa=this.R.Nd(4);this.KDa=this.cY=5 === this.Gr || 29 === this.Gr?5:-1;this.wCa=29 === this.Gr?1:-1;0 < this.cY && (this.Dta=this.ejb(),this.Gr=this.Xib(),22 === this.Gr && (this.Cta=this.R.Nd(4)));switch(this.Gr){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:(this.pY=this.R.Nd(1),this.Ora=(this.iQb=this.R.Nd(1))?this.R.Nd(14):void 0,this.R.Nd(1),this.xJ=3 === this.Gr?256:23 === this.Gr?this.pY?480:512:this.pY?960:1024);}l.M && this.R.console.trace("AudioSpecificConfig: audioObjectType=" + this.Gr + ", samplingFrequency=" + this.yfa + ", channelConfiguration=" + this.Pqa + ", extensionAudioObjectType=" + this.cY + ", sbrPresentFlag=" + this.KDa + ", psPresentFlag=" + this.wCa + ", extensionSamplingFrequency=" + this.Dta + ", extensionChannelConfiguration=" + this.Cta + ", frameLengthFlag=" + this.pY + ", coreCoderDelay=" + this.Ora + ", frameLength=" + this.xJ);if(null === f || void 0 === f?0:f.jk)(f.jk.Gr=this.Gr,f.jk.yfa=this.yfa,f.jk.Pqa=this.Pqa,f.jk.cY=this.cY,f.jk.KDa=this.KDa,f.jk.wCa=this.wCa,f.jk.Dta=this.Dta,f.jk.Cta=this.Cta,f.jk.pY=this.pY,f.jk.Ora=this.Ora,f.jk.xJ=this.xJ);}this.skip();return !0;};d.prototype.Xib=function(){var f;f=this.R.Nd(5);31 === f && (f=32 + this.R.Nd(6));return f;};d.prototype.M1b=function(f){return f.tag === g.vKa.tag;};d.tag=5;return d;})(r.Uia);b.Jtb=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.g3=void 0;r=(function(){function a(c){this.data=c;this.pt=this.Lb=this.Vd=0;this.view=new DataView(c.buffer,c.byteOffset,c.byteLength);}Object.defineProperty(a.prototype,"offset",{get:function(){return this.Lb;},enumerable:!1,configurable:!0});a.prototype.read=function(c){if(0 === this.Vd){if(8 === c)return this.data[this.Lb++];if(16 === c)return (c=this.view.getUint16(this.Lb),this.Lb+=2,c);if(32 === c)return (c=this.view.getUint32(this.Lb),this.Lb+=4,c);}for(;this.Vd < c;){this.pt=(this.pt << 8) + this.data[this.Lb++];this.Vd+=8;}this.Vd-=c;return this.pt >>> this.Vd & (1 << c) - 1;};a.prototype.advance=function(c){var l;if(c <= this.Vd)this.Vd-=c;else {c-=this.Vd;l=Math.floor(c / 8);this.Lb+=l;this.pt=this.data[this.Lb++];this.Vd=8 - (c - 8 * l);}};a.prototype.write=function(c,l){var g,m;l&=(1 << c) - 1;if(0 === this.Vd){if(8 === c){this.data[this.Lb++]=l;return;}if(16 === c){this.view.setUint16(this.Lb,l);this.Lb+=2;return;}if(32 === c){this.view.setUint32(this.Lb,l);this.Lb+=4;return;}}if(0 < this.Vd){g=Math.min(c,this.Vd);m=this.data[this.Lb - 1] & (~((1 << this.Vd) - 1) ^ (1 << this.Vd - g) - 1);this.data[this.Lb - 1]=m ^ (c >= g?l >>> c - g:l << this.Vd - g);this.Vd-=g;c-=g;}for(;8 <= c;){c-=8;this.data[this.Lb++]=l >>> c & 255;}0 < c && (this.Vd=8 - c,m=this.data[this.Lb] & (1 << this.Vd) - 1,this.pt=this.data[this.Lb++]=m ^ (l & (1 << c) - 1) << 8 - c);};a.prototype.reverse=function(c){0 !== this.Vd && c <= 8 - this.Vd?this.Vd+=c:(0 !== this.Vd && (c-=8 - this.Vd,--this.Lb),this.Lb-=Math.floor(c / 8),this.pt=this.data[this.Lb - 1],this.Vd=c % 8);};a.prototype.aJb=function(){0 !== this.Vd && (this.Vd=0);};return a;})();b.g3=r;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.assert=void 0;c=a(0);l=(function(g){function m(){return null !== g && g.apply(this,arguments) || this;}c.__extends(m,g);return m;})(Error);b.assert=function(g,m){if(!g)throw new l(m || "Assertion failed");};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.concat=function(){var l;for(var a=[],c=0;c < arguments.length;c++){a[c]=arguments[c];}a=Array.prototype.concat.apply([],a);c=a.reduce(function(g,m){return g + m.byteLength;},0);l=new Uint8Array(c);a.reduce(function(g,m){l.set(new Uint8Array(m),g);return g + m.byteLength;},0);return l.buffer;};},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(391);l=a(243);g=a(392);r=(function(){function m(d,f,h){this.console=d;this.stream=f;this.view=h instanceof ArrayBuffer?new DataView(h):new DataView(h.data,h.offset,h.length);}m.prototype.parse=function(d){var f;f=new g.zKa(this.view.byteLength);this.xg=new c.nia(l.TQ.ve,f,this.view,this.console,{oBa:!0});d=this.xg.parse(d);this.ve=this.xg.ve;return d;};return m;})();b.tH=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bY=b.Txa=void 0;b.Txa=function(a){return void 0 !== a && null !== a;};b.bY=function(){return null;};},function(r,b,a){var l,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.E3=void 0;l=a(42);g=a(127);c.yt=function(){var m;m={};return (m[l.I.eH]="avc1.4D401E",m[l.I.fH]="avc1.4D401F",m[l.I.V3]="avc1.4D4028",m[l.I.nMa]="avc1.4D401E",m[l.I.oMa]="avc1.4D401F",m[l.I.pMa]="avc1.4D4028",m[l.I.nja]="hev1.2.6.L90.B0",m[l.I.oja]="hev1.2.6.L93.B0",m[l.I.pja]="hev1.2.6.L120.B0",m[l.I.qja]="hev1.2.6.L123.B0",m[l.I.r4]="hev1.2.6.L90.B0",m[l.I.u4]="hev1.2.6.L93.B0",m[l.I.x4]="hev1.2.6.L120.B0",m[l.I.A4]="hev1.2.6.L123.B0",m[l.I.KT]="hev1.2.6.L150.B0",m[l.I.LT]="hev1.2.6.L153.B0",m[l.I.s4]="hev1.2.6.L90.B0",m[l.I.v4]="hev1.2.6.L93.B0",m[l.I.y4]="hev1.2.6.L120.B0",m[l.I.B4]="hev1.2.6.L123.B0",m[l.I.D4]="hev1.2.6.L150.B0",m[l.I.F4]="hev1.2.6.L153.B0",m[l.I.q4]="hev1.2.6.L90.B0",m[l.I.t4]="hev1.2.6.L93.B0",m[l.I.w4]="hev1.2.6.L120.B0",m[l.I.z4]="hev1.2.6.L123.B0",m[l.I.C4]="hev1.2.6.L150.B0",m[l.I.E4]="hev1.2.6.L153.B0",m[l.I.Y3]="hev1.2.6.L90.B0",m[l.I.b4]="hev1.2.6.L93.B0",m[l.I.JT]="hev1.2.6.L120.B0",m[l.I.g4]="hev1.2.6.L123.B0",m[l.I.j4]="hev1.2.6.L150.B0",m[l.I.m4]="hev1.2.6.L153.B0",m[l.I.Z3]="hev1.2.6.L90.B0",m[l.I.c4]="hev1.2.6.L93.B0",m[l.I.e4]="hev1.2.6.L120.B0",m[l.I.h4]="hev1.2.6.L123.B0",m[l.I.k4]="hev1.2.6.L150.B0",m[l.I.n4]="hev1.2.6.L153.B0",m[l.I.X3]="hev1.2.6.L90.B0",m[l.I.a4]="hev1.2.6.L93.B0",m[l.I.d4]="hev1.2.6.L120.B0",m[l.I.f4]="hev1.2.6.L123.B0",m[l.I.i4]="hev1.2.6.L150.B0",m[l.I.l4]="hev1.2.6.L153.B0",m[l.I.q3]=g.Zd.Iia,m[l.I.s3]=g.Zd.nKa,m[l.I.CT]=g.Zd.Jia,m[l.I.v3]=g.Zd.Kia,m[l.I.x3]=g.Zd.Lia,m[l.I.z3]=g.Zd.Mia,m[l.I.Nia]=g.Zd.Jia,m[l.I.Oia]=g.Zd.Kia,m[l.I.Pia]=g.Zd.Lia,m[l.I.Qia]=g.Zd.Mia,m[l.I.r3]=g.Zd.Iia,m[l.I.t3]=g.Zd.nKa,m[l.I.u3]=g.Zd.Jia,m[l.I.w3]=g.Zd.Kia,m[l.I.y3]=g.Zd.Lia,m[l.I.A3]=g.Zd.Mia,m[l.I.lMa]="avc1.640016",m[l.I.Q3]="avc1.64001E",m[l.I.S3]="avc1.64001F",m[l.I.U3]="avc1.640028",m[l.I.mMa]="avc1.640016",m[l.I.R3]="avc1.64001E",m[l.I.T3]="avc1.64001F",m[l.I.lja]="avc1.640028",m[l.I.ama]=g.Zd.JU,m[l.I.R5]=g.Zd.JU,m[l.I.S5]=g.Zd.JU,m[l.I.KU]=g.Zd.JU,m[l.I.lHa]=g.Zd.Fl,m[l.I.mHa]=g.Zd.Fl,m[l.I.gD]=g.Zd.Fl,m[l.I.hD]=g.Zd.Fl,m[l.I.dT]=g.Zd.Fl,m[l.I.eT]=g.Zd.Fl,m[l.I.X2]=g.Zd.Fl,m[l.I.Y2]=g.Zd.Fl,m);};b.E3=c;},function(r,b){function a(c){return "globalAudioMemoryLimit" === c || "globalVideoMemoryLimit" === c?"global":"staticAudioMemoryLimit" === c || "staticVideoMemoryLimit" === c?"static":!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.Dhc=b.gjb=b.KCa=void 0;b.KCa=function(c){return "globalMemoryLimit" === c?"global":"staticMemoryLimit" === c?"static":a(c);};b.gjb=a;b.Dhc=function(c){return ("IStreamable: ").concat(c.identifier," [").concat(c.mediaType,"] ").concat(c.groupId," ") + ("p:").concat(JSON.stringify(c.ri)," sp:").concat(c.JC," ") + ("pssp:").concat(c.y0," ") + ("state:").concat(c.Kg," path-complete:").concat(c.sC," ") + ("streaming:").concat(c.yu," current:").concat(c.At);};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.yka=void 0;r=(function(){function a(c,l,g,m){var d;d=this;this.properties=c;this.transform=l;this.Bv=g;this.state=m;this.oa();c.forEach(function(f){return f.addListener(d.UAa);});this.UAa();}a.prototype.clear=function(){var c;c=this;this.properties.forEach(function(l){return l.removeListener(c.UAa);});};a.prototype.Dbb=function(c){return void 0 !== c.equal;};a.prototype.oa=function(){var c;c=this;this.UAa=function(){var l,g;l=c.state;g=c.properties.map(function(m){return m.value;});c.state=c.transform(g);(c.Dbb(c.state) && c.Dbb(l)?c.state.equal(l):l === c.state) || c.Bv(c.state);};};return a;})();b.yka=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.kX=void 0;c=a(0);l=a(20);b.kX=function(g,m,d,f){var h,k,n,v,t,w;void 0 === f && (f={});n=l.N.max(d,l.N.Oa);try{for(var p=c.__values(Object.keys(g.U)),q=p.next();!q.done;q=p.next()){v=q.value;t=g.U[v];if(t.P === m){w=l.N.Na(t.Ba);if(n.mk(w) && (!isFinite(null !== (k=t.Aa) && void 0 !== k?k:NaN) || n.lessThan(l.N.Na(t.Aa))))return {S:v,offset:d.Ga(w)};}}}catch(x){var u;u={error:x};}finally{try{q && !q.done && (h=p.return) && h.call(p);}finally{if(u)throw u.error;}}if(f.Pkb && (t=Object.keys(g.U).map(function(x){return {key:x,G:g.U[x]};}).filter(function(x){return x.G.P === m;}).map(function(x){var y,z;y=l.N.abs(d.Ga(l.N.Na(x.G.Ba)));if(x.G.Aa && isFinite(x.G.Aa)){z=l.N.abs(d.Ga(l.N.Na(x.G.Aa)));y=l.N.min(y,z);}return c.__assign(c.__assign({},x),{pq:y});}),t.sort(function(x,y){return x.pq.Z - y.pq.Z;}),w=c.__read(t,1)[0]))return (t=w.G,f=w.key,w=l.N.Na(t.Ba),{S:f,offset:d.Ga(w)});};},function(r,b,a){var c,l,g,m,d,f,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.lM=void 0;r=a(0);c=a(184);l=r.__importDefault(a(259));g=r.__importDefault(a(953));m=r.__importDefault(a(154));d=a(2);f=a(424);h=r.__importDefault(a(3));b.lM=(function(){function n(p,q,v){var t;t=this;this.tk=new l.default(p,v);this.fu=new g.default(p);this.Ac=new m.default(this.fu,this.tk,p);new f.I5(h.default.D9,q,p);c.Dz.JLb(p);p.lea && setInterval(function(){t.tk.save();t.fu.save();},p.lea);}n.Aaa=function(p,q,v){void 0 === k?(n.config=p,n.b2=v,k=new n(p,q,v)):((0,d.assert)(n.config === p),(0,d.assert)(n.b2 === v));return k;};n.reset=function(){n.config=void 0;k=n.b2=void 0;};return n;})();},function(r,b,a){var d,f,h,k,n,p;function c(q){var v;v=q.cna;this.K=q;this.OD=f.Yj.HAVE_NOTHING;this.Lma=q.Lma;q=new n(q);this.ZV=q.create("throughput-location-history",v);this.J6=q.create("throughput-location-history",v);this.D7=q.create("throughput-location-history",v);this.E7=q.create("throughput-location-history",v);this.C7=q.create("throughput-location-history",v);this.CA=q.create("respconn-location-history",v);this.sA=q.create("respconn-location-history",v);this.A7=q.create("throughput-tdigest-history",v);this.K6=q.create("throughput-iqr-history",v);this.w6=q.create("throughput-location-history",v);this.y6=q.create("throughput-location-history",v);this.x6=q.create("throughput-location-history",v);this.z6=q.create("throughput-location-history",v);this.Ab=null;}function l(q,v,t,w,u){this.jv=new c(u);this.fq=[];this.eCb=h.time.fa() - Date.now() % 864E5;this.gv=null;this.K=u;for(q=0;q < w;++q){this.fq.push(new c(u));}}function g(q,v,t){return d.has(q,v)?q[v]:q[v]=t;}function m(q,v){var t;this.K=q;this.UZa=v;this.USb();this.WH=new c(this.K);this.uV();t=q.ksa;t && (t={confidence:f.Yj.IT,Ya:{xa:parseInt(t,10),He:0},rl:{xa:0,He:0},$P:{xa:0,He:0}},this.get=function(){return t;});}d=a(11);f=a(29).default;b=a(8);h=a(3).default;k=b.gMa;n=a(942).xub;new h.Console("ASEJS_LOCATION_HISTORY","media|asejs");p={confidence:f.Yj.HAVE_NOTHING};c.prototype.xI=function(q,v){this.OD=v;this.ZV.add(q);this.A7.add(q);this.Ab=h.time.fa();};c.prototype.vI=function(q){this.J6.add(q);};c.prototype.yI=function(q){this.D7.add(q.initial);this.E7.add(q.low);this.C7.add(q.high);};c.prototype.YL=function(q,v){this.K6.set(q,v);};c.prototype.LA=function(q){this.CA.add(q);};c.prototype.KA=function(q){this.sA.add(q);};c.prototype.lO=function(q){this.w6.add(q.xa);this.y6.add(q.He);this.x6.add(q.vO);this.z6.add(q.QS);};c.prototype.getState=function(){var q,v,t,w,u,x,y,z,B,A,C,D,E,G;q=this.ZV.getState();v=this.J6.getState();t=this.D7.getState();w=this.E7.getState();u=this.C7.getState();x=this.CA.getState();y=this.sA.getState();z=this.K6.getState();B=this.A7.getState();A=this.w6.getState();C=this.y6.getState();D=this.x6.getState();E=this.z6.getState();if(d.ub(q) && d.ub(x) && d.ub(y))return null;G={c:this.OD,t:h.time.eAa(this.Ab)};d.ub(q) || (G.tp=q);d.ub(v) || (G.itp=v);d.ub(t) || (G.tcii=t);d.ub(w) || (G.tcil=w);d.ub(u) || (G.tcih=u);d.ub(x) || (G.rt=x);d.ub(y) || (G.hrt=y);d.ub(z) || (G.iqr=z);d.ub(B) || (G.td=B);d.ub(A) || (G.dta=A);d.ub(C) || (G.dtv=C);d.ub(D) || (G.dtta=D);d.ub(E) || (G.dttv=E);return G;};c.prototype.Od=function(q){var v;v=h.time.now();if(!(q && d.has(q,"c") && d.has(q,"t") && d.has(q,"tp") && d.isFinite(q.c) && d.isFinite(q.t)) || 0 > q.c || q.c > f.Yj.IT || q.t > v || !this.ZV.Od(q.tp))return (this.OD=f.Yj.HAVE_NOTHING,this.gv=this.Ab=null,this.ZV.Od(null),this.CA.Od(null),this.sA.Od(null),!1);this.OD=q.c;this.Ab=h.time.AAa(q.t);this.CA.Od(d.has(q,"rt")?q.rt:null);this.sA.Od(d.has(q,"hrt")?q.hrt:null);this.J6.Od(d.has(q,"itp")?q.itp:null);this.D7.Od(d.has(q,"tcii")?q.tcii:null);this.E7.Od(d.has(q,"tcil")?q.tcil:null);this.C7.Od(d.has(q,"tcih")?q.tcih:null);this.w6.Od(d.has(q,"dta")?q.dta:null);this.y6.Od(d.has(q,"dtv")?q.dtv:null);this.x6.Od(d.has(q,"dtta")?q.dtta:null);this.z6.Od(d.has(q,"dttv")?q.dttv:null);d.has(q,"iqr") && this.K6.Od(q.iqr);d.has(q,"td") && this.A7.Od(q.td);return !0;};c.prototype.get=function(){var q,v,t,w,u,x,y,z,B,A,C;q=this.K;if(d.ub(this.Ab))return p;v=(h.time.fa() - this.Ab) / 1E3;v > q.sBb?this.OD=f.Yj.HAVE_NOTHING:v > q.PAb && (this.OD=Math.min(this.OD,f.Yj.qD));q=this.ZV.get();t=this.J6.get();w=this.D7.get().xa;u=this.E7.get().xa;x=this.C7.get().xa;y=this.CA.get();z=this.sA.get();B=this.K6.get();A=this.A7.get();C={xa:this.w6.Jva().xa,He:this.y6.Jva().xa,vO:this.x6.get().xa,QS:this.z6.get().xa};result={En:v,confidence:this.OD,Ya:q,Yab:t,"throughput-ci":{initial:w,low:u,high:x},rl:y,$P:z,cw:B,jh:A,Zo:C};q && (result.Mxc=k.prototype.Ry.bind(q));y && (result.Lwc=k.prototype.Ry.bind(y));z && (result.Ouc=k.prototype.Ry.bind(z));return result;};c.prototype.time=function(){return this.Ab;};l.prototype.Je=function(){return ((h.time.fa() - this.eCb) / 1E3 / 3600 / (24 / this.fq.length) | 0) % this.fq.length;};l.prototype.getState=function(){var q;q={g:this.jv.getState(),h:this.fq.map(function(v){return v.getState();})};d.ub(this.gv) || (q.f=h.time.eAa(this.gv));return q;};l.prototype.Od=function(q){var v,t;if(!this.jv.Od(q.g))return !1;v=this.fq.length;t=!1;this.fq.forEach(function(w,u){t=!w.Od(q.h[u * q.h.length / v | 0]) || t;});this.gv=d.has(q,"f")?h.time.AAa(q.f):null;return t;};l.prototype.xI=function(q,v){this.jv.xI(q,v);this.fq[this.Je()].xI(q,v);this.gv=null;};l.prototype.vI=function(q){this.jv.vI(q);this.fq[this.Je()].vI(q);this.gv=null;};l.prototype.yI=function(q){this.jv.yI(q);this.fq[this.Je()].yI(q);this.gv=null;};l.prototype.YL=function(q,v){this.jv.YL(q,v);this.fq[this.Je()].YL(q,v);};l.prototype.LA=function(q){this.jv.LA(q);this.fq[this.Je()].LA(q);};l.prototype.KA=function(q){this.jv.KA(q);this.fq[this.Je()].KA(q);};l.prototype.lO=function(q){this.jv.lO(q);this.fq[this.Je()].lO(q);};l.prototype.fail=function(q){this.gv=q;};l.prototype.get=function(){var q,v;if(!d.ub(this.gv)){if((h.time.fa() - this.gv) / 1E3 < this.K.OAb)return {confidence:f.Yj.HAVE_NOTHING,Mv:!0};this.gv=null;}q=this.fq[this.Je()].get();v=this.jv.get();q=q.confidence >= v.confidence?q:v;q.Mv=!1;return q;};l.prototype.time=function(){return this.jv.time();};m.prototype.PXa=function(q,v){var t;t=this.K;q=g(this.lV,q,{});return g(q,v,new l(t.dYa || 14400,t.cYa || 100,t.bYa || 100,t.aZa || 4,t));};m.prototype.uV=function(){var q,v;q=h.storage.get("lh");v=h.storage.get("gh");q && this.roa(q);v && this.oEb(v);};m.prototype.kna=function(){var q;q={};d.pg(this.lV,function(v,t){d.pg(v,function(w,u){g(q,t,{})[u]=w.getState();},this);},this);return q;};m.prototype.oEb=function(q){this.WH.Od(q);};m.prototype.roa=function(q){var v,t;v=null;t=this.K;d.pg(q,function(w,u){d.pg(w,function(x,y){var z;z=new l(t.dYa || 14400,t.cYa || 100,t.bYa || 100,t.aZa || 4,t);z.Od(x)?(g(this.lV,u,{})[y]=z,v=!0):d.ub(v) && (v=!1);},this);},this);return d.ub(v)?!0:v;};m.prototype.save=function(){var q;q=this.kna();h.storage.set("lh",q);h.storage.set("gh",this.WH.getState());this.UZa && this.UZa.tEa(this.WH.getState());};m.prototype.USb=function(){this.lV={};this.tN=this.oXa="";this.Kl=null;};m.prototype.s1=function(q){this.oXa=q;this.Kl=null;};m.prototype.Rfa=function(q){this.tN=q;this.Kl=null;};m.prototype.VH=function(){d.ub(this.Kl) && (this.Kl=this.PXa(this.oXa,this.tN));return this.Kl;};m.prototype.xI=function(q,v){this.VH().xI(q,v);this.WH.xI(q,v);};m.prototype.vI=function(q){this.VH().vI(q);this.WH.vI(q);};m.prototype.yI=function(q){this.VH().yI(q);this.WH.yI(q);};m.prototype.YL=function(q,v){q && q.dm && q.zk && q.em && (this.VH().YL(q,v),this.WH.YL(q,v));};m.prototype.LA=function(q){this.VH().LA(q);};m.prototype.KA=function(q){this.VH().KA(q);};m.prototype.lO=function(q){this.VH().lO(q);};m.prototype.fail=function(q,v){this.PXa(q,this.tN).fail(v);};m.prototype.get=function(q,v){var t,w,u,x;q=(q=this.lV[q])?q[this.tN]:null;t=null;if(q && (t=q.get(),t.confidence > f.Yj.HAVE_NOTHING))return t;if(!1 === v)return p;w=t=null;u=!1;x=null;d.pg(this.lV,function(y){d.pg(y,function(z,B){var A;if(!u || B == this.tN){A=z.get();A && (!w || w <= A.confidence) && (!x || w < A.confidence || x < z.time()) && (w=A.confidence,u=B == this.tN,x=z.time(),t=A);}},this);},this);return t?t:p;};r.exports=m;},function(r,b,a){var m;function c(d){this.eO=d;this.reset();}function l(d){this.Wk=new c(d);this.Lb=0;this.dd=null;}function g(d,f){this.eO=d;this.BYa=f;this.reset();}m=a(11);c.prototype.kZa=function(d,f){this.Ab+=d;this.Nk+=d;this.kd+=f;this.Hg.push({d:d,b:f});};c.prototype.IV=function(){var d;for(;this.Nk > this.eO;){d=this.Hg.shift();this.kd-=d.b;this.Nk-=d.d;}};c.prototype.reset=function(){this.Hg=[];this.Ab=null;this.Nk=this.kd=0;};c.prototype.setInterval=function(d){this.eO=d;this.IV();};c.prototype.start=function(d){m.ub(this.Ab) && (this.Ab=d);};c.prototype.add=function(d,f,h){m.ub(this.Ab) && (this.Ab=f);f > this.Ab && this.kZa(f - this.Ab,0);this.kZa(h > this.Ab?h - this.Ab:0,d);this.IV();};c.prototype.get=function(){return {xa:Math.floor(8 * this.kd / this.Nk),He:0};};l.prototype.reset=function(){this.Wk.reset();this.Lb=0;this.dd=null;};l.prototype.add=function(d,f,h){!m.ub(this.dd) && h > this.dd && (f > this.dd && (this.Lb+=f - this.dd),this.dd=null);this.Wk.add(d,f - this.Lb,h - this.Lb);};l.prototype.start=function(d){!m.ub(this.dd) && d > this.dd && (this.Lb+=d - this.dd,this.dd=null);this.Wk.start(d - this.Lb);};l.prototype.stop=function(d){this.dd=m.ub(this.dd)?d:Math.min(d,this.dd);};l.prototype.get=function(){return this.Wk.get();};l.prototype.setInterval=function(d){this.Wk.setInterval(d);};g.prototype.reset=function(){this.Hg=[];this.kd=this.Nk=0;};g.prototype.add=function(d,f,h,k){void 0 !== k && !0 === k && (f=h - f,this.Nk+=f,this.kd+=d,this.Hg.push({d:f,b:d}),this.IV());};g.prototype.IV=function(){var d;for(;this.Nk > this.eO || this.Hg.length > this.BYa;){d=this.Hg.shift();this.kd-=d.b;this.Nk-=d.d;}};g.prototype.start=function(){};g.prototype.stop=function(){};g.prototype.get=function(){return {xa:Math.floor(8 * this.kd / this.Nk),He:0};};g.prototype.setInterval=function(d,f){this.eO=d;this.BYa=f;this.IV();};r.exports={Nnc:c,Otb:l,hzb:g};},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.AKa=b.Ktb=b.Tia=b.pub=b.Ltb=void 0;c=a(0);l=a(946);a=(function(){return function(){};})();b.Ltb=a;g=(function(){function m(d,f,h,k,n){this.alpha=d;this.xa=f;this.weight=k;this.Jla=h * this.weight;this.g2=n;}m.prototype.Hi=function(){return new m(this.alpha,this.xa,this.He,this.weight,this.g2);};Object.defineProperties(m.prototype,{He:{get:function(){return this.weight?this.Jla / this.weight:0;},enumerable:!1,configurable:!0}});m.prototype.update=function(d,f,h){var k,n,p,q;k=this.alpha;n=this.weight;p=this.g2;q=k * (d - p);5 < q && (this.weight/=Math.exp(q),this.g2=p=d);d=Math.exp(k * (f - p)) - Math.exp(k * (d - p));f=this.weight+=d;k=this.xa;this.xa=p=k + d * (h - k) / f;this.Jla=n?this.Jla * (f - d) / n + d * (h - p) * (h - k):0;};return m;})();b.pub=g;r=(function(){var X89;X89=2;for(;X89 !== 14;){switch(X89){case 7:m.prototype.flush=function(){};return m;break;case 8:m.prototype.stop=function(){};X89=7;break;case 2:m.prototype.Hi=function(d){var x4k;x4k=2;for(;x4k !== 8;){switch(x4k){case 9:return d;break;case 2:d || (d=new m(this.fm));d.Du=this.Du;d.HG=this.HG;d.CL=this.CL.Hi();d.DL=this.DL.Hi();x4k=9;break;}}};m.prototype.reset=function(){var B3K,d;B3K=2;for(;B3K !== 3;){switch(B3K){case 2:d=-Math.log(.5) / this.RJ;this.CL=new g(d,0,0,0,0);this.DL=new g(d,0,0,0,0);this.Du=this.HG=null;B3K=3;break;}}};m.prototype.start=function(d){var B76;B76=2;for(;B76 !== 1;){switch(B76){case 2:null === this.Du && (this.Du=d);B76=1;break;}}};m.prototype.add=function(d,f,h){var d_n=R7xOY;var a0t,k;a0t=2;for(;a0t !== 7;){switch(a0t){case 4:this.HG=null === k?h:Math.max(k,h);d_n.x9d(0);k=Math.max(d_n.L7v(f,h),1);d_n.x9d(1);this.CL.update(f,h,d_n.a2W(d,k));d_n.f4w(2);this.DL.update(f,h,d_n.a2W(d,k,8));a0t=7;break;case 2:k=this.Du;this.Du=null === k?f:Math.min(k,f);k=this.HG;a0t=4;break;}}};m.prototype.get=function(d,f){var Z8U=R7xOY;var v5j,t,h,k,n,p,q,v,w,u;v5j=2;for(;v5j !== 16;){switch(v5j){case 4:void 0 === f && (f=this.Zeb);n >= p && (f=Math.min(f,this.Zeb));p=f * q.xa;v5j=8;break;case 20:d=q.weight;f=v.weight;return {xa:d?q.xa:null,He:d?q.He:null,vO:f?v.xa:null,QS:f?v.He:null};break;case 13:Z8U.x9d(0);v.update(Z8U.a2W(h,k),Z8U.a2W(h,d),0);v5j=20;break;case 6:n=Math.max(n,p);v5j=14;break;case 8:Z8U.f4w(3);var f1X=Z8U.L7v(13,2468,10,19,1);t=Math.pow(f,f1X) * q.He;v5j=7;break;case 7:v5j=0 === t?6:12;break;case 2:(h=this.Du || 0,k=this.HG || 0,n=d - k,p=this.k6b,q=this.CL,v=this.DL);v5j=1;break;case 1:v5j=0 < n?5:17;break;case 14:Z8U.f4w(0);q.update(Z8U.a2W(h,k),Z8U.a2W(h,d,Z8U.x9d(0)),Z8U.a2W(f,n,Z8U.x9d(1)));v5j=13;break;case 17:(q=this.CL,v=this.DL);v5j=20;break;case 5:v5j=(q=new g(q.alpha,q.xa,q.He,q.weight,q.g2),v=new g(v.alpha,v.xa,v.He,v.weight,v.g2),0 < q.weight && 0 !== f)?4:20;break;case 12:(w=new l.O4(p,t).XJb(n),u=p - w[1]);Z8U.x9d(4);var C6K=Z8U.L7v(197,18,11,0);w=C6K - w[0];v5j=10;break;case 10:n=1E-11 < w?Math.max(u / w,n):n + 2 * t / p;v5j=14;break;}}};m.prototype.toString=function(){var V57;V57=2;for(;V57 !== 1;){switch(V57){case 2:var w07="De";w07+="liv";w07+="e";w07+="ry";w07+="Dist(";return w07.concat(this.RJ,")");break;}}};X89=8;break;}}function m(d){var m5j,f,h;m5j=2;for(;m5j !== 7;){switch(m5j){case 4:this.RJ=d.hl;this.Zeb=f;this.k6b=h;this.reset();m5j=7;break;case 2:var P_q="1SI";P_q+="YbZ";P_q+="rNJCp9";this.fm=d;P_q;(f=d.min_b,h=d.min_iv);m5j=4;break;}}}})();b.Tia=r;a=(function(m){function d(){return null !== m && m.apply(this,arguments) || this;}c.__extends(d,m);return d;})(a);b.Ktb=a;r=(function(m){function d(f){var h;h=m.call(this,f) || this;h.fm=f;return h;}c.__extends(d,m);d.prototype.get=function(){var f,h,k;if(0 === this.CL.weight || 0 === this.DL.weight)return {low:null,high:null,initial:null};switch(this.fm.MQ){case "deliverytime":f=this.CL;f=new l.O4(f.xa,f.He);(h=this.fm.accuracy,k=this.fm.o5b);return {low:8 / f.Ry(this.fm.fZ,h,k),high:8 / f.Ry(this.fm.b_,h,k),initial:8 / f.Ry(this.fm.Cba,h,k)};default:return (f=this.DL,f=new l.O4(f.xa,f.He),h=this.fm.accuracy,k=this.fm.o5b,{low:f.Ry(this.fm.b_,h,k),high:f.Ry(this.fm.fZ,h,k),initial:f.Ry(this.fm.Cba,h,k)});}};d.prototype.Hi=function(){var f;f=new d(this.fm);m.prototype.Hi.call(this,f);return f;};d.prototype.toString=function(){return ("DeliveryDistCI([").concat((this.fm.b_,this.fm.fZ),"])");};return d;})(r);b.AKa=r;},function(r){(function(){var t5S;t5S=2;function b(){var F94;F94=2;for(;F94 !== 5;){switch(F94){case 2:this.aE=this.kd=0;this.Ab=this.rh=void 0;F94=5;break;}}}for(;t5S !== 8;){switch(t5S){case 2:b.prototype.start=function(a){var m31;m31=2;for(;m31 !== 1;){switch(m31){case 2:this.rh?a < this.rh?(this.aE+=this.rh - a,this.rh=a):a > this.Ab && (this.Ab=this.rh=a):this.Ab=this.rh=a;m31=1;break;}}};b.prototype.stop=function(a){var a9Q;a9Q=2;for(;a9Q !== 1;){switch(a9Q){case 2:this.Ab && a > this.Ab && (this.aE+=a - this.Ab,this.Ab=a);a9Q=1;break;}}};b.prototype.add=function(a,c,l){var z67;z67=2;for(;z67 !== 4;){switch(z67){case 2:this.start(c);this.stop(l);this.kd+=a;z67=4;break;}}};t5S=4;break;case 4:var E8V="1SI";E8V+="Y";E8V+="bZrNJCp9";b.prototype.get=function(){var W1Q;W1Q=2;for(;W1Q !== 1;){switch(W1Q){case 2:return {xa:this.aE?Math.floor(8 * this.kd / this.aE):null,X9:this.aE?this.aE:0};break;}}};r.exports=b;E8V;t5S=8;break;}}})();},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.N7a=b.TGa=b.M7a=void 0;b.M7a={23976:{Ea:24E3,W:1001},24:{Ea:24E3,W:1E3},25:{Ea:25E3,W:1E3},2997:{Ea:3E4,W:1001},30:{Ea:3E4,W:1E3}};b.TGa=["23976","24","25","2997","30"];b.N7a=function(a,c){return a.Ea / a.W === c.Ea / c.W;};},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t,w,u,x;Object.defineProperties(b,{__esModule:{value:!0}});b.cia=void 0;c=a(0);l=a(13);g=a(995);r=a(91);m=a(427);d=a(997);f=a(1E3);h=a(437);k=a(6);n=c.__importDefault(a(3));p=a(2);a(8);q=a(21);v=a(1004);t=a(266);w=a(133);u=a(181);x=(function(){return function(y){var z;z=y.Zbb;y=y.Cxa;this.p_=this.replace=z;this.qg=y;};})();a=(function(y){function z(B,A){var C,D,E,G,F,L,O,K,I,M,H,J,N,P,W,V,S,U,fa,qa,za,Aa,Qa;D=A.Vb;E=A.ba;G=A.Oq;F=A.Wf;L=A.Ceb;O=A.Rl;K=A.config;I=A.iab;M=A.MR;H=A.caa;J=A.Ac;N=A.tk;P=A.K_;W=A.x6a;A=A.BG;V=y.call(this) || this;V.P=B;V.iba=!1;V.Scb=0;V.wQ={};V.Hya=(C={},C[k.u.T]={},C[k.u.J]={},C[k.u.Za]={},C);V.eYa=[];V.zYa=[];V.Ei=[];V.NE=[];V.Jo=!1;V.Yfb=!1;V.ILb=["maxMediaBufferAllowed","decryptOCSideChannelMinInterval","decryptOCSideChannelMinIntervalAfterCompleted"];V.Vb=D;V.vYa=E;V.Oq=G;V.zc=function(T){return 0 <= F.indexOf(T);};V.console=new n.default.Console("ASEJS","media|asejs","<" + String(V.P) + ">");V.config=V.VEb(E,K);I && (B=I.kF,V.Mg=new f.TMa(V,V.console,V.config,I.nC,I.SY,B,I.Lba,I.sg,I.vl,I.gi,I.sF),V.kF=B);V.events=new l.EventEmitter();V.caa=H;V.Ac=J;V.K_=P;V.MR=M;V.BG=A;V.Vf=new x(L);V.Rl=O;S=[[],[],[]];U=[{},{},{}];fa=[0,0];qa=!1;Aa=V.zc(k.u.T);Qa=V.zc(k.u.J);O=V.ta;["audio_tracks","video_tracks"].forEach(function(T,Z){var Q,la;Q=Z === k.u.J;la=Z === k.u.T;la && !Aa || Q && !Qa || V.ba[T].forEach(function(sa,R){if(sa.type !== k.u.T || !1 !== sa.Mh)(R=new m.iM({O:V,Pm:sa,mediaType:Z,qg:L.Cxa,MG:R,IA:R + (la?V.ba.video_tracks.length:0)},V.config,V.console),Z === k.u.J && K.wSb && new v.tIa(K).gbc(R.Pc),Z === k.u.J && (za=t.$M.from({qw:sa.Hza,Hv:sa.Gza})),S[Z].push(R),U[Z]=c.__assign(c.__assign({},U[Z]),R.HB()),R.maxBitrate > fa[R.mediaType] && (fa[R.mediaType]=R.maxBitrate),qa=qa || R.op);});});O && V.ba.timedtexttracks.forEach(function(T,Z){var Q;if("none" !== T.id){Q=k.u.Za;T=new m.iM({O:V,Pm:T,mediaType:Q,qg:!1,MG:Z,IA:Z},V.config,V.console);S[Q].push(T);U[Q]=c.__assign(c.__assign({},U[Q]),T.HB());}});V.ba.mO && ((0,p.assert)(za,"Should have video track if there are adverts"),V.mO={Zg:V.ba.mO.Zg.map(function(T){var Z;Z=c.__assign(c.__assign({},T),{PG:T.cs,cs:za.normalize(T.cs)});T.kg !== T.ads && (Z.unnormalizedLocationMs=Z.PG,Z.locationMs=Z.cs);return Z;})});V.uk=new h.IOa(V.ba,U,J,N,V.config,null === W || void 0 === W?void 0:W.nC);W && (J=W.Mt,N=W.rp,V.yr=W.fg,V.rp=N,V.Mt=J,V.Xma=new d.HLa(V.uk,V.config,V.YZb.bind(V),V.XZb.bind(V)));V.gN=S;V.qga=U;V.$t=fa;V.op=qa;return V;}c.__extends(z,y);Object.defineProperties(z.prototype,{ba:{get:function(){return this.vYa;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{ta:{get:function(){var B,A;B=this.ba;A=B.ll;return "LIVE" === B.ih && !!A;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{o_:{get:function(){var B;return !(null === (B=this.gN[k.u.J][0]) || void 0 === B || !B.o_);},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{lj:{get:function(){return this.eYa;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{m5b:{get:function(){return this.zYa;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{L:{get:function(){return this.ba.movieId;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{So:{get:function(){return this.ba.choiceMap;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{duration:{get:function(){return this.ba.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{jl:{get:function(){return this.Jo;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{qq:{get:function(){(0,p.assert)(this.Xma,"ErrorDirector is not available on old architecture prefetch viewables.");return this.Xma;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{rP:{get:function(){return this.qq.events;},enumerable:!1,configurable:!0}});Object.defineProperties(z.prototype,{n1:{get:function(){return void 0 === this.Nfa?(this.console.warn("serverTimeMs will be based on the device clock and may be inaccurate prior to setting serverTimeDelta from OC clock sync."),n.default.time.now()):n.default.time.fa() - this.Nfa;},set:function(B){var A;A=n.default.time.fa();if(void 0 === this.Nfa || A - this.Nfa < B)this.Nfa=A - B;},enumerable:!1,configurable:!0}});z.prototype.Wa=function(){this.close();this.ud();};z.prototype.close=function(){var B;this.NE=[];null === (B=this.Xma) || void 0 === B?void 0:B.Wa();this.uk.Wa();this.Jo=!0;};z.prototype.ud=function(){this.Mg && this.Mg.ud();};z.prototype.ZL=function(B){var A,C,D,E,G,F,L,O;A=this;C=B.ba;D=B.Rl;E=B.qg;G=void 0 === E?!1:E;B=B.Wf;F=void 0 === B?k.hg:B;(0,p.assert)(D === this.Rl,"Updating Viewable clearplay not supported");k.hg.forEach(function(K){(0,p.assert)(A.zc(K) === 0 <= F.indexOf(K),"Updating Viewable media types not supported");});(0,p.assert)(C.movieId === this.ba.movieId,"Changing Viewable manifest movieId unsupported");L=this.zc(k.u.T);O=this.zc(k.u.J);["audio_tracks","video_tracks"].forEach(function(K,I){var M,H,J,N;M=I === k.u.J;H=I === k.u.T;if(!(H && !L || M && !O)){J=C[K];N=A.gN[I];(0,p.assert)(N.every(function(P){var W;W=J[P.MG];return W && W.IS === P.trackId && (W.type === k.u.J || !1 !== W.Mh);}),"Existing tracks must still exist and be hydrated in updated manifest");J.forEach(function(P,W){var V,S;if(P.type !== k.u.T || !1 !== P.Mh){V=A.getTrackById(P.IS);if(V){P=P.streams;S=Object.keys(V.HB());(0,p.assert)(P.length === S.length,"Expected updated manifest track to have same number of streams");P.forEach(function(U){U=U.downloadable_id;(0,p.assert)(-1 !== S.indexOf(U),"Changing Viewable track streams unsupported");});}else (V=new m.iM({O:A,Pm:P,mediaType:I,qg:G,MG:W,IA:W + (H?A.ba.video_tracks.length:0)},A.config,A.console),N.push(V),A.qga[I]=c.__assign(c.__assign({},A.qga[I]),V.HB()),V.maxBitrate > A.$t[V.mediaType] && (A.$t[V.mediaType]=V.maxBitrate),(0,p.assert)(A.op || !V.op,"Can not update clear viewable with drm track."));}});}});this.vYa=C;this.uk.pW(this.ba,this.qga);};z.prototype.xL=function(B){var A,C,D;A=B.Ap;C=B.sa;D=B.IX;B=B.vp;A && C?(this.Zfa=new g.QUa(A,{sa:String(C),IX:!!D,E5b:this.config.a5.mx,PIb:this.config.a5.lv},B),this.qq.xL(this.Zfa)):this.Yfb || (B("SideChannel: pbcid/xid is missing."),this.Yfb=!0);};z.prototype.ty=function(){return void 0 !== this.So;};z.prototype.lp=function(B,A){return (0,u.sva)(this.ba,B,A);};z.prototype.getTracks=function(B){return this.gN[B];};z.prototype.getTrackById=function(B){var A;this.gN.some(function(C){return C.some(function(D){if(D.trackId === B)return (A=D,!0);});});A || this.console.warn("getTrackById not found:",B,"length:",this.gN.length);return A;};z.prototype.zZb=function(B,A){var C;C=this.gN[B];if(0 > A || A >= C.length)this.console.warn("getTrackByIndex out of range:",A,"length:",C.length,"mediaType:",B);else return C[A];};z.prototype.oy=function(B,A){return (B=this.HB(B)) && B[A];};z.prototype.HB=function(B){return this.qga[B];};z.prototype.hkc=function(B,A){this.eYa[B]=A;A.stream.ma && this.bpb(B,A.stream.ma);};z.prototype.C2b=function(B){var A,C;if(void 0 === B.Fea || void 0 === B.kCa){A=this.uk.lC.filter(function(D){return void 0 !== D.streams[B.Sa];})[0];C=A.children.filter(function(D){return D.urls.some(function(E){return E.stream.id === B.Sa;});})[0];B.Fea=A.id;B.kCa=C.id;}return {cya:B.location === B.Fea,D2b:B.bc === B.kCa};};z.prototype.zEa=function(B,A,C){void 0 !== A && void 0 !== C && (this.Sjb(B.mediaType,A),B.zEa(A,C));};z.prototype.Sjb=function(B,A){var C,D;D=this.config.kAa;("location" === D || "video_location" === D && B === k.u.J) && this.Ac.s1(A);null === (C=this.caa) || void 0 === C?void 0:C.call(this).t8b(B,A);};z.prototype.fg=function(B,A,C,D,E,G){(0,p.assert)(this.yr,"Stream failure reporting can not be used on old architecture prefetch viewables.");return this.yr(B,A,C,D,E,G);};z.prototype.rm=function(){var B,A,C;B=this;A=[];if(this.jl)return (this.console.error("updateRequestUrls, closed Viewable:",this.P),!1);k.hg.forEach(function(D){B.zc(D) && B.Ekc(D) && (D=B.rkc(D),0 < D.length && A.push.apply(A,D));});C=this.ikc();0 < C.length && A.push.apply(A,C);return this.ydc(A);};z.prototype.hp=function(B,A){var C;C=this.getTracks(k.u.J)[0];(0,p.assert)(C);if(C.YJ)return C.hp(B,A);};z.prototype.Ekc=function(B){var A;A=this;return this.jl?(this.console.warn("updateStreamUrls ignored, viewable cleaned up"),!1):this.zc(B)?this.Ei.reduce(function(C,D){return (0,q.o8)(C,D.Fe.filter(function(E){return E.mediaType === B;}));},[]).map(function(C){return A.uk.r2(A.P,C.Pc);}).every(function(C){return C;}):(this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",B),!1);};z.prototype.ikc=function(){(0,p.assert)(this.Mg,"Headers not available on old architecture prefetch viewables.");return this.Mg.rm();};z.prototype.rkc=function(B){var A,C,G;C=[];if(this.jl)return (this.console.warn("updateStreamUrls ignored, viewable cleaned up"),C);if(!this.zc(B))return (this.console.warn("updateStreamUrls ignored, streaming for mediaType type not enabled",B),C);try{for(var D=c.__values(this.Ei),E=D.next();!E.done;E=D.next()){G=E.value.rm(B);G.length && C.push.apply(C,G);}}catch(L){var F;F={error:L};}finally{try{E && !E.done && (A=D.return) && A.call(D);}finally{if(F)throw F.error;}}return C;};z.prototype.ydc=function(B){var A,C,D;A=this;if(0 === B.length)return !0;C=0;D=[];B.forEach(function(E){var G;if(E.Hc){G=E.O;G.Vb > A.Vb && (D.push({O:G,track:E.stream.track}),++C);}});D.forEach(function(E){var G;G=E.track;E.O.LR([G.mediaType === k.u.T?G:void 0,G.mediaType === k.u.J?G:void 0],void 0,G.mediaType);});return C === B.length;};z.prototype.VEb=function(B,A){var C,E;if((B=B.steeringAdditionalInfo) && B.streamingClientConfig && Object.keys(B.streamingClientConfig).length){B=B.streamingClientConfig;this.console.trace("applying manifest based streamingClientConfig" + JSON.stringify(B));for(var D in B){if(-1 !== this.ILb.indexOf(D) && A.hasOwnProperty(D)){E=Number(B[D]);A.set?0 === A.set((C={},C[D]=E,C)) && this.console.trace("Invalid key" + D):A[D]=E;}}}return A;};z.prototype.li=function(){var B;B=this;this.uk.li();this.qq.li();this.Zfa && ((0,p.assert)(this.kF),k.hg.forEach(function(A){A=B.kF(A);B.Zfa.fEa("rebuffer",A.zya);}));};z.prototype.KAa=function(){this.qq.KAa();};z.prototype.BGa=function(B,A){(0,p.assert)(this.Mg,"Headers not available on old architecture prefetch viewables.");this.Mg.BGa(B,A);};z.prototype.bba=function(){(0,p.assert)(this.Mg,"Headers not available on old architecture prefetch viewables..");return this.Mg.bba();};z.prototype.jra=function(){(0,p.assert)(this.Mg,"Headers not available on old architecture prefetch viewables.");this.Mg.jra();};z.prototype.aS=function(B){(0,p.assert)(this.Mg,"Headers not available on old architecture prefetch viewables.");this.Mg.aS(B);};z.prototype.iGa=function(){(0,p.assert)(this.Mg,"Headers not available on old architecture prefetch viewables.");return this.Mg.iGa();};z.prototype.Rr=function(B,A){(0,p.assert)(this.Mg,"Headers not available on old architecture prefetch viewables.");return this.Mg.Rr(B,A);};z.prototype.K3a=function(B,A,C){(0,p.assert)(this.Mg,"Headers not available on old architecture prefetch viewables.");this.Mg.Pga(B,A,C,!0);};z.prototype.U7=function(B,A,C){(0,p.assert)(this.Mg,"Headers not available on old architecture prefetch viewables.");return this.Mg.U7(B,A,!!C);};z.prototype.qfc=function(B,A){this.NE.push({stream:B,nZb:A});};z.prototype.yjb=function(){this.NE=[];};z.prototype.Kcc=function(B){this.NE=this.NE.filter(function(A){return A.stream !== B;});};z.prototype.Jcc=function(B){this.NE=this.NE.filter(function(A){return A !== B;});};z.prototype.SP=function(){var B;B=this;(0,p.assert)(this.rp,"Streamables not available on old architecture prefetch viewables.");return this.rp()?[]:this.NE.map(function(A){var C,D,E,G,F,L;C=A.stream;D=A.nZb;E=D();D=E.ri;G=E.Kg;F=E.sC;L=E.yu;E=E.At;return {identifier:("").concat(C.P,"-").concat(C.mediaType,"-").concat(C.bitrate),mediaType:C.mediaType,ri:D,Kg:G,sC:F,yu:L,At:E,hCa:0,gCa:Infinity,y0:1,JC:1,n7a:0,groupId:("").concat(B.P),EF:!0,Tt:!1,jcb:function(){return {result:!0};},ocb:function(){if(C.OG())return (B.Kcc(C),{Jj:!0,reason:"success"});B.Jcc(A);return {Jj:!1,reason:"viewableTryIssueHeaderRequest"};}};});};z.prototype.OG=function(B,A){(0,p.assert)(this.Mg,"Headers not available on old architecture prefetch viewables.");return this.Mg.OG(B,A);};z.prototype.hO=function(B,A){(0,p.assert)(this.Mg,"Headers not available on old architecture prefetch viewables.");return this.Mg.hO(B,A);};z.prototype.xDa=function(B){(0,p.assert)(this.Mg,"Headers not available on old architecture prefetch viewables.");return this.Mg.xDa(B);};z.prototype.LR=function(B,A,C){(0,p.assert)(this.Mg,"Headers not available on old architecture prefetch viewables.");return this.Mg.LR(B,A,C);};z.prototype.$Zb=function(B){var A,C,D;A=B.Sa;C=B.mediaType;this.ta || this.bpb(C,B.stream.ma);A=this.oy(C,A);D=this.ty()?this.config.jeb:0;A.Sob(n.default.zq()[C],D);this.events.emit("onHeaderFragments",B);};z.prototype.SCa=function(B){this.Ei.push(B);};z.prototype.sGa=function(B){B=this.Ei.indexOf(B);(0,p.assert)(-1 !== B,"Unexpected call to unregisterBranch, branch not registered with Viewable.");this.Ei.splice(B,1);};z.prototype.$da=function(B){var A;null === (A=this.MR) || void 0 === A?void 0:A.tv(B);};z.prototype.qC=function(B){this.jl?this.console.warn("onloadstart ignored, viewable cleaned up, mediaRequest:",B):void 0 !== B.location && this.Sjb(B.mediaType,B.location);};z.prototype.JK=function(B){this.jl?this.console.warn("onprogress ignored, viewable cleaned up, mediaRequest:",B):this.qq.Vga(B);};z.prototype.nl=function(B){var A;null === (A=this.MR) || void 0 === A?void 0:A.ss(B);(0,p.assert)(this.rp && this.K_,"Requests cannot be handled on old architecture prefetch viewables.");this.jl?this.console.warn("oncomplete ignored, viewable cleanuped, mediaRequest:",B):this.rp() || (this.qq.Vga(B),this.K_(B));};z.prototype.Z_=function(B,A,C){var D;C && (null === (D=this.MR) || void 0 === D?void 0:D.ss(B));};z.prototype.$_=function(B){var A;A=this;this.jl?this.console.warn("onerror ignored, viewable cleaned up, mediaRequest:",B):(this.qq.pu(B,void 0,B.status,B.Ah,B.Nj),this.ta && !B.Hc && B.up && !B.az.uCa(B.up)?this.qq.vS <= this.config.Iya && setTimeout(function(){A.nkc(B);},this.config.xic):this.rm() || this.fg(B.wP || "unknown","NFErr_MC_StreamingFailure",B.Ah,B.status,B.Nj));};z.prototype.Wac=function(){var B,A;this.apb(null === (B=this.ba.ll) || void 0 === B?void 0:B.xta,null === (A=this.ba.ll) || void 0 === A?void 0:A.s$,!0);};z.prototype.apb=function(B,A,C){var D,E,G,F,L;(0,p.assert)(this.ba.ll,"Missing manifest liveMetadata.");G=this.ba.ll;F=G.xta;G=G.s$;L=this.wQ;this.wQ={startTime:null !== (D=null !== F && void 0 !== F?F:B) && void 0 !== D?D:L.startTime,endTime:null !== (E=null !== G && void 0 !== G?G:A) && void 0 !== E?E:L.endTime};(C || this.wQ.startTime !== L.startTime || this.wQ.endTime !== L.endTime) && this.events.emit("liveEventTimesUpdated",c.__assign({O:this},this.wQ));};z.prototype.mkc=function(B,A){if(this.Hya[B].oJ !== A.oJ || this.Hya[B].pJ !== A.pJ)(this.Hya[B]=A,this.events.emit("liveLoggingInfoUpdated",{O:this,mediaType:B,info:A}));};z.prototype.S3b=function(){(0,p.assert)(this.ta,"liveEventCompleted called on viewable that is not live");return void 0 !== this.wQ.endTime;};z.prototype.nkc=function(B){var A,E;try{for(var C=c.__values(this.Ei),D=C.next();!D.done;D=C.next()){E=D.value.fb(B.mediaType);E && E.okc();}}catch(F){var G;G={error:F};}finally{try{D && !D.done && (A=C.return) && A.call(C);}finally{if(G)throw G.error;}}};z.prototype.bpb=function(B,A){this.zYa[B]=A.yza;};z.prototype.YZb=function(B){var A,C,D;if(!this.Jo){A=B.m2b;C=B.$8b;D=B.b9b;B=B.c9b;this.console.warn("Streaming failure, is permanent: " + A + ", last error code: " + C + ", last http code: " + D + ", last native code: " + B);A?(this.console.warn(" > Permanent failure, done"),A=this.fg("Permanent failure","NFErr_MC_StreamingFailure",C,D,B)):(this.console.warn(" > We are buffering, calling it!"),A=this.fg("Temporary failure while buffering","NFErr_MC_StreamingFailure",B,D,B,!0));A || (this.console.warn(" > Resetting failures"),this.qq.kfa());}};z.prototype.XZb=function(){(0,p.assert)(this.Mt,"Error handling not available on old architecture prefetch viewables.");this.Jo || (this.rm(),this.Mt());};return z=c.__decorate([w.zJ],z);})(r.Vw);b.cia=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.jD=void 0;r=a(35);a=a(78);c=(function(){function l(g,m){this.wA=g;this.qN=m.bb;this.ux=m.sb;}Object.defineProperties(l.prototype,{bb:{get:function(){return void 0 !== this.qN?this.qN:this.wA.bb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{sb:{get:function(){return void 0 !== this.ux?this.ux:this.wA.sb;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{W:{get:function(){return this.wA.W;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Tj:{get:function(){return this.wA.Tj;},enumerable:!1,configurable:!0}});l.prototype.r1=function(g){this.ux=g;};l.prototype.ira=function(){this.ux=void 0;};return l;})();b.jD=c;(0,r.cf)(a.Pu,c);(0,r.cf)(a.Bz,c);},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.$M=void 0;c=a(20);r=(function(){function l(g,m){this.dI=g;this.TH=m;this.hec();}l.from=function(g){return "number" === typeof g?new l(g,1):new l(g.qw,g.Hv);};l.mVb=function(g){return new l(g.W,g.Ea);};Object.defineProperties(l.prototype,{qw:{get:function(){return this.dI;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Hv:{get:function(){return this.TH;},enumerable:!1,configurable:!0}});l.prototype.da=function(){return new c.N(this.TH,this.dI);};l.prototype.equal=function(g){return this.dI === g.dI && this.TH === g.TH;};l.prototype.normalize=function(g){var m;m=1E3 * this.Hv;return Math.floor(Math.floor((Math.floor(g + 1) * this.qw - 1) / m) * m / this.qw);};l.prototype.hec=function(){var g,m,d;g=Math.floor(1E3 * this.dI / this.TH);m=Math.floor(1001 * this.dI / this.TH);d=1E3 * Math.round(g / 1E3);this.dI=d;this.TH=Math.abs(m - d) > Math.abs(g - d)?1E3:1001;};return l;})();b.$M=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.jT=void 0;c=a(0);r=c.__importDefault(a(186));l=a(106);g=a(187);a=(function(m){function d(f,h,k,n,p,q,v){h=m.call(this,f,h,k,n,p,q,v) || this;g.Ww.oa(h,f,n);return h;}c.__extends(d,m);return d;})(l.e3);b.jT=a;(0,r.default)(g.Ww.prototype,a.prototype);},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.qia=b.pw=void 0;c=a(0);r=a(13);l=a(117);g=c.__importDefault(a(29));m=a(6);d=c.__importDefault(a(3));f=a(20);h=a(2);k=a(1005);n=a(106);p=a(61);q=a(21);b.pw=function(v){return v.Ga(f.N.Na(v.lL));};a=(function(v){function t(w,u,x,y,z,B,A,C){var D,E;D=this;D=v.call(this) || this;D.ig=w;D.Gg=u;D.Gd=x;D.K=y;D.KCb=z;D.X=B;D.cq=A;D.gi=C;D.f_a=!1;D.zXa=!1;D.TV=!1;D.H=l.jn.yq(D.ig);D.Il=D.H.error.bind(D.H);D.ac=D.H.warn.bind(D.H);D.dk=D.H.trace.bind(D.H);null === (E=x.events) || void 0 === E?void 0:E.addListener("ready",function(){D.qx();});D.Keb=new k.bQa(D.K,D.ig,D.Gg.Yc,D.H);D.reset();return D;}c.__extends(t,v);Object.defineProperties(t.prototype,{endOfStream:{get:function(){return this.aV;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Slc:{get:function(){return this.Bn.length;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{b3b:{get:function(){return this.Qk;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{knb:{get:function(){return !!this.Gd.HSb;},enumerable:!1,configurable:!0}});t.prototype.reset=function(w){var u,x,y;null === (u=this.RYa) || void 0 === u?void 0:u.Wa();this.Ko=!1;w || (this.Bn=[]);this.Qk=this.gna=this.ZH=void 0;this.Pma=!1;this.KN=void 0;this.TV=this.aV=!1;this.JZa(f.N.Oa);null === (y=(x=this.Gd).reset) || void 0 === y?void 0:y.call(x);this.Keb.reset();};t.prototype.x7a=function(){this.gna=!0;};t.prototype.pause=function(){this.Ko=!0;};t.prototype.resume=function(){this.Ko=!1;this.qx();};t.prototype.kJ=function(){this.zXa=!0;this.Ko || this.qx();};t.prototype.AG=function(w){this.f_a=w;};t.prototype.ova=function(){var w;return null === (w=this.Qk) || void 0 === w?void 0:w.Xf;};t.prototype.EHb=function(w){var u;if(this.K.X5a){(0,h.assert)(w.Xa);u=w.Xa.hb;(0,h.assert)(void 0 !== w.Td);(0,h.assert)(void 0 !== u.Nc);if(w.Td >= u.Nc)return;}this.Bn.push(w);this.qx();};t.prototype.Fu=function(){this.qx();};t.prototype.V0=function(w){w=this.Bn.indexOf(w);-1 !== w && this.Bn.splice(w,1);};t.prototype.$fb=function(w,u){this.K.vpa && u && void 0 === this.Qk && this.XWa(w,0);this.qx();};t.prototype.J_=function(w,u){var x,y;x=this;void 0 === w && (w=!1);this.aV || (this.aV=!0,this.qx(),!w && this.knb) || (u && this.cq && this.K.aQb?(w=f.N.Na(this.K.Mnb),u=u.Ga(w),w=(0,p.sha)(this.cq,u,!0),u=w.pm,w=w.promise,null === (y=this.RYa) || void 0 === y?void 0:y.Wa(),this.RYa=u,w.then(function(){x.aV && x.Gd.endOfStream();})):this.Gd.endOfStream());};t.prototype.Mfa=function(){return JSON.stringify(this.Bn);};t.prototype.JZa=function(w){var u;null !== (u=this.KEb) && void 0 !== u && u.equal(w) || (this.KEb=w,this.Gd.Vfa(w.Ea,w.W));};t.prototype.qx=function(){var w,u,x,y,z,B,A,C,D;y=this.K;if(this.Bn.length || this.Qk && !this.Qk.de)if(!this.Gd || !1 === this.Gd.ready)this.WN("@" + d.default.time.fa() + ", append: not appending, sourceBuffer not ready");else if(!this.Qk || this.Qk.de || this.Qk.Mm())if(this.Qk && !this.Qk.de || this.Bn.length)if(this.Ko){z=this.Qk && !this.Qk.de?this.Qk:this.Bn[0];this.WN("@" + d.default.time.fa() + ", bufferManager _append ignored, paused, nextRequest: " + JSON.stringify(z));}else if((!this.Qk || this.Qk.de || (this.uXa(this.Qk),this.Qk.de)) && this.Bn.length)if((z=this.Bn[0],z.aborted))(this.ac("aborted MediaRequest should not appear in the toAppend list:",z.toString(),"complete:",z.complete),this.WN("@" + d.default.time.fa() + ", append: removing aborted request from toAppend: " + z.toString()),this.Bn.shift());else {B=z.stream;A=B.O;if(B.dh)if((z.Pr && !this.TV && (null === (u=(w=this.Gd).Bmb) || void 0 === u?void 0:u.call(w,{P:B.track.O.P,Cbb:B.Ij}),this.TV=!0),this.igc(B,z.index)))(this.gna=!1,this.XWa(B,z.index));else if((w=this.X.Yr(A),B=this.C0b(B),w || B || !this.Pma && !y.qha))if((w=this.b$a(z),this.ig !== g.default.$d.T || !z.Nm && !z.wy || !z.Ka || y.hL || this.aV || 1 !== this.Bn.length || !(w > y.A_) || null !== (x=z.xG) && void 0 !== x && x.EZ)){if(y.X5a || y.cSb)if((x=z.Xa.hb,u=this.xQb())){C=x.Tl;D=z.Nc >= u;w=w > y.A_;if(u < x.Nc && D && w && !C)return;}if(y.O9b && this.gi && (y=this.gi(A.Vb)) && !y.vW)this.pause();else {this.Pma || (this.Pma=B);this.Bn.shift();try{this.Bzb(z);}catch(E){throw (this.H.error(E),E);}}}else this.tec();}};t.prototype.tec=function(){var w;w=this;this.cq && (this.dya?this.dya.rbb || this.dya.yg():this.dya=this.cq.oB(function(){return w.S2b();},"JIT Appender"));};t.prototype.S2b=function(){var w,u,x,y;return c.__generator(this,function(z){switch(z.label){case 0:if(1 !== this.Bn.length)return [3,3];w=this.Bn[0];if(!w.Nm && !w.wy || (null === (y=w.xG) || void 0 === y?0:y.EZ))return [2];u=this.b$a(w);x=this.K.A_;return u > x?[4,p.bj.UG(f.N.Na(u - x))]:[3,2];case 1:(z.zb(),z.label=2);case 2:return (this.qx(),[3,0]);case 3:return [2];}});};t.prototype.b$a=function(w){return w.Bd - this.X.cg();};t.prototype.igc=function(w,u){if(this.gna || void 0 === this.ZH || w.Sa !== this.ZH.Sa)return !0;w=w.dh;(0,h.assert)(w);return 1 < w.length?(0,q.Cpa)(w,function(x){return x.ze <= u;}) !== this.ZH.Ibb:!1;};t.prototype.C0b=function(w){if(w.mediaType === m.u.T || !w.Ij)return !0;if(void 0 === this.ZH)return !1;if(!w.track.o_)return !w.Ij;w=w.dh;(0,h.assert)(w);return !1 === w[this.ZH.Ibb].Im;};t.prototype.xQb=function(){throw Error("not supported");};t.prototype.XWa=function(w,u){var x,y,z,B;if(!this.f_a || this.zXa){z=w.dh.reduce(function(A,C,D){return C.ze <= u?D:A;},0);B=w.dh[z];this.ZH || (null === (y=(x=this.Gd).Bmb) || void 0 === y?void 0:y.call(x,{P:w.track.O.P,Cbb:w.Ij}),this.TV=!0);if(this.Gd.appendBuffer(B.data,{Hc:!0,profile:w.profile,bitrate:w.bitrate,Sa:w.Sa}))(this.WN("@" + d.default.time.fa() + ", header appended, streamId: " + w.Sa),this.ZH={Sa:w.Sa,Ibb:z},this.UDb(w.O.Vb || 0,w.Sa,z),this.qx());else throw (this.ac("appendHeader error: " + this.Gd.error),this.WN("@" + d.default.time.fa() + ", appendHeader error: " + this.Gd.error),Error("appendHeaderError"));}};t.prototype.Bzb=function(w){var u,x,y,z,B,A;u=this;z=w.xCa || f.N.Oa;B=w.Xa.hb.G;B.Ta && Infinity !== B.Ta && (z=new f.N(B.Ta,1E3).add(z).Ui,Infinity === this.Gg.duration || this.Gg.duration < z) && (this.Gg.duration=z);z=void 0 !== w.kz?f.N.Na(w.kz).add(w.xCa):void 0;B=null === (x=this.Bn[0]) || void 0 === x?void 0:x.Ld;x={endOfStream:this.endOfStream || !(null === (y=w.xG) || void 0 === y || !y.EZ),JQ:z,lAa:B};z=this.Keb.append(w,x);y=z.Gj;B=z.Mj;x=z.response;z=z.offset;null === B || void 0 === B?void 0:B.forEach(function(C){return u.emit(C.type,C);});B=w.stream;if(B.ta){A=B.xq().cCa;z=z.Ga(A.Yf(B.W));}this.JZa(z);y && (w.Nm || w.wy) && w.Gj();this.uXa(w,y,x);};t.prototype.uXa=function(w,u,x){var y,z,B,A;void 0 === u && (u=!1);A=u?{status:n.Gh.Js,vk:void 0}:w.OA(this.Gg,this.Gd,this.Gg.Yc,void 0,x);x=A.status;(A=A.vk) && this.emit(A.type,A);switch(x){case n.Gh.Bg:this.Azb(w);break;case n.Gh.Bka:u || (this.Qk=w);break;case n.Gh.Js:(u || (this.Qk=w,void 0 === this.KN || this.ig !== g.default.$d.T || w.Ld.equal(this.KN) || (this.KN=void 0),this.WN("@" + d.default.time.fa() + ", request appended, type: " + w.mediaType + ", streamId: " + w.Sa + ", pts: " + w.Bd + "-" + w.Xf)),w.Nm || w.wy?(this.KN=u?w.Ld:w.Vc,null === (z=(y=this.Gd).HSb) || void 0 === z?void 0:z.call(y,w.xG),this.TV=!1,(null === (B=w.xG) || void 0 === B?0:B.EZ) && this.KCb && this.J_(!1,this.KN)):this.KN=void 0,this.VDb(w),this.qx());}};t.prototype.Azb=function(w){if(void 0 !== this.Gd.error){if("done" === this.Gd.error)return;this.Il("failure to append queued mediaRequest:",null === w || void 0 === w?void 0:w.toString(),"err:",JSON.stringify(this.Gd.error));throw this.Gd.error;}w=Error("failure to append queued mediaRequest: " + (null === w || void 0 === w?void 0:w.toString()) + " err: " + this.Gd.error);this.Il(w.message);throw w;};t.prototype.UDb=function(w,u,x){w={type:"headerAppended",mediaType:this.ig,manifestIndex:w,streamId:u,isIndex:x};this.emit(w.type,w);};t.prototype.VDb=function(w){w={type:"requestAppended",mediaType:this.ig,request:w};this.emit(w.type,w);};t.prototype.WN=function(w){w={type:"managerdebugevent",message:w};this.emit(w.type,w);};return t;})(r.EventEmitter);b.qia=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.vea=void 0;c=a(6);b.vea=function(l){switch(l){case c.La.Yd:l=c.bd.Yd;break;case c.La.Vg:l=c.bd.Vg;break;case c.La.Yh:case c.La.vm:case c.La.GD:l=c.bd.vm;break;default:l=c.bd.wm;}return l;};},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.DM=void 0;c=a(2);l=a(6);g=a(21);r=(function(){function m(d){var f;void 0 === d && (d=[]);f=this;this.items=d;d.forEach(function(h){return f.xGa(h);});}Object.defineProperties(m.prototype,{length:{get:function(){return this.items.length;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Gea:{get:function(){var d;return null !== (d=this.video) && void 0 !== d?d:this.audio;},enumerable:!1,configurable:!0}});m.prototype.get=function(d){return d === l.u.J?this.video:this.audio;};m.prototype.every=function(d){return this.items.every(d);};m.prototype.some=function(d){return this.items.some(d);};m.prototype.forEach=function(d){this.items.forEach(d);};m.prototype.find=function(d){return (0,g.Qc)(this.items,d);};m.prototype.reduce=function(d,f){return this.items.reduce(d,f);};m.prototype.filter=function(d){return new m(this.items.filter(d));};m.prototype.replace=function(d,f){var h;h=this.items.indexOf(d);(0,c.assert)(-1 < h);(0,c.assert)(d.mediaType === f.mediaType);this.items[h]=f;this.xGa(f);};m.prototype.jfc=function(d,f){(d=this.get(d))?this.replace(d,f):this.add(f);};m.prototype.add=function(d){this.items.push(d);this.xGa(d);};m.prototype.remove=function(d){var f;f=this.items.indexOf(d);if(-1 === f)return !1;this.items.splice(f,1);this.WKb(d.mediaType);return !0;};m.prototype.clear=function(){this.items=[];this.audio=this.video=void 0;};m.prototype.xGa=function(d){d.mediaType === l.u.J?this.video=d:this.audio=d;};m.prototype.WKb=function(d){d === l.u.J?this.video=void 0:this.audio=void 0;};return m;})();b.DM=r;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(0).__exportStar(a(1034),b);},function(r,b,a){var c,l,g,m,d,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.k5=void 0;c=a(0);l=a(13);g=a(8);m=a(10);d=a(61);f=c.__importDefault(a(3));h=g.N.Na(1E3);r=(function(){function k(n,p,q,v,t,w,u,x,y,z){var B,A;this.jVb=n;this.Y8b=p;this.l8=v;this.events=t;this.Ws=w;this.kob=x;this.priority=y;this.$l=[];this.console=(0,g.Oi)(f.default,p,("PresentationTracker [").concat(this.jVb,"] ").concat(this.kob,"]"));this.sBa=h.add(g.N.Na(null !== (A=null === (B=w.fS) || void 0 === B?void 0:B.Z) && void 0 !== A?A:0));this.listeners=new l.ef();this.QBa=new l.ef();this.lI=!z;this.IOb(u);this.Flb(q,u,v);}k.prototype.Flb=function(n,p,q){var v;v=this;this.l8=q;this.listeners.clear();this.QBa.clear();this.Hb=n;this.Ee=p;this.QBa.on(n.X,"skipped",this.V_.bind(this));this.listeners.on(q,"requestAppended",function(t){return v.cu(t.request);});this.events=n.events;this.eP.d2a(p);this.F0.d2a(p);};k.prototype.IOb=function(n){var p;p=this;this.eP=n.oB(function(){return p.LRb();},"Presentation Emit",this.priority);this.F0=n.oB(function(){return p.rbc();},"Presentation Prune");};k.prototype.V_=function(){this.trace(("skipped, scheduler clock ").concat(this.Ee.za.currentTime.Fb()));this.lI=!0;this.eP.yg();};k.prototype.LRb=function(){var n,p,q;return c.__generator(this,function(v){switch(v.label){case 0:(m.M && this.console.trace("Starting emit job"),this.aL=this.Z6b(this.lI),n=this.Ifb(),v.label=1);case 1:if(!n)return [3,3];this.trace(("queuing task for ").concat(this.dca(n.Cu)) + (" at player time ").concat(n.timestamp.Fb()) + (" scheduler clock is ").concat(this.Ee.za.currentTime.Fb()));return [4,d.bj.dD(n.timestamp)];case 2:v.zb();this.trace(("executing task for ").concat(this.dca(n.Cu)) + (" for player time ").concat(n.timestamp.Fb()) + (", scheduler clock: ").concat(this.Ee.za.currentTime.Fb()) + (", actual player time: ").concat(this.Hb.xe) + (", first item: ").concat(this.lI));p=this.lI?this.Hb.xe:n.timestamp;q=this.lI;this.lI=!1;this.n4a=n;this.aL++;this.csa=(n=this.Ifb())?n.timestamp:this.jK;try{this.Ysa(this.n4a,p,q);}catch(t){this.console.error(("Error in ").concat(this.kob," emit, continuing"),t);}p=null === n || void 0 === n?void 0:n.timestamp;return [3,1];case 3:return (m.M && this.console.trace("Ending emit job"),[2]);}});};k.prototype.Ifb=function(){if(void 0 !== this.aL)return this.$l[this.aL];};k.prototype.Z6b=function(n){var p,q,t;void 0 === n && (n=!1);for(var v=n?0:null !== (p=this.aL) && void 0 !== p?p:0;v < this.$l.length;v++){p=this.$l[v];t=g.N.Na(null !== (q=this.Ws.D$b) && void 0 !== q?q:0);if(p.timestamp.greaterThan(this.Hb.xe.add(t)))return n && 0 < v?v - 1:v;}return Math.max(this.$l.length - 1,0);};k.prototype.rbc=function(){var n,p;return c.__generator(this,function(q){switch(q.label){case 0:if(!(1 < this.$l.length))return [3,2];n=c.__read(this.$l,2);p=n[1];this.trace(("queuing pruning task for ").concat(p.Cu) + (" at player time ").concat(this.sBa.add(p.timestamp).Fb()) + (" scheduler clock is ").concat(this.Ee.za.currentTime.Fb()));return [4,d.bj.dD(this.sBa.add(p.timestamp))];case 1:return (q.zb(),this.trace(("executing pruning task for ").concat(p.Cu) + (" at player time ").concat(this.sBa.add(p.timestamp).Fb()) + (" scheduler clock is ").concat(this.Ee.za.currentTime.Fb())),this.$l.shift(),this.aL && this.aL--,[3,0]);case 2:return [2];}});};k.prototype.Qx=function(n,p,q){this.Flb(n,p,q);};k.prototype.reset=function(){this.$l=[];m.M && this.trace("reset");this.lI=!0;this.jK=void 0;this.aL=0;this.F0.yg();this.eP.yg();};k.prototype.close=function(){m.M && this.trace("close()");this.QBa.clear();this.eP.Wa();this.F0.Wa();this.listeners.clear();this.$l=[];};k.prototype.ci=function(n){var p;m.M && this.trace(("canSkip() ").concat(n));if(0 === this.$l.length)return (m.M && this.trace("canSkip false, no media sequence"),!1);p=this.$l[0];return p.timestamp.greaterThan(n)?(m.M && this.trace(("canSkip false, before earliest item at ").concat(p.timestamp)),!1):void 0 === this.jK || this.jK.lessThan(n)?(m.M && this.trace(("canSkip false, later than last appended at ").concat(this.jK)),!1):!0;};k.prototype.trace=function(n){m.M && this.console.trace(n);};k.prototype.bpa=function(n,p,q){var v;q && (this.jK=q);v=this.$l.length?this.$l[this.$l.length - 1]:void 0;if(void 0 === v || !this.bca(v.Cu,n))return (this.$l.push({Cu:n,timestamp:p}),this.eP.state === d.xm.complete && this.eP.yg(),this.F0.state === d.xm.complete && this.F0.yg(),!0);v === this.n4a && (this.csa=q);return !1;};k.prototype.bca=function(n,p){return n === p;};k.prototype.jLb=function(n){n.$l=c.__spreadArray([],c.__read(this.$l),!1);n.jK=this.jK;};return k;})();b.k5=r;},function(r,b,a){var m,d;function c(){}function l(f,h){this.Jn=f;void 0 !== h?(d(h <= f.lo,"require remain_sec <= chunk.sec but has " + h + " and " + f.lo),this.jm=h):this.jm=f.lo;}function g(f){var h;void 0 === f && (f=[]);this.lu=[];this.yi=this.en=0;try{for(var k=m.__values(f),n=k.next();!n.done;n=k.next()){this.add(n.value,void 0);}}catch(q){var p;p={error:q};}finally{try{n && !n.done && (h=k.return) && h.call(k);}finally{if(p)throw p.error;}}}m=a(0);d=a(2).assert;c.prototype=Error();l.prototype.constructor=l;l.prototype.Hi=function(){return new l(this.Jn,this.jm);};g.prototype.constructor=g;g.prototype.add=function(f,h){f=new l(f,h);this.lu.push(f);this.yi+=f.jm;this.en+=f.Jn.IB() * f.jm;};g.prototype.Hi=function(){var f,h,p;h=new g(void 0);try{for(var k=m.__values(this.lu),n=k.next();!n.done;n=k.next()){p=n.value;h.add(p.Jn,p.jm);}}catch(v){var q;q={error:v};}finally{try{n && !n.done && (f=k.return) && f.call(k);}finally{if(q)throw q.error;}}return h;};g.prototype.Wv=function(){try{return this.lu[0];}catch(f){}};g.prototype.Hhb=function(f){var h;for(d(0 <= f,"unexpected play_for_x_sec: x=" + f);0 < f;){if(void 0 === this.Wv())throw new c();if(f < this.Wv().jm){h=this.Wv().Jn.IB() * f;this.Wv().jm-=f;this.yi-=f;this.en-=h;f=0;}else (h=this.lu.shift(),this.yi-=h.jm,this.en-=h.Jn.IB() * h.jm,f-=h.jm);}};g.prototype.s$b=function(f){var k;d(0 <= f,"unexpected play_y_kb: y=" + f);for(var h=0;0 < f;){if(void 0 === this.Wv())throw new c();if(f < this.Wv().jm * this.Wv().Jn.IB()){k=f / this.Wv().Jn.IB();this.Wv().jm-=k;this.yi-=k;this.en-=f;h+=k;f=0;}else (k=this.lu.shift(),this.yi-=k.jm,this.en-=k.Jn.IB() * k.jm,h+=k.jm,f-=k.Jn.IB() * k.jm);}return h;};r.exports={$Ia:g,fsb:c};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Pla=void 0;r=(function(){function a(){this.u7=[];}Object.defineProperties(a.prototype,{first:{get:function(){var c;return null === (c=this.u7[0]) || void 0 === c?void 0:c.Pc;},enumerable:!1,configurable:!0}});a.prototype.L_a=function(c){this.u7.push({Pc:c});};a.prototype.w7a=function(c){this.u7.forEach(function(l,g){c(l.Pc,g);});};a.prototype.Ckc=function(c,l){this.u7[c].Ce=l;};return a;})();b.Pla=r;},function(r){r.exports={iPa:{code:-1,description:"MediaCache is not supported."},Gqc:{code:100,description:"Resource was not found"},Wvb:{code:101,description:"Resource Metadata was not found"},OM:{code:102,description:"Read failed",Hs:function(b,a){return {code:this.code,description:b,cause:a};}},W5:{code:200,description:"Daily write limit exceeded"},jM:{code:201,description:"Capacity has been exceeded"},V5:{code:202,description:"Write failed, cause unknown",Hs:function(b,a){return {code:this.code,description:b,cause:a};}},Hrc:{code:203,description:"Write failed, cause unknown"},ctb:{code:300,description:"Failed to delete resource",Hs:function(b,a){return {code:this.code,description:b,cause:a};}},tD:{code:900,description:"Invalid partition name"},tvb:{code:700,description:"Invalid parition configuration, commitment exceeds capacity."},iKa:{code:701,description:"Failed to initialize underlying disk cache."},Vvb:{code:800,description:'Metadata failed to pass validation. Metadata must be an object with a numeric "lifespan" property.'}};},function(r){r.exports={G$a:function(b){var a;if(b && 0 !== b.length){a=[];b.forEach(function(c){var l;void 0 === c.error.code && (c.error.code=0);void 0 === c.error.description && (c.error.description="Unknown");a.forEach(function(g){c.error && c.error.code == g.error.code && c.error.description === g.error.description && (l=g);});l?l.resources.push(c.ys):a.push({error:c.error,resources:[c.ys]});});return a;}},x8a:function(b){var a;a={freeSize:b.jp,dailyBytesRemaining:b.TO,bytesWritten:b.Ql,time:b.time,duration:b.duration};b.items && (a.items=b.items.map(function(c){return {key:c.key,operation:c.cm,itemBytes:c.aca,error:c.error};}));return a;},Vy:function(b){return b.catch(function(a){setTimeout(function(){throw a;},0);});}};},function(r,b,a){var c,l,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.eA=void 0;c=a(0);l=a(10);g=a(8);m=a(28);r=(function(){function d(f,h){this.zi=f;this.options=c.__assign({YKb:!0},h);}Object.defineProperties(d.prototype,{eu:{get:function(){return ("trace-").concat(this.zi.source);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{he:{get:function(){return this.eu;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{enabled:{get:function(){return l.M;},enumerable:!1,configurable:!0}});d.prototype.il=function(f){var h,k;h=f.Pg;if(h === m.Kc.el || h === m.Kc.hn){f=(0,g.H4a)(this.zi.O2b);k=this.zi.Y_b;h === m.Kc.el && this.options.YKb && this.zi.clear();h=f;Object.keys(k).length && (h=c.__spreadArray(c.__spreadArray([],c.__read(f),!1),[k],!1));return h;}};d.prototype.Wa=function(){var f;null === (f=this.zi) || void 0 === f?void 0:f.Wa();};return d;})();b.eA=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.H5=void 0;r=a(13);c=a(35);l=a(20);a=(function(){function g(m){void 0 === m && (m={pk:!1,currentTime:l.N.Oa,speed:1});this.Sc={pk:function(){return "function" === typeof m.pk?m.pk():m.pk;},currentTime:function(){return "function" === typeof m.currentTime?m.currentTime():m.currentTime;},speed:function(){return "function" === typeof m.speed?m.speed():m.speed;}};}Object.defineProperties(g.prototype,{pk:{get:function(){return this.Sc.pk();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{currentTime:{get:function(){return this.Sc.currentTime();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{speed:{get:function(){return this.Sc.speed();},enumerable:!1,configurable:!0}});return g;})();b.H5=a;(0,c.cf)(r.EventEmitter,a);},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.YOa=b.x5=void 0;c=a(13);l=a(28);(function(m){m[m.$Ja=1]="Creation";m[m.eVa=2]="StartPlayback";})(g=b.x5 || (b.x5={}));r=(function(){function m(d,f,h){this.Ee=d;this.H=f;this.events=h;this.fL=[];this.Oh=new c.ef();}m.prototype.ag=function(d){var f;f={Ym:d,zqa:void 0};this.fL.push(f);d.sra === g.$Ja && this.Mkb(f);this.Oh.on(d.events,"collectionRequested",this.i8b.bind(this,f));};m.prototype.Wa=function(){this.Oh.clear();};m.prototype.x3b=function(d){var f,h;f=this;h={Pg:d};this.fL.forEach(function(k){f.gGa(k.Ym,h);d === l.Kc.zl && k.Ym.sra === g.eVa && f.Mkb(k);});};m.prototype.i8b=function(d){var f;this.gGa(d.Ym,{rLb:!0});null === (f=d.zqa) || void 0 === f?void 0:f.yg();};m.prototype.Mkb=function(d){var f,h,k,n;f=this;k=d.Ym;n=this.Ee.L3a(function(){f.gGa(k,{zbb:!0});},k.UW,k.Gt);null === (h=d.zqa) || void 0 === h?void 0:h.Wa();d.zqa=n;};m.prototype.gGa=function(d,f){var h;try{h=d.Sf(f);h.Wfa && this.events.emit(d.Gt,h.event);}catch(k){this.H.error(("Error generating event for ").concat(d.Gt),k);}};return m;})();b.YOa=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.x0a=b.wW=b.Qc=void 0;b.Qc=function(a,c){for(var l=0;l < a.length;l++){if(c(a[l],l,a))return a[l];}};b.wW=function(a){return a.filter(function(c,l){return a.indexOf(c) === l;});};b.x0a=function(a,c){return a.filter(function(l,g){return a.indexOf(l) === g && -1 !== c.indexOf(l);});};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Akb=b.u9a=b.map=void 0;c=a(0);a(1140);b.map=function(l){return function(g,m){void 0 === m && (m=!1);return function(d,f,h){var k,n,p,q,v,t,w,u;v=Reflect.N9a(l,d,f) || ({});w="number" === typeof h;u=m;(t=w?null !== (n=(null !== (k=v.Gb) && void 0 !== k?k:{})[h]) && void 0 !== n?n:{}:u?v.return:v.Tza) || (t={rules:[]});k=c.__assign(c.__assign(c.__assign({},t),g),{rules:c.__spreadArray(c.__spreadArray([],c.__read(null !== (p=t.rules) && void 0 !== p?p:[]),!1),c.__read(null !== (q=g.rules) && void 0 !== q?q:[]),!1)});w?(v.Gb || (v.Gb={}),v.Gb[h]=k):u?v.return=k:v.Tza=k;Reflect.O9(l,v,d,f);};};};b.u9a=function(l){return function(g,m){var d,f,h,k;g=null !== (k=null !== (f=null === (d=g.__proxyCtor) || void 0 === d?void 0:d.prototype) && void 0 !== f?f:null === (h=null === g || void 0 === g?void 0:g.constructor) || void 0 === h?void 0:h.prototype) && void 0 !== k?k:g;for(var n;g && void 0 === n;){n=Reflect.N9a(l,g,m);g=g.__proto__;}return n;};};b.Akb=function(){return function(){return function(l){return l;};};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Wc=void 0;r=b.Wc || (b.Wc={});r.BIb="bitraterestriction";r.$1a="cdnsel";r.bB="chgstrm";r.debug="debug";r.TQb="dlreport";r.wB="endplay";r.uZ="intrplay";r.iC="midplay";r.nR="playbackaborted";r.R0="renderstrmswitch";r.qG="repos";r.Hw="resumeplay";r.cfc="serversel";r.xu="startplay";r.J1="statechanged";r.transition="transition";r.$Da="segmentdropped";r.oHb="asereport";r.Y3b="livereport";r.X3b="livepipelinefailover";r.O0a="audioswitch";r.k1a="blockedautoplay";r.config="config";r.Isa="dlreq";r.kuc="ftlProbeError";r.Uhc="subtitleerror";r.Vhc="subtitleqoe";r.Uic="timedtextrebuffer";r.Vnb="timedtextswitch";r.xmb="speedchanged";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZNa="IsTypeSupportedProviderFactorySymbol";b.sSa="PlatformIsTypeSupportedSymbol";},function(r,b,a){var l,g,m;function c(){this.type=l.Xw.Tz;}Object.defineProperty(b,"__esModule",{value:!0});b.vD=void 0;l=a(26);r=a(129);g=a(73);m=new r.FH();c.jOb=function(){return {isTypeSupported:function(d){var f;try{if(-1 == d.toLowerCase().indexOf("codec"))return mb.MSMediaKeys.isTypeSupported(d,"video/mp4");f=d.split("|");return 1 === f.length?mb.MSMediaKeys.isTypeSupported(g.xb.$z,d):"probably" === c.EFa(f[0],f[1]);}catch(h){return !1;}}};};c.u9=function(d,f,h){f=m.format(c.Sga,f);if(0 === h.length)return f;h=m.format('features="{0}"',h.join());return m.format("{0}|{1}{2}",d,f,h);};c.EFa=function(d,f){var h;try{h=mb.MSMediaKeys.isTypeSupportedWithFeatures?mb.MSMediaKeys.isTypeSupportedWithFeatures(d,f):"";}catch(k){h="exception";}return h;};b.vD=c;c.Sga='video/mp4;codecs="{0},mp4a";';},function(r,b){function a(c,l){var g;g=this;this.status={};c.forEach(function(m,d){g.status[m]=l[d];});}Object.defineProperty(b,"__esModule",{value:!0});b.l5=void 0;a.prototype.QP=function(){return this.status;};a.prototype.Laa=function(){return Object.entries(this.status).filter(function(c){c=oa(c);c.next();return c.next().value.supported;}).map(function(c){var l;c=oa(c);l=c.next().value;c.next();return l;});};b.l5=a;},function(r,b,a){var l,g,m,d,f,h,k;function c(n,p,q,v){var t;t=m.bH.call(this,n,p,l.u.rWa,v) || this;t.config=n;t.Kq=p;t.is=q;t.Rca=v;t.type=l.sn.Gz;t.Jlc=d.Zd.e4a();return t;}Object.defineProperty(b,"__esModule",{value:!0});b.nD=void 0;l=a(26);g=a(42);m=a(491);r=a(129);d=a(127);f=a(254);h=a(81);k=a(285);new r.FH();ka(c,m.bH);c.prototype.IL=function(){return Promise.resolve(!1);};c.prototype.HJ=function(){return Promise.resolve("");};c.prototype.naa=function(){return Promise.resolve("");};c.prototype.Q1=function(){return this.config().Zsa?this.Rca.Dxa()?this.Rca.fY(g.I.JT).then(function(n){return {result:n.supported,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.wga=function(){return this.config().Zsa?this.Rca.Dxa()?this.Rca.fY(g.I.CT).then(function(n){return {result:n.supported,reason:"media-capabilities"};}):Promise.resolve({result:!1,reason:"non-hdr-display"}):Promise.resolve({result:!1,reason:"disabled"});};c.prototype.R1=function(){return Promise.resolve(!1);};c.prototype.O1=function(){return Promise.resolve(!1);};c.prototype.yY=function(n){return this.Jlc[n];};c.prototype.Xoa=function(){};c.prototype.V4b=function(n){switch(n){case l.cr.P4:return "1.4";case l.cr.nH:return "2.2";}};c.prototype.yt=function(){return f.E3.yt();};c.prototype.Z9a=function(){return (0,h.Iob)(function(n,p){return n.name === p.name;},this.config().S_a,this.config().zo);};c.prototype.PY=function(){return Promise.resolve(void 0);};c.prototype.Caa=function(){return Promise.resolve(void 0);};c.prototype.t9=function(n){var p;p=[];this.is.wh(n) && p.push(this.V4b(n));return [{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:p,isHdcpEngaged:!!p.length}];};c.prototype.gY=function(n){return this.config().m9b?Promise.resolve(new k.l5(n,n.map(function(){return {supported:!0};}))):m.bH.prototype.gY.call(this,n);};b.nD=c;c.Sga="video/mp4;codecs={0};";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gja=b.Nz=void 0;r=b.Nz || (b.Nz={});r.azb="unknown";r.nHa="absent";r.GTa="present";r.Error="error";b.gja="ExternalDisplayLogHelperSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iNa="IDBDatabaseFactorySymbol";b.NNa="IndexedDBFactorySymbol";b.PNa="IndexedDBStorageFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.P5="TransportConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.M4b=b.BQ=b.K4b=void 0;b.K4b=function(a){return a;};b.BQ=function(a){return a;};b.M4b=function(a){return Object.assign({},a);};},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w,u;function c(x,y,z,B,A,C,D,E,G,F,L,O,K,I,M,H,J,N,P,W){this.j=x;this.trackId=y;this.aK=z;this.vc=B;this.Mh=A;this.gob=C;this.Tb=D;this.urls=E;this.Of=G;this.displayName=F;this.Vi=L;this.HL=O;this.variant=K;this.pG=I;this.profile=M;this.lw=H;this.YQ=J;this.YUb=N;this.Tba=P;this.Zv=W;this.type=d.xj.Fga;this.Gu=void 0;this.Zl=!(!M || M != h.qn.EM);this.Bh={bcp47:G,trackId:y,downloadableId:D,isImageBased:this.Zl};this.log=(0,f.kj)(x,"TimedTextTrack");this.state=u.Y4;this.request=this.request.bind(this);}Object.defineProperty(b,"__esModule",{value:!0});b.GH=void 0;l=a(0);g=a(107);m=a(19);d=a(93);f=a(9);h=a(42);k=a(22);n=a(15);p=a(1246);q=a(16);v=a(4);t=a(1247);w=a(65);(function(x){x[x.Y4=0]="NOT_LOADED";x[x.LOADING=1]="LOADING";x[x.mH=2]="LOADED";x[x.WT=3]="LOAD_FAILED";})(u || (u={}));c.prototype.xba=function(){var x;x=this;if(this.j.state.value === q.ic.CLOSED || this.j.state.value === q.ic.CLOSING)return Promise.reject({ja:!1});if(this.Zl)return this.i1b();if(this.j.Kd.ta)return (this.state=u.LOADING,this.cbb());this.z5a || (this.z5a=this.B5a());return this.z5a.then(function(y){return x.cbb(y);});};c.prototype.getState=function(){return this.state;};c.prototype.Fq=function(){return this.YQ;};c.prototype.qp=function(){return this.YUb;};c.prototype.Zva=function(){var x;return (null === (x=this.N1) || void 0 === x?0:x.ready)?this.N1.f_:void 0;};c.prototype.Aq=function(x,y){var z;try{return null === (z=this.Zva()) || void 0 === z?void 0:z.Aq(x,y);}catch(B){this.log.error("error in getSubtitlesCount",B,{start:x,end:y,isImageBased:this.Zl});}};c.prototype.gZb=function(){var x,y,z;if(!(0,n.xd)(this.ca))try{z=null === (y=null === (x=this.Zva()) || void 0 === x?void 0:x.EJ(0)) || void 0 === y?void 0:y[0];this.ca=null === z || void 0 === z?void 0:z.displayTime;}catch(B){this.log.error("exception in getStartPts",B);}return this.ca;};c.prototype.ACa=function(x){var y,z,B,A;y=x.data;z=x.offset;x=x.W;(0,k.ya)(null === (B=this.j.ba) || void 0 === B?void 0:B.Ra.ll,"Live manifest is unavailable.");(0,k.ya)(null === (A=this.N1) || void 0 === A?void 0:A.f_,"Subtitle manager is unavailable");B=this.j.ba.Ra.ll;B=B.Hfa[B.a$[this.Tb]];A=B.duration / B.W * 1E3;z=1E3 * z / x;this.N1.f_.ACa({S:Number(B.BL) + Math.floor(z / A),xml:y,ca:z,Ta:z + A,size:y.length,v0:Number(B.lib) / B.W * 1E3});};c.prototype.Xfa=function(x){return this.j.state.value === q.ic.CLOSING || this.j.state.value === q.ic.CLOSED?(this.log.info("playback is closing, abort timed text retry",x),!1):this.j.Ob.value !== this?(this.log.info("timed text track was changed, abort timed text retry",x),!1):!0;};c.prototype.b4a=function(x){var y,z;y=this;z=(0,f.kj)(this.j,"TimedTextTrack");z.warn=z.trace.bind(z);z.info=z.debug.bind(z);z=(0,p.c4a)(this.j,z,this.request,this);x=new t.default(z,x);this.N1={f_:x,ready:!1};x.on("ready",function(){y.N1.ready=!0;});return x;};c.prototype.i1b=function(){var x,y,z,B,A,C,D;x=this;if(!this.$ab){this.state=u.LOADING;y={profile:"nflx-cmisc",url:"",U0a:!1,Vza:this.lw.offset,Veb:this.lw.length,re:this.j.mediaTime.value || 0,bufferSize:m.config.A0b,Ffa:{U:this.j.xY()}};z=(this.urls || []).map(function(E){return E.Kh;});B=0;A={};C=!0;D=function(E,G){var F;(0,n.xd)(E)?C || x.Xfa(x.Tv(x.Fv,"","image"))?(C=!1,x.lw.url=null === (F=x.haa(x.Fv)) || void 0 === F?void 0:F.url,y.url=x.lw.url,A[E]=(A[E] || 0) + 1,F=x.b4a(y),F.on("ready",function(){G({ja:!0,track:x});}),F.on("error",function(L){var O;L=Object.assign({ja:!1},L);O=x.Tv(x.Fv,x.lw.url,"image");O.details={midxoffset:x.lw.offset,midxsize:x.lw.length};O.errorstring=L.errorString;A[E] <= m.config.Tnb?(x.I$(O,!0,"retry with current cdn"),x.Tpa(A[E]).then(function(K){x.log.trace("retry timed text download after " + K,x.Tv(x.Fv,"","image"));D(x.Fv,G);})):(x.Fv=z[B++],x.Fv?(x.I$(O,!0,"retry with next cdn"),x.Tpa(A[E]).then(function(K){x.log.trace("retry timed text download after " + K,x.Tv(x.Fv,"","image"));D(x.Fv,G);})):(x.I$(O,!1,"all cdns tried"),G({ja:!1,I6b:"all cdns failed for image subs",track:x})));}),F.start()):G({ja:!1,aborted:!0}):(G({ja:!1,I6b:"cdnId is not defined for image subs downloadUrl"}),x.I$(x.Tv(0,"","image"),!1,"cdnId is undefined"));};this.Fv=z[B++];this.$ab=new Promise(function(E,G){D(x.Fv,function(F){F.ja?(x.log.info("Loaded image subtitle manager"),x.state=u.mH,E(F)):(x.log.error("Unable to load image subtitles manager",F),x.state=u.WT,G(F));});});}return this.$ab;};c.prototype.cbb=function(x){var y,z;y=this;z=this.j.SG.value;(0,k.ya)(z);(0,k.ya)(void 0 !== x || this.j.Kd.ta);return new Promise(function(B,A){var C;C=y.b4a({profile:y.profile,xml:x,bh:m.config.Unb,preferences:m.config.SFa,re:y.j.mediaTime.value || 0,U0a:!1,videoSize:z,ta:y.j.Kd.ta});C.on("ready",function(){B(C);}).on("error",function(D){A({ja:!1,error:D});}).start();}).then(function(){y.state=u.mH;return {ja:!0,track:y};}).catch(function(B){y.log.error("Unable to parse timed text track",(0,v.Mz)(B),y.Bh,{url:B.url});y.state=u.WT;B.reason="parseerror";B.track=y;throw B;});};c.prototype.I$=function(x,y,z){x=Object.assign({},x,{oyc:y,status:z});this.j.fireEvent(q.ka.sS,x);this.log.warn("subtitleerror event",x);};c.prototype.request=function(x,y){var z,B,A;z=this;this.log.trace("Downloading",x);A=this.haa(this.Fv);x={url:x.url,offset:x.offset,length:x.size,Gu:this.Gu,responseType:g.hZ,headers:{},Cc:A?{id:A.Kh}:void 0,PE:"tt-" + this.Of,uu:null !== (B=null === A || void 0 === A?void 0:A.type) && void 0 !== B?B:w.pU};this.j.oba.download(x,function(C){z.log.trace("imgsub: request status " + C.ja);C.ja?y(null,new Uint8Array(C.content)):y({Ca:C.Ca,Rf:C.Rf});});};c.prototype.Tv=function(x,y,z){return {currentCdnId:x,url:y,profile:this.profile,dlid:this.Tb,subtitletype:z,bcp47:this.Of,trackId:this.trackId,cdnCount:Object.keys(this.urls).length,isImageBased:this.Zl};};c.prototype.haa=function(x){return (this.urls || []).find(function(y){return y.Kh === x;});};c.prototype.B5a=function(){var B,A;function x(C){return l.__awaiter(B,void 0,void 0,function E(){var G,F,L;F=this;return Ka(E,function(O){G=z();L=F.Tv(C.Cc.Kh,C.url,"text");L.errorstring=C.reason;return G && F.Xfa(L)?O.return(F.Tpa(A[G.Kh]).then(y)):O.return(Promise.reject({ja:!1,aborted:!0}));});});}function y(){return l.__awaiter(B,void 0,void 0,function D(){var E,G,F;F=this;return Ka(D,function(L){E=z();G=null === E || void 0 === E?void 0:E.url;return E && G?(A[E.Kh]=(A[E.Kh] || 0) + 1,L.return(F.bRb(G,E).catch(x))):L.return(Promise.reject({}));});});}function z(){return (B.urls || []).find(function(C){return !!((A[C.Kh] || 0) < m.config.Tnb);});}B=this;this.state=u.LOADING;A={};return y();};c.prototype.Tpa=function(x){return new Promise(function(y){var z;z=1E3 * Math.min(Math.pow(2,x - 1),8);setTimeout(function(){return y(z);},z);});};c.prototype.bRb=function(x,y){var z;z=this;this.log.trace("Downloading",y && ({Cc:y.Kh}),this.Tv(y.Kh,x,"text"));return new Promise(function(B,A){var C,D;D={responseType:g.Mwa,url:x,track:z,Cc:{id:y.Kh},PE:"tt-" + z.Of,uu:null !== (C=y.type) && void 0 !== C?C:w.pU};z.j.oba.download(D,function(E){E.ja?B(E.content):(E=Object.assign(Object.assign({},E),{reason:"downloadfailed",url:D.url,track:z,Cc:y}),A(E));});});};Va.Object.defineProperties(c.prototype,{og:{configurable:!0,enumerable:!0,get:function(){return this.gob.og;}},dG:{configurable:!0,enumerable:!0,get:function(){return this.gob.dG;}}});b.GH=c;c.FD=u;},function(r){function b(a){this.buffer=a;this.position=0;}b.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},Kva:function(){return this.buffer.length - this.position;},CC:function(){return this.buffer[this.position++];},ol:function(a){var c;c=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(c,this.position):a.slice(c,this.position);},qs:function(a){for(var c=0;a--;){c=256 * c + this.buffer[this.position++];}return c;},HCa:function(a){for(var c="";a--;){c+=String.fromCharCode(this.buffer[this.position++]);}return c;},si:function(){return this.qs(2);},rs:function(){return this.qs(4);},CR:function(){return this.qs(8);},Xy:function(a){for(var c,l="";a--;){c=this.CC();l+=("0123456789ABCDEF")[c >>> 4] + ("0123456789ABCDEF")[c & 15];}return l;},ICa:function(a){for(var c=0,l=0;l < a;l++){c+=this.CC() << (l << 3);}return c;},BR:function(){return this.ICa(4);},N2:function(a){this.XS(a,2);},fD:function(a){this.XS(a,4);},xha:function(a){this.buffer[this.position++]=a;},XS:function(a,c){this.position+=c;for(var l=1;l <= c;l++){this.buffer[this.position - l]=a & 255;a=Math.floor(a / 256);}},eD:function(a){for(var c=0;c < a.length;c++){this.buffer[this.position++]=a.charCodeAt(c);}},M2:function(a){for(var c=a.length,l=0;l < c;l++){this.buffer[this.position++]=a[l];}},WS:function(a,c){this.M2(a.ol(c));}};r.exports=b;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UOa="LogMessageRulerConfigSymbol";b.WOa="LogMessageRulerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oka="MilestonesEventBuilderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Oka="PboLicenseResponseTransformerSymbol";},function(r,b,a){var d,f,h,k,n,p;function c(q,v,t,w){this.za=q;this.XY=v;this.Ia=t;this.profile=w;}function l(){}function g(){}function m(){}Object.defineProperty(b,"__esModule",{value:!0});b.bSa=b.h5=void 0;r=a(0);d=a(1);f=a(27);h=a(5);k=a(12);n=a(18);a=a(80);m.prototype.encode=function(q){return {downloadableId:q.Tb,duration:q.duration};};m.prototype.decode=function(q){return {Tb:q.downloadableId,duration:q.duration};};g.prototype.encode=function(q){return {total:q.total,totalContentTime:q.RL,totalAdDuration:q.KG,totalCombinedDuration:q.ES,totalOtherDuration:q.LG,totalStartSlateDuration:q.TL,totalLiveEdgeDuration:q.SL,audio:q.audio.map(new m().encode),video:q.video.map(new m().encode),text:q.text.map(new m().encode)};};g.prototype.decode=function(q){var v;return {total:q.total,RL:null !== (v=q.totalContentTime) && void 0 !== v?v:q.total,KG:q.totalAdDuration,ES:q.totalCombinedDuration,LG:q.totalOtherDuration,TL:q.totalStartSlateDuration,SL:q.totalLiveEdgeDuration,audio:q.audio.map(new m().decode),video:q.video.map(new m().decode),text:q.text.map(new m().decode)};};l.prototype.encode=function(q){return {streamingType:q.ih,href:q.href,xid:q.sa,movieId:q.L,position:q.position,clientTime:q.dB,sessionStartTime:q.oo,videoTrackId:q.TS,audioTrackId:q.iq,timedTextTrackId:q.BS,mediaId:q.GQ,playTimes:new g().encode(q.Py),trackId:q.trackId,sessionId:q.sessionId,appId:q.appId,sessionParams:q.no,profileId:q.profileId};};l.prototype.decode=function(q){return {ih:q.streamingType,href:q.href,sa:q.xid,L:q.movieId,position:q.position,dB:q.clientTime,oo:q.sessionStartTime,TS:q.videoTrackId,iq:q.audioTrackId,BS:q.timedTextTrackId,GQ:q.mediaId,Py:new g().decode(q.playTimes),trackId:q.trackId,sessionId:q.sessionId,appId:q.appId,no:q.sessionParams,profileId:q.profileId};};b.h5=l;c.prototype.create=function(q){var v,t,w,u,x,y,z,B;B=Object.assign(Object.assign({},null !== (v=q.lb.no) && void 0 !== v?v:{}),{uiVersion:this.XY().Mr.oz});v=null !== (t=q.Kd.ta?q.Kd.Oaa():q.rX) && void 0 !== t?t:0;return {href:q.ba && q.ba.Kj?q.ba.Kj.JP("events").href:"",ih:null !== (u=null === (w=q.ba) || void 0 === w?void 0:w.Ra.ih) && void 0 !== u?u:"VOD",sa:q.sa.toString(),L:q.L,position:Math.floor(v),dB:this.za.sL.ia(h.va),oo:q.SB?q.SB.ia(h.va):-1,TS:null === (x=q.Uh.value) || void 0 === x?void 0:x.trackId,iq:null === (y=q.Gc.value) || void 0 === y?void 0:y.trackId,BS:null === (z=q.Ob.value) || void 0 === z?void 0:z.trackId,GQ:void 0,Py:this.Cva(q),trackId:void 0 !== q.Dl?q.Dl.toString():"",sessionId:this.XY().sessionId || this.Ia.id,appId:this.XY().appId || this.Ia.id,no:B,profileId:this.profile};};c.prototype.load=function(q){return new l().decode(q);};c.prototype.Gva=function(q){return q.map(function(v){return {Tb:v.downloadableId,duration:v.duration};});};c.prototype.Cva=function(q){return (q=q.Tm)?(q=q.tYb(),{total:q.total,RL:q.totalContentTime,KG:q.totalAdDuration,LG:q.totalOtherDuration,ES:q.totalCombinedDuration,SL:q.totalLiveEdgeDuration,TL:q.totalStartSlateDuration,audio:this.Gva(q.audio),video:this.Gva(q.video),text:this.Gva(q.timedtext)}):{total:0,RL:0,KG:0,ES:0,LG:0,SL:0,TL:0,video:[],audio:[],text:[]};};p=c;p=r.__decorate([(0,d.$)(),r.__param(0,(0,d.l)(f.Hh)),r.__param(1,(0,d.l)(k.xc)),r.__param(2,(0,d.l)(n.jd)),r.__param(3,(0,d.l)(a.NM))],p);b.bSa=p;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hSa="PboPlaydataValidatorSymbol";b.ZRa="PboPlaydataArrayValidatorSymbol";b.aSa="PboPlaydataCollectionValidatorSymbol";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.Wja=void 0;b.Wja=a;a.ftb="display";a.xsb="console";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ola=b.MM=void 0;r=b.MM || (b.MM={});r.vic="taskstart";r.tic="taskabort";r.uic="taskfail";r.wic="tasksuccess";b.ola="PreparerTaskSchedulerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zia="CacheManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kIa="AsePrefetcherAdapterSymbol";b.lIa="AsePrefetcherProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Rka="PboPublisherSymbol";},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.FL=void 0;c=a(17);l=a(19);g=a(58);m=a(62);d=a(4);f=a(22);h=a(9);k=a(23);n=a(14);p=a(304);q=a(15);r=a(34);h.Ha.get(r.uj).register(d.aa.wNa,function(v){var u,x,y;function t(){var z;t=c.Wz;z=setInterval(w,l.config.n4b);g.Xe.addListener(g.Lm,function(B){B && B.isPopStateEvent?u.trace("popstate event, Lock timers can stay"):((0,k.zh)(x,function(A,C){localStorage.removeItem(C.Yt);}),clearInterval(z));},c.HM);}function w(){var z;z=(0,m.ora)();(0,k.zh)(x,function(B,A){!1;B=localStorage.getItem(A.Yt);(B=JSON.parse(B))?B.updated=z:B={updated:z,sessionId:y,count:1};localStorage.setItem(A.Yt,JSON.stringify(B));});}(0,f.ya)(p.storage);u=(0,h.lk)("StorageLock");x={};y=Date.now() + "-" + Math.floor(1E6 * Math.random());b.FL={Kx:function(z,B,A){var D,E,G,F,L,O,K,I,M,H;function C(J){localStorage.setItem(G,JSON.stringify(J));J={Yt:G};x[G]=J;u.trace("Lock acquired",{Name:J.Yt});t();B({ja:!0,xca:J});}D=this;A=void 0 === A?!1:A;if(localStorage){E=(0,m.ora)();G="lock-" + z;F={updated:E,sessionId:y,count:1};try{if((G in localStorage)){L=localStorage.getItem(G);O=0;K=JSON.parse(L);(0,q.FF)(K.updated) && (O=K.updated);I=(0,n.R4)(E - O) * c.Wu;M=y === K.sessionId;if(I < l.config.tdb){if(M)(K.count+=1,u.debug("Incremented lock count for existing playbackSession",{id:y,count:K.count}),K.updated=E,C(K));else if(A){H=l.config.tdb - I + c.Wu;u.error("Waiting until current expiration to confirm whether lock is still active",{id:y,count:K.count,Epoch:E,LockEpoch:O,waitTimeoutMs:H});mb.setTimeout(function(){return D.Kx(z,B,!1);},H);}else B({ja:!1});}else (u.error("Lock was expired or invalid, ignoring",{Epoch:E,LockEpoch:O}),C(F));}else C(F);}catch(J){u.error("Error acquiring Lock",{errorSubCode:d.Y.ln,errorDetails:(0,k.mf)(J)});B({ja:!0});}}else (n.Nya?u.error("Local storage access exception",{errorSubCode:d.Y.Byb,errorDetails:(0,k.mf)(n.Nya)}):u.error("No localstorage",{errorSubCode:d.Y.Cyb}),B({ja:!0}));},release:function(z,B){var A,C;(0,f.ya)(x[z.Yt] == z);if(localStorage){try{A=localStorage.getItem(z.Yt);C=JSON.parse(A);C && 1 < C.count?(--C.count,localStorage.setItem(z.Yt,JSON.stringify(C)),u.trace("Lock count decremented",{Name:z.Yt,count:C.count})):(localStorage.removeItem(z.Yt),delete x[z.Yt],u.trace("Lock released",{Name:z.Yt}));}catch(D){u.error("Unable to release Lock",{Name:z.Yt},D);}B && B(c.mh);}}};l.config.l$?b.FL.Kx("session",function(z){b.FL.jlb=z;v(c.mh);}):v(c.mh);});},function(r,b,a){var c,l,g,m,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;c=a(19);l=a(17);g=a(570);r=a(4);m=a(571);d=a(573);f=a(9);a=a(34);b.storage=b.storage || void 0;f.Ha.get(a.uj).register(r.aa.vNa,function(h){var k;switch(c.config.uhc){case "idb":k=m.Omb;break;case "none":k=g.Qmb;break;case "ls":k=d.Pmb;}k(function(n){n.ja?(b.storage=n.storage,h(l.mh)):h(n);});});},function(r,b,a){var g,m,d,f,h,k,n,p,q,v,t,w;function c(u,x){var z;function y(){function B(A,C){return C.Ye && 0 !== C.Ye.length && C.Ye[0].oK?(0,g.EC)(u,C).then(function(){z.trace("Successfully released license for session",JSON.stringify(C));return A?A.P0(C):Promise.resolve();}).catch(function(D){z.error("Unable to send stop command for session",JSON.stringify({kc:C,error:D}));throw D;}):(z.error("releaseDrmSession exception: missing valid keySessionData"),A?A.P0(C):Promise.resolve());}l(z).then(function(A){var C;C=A.d$.filter(function(D){return !1 === D.active;}).map(function(D){return B(A,D);});Promise.all(C).then(function(){z.info("release drm session completed for " + C.length + " entries");x(m.mh);}).catch(function(D){D=D || ({});D.DrmCacheSize=C.length;z.error("Unable to release one or more DRM session data",D);x(m.mh);});}).catch(function(A){z.error("Unable to load DRM session data",A);x(m.mh);});}z=(0,k.lk)("PlayDataManager");x=x || m.Wz;d.config.Hu?x(m.mh):y();}function l(u){var x;if(!b.Msa){x=k.Ha.get(n.Aia);b.Msa=new Promise(function(y,z){x.$ib().then(function(){y(x);}).catch(function(B){u.error("Unable to load DRM data for license release",B);z(B);});});}return b.Msa;}Object.defineProperty(b,"__esModule",{value:!0});b.uSa=b.tSa=b.Msa=void 0;g=a(306);m=a(17);d=a(19);f=a(58);h=a(49);k=a(9);r=a(4);n=a(227);p=a(151);q=a(16);v=a(50);t=a(34);w=a(220);b.tSa=function(u){var z,B,A,C,D,E;function x(){B || (u.Ze("pdsb"),B=k.Ha.get(p.uU)().then(function(G){C=G;u.Ze("pdsc");return G;}).catch(function(G){z.error("Unable to initialize the playdata services",G);u.Ze("pdse");throw G;}));return B;}function y(){A=!0;C && C.close();f.Xe.removeListener(f.Lm,y);}z=(0,k.kj)(u,"PlayDataManager");A=!1;D=k.Ha.get(h.j5);if(!D.rM || !D.pM){E=k.Ha.get(w.Xka)();D.rM=E.kc;D.pM=E.request;}u.Ze("pdctor");u.addEventListener(q.ka.uh,function(){f.Xe.removeListener(f.Lm,y);});u.addEventListener(q.ka.TZ,function(){var G;if(!d.config.Hu && u.We){G=u.n9.G3a();l(z).then(function(F){return F.v_a(G);}).catch(function(){z.error("Unable to load/add cached DRM data");});}});u.addEventListener(q.ka.uh,function(){var G;if(!A){u.Olc();G=[(function(){return d.config.Hu || !u.We?Promise.resolve():new Promise(function(F){var L;z.info("Sending the expedited playdata");L=u.n9.G3a();u.We.E6a(L).then(function(){z.info("Sent the expedited playdata");return l(z);}).then(function(O){return O?O.P0(L):Promise.resolve();}).then(function(){F(void 0);}).catch(function(O){z.error("Unable to send the expedited playdata",O);F();});});})(),(function(){return x().then(function(F){return F.K1(u.ha);}).then(function(){z.info("Sent the playdata");}).catch(function(F){z.error("Unable to send the playdata",F);});})(),(function(){return new Promise(function(F){k.Ha.get(v.Do).flush(!1).catch(function(){z.error("Unable to send logblob");F(void 0);}).then(function(){F(void 0);});});})()];Promise.all(G).then(function(){u.Fda();}).catch(function(){u.Fda();});}});f.Xe.addListener(f.Lm,y);return {};};b.uSa=function(){return new Promise(function(u){c({},function(x){u(x);});});};k.Ha.get(t.uj).register(r.aa.sD,function(u){u(m.mh);});},function(r,b,a){var g,m,d,f,h,k,n,p;function c(q){this.j=q;this.adb=!1;this.log=(0,m.kj)(this.j,"Playback");this.vQ=m.Ha.get(n.XT);(0,d.ya)(g.config);g.config.Hu || (this.lRb=m.Ha.get(f.TKa));}function l(q,v){var w;function t(u){return u && 0 < u.length && u[0].oK;}w=m.Ha.get(n.XT);return q.sa && t(q.Ye)?w.release({sa:q.sa,Ye:q.Ye}).then(function(){}):v.sa && t(v.Ye)?w.release(v).then(function(){}):Promise.resolve();}Object.defineProperty(b,"__esModule",{value:!0});b.EC=b.ZJa=void 0;g=a(19);m=a(9);d=a(22);f=a(343);h=a(56);k=a(15);n=a(203);p=a(16);c.prototype.IJ=function(q){var v;v=this;return new Promise(function(t,w){var u,x,y;u=h.Co.y3a(q.Og);x=q.Yk.map(function(z){return {sessionId:z.sessionId,dataBase64:(0,m.SA)(z.data)};});y=v.j.vYb(q.Yk[0].sessionId);v.vQ.Kx({fh:y.fh,Og:k.is.Qo(q.Og)?q.Og:u,c$:[y.Hm],Yk:x,sa:y.sa,cp:q.cp,Kj:y.ba.Kj,ih:y.ba.Ra.ih}).then(function(z){v.j.Ye=z.Ye;t(z);v.yUb(y);}).catch(w);});};c.prototype.release=function(q){return l(this.j,q);};c.prototype.G3a=function(){var q;q=this.lRb.create();q.Ye=this.j.Ye;q.sa=this.j.sa;q.L=this.j.L;return q;};c.prototype.yUb=function(q){this.adb || (this.adb=!0,this.j.fireEvent(p.ka.TZ,{L:q.L}));};b.ZJa=c;b.EC=l;},function(r,b,a){var g,m,d,f,h,k,n,p,q,v,t,w;function c(u){u=Error.call(this,u);this.message=u.message;("stack" in u) && (this.stack=u.stack);this.name="CodecSwitchingError";}function l(u,x,y,z){var B,A;B=this;this.j=u;this.type=x;this.log=z;this.M6=new d.ec(!1);this.QH={data:[],state:"",operation:""};this.mimeType=this.H6a((this.type === w.u.J?this.j.Uh.value:this.j.Gc.value).streams);this.Jl=new f.Gk();this.Kna={Type:this.type};if(m.config.KF){A=!0;this.cua=new d.ec(!1);}this.log.trace("Adding source buffer",this.Kna,{TypeId:this.mimeType});this.Gd=y.addSourceBuffer(this.mimeType);this.Gd.addEventListener("updatestart",function(){!1;B.QH.state="updatestart";});this.Gd.addEventListener("update",function(){!1;B.QH.state="update";});this.Gd.addEventListener("updateend",function(){var C;!1;B.M6.set(!1);B.gXa && B.gXa();B.QH.state="updateend";C=0;try{C=B.Gd.buffered.length;}catch(D){}A && C && (A=!1,B.cua.set(!0),!1);});this.Gd.addEventListener("error",function(C){var D;!1;try{D=C.target.error && C.target.error.message;(C.message || D) && z.error("error event received on sourcebuffer",{mediaErrorMessage:C.message});}catch(E){}u.Sd(k.aa.Exb,(0,g.paa)(B.type));});this.Gd.addEventListener("abort",function(){!1;});u.addEventListener(q.ka.closed,function(){B.Gd=void 0;});}Object.defineProperty(b,"__esModule",{value:!0});b.Gsb=b.lka=void 0;g=a(177);m=a(19);d=a(74);f=a(70);h=a(9);a(100);k=a(4);a(5);n=a(22);p=a(15);q=a(16);v=a(163);t=a(208);w=a(48);l.prototype.Li=function(){return this.M6.value;};l.prototype.updating=function(){return this.Gd?this.Gd.updating:!1;};l.prototype.Qfa=function(u){this.gXa=u;};l.prototype.Sua=function(){return this.QH;};l.prototype.buffered=function(){return this.Gd.buffered;};l.prototype.toString=function(){return "SourceBuffer (type: " + this.type + ")";};l.prototype.toJSON=function(){return {type:this.type};};l.prototype.Mua=function(){var u,z,B;try{u=this.Gd.buffered;if(u){for(var x=[],y=0;y < u.length;y++){z=1E3 * u.start(y);B=1E3 * u.end(y);(0,n.ya)(B > z);x.push({start:z,end:B});}return x;}}catch(A){}};l.prototype.faa=function(){var u,x;u=this.Mua();if(u){u=u.map(function(y){return {start:y.start / 1E3,end:y.end / 1E3};});x=u.reduce(function(y,z){return y + z.end - z.start;},0);u=u.map(function(y){return y.start + "-" + y.end;});return {Buffered:x.toFixed(3),Ranges:u.join("|")};}};l.prototype.l0a=function(u,x){!1;try{(0,n.ya)(this.Gd.buffered && 1 >= this.Gd.buffered.length,"Gaps in media are not allowed: " + JSON.stringify(this.faa()));}catch(y){}(0,n.ya)(!this.Li());this.Xlb("append",u);x=x && x.Dw / 1E3;(0,p.Qa)(x) && this.Gd.timestampOffset !== x && (!1,this.Gd.timestampOffset=x);this.Gd.appendBuffer(u);!1;this.M6.set(!0);};l.prototype.remove=function(u,x){(0,n.ya)(!this.Li());try{this.Xlb("remove");!1;this.Gd.remove(u,x);this.M6.set(!0);}catch(y){this.log.error("SourceBuffer remove exception",y,this.Kna);}};l.prototype.Xlb=function(u,x){this.QH.data=x || [];this.QH.state="init";this.QH.operation=u;};l.prototype.Vfa=function(u,x){this.p3b=u / x * 1E3;};l.prototype.gKb=function(u){var x;if(this.Gd){if((u=this.H6a([{type:this.TLb,kf:u}]),u !== this.mimeType)){x=this.mimeType;this.log.info("Changing SourceBuffer mime-type from: " + this.mimeType + " to: " + u);if(!this.Gd.changeType)throw new c("Platform doesnt support changing SourceBuffer mime-type");try{this.Gd.changeType(u);this.mimeType=u;}catch(y){throw (this.log.error("Error changing SourceBuffer type",y,this.Kna,{From:x,To:u}),new c(y.message));}}}else this.log.info("No SourceBuffer");};l.prototype.appendBuffer=function(u,x){!x || x.Hc?this.wpa(u,x):this.k8(u,x);return !0;};l.prototype.wpa=function(u,x){this.j.pf.wpa(this,u,x || ({}));};l.prototype.k8=function(u,x){u=this.OLb(u,x);!1;this.j.pf.k8(u);};l.prototype.OLb=function(u,x){var y;y=this.p3b || 0;return {SKb:function(){this.response=void 0;},Mi:function(){return this.requestId;},constructor:{name:"MediaRequest"},mediaType:this.mediaType,readyState:t.Fc.cd.DONE,AC:x.ca,Cw:x.ca + x.duration,Qn:x.duration,Dw:y,$k:x.$k,S:x.S,Sa:x.Sa,$c:+x.$c,location:x.location,CO:x.offset,AO:x.offset + x.ga - 1,bitrate:x.bitrate,response:u,T$a:u && 0 < u.byteLength,CF:!0,get Hc() {return !this.CF;},Ukb:this.Nk - Math.floor(y) || Infinity,toJSON:function(){var z;z={requestId:this.requestId,segmentId:this.S,isHeader:this.Hc,ptsStart:this.AC,ptsOffset:this.Dw,responseType:this.$rc,duration:this.Qn,readystate:this.Fi};this.stream && (z.bitrate=this.stream.bitrate);return JSON.stringify(z);}};};l.prototype.endOfStream=function(){var u;this.j.wI("EndOfStream");null === (u=this.j.pf) || void 0 === u?void 0:u.J_(this.mediaType);};l.prototype.Bmb=function(u){this.xEb=u;};l.prototype.addEventListener=function(u,x,y){this.Jl.addListener(u,x,y);};l.prototype.removeEventListener=function(u,x){this.Jl.removeListener(u,x);};l.prototype.H6a=function(u){var x;x=h.Ha.get(v.DU);return this.type === w.u.J?x.y9(u):x.s9(u);};Va.Object.defineProperties(l.prototype,{mediaType:{configurable:!0,enumerable:!0,get:function(){return this.type;}},Cmb:{configurable:!0,enumerable:!0,get:function(){return this.xEb;}},TLb:{configurable:!0,enumerable:!0,get:function(){return 0 === this.type?"audio":"video";}}});b.lka=l;ka(c,Error);b.Gsb=c;},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});b.j4a=b.iza=void 0;c=a(22);l=a(23);g=a(15);(function(){var d,f,h;function m(k){(0,c.ya)(void 0 !== d[k]);return d[k];}d={'"':'""',"\r":"","\n":" "};f=/["\r\n]/g;h=/[", ]/;b.j4a=function(k){return (0,g.xd)(k)?(0,g.Qa)(k)?k:(0,g.Ng)(k)?k.replace(f,m):(0,g.vbb)(k)?k:isNaN(k)?"NaN":"":"";};b.iza=function(k){var n,p;n=b.j4a;p="";(0,l.zh)(k,function(q,v){q=n(q) + "=" + n(v);h.test(q) && (q='"' + q + '"');p=p?p + ("," + q):q;});return p;};})();},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ik=void 0;r=b.Ik || (b.Ik={});r[r.wmb=1]="sourceopen";r[r.oq=2]="currentTimeChanged";r[r.g1=3]="seeked";r[r.$cb=5]="licenseadded";r[r.umb=6]="sourceBuffersAdded";r[r.Vda=7]="onNeedKey";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Oha={EFb:"adStart",p_a:"adProgress",gsc:"adComplete",FFb:"adStop"};b.pHa={nE:"adBreakComplete"};b.Pha={error:"error",iTb:"exit",Job:"unload"};b.vHa="AdImpressionLoggerrFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nha="AdEventPboCommandSymbol";b.Mha="AdBreakEventPboCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lla="PlaygraphManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.nla="PlaygraphVideoPlayerFactorySymbol";},function(r,b,a){var l,g,m;function c(d,f){var h;h=this;this.nj=d;this.Qh=f;this.addEventListener=function(k,n,p){return h.Qh.addListener(k,h.G4a(k,n),p);};this.removeEventListener=function(k,n){return h.Qh.removeListener(k,h.G4a(k,n));};this.getReady=function(){return h.Qh.isReady();};this.getXid=function(){return h.Jb().Vv();};this.getMovieId=function(){return h.Jb().G9a();};this.getPlaygraphId=function(){return h.Qh.xYb();};this.getElement=function(){return h.Qh.kp();};this.isPlaying=function(){return h.Jb().Zr();};this.isPaused=function(){return h.Jb().fw();};this.isMuted=function(){return h.Jb().Lxa();};this.isReady=function(){return h.Jb().isReady();};this.isBackground=function(){return h.Jb().ubb();};this.setBackground=function(k){return h.Jb().qEa(k);};this.startInactivityMonitor=function(){return h.Jb().mS();};this.setTransitionTime=function(k){return h.Jb().GEa(k);};this.getDiagnostics=function(){return h.Jb().E8a();};this.getTextTrackList=function(k){return h.Jb().cwa(k);};this.getMaxRecommendedTextIndex=function(k){return h.Jb().rva(k);};this.getTextTrack=function(){return h.Jb().bwa();};this.setTextTrack=function(k){return h.Jb().CEa(k);};this.getVolume=function(){return h.Jb().C$a();};this.isEnded=function(){return h.Jb().Axa();};this.getBusy=function(){return h.Jb().Li();};this.getError=function(){return h.Jb().getError();};this.getCurrentTime=function(){return h.Jb().fF();};this.getAdManager=function(){return h.Jb().wq();};this.getLivePlaybackManager=function(){var k;k=h.Jb().Un();(0,g.ya)(k,"Unexpected call to getLivePlaybackManager()");if(k.ta && !h.lua && !h.mua.includes(h.getMovieId()))return {seekToLiveEdge:function(){return k.ZDa();},isAtLiveEdge:function(){return k.BF();},getLiveEventState:function(){return k.iF();},isLiveEventEnded:function(){return k.Kxa();}};};this.getBufferedTime=function(){return h.Jb().k8a();};this.getSegmentTime=function(){return h.Jb().jaa();};this.getDuration=function(){return h.Jb().Qua();};this.getVideoSize=function(){return h.Jb().B$a();};this.getAudioTrackList=function(){return h.Jb().b8a();};this.getMaxRecommendedAudioIndex=function(){return h.Jb().A9a();};this.getAudioTrack=function(){return h.Jb().a8a();};this.getTimedTextTrackList=function(k){return h.Jb().cwa(k);};this.getMaxRecommendedTimedTextIndex=function(k){return h.Jb().rva(k);};this.getTimedTextTrack=function(){return h.Jb().bwa();};this.getAdditionalLogInfo=function(){return h.Jb().Z7a();};this.getTrickPlayFrame=function(k){return h.Jb().y$a(k);};this.getSessionSummary=function(){return h.Jb().Tva();};this.getTimedTextSettings=function(){return h.Jb().TY();};this.setMuted=function(k){return h.Jb().Clb(k);};this.setVolume=function(k){return h.Jb().Slb(k);};this.getPlaybackRate=function(){return h.Jb().Jt();};this.setPlaybackRate=function(k){return h.Jb().Elb(k);};this.setAudioTrack=function(k){return h.Jb().mlb(k);};this.setTimedTextTrack=function(k){return h.Jb().CEa(k);};this.setTimedTextSettings=function(k){return h.Jb().dS(k);};this.prepare=function(){return h.Jb().ZK();};this.load=function(){return h.Jb().load();};this.close=function(k){return h.p0a(h.Qh.close(),k);};this.play=function(){return h.Jb().play();};this.pause=function(){return h.Jb().pause();};this.seek=function(){throw Error("Seek by graph position has not been implemented");};this.transition=function(){throw Error("Transition segment has not been implemented");};this.engage=function(k,n){return h.p0a(h.Jb().lP(k),n);};this.induceError=function(k){return h.Jb().Qab(k);};this.loadCustomTimedTextTrack=function(k,n,p,q){return h.Jb().kdb(k,n,p,q);};this.tryRecoverFromStall=function(){};this.getCropAspectRatio=function(){return h.Jb().kaa();};this.generateScreenshots=function(k){return h.Jb().U7a(k);};this.getCurrentSegmentId=function(){return h.Qh.B8a();};this.getPlaygraphMap=function(){return h.Qh.OJ();};this.updatePlaygraphMap=function(k){return h.Qh.Qw(k);};this.uta=new Map();this.log=(0,l.lk)("VideoPlayer");d=l.Ha.get(m.xc);this.lua=d().lua;this.mua=d().mua;Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics});}Object.defineProperty(b,"__esModule",{value:!0});b.T5=void 0;l=a(9);a(100);g=a(22);m=a(12);c.prototype.Jb=function(){return this.Qh.Jb();};c.prototype.G4a=function(d,f){var h;this.uta.has(d) || this.uta.set(d,new Map());h=this.uta.get(d);h.has(f) || h.set(f,this.BPb(d,f));return h.get(f);};c.prototype.BPb=function(d,f){var h;h=this;return function(k){return f(Object.assign({},k,{type:d,target:h}));};};c.prototype.p0a=function(d,f){return f?d.then(f,f):d;};b.T5=c;},function(r,b,a){b=a(131);r.exports="undefined" !== typeof b && "undefined" !== typeof nrdp?nrdp.fa:Date.now;},function(r){r.exports={Ez:{Ula:0,oUa:1,um:2,name:["transient","semiTransient","permanent"]},zz:{SLa:0,nUa:1,z5:2,rU:3,Xz:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},Erc:{rrc:0,qpc:1,Fnc:2,Xz:100,name:["trailer","montage","content"]},dx:{hOa:0,TTa:1,$yb:2,Etb:3,Xz:100,name:["left","right","up","down"]},UT:{Csb:0,z5:1,Zoc:2,toc:3,Zmc:4,Yoc:5,trb:6,Xz:100,name:("continueWatching search grid episode billboard genre bigRow").split(" ")},wM:{rU:0,gKa:1,Xz:100,name:["playFocused","detailsOpened"]}};},function(r,b,a){var c,l,g,m,d,f;c=a(609);l="function" === typeof Symbol && "symbol" === typeof Symbol("foo");g=Object.prototype.toString;m=Array.prototype.concat;d=Object.defineProperty;b=a(319)();f=d && b;r.exports=function(h,k){var n,p,v,t,w,u;n=2 < arguments.length?arguments[2]:{};p=c(k);l && (p=m.call(p,Object.getOwnPropertySymbols(k)));for(var q=0;q < p.length;q+=1){v=h;t=p[q];w=k[p[q]];u=n[p[q]];if(!((t in v)) || "function" === typeof u && "[object Function]" === g.call(u) && u())f?d(v,t,{configurable:!0,enumerable:!1,value:w,writable:!0}):v[t]=w;}};},function(r){var b;b=Object.prototype.toString;r.exports=function(a){var c,l;c=b.call(a);l="[object Arguments]" === c;l || (l="[object Array]" !== c && null !== a && "object" === typeof a && "number" === typeof a.length && 0 <= a.length && "[object Function]" === b.call(a.callee));return l;};},function(r,b,a){var l;function c(){if(l)try{return (l({},"a",{value:1}),!0);}catch(g){}return !1;}l=a(40)("%Object.defineProperty%",!0);c.n_b=function(){if(!c())return null;try{return 1 !== l([],"length",{value:1}).length;}catch(g){return !0;}};r.exports=c;},function(r,b,a){var c,l;c="undefined" !== typeof Symbol && Symbol;l=a(321);r.exports=function(){return "function" !== typeof c || "function" !== typeof Symbol || "symbol" !== typeof c("foo") || "symbol" !== typeof Symbol("bar")?!1:l();};},function(r){r.exports=function(){var b,a,c;if("function" !== typeof Symbol || "function" !== typeof Object.getOwnPropertySymbols)return !1;if("symbol" === typeof Symbol.iterator)return !0;b={};a=Symbol("test");c=Object(a);if("string" === typeof a || "[object Symbol]" !== Object.prototype.toString.call(a) || "[object Symbol]" !== Object.prototype.toString.call(c))return !1;b[a]=42;for(a in b){return !1;}if("function" === typeof Object.keys && 0 !== Object.keys(b).length || "function" === typeof Object.getOwnPropertyNames && 0 !== Object.getOwnPropertyNames(b).length)return !1;c=Object.getOwnPropertySymbols(b);return 1 !== c.length || c[0] !== a || !Object.prototype.propertyIsEnumerable.call(b,a) || "function" === typeof Object.getOwnPropertyDescriptor && (b=Object.getOwnPropertyDescriptor(b,a),42 !== b.value || !0 !== b.enumerable)?!1:!0;};},function(r,b,a){var c,l,g,m,d,f;c=a(614);l=a(615);g=a(617);m=a(142);d=a(324);f=a(627);r.exports=function(h){var k;h=g(h);if(m(h) || 0 === h)return 0;if(!d(h))return h;k=l(c(h));return 0 === k?0:f(h) * k;};},function(r){var l,g,m,d,f,h,k,n;function b(){return !1;}function a(p){try{if(c(p))return !1;l.call(p);return !0;}catch(q){return !1;}}function c(p){var q;try{q=l.call(p);return f.test(q);}catch(v){return !1;}}l=Function.prototype.toString;g="object" === typeof Reflect && null !== Reflect && Reflect.apply;if("function" === typeof g && "function" === typeof Object.defineProperty)try{m=Object.defineProperty({},"length",{get:function(){throw d;}});d={};g(function(){throw 42;},null,m);}catch(p){p !== d && (g=null);}else g=null;f=/^\s*class\b/;h=Object.prototype.toString;k="function" === typeof Symbol && !!Symbol.toStringTag;n=!((0 in [,]));"object" === typeof document && h.call(document.all) === h.call(document.all) && (b=function(p){var q;if(!(!n && p || "undefined" !== typeof p && "object" !== typeof p))try{q=h.call(p);return ("[object HTMLAllCollection]" === q || "[object HTML document.all class]" === q || "[object HTMLCollection]" === q || "[object Object]" === q) && null == p("");}catch(v){}return !1;});r.exports=g?function(p){if(b(p))return !0;if(!p || "function" !== typeof p && "object" !== typeof p)return !1;try{g(p,null,m);}catch(q){if(q !== d)return !1;}return !c(p) && a(p);}:function(p){var q;if(b(p))return !0;if(!p || "function" !== typeof p && "object" !== typeof p)return !1;if(k)return a(p);if(c(p))return !1;q=h.call(p);return "[object Function]" === q || "[object GeneratorFunction]" === q || (/^\[object HTML/).test(q)?a(p):!1;};},function(r,b,a){var c;c=a(142);r.exports=function(l){return ("number" === typeof l || "bigint" === typeof l) && !c(l) && Infinity !== l && -Infinity !== l;};},function(r,b,a){r.exports=a(323);},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);r=(function(){function l(){}l.prototype.y8a=function(g){var m;m=Reflect.getMetadata(c.Aka,g);g=Reflect.getMetadata(c.vVa,g);return {Y2a:m,flc:g || ({})};};l.prototype.FYb=function(g){return Reflect.getMetadata(c.wVa,g) || [];};return l;})();b.nka=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);b.acb=function(l){return l instanceof RangeError || l.message === c.wyb;};},function(r,b,a){var c,l,g,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);l=a(41);g=a(67);m=a(97);r=(function(){function d(f){this.Vzb=f;}d.prototype.Zjc=function(){return this.Vzb();};return d;})();b.Oja=r;b.l=function(d){return function(f,h,k){var n;if(void 0 === d)throw Error(c.Yyb(f.name));n=new g.Metadata(l.ST,d);"number" === typeof k?m.JL(f,h,k,n):m.X1(f,h,n);};};},function(r,b,a){var c,l,g,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);l=a(109);g=a(67);m=a(661);r=(function(){function d(f,h,k,n){this.id=l.id();this.type=f;this.Eh=k;this.name=new m.$xb(h || "");this.gd=[];f=null;"string" === typeof n?f=new g.Metadata(c.wD,n):n instanceof g.Metadata && (f=n);null !== f && this.gd.push(f);}d.prototype.aab=function(f){for(var h=0,k=this.gd;h < k.length;h++){if(k[h].key === f)return !0;}return !1;};d.prototype.isArray=function(){return this.aab(c.qH);};d.prototype.e5b=function(f){return this.tza(c.qH)(f);};d.prototype.Mxa=function(){return this.aab(c.wD);};d.prototype.Yxa=function(){return this.gd.some(function(f){return f.key !== c.ST && f.key !== c.qH && f.key !== c.T4 && f.key !== c.HU && f.key !== c.wD;});};d.prototype.Obb=function(){return this.tza(c.QQa)(!0);};d.prototype.YXb=function(){return this.Mxa()?this.gd.filter(function(f){return f.key === c.wD;})[0]:null;};d.prototype.BWb=function(){return this.Yxa()?this.gd.filter(function(f){return f.key !== c.ST && f.key !== c.qH && f.key !== c.T4 && f.key !== c.HU && f.key !== c.wD;}):null;};d.prototype.tza=function(f){var h;h=this;return function(k){var q;for(var n=0,p=h.gd;n < p.length;n++){q=p[n];if(q.key === f && q.value === k)return !0;}return !1;};};return d;})();b.M5=r;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(218);l=a(219);r=(function(){function g(m){this.Lc=m;this.PU=new l.mia(this.Lc);this.sma=new c.f3(this.Lc);}g.prototype.when=function(m){return this.PU.when(m);};g.prototype.K2=function(){return this.PU.K2();};g.prototype.Ky=function(m){return this.sma.Ky(m);};return g;})();b.YG=r;},function(r,b,a){var g;function c(m){return function(d){function f(h){return null !== h && null !== h.target && h.target.tza(m)(d);}f.Peb=new g.Metadata(m,d);return f;};}function l(m,d){m=m.rC;return null !== m?d(m)?!0:l(m,d):!1;}Object.defineProperty(b,"__esModule",{value:!0});r=a(41);g=a(67);b.tob=l;b.vnb=c;a=c(r.wD);b.zfb=a;b.Bob=function(m){return function(d){var f;if(null !== d){f=d.MW[0];return "string" === typeof m?f.Eh === m:m === d.MW[0].Xn;}return !1;};};},function(r,b,a){var g;function c(m,d){this.kh=d;this.aC=Math.floor(m);this.display=this.aC + " " + this.kh.name;}function l(m,d,f){this.kh=m;this.name=d;this.Hr=f?f:this;(0,g.Hq)(this,"base");}Object.defineProperty(b,"__esModule",{value:!0});b.Yu=b.IU=void 0;g=a(54);l.prototype.$X=function(m){return this.kh == m.kh;};l.prototype.toJSON=function(){return this.name;};b.IU=l;c.prototype.ia=function(m){return this.kh.$X(m)?this.aC:Math.floor(this.aC * this.kh.kh / m.kh);};c.prototype.dib=function(m){return this.kh.$X(m)?this.aC:this.aC * this.kh.kh / m.kh;};c.prototype.as=function(m){return new c(this.ia(m),m);};c.prototype.to=function(m){return new c(this.ia(m),m);};c.prototype.toString=function(){return this.display;};c.prototype.toJSON=function(){return {magnitude:this.aC,units:this.kh.name};};c.prototype.add=function(m){return this.R2a(m);};c.prototype.Ga=function(m){return this.R2a(m,function(d){return -d;});};c.prototype.scale=function(m){return new c(this.ia(this.kh.Hr) * m,this.kh.Hr);};c.prototype.Fm=function(m){return this.ia(this.kh.Hr) - m.ia(this.kh.Hr);};c.prototype.$X=function(m){return 0 == this.Fm(m);};c.prototype.lcb=function(){return 0 == this.aC;};c.prototype.Nxa=function(){return 0 > this.aC;};c.prototype.Vbb=function(){return 0 < this.aC;};c.prototype.R2a=function(m,d){d=void 0 === d?function(f){return f;}:d;return new c(this.ia(this.kh.Hr) + d(m.ia(this.kh.Hr)),this.kh.Hr);};b.Yu=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rSa="PlatformConfigOverridesSymbol";},function(r){r.exports=function(b){return "[object Object]" === Object.prototype.toString.call(b);};},function(r,b,a){var c,l,g,m,d,f;b=a(53);c=a(336);l=a(688);g=a(334);m=a(222);d=a(693);f=a(339);a=b(c(["filter"],d,function(h,k){return g(k)?m(function(n,p){h(k[p]) && (n[p]=k[p]);return n;},{},f(k)):l(h,k);}));r.exports=a;},function(r,b,a){var c,l;c=a(337);l=a(687);r.exports=function(g,m,d){return function(){var f,h;if(0 === arguments.length)return d();f=Array.prototype.slice.call(arguments,0);h=f.pop();if(!c(h)){for(var k=0;k < g.length;){if("function" === typeof h[g[k]])return h[g[k]].apply(h,f);k+=1;}if(l(h))return m.apply(null,f)(h);}return d.apply(this,arguments);};};},function(r){r.exports=Array.isArray || (function(b){return null != b && 0 <= b.length && "[object Array]" === Object.prototype.toString.call(b);});},function(r){r.exports={oa:function(){return this.O2["@@transducer/init"]();},result:function(b){return this.O2["@@transducer/result"](b);}};},function(r,b,a){var c,l,g,m,d;b=a(125);c=a(221);l=a(694);g=!({toString:null}).propertyIsEnumerable("toString");m=("constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString").split(" ");d=(function(){return arguments.propertyIsEnumerable("length");})();a=b("function" !== typeof Object.keys || d?function(f){var h,k,n,p;if(Object(f) !== f)return [];h=[];k=d && l(f);for(n in f){!c(n,f) || k && "length" === n || (h[h.length]=n);}if(g)for(k=m.length - 1;0 <= k;){n=m[k];if(p=c(n,f)){a:{for(p=0;p < h.length;){if(h[p] === n){p=!0;break a;}p+=1;}p=!1;}p=!p;}p && (h[h.length]=n);--k;}return h;}:function(f){return Object(f) !== f?[]:Object.keys(f);});r.exports=a;},function(r){r.exports=function(b,a){for(var c=0,l=a.length,g=Array(l);c < l;){g[c]=b(a[c]);c+=1;}return g;};},function(r,b,a){var c,l,g;c=a(223);l=a(125);b=a(53);g=a(697);a=b(function(m,d){return 1 === m?l(d):c(m,g(m,[],d));});r.exports=a;},function(r){r.exports=function(b,a,c){for(var l=0,g=c.length;l < g;){if(b(a,c[l]))return !0;l+=1;}return !1;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TKa="DrmDataFactorySymbol";},function(r,b,a){var l;function c(g,m,d,f,h){this.version=g;this.SK=m;this.pFa=d;this.$m=f;this.Ow=h;this.mm=new l.INa(g,m,d,f,h);this.Hn=[];}Object.defineProperty(b,"__esModule",{value:!0});b.Cja=void 0;l=a(721);c.prototype.load=function(g){var m;m=this;return this.mm.load(g).then(function(){var d;m.Hn=null !== (d=m.mm.Hn) && void 0 !== d?d:[];});};c.prototype.add=function(g){this.Hn.push(g);return this.mm.set(this.Hn);};c.prototype.remove=function(g,m){g=this.o8a(this.DP(g,m));return 0 <= g?(this.Hn.splice(g,1),this.mm.set(this.Hn)):Promise.resolve();};c.prototype.update=function(g,m){m=this.o8a(this.DP(g,m));return 0 <= m?(this.Hn[m]=g,this.mm.set(this.Hn)):Promise.resolve();};c.prototype.DP=function(g,m){for(var d=0;d < this.Hn.length;++d){if(m(this.Hn[d],g))return this.Hn[d];}};c.prototype.o8a=function(g){return g?this.Hn.indexOf(g):-1;};b.Cja=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GWa=["AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA=="];b.WLa=["c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFBcDVKNTB0Qml4WTVMaTNYSGJFc3dKdDdybTdhdEExVWpPMkw3Q1ArckJYTT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFCczgwL0dQUmxsNXEweHl3bHhac1Nya3hjMndPRHZpWWNCMmJoWDdQOTNHQT0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFDcWNFL25GeU0waXVKY1pKSi9xTkl3T0xJaGFCdnB4WEpDNGtyV2VpaGJBOD0=","c2tkOi8vbmV0ZmxpeC9BQUFBQkFBQUFBQUV3MzFFamVRbC8rZTBLYWpjSEhZQkt1U0hkb21BdXhmSGlWUTNZYTFpRGJqYjF5Zz0="];b.xSa=["AAADPHBzc2gAAAAAmgTweZhAQoarkuZb4IhflQAAAxwcAwAAAQABABIDPABXAFIATQBIAEUAQQBEAEUAUgAgAHgAbQBsAG4AcwA9ACIAaAB0AHQAcAA6AC8ALwBzAGMAaABlAG0AYQBzAC4AbQBpAGMAcgBvAHMAbwBmAHQALgBjAG8AbQAvAEQAUgBNAC8AMgAwADAANwAvADAAMwAvAFAAbABhAHkAUgBlAGEAZAB5AEgAZQBhAGQAZQByACIAIAB2AGUAcgBzAGkAbwBuAD0AIgA0AC4AMgAuADAALgAwACIAPgA8AEQAQQBUAEEAPgA8AFAAUgBPAFQARQBDAFQASQBOAEYATwA+ADwASwBJAEQAUwA+ADwASwBJAEQAIABBAEwARwBJAEQAPQAiAEEARQBTAEMAVABSACIAIABWAEEATABVAEUAPQAiAEEAQQBBAEEAQQBNAFkARQB4AEkARQBBAEEAQQBBAEEAQQBBAEEAQQBBAEEAPQA9ACIAPgA8AC8ASwBJAEQAPgA8AC8ASwBJAEQAUwA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEwAQQBfAFUAUgBMAD4AaAB0AHQAcAA6AC8ALwBjAGEAcABwAHIAcwB2AHIAMAA2AC8AcwBpAGwAdgBlAHIAbABpAGcAaAB0ADUALwByAGkAZwBoAHQAcwBtAGEAbgBhAGcAZQByAC4AYQBzAG0AeAA8AC8ATABBAF8AVQBSAEwAPgA8AEwAVQBJAF8AVQBSAEwAPgBoAHQAdABwADoALwAvAGMAYQBwAHAAcgBzAHYAcgAwADYALwBzAGkAbAB2AGUAcgBsAGkAZwBoAHQANQAvAHIAaQBnAGgAdABzAG0AYQBuAGEAZwBlAHIALgBhAHMAbQB4ADwALwBMAFUASQBfAFUAUgBMAD4APABEAEUAQwBSAFkAUABUAE8AUgBTAEUAVABVAFAAPgBPAE4ARABFAE0AQQBOAEQAPAAvAEQARQBDAFIAWQBQAFQATwBSAFMARQBUAFUAUAA+ADwALwBEAEEAVABBAD4APAAvAFcAUgBNAEgARQBBAEQARQBSAD4A"];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HH=void 0;r=b.HH || (b.HH={});r[r.Request=0]="Request";r[r.XTa=1]="Renewal";},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.F5=void 0;a.P0b=function(c){return "ID" + (c + 1);};a.$mb=function(c){return Number(c.substr(2)) - 1;};b.F5=a;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w,u;function c(x,y,z,B,A,C){var D;D=this;this.Ia=y;this.vE=z;this.config=B;this.Pq=A;this.UF=C;this.keyStatuses=new p.ec({});this.PAa=function(E){var G,F,L,O,K,I;try{F=D.gn.Nra(E);L=F.yK;O=F.messageType;K=F.sessionId;D.vy=D.vy || F.vy;D.p1(K);D.log.trace("Received " + E.type + " event",{sessionId:K,messageType:O,keyIds:D.vy});if(O === b.cka){if(D.config.Fsa){D.log.trace("Disabling license renewal");return;}D.log.trace("Received a renewal request");D.Og=m.$i.gr;D.cm=t.eL;}D.cm === t.ki && D.Er(d.Ru.njb);D.cm === t.eL && D.Er(d.Ru.ojb);I={Yk:L,b2a:O,Og:D.Og};null === (G=D.xgb) || void 0 === G?void 0:G.call(D,I);D.RZ && (D.twa(L)?D.GF(new n.rd(g.aa.kLa)):(D.RZ.resolve(I),D.RZ=void 0));}catch(M){D.GF(M);}};this.NAa=function(E){var G,F,L,O,K,H,J,N,P,W,V,S,qa,za,Aa,Qa,T;F=E.target;L=F.keyStatuses;D.p1(F.sessionId);D.log.trace("Received event: " + E.type);try{K=null === (G=D.context) || void 0 === G?void 0:G.hca;E=[];for(var I=oa(L),M=I.next();!M.done;M=I.next()){H=oa(M.value);J=H.next().value;N=H.next().value;P=D.vE.encode(new Uint8Array(J));E.push({Gq:P,status:N,height:null === K || void 0 === K?void 0:K[P]});}E.sort(function(Z,Q){return (Z.height || 0) - (Q.height || 0);});W=E.map(function(Z){return Z.Gq;});V=E.map(function(Z){return Z.height;});S=E.map(function(Z){return Z.status;});D.iya=W + ", " + V + ", " + S;D.log.trace("KeyStatus: " + D.iya);K={};for(var U=oa(L),fa=U.next();!fa.done;fa=U.next()){qa=oa(fa.value);za=qa.next().value;Aa=qa.next().value;Qa=D.vE.encode(new Uint8Array(za));T=w[Aa];K[Qa]=T.status;D.cK(Qa,T.error) && (O=new h.Vh(T.error));}D.keyStatuses.set(K);}catch(Z){O=new h.Vh(g.aa.yxb);O.CX(Z);}O?D.Xt?D.Zba(O):D.GZ(O):(D.gn.i9() || D.ncb(),D.Og !== m.$i.Kp || D.gn.Npa() || (D.config.Fsa?D.log.trace("Disabling license renewal"):D.Tcc()));};this.fs=function(E){var G;G=D.gn.mB(E);D.log.error("Received event: " + E.type,G);D.GF(G);D.Zba(G);D.Qr || D.Xt || D.GZ(G);};this.g8b=function(E){D.log.error("MediaKeySession closed unexpectedly: " + E);D.GZ(new n.rd(g.aa.$ia,u[E]));};this.GF=function(E){var G;D.Qr && D.close().then(function(){var F;D.log.trace("Issuing a generate challenge error");null === (F=D.Qr) || void 0 === F?void 0:F.reject(E);D.Qr=void 0;},function(F){var L;D.log.error("EmeSession closed with an error.",D.gn.mB(F));null === (L=D.Qr) || void 0 === L?void 0:L.reject(E);D.Qr=void 0;});null === (G=D.RZ) || void 0 === G?void 0:G.reject(E);};this.J2b=function(){var E;null === (E=D.Qr) || void 0 === E?void 0:E.resolve();D.Qr=void 0;};this.Zba=function(E){D.log.error("Failed to add license",E);return D.close().then(function(){var G;D.log.trace("Issuing a license error");D.Qr=void 0;null === (G=D.Xt) || void 0 === G?void 0:G.reject(E);D.Xt=void 0;},function(G){var F;D.log.error("EmeSession closed with an error.",D.gn.mB(G));D.cm === t.eL && D.Er(d.Ru.I_a);D.Qr=void 0;null === (F=D.Xt) || void 0 === F?void 0:F.reject(E);D.Xt=void 0;}).then(function(){throw E;});};this.ncb=function(){D.Xt && (D.log.info("Successfully added license"),D.cm === t.ki?D.Er(d.Ru.B_a):D.cm === t.eL && D.Er(d.Ru.H_a),D.Xt.resolve(),D.Xt=void 0);};this.GZ=function(E){D.close().then(function(){var G;D.log.trace("Issuing a CDM error");D.Qr=void 0;D.Xt=void 0;null === (G=D.ugb) || void 0 === G?void 0:G.call(D,E);},function(G){var F;D.log.error("EmeSession closed with an error.",D.gn.mB(G));D.Qr=void 0;D.Xt=void 0;null === (F=D.ugb) || void 0 === F?void 0:F.call(D,E);});};this.Er=function(E){D.yd.push({time:D.Ia.Rb(),u_:E});};this.Ojb=!1;this.log=x.cb("EmeSession");this.cm=t.Tjc;this.Gi=C.J3a();this.gn=C.I3a();this.yd=[];}Object.defineProperty(b,"__esModule",{value:!0});b.ALa=b.cka=b.dka=void 0;l=a(5);g=a(4);m=a(57);d=a(349);r=a(231);f=a(346);h=a(98);k=a(63);n=a(36);p=a(74);q=a(350);v=a(43);(function(x){x[x.Tjc=0]="unknown";x[x.create=1]="create";x[x.load=2]="load";x[x.ki=3]="license";x[x.eL=4]="renewal";x[x.stop=5]="stop";x[x.closed=6]="closed";})(t || (t={}));b.dka="license-request";b.cka="license-renewal";w={usable:{status:r.ax.qpb},expired:{status:r.ax.cy,error:g.aa.Fka},released:{status:r.ax.released},"output-not-allowed":{status:r.ax.Pgb,error:g.aa.iRa},"output-restricted":{status:r.ax.Pgb,error:g.aa.Gka},"output-downscaled":{status:r.ax.i9b},"status-pending":{status:r.ax.ohc},"internal-error":{status:r.ax.u1b,error:g.aa.xxb}};u={"internal-error":g.Y.bub,"closed-by-application":g.Y.Ytb,"release-acknowledged":g.Y.fub,"hardware-context-reset":g.Y.Yia,"resource-evicted":g.Y.hub};c.prototype.IP=function(){return this.UF.ica;};c.prototype.i9a=function(){return this.iya;};c.prototype.DB=function(){return this.sessionId;};c.prototype.close=function(){var x;x=this;this.xgb=this.context=void 0;this.cm=t.closed;this.yd=[];void 0 !== this.efa && (mb.clearTimeout(this.efa),this.efa=void 0);return this.Gi.t2b()?(this.log.trace("Closing the session"),this.Gi.Gjb(this.PAa),this.Gi.Djb(this.NAa),this.Gi.Bjb(this.fs),this.mediaKeys=void 0,this.Pq.xs(this.config.g0a,this.Gi.close()).then(function(){x.log.info("Closed the session");}).catch(function(y){x.log.error("Close failed",y);x.gn.mB(y).code=g.aa.Axb;throw y;})):Promise.resolve(void 0);};c.prototype.Sv=function(){return this.UF.Sv();};c.prototype.uwa=function(){return void 0 !== this.sk;};c.prototype.createSession=function(x,y,z){var B;B=this;this.context=z;this.Og=y;this.cm=t.create;this.Er(d.Ru.Zcb);return (x.U$a()?Promise.resolve():this.Pq.xs(this.config.h0a,this.Gi.createMediaKeys(this.UF)).then(function(A){B.log.trace("Created media keys");return B.bHb(A).then(function(){return x.C_a(A);}).catch(function(C){return Promise.reject(B.oCa(C,g.aa.iub));});})).then(function(){B.mediaKeys=x.mediaKeys;try{B.Gi.createSession(B.mediaKeys,v.TEMPORARY);B.Gi.D_a(B.PAa);B.Gi.z_a(B.NAa);B.Gi.w_a(B.fs);B.Gi.LFb(B.g8b);B.p1(B.Gi.DB());}catch(A){return Promise.reject(B.oCa(A,g.aa.Ztb));}}).catch(function(A){return Promise.reject(B.oCa(A,g.aa.FT));});};c.prototype.Efc=function(x){this.Rj=x;this.log.t_a("xid",x.sa);};c.prototype.CVb=function(x,y){var z;z=this;return this.generateRequest(x,y).then(function(){z.log.trace("Returning the challenge promise");return z.RZ.promise;});};c.prototype.DVb=function(x,y){this.generateRequest(x,y);return this.Qr.promise;};c.prototype.A_a=function(x){this.Ye=x.Ye;x=x.sk.map(function(y){return y.data;});this.twa(x)?(this.log.error("The license buffer is empty"),this.GF(new h.Vh(g.aa.jLa,g.Y.hLa))):(this.cm === t.ki && (this.Er(d.Ru.mjb),this.sk=x,this.F5a=this.gn.HP(this.vy,x),this.J2b()),this.cm === t.eL && (this.Er(d.Ru.pjb),this.sk=x,this.F5a=this.gn.HP(this.vy,x),this.Apa()));};c.prototype.XFb=function(x){this.cm === t.eL?(this.Er(d.Ru.qjb),this.GZ(x)):this.GF(x);};c.prototype.Apa=function(){var x,y;x=this;if(!this.sk)return this.Zba(new h.Vh(g.aa.jLa,g.Y.mLa));this.Xt=new q.zU();y=this.sk;this.sk=void 0;this.Pq.xs(this.config.k0a,this.Gi.update(y,this.cm === t.ki?f.HH.Request:f.HH.XTa,this.vy)).then(function(){x.gn.i9() && x.ncb();}).catch(function(z){z=x.gn.mB(z);z.code=g.aa.f5;z.message="Unable to update the EME";x.log.error(z.message,z);x.Zba(z);});return this.Xt.promise;};c.prototype.yfc=function(x){this.xgb=x;};c.prototype.sfc=function(x){this.ugb=x;};c.prototype.HP=function(){return this.F5a;};c.prototype.generateRequest=function(x,y){var z;z=this;this.cm=t.ki;this.log.trace("Generating a license challenge");this.Qr=new q.zU();this.RZ=new q.zU();return x?this.twa(x)?(x=new h.Vh(g.aa.iLa,g.Y.hLa),this.GF(x),Promise.reject(x)):this.Pq.xs(this.config.i8,this.Gi.generateRequest(this.gn.hva(),x,y)).then(function(){z.p1(z.Gi.DB());}).catch(function(B){var A,C;A=new h.Vh(g.aa.I3,B instanceof k.Ps?g.Y.GT:g.Y.ln);try{C=z.gn.mB(B);A.vd=C.vd;A.message="Unable to generate request.";A.CX(B);}catch(D){}z.log.error("Unable to generate a license request",A);z.GF(A);return Promise.reject(A);}):(x=new h.Vh(g.aa.iLa,g.Y.mLa),this.GF(x),Promise.reject(x));};c.prototype.bHb=function(x){return this.Pq.xs(this.config.j0a,this.Gi.setServerCertificate(x,this.gn.iaa()));};c.prototype.p1=function(x){x && x !== this.sessionId && (this.sessionId && this.log.warn("sessionId changed from " + this.sessionId + " to " + x),this.sessionId=x,this.log.t_a("sessionId",x));};c.prototype.Tcc=function(){var x;x=this;this.Ojb || (this.Ojb=!0,this.log.info("Kicking off license renewal",{timeout:this.config.KF}),this.efa=mb.setTimeout(function(){x.efa=void 0;x.dL();},this.config.KF.ia(l.va)));};c.prototype.A2b=function(x){var y,z,B;return 1080 < (null !== (B=null === (z=null === (y=this.context) || void 0 === y?void 0:y.hca) || void 0 === z?void 0:z[x]) && void 0 !== B?B:0);};c.prototype.cK=function(x,y){return y === g.aa.Gka?this.A2b(x)?this.config.Rgb:this.config.Qgb:!!y;};c.prototype.dL=function(){this.log.trace("Initiating a renewal request");this.Og=m.$i.gr;this.cm=t.eL;this.gn.Iqa()?this.gn.rxa(this.Gi):this.x9();};c.prototype.x9=function(){var x;x=this;this.Gi.x9(this.mediaKeys,v.TEMPORARY,this.PAa,this.NAa,this.fs).then(function(){x.log.debug("Creating session to renew license");x.p1(x.Gi.DB());}).catch(function(){x.GZ(new h.Vh(g.aa.I3));});};c.prototype.twa=function(x){return 0 === x.length || x.reduce(function(y,z){return y || 0 === z.length;},!1);};c.prototype.oCa=function(x,y){var z,B;if((null === x || void 0 === x?0:x.code) && (null === x || void 0 === x?0:x.wc))return x;B=(0,v.Bva)(null === x || void 0 === x?void 0:x.message);return new h.Vh(y,x instanceof k.Ps?g.Y.GT:g.Y.ln,null === (z=null === B || void 0 === B?void 0:B.toString(16)) || void 0 === z?void 0:z.toUpperCase(),null === x || void 0 === x?void 0:x.message,x);};b.ALa=c;},function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.G5a=b.Ru=void 0;(function(c){c[c.Zcb=0]="licenseStarted";c[c.njb=1]="receivedLicenseChallenge";c[c.mjb=2]="receivedLicense";c[c.ojb=3]="receivedRenewalChallengeComplete";c[c.pjb=4]="receivedRenewalLicenseComplete";c[c.qjb=5]="receivedRenewalLicenseFailed";c[c.Rbc=6]="receivedIndivChallengeComplete";c[c.Sbc=7]="receivedIndivLicenseComplete";c[c.B_a=8]="addLicenseComplete";c[c.H_a=9]="addRenewalLicenseComplete";c[c.I_a=10]="addRenewalLicenseFailed";})(a=b.Ru || (b.Ru={}));b.G5a=function(c){switch(c){case a.Zcb:return "lg";case a.njb:return "lc";case a.mjb:return "lr";case a.ojb:return "renew_lc";case a.pjb:return "renew_lr";case a.qjb:return "renew_lr_failed";case a.Rbc:return "ilc";case a.Sbc:return "ilr";case a.B_a:return "ld";case a.H_a:return "renew_ld";case a.I_a:return "renew_ld_failed";default:return "unknown";}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zU=void 0;b.zU=function(){var a;a=this;this.promise=new Promise(function(c,l){a.resolve=c;a.reject=l;});};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SPa="MediaKeySystemAccessInternalFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fOa="KeySystemProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sla="QueryStringDataProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BQa="NetworkMonitorConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VKa="DrmProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zLa="EmeSessionFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MJa="ClockConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UQa="OneWayCounterFactorySymbol";},function(r,b,a){var l,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.jia=void 0;r=a(0);a=a(1);l={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};c.prototype.decode=function(m){for(var d=new Uint8Array(m.length / 2),f=0;f < d.length;f++){d[f]=this.cob(m.substr(2 * f,2));}return d;};c.prototype.encode=function(m){var k;for(var d="",f=m.length,h=0;h < f;h++){k=m[h];d+=("0123456789ABCDEF")[k >>> 4] + ("0123456789ABCDEF")[k & 15];}return d;};c.prototype.yJ=function(m,d){var f;f="";for(d<<=1;d--;){f=(("0123456789ABCDEF")[m & 15] || "0") + f;m>>>=4;}return f;};c.prototype.cob=function(m){var d;d=m.length;if(7 < d)throw Error("hex to long");for(var f=0,h=0;h < d;h++){f=16 * f + l[m[h]];}return f;};g=c;g=r.__decorate([(0,a.$)()],g);b.jia=g;},function(r,b,a){var l,g,m,d,f,h,k,n;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.kia=void 0;r=a(0);a=a(1);g=Array.prototype.slice;m=g.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");g=g.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");d={};f={};h={};k={};n=/\s+/g;[m,g].forEach(function(p){var v;for(var q=p.length;q--;){v=p[q];d[v]=q << 18;f[v]=q << 12;h[v]=q << 6;k[v]=q;}});c.prototype.encode=function(p){return l.ata(p,m,"=");};c.prototype.decode=function(p){return l.nsa(p);};c.nsa=function(p){var q,v,t;p=p.replace(n,"");q=p.length;v=p.charAt(q - 1);"=" !== v && "." !== v || q--;v=p.charAt(q - 1);"=" !== v && "." !== v || q--;v=3 * (q >> 2);t=0;switch(q % 4){case 2:t=1;break;case 3:t=2;break;case 1:throw Error("bad base64");}q=new Uint8Array(v + t);for(var w=0,u=0,x;u < v;){x=d[p[w++]] + f[p[w++]] + h[p[w++]] + k[p[w++]];if(!(0 <= x && 16777215 >= x))throw Error("bad base64");q[u++]=x >>> 16;q[u++]=x >>> 8 & 255;q[u++]=x & 255;}if(0 < t && (x=d[p[w++]] + f[p[w++]],q[u++]=x >>> 16,1 < t && (x+=h[p[w++]],q[u++]=x >>> 8 & 255),!(0 <= x && 16776960 >= x && 0 === (x & (1 < t?255:65535)))))throw Error("bad base64");return q;};c.ata=function(p,q,v){for(var t="",w=0,u=p.length,x=u - 2,y;w < x;){y=(p[w++] << 16) + (p[w++] << 8) + p[w++];if(!(0 <= y && 16777215 >= y))throw Error("not bytes");t+=q[y >>> 18] + q[y >>> 12 & 63] + q[y >>> 6 & 63] + q[y & 63];}if(w == x){y=(p[w++] << 8) + p[w++];if(!(0 <= y && 65535 >= y))throw Error("not bytes");t+=q[y >>> 10] + q[y >>> 4 & 63] + q[y << 2 & 63] + v;}else if(w == u - 1){y=p[w++];if(!(0 <= y && 255 >= y))throw Error("not bytes");t+=q[y >>> 2] + q[y << 4 & 63] + v + v;}return t;};g=l=c;g=l=r.__decorate([(0,a.$)()],g);b.kia=g;},function(r,b,a){var l,g;function c(){this.Or={};this.id="$es$" + l.counter++;}Object.defineProperty(b,"__esModule",{value:!0});b.Gk=void 0;r=a(0);a=a(1);c.prototype.addListener=function(m,d,f){var h,k;h="$netflix$player$order" + this.id + "$" + m;if(this.Or){k=this.Or[m]?this.Or[m].slice():[];f && (d[h]=f);0 > k.indexOf(d) && (k.push(d),k.sort(function(n,p){return (n[h] || 0) - (p[h] || 0);}));this.Or[m]=k;}};c.prototype.removeListener=function(m,d){if(this.Or && this.Or[m]){for(var f=this.Or[m].slice(),h;0 <= (h=f.indexOf(d));){f.splice(h,1);}this.Or[m]=f;}};c.prototype.Zc=function(m,d,f){var h;if(this.Or){h=this.ava(m);for(m={fM:0};m.fM < h.length;(m={fM:m.fM},m.fM++)){f?(function(k){return function(){var n;n=h[k.fM];setTimeout(function(){n(d);},0);};})(m)():h[m.fM].call(this,d);}}};c.prototype.Ji=function(){this.Or=void 0;};c.prototype.on=function(m,d,f){this.addListener(m,d,f);};c.prototype.ava=function(m){var d;return null !== (d=this.Or && (this.Or[m] || (this.Or[m]=[]))) && void 0 !== d?d:[];};g=l=c;g.counter=0;g=l=r.__decorate([(0,a.$)()],g);b.Gk=g;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cKa="CsvEncoderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Ria="DecoderTimeoutPathologistSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qka=b.rwb=void 0;b.rwb=function(){};b.qka="MseConfigSymbol";},function(r,b,a){var l;function c(g){this.HBb=void 0 === g?!1:g;this.Lf={0:[]};}Object.defineProperty(b,"__esModule",{value:!0});b.pla=void 0;r=a(0);a=a(1);c.prototype.add=function(g,m){var d;m=void 0 === m?0:m;d=this.Lf[m];d?this.HBb && -1 !== d.indexOf(g) || d.push(g):this.Lf[m]=[g];};c.prototype.remove=function(g,m){this.BA(g,void 0 === m?0:m);};c.prototype.removeAll=function(g){this.BA(g);};c.prototype.flatten=function(){var g;g=this;return Object.keys(this.Lf).sort().reduce(function(m,d){return m.concat(g.Lf[d]);},[]);};c.prototype.BA=function(g,m){Object.entries(this.Lf).forEach(function(d){var f,h;f=oa(d);d=f.next().value;f=f.next().value;if(void 0 === m || m === parseInt(d)){-1 < (h=f.indexOf(g)) && f.splice(h,1);}});};l=c;l=r.__decorate([(0,a.$)()],l);b.pla=l;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hWa="UrlFactorySymbol";},function(r,b,a){var l,g,m;function c(d,f,h,k,n,p,q){this.debug=d;this.config=f;this.platform=h;this.Uca=k;this.debug.assert(n && n != g.aa.Fo,"There should always be a specific error code");this.errorCode=n || g.aa.Fo;p && "object" === typeof p?(this.Ca=p.Ca || p.wc,this.Rf=p.Rf || p.vd,this.jta=p.jta || p.ep,this.Ub=p.Ub || p.details,this.HX=p.gl,this.o$=p.o$ || p.Wvc || p.kC,this.ZE=p.ZE || p.data,p.r_ && (this.r_=p.r_),this.Vl=p.Vl,this.method=p.method,this.sda=p.sda,this.alert=p.alert,this.npa=p.npa,this.UJ=p.UJ,!this.Ub && this.UJ && (this.Ub=JSON.stringify(this.UJ)),this.debug.assert(!this.Vl || this.Vl == this.Rf)):(this.Ca=p,this.Rf=q);this.stack=[this.errorCode];this.Ca?this.stack.push(this.Ca):this.Rf && this.stack.push(g.Y.Fo);this.Rf && this.stack.push(this.Rf);this.V9=this.platform.Ft + this.stack.join("-");}Object.defineProperty(b,"__esModule",{value:!0});b.YSa=void 0;l=a(17);g=a(4);m=a(15);a(23);c.prototype.Glb=function(d){this.B$b=d;};c.prototype.toString=function(){var d;d="[PlayerError #" + this.V9 + "]";this.Ub && (d+=" " + this.Ub);this.HX && (d+=" (CustomMessage: " + this.HX + ")");return d;};c.prototype.i2=function(){var d,f,h,k;this.HX && (h=["streaming_error"]);h || this.Uca.Sv() !== l.H3 || ("80080017" == this.Rf && (h=["admin_mode_not_supported","platform_error"]),"8004CD12" === this.Rf && (h=["pause_timeout"]));h || this.Uca.Sv() !== l.Xia || this.errorCode !== g.aa.gLa && this.errorCode !== g.aa.FT || (h=["no_cdm","platform_error","plugin_error"]);h || this.errorCode !== g.aa.$ia || this.Ca !== g.Y.Yia || (h=["pause_timeout"]);this.o$ === g.S4.Zla && (this.Sqa("2018") || this.Sqa("2020")?h=["received_soad"]:this.Sqa("5000") && (h=["should_reset_device"]));k=this.oWb();k && (h=[k],this.HX=void 0);if(!h)switch(this.errorCode){case g.aa.e5:case g.aa.L4:case g.aa.$qb:case g.aa.Fka:this.B$b && (h=["pause_timeout"]);break;case g.aa.CNa:case g.aa.DNa:h=this.Ca?["platform_error"]:["multiple_tabs"];break;case g.aa.zja:case g.aa.mRa:case g.aa.Hka:case g.aa.gRa:h=["platform_error","plugin_error"];break;case g.aa.sU:h=["no_cdm","platform_error","plugin_error"];break;case g.aa.nLa:case g.aa.Os:case g.aa.f5:switch(this.Rf){case "FFFFD000":h=["device_needs_service","platform_error"];break;case "48444350":h=["unsupported_output","platform_error"];break;case "00000024":h=["private_mode"];}break;case g.aa.iRa:case g.aa.Gka:h=["unsupported_output"];}!h && (0,g.JLa)(this.Ca) && (h=this.Ca == g.Y.PT?["geo"]:["internet_connection_problem"]);h || this.errorCode !== g.aa.FT || this.Ca !== g.Y.ln || "S" !== this.platform.Ft || (h=["private_mode"]);if(!h)switch(this.cnb(this.Ca)){case g.Y.fma:h=["should_upgrade"];break;case g.Y.bRa:h=["should_reset_device"];break;case g.Y.aRa:h=["should_reload_device"];break;case g.Y.$Qa:h=["should_exit_device"];break;case g.Y.swb:case g.Y.nPa:h=["should_signout_and_signin"];break;case g.Y.twb:h=["internet_connection_problem"];break;case g.Y.hKa:h=["platform_error","plugin_error"];break;case g.Y.etb:case g.Y.lNa:case g.Y.mNa:h=["private_mode"];break;case g.Y.aka:h=["should_reload_with_preferred_locales"];}h=h || [];h.push(this.platform.Ft + this.errorCode);if(this.Ca)switch(this.cnb(this.Ca)){case g.Y.cRa:h.push("incorrect_pin");break;default:h.push("" + this.Ca);}h={display:{code:this.V9,text:this.HX},messageIdList:h,alert:this.alert,alertTag:this.npa,preferredAudioLocale:null === (d=this.UJ) || void 0 === d?void 0:d.wab,preferredTextLocale:null === (f=this.UJ) || void 0 === f?void 0:f.xab};this.config().oTb && (h.debugData=this.ZE);return h;};c.prototype.cnb=function(d){var f;f=parseInt(d,10);return isNaN(f)?d:f;};c.prototype.Sqa=function(d){return ((0,m.Qa)(this.Rf)?this.Rf.toString():(0,m.Ng)(this.Rf)?this.Rf:"").endsWith(d);};c.prototype.oWb=function(){if(this.errorCode === g.aa.xM && (this.Ca === g.Y.Cka || this.Ca === g.Y.ZQa))return this.pWb(this.Ca === g.Y.Cka);};c.prototype.pWb=function(d){var f,h,k,n;k=this.config().browserInfo || ({});n=null === (f=k.os) || void 0 === f?void 0:f.name;f=((null === (h=k.os) || void 0 === h?void 0:h.version) || "").split(".");h=parseInt(f && f[0]);f=parseInt(f && f[1]);switch(n){case "windows":return 6 > h || 6 === h && 1 > f?d?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":d?"cdm_not_supported_warning_update":"cdm_not_supported_update";case "mac":return 10 > h || 10 === h && 10 > f?d?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":d?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return d?"cdm_not_supported_warning_other":"cdm_not_supported_other";}};b.YSa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kka="MediaElementHelpersSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HT="EventSourceFactorySymbol";},function(r,b,a){var l,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.HT=b.NLa=void 0;r=a(0);l=a(361);a=a(1);c.prototype.create=function(){return new l.Gk();};g=c;g=r.__decorate([(0,a.$)()],g);b.NLa=g;b.HT="EventSourceFactorySymbol";},function(r,b,a){var l;function c(g,m,d,f,h,k){this.level=g;this.lq=m;this.timestamp=d;this.message=f;this.fd=h;this.index=void 0 === k?0:k;this.Hvb={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(b,"__esModule",{value:!0});b.Tja=void 0;l=a(5);c.prototype.Gga=function(g,m){var d;d="" + this.message;this.fd.forEach(function(f){d+=f.QL(g,m);});return (this.timestamp.ia(l.va) / 1E3).toFixed(3) + "|" + this.index + "|" + (this.Hvb[this.level] || this.level) + "|" + this.lq + "| " + d;};b.Tja=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mQa="MomentObserverFactory";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HUa="SegmentConfigFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ISa="PlaybackFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.vWa="VideoPlayerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SVa="TransitionLoggerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.IKa="DiagnosticsFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.LRa="PboGenerateScreenshotsCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FMa="HLSPlaylistBuilderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aTa="PlayerPlaydataMonitorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nla="StreamChangeDetectorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bU="HLSLogblobMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SMa="HeaderFetcherSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bNa="HttpDispatcherSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.WMa="HLSHeaderParserFactorySymbol";},function(r){var b;b=(function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0 !== a[0];})()?function(a,c,l){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(c.buffer,c.byteOffset,c.byteLength),l * a.byteLength / a.length);}:function(a,c,l){a.set(c,l);};r.exports={from:function(a,c,l,g){a=new a(c.length);for(var m="function" === typeof l,d=0;d < c.length;++d){a[d]=m?l.call(g,c[d],d,c):c[d];}return a;},set:b};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(l){function g(){var m;m=null !== l && l.apply(this,arguments) || this;m.xJ=1536;return m;}c.__extends(g,l);g.wd=!0;return g;})(a(180).default);b.default=r;a=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.xf="ac-3";return g;})(r);b.Iqb=a;r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.xf="ec-3";return g;})(r);b.Xtb=r;},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(103);r=a(24);g=l.tka;r=(function(m){function d(){return null !== m && m.apply(this,arguments) || this;}c.__extends(d,m);d.prototype.parse=function(){this.Rh();this.fileSize=this.R.im();this.W=this.R.im();this.duration=this.R.im(!1,!0);this.R7b=this.R.im();this.R.im();this.V7b=this.R.im();this.a7b=this.R.jc();this.S7b=this.R.im();this.KUb=this.R.jc();this.R.Uea();this.Wm={moof:{offset:this.R7b},sidx:{offset:this.S7b,size:this.KUb}};this.Wm[l.tQa]={offset:this.V7b,size:this.a7b};this.R.offset - this.startOffset <= this.length - 24 && (this.U7b=this.R.im(),this.R6b=this.R.jc(),this.T7b=this.R.im(),this.Q6b=this.R.jc(),this.Wm[l.V4]={offset:this.U7b,size:this.R6b},this.Wm[l.U4]={offset:this.T7b,size:this.Q6b});return !0;};d.xf=g;d.wd=!1;return d;})(r.Ag);b.default=r;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=a(103);a=a(24);l=r.uka;a=(function(g){function m(){return null !== g && g.apply(this,arguments) || this;}c.__extends(m,g);m.prototype.parse=function(){var d,k,n;this.Rh();1 <= this.version && this.R.Uea();d=this.R.jc();this.Wm={};for(var f=this.startOffset + this.length,h=0;h < d;++h){k=this.R.BC();"uuid" === k && (k=this.R.Uea());n=this.R.im();this.Wm[k]={offset:f,size:n};f+=n;}return !0;};m.xf=l;m.wd=!1;return m;})(a.Ag);b.default=a;},function(r,b){var a,c,l;Object.defineProperty(b,"__esModule",{value:!0});r={name:"heaac-2-dash reset sample",profile:53,channels:2,sampleRate:24E3,duration:1024,bga:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dash standard sample",profile:53,channels:2,sampleRate:24E3,duration:1024,bga:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};c={name:"ddplus-5.1-dash standard sample",profile:54,channels:6,sampleRate:48E3,duration:1536,bga:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};l={name:"ddplus-2.0-dash standard sample",profile:57,channels:2,sampleRate:48E3,duration:1536,bga:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};b.DW={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":c,"ddplus-5.1hq-dash":c,"ddplus-2.0-dash":l},reset:{"heaac-2-dash":r,"heaac-2hq-dash":r},"heaac-2-dash":r,"heaac-2-dash-alt":a,"ddplus-5.1-dash":c,"ddplus-2.0-dash":l};},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(24);g=a(89);r=(function(m){function d(f,h,k,n,p){k=m.call(this,k,n,p) || this;k.HIb=f;k.pS=h;k.ve={};return k;}c.__extends(d,m);d.prototype.parse=function(f){var h,k,n,p,q,v;this.offset=0;h=[];for(f=f || ({});this.offset < this.view.byteLength && !(8 > this.view.byteLength - this.offset);){k=this.offset;n=this.jc();if(0 === n)return {done:!1,offset:this.offset,error:"Invalid zero-length box"};p=g.sN(this.jc());if(null === p)return {done:!1,offset:this.offset,error:"Invalid box type"};if("uuid" === p){if(16 > this.view.byteLength - this.offset)break;p=this.Uea();}if(0 === h.length && this.pS.E7a(p,k,n))break;if(k + n > this.view.byteLength)break;q=this.HIb[p];v=void 0;if(q){if((v=new q(this,p,k,n,h[0]),(h[0] || this).oW(v),v.parse(f)))this.config.oBa && q.wd?h.unshift(v):this.offset=k + n;else return {done:!1,offset:this.offset,error:"parse error in " + p + " box"};}else this.offset=k + n;for(;h.length && this.offset > h[0].byteOffset + h[0].OK - 8;){v=h.shift();if(!v.sJ(f))return {done:!1,offset:this.offset,error:"finalize error in " + v.type + " box"};this.offset=v.byteOffset + v.OK;}if(0 === h.length && this.pS.t5a(p,k,n,v))break;}return !this.pS.done && (f=this.pS.endOffset?this.pS.endOffset - this.view.byteLength:4096,0 < f)?{done:!1,offset:this.offset,Afb:f}:{done:!0,offset:Math.min(this.pS.endOffset || Infinity,this.offset)};};d.prototype.oW=function(f){l.Ag.oW(this,f);};return d;})(a(837).ezb);b.nia=r;},function(r,b,a){var l;function c(g,m){g=m.indexOf(g);-1 !== g && m.splice(g,1);}Object.defineProperty(b,"__esModule",{value:!0});l=a(103);r=(function(){function g(m){this.endOffset=m;this.done=!1;}g.prototype.E7a=function(){return this.done;};g.prototype.t5a=function(m,d,f){return this.done=d + f >= this.endOffset;};return g;})();b.zKa=r;r=(function(){function g(m,d,f,h){void 0 === d && (d=[]);void 0 === f && (f=[]);void 0 === h && (h=!1);this.Gw=m;this.Q9=d;this.ynb=f;this.pBa=h;this.done=!1;this.Wm={};}g.prototype.E7a=function(m,d,f){-1 !== g.I_b.indexOf(m) && (this.Wm[m]={offset:d,size:f});if(-1 !== this.ynb.indexOf(m)){if((this.Wm[m]={offset:d,size:f},this.pBa))this.endOffset=d + f;else return (this.endOffset=d,this.done=!0);}else this.Gw && -1 !== this.Gw.indexOf(m)?(m=1 < this.Gw.length?4096:0,this.endOffset=Math.max(d + f + m,this.endOffset || 0)):-1 !== this.Q9.indexOf(m) && (m=this.Gw?4096:0,this.endOffset=Math.max(d + f + m,this.endOffset || 0));return this.done;};g.prototype.t5a=function(m,d,f,h){var k;k=this;if(-1 !== this.ynb.indexOf(m))return this.done=!0;m === l.tka && this.Jlb(h.Wm);m === l.uka && this.Jlb(h.Wm);this.Gw && c(m,this.Gw);c(m,this.Q9);return this.Gw && 0 === this.Gw.length && !this.Q9.some(function(n){return k.Wm[n];})?this.done=!0:this.done;};g.prototype.Jlb=function(m){var d;d=this;this.Wm=m;this.endOffset=(this.Gw || []).concat(this.Q9).reduce(function(f,h){return d.Wm[h]?(h=d.Wm[h],Math.max(h.offset + (h.size || 4096),f)):f;},this.endOffset || 0);};g.I_b=["moov","sidx"];return g;})();b.Nub=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HMa="HLSPlaylistTransformerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FJa="CdnPartitionerSymbol";},function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Sia=void 0;l=a(42);c.yt=function(){var g;g={};return (g[l.ke.gH]="mp4a.40.2",g[l.ke.o4]="mp4a.40.2",g[l.ke.hH]="mp4a.40.2",g[l.ke.gA]="mp4a.40.42",g[l.ke.AT]="ec-3",g[l.ke.o3]="ec-3",g[l.ke.BT]="ec-3",g);};b.Sia=c;},function(r,b){var a;Object.defineProperties(b,{__esModule:{value:!0}});b.bd=b.Eq=void 0;(function(c){c[c.vm=0]="STOPPED";c[c.Yd=1]="BUFFERING";c[c.Vg=2]="REBUFFERING";c[c.wm=3]="STREAMING";c[c.EU=4]="TRACK_SWITCH";})(a || (a={}));b.bd=a;b.Eq=function(c){return c === a.Yd || c === a.Vg || c === a.EU;};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.zpa=void 0;b.zpa=function(a,c,l){var g,m;g=!0;l.forEach(function(d){var f;if(g && a === d.profile){f=d.ranges;g=void 0 === f?c >= d.min && c <= d.max:f.some(function(h){return c >= h.min && c <= h.max;});!g && d.disallowed && d.disallowed.some(function(h){if(h.stream.bitrate === c)return (m=h.disallowedBy,!0);});}});return {inRange:g,U9:m};};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.wH=void 0;b.wH={Rn:function(a){return a;}};},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.ox=b.TM=void 0;c=a(398);(function(g){g[g.vR=0]="primary";g[g.rJ=1]="fallback";})(l=b.TM || (b.TM={}));r=(function(){function g(m,d){var f,h;void 0 === d && (d=!1);h=this;this.OJb=d;this.filters=(f={},f[l.vR]=[],f[l.rJ]=[],f);Array.isArray(m)?m.forEach(function(k){return h.and(k,l.vR);}):this.and(m);}g.prototype.and=function(m,d){void 0 === d && (d=l.vR);m !== c.wH && this.filters[d].push({filter:m,k3a:!0});return this;};g.prototype.or=function(m,d){void 0 === d && (d=l.vR);this.filters[d].push({filter:m,k3a:!1});return this;};g.prototype.filter=function(m){var d;d=this;[l.vR,l.rJ].forEach(function(f){d.filters[f]=d.filters[f].filter(function(h){return m(f,h.filter);});});};g.prototype.Rn=function(m,d,f,h){var k;k=this;return [l.vR,l.rJ].reduce(function(n,p){return k.filters[p].reduce(function(q,v){v.k3a?q=v.filter.Rn(q,d,f,h):0 === q.length && (q=v.filter.Rn(m,d,f,h));return q;},n);},m);};return g;})();b.ox=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.fU=void 0;c=a(10);l=a(60);r=(function(){function g(m,d){this.console=m;this.config=d;this.GGa=!1;}g.prototype.Rn=function(m,d,f,h){void 0 === f && (f=l.N.Oa);void 0 === h && (h=!1);c.M && this.console.trace("Filtering streams for fastplay",{GGa:this.GGa,vt:f.Z,cvc:h});if(this.GGa || f.Z >= this.config.l5b || !1 === h){d=m.filter(this.nRb);if(d.length)return d;c.M && this.console.trace("No drm streams to return");}d=m.filter(this.$Kb);if(d.length)return d;c.M && this.console.trace("No clear streams to return");return m;};g.prototype.nRb=function(m){return m.Ij;};g.prototype.$Kb=function(m){return !m.Ij;};return g;})();b.fU=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Yz=b.dyb=void 0;c=a(0);l=a(256);r=(function(){function g(m,d){this.Va=m;this.JB=d?[d]:[];}Object.defineProperties(g.prototype,{value:{get:function(){return this.Va;},enumerable:!1,configurable:!0}});g.prototype.addListener=function(m){-1 === this.JB.indexOf(m) && (this.JB=this.JB.slice(),this.JB.push(m));};g.prototype.removeListener=function(m){m=this.JB.indexOf(m);-1 !== m && (this.JB=this.JB.slice(),this.JB.splice(m,1));};return g;})();b.dyb=r;r=(function(g){function m(d,f){return g.call(this,d,f) || this;}c.__extends(m,g);m.Wlc=function(d,f,h){return new l.yka(d,f,h,!1);};Object.defineProperties(m.prototype,{value:{get:function(){return this.Va;},set:function(d){this.set(d);},enumerable:!1,configurable:!0}});m.prototype.set=function(d){var f;f=this.Va;f !== d && (this.Va=d,this.JB.forEach(function(h){return h({oldValue:f,newValue:d});}));};return m;})(r);b.Yz=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.eF=void 0;b.eF=function(a,c){var l;a=Math.abs(a);for(c=Math.abs(c);c;){l=c;c=a % c;a=l;}return a;};},function(r,b,a){var c,l,g,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.$Na=void 0;c=a(0);l=a(20);g=a(2);a(132);m=c.__importDefault(a(3));d=a(182);f=a(152);r=(function(h){function k(n,p,q){p=h.call(this,p,q) || this;p.rec=n;p.wna=!1;p.a7=!1;p.reset();return p;}c.__extends(k,h);k.prototype.reset=function(){var n,p;if(this.Sc === d.xm.tfa || this.Sc === d.xm.pending)null === (p=null === (n=this.vN) || void 0 === n?void 0:n.return) || void 0 === p?void 0:p.call(n);h.prototype.reset.call(this);this.vN=this.rec();this.a7=!1;this.zV=f.bj.UG(l.N.Oa);};k.prototype.yg=function(){this.reset();(0,g.assert)(this.cq);this.cq.wDa(this);};k.prototype.zda=function(){return this.zV;};k.prototype.Sf=function(){var n,p,q,v,t;try{this.wna=!0;t=null !== (p=null === (n=this.vN) || void 0 === n?void 0:n.next()) && void 0 !== p?p:{done:!0};}finally{this.wna=!1;this.MBb=m.default.time.fa();this.tKb();}t.done?(this.zV=f.bj.ZGa,null === (v=null === (q=this.vN) || void 0 === q?void 0:q.return) || void 0 === v?void 0:v.call(q),this.vN=void 0):this.zV=t.value;};k.prototype.tKb=function(){this.a7 && this.b5a();};k.prototype.b5a=function(){var n,p;this.wna?this.a7=!0:(this.a7=!1,null === (p=null === (n=this.vN) || void 0 === n?void 0:n.return) || void 0 === p?void 0:p.call(n),this.vN=void 0);};k.prototype.Wa=function(){this.b5a();h.prototype.Wa.call(this);};k.prototype.jy=function(){return {state:d.xm[this.state],nextWakeup:{ms:this.zV.timestamp.Z,type:f.G5[this.zV.type]},lastRunMono:this.MBb};};return k;})(d.Vla);b.$Na=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.UUa=void 0;c=a(0);l=a(182);g=a(152);r=(function(m){function d(f,h,k,n){void 0 === n && (n={});k=m.call(this,k) || this;k.RDa=f;k.Bv=h;k.options=n;return k;}c.__extends(d,m);d.prototype.zda=function(){return this.Sc === l.xm.pending?this.RDa:g.bj.ZGa;};d.prototype.Sf=function(){this.Bv();};d.prototype.yg=function(){this.options.nxc?(m.prototype.reset.call(this),this.cq.wDa(this)):this.Wa();};return d;})(l.Vla);b.UUa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.GSa=void 0;c=a(0);r=(function(l){function g(m,d){m=l.call(this,m) || this;m.y6a=d;m.name="PlaybackError";return m;}c.__extends(g,l);g.n2b=function(m){return m && m.message && m.stack && m.y6a?"PlaybackError" === (null === m || void 0 === m?void 0:m.name):!1;};return g;})(Error);b.GSa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Kc=void 0;r=a(0);r.__exportStar(a(407),b);r.__exportStar(a(919),b);r.__exportStar(a(408),b);r.__exportStar(a(920),b);r.__exportStar(a(921),b);r.__exportStar(a(922),b);r.__exportStar(a(409),b);r.__exportStar(a(924),b);r.__exportStar(a(925),b);r.__exportStar(a(410),b);c=a(28);Object.defineProperties(b,{Kc:{enumerable:!0,get:function(){return c.Kc;}}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Zq=b.kT=void 0;(function(a){a[a.default=0]="default";a[a.disabled=1]="disabled";a[a.B4b=2]="lowCpuPlaybackStarting";})(b.kT || (b.kT={}));(function(a){a[a.CLOSED=0]="CLOSED";a[a.OPEN=1]="OPEN";})(b.Zq || (b.Zq={}));},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Hl=void 0;r=b.Hl || (b.Hl={});r[r.CLOSED=0]="CLOSED";r[r.OPEN=1]="OPEN";r[r.wm=2]="STREAMING";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(0).__exportStar(a(411),b);},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(926),b);r.__exportStar(a(927),b);r.__exportStar(a(928),b);r.__exportStar(a(412),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.XM=void 0;r=(function(){function a(c){this.BZa=c;}Object.defineProperties(a.prototype,{iQ:{get:function(){return this.ABb;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{result:{get:function(){return this.BZa;},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{skb:{get:function(){var c;c=this;return this.BZa.then(function(){return c;});},enumerable:!1,configurable:!0}});a.prototype.cancel=function(){this.ABb=!0;};a.prototype.P_=function(c,l){var g;g=this;this.result.then(function(m){g.iQ?l && l(m):c(m);});return this;};return a;})();b.XM=r;},function(r){function b(){}function a(c){this.XZa=c;this.kr=[];this.qh=null;}b.prototype.clear=function(){this.Lf=null;this.size=0;};b.prototype.find=function(c){var g;for(var l=this.Lf;null !== l;){g=this.Ho(c,l.data);if(0 === g)return l.data;l=l.hi(0 < g);}return null;};b.prototype.lowerBound=function(c){var d;for(var l=this.Lf,g=this.iterator(),m=this.Ho;null !== l;){d=m(c,l.data);if(0 === d)return (g.qh=l,g);g.kr.push(l);l=l.hi(0 < d);}for(d=g.kr.length - 1;0 <= d;--d){if((l=g.kr[d],0 > m(c,l.data)))return (g.qh=l,g.kr.length=d,g);}g.kr.length=0;return g;};b.prototype.upperBound=function(c){for(var l=this.lowerBound(c),g=this.Ho;null !== l.data() && 0 === g(l.data(),c);){l.next();}return l;};b.prototype.min=function(){var c;c=this.Lf;if(null === c)return null;for(;null !== c.left;){c=c.left;}return c.data;};b.prototype.max=function(){var c;c=this.Lf;if(null === c)return null;for(;null !== c.right;){c=c.right;}return c.data;};b.prototype.iterator=function(){return new a(this);};b.prototype.pg=function(c){for(var l=this.iterator(),g;null !== (g=l.next());){c(g);}};a.prototype.data=function(){return null !== this.qh?this.qh.data:null;};a.prototype.next=function(){var c;if(null === this.qh){c=this.XZa.Lf;null !== c && this.JYa(c);}else if(null === this.qh.right){do {if((c=this.qh,this.kr.length))this.qh=this.kr.pop();else {this.qh=null;break;}}while(this.qh.right === c);}else (this.kr.push(this.qh),this.JYa(this.qh.right));return null !== this.qh?this.qh.data:null;};a.prototype.bL=function(){var c;if(null === this.qh){c=this.XZa.Lf;null !== c && this.CYa(c);}else if(null === this.qh.left){do {if((c=this.qh,this.kr.length))this.qh=this.kr.pop();else {this.qh=null;break;}}while(this.qh.left === c);}else (this.kr.push(this.qh),this.CYa(this.qh.left));return null !== this.qh?this.qh.data:null;};a.prototype.JYa=function(c){for(;null !== c.left;){this.kr.push(c);c=c.left;}this.qh=c;};a.prototype.CYa=function(c){for(;null !== c.right;){this.kr.push(c);c=c.right;}this.qh=c;};r.exports=b;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.ima=void 0;c=a(0).__importDefault(a(3));r=(function(){function l(g){this.VR=new Uint16Array(g.length);for(var m=0;m < g.length;++m){this.VR[m]=g.charCodeAt(m);}}l.prototype.encrypt=function(g){for(var m=this.VR.length,d="",f=0;f < g.length;++f){d+=String.fromCharCode(this.VR[f % m] ^ g.charCodeAt(f));}return encodeURIComponent(d);};l.prototype.decrypt=function(g,m){var d,f;void 0 === m && (m=!1);d=this.VR.length;f="";if(m)for((m=new Uint8Array(c.default.D9(g)),g=0);g < m.length;g++){f+=String.fromCharCode(this.VR[g % d] ^ m[g]);}else for((m=decodeURIComponent(g),g=0);g < m.length;g++){f+=String.fromCharCode(this.VR[g % d] ^ m.charCodeAt(g));}return f;};return l;})();b.ima=r;},function(r,b){function a(c){var l,g;l=Math.abs(c);g=1 / (1 + l / 2);l=g * Math.exp(-l * l - 1.26551223 + g * (1.00002368 + g * (.37409196 + g * (.09678418 + g * (-.18628806 + g * (.27886807 + g * (-1.13520398 + g * (1.48851587 + g * (-.82215223 + .17087277 * g)))))))));return 0 <= c?l:2 - l;}Object.defineProperties(b,{__esModule:{value:!0}});b.VSb=b.zab=b.qP=void 0;b.qP=a;b.zab=function(c){var l,g,d;if(2 <= c)return -100;if(0 >= c)return 100;l=1 > c?c:2 - c;g=Math.sqrt(-2 * Math.log(l / 2));g=-.70711 * ((2.30753 + .27061 * g) / (1 + g * (.99229 + .04481 * g)) - g);for(var m=0;2 > m;m++){d=a(g) - l;g+=d / (1.1283791670955126 * Math.exp(-(g * g)) - g * d);}return 1 > c?g:-g;};b.VSb=function(c){return 1 - a(c);};},function(r){function b(a){this.Mna=a;this.Yg=[];this.Zs=!1;this.nI=void 0;this.Tk={};}b.prototype.W7=function(a){this.Yg.length === this.Mna && this.Yg.shift();Array.isArray(a)?this.Yg=this.Yg.concat(a):this.Yg.push(a);this.Zs=!0;};b.prototype.OP=function(){return this.Yg.length;};b.prototype.Dqa=function(){var a;a=this.Yg;return 0 < a.length?a.reduce(function(c,l){return c + l;},0) / this.Yg.length:void 0;};b.prototype.X8=function(){var a,c;a=this.Yg;if(0 < a.length){c=this.Dqa();a=a.reduce(function(l,g){return l + g * g;},0) / a.length;return Math.sqrt(a - c * c);}};b.prototype.Av=function(a){var c,l,g;if(this.Zs || void 0 === this.nI)(this.nI=this.Yg.slice(0).sort(function(m,d){return m - d;}),this.Tk={},this.Zs=!1);if(void 0 === this.Tk[a]){c=this.nI;l=Math.floor(a / 100 * (c.length - 1) + 1) - 1;g=(a / 100 * (c.length - 1) + 1) % 1;this.Tk[a]=l === c.length - 1?c[l]:c[l] + g * (c[l + 1] - c[l]);}return this.Tk[a];};r.exports=b;},function(r,b,a){var m;function c(d){this.reset();this.Dfc(d);}function l(d){this.setInterval(d);this.reset();}function g(d){this.RD=new l(d);this.Lb=0;this.dd=null;}m=a(11);c.prototype.Dfc=function(d){this.fN=Math.pow(.5,1 / d);this.iV=d;};c.prototype.reset=function(d){d && d.xa && m.Qa(d.xa)?d.He && m.Qa(d.He)?(this.vx=this.vBb,this.mr=d.xa,this.MD=d.He + d.xa * d.xa):(this.vx=this.vBb,this.mr=d.xa,this.MD=d.xa * d.xa):this.MD=this.mr=this.vx=0;};c.prototype.add=function(d){var f;if(m.Qa(d)){this.vx++;f=this.fN;this.mr=f * this.mr + (1 - f) * d;this.MD=f * this.MD + (1 - f) * d * d;}};c.prototype.Jva=function(){var d,f,h;if(0 === this.vx)return {xa:0,He:0};d=this.mr;f=this.MD;h=1 - Math.pow(this.fN,this.vx);d/=h;f/=h;h=d * d;return {xa:d,He:f > h?f - h:0};};c.prototype.get=function(){var d;d=this.Jva();return {xa:Math.floor(d.xa),He:Math.floor(d.He)};};c.prototype.getState=function(){return 0 === this.vx?null:{a:Number(this.mr.toPrecision(6)),s:Number(this.MD.toPrecision(6)),n:this.vx};};c.prototype.Od=function(d){if(m.ub(d) || !m.has(d,"a") || !m.has(d,"s") || !m.isFinite(d.a) || !m.isFinite(d.s))return (this.MD=this.mr=this.vx=0,!1);this.mr=d.a;this.MD=d.s;m.has(d,"n") && m.Qa(d.n)?this.vx=d.n:this.vx=16 * this.iV;return !0;};l.prototype.setInterval=function(d){this.iV=d;this.fN=-Math.log(.5) / d;};l.prototype.reset=function(d){this.Ab=this.rh=null;d && m.isFinite(d.xa)?this.mr=d.xa:this.mr=0;};l.prototype.start=function(d){m.ub(this.rh) && (this.Ab=this.rh=d);};l.prototype.add=function(d,f,h){var k,n,p;m.ub(this.rh) && (this.Ab=this.rh=f);this.rh=Math.min(this.rh,f);f=Math.max(h - f,1);k=this.fN;n=Math.max(h,this.Ab);p=n - this.Ab;h=n - h;this.mr=this.mr * (0 < p?Math.exp(-k * p):1) + 8 * d / f * (1 - Math.exp(-k * f)) * (0 < h?Math.exp(-k * h):1);this.Ab=n;};l.prototype.get=function(d){var f;d=Math.max(d,this.Ab);f=this.mr * Math.exp(-this.fN * (d - this.Ab));d=1 - Math.exp(-this.fN * (d - this.rh));0 < d && (f/=d);return {xa:Math.floor(f)};};l.prototype.toString=function(){return "ewmav(" + this.iV + ")";};g.prototype.setInterval=function(d){this.RD.setInterval(d);};g.prototype.reset=function(d){this.RD.reset(d);this.Lb=0;this.dd=null;};g.prototype.start=function(d){!m.ub(this.dd) && d > this.dd && (this.Lb+=d - this.dd,this.dd=null);this.RD.start(d - this.Lb);};g.prototype.add=function(d,f,h){!m.ub(this.dd) && h > this.dd && (this.Lb+=f > this.dd?f - this.dd:0,this.dd=null);this.RD.add(d,f - this.Lb,h - this.Lb);};g.prototype.stop=function(d){this.dd=Math.max(m.ub(this.RD.Ab)?0:this.RD.Ab + this.Lb,m.ub(this.dd)?d:Math.min(this.dd,d));};g.prototype.get=function(d){return this.RD.get((m.ub(this.dd)?d:this.dd) - this.Lb);};g.prototype.toString=function(){return this.RD.toString();};r.exports={Ptb:c,Onc:l,Ntb:g};},function(r,b,a){var l,g;function c(m,d,f,h){l.call(this,f,h);this.Cx=new g(m);this.fCb=d;}l=a(153);g=a(417);c.prototype=Object.create(l.prototype);c.prototype.shift=function(){var m;m=this.Mq(0);l.prototype.shift.call(this);null !== m && this.Cx.W7(m);return m;};c.prototype.flush=function(){var m;m=this.get();this.Cx.W7(m);l.prototype.reset.call(this);return m;};c.prototype.get=function(){var m;m=this.LJ();return {sampleSize:this.OP(),kea:m,pAa:m.zk?(m.em - m.dm) / m.zk:void 0};};c.prototype.OP=function(){return this.Cx.OP();};c.prototype.LJ=function(){return this.Cx.OP() < this.fCb?{dm:void 0,zk:void 0,em:void 0,sampleSize:void 0,Qj:void 0}:{dm:this.Cx.Av(25),zk:this.Cx.Av(50),em:this.Cx.Av(75),sampleSize:this.Cx.OP(),Qj:this.Cx.Av.bind(this.Cx)};};c.prototype.toString=function(){return "biqr(" + this.fO + "," + this.ce + "," + this.Wk + ")";};r.exports=c;},function(r,b,a){var l,g;function c(m){this.K={m_:m.maxc || 25,Ara:m.c || .5,$lc:m.w || 15E3,TA:m.b || 5E3};l.call(this,this.K.$lc,this.K.TA);this.QV();}l=a(153);g=a(185).TDigest;c.prototype=Object.create(l.prototype);c.prototype.shift=function(){var m;m=this.Mq(0);l.prototype.shift.call(this);null !== m && (this.Mf.push(m,1),this.Zs=!0);return m;};c.prototype.flush=function(){var m;m=this.get();this.Mf.push(m,1);this.Zs=!0;l.prototype.reset.call(this);return m;};c.prototype.get=function(){return this.t$a();};c.prototype.FB=function(){var m;m=this.t$a();return {min:m.min,p10:m.bea,p25:m.dm,p50:m.zk,p75:m.em,p90:m.cea,max:m.max,centroidSize:m.dKb,sampleSize:m.sampleSize,centroids:m.Fj};};c.prototype.t$a=function(){var m;if(0 === this.Mf.size())return null;m=this.Mf.Qj([0,.1,.25,.5,.75,.9,1]);if(m[2] === m[4])return null;if(this.Zs || !this.sd)(this.Zs=!1,this.sd={min:m[0],bea:m[1],dm:m[2],zk:m[3],em:m[4],cea:m[5],max:m[6],Qj:this.Mf.Qj.bind(this.Mf),dKb:this.Mf.size(),sampleSize:this.Mf.n,Fj:this.rWb(),FB:this.FB.bind(this)});return this.sd;};c.prototype.rWb=function(){var m;if(0 === this.Mf.size())return null;if(!this.Zs && this.sd)return this.sd.centroids;m=this.Mf.Qj([.25,.75]);if(m[0] === m[1])return null;this.Mf.size() > this.K.m_ && this.Mf.hB();m=this.Mf.Bl(!1).map(function(d){return {mean:d.vg,n:d.n};});return JSON.stringify(m);};c.prototype.p$a=function(){return this.Mf.summary();};c.prototype.size=function(){return this.Mf.size();};c.prototype.toString=function(){return "btdtput(" + this.fO + "," + this.ce + "," + this.Wk + "): " + this.Mf.summary();};c.prototype.QV=function(){this.Mf=new g(this.K.Ara,this.K.m_);};r.exports=c;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y;function c(z){this.config=z;this.uAb=z.Lma;}l=a(422).Mka;g=a(947).PJa;b=a(418);m=b.Ptb;d=b.Ntb;f=a(260).Otb;h=a(261).Tia;k=a(261).AKa;n=a(260).hzb;p=a(419);q=a(420);v=a(423).AVa;t=a(948);w=a(949);u=a(262);x=a(950).bTa;y=a(951).PHa;c.prototype.constructor=c;c.prototype.create=function(z,B){var A,C,D,E;A=this.uAb[z];C=B[z];D={};A && Object.keys(A).forEach(function(G){D[G]=A[G];});C && Object.keys(C).forEach(function(G){D[G]=C[G];});switch(D.type){case "slidingwindow":E=new l(this.config,new f(D.mw));break;case "discontiguous-ewma":E=new l(this.config,new d(D.mw));break;case "initial-discontiguous-ewma":E=new x(new d(D.mw),D.playerStates);break;case "wssl":E=new n(D.mw,D.max_n);break;case "iqr":E=new p(D.mx,D.mn,D.bw,D.iv);break;case "tdigest":E=new q(D);break;case "ci":E=new l(this.config,new y(D,new g(D)));break;case "discrete-ewma":E=new m(D.hl);break;case "tdigest-history":E=new v(D);break;case "iqr-history":E=new t(D);break;case "avtp":E=new u();break;case "entropy":E=new w(D);break;case "deliverytime":E=new l(this.config,new y(D,new h(D)));break;case "deliverytime-ci":E=new l(this.config,new y(D,new k(D)));}E && (E.type=D.type);return E;};r.exports=c;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});b.Mka=void 0;new (a(3).default.Console)("ASEJS_PACING_FILTER","media|asejs");r=(function(){function c(l,g){this.config=l;this.filter=g;}c.prototype.Hi=function(){return new c(this.config,this.filter);};c.prototype.qgc=function(l,g,m,d){var f,h,k;k=d.$0;if(!k || !k.Uba())return !0;switch(this.config.x0b){case "requested":return !1;case "requested-low":return (k=k.LDa(this.config.Wsa),k.cfb() > ((null === (f=d.LC) || void 0 === f?void 0:f.t0) || 0));case "inferred":k=k.LDa(this.config.Wsa);l=k.uza(l,g,m,this.config.d0);if(!l)break;return k.cfb() > ((null === (h=d.LC) || void 0 === h?void 0:h.t0) || 0);case "inferred-strict":if((k=k.LDa(this.config.Wsa),k.uza(l,g,m,this.config.d0)))return !1;}return !0;};c.prototype.add=function(l,g,m,d){this.qgc(l,g,m,d) && this.filter.add(l,g,m,d);};c.prototype.get=function(l){if(this.filter.get)return this.filter.get(l);};c.prototype.start=function(l){this.filter.start && this.filter.start(l);};c.prototype.stop=function(l){this.filter.stop && this.filter.stop(l);};c.prototype.flush=function(){this.filter.flush && this.filter.flush();};c.prototype.reset=function(){this.filter.reset && this.filter.reset();};return c;})();b.Mka=r;},function(r,b,a){var l,g;function c(m){this.K={m_:m.maxc || 25,Ara:m.c || .5,Tbc:m.rc || "none",RJ:m.hl || 7200};this.QV();this.LDb=this.K.Tbc;this.iV=this.K.RJ;this.rma=Math.exp(Math.log(2) / this.iV);this.rma=Math.max(this.rma,1);this.r6=1;}l=a(11);g=a(185).TDigest;new (a(3).default.Console)("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.getState=function(){var m;if(0 === this.Mf.size())return null;m=this.Mf.Qj([.25,.75]);if(m[0] === m[1])return null;this.Mf.size() > this.K.m_ && this.Mf.hB();m=this.Mf.Bl(!1).reduce((function(d,f){l.Qa(f.vg) && l.Qa(f.n) && d.push({mean:f.vg,n:f.n / this.r6});return d;}).bind(this),[]);return {tdigest:JSON.stringify(m)};};c.prototype.Od=function(m){var d;if(l.ub(m) || !l.has(m,"tdigest") || !l.Ng(m.tdigest))return !1;try{d=JSON.parse(m.tdigest);}catch(f){return !1;}d.forEach(function(f){l.isFinite(f.n) || (f.n=1);});m=d.map(function(f){return {vg:f.mean,n:f.n};});this.r6=1;this.Mf.BCa(m);void 0 === this.Mf.Qj(0) && this.QV();};c.prototype.get=function(){var m,d;m=this.Mf;d=m.Qj([0,.1,.25,.5,.75,.9,1]);return {min:d[0],bea:d[1],dm:d[2],zk:d[3],em:d[4],cea:d[5],max:d[6],Fj:m.Bl(!1)};};c.qYb=function(m){var d;d=new c({});l.ub(m) || l.wa(m) || !l.isArray(m.Fj) || (d.Mf.BCa(m.Fj),void 0 === d.Mf.Qj(0) && d.QV());m=d.Mf.Qj([.25,.75]);return m[0] === m[1]?null:function(f){return d.Mf.Qj(f);};};c.prototype.add=function(m){var d;d=1;"ewma" === this.LDb && (this.r6=d=this.r6 * this.rma);this.Mf.push(m,d);};c.prototype.toString=function(){return "TDigestHist(" + this.Mf.summary() + ")";};c.prototype.QV=function(){this.Mf=new g(this.K.Ara,this.K.m_);};r.exports={AVa:c};},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.I5=void 0;c=a(2);b.I5=(function(){function g(m,d,f){f.nJ && (l=new (a(958).hVa)(m,d));}g.instance=function(){(0,c.assert)(l,"expected StaticMediaProvider to exist");return l;};return g;})();},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.assert=void 0;c=a(0);l=(function(g){function m(){return null !== g && g.apply(this,arguments) || this;}c.__extends(m,g);return m;})(Error);b.assert=function(g,m){if(!g)throw new l(m || "Assertion failed");};},function(r,b,a){var c,l,g,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.XMa=b.wja=void 0;c=a(0);l=c.__importStar(a(11));g=c.__importDefault(a(3));m=a(991);d=a(992);f=(function(){return function(){this.I8=new d.vU(100);this.vda=new d.vU(100);};})();r=(function(){function h(k,n,p){var q,v,t;this.K=n;this.H=p;this.o7=k;q=this.YN=this.jN=this.iN=0;v=0;t=0;this.o7.length >= this.K.hda && (this.o7.forEach(function(w){!(w=w.get().OUb) || l.wa(w.avtp) || l.wa(w.neuhd) || (q+=w.avtp,v+=1 * w.neuhd,t++);}),this.YN=t,this.iN=q / t,this.jN=v / t);}Object.defineProperties(h.prototype,{fIb:{get:function(){return this.iN;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{hIb:{get:function(){return this.jN;},enumerable:!1,configurable:!0}});h.prototype.Rba=function(){return this.YN >= this.K.hda && this.iN >= this.K.baselineHighAndStableThreshold.bwThreshold && this.jN < this.K.baselineHighAndStableThreshold.nethreshold;};return h;})();b.wja=r;r=(function(h){function k(n,p,q){n=h.call(this,n,p,q) || this;n.hma=[];n.JTb={};n.Cnb=[];n.pB=new f();n.o7.length >= n.K.hda && (n.b_a("avtp",n.pB.I8),n.b_a("neuhd",n.pB.vda));return n;}c.__extends(k,h);k.prototype.Rba=function(){var n;this.pYb();n=new m.cPa(this.H,this.Cnb,this.vIb);n.ZBa(this.hma);n=n.RKb(this.K.jba.ywc);return this.Wkc && 1 === n && this.YN >= this.K.hda;};k.prototype.fF=function(){var n,p,q,v;n={};p=g.default.time.now();q=new Date(p);v=q.getHours();n.currentMonoTime=p;n.currentTime=q.getTime();n.currentHour=v;return n;};k.prototype.F8a=function(n,p,q){n="avtp" === n?this.iN:this.jN;for(var v=p.X8(),t=0,w="skew" === q?3:4,u=0;u < p.Yg.length;u++){l.wa(n) || l.wa(v) || (t+=Math.pow(p.Yg[u] - n,w));}t/=p.Yg.length;return !l.wa(v) && 0 < v?t / Math.pow(v,w) - 3 * ("skew" === q?0:1):NaN;};k.prototype.W8a=function(n,p,q){var v;v=0;"lte" === q?v=n.reduce(function(t,w){return w <= p?t + 1:t;},0) / (1 * n.length):"gte" === q && (v=n.reduce(function(t,w){return w >= p?t + 1:t;},0) / (1 * n.length));return v;};k.prototype.WXb=function(n){var p,q;p=n.Av(25);q=n.Av(50);n=n.Av(75);return l.wa(p) || l.wa(q) || l.wa(n)?NaN:0 < q?(n - p) / q:NaN;};k.prototype.jWb=function(n,p){n="avtp" === n?this.iN:this.jN;p=p.X8();return !l.wa(p) && !l.wa(n) && (0 < p || 0 < n) && 0 < n?(n - p) / (n + p):NaN;};k.prototype.LJ=function(n,p){n=n.Av(p);return l.wa(n)?NaN:n;};k.prototype.normalize=function(n,p,q){return !isNaN(n) && 0 < q?(n - p) / q:NaN;};k.prototype.pYb=function(){var n,p,q,v,t,w,u,x,y,z,B,A;n=this;p=this.K.jba.Gdb.qvc;q=this.K.jba.Gdb.ovc;v=this.K.jba.Gdb.pvc;x=[];A=0;this.Wkc=!Object.keys(p).some(function(C){var D;B=NaN;if(!(p.hasOwnProperty(C) && q.hasOwnProperty(C) && v.hasOwnProperty(C) && !l.wa(n.pB) && n.pB.I8 && n.pB.vda) || 1 > n.YN || "number" !== typeof p[C] || "number" !== typeof q[C] || "number" !== typeof v[C])return !0;t=p[C];w=q[C];u=v[C];x=C.split("_",2);y=x[0];z=x[1];switch(y){case "avtp":D=n.pB.I8;break;case "neuhd":D=n.pB.vda;break;default:D=void 0;}if("avtp" === y || "neuhd" === y){if(D)switch(z){case "last":B=D.Yg[n.YN - 1];break;case "mean":B="avtp" === y?n.iN:n.jN;break;case "niqr":B=n.WXb(D);break;case "skew":B=n.F8a(y,D,"skew");break;case "kurtosis":B=n.F8a(y,D,"kurtosis");break;case "std":B=D.X8();break;case "b":B=n.jWb(y,D);break;default:-1 !== C.search("[p][1-9]?[1-9]") && (B=n.LJ(D,Number(C.split("_p",2)[1])));}}else switch(C){case "fracAbove20Mbps":D=n.pB.I8;B=l.wa(D)?NaN:n.W8a(D.Yg,2E4,"gte");break;case "fracBelow20p":D=n.pB.vda;B=l.wa(D)?NaN:n.W8a(D.Yg,.15,"lte");break;case "hour_current":B=n.fF().currentHour;break;case "session_ct":B=n.YN;break;case "intercept":(B=t,n.vIb=B);}B=n.normalize(B,w,u);if(isNaN(B))return !0;"intercept" !== C && (n.hma.push(B),n.Cnb.push(t),n.JTb[C]=A,A+=1);});};k.prototype.b_a=function(n,p){this.o7.forEach(function(q){q=q.get().OUb;!q || "avtp" !== n && "neuhd" !== n || l.wa(q[n]) || p.W7(Number(q[n]));});};return k;})(r);b.XMa=r;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.iM=void 0;c=a(0);l=a(76);g=a(428);m=a(20);d=a(2);f=a(8);h=a(429);k=a(266);n=a(431);p=a(432);r=(function(){function q(v,t,w){this.K=t;this.H=w;this.pA=new f.RUa();this.Z6=0;this.Pm=v.Pm;this.O=v.O;this.mediaType=v.mediaType;this.MG=v.MG;this.IA=v.IA;this.mediaType === l.u.J?(t=this.Pm,w=c.__read(t.streams,1)[0],this.cEb=new n.cma({w:t.maxWidth,Ur:t.maxHeight},{w:t.GBa,Ur:t.HBa}),void 0 !== w.framerate_value && void 0 !== w.framerate_scale && (this.hna=k.$M.from({qw:w.framerate_value,Hv:w.framerate_scale}),this.Lna=this.hna.da()),void 0 !== t.Hza && void 0 !== t.Gza && (this.WBb=k.$M.from({qw:t.Hza,Hv:t.Gza}))):this.mediaType === l.u.T && (this.Wzb=this.Pm.streams[0].channels,this.eEb=48E3);this.ob=(this.DN=this.Lna) && this.DN.W;this.mna=this.fZa=!1;this.Gwa=-Infinity;this.Edb=Infinity;v=q.kAb(this,v.qg);t=v.maxBitrate;w=v.Pc;this.op=v.op;this.maxBitrate=t;this.Pc=w;this.AEb=w.reduce(function(u,x){u[x.Sa]=x;return u;},{});!1;}q.kAb=function(v,t){var w,u,x,y,z,B,A;w=v.K;u=v.mediaType === l.u.J;x=!1;y=0;z=[];if(v.mediaType === l.u.T || v.mediaType === l.u.J){B=v.Pm;A=B.streams.some(function(C){return C.Ij;});B.streams.forEach(function(C,D){var E,G,F;E=C.bitrate;G=!0;if(u){F=C.Ij;G=w.j$ && w.dha?t?!0:F === A:t && !F || !t && (F || !A);x=x || F;}G && E > y && (y=E);C=new p.bia({By:C,zg:D,track:v,Xr:G},w,v.H);z.push(C);});}else v.mediaType === l.u.Za && (B=v.Pm,B=new p.bia({By:B.ttDownloadables["imsc1.1"],zg:0,track:v,Xr:!0,yic:B.downloadableIds["imsc1.1"]},w,v.H),z.push(B));return {op:x,maxBitrate:y,Pc:z};};Object.defineProperties(q.prototype,{rda:{get:function(){return !this.pe && 0 === this.Z6;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{pe:{get:function(){var v;return this.mediaType === l.u.Za?!0:this.ta?!(null === (v=this.pA.value) || void 0 === v || !v.pe):!!this.Uq && !!this.pA.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{jCa:{get:function(){return this.fZa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{L:{get:function(){return String(this.O.L);},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{trackId:{get:function(){return this.mediaType === l.u.Za?this.Pm.id:this.Pm.track_id;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{du:{get:function(){return this.mCb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{da:{get:function(){return this.DN;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{frameRate:{get:function(){return this.hna;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Jca:{get:function(){return this.WBb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{km:{get:function(){return this.cEb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{channels:{get:function(){return this.Wzb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{sampleRate:{get:function(){return this.eEb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{profile:{get:function(){return this.mediaType === l.u.Za?this.Pm.rawTrackType:this.Pm.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{E1:{get:function(){return this.mediaType === l.u.Za?this.Pm.rawTrackType:this.Pm.E1;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{W:{get:function(){return this.ob;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{DK:{get:function(){return this.lCb;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Uq:{get:function(){return this.ed;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{YJ:{get:function(){return this.pA.value;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Z$:{get:function(){return this.da.W;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Y$:{get:function(){return this.da.Ea;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ca:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{eua:{get:function(){return this.pA;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{o_:{get:function(){return this.Pc.some(function(v){var t;return 1 < ((null === (t=v.dh) || void 0 === t?void 0:t.length) || 0);});},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{ta:{get:function(){return this.O.ta;},enumerable:!1,configurable:!0}});q.prototype.oy=function(v){return this.HB()[v];};q.prototype.HB=function(){return this.AEb;};q.prototype.equals=function(v){return !!v && this.L === v.L && this.mediaType === v.mediaType && this.trackId === v.trackId;};q.prototype.Tda=function(){this.Z6++;};q.prototype.Sda=function(){0 < this.Z6 && this.Z6--;};q.prototype.Rda=function(v,t,w,u,x,y){if(this.ta || u && void 0 !== u.qo && (this.pe || void 0 !== u.ye && u.ye.length)){if(v.Ij || !v.track.op)this.fZa=!0;if(this.pe)!this.mna && !this.ta && u.ye && u.ye.length > this.Uq.length && (this.ed=new g.Xla(this.mediaType,this.da,u,x),this.pA.lkb(),this.Gwa=-Infinity,this.mna=!0);else {this.HZa(t);this.mCb=y;if(w=w || this.Lna)(this.GZa(w || this.Lna),void 0 === this.W && this.IZa(w.W));this.ta || (this.ed=new g.Xla(this.mediaType,this.da,u,x));if(v.Ij || !v.track.op)this.mna=!0;}}else this.ta || this.H && this.H.error("AseTrack.onHeaderReceived with missing fragments data");};q.prototype.m8b=function(v){void 0 === this.pA.value && this.pA.set(v);};q.prototype.aMb=function(v){this.pe || (this.IZa(v.W),this.HZa(v.DK),this.GZa(v.da),this.ed=v.Uq,v.eua.value?this.pA.set(v.eua.value):this.pA.lkb());};q.prototype.hp=function(v,t,w,u){var x;(0,d.assert)(this.YJ);x=this.YJ;this.ta && (t=Math.min(t,this.jF().Z));return (0,h.hp)(this.mediaType,v,x,t,w,u);};q.prototype.AB=function(v,t,w){var u,x,y,z;(0,d.assert)(this.YJ);x=this.YJ;if(this.ta){y=this.O.ba.ll;z=null === y || void 0 === y?void 0:y.s$;y=null !== (u=null === y || void 0 === y?void 0:y.r$) && void 0 !== u?u:0;Infinity === t && z && (t=new Date(z).getTime() - x.xq().Rpa + y);}return (0,h.AB)(this.mediaType,v,x,t,w);};q.prototype.lp=function(){var v;if(this.mediaType === l.u.T){(0,d.assert)(this.mediaType === l.u.T);(0,d.assert)(void 0 !== this.channels);(0,d.assert)(void 0 !== this.sampleRate);v={channels:this.channels,profile:this.profile,E1:this.E1,bitrate:this.Pc[this.Pc.length - 1].bitrate,sampleRate:this.sampleRate,du:this.du};}else ((0,d.assert)(this.mediaType === l.u.J),(0,d.assert)(void 0 !== this.Jca),(0,d.assert)(void 0 !== this.km),v={P:this.O.P,op:this.op,profile:this.profile,Z$:this.Jca.qw,Y$:this.Jca.Hv,E1:this.E1,km:this.km,maxWidth:this.km.km.w,maxHeight:this.km.km.Ur,GBa:this.km.dhb.w,HBa:this.km.dhb.Ur,du:this.du});return v;};q.prototype.toJSON=function(){return {movieId:this.L,mediaType:this.mediaType,trackId:this.trackId};};q.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.trackId;};q.prototype.jF=function(){var v,t;(0,d.assert)(this.ta,"Unexpected call to getLiveEdgeTimestamp. Not a live track.");t=(null !== (v=this.YJ) && void 0 !== v?v:this.Pc[0]).xq().qFa;return m.N.Na(Math.max(0,t - (this.K.WZ + this.K.sca)));};q.prototype.IZa=function(v){this.ob=v;};q.prototype.HZa=function(v){this.lCb=v;};q.prototype.GZa=function(v){this.DN=v;this.mediaType === l.u.J && (this.hna=k.$M.mVb(v));};return q;})();b.iM=r;},function(r,b,a){var l,g,m,d;function c(f){return function(){for(var h=Array(this.length),k=0;k < this.length;++k){h[k]=f.call(this,k);}return h;};}Object.defineProperties(b,{__esModule:{value:!0}});b.hHb=b.yy=b.Xla=b.QVa=void 0;r=a(0);l=a(2);r=r.__importDefault(a(3));g=a(20);m=new r.default.Console("FRAGMENTS","media|asejs");d=(function(){function f(h,k){this.ed=h;this.Je=k;}Object.defineProperties(f.prototype,{index:{get:function(){return this.Je;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{oc:{get:function(){return new g.N(this.bb,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Jd:{get:function(){return new g.N(this.sb,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{bb:{get:function(){return this.ed.r7 + this.ed.gE[this.Je];},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{sb:{get:function(){return this.bb + this.ed.Ts[this.Je];},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Iv:{get:function(){return this.ed.Ts[this.Je];},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{da:{get:function(){return this.ed.da;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{W:{get:function(){return this.ed.W;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ca:{get:function(){return Math.floor(1E3 * this.bb / this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ta:{get:function(){return Math.floor(1E3 * (this.bb + this.Iv) / this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{duration:{get:function(){return this.Ta - this.ca;},enumerable:!1,configurable:!0}});f.prototype.toJSON=function(){return {startPts:1E3 * this.bb / this.da.W,endPts:1E3 * this.sb / this.da.W,duration:1E3 * this.Iv / this.da.W,index:this.index};};return f;})();b.QVa=d;a=(function(){function f(h,k,n,p){this.mediaType=h;this.length=n.ye.length;this.ob=n.W;this.Ts=n.ye;this.Y7=p && p.qR;this.R_a=p && p.RR;this.DN=k;this.nGa=this.oGa=this.yYa=void 0;this.r7=n.qo;this.gE=new Uint32Array(this.length + 1);if(this.length){for(k=h=0;k < this.length;++k){this.gE[k]=h;h+=this.Ts[k];}this.gE[k]=h;this.pma=Math.floor((this.Ta - this.ca) / this.length);}}Object.defineProperties(f.prototype,{qo:{get:function(){return this.Hmb(0);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{fta:{get:function(){return this.Hmb(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{ca:{get:function(){return this.Al(0);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{Ta:{get:function(){return this.Al(this.length);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{yh:{get:function(){return new g.N(this.fta,this.W);},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{yza:{get:function(){return this.yYa || this.Tzb();},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{da:{get:function(){return this.DN;},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{W:{get:function(){return this.ob;},enumerable:!1,configurable:!0}});f.prototype.Hmb=function(h){return this.r7 + this.gE[h];};f.prototype.Al=function(h){return Math.floor(1E3 * (this.r7 + this.gE[h]) / this.W);};f.prototype.XX=function(h){return this.Al(h + 1);};f.prototype.ye=function(h){return this.XX(h) - this.Al(h);};f.prototype.get=function(h){return new d(this,h);};f.prototype.ip=function(h,k,n){if(0 === this.length || h < this.Al(0))return -1;h=Math.max(h,k || 0);for(var p=0,q=this.length - 1,v,t;q >= p;){if((v=p + (q - p >> 1),t=this.Al(v),h < t))q=v - 1;else if(h >= t + this.ye(v))p=v + 1;else {for(;k && v < this.length && this.Al(v) < k;){++v;}return v < this.length?v:n?this.length - 1:-1;}}return n?this.length - 1:-1;};f.prototype.G$=function(h,k,n){h=this.ip(h,k,n);return 0 <= h?this.get(h):void 0;};f.prototype.r9=function(h,k){var n,p;n=Math.floor(k * this.W / 1E3);k=Math.min(h + Math.ceil(k / this.pma),this.length);p=this.gE[k] - this.gE[h];if(p > n){for(;p >= n;){--k;p-=this.Ts[k];}return k - h + 1;}for(;p < n && k <= this.length;){p+=this.Ts[k];++k;}return k - h;};f.prototype.subarray=function(h,k){(0,l.assert)(void 0 === h || 0 <= h && h < this.length);(0,l.assert)(void 0 === k || k > h && k <= this.length);return new f(this.mediaType,this.da,{W:this.W,qo:this.r7 + this.gE[h],ye:this.Ts.subarray(h,k)},this.Y7 && ({qR:this.Y7.subarray(h,k + 1),RR:this.R_a}));};f.prototype.forEach=function(h){for(var k=0;k < this.length;++k){h(this.get(k),k,this);}};f.prototype.map=function(h){for(var k=[],n=0;n < this.length;++n){k.push(h(this.get(n),n,this));}return k;};f.prototype.reduce=function(h,k){for(var n=0;n < this.length;++n){k=h(k,this.get(n),n,this);}return k;};f.prototype.toJSON=function(){return {length:this.length,averageFragmentDuration:this.pma};};f.prototype.dump=function(){var k;m.trace("TrackFragments: " + this.length + ", averageFragmentDuration: " + this.pma + "ms");for(var h=0;h < this.length;++h){k=this.get(h);m.trace(("TrackFragments: ").concat(h,": [").concat(k.ca,"-").concat(k.Ta,"]"));}};f.prototype.Tzb=function(){for(var h=0,k=0;k < this.length;k++){h=Math.max(this.Ts[k],h);}return this.yYa=h;};return f;})();b.Xla=a;b.yy=c;a.prototype.Gmb=c(a.prototype.Al);c(a.prototype.XX);c(a.prototype.ye);b.hHb=function(f){return ("[").concat(Array(f.length).map(function(h,k){return f[k].toString();}).join(","),"]");};},function(r,b,a){var c,l,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.o6a=b.AB=b.hp=b.qaa=void 0;c=a(77);l=a(6);g=a(2);m=a(117);b.qaa=function(d,f){return d.ip(f,void 0,!0);};b.hp=function(d,f,h,k,n,p){var q,v,t,w;m.jn.yq(d);if(h.ta){f=h.W;q=h.xq();n=q.BL;p=q.Ct.Yf(f);q=n + Math.floor(k / p.Z);d === l.u.T && (q=Math.max(n,q - 1));d=p.Iy(q - n);k=d.add(p);return new c.Gl(h,{index:q,bb:d.Ea,sb:k.Ea,W:f,offset:0,ga:0});}(0,g.assert)(h.ma,"findFirstFragment called without stream fragments");v=h.ma;k=Math.max(h.ma.Al(0),k);d === l.u.T && !p && f.Dm && !f.AI && h.Gf && (k=Math.max(h.ma.Al(0),k + h.Gf.Z));q=(0,b.qaa)(v,k);t=h.Xl(q);if(t.Ta < k)return t;w=t.Wta(k);w?(0 < w.rj && t.sj({start:w.rj}),d !== l.u.T || f.s_ || (0 > w.re && t.sj({start:w.rj}),w.re < (f.Dm && !f.AI && h.Gf?Math.floor(h.Gf.Z):0) && t.Psa())):k >= t.Ta && q < v.length - 1 && (t=h.Xl(q + 1));d === l.u.J && n && t.Ta === n && q < v.length - 1 && (t=h.Xl(q + 1));d === l.u.T && !t.Ka && (f.ibb || f.zRb) && p && t.sj({});t.cS(k);return t;};b.AB=function(d,f,h,k,n,p){var q,v;m.jn.yq(d);if(h.ta)return (n=f=q=Infinity,d=h.W,void 0 !== k && Infinity !== k && (q=h.xq(),f=q.BL,n=q.Ct.Yf(d),q=f + Math.floor(k / n.Z),0 === k % n.Z && (q=Math.max(f,q - 1)),k=n.Iy(q - f),n=k.add(n),f=k.Ea,n=n.Ea),new c.Gl(h,{index:q,bb:f,sb:n,W:d,offset:0,ga:0}));q=h.ma;void 0 === k && (k=q.Ta);if(n && (n=n.kUb(h,k,d,f,p)))return n;n=q.da;p=k?k + (0,b.o6a)(d,n,f.hL,f.UR):q.XX(q.length - 1);q=q.ip(p,void 0,!0);n=h.Xl(q);0 === q || n.ca !== k || d !== l.u.J && f.hL || (--q,n=h.Xl(q));p=d === l.u.J?p:k;if(p < n.Ta){v=n.Vta(p);v && 0 !== v.rj?n.sj({end:v.rj}):d === l.u.T && (v || p < n.ca) && 0 !== q?n=h.Xl(q - 1):d !== l.u.J || (h.G1b || f.JGa) && !v || 0 === q || (n=h.Xl(q - 1));}d === l.u.T && !n.Ka && f.ibb && n.sj();n.cS(k);return n;};b.o6a=function(d,f,h,k){var n;return d === l.u.J || k?0:h?null !== (n=null === f || void 0 === f?void 0:f.Z) && void 0 !== n?n:0:f?-f.Z:0;};},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Hla=void 0;c=a(0);l=a(75);a(2);c.__importDefault(a(32));r=(function(){function g(m,d,f,h){this.ye=m;this.W=f;this.length=Math.min(m.length,d.length);this.No=d;this.kd=h;}Object.defineProperties(g.prototype,{ga:{get:function(){return void 0 !== this.kd?this.kd:this.kd=this.xma();},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{sizes:{get:function(){return this.No;},enumerable:!1,configurable:!0}});g.prototype.subarray=function(m,d){return new g(this.ye.subarray(m,d),this.sizes.subarray(m,d),this.W);};g.prototype.concat=function(){var f,h;for(var m=[],d=0;d < arguments.length;d++){m[d]=arguments[d];}d=[this];m=d.concat.apply(d,c.__spreadArray([],c.__read(m),!1));d=m.reduce(function(k,n){return k + n.length;},0);f=new Uint32Array(d);h=new Uint32Array(d);d=m[0].W;m.reduce(function(k,n){l.dWa.set(f,n.ye,k);l.dWa.set(h,n.sizes,k);return k + n.length;},0);return new g(f,h,d);};g.prototype.xma=function(){for(var m=this.sizes,d=this.length,f=0,h=0;h < d;++h){f+=m[h];}return f;};g.prototype.Fbb=function(m){return void 0 === this.YEb?!1:0 < this.YEb[m];};return g;})();b.Hla=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.cma=void 0;c=a(402);b.cma=(function(){return function(l,g){var m;void 0 === g && (g={w:1,Ur:1});this.km=l;this.dhb=g;m=l.w * g.w;l=l.Ur * g.Ur;g=(0,c.eF)(m,l);this.Px={w:m / g,Ur:l / g};};})();},function(r,b,a){var c,l,g,m,d,f,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.bia=void 0;c=a(0);l=a(76);g=a(996);m=a(20);d=a(2);f=a(415);h=c.__importDefault(a(3));k=a(77);r=(function(){function n(p,q,v){var t,w,u;this.K=q;this.H=v;this.Vk=p.track;this.v7=p.zg;this.By=p.By;this.BBb=this.mediaType !== l.u.Za?this.h_.Ij:!1;this.GEb=p.yic;this.XH=this.$a=void 0;q=p.Xr;this.Xr=void 0 === q?!0:q;this.U9=p.U9;this.CN=void 0;this.AYa=this.Wg=0;this.url=this.tL=this.bc=this.tu=this.Pya=this.location=this.Ya=this.Nb=void 0;this.KB=!1;this.cya=this.Tf=void 0;this.QU=new Set();q=(p=this.K) && "object" === typeof p.Bib && p.Bib[this.profile];"object" === typeof q && (q=q[this.bitrate]) && (this.GDb=new m.N(q.ticks,q.timescale));this.rCb=0 <= (null === (t=p.VHb) || void 0 === t?void 0:t.indexOf(this.profile));if((null === (w=p.kR) || void 0 === w?0:w.Ntc) && this.mediaType === l.u.J && (t=this.By,0 < (null === (u=t.zs) || void 0 === u?void 0:u.length))){u=t.zs.splice(0,t.zs.length);t=new Uint8Array(u.length);for(w=0;w < u.length;w++){t[w]=u[w].gb;}this.zs=t;}}Object.defineProperties(n.prototype,{pe:{get:function(){return this.ta?!!this.XH:!!this.$a;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{sbb:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{O:{get:function(){return this.Vk.O;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{P:{get:function(){return this.O.P;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{L:{get:function(){return this.Vk.L;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{mediaType:{get:function(){return this.Vk.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{da:{get:function(){return this.Vk.da;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{W:{get:function(){return this.Vk.W;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{DK:{get:function(){return this.Vk.DK;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{trackId:{get:function(){return this.Vk.trackId;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{track:{get:function(){return this.Vk;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{h_:{get:function(){if(this.mediaType !== l.u.Za)return this.By;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{zg:{get:function(){return this.v7;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Sa:{get:function(){var p;return this.mediaType === l.u.Za?null !== (p=this.GEb) && void 0 !== p?p:"":this.h_.downloadable_id;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{id:{get:function(){return this.Sa;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Ij:{get:function(){return this.BBb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{ta:{get:function(){return this.track.ta;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{bitrate:{get:function(){return this.mediaType === l.u.Za?0:this.h_.bitrate;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{gb:{get:function(){var p;if(this.q$)return this.q$;if(this.mediaType === l.u.J)return null !== (p=this.By.vmaf) && void 0 !== p?p:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Ddc:{get:function(){if(this.mediaType === l.u.J)return this.By.res_w || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{mfa:{get:function(){if(this.mediaType === l.u.J)return this.By.res_h || void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{profile:{get:function(){return this.mediaType === l.u.Za?"timedtext":this.h_.content_profile;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{kf:{get:function(){return this.profile;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{gz:{get:function(){if(this.mediaType === l.u.J)return this.By.sidx;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Gf:{get:function(){return this.GDb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{B_b:{get:function(){return this.rCb;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{ma:{get:function(){return this.$a;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Ey:{get:function(){return this.$a && this.$a.Ey;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Z$:{get:function(){return this.Vk.Z$;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Y$:{get:function(){return this.Vk.Y$;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{ca:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Ov:{get:function(){return void 0 !== this.CN?this.CN:this.w2b();},set:function(p){this.CN=p;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{gw:{get:function(){return this.Xr && !this.KB;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{dh:{get:function(){return this.XH;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{G1b:{get:function(){(0,d.assert)(!!this.ma,"Initial header should have been received already");return this.O.ty() && -1 < this.kf.indexOf("h264mpl") && void 0 === this.ma.mpa;},enumerable:!1,configurable:!0}});n.prototype.Rr=function(){return this.O.Rr(this.mediaType,this.Sa);};n.prototype.saa=function(){var p;p=this.Rr();return p && p.stream.ma;};n.prototype.OG=function(p){return this.O.OG(this,p);};n.prototype.Tda=function(){this.track.Tda();};n.prototype.Sda=function(){this.track.Sda();};n.prototype.Rda=function(p,q,v,t,w,u,x,y){this.ta || t && void 0 !== t.qo && (this.track.pe || void 0 !== t.ye && t.ye.length) && void 0 !== t.offset && void 0 !== t.sizes && t.sizes.length?(!this.ta && this.K.Dm && this.Gf && 0 === t.qo && (t.qo+=this.Gf.Yf(t.W).Ea),this.pe || (this.XH=p,this.track.Rda(this,q,v,t,u,y),this.ta || (this.$a=new g.nVa(this.v7,this.track.Uq,t,w,u,x,this.L)),this.track.m8b(this))):this.ta || (t?this.H.error("AseStream.onHeaderReceived: fragmentsData was missing data:" + (void 0 !== t.qo) + "," + this.track.pe + "," + this.track.jCa + "," + (void 0 !== t.ye) + "," + !(!t.ye || !t.ye.length) + "," + (void 0 !== t.offset) + "," + (void 0 !== t.sizes) + "," + !(!t.sizes || !t.sizes.length)):this.H.error("AseStream.onHeaderReceived: fragmentsData was undefined."));};n.prototype.q9=function(p){this.pe || (this.track.aMb(p.track),this.$a=p.ma,this.XH=p.dh);};n.prototype.Xl=function(p){return new k.Gl(this,this.ma.get(p));};n.prototype.P8a=function(p){var q;q=this.Xl(p.index);p.Ka && (q.sj(p.Ka),q.cS(p.kz));return q;};n.prototype.Sob=function(p,q){this.Wg=p;this.AYa=q;};n.prototype.aLb=function(){this.Ya=this.Nb=this.bc=this.location=this.url=void 0;};n.prototype.lp=function(){return this.mediaType === l.u.T?this.UVb():this.KZb();};n.prototype.Iaa=function(p,q,v){var t,w,u;return this.ta?(v=null === (t=v || this.url) || void 0 === t?void 0:t.split("?"),t=null !== (w=null === v || void 0 === v?void 0:v[0]) && void 0 !== w?w:"",w=null !== (u=null === v || void 0 === v?void 0:v[1]) && void 0 !== u?u:"",p?p=this.xq().g1b:(void 0 === q && this.H.error("AseStream.getRequestUrl: liveSegmentId undefined"),(0,d.assert)(void 0 !== q,"liveSegmentId is required for live media requests"),p=this.xq().media.replace("$Number$",q.toString())),t + "/" + p + (w?"?" + w:"")):v || this.url;};n.prototype.xq=function(){var p,q;(0,d.assert)(this.ta && this.O.ba.ll,"liveMetadata missing from manifest");p=this.O.ba.ll;p=p.Hfa[p.a$[this.Sa]];q=new Date(p.G8).getTime();return c.__assign(c.__assign({},p),{Rpa:q,qFa:this.O.n1 - q,BL:Number(p.BL),cCa:new m.N(Number(p.lib),p.W),Ct:new m.N(p.duration,p.W)});};n.prototype.E9b=function(p,q){var v,t,w,u,x,y,z,B,A;if(p){p.split(";").some(function(C){if(0 === C.indexOf("sc="))return (t=C.slice(3),!0);});if(t && (q.w_b=!0,p=this.K.DPb,this.O.S3b() && (p=Math.max(p,this.K.EPb)),!(h.default.time.fa() - this.O.Scb < p))){(0,d.assert)(null === (v=this.O.ba.DE) || void 0 === v?void 0:v.Ap,"Missing pbcid for OC side channel message decryption.");v=new f.ima(this.O.ba.DE.Ap).decrypt(t,!0);try{w=JSON.parse(v);u=w.time;x=Number(u);isNaN(x)?this.H.error(("Invalid live server time in OC side channel message. time:").concat(u)):this.O.n1=x;y=w["live-msg-start"];z=w["live-msg-end"];void 0 !== y && isNaN(new Date(y).getTime()) || void 0 !== z && isNaN(new Date(z).getTime())?this.H.error("Invalid live event times in OC side channel message. " + ("live-msg-start:").concat(y,", live-msg-end:").concat(z)):this.O.apb(y,z);B=w["encoder-tag"];A=w["encoder-region"];B && A || this.H.error("Invalid encoder info in OC side channel message. " + ("encoder-tag:").concat(B,", encoder-region:").concat(A));this.O.mkc(this.mediaType,{pJ:B,oJ:A});this.O.Scb=h.default.time.fa();}catch(C){this.H.error("Failed to parse decrypted OC side channel message. " + ("decryptedMessage:").concat(v));}}}};n.prototype.uCa=function(p){return !this.QU.has(p);};n.prototype.JFb=function(p){this.QU.has(p)?this.H.trace("segment already blocked: " + p):(this.H.trace("addBlockedLiveSegment: " + p),this.QU.add(p));};n.prototype.Hcc=function(p){this.QU.has(p) && (this.H.trace("removeBlockedSegment: " + p),this.QU.delete(p));};n.prototype.toJSON=function(){return {movieId:this.L,mediaType:this.mediaType,streamId:this.Sa,bitrate:this.bitrate,streamIndex:this.zg,isAvailable:this.Xr,fittable:this.Ov,vmaf:this.gb,resolutionWidth:this.Ddc,resolutionHeight:this.mfa};};n.prototype.toString=function(){return (0 === this.mediaType?"a":"v") + ":" + this.Sa + ":" + this.bitrate;};n.prototype.w2b=function(){var p,q,v,t,w,u,x;if(!this.pe)return !0;if(this.track.Gwa >= this.bitrate)return this.CN=!0;if(this.track.Edb <= this.bitrate)return this.CN=!1;(x=this.ta?this.K.Wca * this.bitrate / 8 * (this.K.SF + (null !== (q=null === (p=this.O) || void 0 === p?void 0:p.BG.Z) && void 0 !== q?q:0)) < this.Wg:this.$a.tJb(this.K.SF,this.Wg,null !== (t=null === (v=this.O) || void 0 === v?void 0:v.BG.Z) && void 0 !== t?t:0,null !== (u=null === (w=this.O) || void 0 === w?void 0:w.BG.ga) && void 0 !== u?u:0,this.AYa))?this.track.jCa && !this.Ij && this.track.op || (this.track.Gwa=this.bitrate):this.track.Edb=this.bitrate;return this.CN=x;};n.prototype.KZb=function(){return c.__assign(c.__assign({},this.track.lp()),{profile:this.kf});};n.prototype.UVb=function(){return c.__assign(c.__assign({},this.track.lp()),{profile:this.kf,bitrate:this.bitrate});};return n;})();b.bia=r;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.Vha=void 0;c=a(0);l=a(75);r=a(13);g=c.__importDefault(a(3));m=a(8);d=a(35);f=a(2);h=a(6);k=a(267);n=a(434);a=a(435);p=g.default.MediaSource;a=(function(q){function v(t,w,u,x,y,z,B){w=q.call(this,t,x,y,w,B) || this;n.d3.Sab(w,t,x,B);w.lu=u;w.track=u.track;w.fy=!!x.fy;w.UQ=!!x.UQ;w.SE=!!x.SE;w.X8b=x.ga;w.jS=!!x.jS;w.IN=(z?"(cache)":"") + w.Sa + " header";t=x.offset;x=x.ga;w.xx && (t+=w.xx.byteLength,x-=w.xx.byteLength);w.pv(t,x);return w;}c.__extends(v,q);Object.defineProperties(v.prototype,{Hc:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{fea:{get:function(){return this.mDb;},enumerable:!1,configurable:!0}});v.prototype.ud=function(){var t;if(!this.complete){t={type:"headerRequestCancelled",request:this};this.emit(t.type,t);}q.prototype.ud.call(this);};v.prototype.oY=function(t){this.stream.Tda();q.prototype.oY.call(this,t);};v.prototype.AP=function(t,w,u){this.stream.Sda();q.prototype.AP.call(this,t,w,u);};v.prototype.nl=function(t){t.response && this.RWa(t.response);(0,f.assert)(this.xx);t.FR();this.stream.Sda();this.jDb()?q.prototype.nl.call(this,t):this.VWa?(this.pv(t.offset + t.ga,this.VWa),this.stream.Tda(),q.prototype.nl.call(this,t)):this.T$(this);};v.prototype.Zda=function(t){t.response && this.RWa(t.response);q.prototype.Zda.call(this,t);};v.prototype.pv=function(t,w){t=new k.jT(this.stream,this.track,this.IN + " (" + this.Ma.length + ")",{Hc:!0,offset:t,ga:w,LC:{qf:h.La.Yh},location:this.location,$c:this.$c,responseType:0},this,this.Le,this.H);this.push(t);this.kd=this.Ma.reduce(function(u,x){return u + x.ga;},0);};v.prototype.jDb=function(){var t,w,u,x,y,z,B;x=this.Le;y=new l.Zu(v.F6b,this.stream,this.xx,this.stream.ta?["moov"]:["sidx"],x.v9b,{oxc:this.stream.track.jCa,nBa:void 0 === this.da,qob:!p.Yc || !p.Yc.L2a,bGa:x.bGa,Dm:x.Dm,MS:this.Le.MS,ukb:!0,fga:!p.Yc || !p.Yc.vfb,bDa:this.Le.bDa});z=y.parse({da:this.da});this.elc=x.MS && y.y_b;if(z.rw){(0,f.assert)(z.dh);this.XH=z.dh;this.mDb=z.fea;this.AXa=!!z.FSb;void 0 === this.da && void 0 === z.da && this.H.error("No frame duration available for " + this.Sa);y=z.da?new m.N(z.da):this.da;B=void 0;if(this.az.mediaType === h.u.J && (null === (t=x.kR) || void 0 === t?0:t.enabled))if(null === (w=this.az.zs) || void 0 === w?0:w.length)B=this.az.zs;else if((t=this.az.By.zs,0 < (null === t || void 0 === t?void 0:t.length)))for((B=new Uint8Array(t.length),u=0);u < t.length;u++){B[u]=t[u].gb;}else if(null === (u=z.wz) || void 0 === u?0:u.length)for((B=new Uint8Array(z.wz.length),u=0);u < z.wz.length;u++){B[u]=z.wz[u];}this.stream.Rda(z.dh,z.W,y,z.ma,z.SQ,z.Xk,B,z.trackId);this.xx=void 0;}else this.VWa=z.xGb || 0;return !!z.rw;};v.prototype.RWa=function(t){this.xx=this.xx?(0,m.iB)(this.xx,t):t;};v.F6b=new g.default.Console("MP4","media|asejs");return v;})(a.Sha);b.Vha=a;(0,d.cf)(n.d3,a,!1,!1);(0,d.cf)(r.EventEmitter,a);},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.d3=void 0;c=a(0);l=a(2);g=a(187);r=(function(m){function d(f,h,k){var n;n=m.call(this,f,h) || this;n.jS=!1;n.fy=!1;n.UQ=!1;n.SE=!1;n.lu=void 0;d.Sab(n,f,h,k);return n;}c.__extends(d,m);d.Sab=function(f,h,k,n){g.Ww.oa(f,h,k);f.XH=k.dh;f.xx=k.rBa;f.AXa=k.Im;f.H=n;};Object.defineProperties(d.prototype,{Hc:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{dh:{get:function(){return this.XH;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{rBa:{get:function(){return this.xx;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Im:{get:function(){return this.AXa;},enumerable:!1,configurable:!0}});d.prototype.ud=function(){};d.prototype.CGa=function(){};d.prototype.FGb=function(f){(0,l.assert)(this.Tc.Sa === f.Sa);!f.pe && this.Tc.pe && f.q9(this.Tc);!f.location && this.Tc.location && (f.location=this.Tc.location,f.bc=this.Tc.bc,f.tL=this.Tc.tL,f.url=this.Tc.url,f.Nb=this.Tc.Nb);this.Tc=f;};d.prototype.toJSON=function(){return c.__assign(c.__assign({},m.prototype.toJSON.call(this)),{isHeader:!0,fragments:this.stream.ma});};return d;})(g.Ww);b.d3=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Sha=void 0;c=a(0);c.__importDefault(a(3));a(2);r=(function(l){function g(m,d,f,h,k){m=l.call(this,m,d,f,h,k) || this;m.LXa=!1;m.KXa=!1;m.fV=!1;m.Ma=[];m.Zp=!1;m.XYa=!1;m.fYa=!1;m.gf=!1;m.xn=!1;m.cj=!1;m.aN=!1;m.JN=void 0;m.zx=void 0;return m;}c.__extends(g,l);Object.defineProperties(g.prototype,{Oxa:{get:function(){return this.Zp && !this.fV;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{active:{get:function(){return this.gf;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{NCa:{get:function(){return this.xn;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{complete:{get:function(){return this.cj || (this.cj=this.Ma.every(function(m){return m.complete;}));},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{aborted:{get:function(){return this.aN;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Rg:{get:function(){return this.Ma.reduce(function(m,d){return m + d.Rg;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{bytesReceived:{get:function(){return this.Ma.reduce(function(m,d){return m + d.bytesReceived;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{tg:{get:function(){return this.JN || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{url:{get:function(){return this.Ma[0] && this.Ma[0].url;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{readyState:{get:function(){return this.Fi || this.Ma.reduce(function(m,d){return Math.min(m,d.readyState);},Infinity);},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{status:{get:function(){return this.zx && this.zx.status || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Ah:{get:function(){return this.zx && this.zx.Ah;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{wP:{get:function(){return this.zx && this.zx.wP;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{Nj:{get:function(){return this.zx && this.zx.Nj;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{ew:{get:function(){return !!this.Ma.length && this.Ma[0].ew;},enumerable:!1,configurable:!0}});g.prototype.push=function(m){this.fYa && m.oa(this.Xa);this.Ma.push(m);this.Zp && m.MK();};g.prototype.ss=function(m){m=this.Ma.indexOf(m);-1 !== m && this.Ma.splice(m,1);};g.prototype.oa=function(m){l.prototype.oa.call(this,m);this.Ma.forEach(function(d){return d.oa(m);});this.fYa=!0;};g.prototype.MK=function(){this.XYa=!0;(this.Zp=this.Ma.every(function(m){return m.MK();})) && this.oY(this);this.XYa=!1;return this.Zp;};g.prototype.ud=function(){7 !== this.readyState && 5 !== this.readyState && this.abort();this.Ma.forEach(function(m){return m.ud();});};g.prototype.xga=function(m){this.Fi=this.zx=void 0;return this.Ma.every(function(d){return 5 !== d.readyState && 7 !== d.readyState?d.xga(m):!0;});};g.prototype.abort=function(){var m,d,f;m=this.active;d=this.aborted;this.Fi=7;this.aN=!0;this.xn=this.gf=!1;f=this.Ma.map(function(h){return h.abort();}).every(function(h){return h;});d || this.AP(this,m,this.Oxa);return f;};g.prototype.getResponseHeader=function(m,d){var f;f=null;this.Ma.some(function(h){return !!(f=h.getResponseHeader(m,d));});return f;};g.prototype.getAllResponseHeaders=function(m){var d;void 0 === m && (m=!1);d=null;this.Ma.some(function(f){return !!(d=f.getAllResponseHeaders(m));});return d;};g.prototype.$da=function(){};g.prototype.qC=function(m){this.gf || (this.gf=!0);this.LXa || (this.LXa=!0,this.ju=0,this.JN=this.zw=m.tg,this.BP(this));};g.prototype.pC=function(m){this.xn || (this.xn=!0);this.KXa || (this.KXa=!0,this.JN=m.tg,this.dF(this));};g.prototype.JK=function(m){this.JN=m.tg;this.wJ(this);this.ju=this.bytesReceived;this.zw=m.tg;};g.prototype.nl=function(m){this.JN=m.tg;this.complete?(this.cj=!0,this.Fi=5,this.xn=this.gf=!1,this.fV=!0,this.Pv(this)):this.wJ(this);this.ju=this.bytesReceived;this.zw=m.tg;};g.prototype.$_=function(m){this.JN=m.tg;this.zx=m;this.Fi=6;this.T$(this);};g.prototype.Z_=function(){};g.prototype.Mi=function(){return this.Ma[0].Mi() + "-" + this.Ma[this.Ma.length - 1].Mi();};g.prototype.toString=function(){return ("Compound[").concat(this.Ma.map(function(m){return m.toString();}).join(","),"]");};g.prototype.toJSON=function(){return {requests:this.Ma};};return g;})(a(188).WG);b.Sha=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Rta=void 0;b.Rta=function(a,c){for(var l,g,m=a.length - 1;0 <= m;--m){if((g=a[m],g.gw)){if(g.bitrate <= c)return m;l=m;}}return l;};},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(0).__exportStar(a(1003),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.xva=b.NGb=void 0;b.NGb=function(a){return a.UR;};b.xva=function(a,c){return void 0 !== a.NQ?a.NQ:c && void 0 !== c.NQ?c.NQ:100;};},function(r,b,a){var g;function c(m,d){this.oDb=m.kR && m.kR.enabled;this.w7=void 0;this.cCb=d;this.noa=[];this.Joa=[];this.Yna=[];m=m.uZa || [];d=m.map(function(f){return f.xtc;});d.unshift(0);this.xDb=m;this.yDb=d;this.$na=[];this.sd=[];}function l(m,d){var v,t,w,u;for(var f=[],h=[],k=0;k < m.length;k++){for(var n=m[k],p=[],q=0;q < n.length;q++){v=n[q] - (h[q] || 0);t=d && d[q];w=p;u=w.push;1 <= t && (t=Math.pow(10,t || 0),v=Math.round(v * t) / t);u.call(w,v);}f.push(p);h=n;}return f;}g=a(32).gK;c.prototype.reset=function(m){this.w7=void 0;this.noa=[];this.Joa=[];this.Yna=[];this.$na=[];m && (this.sd=[]);};c.prototype.add=function(m,d){var f,h,k,n;f=d.filter(function(p,q){return g(p) || q === m.Ce;});h=f.map(function(p){return p.bitrate;});d=d[m.Ce];f=f.indexOf(d);k=this.w7;if(k && (k.length !== h.length || k.some(function(p,q){return p !== h[q];}))){n=this.A8a();n && (this.sd.push(n),this.reset(!1));}void 0 === k && (this.w7=h);this.noa.push([f,m.Du,m.Ec,m.oqa,m.A1a,m.t0,m.J7b,m.qf,m.Bj,m.$k,m.HG - m.Du,m.G$b]);void 0 !== m.Ny && this.Yna.push([m.Du,m.Ny.PC,m.Ny.jB,m.Ny.DC]);f=d && d.ma;this.oDb && void 0 !== f && (k=f.ip(m.$k),-1 != k && (f=f.get(k),k=f.duration,d=f.gb || d.gb,void 0 !== d && this.Joa.push({ca:f.ca,duration:k,gb:d})));(d=m.dac) && d.length && (d=d.slice(0),d.unshift(m.Du),this.$na.push(d));};c.prototype.A8a=function(){var m,d;m=l(this.noa);if(0 !== m.length){m={dltype:this.cCb,bitrates:this.w7,seltrace:m,vmaftrace:this.Joa,paceratetrace:l(this.Yna)};d=l(this.$na,this.yDb);d && d.length && (m.predtrace={config:this.xDb,data:d});return m;}};c.prototype.get=function(){var m,d;m=this.A8a();d=this.sd;m && d.push(m);if(0 !== d.length)return d;};r.exports=c;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.YJa=void 0;c=a(1018);r=(function(){var x2L;x2L=2;for(;x2L !== 3;){switch(x2L){case 2:l.prototype.Dzb=function(g,m){var X7q,d;X7q=2;for(;X7q !== 14;){switch(X7q){case 2:m=(0,c.s3a)(m,g);d=g.steeringAdditionalInfo;X7q=5;break;case 5:X7q=d && d.streamingClientConfig && Object.keys(d.streamingClientConfig).length?4:3;break;case 4:var v1v="applying ";v1v+="manifest based stream";v1v+="ingClientConf";v1v+="ig";return (g=d.streamingClientConfig,this.H.trace(v1v + JSON.stringify(g)),this.YYa(m,g));break;case 3:g=g.cdnResponseData;X7q=9;break;case 9:X7q=!g?8:7;break;case 8:return m;break;case 7:var S30="using";S30+=" sab c";S30+="ell >= 100, p";S30+="ipelineEnable";S30+="d: ";var r5U="using ";r5U+="sab cell >= 2";r5U+="00, pipe";r5U+="lineEnabled";r5U+=": ";var M$H=", allo";M$H+="wSwi";M$H+="tchbac";M$H+="k";var y_7=", probe";y_7+="D";y_7+="etailD";y_7+="e";y_7+="nominator: ";var B$v="using sab cell >= ";B$v+="300, pro";B$v+="beServerW";B$v+="he";B$v+="nError: ";var x88=", a";x88+="ll";x88+="owSw";x88+="itchb";x88+="ack";var K6w=",";K6w+=" probeDetailDeno";K6w+="mi";K6w+="nator: ";var n6A="using sab c";n6A+="ell >= 400, probeServerWhenE";n6A+="rror: ";(g=g.sessionABTestCell) && (g=g.split(".")) && 1 < g.length && (g=parseInt(g[1].replace(/cell/i,""),10),400 <= g?(m.set?(m.set({probeServerWhenError:!0}),m.set({probeDetailDenominator:1}),m.set({allowSwitchback:!0})):(m.Aw=!0,m.xR=1,m.MA=!0),this.H.trace(n6A + m.Aw + K6w + m.xR + x88 + m.MA)):300 <= g?(m.set?(m.set({probeServerWhenError:!0}),m.set({probeDetailDenominator:1}),m.set({allowSwitchback:!1})):(m.Aw=!0,m.xR=1,m.MA=!1),this.H.trace(B$v + m.Aw + y_7 + m.xR + M$H + m.MA)):200 <= g?(m.set?m.set({pipelineEnabled:!1}):m.mj=!1,this.H.trace(r5U + m.mj)):100 <= g && (m.set?(m.set({pipelineEnabled:!0}),m.set({maxParallelConnections:1}),m.set({maxActiveRequestsPerSession:m.Eca}),m.set({maxPendingBufferLen:m.peb})):(m.mj=!0,m.DQ=1,m.Dy=m.Eca,m.Mca=m.peb),this.H.trace(S30 + m.mj)));return m;break;}}};l.prototype.Ezb=function(g,m){var L7N;L7N=2;for(;L7N !== 9;){switch(L7N){case 5:this.IBb=g;for(var d in m.Kra){new RegExp(d).test(g) && (m=this.YYa(m,m.Kra[d]));}return m;break;case 6:return m;break;case 1:return m;break;case 2:L7N=!m.Kra || g === this.IBb?1:5;break;}}};l.prototype.YYa=function(g,m){var s_J,d,f,h;s_J=2;for(;s_J !== 4;){switch(s_J){case 2:for(f in m){if(m.hasOwnProperty(f)){var l$E="I";l$E+="nva";l$E+="lid key";h=m[f];g.set?0 === g.set((d={},d[f]=h,d)) && this.H.trace(l$E + f):g[f]=h;}}return g;break;}}};return l;break;}}function l(g){var q61;q61=2;for(;q61 !== 5;){switch(q61){case 2:var b4O="1";b4O+="S";b4O+="I";b4O+="YbZrN";b4O+="JCp9";this.H=g;b4O;q61=5;break;}}}})();b.YJa=r;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.kOa=b.y5=void 0;c=a(0);l=a(13);g=c.__importStar(a(11));m=c.__importDefault(a(92));d=a(6);f=a(269);h=a(20);r=a(35);k=c.__importDefault(a(3));n=a(1023);p=a(442);(function(v){v[v.bVb=0]="forwards";v[v.Upa=1]="backwards";v[v.YQ=2]="none";})(q=b.y5 || (b.y5={}));a=(function(v){function t(w,u,x,y,z,B,A,C,D,E,G,F,L,O,K,I){var M,H,J;M=this;M=v.call(this,void 0,u,y,D.O,w,D,void 0,E,L,h.N.Na(G),A.cg.bind(A),F,I,void 0,new l.EventEmitter(),void 0) || this;M.Eb=w;M.zj=x;M.Mc=z;M.Tma=B;M.X=A;M.ZN=C;M.pj=F;M.wY=O;M.$h=K;M.yj=I;M.active=!1;M.YXa=[];M.boa=0;null === (H=M.O) || void 0 === H?void 0:H.SCa(M);M.children=Object.create(null);M.mz=[];M.Ne=void 0;void 0 === L && (L=h.N.Na(D.ca));J=[M.K.M0a,M.K.rFa];E.forEach(function(N){var P;P=N.mediaType;N=new p.Qja(w,M.zj,M.H,M,N,L.Z,J[P],u,M.Tma,M.$h,null === F || void 0 === F?void 0:F.fb(P));M.jf.jfc(P,N);});M.Gx=M.jf.Gea;return M;}c.__extends(t,v);Object.defineProperties(t.prototype,{L:{get:function(){return this.O.L;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{ko:{get:function(){var w,u,x,y;return [null !== (u=null === (w=this.fb(0)) || void 0 === w?void 0:w.ko) && void 0 !== u?u:0,null !== (y=null === (x=this.fb(1)) || void 0 === x?void 0:x.ko) && void 0 !== y?y:0];},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Wo:{get:function(){var w,u,x,y;return [null !== (u=null === (w=this.fb(0)) || void 0 === w?void 0:w.Wo) && void 0 !== u?u:{Z:0,ga:0},null !== (y=null === (x=this.fb(1)) || void 0 === x?void 0:x.Wo) && void 0 !== y?y:{Z:0,ga:0}];},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Gfa:{get:function(){return this.G.ca;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{RBa:{get:function(){return this.Gfa + this.mg;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Nc:{get:function(){return this.G.Ta;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Xf:{get:function(){return this.Nc + this.mg;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{zc:{get:function(){return this.O.zc;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{weight:{get:function(){return this.G.weight;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{G:{get:function(){return this.bq;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{gm:{get:function(){return this.jf;},enumerable:!1,configurable:!0}});t.prototype.ee=function(){var w;this.bg || (this.active=!1,this.pj && (delete this.pj.children[this.G.id],this.pj=void 0),g.pg(this.children,function(u){u && u.pj && (u.pj=void 0);}),this.children=Object.create(null),this.nN=void 0,v.prototype.ee.call(this),null === (w=this.O) || void 0 === w?void 0:w.sGa(this),this.jf.clear());};t.prototype.rDa=function(w,u){void 0 === u && (u=q.Upa);this.gm.forEach(function(x){(g.wa(w) || x.mediaType === w) && x.reset();});switch(u){case q.Upa:this.pj && this.pj.rDa(w,u);break;case q.bVb:this.children && g.pg(this.children,function(x){x && x.rDa(w,u);});}};t.prototype.hQ=function(w){var u,x,y;if(!this.active)return !1;u=this.pj;if(u){x=u.fb(w);y=x.Xa.uhb;if(0 !== y && (u.uO(w),y=x.Xa.uhb,0 !== y))return !1;}return !0;};t.prototype.Ae=function(w){return this.gm.get(w);};t.prototype.A_b=function(){return this.gm.every(function(w){return 0 === w.IC;});};t.prototype.toJSON=function(){return c.__assign(c.__assign({},v.prototype.toJSON.call(this)),{active:this.active,playerStartPts:this.Bd,playerEndPts:this.Xf,pipelines:this.gm,previousBranch:this.pj});};t.prototype.Rlb=function(w,u){this.O.sGa(this);this.O=this.G.O=w;this.yEa(this.O);this.O.SCa(this);this.gm.forEach(function(x){var y;y=u[x.mediaType];y && x.u1(y);});};t.prototype.wYb=function(w){return this.yj[w];};t.prototype.fb=function(w){return this.gm.get(w);};t.prototype.QYb=function(w){return this.fb(w).IC;};t.prototype.Dlb=function(w,u){var x,y,z,B,A;x=void 0;y=this;z=this.G;w=this.W8(z.ca,this.O,w,this.L === (w?w.L:this.Mc.md.L));B=w.zR;A=w.BB;void 0 === x && (x=[d.u.T,d.u.J]);0 === A.length || x.forEach(function(C){var D,E;D=y.fb(C);u && (D.pd=A[C]);E=y.hY(z.Ta);D.Tfa(E[C]);});return B;};t.prototype.ey=function(w,u){if(u=this.fb(u))return u.Xa.ey(w);};t.prototype.uO=function(w){void 0 === w?this.gm.forEach(function(u){u.uO();}):this.fb(w).uO();};t.prototype.E0=function(w,u,x){(w=this.fb(w)) && w.Xa.E0(u,x);};t.prototype.Gaa=function(w,u){(u=this.fb(u)) && u.Xa.Gaa(w);};t.prototype.Z4b=function(w){this.YXa[w]=!0;};t.prototype.pKb=function(){var w;w=this;return [d.u.T,d.u.J].every(function(u){return !w.zc(u) || w.YXa[u];});};t.prototype.kKb=function(w,u,x,y){var z,B,A,C,D,E,G,F,L;z=this.K;B=this.Eb;A=this.X.getState();C=A === d.La.Yd || A === d.La.Vg;if(!C && void 0 === x)return {Jg:!0};if(A === d.La.Vg && k.default.time.fa() < this.boa + z.aAa)return {Jg:!1};D=this.fb(d.u.T);E=this.fb(d.u.J);G=this.Mc.Tx(this,d.u.T);F=this.Mc.Tx(this,d.u.J);L=(0,f.vea)(A);G=!D || D.h2a(L,this.X.cg(),u,G,this.X.Jt(),y);F=!E || E.h2a(L,this.X.cg(),w,F,this.X.Jt(),y);void 0 !== x && G && (x=x.trackId,w=this.O.getTrackById(x),this.Kzb(x,w.MG),B.DI=void 0);if(G && F)return (this.ZN(),this.RW=k.default.time.fa(),A === d.La.Vg && (this.boa=k.default.time.fa()),{Jg:!0,zv:E?E.HI:D.HI});G=this.Lh(d.u.T);F=this.Lh(d.u.J);if(C){B=!E || F > z.yk;if((!D || G > z.yk) && B && (D=this.wY(),D >= z.wC))return (this.ac("buffering longer than limit: " + D + " >= " + z.wC + ", audio buffer: " + G + " ms, video buffer: " + F + " ms"),this.ZN(),this.RW=k.default.time.fa(),A === d.La.Vg && (this.boa=k.default.time.fa()),{Jg:!0,zv:"prebufferTimeLimit"});this.zj.wCb();}return {Jg:!1};};t.prototype.Wqa=function(w,u){var x,y,z,B,A,C;x=this.K;y=this.fb(d.u.T);z=this.fb(d.u.J);u?(u=this.Lh(d.u.T,w),w=this.Lh(d.u.J,w)):(u=this.Mc.Tx(this,d.u.T,w),w=this.Mc.Tx(this,d.u.J,w));B=x.yk;A=!this.zc(d.u.T) || y.Zi && 0 === y.Xa.aG && 0 === y.Xa.Eu;y=!this.zc(d.u.J) || z.Zi && 0 === z.Xa.aG && 0 === z.Xa.Eu;C=A && y;x=!A && u < x.yk;if(!C && (x || !y && w < B))return !1;if(z && z.Jg || !this.zc(d.u.J))return !0;if(C)if(this.Eb.c7 && 0 === u && 0 === w)this.ac("playlist mode with nothing buffered, waiting for next manifest");else return !0;return !1;};t.prototype.Pfa=function(w,u){var x,y;x=this;y=this.K;this.gm.forEach(function(z){z.seeking=void 0;});w && y.jj && this.gm.forEach(function(z){var B;if(z){B=x.Mc.LI(x,z.mediaType);z="bufferingComplete: , mediaType: " + z.mediaType + ", bufferLevelBytes: " + z.Wo.ga + ", completedMs: " + z.LO + ", completedBytes: " + B + ", partials: " + z.Xa.aG + ", streamingPts: " + z.Ec + ", completeStreamingPts: " + z.ut + ", fragments: " + JSON.stringify(z.Xa.ma) + ", toAppend: " + u(z.mediaType);x.zj.bo(z);}});};t.prototype.iz=function(w,u,x){var y,z,B;y=this;z=k.default.time.fa();B={};g.pg(this.children,function(A){var C,D,E,G;if(A){if(A.Ne){A.Ne.kRb=z - A.Ne.zba;A.Ne.zba=void 0;C=A.Ne.weight;}else C=y.Mc.h$a(y.G.id,A.G.id);D=A.CB();E=y.fb(d.u.T) && 0 === D.$s;G=y.fb(d.u.J) && 0 === D.Ip;B[A.G.id]={weight:C,qt:D,dZ:!E && !G};}});x={ws:z,Qe:w,tsa:x,hga:this.G.id,Ne:B};w || (w=u.cg(),x.kS=w - (this.G.ca + this.mg),x.kS=Math.max(0,x.kS),x.P9=0,x.startTime=z);this.mz.unshift(x);return x;};t.prototype.BLb=function(w){var u,x;u=this.mz[0];u.Qe && (u.kS=this.Nc - this.G.ca,u.kS=Math.max(0,u.kS));u.oob={};x=w.CB();(0,m.default)(x,u.oob);u.dZ=w.Wo.every(function(y){return 0 < y.Z;});this.mz=[];return u;};t.prototype.po=function(w){var u;u=this.G;w-=this.mg;if(u.ca < w && w < u.Ta)this.mz.shift();else if(u=this.mz[0])u.po=!0;};t.prototype.W8=function(w,u,x,y){var z,B,A,C;z=this;void 0 === u && (u=this.O);B=!1;if(x){B=!0;A=x.fb(d.u.J).Ud;x=x.fb(d.u.T).Ud;if(!A || !x)return {zR:[],BB:[]};A=A.Ta;y || (A=void 0);}C=this.Z6a(w,A,B,u);u.Vb === this.Mc.bPb && [d.u.J,d.u.T].forEach(function(D){var E;E=z.fb(D);E && (E.pd=C[D]);});return {zR:C.map(function(D){return D.ca;}),BB:C};};t.prototype.Z6a=function(w,u,x,y){var z;z=this;void 0 === y && (y=this.O);return this.d_a(y)?[d.u.J,d.u.T].map(function(B){var A;if(!z.zc(B))return {};A=y.lj[B];B=z.fb(B).hp(A.stream,w,u,x);w=B.ca;return B;}).reverse():[];};t.prototype.hY=function(w,u){var x;x=this;void 0 === u && (u=this.O);return this.d_a(u)?[d.u.J,d.u.T].map(function(y){var z;if(!x.zc(y))return {};z=u.lj[y].stream;y=x.fb(y).AB(z,w);w=x.K.Th?new h.N(y.sb,z.da.W).Z:y.Ta;return y;}).reverse():[];};t.prototype.lkc=function(w,u){var x;x=this.G.Ta;x && x < u && (w=this.hY(x));u=this.Ae(d.u.J);x=this.Ae(d.u.T);u && u.Tfa(w[d.u.J]);x && x.Tfa(w[d.u.T]);};t.prototype.d_a=function(w){var u;u=w.lj;if(!u)return !1;w=u[d.u.J];w=!this.zc(d.u.J) || w && w.stream.pe;u=u[d.u.T];u=!this.zc(d.u.T) || u && u.stream.pe;return w && u?!0:!1;};t.prototype.Kzb=function(w,u){this.zj.uCb(w,u);};return t;})(n.pOa);b.kOa=a;(0,r.cf)(l.EventEmitter,a);},function(r,b,a){var c,l,g,m,d,f,h,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.Qja=void 0;c=a(0);r=a(443);l=c.__importDefault(a(29)).default.$d;g=a(429);m=a(6);d=c.__importDefault(a(3));f=a(194);h=a(2);k=a(20);n=a(1056);a=(function(p){function q(v,t,w,u,x,y,z,B,A,C,D){w=p.call(this,u,B,w,u,u,x,k.N.Na(y),z,!1,function(){return null === D || void 0 === D?void 0:D.De;}) || this;w.Eb=v;w.zj=t;w.xh=A;w.$h=C;w.lqa=0;w.cF=[];w.jA=!1;w.aq.rpb=!1;w.dV=new n.lOa(u,w.$h,B,w.H,w.mediaType,w.zj,w.Xa,w.Eb);w.n3b=d.default.time.fa();w.e3b=void 0;w.xK=B.lxa;w.nib=d.default.time.fa();t=(0,f.MP)(B);v=t.s0;t=t.YK;w.cac=w.mediaType === m.u.T?v:t;w.u1(x);return w;}c.__extends(q,p);Object.defineProperties(q.prototype,{et:{get:function(){return this.Xa.et;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{LO:{get:function(){return this.Xa.LO;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{GE:{get:function(){return this.Xa.GE;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{IC:{get:function(){return this.Xa.IC;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Zi:{get:function(){return this.dV.Zi;},set:function(v){this.dV.Zi=v;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Ls:{get:function(){return this.dV.Ls;},set:function(v){this.dV.Ls=v;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{pca:{get:function(){return this.ae;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{j1:{get:function(){return this.Wj.j1;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{aZb:{get:function(){return this.Eb.hoa;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Jg:{get:function(){return this.jA;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{HI:{get:function(){return this.fXa;},enumerable:!1,configurable:!0}});q.prototype.reset=function(){this.seeking=void 0;this.connected=this.Zi=!1;this.aq.reset();};q.prototype.ee=function(){this.reset();p.prototype.ee.call(this);};q.prototype.AB=function(v,t){return (0,g.AB)(this.Vk.mediaType,this.K,v,t,this.Th,this.Eb.M5b);};q.prototype.hp=function(v,t,w,u){return (0,g.hp)(this.Vk.mediaType,this.K,v,t,w,u);};q.prototype.po=function(){this.xK=this.K.lxa;};q.prototype.uO=function(){this.Xa.Qga();};q.prototype.u1=function(v){var t,w;t=this.Eb;w=this.mediaType;(0,h.assert)(v.mediaType === w);(0,h.assert)(v.O === this.hb.O);this.Vk=v;this.hb.O.BGa(w,v.Pc);t.kBb(this,v.Pm);this.uJb(v.Pc);this.De.u1(v);this.hb.O.jra();this.Zi=!1;};q.prototype.Pta=function(v){var t;t=this.hb.O.lj[this.mediaType];if(t && t.stream.pe && (v=t.stream.ma.ip(v),-1 !== v))return v;};q.prototype.bS=function(v,t){var w,u,x;if(this.pd && this.pd.ca === v){t=this.pd.index;w=v;}else {u=this.hb.O;x=u.lj[this.mediaType];if(!x || !x.stream.pe){this.RK=v;this.Y9b=t;return;}w=x.stream.ma;this.pd=this.hp(x.stream,v,void 0,t);if(void 0 === this.pd){if((t=w.length - 1,w=w.Al(t),this.ac("setStreamingPts out of range of fragments, pts:",v,"last startPts:",w,"fragment index:",t,"fastplay:",u.Vf.qg),u.Vf.qg)){this.RK=v;return;}}else (t=this.pd.index,w=this.pd.ca);}this.Sm=t;this.VV=w;this.RK=void 0;};q.prototype.tlc=function(v){var t,w;t=this.Vk.oy(v);w="verifying streamId: " + v + " stream's track: " + (t?t.Sa:"unknown") + " currentTrack: " + this.Vk.trackId;return t?!0:(this.zj.bo(w),this.zj.bo("unknown streamId: " + v),!1);};q.prototype.uJb=function(v){this.V_b=v.reduce(function(t,w){return w.gw && w.bitrate > t.bitrate?w:t;},v[0]);};q.prototype.Tfa=function(v){this.Ud=v;};q.prototype.O4b=function(v,t,w,u,x){this.wob(v,t,u,x);w && ++this.lqa;this.Eb.Ml();};q.prototype.qC=function(v){v.Ta && v.ca && (this.xK-=v.Ta - v.ca);p.prototype.qC.call(this,v);};q.prototype.nl=function(v){this.L$a(v);this.Pv(v);};q.prototype.qkc=function(v){var t;t=d.default.time.fa();this.xK+=v * (t - this.nib);this.nib=t;};q.prototype.Adc=function(){this.xK=this.K.lxa;};q.prototype.IO=function(v){this.Xa.Rqa();this.Th || this.dV.IO(v,this.Nc);};q.prototype.L$a=function(v){var t,w,u;w=this.pca;u=this.Eb;this.xh.OZa() || (this.zj.TCb(v.mediaType,v.O.Vb,v.stream.track.IA,this.ut,this.S),null === (t=this.Th) || void 0 === t?void 0:t.M0b(v),t=w.X.cg() || 0,u.Qb.lA() || (w=w.fb(l.J)) && !w.Jg && w.cba && u.Qb.Wva(w),this.IO(t),this.Eb.K$a(v),this.xh.m6(this) && this.xh.Ml());};q.prototype.cBa=function(v){this.Eb.Waa(v);};q.prototype.h2a=function(v,t,w,u,x,y){var z,B;z=this.K;B=z.yk;if(w >= z.yk && (z.ifa && (B=w + 1E3),z.jfa && !this.connected))return !1;if(this.Th)return this.Th.aB();w=this.Zi && 0 === this.Xa.qBa && 0 === this.Xa.Eu;return !w && u < B?!1:w?y && 0 === u?(this.ac("playlist mode with nothing buffered, waiting for next manifest"),!1):!0:this.AKb(v,t,x);};q.prototype.Bfc=function(v){this.VV=v;};q.prototype.Pfa=function(v){this.jA=!0;this.fXa=v;};q.prototype.hra=function(){this.jA=!1;this.fXa=void 0;};q.prototype.AKb=function(v,t,w){if(this.Jg || this.mediaType === m.u.T)return !0;if(void 0 === this.kl)return !1;t=this.VAb(t,v);this.track.O.uk.r2(this.track.O.P,this.track.Pc);this.Wj.$Ba([this.kl],!1,(0,m.uea)(v),t,this.cac);v=this.Wj.aB(t,v,w,this.kl,this.hb.O.qq);v.complete?this.Pfa(v.reason):(this.hra(),this.NF=v.NF,this.progress=v.progress);return this.Jg;};q.prototype.VAb=function(v,t){var w,u,x,y,z;y=d.default.zq()[this.mediaType];z=this.Xa.Gaa();v={st:y,ca:null !== (w=z.Bd) && void 0 !== w?w:0,Oc:v,Ec:null !== (u=z.pR || v) && void 0 !== u?u:0,ik:null !== (x=z.eX || v) && void 0 !== x?x:0,Rg:z.Rg,Pj:z.Pj,Bp:z.Bp,H7a:z.ma.length,ma:z.ma};"number" !== typeof v.ca?(v.ca=0,v.Ec=0):t === m.bd.Yd && v.Oc !== v.ca && (v.Oc=v.ca);return v;};return q;})(r.Tka);b.Qja=a;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z;Object.defineProperties(b,{__esModule:{value:!0}});b.Tka=void 0;c=a(0);l=a(13);g=a(1024);m=a(91);d=a(1025);f=a(6);h=a(1027);k=a(1033);n=a(192);p=a(271);q=a(8);v=a(2);t=a(20);w=c.__importDefault(a(3));r=a(78);u=a(35);x=a(447);y=a(118);z=a(133);a=(function(B){function A(C,D,E,G,F,L,O,K,I,M,H,J,N){var P;P=B.call(this,C) || this;P.K=D;P.ae=F;P.Vk=L;P.xBb=O;P.Fx=J;P.Sp=N;P.events=new l.EventEmitter();P.connected=!1;P.swa=!1;P.tn=!1;P.wBb=0;P.VZa=0;P.tV="LIVE";P.W$=new d.HQa(P.mediaType,D,E,P);C="[" + P.mediaType + "]";P.H=(0,q.Oi)(w.default,E,C);P.Il=P.H.error.bind(P.H);P.ac=P.H.warn.bind(P.H);P.dk=P.H.trace.bind(P.H);P.VV=O.Z;"string" === typeof K || void 0 === K?(E=P.mediaType === f.u.T && D.f$ || P.mediaType === f.u.J && D.g$,P.yoa=new p.Ola(K,D,new n.J5(M),E)):P.yoa=K;P.Am=new g.pSa(P,G,P.K,P.H,P.mediaType);P.aq=new h.hUa(P,D,P.H,P.Am,P.ae,P.mediaType,P.Fx,function(){return P.Tj;});D.Th && (P.Th=new k.bVa(D.Th,P.H));I && (P.af=null !== H && void 0 !== H?H:(0,x.zt)(P.mediaType,P.track.O,P.K,P.H,P.track.ta,P.Am.aVb.bind(P.Am),P.Am.$Ub.bind(P.Am),function(){}),P.af.on("created",function(){return P.events.emit("requestQueueCreated");}));return P;}c.__extends(A,B);Object.defineProperties(A.prototype,{mediaType:{get:function(){return this.Vk.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{track:{get:function(){return this.Vk;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{hb:{get:function(){return this.ae;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{S:{get:function(){return this.ae.G.id;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Xa:{get:function(){return this.aq;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Pc:{get:function(){return this.Vk.Pc;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Wo:{get:function(){return this.aq.Wo;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{ko:{get:function(){return this.aq.ko;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Ec:{get:function(){return this.VV;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{kga:{get:function(){var C;return null !== (C=this.Ld) && void 0 !== C?C:this.Rt;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{dX:{get:function(){var C;return null !== (C=this.Xa.dX) && void 0 !== C?C:this.kga;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Roa:{get:function(){return this.Xa.dX;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{ut:{get:function(){return this.Xa.ut;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{yra:{get:function(){return this.Xa.yra;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{c3b:{get:function(){var C;C=this.Xa.Gcb;return null === C || void 0 === C?void 0:C.Jd;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{hw:{get:function(){return !!this.Ud && (this.Sm > this.Ud.index || this.VV >= this.Ud.Nc);},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Dj:{get:function(){return this.hw && 0 === this.aq.aG;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{SGb:{get:function(){return !!this.Xa.Gcb;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{et:{get:function(){return this.Xa.et;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Wq:{get:function(){return this.Vc?t.N.max(this.Vc.Ga(this.TC),t.N.Oa):void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{tJ:{get:function(){return this.hb.tJ;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{m4a:{get:function(){return this.Xa.ma.Ct;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Wj:{get:function(){return this.yoa;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{De:{get:function(){return this.Wj.De;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{kl:{get:function(){return this.Wj.De.kl;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{W:{get:function(){var C,D;return null !== (D=null === (C=this.pd) || void 0 === C?void 0:C.W) && void 0 !== D?D:1;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{bb:{get:function(){var C;return null === (C=this.pd) || void 0 === C?void 0:C.bb;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{sb:{get:function(){var C;return null === (C=this.Ud) || void 0 === C?void 0:C.sb;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Tj:{get:function(){return this.hb.Rd.Yf(this.W).Ea;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{cba:{get:function(){return this.Xa.cba;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{jz:{get:function(){return this.Xa.jz;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{hFa:{get:function(){return this.Xa.hFa;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Rt:{get:function(){return this.xBb.add(this.hb.Rd);},enumerable:!1,configurable:!0}});A.prototype.eW=function(){var C;C=this;this.aq.eW(void 0,function(D){var E;E=D[0];D=E.Td;E=E.index;E < C.Sm && C.wL(D,E);});};A.prototype.reset=function(){this.Xa.reset();this.pd && this.wL(this.pd.Td,this.pd.index);this.af && this.hb.O.hO(this.mediaType,this.af);};A.prototype.ee=function(C){var D;this.tn=!0;this.aq.ee(C);null === (D=this.yoa) || void 0 === D?void 0:D.De.Wa();this.af && (this.hb.O.hO(this.mediaType,this.af),y.Bo.instance.dJ(this.af),this.af.removeAllListeners(),this.af=void 0);};A.prototype.toJSON=function(){return {started:this.jz,startOfSequence:this.hFa,segmentId:this.S,requestedBufferLevel:this.ko,viewableId:this.ae.O.P,hasFragments:this.cba};};A.prototype.rm=function(C){return this.Xa.rm(C);};A.prototype.wL=function(C,D){this.VV=C;this.Sm=D;};A.prototype.ny=function(){return this.Xa.ny();};A.prototype.WE=function(){this.Xa.close();};A.prototype.HE=function(C){return (C=this.Xa.ey(C.Z))?C.complete:!1;};Object.defineProperties(A.prototype,{ri:{get:function(){return this.ae.ri;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{TC:{get:function(){var C,D,E,G;return null !== (G=null !== (C=this.Xa.TC) && void 0 !== C?C:null === (E=null === (D=this.pd) || void 0 === D?void 0:D.oc) || void 0 === E?void 0:E.add(this.hb.Rd)) && void 0 !== G?G:this.Rt;},enumerable:!1,configurable:!0}});A.prototype.xob=function(C,D,E){var G;(0,v.assert)(this.af);(0,v.assert)(!this.tn,"pipeline.tryIssueRequest on disabled pipeline");if(!C.pe)return (C=C.OG(this.af))?{Jj:C,reason:"success"}:{Jj:C,reason:"pipelineTryIssueHeaderRequest"};if(C.ta)((0,v.assert)(this.track.ta,"Unexpected live stream."),C=this.Ijc(C,this.af,E));else {G=C.saa();(0,v.assert)(G,("initialHeaderReceived and headerFragments mismatch - initialHeaderReceived:").concat(C.pe,", headerFragments:").concat(G));C=this.wob(C,G,this.af,D,E,!1);}this.i2a();return C;};A.prototype.Eba=function(C,D){C && (this.pd=C);D && (this.Ud=D);(0,v.assert)(this.pd);(0,v.assert)(this.Ud);(0,v.assert)(void 0 === this.Sm);this.wL(this.pd.Td,this.pd.index);};A.prototype.truncate=function(C){var D;D=this;(0,v.assert)(this.pd,"expected first fragment to exist on updateStreaming");this.Ud=C;this.hw && (C=c.__read(this.aq.mFb(C),2),this.wL(C[0],C[1]),this.Tt() && (this.Xa.llb(),this.Xa.Rqa(),Promise.resolve(function(){D.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:D.mediaType});})));};A.prototype.EF=function(){return this.Tt()?!1:this.Nh()?!0:this.track.rda;};A.prototype.Nh=function(){return void 0 !== this.pd && void 0 !== this.Ud;};A.prototype.Tt=function(){return this.tn || this.hw;};A.prototype.Qbb=function(){var C,D,E;E=this.K.mj;if(null === (C=this.af) || void 0 === C?0:C.track)E=null === (D=this.af) || void 0 === D?void 0:D.track.mj;return E;};Object.defineProperties(A.prototype,{kib:{get:function(){var C;C=!0;this.K.jfa && (C=this.connected);this.K.ifa && (C=C && this.swa);return C;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{k9b:{get:function(){return void 0 !== this.Th;},enumerable:!1,configurable:!0}});Object.defineProperties(A.prototype,{Sgb:{get:function(){var C;return (null === (C=this.Th) || void 0 === C?0:C.aB())?{complete:!0,reason:"stall"}:{complete:!1,reason:"stall"};},enumerable:!1,configurable:!0}});A.prototype.nl=function(C){this.Am.q7b(C);"oncomplete" === this.K.Pab && (this.swa=!0);this.Pv(C);};A.prototype.qC=function(C){C.Hc || this.Am.egb(C.stream,C.ca,C.Td);this.Am.m7b(this.S,C.stream,C.Hc);this.BP(C);};A.prototype.pC=function(C){C.a8 || (this.connected=!0);"onfirstbyte" === this.K.Pab && (this.swa=!0);this.dF(C);};A.prototype.Y8a=function(C){var D,E;D=this.Xa.ma;if(0 === D.length)return {ma:[],gea:0,Pj:0,Bp:0};E=D.xP(C.Z);0 > E && (E=void 0 === D.ca || C.Z <= D.ca?0:D.length);return {ma:D.Kec(E),gea:Math.max(0,D.b3a - E),Pj:D.Pj,Bp:D.Bp};};A.prototype.jF=function(){return this.track.jF();};A.prototype.r9a=function(){var C,D,E,G,F;if(this.track.ta){C=this.TC;E=(this.kl?this.kl:this.Pc[0]).xq().qFa;G=1E3 * this.ae.O.uk.W3b;if(this.lYa){F=w.default.time.fa() - this.lYa;C=E - C.Z;F > this.K.Q3b && (C > G && "LIVE" === this.tV?this.tV=D="DVR":C <= G && "DVR" === this.tV && (this.tV=D="LIVE"));}else E - C.Z > G && (this.tV=D="DVR",this.lYa=w.default.time.fa());return D;}};A.prototype.okc=function(){this.rm(!0);};A.prototype.wob=function(C,D,E,G,F,L){var O,K,I,M,H,J,N,P,W,V;void 0 === L && (L=!0);N=this.ae;P=N.O;W=this.mediaType;V=this.Sm;if(V >= D.length)return (this.ac("makeRequest nextFragmentIndex:",V,"past fragments length:",D.length),{Jj:!1,reason:"insufficientFragments"});if(!this.pd || !this.Ud)return (this.ac("makeRequest delayed, first or last fragment not set","first:",!!this.pd,"last:",!!this.Ud),{Jj:!1,reason:"noFirstOrLastFragment"});D=W === f.u.T && !!this.K.KC && (null === (O=this.hb.G.G) || void 0 === O?void 0:O.Kv) && this.pd.Qn < this.K.KC && void 0 !== this.pd.Ka;O=W === f.u.T && !!this.K.KC && (null === (K=this.hb.G.G) || void 0 === K?void 0:K.Lv) && this.Ud.Qn < this.K.KC && void 0 !== this.Ud.Ka;K=this.W$.X8a(C,V,D,O);if(W === f.u.T && this.K.KC){if(null === (I=this.hb.G.G) || void 0 === I?0:I.Kv)K.Pr?K.tlb():K.index === this.pd.index + 1 && this.pd.Qn < this.K.KC && void 0 !== this.pd.Ka && K.tlb(this.pd.Ka.end - this.pd.Ka.start);if(null === (M=this.hb.G.G) || void 0 === M?0:M.Lv)K.Nm?K.ulb():K.index === this.Ud.index - 1 && this.Ud.Qn < this.K.KC && void 0 !== this.Ud.Ka && K.ulb(this.Ud.Ka.end - this.Ud.Ka.start);}if(this.Sp && !this.Sp.sKb(this.mediaType,K.ga))return {Jj:!1,reason:this.mediaType === f.u.J?"globalVideoMemoryLimit":"globalAudioMemoryLimit"};this.nya=K.region;K.LC=F;null === (H=this.Th) || void 0 === H?void 0:H.O0b(K,C);K.Nm && W === f.u.J && this.Am.Rna(N.G,K.Ta);this.K.EQ && (K.EQ=this.K.EQ);void 0 !== C && (K.location=C.location,K.$c=C.bc,K.nEa=C.tu);(F=N.O.Zfa) && "OPEN_CONNECT_APPLIANCE" === C.uu && (W=W === f.u.T && this.K.f$ || W === f.u.J && this.K.g$,I=this.K.oSb && this.mediaType === f.u.J && this.K.mj,K.$0=W?G:void 0,K.$fa=F.Dv({zE:N.Lh(this.mediaType),Ada:this.K.jSb?this.K.Ada:void 0,Xnb:String(w.default.time.fa()),mX:W?G:void 0,cqa:I?{start:K.offset,size:K.ga}:void 0}));w.default.time.fa();E=this.Xa.W3a(K,E,C);if(!E.MK()){this.ac("MediaRequest.open error: " + E.Ah + " native: " + E.Nj);if(7 === E.readyState)return {Jj:!1,reason:"requestAborted"};this.ac("makeRequest caught:",E.Ah);P.fg("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return {Jj:!1,reason:"openAseMediaRequest"};}null === (J=this.Th) || void 0 === J?void 0:J.KSb(E,K,C);this.Am.r7b(E);this.wL(E.Nc,K.VQ);L && this.i2a();return {Jj:!0,reason:"success"};};A.prototype.Ijc=function(C,D,E){var G,F,L,O,K,I,M,H,J,N,P;L=this.ae;O=L.O;K=this.Sm;I=C.W;M=C.xq();H=M.BL;J=M.qFa;N=M.Ct.Yf(I);M=N.Iy(K - H);H=M.add(N);0 === this.VZa && (this.VZa=w.default.time.fa(),this.wBb=H.Z);if(H.Z + this.K.sca > J)return {Jj:!1,reason:"exceedsLiveEdge"};if((J=K === (null === (G=this.Ud) || void 0 === G?void 0:G.index)) && this.mediaType === f.u.T && (G=this.hb.fb(f.u.J)) && G.Ud)P=G.Ud.Nc;E={up:K,index:K,bb:M.Ea,sb:H.Ea,W:I,offset:0,ga:0,LC:E,Pr:K === (null === (F=this.pd) || void 0 === F?void 0:F.index),Nm:J,xG:{Ge:L.G.Uua(),EZ:L.G.zu},kz:P};C=this.Xa.W3a(E,D,C);if(!C.MK()){this.ac("MediaRequest.open error: " + C.Ah + " native: " + C.Nj);if(7 === C.readyState)return {Jj:!1,reason:"requestAborted"};this.ac("makeRequest caught:",C.Ah);O.fg("MediaRequest open failed (1)","NFErr_MC_StreamingFailure");return {Jj:!1,reason:"openAseMediaRequest"};}this.wL(H.Z,this.Sm + 1);return {Jj:!0,reason:"success"};};A.prototype.i2a=function(){this.Tt() && (this.Xa.llb(),this.events.emit("lastRequestIssued",{type:"lastRequestIssued",mediaType:this.mediaType}));};return A=c.__decorate([z.zJ],A);})(m.Vw);b.Tka=a;(0,u.cf)(r.Bz,a);(0,u.cf)(r.Pu,a);},function(r,b,a){var c,l,g,m,d,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Wha=void 0;c=a(0);l=c.__importDefault(a(3)).default.dr;g=a(6);m=a(8);d=a(190);f=a(189);h=a(106);r=(function(k){function n(p,q,v,t,w,u,x,y,z){q=k.call(this,p,t,w,q,u,z) || this;q.uBb=("AseLiveTextAndVideoMediaRequest(").concat(q.Td,"-").concat(q.Nc,")");w=l.Yc && !l.Yc.PR.SM?0:1;q.pv(p,v,c.__assign(c.__assign({},t),{responseType:w}));q.pv(x.Pc[0],y.track,c.__assign(c.__assign({},t),{responseType:0}));return q;}c.__extends(n,k);n.prototype.pv=function(p,q,v){p=new f.iT(p,q,v,this,!1,this.Le,this.H,this.zaa);this.push(p);};n.prototype.nl=function(p){d.Uw.prototype.nl.call(this,p);};n.prototype.KK=function(p,q,v){d.Uw.prototype.KK.call(this,p,q,v);};n.prototype.OA=function(p,q){var v;if(this.de)return {status:h.Gh.Js};if(!this.Mm())return {status:h.Gh.Bg};v=this.Ma[0];this.de=q.appendBuffer(v.response,(0,m.zy)(v));this.oma(p);return {status:this.de?h.Gh.Js:h.Gh.Bg};};n.prototype.Ldc=function(){return this.Ma.map(function(p){return p.response;});};n.prototype.oma=function(p){var v,t;function q(){return p.sourceBuffers.some(function(w){if(w.mediaType === g.u.Za)return (w.Vfa(v.Bd,1E3),w.appendBuffer(v.Ma[1].response),!0);});}v=this;t=q();t || (p.addSourceBuffer(g.u.Za),t=q());};return n;})(d.Uw);b.Wha=r;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.Tsa=b.Ut=b.mo=void 0;r=a(0);l=r.__importStar(a(11));g=a(21);m=a(77);d=r.__importDefault(a(29));f=r.__importDefault(a(32));h=r.__importDefault(a(1041));k=a(6);n=f.default.assert;p=f.default.Qp;b.mo=(c=(function(){function v(w,u,x){var k2V;k2V=2;for(;k2V !== 4;){switch(k2V){case 2:w=new p();w.Sh=x[0];return w;break;}}}function q(w,u,x,y,z,B,A,C,D,E,G,F,L,O,K,I,M,H){var x66,J,N,P;x66=2;for(;x66 !== 19;){switch(x66){case 11:0 < O && J.push(x.ma.z1.subarray(E,E + O));0 < K && J.push(y.ma.z1.subarray(E + O,E + O + K));return 0 < O || 0 < K?(0,h.default)({ma:z.concat(J),blocks:G + O + K,Oc:B,ik:C,Lgc:A,Pj:F,Ec:D,ze:G,EUb:G + O,LX:M,Q7a:L,Ya:u / H,cda:I,SF:w.SF,E2b:w.M1,SRb:!1}):u > x.Ey?{result:!0,c_:0,Ov:!0}:{result:!1,c_:0,Ov:!0};break;case 7:return !1;break;case 8:x66=!u || u < x.bitrate * H * w.Dwa || !N?7:6;break;case 4:(J=C - B,N=x.ma && x.ma.length,P=y.ma && y.ma.length);n(z.length === G);w.hza && (I=Math.min(I,J));x66=8;break;case 6:P || (y=x);J=[];O=Math.max(0,Math.min(O,x.ma.length - E));K=Math.max(0,Math.min(K,y.ma.length - E - O));x66=11;break;case 2:var l$N="Secon";l$N+="d stre";l$N+="am undefi";l$N+="n";l$N+="ed";var R_G="Firs";R_G+="t st";R_G+="ream";R_G+=" ";R_G+="undefined";n(x,R_G);n(y,l$N);u=x.Ya;x66=4;break;}}}var C8q;C8q=2;for(;C8q !== 5;){switch(C8q){case 1:return {Ut:q,mo:function(w,u,x,y,z,B,A){var w_G,I,M,H,J,N,P,W,V,S,U,C,D,E,G,F,L,O,K;w_G=2;for(;w_G !== 27;){switch(w_G){case 7:(I=this.De.Jcb || d.default.p4.Yh,M=u.state === k.La.Xc || u.state === k.La.aj?u.buffer.Pj:0,H=w.Oca,J=w.xy?w.xy:1E3,N=x.O.duration);z > J && N <= w.j5b && (J+=(1 - Math.min(N / (w.kba + w.Bca),1)) * (z - J));w_G=13;break;case 18:n(U.length === S.length);U[y]()?y + 1 < C.length && z > w.$B && (void 0 === this.qQ || this.yya && this.yya > this.qQ || L - this.qQ > w.$Z && z > w.gza) && (x=(0,g.Dpa)(C.slice(y + 1,I),function(fa,qa){var G5j;G5j=2;for(;G5j !== 1;){switch(G5j){case 2:return U[y + 1 + qa]();break;case 4:return U[y - 2 - qa]();break;}}})):x.ma && x.ma.length && (x=(0,g.Dpa)(C.slice(0,y),function(fa,qa){var P4Q;P4Q=2;for(;P4Q !== 1;){switch(P4Q){case 2:return U[qa]();break;case 4:return U[qa]();break;}}}),z=C[0],x && x.zg < z.zg || !x) && (x=z);D.Sh=x || E;w_G=15;break;case 12:return v.call(this,u,w,C,x);break;case 11:x.ma && x.ma.length || (x.sFa=!0);(W=m.Gl.Z3a(u.buffer.ma),V=u.buffer.st - W.ga);I=(w.ZEa || A) && z >= w.aHa?C.length:y + 2;w_G=19;break;case 15:return D;break;case 19:(S=(function(fa){var j_g,r_Y;j_g=2;for(;j_g !== 4;){switch(j_g){case 2:var t9S="va";t9S+="ri";t9S+="ab";t9S+="le";r_Y=w.XEa;j_g=r_Y === t9S?1:3;break;case 3:j_g=5;break;case 13:j_g=0;break;case 1:return C.slice(0,fa).map(function(qa){var i7n;i7n=2;for(;i7n !== 1;){switch(i7n){case 2:return [t(w,u.buffer.st,qa),0];break;}}});break;case 5:return C.slice(0,fa).map(function(qa,za){var u_8;u_8=2;for(;u_8 !== 1;){switch(u_8){case 2:return za < y?[w.Ewa,w.dza]:za === y?[w.kba,w.Bca]:[w.Fwa,w.eza];break;}}});break;}}})(I),U=C.slice(0,I).map(function(fa,qa){var N9v=R7xOY;var y6B,za;y6B=2;for(;y6B !== 5;){switch(y6B){case 2:N9v.f4w(5);za=N9v.a2W(y,qa);return function(){var r5f,Aa,Qa,T,Z,Q,la,sa;r5f=2;for(;r5f !== 5;){switch(r5f){case 2:a:{Aa=C[Math.max(N9v.a2W(1,qa,N9v.f4w(0)),0)];Qa=S[qa][1];T=u.playbackRate;Z=fa.ma?fa.ma.r9(K,S[qa][0]):0;Q=Aa.ma?Aa.ma.r9(K + Z,Qa):0;Qa=fa.Ya || 0;la=fa.ma && fa.ma.length;sa=A?w.DTb:la?w.A$:w.ETb;sa=za?w.Jta:sa;if(P && !P.B$ && P.Ya >= Qa && P.bitrate <= fa.bitrate){Aa=!1;}else {za || la || (fa.sFa=!0);if(!za || !la)if(la && !w.M1){if(Qa >= Math.max(fa.Ey * T,fa.bitrate * T * sa) && fa.Ov){Aa=!0;break a;}}else if(Qa >= fa.bitrate * T * sa){Aa=!0;break a;}T=!w.Hra || fa === E || fa.bc === E.bc && B?0:(T=fa.Nb) && T.rl && T.rl.xa?T.rl.xa + w.Era * (T.rl.He?Math.sqrt(T.rl.He):0):0;(Aa=q(w,C,fa,Aa,W,F + T - G,H,O - G,L - G,K,W.length,M,V,Z,Q,J,u.LX,u.playbackRate)) && Aa.result && (D.nvc=Aa.c_);P={B$:Aa && Aa.result,Ya:Qa,bitrate:fa.bitrate};Aa=Aa && Aa.result;}}return Aa;break;}}};break;}}}));w_G=18;break;case 3:var s10="n";s10+="um";s10+="ber";n(s10 === typeof u.LX);(C=x.first,D=new p(),E=x=C[y],G=u.buffer.ca,F=u.buffer.Oc,L=u.buffer.Ec,O=u.buffer.ik,K=u.ze);R7xOY.f4w(0);z=R7xOY.a2W(F,O);w_G=7;break;case 13:w_G=I === d.default.p4.Zyb || !x.Ya?12:11;break;case 2:var F6H="n";F6H+="umb";F6H+="e";F6H+="r";var u0h="in";u0h+="valid player f";u0h+="ragm";u0h+="ent";u0h+="Index";var E75="Must have at least o";E75+="ne se";E75+="lected str";E75+="ea";E75+="m";n(!l.wa(y),E75);void 0 === u.ze && (u.ze=0);n(l.Qa(u.ze),u0h);n(F6H === typeof u.buffer.st);w_G=3;break;}}},Tsa:t};break;case 2:var y8J="1";y8J+="SI";y8J+="YbZrN";y8J+="JCp";y8J+="9";y8J;C8q=1;break;}}function t(w,u,x){var J$t,y;J$t=2;for(;J$t !== 3;){switch(J$t){case 1:return w.dfb;break;case 5:y=(x.Mic || x.Ya) / x.Ya;return 1 >= y?w.web:Math.min(Math.max((w.Ggc * Math.min(8 * u / x.bitrate,w.jw) - w.xy) / (y - 1),w.dfb),w.web);break;case 2:J$t=!x.Ya?1:5;break;}}}})(),c.mo);b.Ut=c.Ut;b.Tsa=c.Tsa;},function(r,b,a){var g,m,d,f,h,k;function c(n,p,q,v){f(!g.wa(v),"Must have at least one selected stream");return new k(v);}function l(n,p,q,v){f(!g.wa(v),"Must have at least one selected stream");return new k(v);}g=a(11);b=a(32);m=b.console;d=b.debug;f=b.assert;h=b.gK;k=b.Qp;r.exports={STARTING:function(n,p,q){var t,w,u,x;function v(y,z){var B,A,C,D;B=y.id;A=y.bitrate;C=y.Ya || 0;D=!!C;d && m.log("Checking feasibility of [" + z + "] " + B + " (" + A + " Kbps)");if(!y.gw)return (d && !y.Xr && m.log("  Not available"),d && y.KB && m.log("  Failed"),!1);if(A > n.k_)return (d && m.log("  Above maxInitAudioBitrate (" + n.k_ + " Kbps)"),!1);if(!(A * n.ida / 8 < p.buffer.st))return (d && m.log("  audio buffer too small to handle this stream"),!1);if(D){d && m.log("  Have throughput history = " + D + " : available throughput = " + C + " Kbps");if(A * p.playbackRate < C / w)return (d && m.log(" +FEASIBLE: bitrate less than available throughput"),!0);d && m.log(" bitrate requires more than available throughput");return !1;}y=n.z_;p.Exa && (y=Math.max(y,n.x_));if(A <= y)return (d && m.log("  Bitrate is less than max of minInitAudioBitrate (" + n.z_ + " Kbps) " + (p.Exa?" and also minHCInitAudioBitrate (" + n.x_ + " Kbps)":"")),d && m.log("  +FEASIBLE: no throughput history and has minimum bitrate configured"),!0);d && m.log("  No throughput history");return !1;}t=new k();w=n.psc || 1;x=q.first;for(u=x.length - 1;0 <= u;--u){q=x[u];if(v(q,u)){t.Ce=u;break;}h(q) && (t.Ce=u);}return t;},BUFFERING:c,REBUFFERING:c,PLAYING:l,PAUSED:l};},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.zt=void 0;c=a(10);l=a(118);g=a(2);b.zt=function(m,d,f,h,k,n,p,q){var v;c.M && h.trace("AsePlaygraph.createRequestQueue()");v=l.Bo.instance.zt(m,d.L,!0,!1,{ay:f.ay,ta:k},f);v.Oh.on(v,"networkfailing",function(){var t;c.M && h.trace("requestQueue OnNetworkFailing: ",v);v.z$ && ((0,g.assert)(v.eY),null === (t=d.qq) || void 0 === t?void 0:t.pu(void 0,v.eY,void 0,v.Ah,v.Nj));d.rm();});v.Oh.on(v,"error",function(){q(v.Ah,v.Nj);});v.on("transportreport",n);v.on("mediaRequestComplete",p);v.oa();return v;};},function(r,b,a){var c,l,g,m,d,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.jka=void 0;c=a(0);r=c.__importDefault(a(104));l=c.__importDefault(a(3));a=a(160);g=r.default.a9;m=r.default.PKb;d=r.default.qta;f=r.default.aTb;h=r.default.pec;new l.default.Console("ASEJS_PREDICTOR","media|asejs");a=(function(k){var p53;p53=2;for(;p53 !== 5;){switch(p53){case 2:c.__extends(n,k);return n;break;}}function n(p,q){var S6L,v;S6L=2;for(;S6L !== 13;){switch(S6L){case 2:v=k.call(this,p,q) || this;v.YK=function(t,w,u,x){var k2N,y,z,B;k2N=2;for(;k2N !== 12;){switch(k2N){case 3:y=Math.pow(Math.max(1 - u / v.oIb,0),v.lIb);u=w.ik - w.Oc;v.Fgc?(w=d(v.q4a,u,1),u=d(v.p4a,u,1),w=w * y + u * (1 - y)):w=d(h(v.q4a,v.p4a,y),u,1);t=v.Mfb && (null === (z=t[v.Mfb]) || void 0 === z?void 0:z.pAa);void 0 !== t && (z=f(v.b7b,t),w=Math.min(w * z,1));R7xOY.x9d(6);z=v.j5a(R7xOY.a2W(w,1,B),x);k2N=13;break;case 2:x=null !== x && void 0 !== x?x:v.CQ;B=v.mp(t,u);u=v.MEa(u)?B:(null === (y=t[v.filter]) || void 0 === y?void 0:y.xa) || B;k2N=3;break;case 13:return {lower:z,upper:z * v.config.FGa};break;}}};Array.isArray(p.xv.curves) && (v.q4a=m(p.xv.curves[0],0,0,1),v.p4a=m(p.xv.curves[1],0,0,1));v.oIb=g(p.xv.threshold || 6E3,1,1E5);v.lIb=g(p.xv.gamma || 1,.1,10);v.filter=p.xv.filter;v.Fgc=!!p.xv.simpleScaling;S6L=7;break;case 7:var q35="1SIY";q35+="bZrN";q35+="JC";q35+="p";q35+="9";p.xv.niqrfilter && p.xv.niqrcurve && (v.Mfb=p.xv.niqrfilter,v.b7b=m(p.xv.niqrcurve,1,0,4));q35;return v;break;}}}})(a.kD);b.jka=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.ypa=b.s0=b.A6a=void 0;c=a(0).__importDefault(a(104)).default.qta;b.A6a=function(l,g,m){var d,f,h;d=0;if(m){l.some(function(k){var n;n=k.b;k=k.m;if(g <= n)return (d=h && n !== f?h + (k - h) / (n - f) * (g - f):k,!0);f=n;d=h=k;return !1;});}else l.some(function(k){d=k.m;return g <= k.b;});return d;};b.s0=function(l,g,m){var d;g=(null === (d=g.Ya) || void 0 === d?void 0:d.xa) || 0;return l.a1a?(l=c(l.$0a,m.ik - m.Oc,1),g * (1 - l)):g * l.a2 / 100;};b.ypa=function(l,g){return l < 2 * g?l / 2:l - g;};},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t;Object.defineProperties(b,{__esModule:{value:!0}});b.$ha=void 0;c=a(0);r=a(13);l=a(10);g=c.__importDefault(a(3));m=a(8);d=a(1058);f=a(132);h=a(1059);k=a(20);n=a(1062);p=a(1063);q=a(1064);v=a(2);t=a(1065);a=(function(w){function u(){var x;x=null !== w && w.apply(this,arguments) || this;x.vZa=0;x.koa=0;x.n6=0;x.Ema=0;return x;}c.__extends(u,w);u.prototype.iDa=function(x){var y,z;w.prototype.iDa.call(this,x);this.vZa++;this.koa++;this.WZa=g.default.time.fa();this.BN || (this.BN={Nc:x.Nc,Td:x.Td,index:x.index},this.D6 || (this.D6=this.BN));y=this.R6;z=!1;y && 100 > Math.abs(y.Xf - x.Bd) && (this.n6+=x.Xf - y.Xf,this.Ema++,z=!0);z || (this.n6=x.Qn,this.Ema=1);this.R6=x;};u.prototype.stop=function(){w.prototype.stop.call(this);this.koa=0;this.BN=void 0;};u.prototype.h9a=function(){var x,y,z,B;x=this.Ys;y=x.qX;if(y){B=y.fb(this.ig);B && B.Xa && (z=B.Xa.Iva());return {RM:z,currentBranch:{sId:y.G && y.G.id,cancelled:y.bg},currentReceivedCount:x && x.$Ob,totalReceivedCount:this.vZa,currentState:x && x.o4a || "Uninitialized",lastRequestPushed:this.R6 && ({contentEndPts:this.R6.Nc,fragmentIndex:this.R6.index}),tslp:this.WZa && g.default.time.fa() - this.WZa,cpts:this.n6,crq:this.Ema,rslp:this.koa,firstRequestSSPushed:this.BN && ({contentStartPts:this.BN.Td,fragmentIndex:this.BN.index}),firstRequestPushed:this.D6 && ({contentStartPts:this.D6.Td,fragmentIndex:this.D6.index})};}};return u;})((function(w){function u(x,y,z,B,A,C,D,E,G,F,L){var O;O=w.call(this) || this;O.Dg=x;O.ig=y;O.K=B;O.H=A;O.X=C;O.OBa=D;O.$e=E;O.Gp=G;O.UD=new m.Yz(!1);O.SD=new m.Yz(k.N.Na(-Infinity));O.H=(0,m.Oi)(g.default,O.H,("AsePlayerBuffer [").concat(y,"]:"));O.Ys=new d.UIa(O.H,z,y);O.resume();C && D && E && (L?(O.tR=L,L.Qx(C,E,O.Dg)):O.M3a(),x=new n.PLa(null === C || void 0 === C?void 0:C.$e,k.N.Na(O.K.A_),A),O.Ys.V7(x),O.K.n0a && (C=new p.sRa(null === C || void 0 === C?void 0:C.$e,O.K.n0a,k.N.Na(O.K.YGb),A),O.Ys.V7(C)),F && (O.EZa=new q.BUa(F,A),O.Ys.V7(O.EZa)),l.M && O.K.eSb && (A=new t.COa(A),O.Ys.V7(A)));O.Dg.on("requestAppended",function(K){O.UD.set(!0);K.request.Vc && O.SD.set(K.request.Vc);O.emit("requestAppended");});return O;}c.__extends(u,w);Object.defineProperties(u.prototype,{cu:{get:function(){return this.UD;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{jya:{get:function(){return this.SD;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{D1b:{get:function(){return this.Ys.pk;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{SEa:{get:function(){return this.Dg.endOfStream;},enumerable:!1,configurable:!0}});u.prototype.M3a=function(){(0,v.assert)(this.X && this.OBa && this.$e,"Player should be defined");this.tR=new h.ITa(this.ig,this.H,this.X,this.Dg,this.X.events,this.OBa,this.$e,this.Gp);};Object.defineProperties(u.prototype,{mediaType:{get:function(){return this.ig;},enumerable:!1,configurable:!0}});u.prototype.h9a=function(){};u.prototype.resume=function(){l.M && this.H.trace("resume");this.eFa();};u.prototype.ybb=function(x){return this.Dg.ova() > x;};Object.defineProperties(u.prototype,{FHb:{get:function(){return this.hN;},enumerable:!1,configurable:!0}});u.prototype.Cgc=function(){this.Dg.J_(!0);};u.prototype.reset=function(x,y){var z,B,A;void 0 === x && (x=!1);l.M && this.H.trace("reset");this.stop();this.Dg.reset(x);this.UD.set(!1);this.SD.set(k.N.Na(-Infinity));x || (this.hN=void 0,null === (z=this.tR) || void 0 === z?void 0:z.reset(),x=null === (B=this.X) || void 0 === B?void 0:B.Wf,null === (A=this.EZa) || void 0 === A?void 0:A.r8b(x,null !== y && void 0 !== y?y:x));};u.prototype.yg=function(x){void 0 === x && (x=!1);l.M && this.H.trace("restart");this.reset(x);this.eFa(!0);};u.prototype.stop=function(){l.M && this.H.trace("stop");this.Ys.Mmb();};u.prototype.close=function(){var x;l.M && this.H.trace("start");null === (x=this.tR) || void 0 === x?void 0:x.close();};u.prototype.Wa=function(){this.stop();this.close();};u.prototype.Q_=function(){this.K.P$ && this.Dg.x7a();this.Dg.kJ();};u.prototype.AG=function(x){this.Dg.AG(x);};u.prototype.FUb=function(x){this.Dg.$fb(x,!0);};u.prototype.ci=function(x){var y;return !(null === (y=this.tR) || void 0 === y || !y.ci(x));};u.prototype.eFa=function(x){if(!this.Ys.pk || x)(this.Ys.Mdc(),f.AsyncIterator.L2b(this.Ys,this.eca.bind(this)));};u.prototype.eca=function(x){x.done || this.iDa(x.value);};u.prototype.iDa=function(x){var y,z;l.M && this.H.trace(("requestReceived: ").concat(null === (y=this.Ys.qX) || void 0 === y?void 0:y.G.id) + (" ").concat(x.toString(),", edit: ").concat(JSON.stringify(x.Ka)));this.Dg.endOfStream?l.M && this.H.error("Buffer manager has declared EOS, ignoring request",x.toString()):(this.hN?(this.hN.f3b=x.Nc,this.hN.h3b=x.Xf,this.hN.Mcb=x.Vc):this.hN={buc:x.Td,cuc:x.Bd,f3b:x.Nc,h3b:x.Xf,Mcb:x.Vc},x.Pr && x.stream.track.op && (null === (z=this.X) || void 0 === z || !z.Yr(x.O.P)) && this.emit("drmNeeded",{P:x.O.P,Nq:x.Ld}),this.Dg.EHb(x));};return u;})(r.EventEmitter));b.$ha=a;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.pia=void 0;r=a(0);c=r.__importStar(a(11));l=r.__importDefault(a(92));g=r.__importDefault(a(3));m=a(1066);d=a(6);f=a(191);h=a(8);k=a(2);n=a(20);p=a(397);q=a(441);a=(function(){function v(t,w,u,x,y,z,B,A,C,D){this.Eb=t;this.zj=w;this.H=u;this.ZN=x;this.K=B;this.Tma=A;this.cZa=C;this.wY=D;this.ac=this.H.warn.bind(this.H);this.dk=this.H.trace.bind(this.H);this.Eg=this.H.log.bind(this.H);this.Ei=[];this.ai={};y.So?((0,k.assert)(!y.Oq),this.uma=!0,this.kDb(y,y.So,z)):(this.Up=this.mA(y.Oq || "",y,0,void 0,void 0,{},!0),this.Up.bm=!0,this.Up.Ta=Infinity,this.B7=[this.Up]);this.ae=this.p6(this.Up,void 0,z);this.ae.active=!0;t=(0,h.Oi)(g.default,this.H,"BranchQueue::");this.$j=new f.XG(t);this.$j.enqueue(this.ae);this.coa=this.qV=void 0;}v.yua=function(t){return "m" + t;};Object.defineProperties(v.prototype,{ty:{get:function(){return !!this.uma;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{jl:{get:function(){return this.ae.bg;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{ie:{get:function(){return this.Up;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{ei:{get:function(){return this.ae.G.id;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{bPb:{get:function(){return this.ae.O.Vb;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{md:{get:function(){return this.ae;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{eb:{get:function(){return this.Ei;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{mg:{get:function(){return this.ae.mg;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{$h:{get:function(){return this.Eb.$h;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{oi:{get:function(){return this.qV?this.qV:this.eb[0];},enumerable:!1,configurable:!0}});v.prototype.Wa=function(){this.Ei.forEach(function(t){t.ee();});this.Ei=[];this.$j.clear();};v.prototype.Be=function(t){return this.ai[t];};v.prototype.i$a=function(){return this.$j.getIterator();};v.prototype.h$a=function(t,w){var u;u=this.ai[t];if(u)return (t=u.Gm[w]) && t.weight;this.ac("getSegmentWeight, unknown segment:",t);};v.prototype.XYb=function(t){var w;w=this.ai[t];if(w)return w.ca;this.ac("getSegmentStartPts, unknown segment:",t);};v.prototype.WYb=function(t){var w;w=this.ai[t];if(!w)this.ac("getSegmentDuration, unknown segment:",t);else if(c.Qa(w.Ta) && isFinite(w.Ta) && c.Qa(w.ca) && isFinite(w.ca))return w.Ta - w.ca;};v.prototype.afa=function(t){var w;w=-1;this.Ei.some(function(u,x){return u === t?(w=x,!0):!1;});-1 !== w?this.Ei.splice(w,1):this.ac("Unable to find branch:",t,"in branches array");};v.prototype.LI=function(t,w){var u;u=0;this.TAb(t).forEach(function(x){(x=x.Ae(w)) && (u+=x.GE);});return u;};v.prototype.Tx=function(t,w,u){var x;if(!t.zc(w))return 0;x=t.fb(w);for(x=u?x.Ec:x.ut;void 0 === x;){if(!t.pj)return 0;t=t.pj;x=t.fb(w);x=u?x.Ec:x.ut;}t=this.cZa.cg();return Math.max(x - t,0);};v.prototype.Ota=function(t){return this.Ei.filter(function(w){if(w.O.Vb === t)return !0;});};v.prototype.gUb=function(t,w){return this.DXa(t,!1,w);};v.prototype.fUb=function(t,w){return this.DXa(t,!0,w);};v.prototype.Vcc=function(t,w,u){c.pg(this.Ei,function(x){x.O === t && x.Rlb(w,u);});c.pg(this.ai,function(x){x.O === t && (x.O=w);});};v.prototype.jkb=function(){var t;t=this;c.pg(this.Ei,function(w){var u;u=t.Eb.gi(w.O.Vb);w.Xq(n.N.Na(u.Ay));});};v.prototype.Kw=function(t){var w;w=this;c.pg(this.Ei,function(u){u.fb(d.u.J).track.Pc.forEach(function(x){var y;y=(0,p.zpa)(x.kf,x.bitrate,t,w.H);(0,l.default)(y,x);});});};v.prototype.ey=function(t,w,u,x){var y;for(;w;){y=w.ey(t,u);if(y)return y;if(x)break;w=w.pj;}};v.prototype.v4a=function(t){var w,u;w=this;void 0 === t && (t=!1);u=this.Ei;t && (u=u.filter(function(x){return x !== w.ae;}));u.forEach(function(x){x.active=!1;w.$j.remove(x);});t || this.$j.clear();return u;};v.prototype.qbc=function(){var t;for(;0 < this.Ei.length;){t=this.Ei[0];t.fb(d.u.T);t.fb(d.u.J);if(!t.active)break;if(t === this.ae)break;if(!t.A_b())break;t.ee();this.Ei.shift();}};v.prototype.E0=function(t,w,u,x,y){if(u > x){for(u-=x;t;){t.E0(w,u,y);t=t.pj;}return u;}};v.prototype.Ldb=function(t,w){for(var u={eX:null,pR:null,Bd:null,Pj:0,Bp:0,Rg:0,ma:[]};t;){t.Gaa(u,w);t=t.pj;}return u;};v.prototype.iLb=function(t){var w,u,x;w=this.ae;if(w.Adb)u=w.Adb;else {x=this.ae.mg;u=this.p6(w.G,w);d.hg.forEach(function(y){var z;z=u.Ae(y);z && (z.bS(0),y=w.Ae(y),z.Tfa(y.Ud));});u.Xq(n.N.Na(x + t));w.Adb=u;}this.bN(u,w);};v.prototype.jGb=function(t,w,u){var x,y;(0,k.assert)(!t.ty());if(!this.uma){this.uma=!0;this.qV=this.oi;x=this.Up.id || v.yua(0);this.Up.id=x;this.ai[x]=this.Up;this.Up.Ta=this.Eb.qXb().k9a();this.Up.hG=!0;}y=void 0 !== t.Oq?t.Oq:v.yua(t.Vb);t=this.mA(y,t,w,u,void 0,{},!0);t.hG=!0;this.B7.forEach(function(z){z.Gm={};z.Gm[y]={weight:100};z.zX=y;z.zu=!1;});this.B7=[t];};v.prototype.Vx=function(t,w){var u,x,y,z;u=this.oi;x=u.iz(w,this.Eb.X);y=u.G;z=u.children[t];if(w){if(!y.Gm[t])return (this.ae.ac("chooseNextSegment, invalid destination:",t,"for current segment:",y.id),!1);if(u.Tl)return u.Tl === t;u.Tl=t;z && u.S$ && this.bN(z,u);return !0;}if(void 0 !== u.Tl)return !1;if(!z)return (x.Cfb=!0,!1);x.Cfb=!z.Wqa();this.Eb.wZa(void 0,q.y5.YQ);u.S$=void 0;u.Tl=t;this.bN(z,u);u.WE();this.Eb.i7();return !0;};v.prototype.Z_b=function(t,w){var u,x,y,z;u=this;z=t.G;w && !t.Tl && (t.Tl=z.zX,t.iz(!0,this.Eb.X,!0));t.children=Object.create(null);c.pg(z.Gm,function(B,A){t.Tl && A !== t.Tl || (x=u.ai[A],y=u.lAb(x,t),t.children[A]=y);});t.Tl && (w=t.children[t.Tl]) && this.bN(w,t);t.S$=!0;};v.prototype.ijc=function(){var t;t=0;c.pg(this.Ei,function(w){d.hg.forEach(function(u){w.zc(u) && (u=w.Ae(u),t+=u.Xa.Bj);});});return t;};v.prototype.iic=function(t,w){var u,x,y;u=this;x=this.RAb(t,w);if(x){if(x !== this.ae.G){this.v4a();y=this.p6(x,this.ae,t);y.pj=void 0;y.Dlb(void 0,!0);this.rzb(this.ae);this.bN(y,this.ae);}else this.v4a(!0).forEach(function(z){z.ee();u.afa(z);u.$j.remove(z);});x === this.oi.G && (this.oi.mz.shift(),y && (y.mz=this.oi.mz,y.Tl=this.oi.Tl));this.zj.Y6(x,this.ae.mg);this.ae.S$=void 0;}else this.ac("findSegment no segment for manifestIndex:",w);};v.prototype.Kdb=function(t,w){var u;u=t.G;w || (w=u.zX);0;t.Tl || (t.Tl=w,t.iz(!0,this.Eb.X,!0));(w=t.children[t.Tl]) && this.bN(w,t);};v.prototype.pfc=function(t){this.ae !== t && (this.ae=t);};v.prototype.Fu=function(t,w){var u,x,y,z,B;u=this;if(this.ty){x=this.K;y=this.oi;z=y.G;B=(0,h.Gec)(z.id);!y.Tl && !z.zu && y.Nc - w <= x.OQ && (this.ac(B + "updatePts making fork decision at playerPts:",t,"contentPts:",w),this.Kdb(y));}d.hg.forEach(function(A){u.ae.zc(A) && u.$h[A].Fu();});};v.prototype.s7b=function(t,w){var u,x;if(this.ty){u=this.qV;if(!(this.K.y0b && t && this.coa && t.ca === this.coa || (t=t.Xa.hb,u && t.G.id === u.G.id))){x=null === u || void 0 === u?void 0:u.Ae(d.u.J);x=null === x || void 0 === x?void 0:x.Ud;this.coa=null === x || void 0 === x?void 0:x.ca;this.qV=t;this.Nzb(u);u=u && u.BLb(t);this.zj.PCb(t.G,w,u);}}};v.prototype.Bda=function(t,w,u){w.bm || (w.ca=this.J9a(t,w.ca,!0),u || (w.Ta=this.J9a(t,w.Ta,!1)),w.bm=!0,!1);};v.prototype.Uga=function(t,w){var u;0;u=this.ai[t];u?c.pg(u.Gm,function(x,y){x.weight=w[y] || 0;}):this.ac("updateChoiceMapEntry, unknown segment:",t);};v.prototype.J9a=function(t,w,u){t=u?t.Z6a(w):t.hY(w);if(!t.length)return w;w=t[d.u.J];return u?w.ca:w.Ta;};v.prototype.hYa=function(t,w,u){var x;x=w?u.Nc:u.Xf;return (w?u.Gfa:u.RBa) <= t && t < x;};v.prototype.DXa=function(t,w,u){var B;for(var x=this.Eb,y=this.ae;y;){if((!c.Qa(u) || x.Bxa(u,y.O.Vb)) && this.hYa(t,w,y))return y;y=y.pj;}if(w){y=Object.keys(this.ae.children);for(var z=0;z < y.length;z++){B=this.ae.children[y[z]];if((!c.Qa(u) || x.Bxa(u,B.O.Vb)) && this.hYa(t,w,B))return B;}}};v.prototype.lAb=function(t,w){var u,x;u=this.p6(t,w);x=u.Dlb(w,this.K.OCa);d.hg.forEach(function(y){var z,B,A;if(u.zc(y)){z=u.Ae(y);B=w.Ae(y);A=x[y];y === d.u.J && u.Xq(n.N.Na(B.Ec + w.mg - A));z.bS(A);}});this.zj.Y6(t,u.mg);return u;};v.prototype.rzb=function(t){for(var w=[t.G.id];t.pj;){t=t.pj;w.unshift(t.G.id);}this.lma(t);};v.prototype.lma=function(t){var w,u;w=this;u=t.G;c.pg(t.children,function(x){x && w.lma(x);});this.$j.remove(t);t.ee();this.afa(t);this.zj.Sna(u);};v.prototype.bN=function(t,w){var u,x,y,z;u=this;x=w.G;w.O !== t.O && this.Eb.wYa(t.O.Vb);t.active=!0;this.$j.enqueue(t);t.uO();y=g.default.time.fa();z={};c.pg(w.children,function(B){var A,C;if(B){if(B.Ne){A=B.Ae(d.u.T);C=B.Ae(d.u.J);B.Ne.zE=[A?A.Wo.Z:0,C?C.Wo.Z:0];B.Ne.kRb=y - B.Ne.zba;B.Ne.zba=void 0;z[B.G.id]=B.Ne;}B.G.id !== t.G.id && u.lma(B);}});w.children=Object.create(null);w.children[t.G.id]=t;w.nN=void 0;this.pfc(t);this.zj.NCb(t.G,z);1 < Object.keys(x.Gm).length && t.Wqa();};v.prototype.Nzb=function(t){var w,u;if(t){w=g.default.time.fa();u=t.mz[0];u && void 0 === u.P9?u.P9=w - u.ws:u || (this.ac("missing metrics for branch:",t.G.id),u={hga:t.G.id,Qe:!0,P9:0,Ne:{}},t.mz.unshift(u));void 0 === u.startTime && (u.startTime=w);}};v.prototype.RAb=function(t,w){var x,y,z,B;(0,k.assert)(0 <= t);for(var u in this.ai){x=this.ai[u];if(this.Eb.Bxa(x.O.Vb,w)){if(x.ca <= t && (Infinity === x.Ta || void 0 === x.Ta || t < x.Ta))return x;y=Math.min(Math.abs(t - x.ca),Math.abs(t - x.Ta));if(c.wa(z) || y < z)(z=y,B=x);}}return B;};v.prototype.mA=function(t,w,u,x,y,z,B,A,C){w=new m.FUa(t,w,u,x,y,z,B,A,void 0,C);return this.ai[t]=w;};v.prototype.kDb=function(t,w,u){var x,y,z;x=this;this.Up=void 0;this.B7=[];y=null;z=null;c.pg(w.segments,function(B,A){var C,D,E,G,F;C=B.startTimeMs;D=B.endTimeMs;E={};c.pg(B.next,function(L,O){E[O]={weight:L.weight || 0,sjc:L.transitionHint || B.transitionHint,Mtc:"number" === typeof L.earliestSkipRequestOffset?L.earliestSkipRequestOffset:B.earliestSkipRequestOffset};});G=B.defaultNext;c.wa(G) && (G=Object.keys(E)[0]);F=c.wa(G);G=x.mA(A,t,C,D,G,E,F,B.exitZones,B.transitionHint);C <= u && (u < D || c.wa(D))?x.Up=G:C > u && (!y || C < z) && (y=A,z=C);F && x.B7.push(G);});this.Up || (this.Up=y?this.ai[y]:this.ai[w.initialSegment]);};v.prototype.p6=function(t,w,u){var x,y,z,B;x=t.O;y=this.Eb.gi(x.Vb);z=y.Ay;B=[];[d.u.T,d.u.J].forEach(function(A){x.zc(A) && B.push(y.Rv(A));});t=new q.kOa(this.Eb,this.K,this.zj,this.H,this,this.Tma,this.cZa,this.ZN,t,B,z,w,u?n.N.Na(u):void 0,this.wY,this.Eb.$h,this.Eb.Ex);this.tzb(t);this.Ei.push(t);return t;};v.prototype.tzb=function(t){var u;function w(x){u.Eb.emit(x.type,x);}u=this;t.addListener("locationSelected",w);t.addListener("logdata",w);t.addListener("serverSwitch",w);t.addListener("streamSelected",w);t.addListener("lastSegmentPts",w);t.addListener("managerdebugevent",w);t.addListener("requestCreated",function(x){x=x.request;u.Eb.poa(x.mediaType,x.ca);});};v.prototype.TAb=function(t){for(var w=[t];t.pj;){t=t.pj;w.push(t);}return w;};return v;})();b.pia=a;},function(r,b,a){var m,d,f,h;function c(k,n,p){this.gG=n;this.Em=p;this.RC=this.oZ=this.wBa=this.rhb=this.qhb=this.$Q=this.Pc=this.x$b=this.Em=this.ro=this.Ec=this.ca=this.Iu=this.Ip=this.ma=this.ebb=this.IW=void 0;}function l(k,n,p){this.Ta=n;this.Xbb=p;this.u0a=this.gqb=this.$s=this.Ip=this.vK=this.by=void 0;}function g(k,n,p,q,v,t,w){var u;u=new c(p,n,k.Em);k.forEach(function(x){var y,z;y=x.buffer;z=y.ma;x.mediaType === d.$d.T?u.IW=z.length?z[0].bitrate:void 0:x.mediaType === d.$d.J && (u.ebb=z.length?z[0].bitrate:void 0,u.ma=z,u.Ip=y.ik - y.Oc,u.Iu=y.Rg,u.ca=y.Oc,u.Ec=y.Ec,u.ro=x.ze,u.Em=x.Em,u.x$b=n - x.Em,u.Pc=x.Pc,u.$Q=z.filter(function(B){return u.ca <= B.Cw;}).length);});this.Ck=u;this.Jv=void 0;this.B4a=q;this.bz=v;this.r1a=t;this.LCa=this.Vea=this.Igb=this.WC=this.qO=this.V6a=this.qz=this.Pc=this.Jv=void 0;this.KGb=w;this.WBa={};}m=a(0);d=a(29).default;f=a(32).assert;h=a(6).La;c.prototype.constructor=c;l.prototype.constructor=l;g.prototype.constructor=g;g.prototype.sJ=function(k,n){var p,q,v,t,w,u,x,y,z,B,A,C,D,L,O,K,I,M,H;p=this.Ck;q=[];v=k[d.$d.J];t=k[d.$d.T];if(void 0 === v || void 0 === t)return !1;w=v.buffer;u=t.buffer;x=p.Pc.filter(function(J){return J.saa();});if(void 0 === w || void 0 === u || void 0 === x || 0 === x.length)return !1;y=new l(n?h[n]:"maxbitratechanged",v.Oc,n === h.Vg);z=0;B=0;A=0;C=0;D=p.ca;k=k[d.$d.J].Oc;for(var E=p.ma,G=p.$Q,F=0;F < G;F++){L=E[F];O=L.offset;K=L.offset + L.ga - 1;I=L.Qn;M=L.AC;H=M + I;L && M <= k && H > D && (I=L.Qn,M=Math.min(I,Math.min(k,H) - Math.max(M,D) + 1),C+=M,z+=M / I * (K - O + 1),B+=L.bitrate * M,A+=L.gb * M);}p.qhb=z;p.rhb=C;p.wBa=0 < C?B / C:0;p.U9b=0 < C?A / C:0;p.oZ || (p.oZ=0,x.some(function(J,N){if(J.bitrate === p.ebb)return (p.oZ=N,!0);}));x.forEach(function(J){var N,W;J=J.saa();N=[];p.RC || (p.RC=J.ip(p.ca,void 0,!0));y.by || (y.by=J.ip(y.Ta,void 0,!0),y.vK=J.length - 1);p.ro !== p.RC + p.$Q && (p.ro=p.RC + p.$Q);G=Math.min(y.vK,y.by + 1);for(var P=p.RC;P <= G;P++){W=J.get(P);N[P]=W;}q.push(N);});n === h.Vg && (y.Ip=w.ik - w.Oc,y.$s=u.ik - u.Oc,y.gqb=v.jjb,y.u0a=t.jjb);this.Jv=y;this.Pc=x;this.qz=q;return this.V6a=!0;};g.prototype.FB=function(){var k,n,p,q,v,t,w,u,x,y,z,D,E,G,F,L,I,M;if(this.vk)return this.vk;p=this.WC;q=this.Ck;v=this.Jv;t=this.Pc;w=this.Igb;u=this.KGb;f(void 0 !== p,"throughput object must be defined before retrieving the logdata from PlaySegment");if(p.trace && 0 === p.trace.length || void 0 === p.timestamp){if(v.Xbb)(x=!1,y=!0);else v.by - q.RC + 1 <= q.$Q?y=x=!0:(x=!0,y=!1);z=!0;}if(w)for(var B=w.Fba,A=w.tP,C=0;C < u.length;C++){D=u[C];(p=w[D]) && p.qAa && (y=!0);}v={bst:q.Em,pst:q.gG,s:q.RC,e:v.by,prebuf:q.$Q,brsi:q.ro,pbdlbytes:q.qhb,pbdur:q.rhb,pbtwbr:q.wBa,pbvmaf:q.U9b};this.bz && (v.fragmentsPrebuffered=q.ma);z && (v.nt=z);y && (v.nd=y);B && (v.invalid=B);A && (v.exception=A);this.LCa && (v.rr=this.LCa);this.Vea && (v.ra=this.Vea);if(!y && !B && !A && (this.B4a || this.bz)){v.bitrate=t.map(function(H){return H.bitrate;});p=this.WC;D=p.trace;E=[];F=0;D.forEach(function(H){H=Number(H).toFixed(0);E.push(H - F);F=H;});v.tput={ts:p.timestamp,trace:E,bkms:p.TA};}if(y || z || B || A)v.feasible=x;else for((v.sols={},v.elapsed=w.ERb,C=0);C < u.length;C++){D=u[C];p=w[D];y={};if(p && p.Cs){y.algelapsed=p.JGb;y.maxHeapTotal=p.dC;y.f=p && p.Ut || !1;y.dltwbr=p.n5a;y.dlvmaf=p.q5a;y.dlvdur=p.p5a;y.dlvbytes=p.o5a;y.dlabytes=p.l5a;if(this.B4a || this.bz){G=p.Cs.filter(function(H){return H;}).map(function(H){return H.Ce;});F=0;L=[];G.forEach(function(H){L.push(H - F);F=H;});y.strmsel=L;}if(this.bz){z=[];x=this.Ck.ro;try{for(var O=(k=void 0,m.__values(G)),K=O.next();!K.done;K=O.next()){I=K.value;M=this.qz[I][x];M.zg=I;z.push(M);x++;}}catch(H){k={error:H};}finally{try{K && !K.done && (n=O.return) && n.call(O);}finally{if(k)throw k.error;}}y.fragsel=z;y.streamList=this.Pc;y.pause_dlnd_sec=p.Cs.filter(function(H){return H;}).map(function(H){return H.tBa;});y.buffer_sec=p.Cs.filter(function(H){return H;}).map(function(H){return H.kqa;});y.buffer_kb=p.Cs.filter(function(H){return H;}).map(function(H){return H.jqa;});y.buffer_frags=p.Cs.filter(function(H){return H;}).map(function(H){return H.w1a;});y.elapsed_secs=p.Cs.filter(function(H){return H;}).map(function(H){return H.N5a;});y.throughput=p.Cs.filter(function(H){return H;}).map(function(H){return H.Ya;});}}v.sols[D]=y;}return this.vk=v;};g.prototype.sUb=function(k){var q;if(void 0 !== this.WBa[k])return this.WBa[k];for(var n=this.qz[this.Ck.oZ],p=0;p < n.length;p++){q=n[p];if(q && q.ca <= k && q.ca + q.duration > k)return this.WBa[k]=q;}throw Error("findPlayingFragment: missing");};r.exports=g;},function(r,b,a){var g,m;function c(d,f,h){this.ga=d;this.lo=f;this.quality=h;}function l(d,f){this.lza=f;void 0 === f && (this.lza=!0);this.Kn=d;this.Fzb();}g=a(0);m=a(2).assert;c.prototype.constructor=c;c.prototype.IB=function(){return 8 * this.ga / 1E3 / this.lo;};l.prototype.constructor=l;l.prototype.Hi=function(d,f,h,k,n){void 0 === f && (f=0);void 0 === h && (h=d.WP());void 0 === k && (k=0);void 0 === n && (n=d.Kn.length);for(var p=[],q,v=k;v < n;v++){k=[];for(var t=f;t < h;t++){q=d.Kn[v][t];k.push(q);}p.push(k);}return new l(p,d.lza);};l.prototype.Fzb=function(){var d,f,n;f=this.Kn[0].length;try{for(var h=g.__values(this.Kn.slice(1)),k=h.next();!k.done;k=h.next()){n=k.value;m(n.length === f,"expect chunk.length === n but got " + n.length + " and " + f);}}catch(q){var p;p={error:q};}finally{try{k && !k.done && (d=h.return) && d.call(h);}finally{if(p)throw p.error;}}this.lza && this.Gzb();this.Hzb();};l.prototype.WP=function(){return this.Kn[0].length;};l.prototype.Gzb=function(){for(var d=0;d < this.Kn.length - 1;d++){for(var f=0;f < this.WP();f++){m(this.Kn[d][f].ga <= this.Kn[d + 1][f].ga,"Chunk size for epoch " + f + " is not monotonic");}}};l.prototype.Hzb=function(){for(var d=0;d < this.Kn.length - 1;d++){for(var f=0;f < this.WP();f++){m(1E-8 > Math.abs(this.Kn[d][f].lo - this.Kn[d + 1][f].lo),"Chunk duration for epoch " + f + " is not consistent");}}};l.prototype.RZb=function(){var d;d=[];this.Kn[0].forEach(function(f){d.push(f.lo);});return d;};r.exports={Esb:c,Fsb:l};},function(r,b,a){var m;function c(){}function l(d,f,h){void 0 === h && (h=!1);m(d.length === f.length,"bitrates_kbps and durations_sec must be of the same length.");m(1E-8 < g(d),"bitrate zero, won't be able to send anything.");this.xE=d;this.H5a=f;this.repeat=h;this.On=this.nq=0;}function g(d){return d.reduce(function(f,h){return f + h;},0);}m=a(2).assert;c.prototype=Error();l.prototype.constructor=l;l.prototype.Hi=function(){var d;d=new l(this.xE,this.H5a,this.repeat);d.nq=this.nq;d.On=this.On;return d;};l.prototype.kwa=function(){return this.xE[this.nq % this.xE.length];};l.prototype.pF=function(){return this.H5a[this.nq % this.xE.length];};l.prototype.hRb=function(d){m(0 < d,"expect x_sec > 0.0");if(!(this.repeat || 0 <= this.nq && this.nq < this.xE.length))throw new c();m(this.On < this.pF(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var f;;){f=this.pF() - this.On;f=d < f?d:f;d-=f;this.On+=f;if(this.On < this.pF())break;this.On-=this.pF();this.nq+=1;if(!this.repeat && this.nq >= this.xE.length){if(0 < d)throw new c();break;}}};l.prototype.ohb=function(d){this.hRb(d);};l.prototype.iRb=function(d){m(0 < d,"expect y_kb > 0.0");if(!(this.repeat || 0 <= this.nq && this.nq < this.xE.length))throw new c();m(this.On < this.pF(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var f,h=0;;){f=this.pF() - this.On;f=d < f * this.kwa()?d / this.kwa():f;d-=this.kwa() * f;h+=f;this.On+=f;if(this.On < this.pF())return h;this.On-=this.pF();this.nq+=1;if(!this.repeat && this.nq >= this.xE.length){if(0 < d)throw new c();return h;}}};r.exports={Vyb:l,Wyb:c};},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t,w,u,x;Object.defineProperties(b,{__esModule:{value:!0}});b.Kyb=b.mka=b.Myb=b.gVa=void 0;r=a(0);c=r.__importStar(a(11));l=r.__importDefault(a(3));g=r.__importDefault(a(32)).default.gK;m=r.__importStar(a(8)).Oi;d=r.__importDefault(a(452));f=a(436);h=a(76);k=a(6);n=a(21);p=a(2);q=a(116);v=a(269);t=a(274);a=(function(){function y(z,B,A,C,D,E,G,F,L,O,K){var I;I=this;this.H=z;this.Zh=B;this.K=A;this.zc=C;this.X=D;this.o1=E;this.Ac=G;this.Kb=F;this.xh=L;this.M8=O;this.gI=K;this.t7=[];this.woa=[];this.IYa=[];this.$Wa=void 0;[h.u.T,h.u.J].forEach(function(M){I.zc(M) && (I.t7[M]=new x(I.H,M),I.woa[M]=new w(M),I.IYa[M]=new u(M));});this.Rpb=new q.ZM(this.H);this.SS=(0,q.YI)(this.K,this.Rpb);this.Lpa=(0,q.XI)();this.RH=void 0;}Object.defineProperties(y.prototype,{hh:{get:function(){return this.t7;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{SC:{get:function(){return this.woa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Gy:{get:function(){return this.IYa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{DI:{get:function(){return this.$Wa;},set:function(z){this.$Wa=z;},enumerable:!1,configurable:!0}});y.prototype.Kw=function(z,B){this.Rpb.Kw(z,B);};y.prototype.kza=function(z){var B,A,C,D,E,G;B=this.K;A=z.mediaType;C=l.default.zq()[A];D=B.Tkc?A === h.u.T?B.yW:B.z2:A === h.u.J?B.yW:B.z2;E=this.X.getState();G=this.X.cg();B=z.Xa.hb;A=this.M8.Ldb(B,A);C={st:C,ca:A.Bd,Oc:G,Ec:A.pR || G,ik:A.eX || G,Rg:A.Rg,Pj:A.Pj,Bp:A.Bp,H7a:A.ma.length,ma:[]};D={state:E,Zr:this.X.Zr(),ze:z.Sm,buffer:C,LX:D,fP:!!this.o1.Ym,Bj:this.Ac && this.Ac.Bj,Wea:z.aZb,playbackRate:this.X.Jt()};void 0 === D.ze && (D.ze=z.Pta(C.Ec));D.RW=B.RW;C.ma=A.ma;c.Qa(C.ca)?z.seeking && C.Oc != C.ca && (C.Oc=C.ca):(C.ca=0,C.Ec=0);this.Zh.uKb(D);this.Zh.iGb(D);return D;};y.prototype.Vqa=function(z,B,A){var F,L;z=this.t7[z];for(var C=z.maxBitrate,D="manifest",E=0,G=B.length - 1;0 <= G;G--){F=B[G];L=F.bitrate;if(g(F)){E=Math.max(E,L);break;}else this.K.M1 && !F.Ov?D="bc":F.Xr?F.KB && (D="hf"):D="av";}if(void 0 === C || E !== C)(z.maxBitrate=E,this.Kb.n7b(C,E,D,A));};y.prototype.ZYb=function(z){return this.Wva(z).zg;};y.prototype.Wva=function(z){var B,A,C,D,E,G,F,L,O,K,I,M,H,J,N,P,W,V,S,U;B=this.K;A=z.mediaType;C=A == h.u.J;D=0;E=this.t7[A];G=this.woa[A];if(!E.af)return {zg:void 0};F=this.kza(z);L=z.De;O=L.kl;K=z.pca.O;I=z.track.Pc;if(!K.uk.r2(K.P,I))return (z.Il("location selector did not find any urls"),{zg:void 0});M=(0,v.vea)(F.state);H=C?this.SS:this.Lpa;try{J=H.Rn(I,M);}catch(fa){this.H.error("StreamFilters: filterStreams: " + fa);J=[I[0]];}0 === J.length && (this.H.error("StreamFilters: empty list"),J=[I[0]]);if(this.gI.Et && (z.cF.length !== J.length || 0 < (0,n.uv)(z.cF,J).length || 0 < (0,n.uv)(J,z.cF).length)){try{this.RH && this.dUb();}catch(fa){this.Kb.vp("Hindsight: Error when handling maxbitrate chagned: " + fa);}z.cF=J;}M=O?O.zg:E.hua;try{if(O && (D=O.bitrate,O && L.track && !O.track.equals(L.track))){N=(0,f.Rta)(J,D) || 0;P=J[N];if(O.bitrate !== P.bitrate || A === h.u.J)F.state=k.La.Yh;O=P;M=I.indexOf(P);}}catch(fa){this.H.error("StreamFilters: track change: " + fa);}if(!C && (D=B.uS,!(D && 0 < D.length) && M && I[M] && O && O.location === I[M].location))return {zg:M};O=this.Zh;try{W=O.MP(A);V=C?O.tY():O.WY();S=new t.Pla();S.L_a(J);U=z.Wj.eEa(F,S,V,W,E.af.config.gu,K.qq);if(!U)return (z.Il("stream selector did not find a stream"),{zg:void 0});}catch(fa){this.H.error("StreamFilters: stream selector: " + fa);U={Ce:0};}U.Ce=I.indexOf(J[U.Ce]);this.o1.Ym && this.o1.Ym.nGb(z.mediaType,U,I);C && this.Vqa(A,J,z.Ec);F=U.Ce;J=I[F];W=J.bitrate;F != M && (C && B.hP && this.xh.QWa(z,W),C?O.yL(W):O.MC(W));c.Qa(E.hua) || (E.hua=F);z.Jg || (U.Jg?((0,p.assert)(void 0 !== U.N8),z.Pfa(U.N8),G.zv=U.N8):(z.NF=U.NF,z.tG=U.tG,z.progress=U.progress));this.lA();if(C)if(U.tB)K.aS(U.tB);else if(!K.bba() && !B.pmb)for(z=0;z < I.length;++z){if((B=I[z],B.gw && !K.Rr(A,B.Sa))){K.aS([B.Sa]);break;}}U.P0a && this.Kb.u7b(U.P0a);return {Sa:J.Sa,zg:F,Ny:U.Ny};};y.prototype.lA=function(){var z,B,A,C,D,E;A=this.hh[h.u.T];C=this.hh[h.u.J];D=this.SC[h.u.J];E=this.SC[h.u.T];A=this.M8.md.kKb(null !== (z=null === C || void 0 === C?void 0:C.yw) && void 0 !== z?z:0,null !== (B=null === A || void 0 === A?void 0:A.yw) && void 0 !== B?B:0,this.DI,this.o1.p0);A.zv && (this.o1.yo && D?D.zv=A.zv:E && (E.zv=A.zv));return A.Jg;};y.prototype.Mta=function(z,B){var A,C,D,E;A=this;if(this.RH){C=this.RH;D=this.X.cg();E=[];B && (D=B.Ta);h.hg.forEach(function(G){var F,L;F=A.M8.md.Ae(G);if(F){L=A.kza(F);L.mediaType=G;L.Oc=D;z === k.La.Vg && (L.jjb=F.Xa.tpa(D));E[G]=L;}});C.V6a || C.sJ(E,z) || this.oDa();return C;}};y.prototype.dUb=function(){var z,B;z=this.RH;B=this.K;z && (this.Mta(void 0),z && !z.qO && this.Zh.CCa.ota(z));this.P3a(B);};y.prototype.oDa=function(){this.RH=void 0;};y.prototype.ukc=function(z){var B,A,C;B=z.oldValue;z=z.newValue;A=this.RH;C=this.K;z === k.La.Xc && B !== k.La.Xc?(A && this.H.warn("override an existing play segment!"),this.P3a(C,B,!0)):z !== k.La.Xc && B === k.La.Xc && A && (this.Mta(z),A && !A.qO && this.Zh.CCa.ota(A),this.oDa());};y.prototype.P3a=function(z,B,A){var C,D,E;C=this;D=[];h.hg.forEach(function(G){var F,L,O;F=C.M8.md.Ae(G);if(F){L=C.kza(F);if(A){O=C.hh[G];O.aFa?(L.Em=O.aFa,O.aFa=void 0):L.Em=O.Em;}else L.Em=l.default.time.fa();L.Pc=F.cF;L.mediaType=G;D[G]=L;}});E=l.default.zq();E={fsc:E[h.u.T],Ppb:E[h.u.J],Avc:z.seb,jw:z.jw};this.RH=new d.default(D,l.default.time.fa(),B,this.gI.SX,z.bz,E,z.lba);};return y;})();b.gVa=a;w=(function(){function y(z){this.mediaType=z;this.TW=this.gy=this.PB=this.zv=this.QB=void 0;}y.prototype.zkc=function(z,B,A){this.QB=z?z:this.QB;this.zv=this.zv;this.PB=B?B:this.PB;this.gy=A?A:this.gy;};return y;})();b.Myb=w;u=(function(){return function(y){this.mediaType=y;this.sya=this.zya=this.uya=this.nK=void 0;};})();b.mka=u;x=(function(){return function(y,z){this.mediaType=z;this.H=m(l.default,y,"[" + z + "]");this.Il=this.H.error.bind(this.H);this.ac=this.H.warn.bind(this.H);this.dk=this.H.trace.bind(this.H);this.Eg=this.H.log.bind(this.H);this.H.debug.bind(this.H);this.hua=this.Em=this.hq=this.af=void 0;this.q0=this.yw=0;this.J2=!1;this.maxBitrate=void 0;};})();b.Kyb=x;},function(r,b,a){var q,v,t,w,u,x,y,z,B,A,C,D,E;function c(){}function l(G,F){var L,O,K,I;L=q.qd(F)?F:c;this.K=G || ({});(function(M,H,J){this.Sk[M].hf[H]=J;}).bind(this);(function(M,H){return this.Sk[M].hf?this.Sk[M].hf[H]:void 0;}).bind(this);this.on=this.addEventListener=D.addEventListener;this.removeEventListener=D.removeEventListener;this.emit=this.kb=G.Qtc?D.kb:c;O=w.WNb(G);K=this.K.dailyDiskCacheWriteLimit;if(O){this.yx=O;I=k(G.Ivc || E,w.KWb());this.GA=function(M){return q.wa(I) || null === I || void 0 === this.Sk[M]?!1:!q.wa(I[M]);};I?(this.Sk={},F=v.Promise.all(Object.keys(I).map(function(M){return new v.Promise(function(H,J){var N;N=I[M];N.Apb=G.Apb;new u(M,O,N,function(P,W){P?J(P):H(W);},K);});})).then((function(M){M.map((function(H){var J;J=H.Dx;this.Sk[J]=H;I[J].hVb=I[J].st - H.FA;this.Sk[J].on(u.df.REPLACE,(function(N){N=N || ({});N.partition=J;N.type="save";this.kb("mediacache",N);}).bind(this));this.Sk[J].on(u.df.FWa,(function(N){N=N || ({});N.partition=J;N.type="save";this.kb("mediacache",N);}).bind(this));this.Sk[J].on(u.df.Bg,(function(N){N=N || ({});N.partition=J;N.type=u.df.Bg;this.kb("mediacache-error",N);}).bind(this));}).bind(this));return this;}).bind(this)).then((function(M){f(O,v.storage.nU,Object.keys(I));return M;}).bind(this)).then((function(M){Object.keys(M.Sk).map(function(H){M.Sk[H].bva().map(function(J){M.delete(H,J);});});M.aw=!0;L(null,M);}).bind(this)).catch((function(M){t.error("Failed to initialize media cache ",M);this.ZJ=A.iKa;L(this.ZJ,this);}).bind(this)),C.Vy(F)):(this.ZJ=A.tvb,L(this.ZJ,this));}else (this.ZJ=A.iKa,L(this.ZJ,this));}function g(G,F,L,O,K,I){var M;M=I?"mediacache-error":"mediacache";F={partition:L,type:F,resource:O,time:v.time.now()};I && (F.error=I);K && (q.Qa(K.duration) && (F.duration=K.duration),q.Qa(K.WA) && (F.bytesRead=K.WA));try{G.kb(M,F);}catch(H){t.warn("caught exception while emitting basic event",H);}}function m(G,F,L,O,K){var I;I=K?"mediacache-error":"mediacache";F={partition:L,type:F,resources:O,time:v.time.now()};K && (F.error=K);try{G.kb(I,F);}catch(M){t.warn("caught exception while emitting basic event",M);}}function d(G){return !x.lQ(G) && !z.Z1b(G);}function f(G,F,L){G.query(F,"",function(O,K){O || Object.keys(K).filter(function(I){return 0 > L.indexOf(I.slice(0,I.indexOf(".")));}).map(function(I){G.remove(F,I,c);});});}function h(G,F,L){var K,I;function O(M){G.delete(K,function(H){H?L(H):(delete G.hf[I],H=Object.keys(M.resourceIndex),H=v.Promise.all(H.map(function(J){return new v.Promise(function(N,P){G.delete(J,function(W){W?P(W):N(J);});});})).then(function(){L();},function(J){L(J);}),C.Vy(H));});}if(x.lQ(F))(K=F,I=x.y$(F));else (K=x.Qra(F),I=F);(F=G.hf[I])?O(F):G.read(K,function(M,H){M?L(M):O(H);});}function k(G,F){var L,O,K;L={};O=G.partitions.reduce(function(I,M){return I + M.capacity;},0);K=F / O;G.partitions.map(function(I){var M;M=I.key;L[M]={};L[M].st=Math.floor(K * I.capacity);L[M].dPb=I.dailyWriteFactor || 1;L[M].kwc=I.owner;L[M].dTb=I.evictionPolicy;});return L;}function n(G,F,L){if(L)return z.OQb(G,F).reduce(function(O,K){Object.keys(K).map(function(I){O[I]=K[I];});return O;},{});L={};L[G]=F;return L;}function p(G,F,L,O,K,I,M,H,J,N,P){return function(W,V){W?q.isArray(W)?(V=W.map(function(S){return S.error;}),V.some(function(S){return S.code === A.jM.code;}) && !V.some(function(S){return S.code === A.W5.code;})?P(N,W,function(){J.save(F,L,O,K,I,M);}):(N.delete(H),delete N.hf[L],I({error:W[0].error,tw:W[0].tw,type:W[0].type,X_a:W}))):I({error:W,tw:F,type:"save"}):(W=V.items.filter(function(S){return 0 <= Object.keys(G).indexOf(S.key);}).reduce(function(S,U){return S + U.aca;},0),N.hf[L].Mlb(W),W={hVb:V.jp,jtc:V.TO,Ql:0,items:V},0 < V.Ql && (W.Ql=V.Ql),0 < V.duration && (W.duration=V.duration),I(null,W));};}q=a(11);v=a(135);t=new v.Console("MEDIACACHE","media|asejs");w=a(1080);u=a(1081);x=a(457);y=a(136);z=a(1088);B=a(1089);A=a(275);C=a(276);D=a(458).EventEmitter;E={pwc:[]};l.prototype.G0=function(G,F,L){var O;O=q.qd(L)?L:c;this.GA(G)?this.Sk[G].query(F,function(K,I){K?(t.error("Failed to query resources",K),O([])):O(I.filter(d));}):O([]);};l.prototype.read=function(G,F,L){var O,K,I,M;O=q.qd(L)?L:c;if(this.GA(G)){K=this.Sk[G];I=K.hf[F];if(!x.lQ(F) && this.K.J5b){M=(function(H){K.Sea(Object.keys(H),(function(J,N,P){J?O(A.OM.Hs("Failed to read " + F,J)):(g(this,"read",G,F,P),O(null,z.t1b(N)));}).bind(this),H);}).bind(this);I?M(I.resourceIndex):this.Jbc(G,F,function(H,J){H?O(A.OM.Hs("Failed to read " + F,H)):M(J.resourceIndex);});}else K.read(F,(function(H,J,N){H?O(A.OM.Hs("Failed to read " + F,H)):(I && I.convertToBinaryData && (J=B.XLb(J)),g(this,"read",G,F,N),O(null,J));}).bind(this));}else O(A.tD);};l.prototype.Sea=function(G,F,L){var O,K;O=q.qd(L)?L:c;if(this.GA(G)){K={};F=v.Promise.all(F.map((function(I){return new v.Promise((function(M,H){this.read(G,I,function(J,N){J?(N={},N[I]=J,H(N)):(K[I]=N,M());});}).bind(this));}).bind(this))).then(function(){O(null,K);},function(I){O(I);});C.Vy(F);}else O(A.tD);};l.prototype.Ikb=function(G,F,L){var O;O=q.qd(L)?L:c;this.GA(G)?"[object Object]" !== Object.prototype.toString.call(F)?O(A.V5.Hs("items must be a map of keys to objects")):(L=new v.Promise((function(K){var I,M;I=this.Sk[G].bva();M=Object.keys(F);(I=I.filter(function(H){return -1 === M.indexOf(H);})) && 0 < I.length?this.V4a(G,I,function(){K();}):K();}).bind(this)).then((function(){return v.Promise.all(Object.keys(F).map((function(K){return new v.Promise((function(I,M){this.save(G,K,F[K].ys,F[K].gd,function(H,J){H?(t.error("Received an error saving",K,H),M(H)):I(J);},!0);}).bind(this));}).bind(this)));}).bind(this)).then((function(K){var I,M,H;try{I=Number.MAX_VALUE;M=Number.MAX_VALUE;H=K.reduce(function(J,N){N.jp && N.jp < I && (I=N.jp);N.TO && N.TO < M && (M=N.TO);I < Number.MAX_VALUE && (J.freeSize=I);M < Number.MAX_VALUE && (J.dailyBytesRemaining=M);q.Qa(N.Ql) && (J.bytesWritten+=N.Ql);q.Qa(N.duration) && (J.duration+=N.duration);return J;},{partition:G,type:"saveMultiple",keys:Object.keys(F),time:v.time.now(),bytesWritten:0,duration:0});this.kb("mediacache",H);O(null,H);}catch(J){O(err);}}).bind(this),(function(K){q.isArray(K.X_a)?K.X_a.forEach((function(I){this.kb("mediacache-error",{partition:G,type:"saveMultiple",error:I.error,resources:I.resources});}).bind(this)):this.kb("mediacache-error",{partition:G,type:"saveMultiple",error:K});O(K);}).bind(this)),C.Vy(L)):(q.qd(L)?L:c)(A.tD);};l.prototype.save=function(G,F,L,O,K,I){var M,H,J,N,P,W,V,S,U;M=q.qd(K)?K:c;if(this.GA(G)){H=this.Sk[G];J=x.Qra(F);K=H.bva();K=K.filter(function(fa){return fa !== F;});if(q.wa(O) || q.ub(O) || !q.Qa(O.lifespan))M(A.Vvb);else {N=n(F,L,this.K.J5b);P=H.hf[F] || ({});W=P.resourceIndex;W && Object.keys(W).map(function(fa){q.wa(N[fa]) && H.delete(fa);});O.convertToBinaryData && (L=B.YLb(N),N=n(F,L,!1));W=v.time.now();V={};V.partition=G;V.resourceIndex=Object.keys(N).reduce(function(fa,qa){fa[qa]=y.hwa(N[qa]);return fa;},{});V.creationTime=P.creationTime || W;V.lastRefresh=W;V.lifespan=O.lifespan;V.lastMetadataUpdate=W;V.size=P.size;V.convertToBinaryData=O.convertToBinaryData;S=(function(fa,qa,za){fa.eQb((function(Aa,Qa){Aa && t.error("Evicting","Failed to delete some orphaned records",Aa);Qa.QCa?za():(Aa=fa.XWb())?this.delete(fa.Dx,Aa,(function(T){T?(I || (q.isArray(qa)?qa.forEach((function(Z){m(this,"save",fa.XXb,Z.resources,Z.error);}).bind(this)):g(this,"save",fa.Dx,F,void 0,qa)),M(qa)):za();}).bind(this)):M(A.jM);}).bind(this));}).bind(this);U=(function(){var fa,qa,za;fa=this.Sk;qa=0;za=v.time.now();if(!q.wa(fa))for(var Aa in fa){qa+=fa[Aa].kWb(za);}return qa;}).bind(this);this.V4a(G,K,(function(){H.replace(J,V,(function(fa,qa){qa?(H.hf[F]=x.vua(V),H.Xcc(N,p(N,G,F,L,O,M,I,J,this,H,S),I,U)):fa.code === A.jM.code?S(H,fa,(function(){this.save(G,F,L,O,M,I);}).bind(this)):M(fa);}).bind(this),I,U);}).bind(this));}}else M(A.tD);};l.prototype.delete=function(G,F,L){var O;O=q.qd(L)?L:c;this.GA(G)?h(this.Sk[G],F,(function(K){g(this,"delete",G,F,void 0,K);O(K);}).bind(this)):O(A.tD);};l.prototype.V4a=function(G,F,L){var O,K;O=q.qd(L)?L:c;if(this.GA(G)){K=this.Sk[G];L=v.Promise.all(F.map((function(I){return new v.Promise((function(M){h(K,I,(function(H){M({ja:q.wa(H),error:H,ys:I});}).bind(this));}).bind(this));}).bind(this))).then((function(I){var P,W;for(var M=[],H=[],J=[],N=0;N < I.length;N++){P=I[N];P.ja?M.push(P.ys):P.error && H.push(P);}0 < M.length && m(this,"delete",G,M);if(0 < H.length){J=H.map(function(V){return V.ys;});I=C.G$a(H);W=I[0];I.forEach((function(V){t.error("Failed to delete resources ",V.error,V.resources);m(this,"delete",G,V.resources,V.error);}).bind(this));}I={};I.Jwc=M;0 < J.length && (I.Kwc=J);W?O(W,I):O(void 0,I);}).bind(this),(function(I){m(this,"delete",G,F,I);O(I);}).bind(this));C.Vy(L);}else O(A.tD);};l.prototype.clear=function(G,F){var L;L=q.qd(F)?F:c;this.GA(G)?this.Sk[G].clear(function(O){L(O.filter(d));}):L(A.tD);};l.prototype.Jbc=function(G,F,L){var O,K;O=q.qd(L)?L:c;if(this.GA(G)){K=this.Sk[G];K.read(x.Qra(F),function(I,M){var H;if(I)O(A.Wvb);else {H=x.vua(M) || ({});K.O9a(Object.keys(H.uDa),function(J){H.size=J;(J=K.hf[F]) && (H.lastMetadataUpdate && J.lastMetadataUpdate && J.lastMetadataUpdate <= H.lastMetadataUpdate?K.hf[F]=H:J.lastMetadataUpdate && (J.lastMetadataUpdate > H.lastMetadataUpdate || q.wa(H.lastMetadataUpdate)) && (H=J));O(null,H);});}});}else O(A.tD);};l.prototype.constructor=l;r.exports=l;},function(r,b,a){var m,d;function c(f,h,k,n,p,q){return new g(f,h,k,n,p,q);}function l(f){return f && 0 <= f.indexOf(".__metadata__");}function g(f,h,k,n,p,q){this.partition=f;this.lifespan=k;this.resourceIndex=h;this.size=n;this.creationTime=p;this.lastRefresh=q;return this.eob();}m=a(11);d=a(135);a(136);new d.Console("MEDIACACHE","media|asejs");g.prototype.refresh=function(){this.lastRefresh=d.time.now();return this.eob();};g.prototype.Mlb=function(f){this.size=f;};g.prototype.f3a=function(){var f;f=d.time.now();return (this.lastRefresh + 1E3 * this.lifespan - f) / 1E3;};g.prototype.eob=function(){this.lastMetadataUpdate=d.time.now();return this;};g.prototype.constructor=g;r.exports={create:c,vua:function(f){var h;h=f;"string" === typeof f && (h=JSON.parse(f));if(h && h.partition && !m.wa(h.lifespan) && h.resourceIndex && h.creationTime && h.lastRefresh)return (f=c(h.partition,h.resourceIndex,h.lifespan,-1,h.creationTime,h.lastRefresh),h.lastMetadataUpdate && (f.lastMetadataUpdate=h.lastMetadataUpdate),!m.wa(h.size) && 0 <= h.size && f.Mlb(h.size),f.f3a(),f.convertToBinaryData=h.convertToBinaryData,f);},Qra:function(f){return f + ".__metadata__";},y$:function(f){return l(f)?f.slice(0,f.length - 13):f;},lQ:l};},function(r,b,a){r.exports={EventEmitter:a(1084),ef:a(1085)};},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.LP=void 0;c=a(0).__importDefault(a(3));l=a(1093);b.LP=function(){var m;if(!g){m=new c.default.Console("ASEJS","media|asejs");g=new l.NHa(m);}return g;};},function(r,b,a){var p,q,v;function c(t){return t.yu - t.At;}function l(t,w){return Math.exp(-(Math.log(2) / t) * w);}function g(t,w){t=Math.log(2) * w / t;return (1 - Math.exp(-t)) / t;}function m(t,w){var u,x,y,z,B;u=w.hCa;x=w.gCa;y=w.y0;if(0 === w.ri.length)return {Z7:!1};z=w.ri[0];w=z.Qe;B=z.uF;z=z.duration;if(!B || 1 === y)return {Z7:!1};(0,q.assert)(z,"duration should be defined when immediate probability is included in probabilities array");(0,q.assert)(0 < y,"presenting segment seamless probability cannot be zero");x-=z;if(u < x)return {Z7:!1};x=u - x;u=y + x / z * (1 - y);z-=x;B=B * (1 - u) / (1 - y);t=w * u / y * l(t,z) + B * g(t,z);(0,q.assert)(1 >= t);return {Z7:!0,DGb:t};}function d(t){var w,u,x,y,z;w=t.Qn;u=t.Wmb;x=t.JC;y=t.yu;z=t.At;t=t.n7a;(0,q.assert)(void 0 !== u);(0,q.assert)(void 0 !== w);x=1 - x;y-=z;t?(z=u - t - y,w-=t,0 >= z?t=Math.max(0,(u - t) / w):(u=w - z,t=0 < u?y / u:0,x*=0 < u?u / w:1)):(z=u - y,0 >= z?t=u / w:(u=w - z,t=0 < u?y / u:0,x*=0 < u?u / w:1));(0,q.assert)(0 <= t);(0,q.assert)(1 >= t);(0,q.assert)(0 <= x);(0,q.assert)(1 >= x);return 1 - t * x;}function f(t,w){t=Math.log(2) / t.kjb;return h(w) * Math.exp(-t * c(w));}function h(t){var w;return (null !== (w=t.PJ) && void 0 !== w?w:1) * t.ri.reduce(function(u,x){var y;y=x.uF;return u * (x.Qe + (void 0 === y?0:y));},1);}function k(t){var w,u,x,y;if(0 === t.ri.length)return 0;u=0;if(1 > t.y0){u=t.hCa;x=t.gCa;y=null !== (w=t.ri[0].duration) && void 0 !== w?w:0;u=Math.max(0,Math.min(y,u - (x - y)));}return t.ri.reduce(function(z,B){B=B.duration;return z + (void 0 === B?0:B);},0) - u;}function n(t){return t.ri.filter(function(w){return !w.uF;}).reduce(function(w,u){return w * u.Qe;},1);}Object.defineProperties(b,{__esModule:{value:!0}});b.Gqa=b.S1a=b.DJb=b.R1a=b.HJb=void 0;p=a(6);q=a(2);v=a(10);b.HJb=c;b.R1a=function(t,w,u){var x,y,z,B,A,C,D,E;if(!t.h$ || (0,p.Eq)(w.Kg))return f(t,w);y=t.kjb;t=c(w);z=k(w);B=n(w);A=m(y,w);C=A.Z7;A=A.DGb;A=void 0 === A?1:A;D=1 > w.JC?d(w):1;E=(null !== (x=w.PJ) && void 0 !== x?x:1) * B * l(y,t - z) * A * D * w.ri.filter(function(G,F){return G.uF && (0 < F || !C);}).reduce(function(G,F){var L,O;L=F.uF;O=F.duration;O=void 0 === O?0:O;L=void 0 === L?0:L;F=F.Qe * l(y,O) + L * g(y,O);return G * F;},1);v.M && (null === u || void 0 === u?void 0:u.log(("{").concat(w.groupId,"} [").concat(w.mediaType,"] calculateStreamablePriority: ") + ("sp: ").concat(w.JC,", ") + ("pssp: ").concat(w.y0,", ") + ("streamingDuration: ").concat(w.Wmb,", ") + ("duration: ").concat(w.Qn,", ") + ("seamlessProbability: ").concat(B,", ") + ("distance: ").concat(t,", immediateDistance: ").concat(z,", ") + ("risk:").concat(l(y,t - z),", ") + ("adjustedFirstTerm: ").concat(A,", streamingAdjustment: ").concat(D,", ") + ("probabilities: ").concat(JSON.stringify(w.ri)," => ").concat(E)));return E;};b.DJb=f;b.S1a=h;b.Gqa=n;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.jU=void 0;c=a(6);r=(function(){function l(){this[c.u.T]=0;this[c.u.J]=0;this[c.u.Za]=0;}Object.defineProperties(l.prototype,{total:{get:function(){return this[c.u.T] + this[c.u.J] + this[c.u.Za];},enumerable:!1,configurable:!0}});l.prototype.add=function(g){this[c.u.T]+=Math.max(g[c.u.T] || 0,0);this[c.u.J]+=Math.max(g[c.u.J] || 0,0);this[c.u.Za]+=Math.max(g[c.u.Za] || 0,0);};l.prototype.apa=function(g,m){this[g]+=Math.max(m || 0,0);};return l;})();b.jU=r;c.u.T;c.u.J;c.u.Za;},function(r,b,a){var l,g,m,d;function c(){return l.__awaiter(this,void 0,void 0,function(){var f;return l.__generator(this,function(h){switch(h.label){case 0:return [4,Promise.resolve().then(function(){return l.__importStar(a(459));})];case 1:return (f=h.zb().LP,[2,f()]);}});});}Object.defineProperties(b,{__esModule:{value:!0}});b.NY=void 0;l=a(0);g=a(1107);m=l.__importDefault(a(3));b.NY=function(f){var h;h=new m.default.Console("ASEJS","media|asejs");d || (d=new g.BTa(function(){return c();},f,h));return d;};},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.assert=b.AssertionError=void 0;c=a(0);l=(function(g){function m(){return null !== g && g.apply(this,arguments) || this;}c.__extends(m,g);return m;})(Error);b.AssertionError=l;b.assert=function(g,m){if(!g)throw new l(m || "Assertion failed");};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.F$=b.tUb=b.Sta=void 0;c=a(280);b.Sta=function(l,g){var m;m=void 0;return Object.keys(l.U).some(function(d){var f;return null === (f=(m=l.U[d]).next) || void 0 === f?void 0:f[g];})?m:void 0;};b.tUb=function(l,g){return c.Qc(Object.keys(l.U),function(m){var d;return null === (d=l.U[m].next) || void 0 === d?void 0:d[g];});};b.F$=function(l,g){return Object.keys(l.U).filter(function(m){var d;return null === (d=l.U[m].next) || void 0 === d?void 0:d[g];});};},function(r,b,a){var l,g,m,d,f,h,k,n;function c(p){return p === d.u.J?0:p === d.u.T?1:p === d.u.Za?2:3;}Object.defineProperties(b,{__esModule:{value:!0}});b.oia=b.lD=b.qwb=b.QG=void 0;l=a(0);g=a(13);m=a(10);d=a(6);f=l.__importDefault(a(3));h=a(8);k=a(2);b.QG=function(p,q){p=c(p.mediaType);q=c(q.mediaType);return p - q;};b.qwb={QG:b.QG};(function(p){p[p.xT=0]="CREATED";p[p.pT=1]="CANCELLED";})(n=b.lD || (b.lD={}));r=(function(){function p(q,v,t,w,u){this.bq=q;this.RXa=v;this.nr=t;this.Yn=w;this.Sc=n.xT;this.cO=[];this.events=new g.EventEmitter();q=q.id && q.id.length?"{" + q.id + "}":"";this.console=(0,h.Oi)(f.default,u,q);}Object.defineProperties(p.prototype,{state:{get:function(){return this.Sc;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{bg:{get:function(){return this.Sc === n.pT;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{G:{get:function(){return this.bq;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{Fe:{get:function(){return this.cO;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{parent:{get:function(){var q;return null === (q=this.RXa) || void 0 === q?void 0:q.call(this,this);},enumerable:!1,configurable:!0}});p.prototype.oa=function(){return l.__awaiter(this,void 0,void 0,function(){var q,v,t;t=this;return l.__generator(this,function(){if(q=this.parent)(q.Vc && (v=q.Vc.Ga(this.Yn),this.Xq(v,"init from parent")),q.VS.then(function(){var w;if(!t.bg){w=t.parent;(0,k.assert)(w,"Parent is undefined after parent normalization");w.Vc && (w=w.Vc.Ga(t.Yn),t.Xq(w,"parent normalization"));}}));return [2];});});};p.prototype.Xq=function(q,v){void 0 === v && (v="unknown");m.M && this.console.log(("AseBranch adjusting branchOffset to ").concat(q.Z) + (" from ").concat(this.nr.Z,".  ").concat(v));this.nr=q;};p.prototype.ee=function(){this.RXa=void 0;};p.prototype.eba=function(q){return this.Fe.some(function(v){return v.mediaType === q;});};return p;})();b.oia=r;},function(r,b,a){var g,m,d,f;function c(h,k,n,p,q){var v,t;n=null !== (v=k.pd) && void 0 !== v?v:k.track.hp(h,n.Z,void 0,q);h=null !== (t=k.Ud) && void 0 !== t?t:k.track.AB(h,null === p || void 0 === p?void 0:p.Z,k.Th);return [!k.Nh(),n,h];}function l(h,k){var C,D;for(var n=[],p=0,q=h[p],v=null === q || void 0 === q?void 0:q[0],t=null === q || void 0 === q?void 0:q[1],w=k.Ud.index,u=k.track.Uq,x=0,y=k.pd.oc,z=k.pd.Jd.Z > q[0],B=z,A=k.pd.index;A <= w;++A){C=!1;if(q){D=u.get(A);z && (D.oc.Z >= t?(z=!1,++p >= h.length?t=v=q=void 0:(q=h[p],v=null === q || void 0 === q?void 0:q[0],t=null === q || void 0 === q?void 0:q[1])):B?B=!1:(n.push(new d.w5(x,y,D.oc)),y=D.oc,C=!0));!z && q && D.Jd.Z > v && (z=!0,C=D.oc,(D=k.track.YJ.Xl(A).h7a(v)) && 0 !== D.rj && (C=f.N.Na(D.re)),n.push(new d.w5(x,y,C)),y=C,C=!0);}C && ++x;}n.push(new d.w5(x,y,k.Ud.Jd));return n;}Object.defineProperties(b,{__esModule:{value:!0}});b.c5b=b.Ydb=b.Vfb=b.Tfb=b.aDa=void 0;g=a(0);m=a(6);d=a(467);f=a(8);b.aDa=function(h,k,n){var p,q,v;v=k.get(m.u.T);k=k.get(m.u.J);k=null === k || void 0 === k?void 0:k.track.AB(h,null === n || void 0 === n?void 0:n.Z,k.Th);return [null === v || void 0 === v?void 0:v.track.AB(h,null !== (q=null === (p=null === k || void 0 === k?void 0:k.Jd) || void 0 === p?void 0:p.Z) && void 0 !== q?q:null === n || void 0 === n?void 0:n.Z,v.Th),k];};b.Tfb=function(h,k,n,p,q){var v,t,w,u;v=k.get(m.u.T);k=k.get(m.u.J);t=g.__read(k?c(h,k,n,p,q):[!1],3);w=t[0];u=t[1];t=t[2];p=g.__read(v?c(h,v,w && void 0 !== (null === u || void 0 === u?void 0:u.ca)?f.N.Na(u.ca):n,void 0 !== (null === t || void 0 === t?void 0:t.Ta)?f.N.Na(null === t || void 0 === t?void 0:t.Ta):p,q):[!1],3);h=p[0];n=p[1];p=p[2];h && (null === v || void 0 === v?void 0:v.Eba(n,p));w && (null === k || void 0 === k?void 0:k.Eba(u,t));return [h,w];};b.Vfb=function(h,k,n){return k.track.hp(h,n.Z,void 0,!0).oc;};b.Ydb=function(h,k,n){var p;p=k.G;if(!p.uq || 0 === p.uq.length)return [];h=p.uq.map(function(q){return [p.Ba + q[0],p.Ba + q[1]];});return l(h,n.Gea);};b.c5b=l;},function(r,b,a){var l,g,m;function c(d){return "immediate" === d;}Object.defineProperties(b,{__esModule:{value:!0}});b.sTa=b.w5=b.Hbb=void 0;l=a(0);g=a(8);m=a(2);b.Hbb=c;r=(function(){function d(f,h,k){this.region=f;this.oc=h;this.Jd=k;}d.prototype.toJSON=function(){return {region:this.region,ca:this.oc.xC,Ta:this.Jd.xC};};return d;})();b.w5=r;r=(function(){function d(f,h,k){var n,p,q;n=this;this.id=f;this.G=h;this.OYa=!1;this.TP=function(v){var t,w,u,x;return (null === (t=n.Zy) || void 0 === t?0:t.length)?"immediate":null !== (x=null === (u=null === (w=n.G.next) || void 0 === w?void 0:w[v]) || void 0 === u?void 0:u.Ge) && void 0 !== x?x:n.Ge;};this.UV=new g.N(h.Ba,1E3);this.bV=void 0 !== h.Aa && null !== h.Aa?new g.N(h.Aa,1E3):g.N.Qt;this.MEb=null !== (q=null !== (p=h.Ge) && void 0 !== p?p:k) && void 0 !== q?q:"lazy";this.bbb();(0,m.assert)(this.UV.lessThan(this.bV),"PlaygraphSegment: Invalid timestamps (endTimestamp <= startTimestamp)");}Object.defineProperties(d.prototype,{P:{get:function(){return this.G.P;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{bm:{get:function(){return this.OYa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{sf:{get:function(){return this.UV;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{yh:{get:function(){return this.bV;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.bV.Ga(this.UV);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ca:{get:function(){return this.UV.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ta:{get:function(){return this.bV.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{hG:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{zu:{get:function(){return this.mC.length?!this.G.dc && 0 === this.XQ.length:!0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{f2b:{get:function(){return !this.G.type || "content" === this.G.type;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{$6b:{get:function(){return this.VD;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{mC:{get:function(){var f,h;return Object.keys(null !== (h=null === (f=this.G) || void 0 === f?void 0:f.next) && void 0 !== h?h:{});},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{XQ:{get:function(){var f;f=this;return this.mC.filter(function(h){return !!f.VD[h];});},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{AFa:{get:function(){var f;return null !== (f=this.PZa) && void 0 !== f?f:this.PZa=this.IJb();},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{uga:{get:function(){var f;return null !== (f=this.QZa) && void 0 !== f?f:this.QZa=this.JJb();},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{JC:{get:function(){return this.G.weight?this.G.weight / (this.G.weight + this.uga):1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ge:{get:function(){var f;return (null === (f=this.Zy) || void 0 === f?0:f.length)?"immediate":this.MEb;},enumerable:!1,configurable:!0}});d.prototype.normalize=function(f,h,k){this.UV=f;this.bV=h;this.Zy=k;this.OYa=!0;this.oqb();};d.prototype.Uua=function(){var f;return this.XQ.length?null !== (f=this.XQ.map(this.TP).reduce(function(h,k){return h === k?k:void 0;})) && void 0 !== f?f:this.Ge:this.Ge;};d.prototype.Ek=function(f){this.bbb(f);};d.prototype.yJb=function(f){var h,k;if(this.AFa){h=(this.VD[f] || 0) / this.AFa;if(void 0 === this.G.weight || 0 === this.uga)return {Qe:h};k=this.JC;return 1 !== k && c(this.TP(f)) && this.VD[f]?{Qe:k * h,uF:this.VD[f] / this.uga * (1 - k)}:{Qe:k * h};}return {Qe:(null === (h=this.G.next) || void 0 === h?0:h[f])?1 / this.mC.length:0};};d.prototype.z_b=function(f){return -1 < this.mC.indexOf(f);};d.prototype.iHb=function(){return this.bm?l.__assign(l.__assign({},this.G),{Ba:this.sf.Z,Aa:this.yh.Z}):this.G;};d.prototype.bbb=function(f){var h;if(void 0 === this.G.next)this.VD={};else {h=this.G.next;this.VD=Object.keys(h).reduce(function(k,n){var p;p=f?f[n] || 0:h[n].weight;void 0 !== p && null !== p && 0 <= p && (k[n]=p);return k;},{});}this.oqb();};d.prototype.IJb=function(){var f;f=this;return this.XQ.reduce(function(h,k){return h + f.VD[k];},0);};d.prototype.JJb=function(){var f;f=this;return this.XQ.filter(function(h){return c(f.TP(h));}).reduce(function(h,k){return h + f.VD[k];},0);};d.prototype.oqb=function(){this.QZa=this.PZa=void 0;};return d;})();b.sTa=r;},function(r,b,a){var c,l,g,m,d,f,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.ila=void 0;c=a(0);l=a(13);g=a(8);m=a(2);d=a(6);r=a(137);f=c.__importDefault(a(3));h=a(10);k=r.Qy.qsa;a=(function(){function n(){this.iR=[];this.UD=new g.Yz(!1);this.SD=new g.Yz(g.N.Na(-Infinity));this.events=new l.EventEmitter();this.H=new f.default.Console("ASEJS","media|asejs");}Object.defineProperties(n.prototype,{console:{get:function(){return this.H;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{$e:{get:function(){return this.Fx;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Ncb:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Gp:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{jG:{get:function(){return new Map();},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{playbackRate:{get:function(){return this.Jt();},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{o0a:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{cu:{get:function(){return this.UD;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{jya:{get:function(){return this.SD;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{nf:{get:function(){return this.qy;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{xe:{get:function(){return this.FJ();},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Ii:{get:function(){var p,q;p=this.xe;q=this.Vm(p,!1);h.M && (0,m.assert)(q,("Could not find current branch for ").concat(p.Z));return q;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{d1b:{get:function(){return this.eb[0];},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Wt:{get:function(){return this.qy?this.eb[this.eb.length - 1]:void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{oi:{get:function(){var p,q;p=this.xe;q=this.uY(p);(0,m.assert)(q,("Could not find presenting branch for ").concat(p.Z));return q;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{qy:{get:function(){return 0 < this.eb.length;},enumerable:!1,configurable:!0}});n.prototype.Sfa=function(){};n.prototype.rlb=function(){};n.prototype.ci=function(){return !1;};n.prototype.fba=function(){return 0 < this.eb.length;};n.prototype.Wn=function(){(0,m.assert)(0 < this.eb.length,"Could not find presenting branch. Player has no branches.");return this.oi;};n.prototype.O$a=function(p){return -1 !== this.eb.indexOf(p);};n.prototype.x8=function(){return void 0 !== this.Ja?!1:!0;};n.prototype.fR=function(){};n.prototype.Wa=function(){};n.prototype.aZ=function(p){var q,v,t;q=this.eb.filter(function(w){return w.G.id === p.S;});if(0 !== q.length){v=this.FJ();t=new g.N(Infinity,1);q.forEach(function(w){w=w.ls.add(p.offset);v.YO(w).lessThan(v.YO(t)) && (t=w);});return t;}};n.prototype.bZ=function(p){var q,v,t,w,u,x,y,z,B,A;return c.__generator(this,function(C){switch(C.label){case 0:q=this.eb.filter(function(D){return D.G.id === p.S;});if(0 === q.length)return [2,void 0];v=this.FJ();C.label=1;case 1:(C.Es.push([1,6,7,8]),t=c.__values(q),w=t.next(),C.label=2);case 2:if(w.done)return [3,5];u=w.value;x=u.ls.add(p.offset);y=v.YO(x);return [4,{Nq:x,YO:y}];case 3:(C.zb(),C.label=4);case 4:return (w=t.next(),[3,2]);case 5:return [3,8];case 6:return (z=C.zb(),B={error:z},[3,8]);case 7:try{w && !w.done && (A=t.return) && A.call(t);}finally{if(B)throw B.error;}return [7];case 8:return [2];}});};n.prototype.Vm=function(p,q){var v,t,w;void 0 === q && (q=!1);v=this.uY(p,q);if(v){t=v.G;q=t.id;w=t.duration;p=g.N.min(p.Ga(t.sf.add(v.Rd)),w || g.N.Qt);return {S:q,offset:p};}};n.prototype.Eaa=function(){};n.prototype.reset=function(){this.EE();};n.prototype.pDa=function(){};n.prototype.NR=function(){};n.prototype.pause=function(p){void 0 === p && (p=d.hg);this.iR=null === p || void 0 === p?void 0:p.reduce(function(q,v){-1 === q.indexOf(v) && q.push(v);return q;},this.iR);};n.prototype.resume=function(p){var q;q=this;void 0 === p && (p=d.hg);p.forEach(function(v){v=q.iR.indexOf(v);-1 !== v && q.iR.splice(v,1);});};n.prototype.$Fa=function(p){var q;(0,m.assert)(this.Ja);(0,m.assert)(p !== this);this.EL();q=p.x8(this.Ja,this);q && (this.Kea(),p.pause(this.iR),p.hta.apply(p,c.__spreadArray([],c.__read(this.eb),!1)),this.zsa(this.Ja));return q;};n.prototype.FJ=function(){return this.g9a();};n.prototype.g9a=function(){var p,q;h.M && (0,m.assert)(this.qy,"Attempted to get initial time before any branches were queued");q=c.__read(this.eb,1)[0];h.M && (0,m.assert)(q);return null !== (p=q.Ld) && void 0 !== p?p:q.Rt;};n.prototype.Jt=function(){return 1;};n.prototype.IY=function(){};n.prototype.uY=function(p,q){var v;void 0 === q && (q=!1);if(this.qy){v=this.g9a();return p.lessThan(v)?this.eb[0]:(0,g.Xta)(this.eb,p) || (q?this.Wt:void 0);}};n.prototype.xWb=function(){var p,q,w,u,x,y,z,B;q={};try{for(var v=c.__values(this.eb),t=v.next();!t.done;t=v.next()){w=t.value;u=void 0;x=void 0;y=w.CB();for(u in y){z=u;B=y[z];B && (q[z]=(null !== (x=q[z]) && void 0 !== x?x:0) + B);}if(!w.Dj)break;}}catch(C){var A;A={error:C};}finally{try{t && !t.done && (p=v.return) && p.call(v);}finally{if(A)throw A.error;}}return q;};c.__decorate([k.return.Ni(),k.return.Jda],n.prototype,"Ncb",null);c.__decorate([k.return.Ni()],n.prototype,"Ii",null);c.__decorate([k.return.eqa(),k.return.so],n.prototype,"Wn",null);c.__decorate([c.__param(0,k.Ni())],n.prototype,"aZ",null);c.__decorate([c.__param(0,k.Ni())],n.prototype,"bZ",null);c.__decorate([k.return.Ni()],n.prototype,"Vm",null);return n;})();b.ila=a;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.sfa=void 0;c=a(0);l=a(2);g=a(197);b.sfa=function(m,d,f,h,k,n){var p,q;void 0 === k && (k=g.ex.JX);p=m();if(h && p){q=h.rpa;m=h.so;h=h.rules.map(function(v){return ["function" === typeof v.tl?v.tl(f):f[v.tl],v.config];});q || (0,l.assert)(d,"Param is null");n && h.push([{map:n,XA:function(){return !0;}},void 0]);n=h.filter(function(v){v=c.__read(v,2);return v[0].XA(d,p,v[1]);});m && (0,l.assert)(n.length,("No rules matched for ").concat(d));if(n.length)return n.reduce(function(v,t){t=c.__read(t,2);return t[0].map(v,k,p,t[1]);},d);}return d;};},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(471),b);r.__exportStar(a(1143),b);r.__exportStar(a(412),b);},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.WHa=void 0;c=a(60);r=(function(){function l(g){this.$f=g;this.zZ=this.Nt=!1;}Object.defineProperties(l.prototype,{id:{get:function(){return this.$f.id;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{startTime:{get:function(){return c.N.Na(this.$f.Ba);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{endTime:{get:function(){return c.N.Na(this.$f.Aa);},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{mE:{get:function(){return this.$f.mE;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Dga:{get:function(){return this.$f.Dga;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{dw:{get:function(){return this.$f.dw;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{wS:{get:function(){return this.$f.wS;},enumerable:!1,configurable:!0}});return l;})();b.WHa=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.h8a=b.P9a=b.Lua=b.gUa=void 0;c=a(0);l=a(10);g=a(28);r=(function(){function m(d){this.Hb=d;}Object.defineProperties(m.prototype,{he:{get:function(){return "queue-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{eu:{get:function(){return "qaudit";},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{enabled:{get:function(){return l.M;},enumerable:!1,configurable:!0}});m.prototype.il=function(d){var f,h,p;d=d.Pg;if(d === g.Kc.el || d === g.Kc.hn)if(d=this.Hb.Gua()){h={};try{for(var k=c.__values(d.y$b),n=k.next();!n.done;n=k.next()){p=n.value;h[p.mediaType]=this.W4b(p);}}catch(v){var q;q={error:v};}finally{try{n && !n.done && (f=k.return) && f.call(k);}finally{if(q)throw q.error;}}return {branchQueue:(0,b.h8a)(d.Cbc),playerIterator:h,driftStats:this.Hb.$Ga};}};m.prototype.W4b=function(d){return null === d || void 0 === d?void 0:d.h9a();};return m;})();b.gUa=r;b.Lua=function(m){var d,f;if(m){d=m.G;f={};m.Km().forEach(function(h){f[h.mediaType]=(0,b.P9a)(h);});return {sId:null === d || void 0 === d?void 0:d.id,cancelled:m.bg,RM:f};}return m;};b.P9a=function(m){var d,f,h;if(m && m.Xa)return c.__assign(c.__assign({},m.Xa.Iva()),{unsentRequests:m.Xa.Eu,lastFragmentContentEndPts:null === (d=m.Ud) || void 0 === d?void 0:d.Nc,trackAttributes:null === (f=m.track) || void 0 === f?void 0:f.lp(),bitrate:null === (h=m.Ud) || void 0 === h?void 0:h.bitrate});};b.h8a=function(m){return m.map(function(d){return (0,b.Lua)(d);});};},function(r,b,a){var c,l,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.JDa=b.dra=b.Vm=b.E$a=b.Npb=void 0;c=a(8);l=a(2);g=a(10);b.Npb=function(d,f){d=d.U[f.S];if(void 0 === d)return {oQ:!1,reason:("Segment ").concat(f.S," was not found")};if(0 > f.offset.Z)return {oQ:!1,reason:("Offset ").concat(f.offset.Z," was negative")};if(void 0 === d.Aa || null === d.Aa || Infinity === d.Aa)return {oQ:!0};d=d.Aa - d.Ba;return f.offset.Z >= d?{oQ:!1,reason:("Offset ").concat(f.offset.Z," was greater than segment duration ").concat(d)}:{oQ:!0};};m=c.N.Na(100);b.E$a=function(d,f){if(d === f)return !0;if(d && f && d.S === f.S){if(d.offset === f.offset)return !0;d=c.N.abs(d.offset.Ga(f.offset));if(m.greaterThan(d))return !0;}return !1;};b.Vm=function(d,f,h){var k,n,p,q;p=f.Ja;f=f.e1b;void 0 === h && (h={});q=p.na;p=p.navigator;q=p.Be(null !== (k=null === f || void 0 === f?void 0:f.id) && void 0 !== k?k:q.ie);k=null !== (n=null === f || void 0 === f?void 0:f.Hec) && void 0 !== n?n:q.sf;if(k.greaterThan(d))return h.Pgc?{offset:d.Ga(k),S:q.id}:void 0;f=p.vcb(q);for(p=f.next();!p.done;){n=p.value;p=n.yh.Ga(n.sf);q=k;k=q.add(p);if(k.greaterThan(d))return (d=d.Ga(q),g.M && (0,l.assert)(d.mk(c.N.Oa) && d.lessThan(p)),{S:n.id,offset:d});p=f.next();if(p.done && h.Qgc)return {S:n.id,offset:d.Ga(q)};}};b.dra=function(d,f){f=f.U[d.S];return d.offset.lessThan(c.N.Oa)?{b9:c.N.Oa,pq:d.offset}:f.Aa && (f=c.N.Na(f.Aa - f.Ba),f.isFinite() && d.offset.greaterThan(f))?{b9:f,pq:d.offset.Ga(f)}:{b9:d.offset,pq:c.N.Oa};};b.JDa=function(d,f){d=d.U[f.S];if(void 0 !== d)return null === d.Aa || void 0 === d.Aa?{S:f.S,offset:c.N.max(c.N.Oa,f.offset)}:{S:f.S,offset:c.N.max(c.N.Oa,c.N.min(f.offset,c.N.Na(d.Aa - d.Ba)))};};},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.oib=b.Q5=void 0;a(0);c=a(10);l=a(475);g=a(2);a(21);r=(function(){function m(){this.V=new l.tla();}Object.defineProperties(m.prototype,{empty:{get:function(){return !this.cz;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{root:{get:function(){var d;return null === (d=this.cz) || void 0 === d?void 0:d.value;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{values:{get:function(){var d;d=[];this.vJ(function(f){return !!d.push(f);});return d;},enumerable:!1,configurable:!0}});m.prototype.has=function(d){return !!this.V.get(d);};m.prototype.parent=function(d){var f;d=this.V.get(d);c.M && (0,g.assert)(d,"Attempted to find the parent of a node not in the tree");return null === (f=null === d || void 0 === d?void 0:d.parent) || void 0 === f?void 0:f.value;};m.prototype.children=function(d){d=this.V.get(d);c.M && (0,g.assert)(d,"Attempted to find the children of a node not in the tree");return (null === d || void 0 === d?0:d.children)?d.children.map(function(f){return f.value;}):[];};m.prototype.rwa=function(d){d=this.V.get(d);c.M && (0,g.assert)(d,"Attempted to find the children of a node not in the tree");return void 0 !== (null === d || void 0 === d?void 0:d.children) && 0 < d.children.length;};m.prototype.add=function(d,f){var h;c.M && (0,g.assert)(!this.V.get(d),"Attempted to add a value to tree that is already present");h={value:d};void 0 === this.cz?(c.M && (0,g.assert)(void 0 === f,"a parent cannot be specified when the tree is empty"),this.cz=h):(c.M && (0,g.assert)(void 0 !== f,"a parent must be specified when the tree is non-empty"),f=this.V.get(f),c.M && (0,g.assert)(f,"Parent value does not exist in tree"),this.J0a(h,f));this.V.set(d,h);return this;};m.prototype.remove=function(d){d=this.V.get(d);c.M && (0,g.assert)(d,"Attempted to remove a node not in the tree");this.removeNode(d);return this;};m.prototype.removeNode=function(d){var f;f=this;this.jua(function(h){return f.V.delete(h);},d.value);void 0 === d.parent?this.cz=void 0:this.detach(d);};m.prototype.move=function(d,f){d=this.V.get(d);f=this.V.get(f);c.M && (0,g.assert)(d,"cannot move a value that is not in the tree");c.M && (0,g.assert)(f,"cannot move a value to a parent value not in the tree");c.M && (0,g.assert)(null === d || void 0 === d?void 0:d.parent,"cannot move the root node");c.M && (0,g.assert)(!this.C1b(d,f),"cannot move a node below itself or one of its decendants");d.parent !== f && (this.detach(d),this.J0a(d,f));return this;};m.prototype.Ycc=function(d){var f,h;f=this;d=this.V.get(d);c.M && (0,g.assert)(d,"cannot replant at a value that is not in the tree");h=[];this.detach(d);this.jua(function(k){f.V.delete(k);h.unshift(k);return !0;});this.cz=d;};m.prototype.clear=function(){this.cz && this.remove(this.cz.value);return this;};m.prototype.u7a=function(d,f){var h,k;h=this;d=this.V.get(d);c.M && (0,g.assert)(d,"cannot iterate children of a value not in the tree");null === (k=d.children) || void 0 === k?void 0:k.forEach(function(n){return f(n.value,h);});};m.prototype.Tgc=function(d,f){var h,k;h=this;d=this.V.get(d);c.M && (0,g.assert)(d,"cannot iterate children of a value not in the tree");return !(null === (k=d.children) || void 0 === k || !k.some(function(n){return f(n.value,h);}));};m.prototype.vJ=function(d){this.v7a(d,void 0);};m.prototype.v7a=function(d,f,h,k){var n;n=this;void 0 === k && (k=0);c.M && (0,g.assert)(!this.empty || void 0 === f,"cannot iterate from a value on an empty tree");this.empty || (f=null !== f && void 0 !== f?f:this.cz.value,d(f,h,this,k) && this.u7a(f,function(p){return n.v7a(d,p,f,k + 1);}));};m.prototype.jua=function(d,f){var h;h=this;c.M && (0,g.assert)(!this.empty || void 0 === f,"cannot iterate from a value on an empty tree");this.empty || (null !== f && void 0 !== f?f:f=this.cz.value,this.u7a(f,function(k){return h.jua(d,k);}),d(f,this));};m.prototype.f7a=function(d,f){var h,k;h=this;c.M && (0,g.assert)(!this.empty || void 0 === f,"cannot iterate from a value on an empty tree");if(!this.empty){null !== f && void 0 !== f?f:f=this.cz.value;return this.Tgc(f,function(n){return !!(k=h.f7a(d,n));})?k:d(f,this)?f:void 0;}};m.prototype.BQb=function(d){var f,h,k,n;f=this;h=this.values;k=h.filter(function(p){return !d.has(p);});n=d.values.filter(function(p){return !f.has(p);});h=h.filter(function(p){return d.has(p) && f.parent(p) !== d.parent(p);});return {jpa:k,GR:n,Qjb:h};};m.prototype.J0a=function(d,f){var h;d.parent=f;(null !== (h=f.children) && void 0 !== h?h:f.children=[]).push(d);};m.prototype.detach=function(d){var f;c.M && (0,g.assert)(d.parent,"cannot detach the root");c.M && (0,g.assert)(void 0 !== d.parent.children,"logic error: parent node does not have children");f=d.parent.children.indexOf(d);(0,g.assert)(0 <= f,"logic error: node does not appear in the children of its parent");d.parent.children.splice(f,1);d.parent=void 0;};m.prototype.C1b=function(d,f){for(;void 0 !== f;){if(f === d)return !0;f=f.parent;}return !1;};return m;})();b.Q5=r;b.oib=function(m,d){var f;f="";m.vJ(function(h,k,n,p){f+=("").concat(Array(p + 1).join("-")).concat(d(h),"\n");return !0;});return f;};},function(r,b){var l,g,m;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.NWa);}function c(d){return (a(d)?d:Object.defineProperties(d,{NWa:{value:{},configurable:!1,enumerable:!1}})).NWa;}Object.defineProperties(b,{__esModule:{value:!0}});b.tla=void 0;g=null !== (l=Number.MAX_SAFE_INTEGER) && void 0 !== l?l:1E9;m=Date.now() % g;r=(function(){function d(){this.id=m=(m + 1) % g;}d.prototype.get=function(f){return a(f)?c(f)[this.id]:void 0;};d.prototype.set=function(f,h){c(f)[this.id]=h;return this;};d.prototype.has=function(f){return a(f) && void 0 !== c(f)[this.id];};d.prototype.delete=function(f){if(!this.has(f))return !1;c(f)[this.id]=void 0;return !0;};return d;})();b.tla=r;},function(r,b,a){var c,l,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.wka=void 0;c=a(0);l=a(13);g=a(10);m=a(2);r=(function(){function d(){this.events=new l.EventEmitter();}d.prototype.oa=function(f){var h;h=this;this.Ja=f;this.Ja.events.on("segmentNormalized",function(){h.Xea();});this.Xea();};Object.defineProperties(d.prototype,{H_:{get:function(){return this.sCb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{rGa:{get:function(){(0,m.assert)(this.Ja,"Must be initialized");return this.Ja.na;},enumerable:!1,configurable:!0}});d.prototype.Xea=function(){var f,h,k;f=this;if(this.Ja){h={};k=this.Ja.na;this.sCb=c.__assign(c.__assign({},k),{U:new Proxy(k.U,{get:function(n,p){var q;if(h[p])return h[p];n=k.U[p];if(!n)return n;q=f.yYb(p);q?(q=q.iHb(),h[p]=c.__assign(c.__assign(c.__assign({},q),n),{Ba:q.Ba,Aa:q.Aa})):h[p]=k.U[p];return h[p];}})});this.events.emit("updated");}};d.prototype.yYb=function(f){var h;g.M && (0,m.assert)(this.Ja,"Must be initialized");h=this.Ja.navigator;return h.Z$a(f)?h.Be(f):void 0;};return d;})();b.wka=r;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.jja=void 0;c=a(0);l=a(38);g=a(20);m=c.__importDefault(a(3));d=a(71);f=a(473);h=a(2);k=a(1167);n=a(10);p=a(478);r=(function(){function q(v,t,w,u){var y,z;function x(B,A){return B.S === A.S && B.offset.equal(A.offset);}y=this;this.wA=v;this.j6=t;this.config=w;this.console=new m.default.Console("GRAPHLOCATIONSERVICE");this.zi=new d.px({yp:this,source:(u || "") + "GraphLocation",console:this.console});(0,p.TCa)(this,"d",new p.Zja(w,x));(0,p.TCa)(this,"u",new p.Zja(w,x));"temp" !== u && (null === (z=this.j6.events) || void 0 === z?void 0:z.on("updated",function(){(0,p.p8a)(y).forEach(function(B){return B.clear();});}));}Object.defineProperties(q.prototype,{parent:{get:function(){return this.wA();},enumerable:!1,configurable:!0}});q.prototype.Lpb=function(v,t){return new q(function(){return v;},{H_:t,rGa:t},this.config,"temp");};q.prototype.RE=function(v){var t,w,u;n.M && this.console.trace("downConverting",v);t=this.parent;w=this.j6;u=w.H_;if(t === w.rGa)return v;if(u.U[v.S])return (t.U[v.S] || n.M && this.console.warn("Received a down converted position unexpectedly",v,Error().stack),v);w=(0,f.dra)(v,t);v=(0,l.Mpb)(t,u,{offset:w.b9.Z,G:v.S});v={offset:w.pq.add(g.N.Na(v.offset)),S:v.G};n.M && this.console.trace("downConverting ret:",v);return v;};q.prototype.Pw=function(v){var t,w,u;n.M && this.console.trace("upConverting",v);t=this.parent;w=this.j6;u=w.H_;if(t === w.rGa)return v;if(t.U[v.S])return (u.U[v.S] || n.M && this.console.warn("Received a up converted position unexpectedly",v,Error().stack),v);w=(0,f.dra)(v,u);v=(0,l.T2a)(t,u,{offset:w.b9.Z,G:v.S});v={offset:w.pq.add(g.N.Na(v.offset)),S:v.G};n.M && this.console.trace("upConverting ret:",v);return v;};q.prototype.AXb=function(v){var t;t=(0,l.w8a)(this.parent,this.j6.H_,{G:v.S,offset:v.offset.Z});t=(0,k.Kcb)(t);(0,h.assert)(t,("Could not find any segments in the path of ").concat(v));return t;};c.__decorate([(0,d.mc)({methodName:"downConvertPosition",Ul:!0,ft:!0,return:!0}),(0,p.xqa)("d")],q.prototype,"RE",null);c.__decorate([(0,d.mc)({methodName:"upConvertPosition",Ul:!0,ft:!0,return:!0}),(0,p.xqa)("u")],q.prototype,"Pw",null);return q;})();b.jja=r;},function(r,b,a){var c,l,g,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.m8a=b.p8a=b.TCa=b.xqa=b.Zja=void 0;c=a(0);l=c.__importDefault(a(3));g=a(2);m=a(8);r=(function(){function f(h,k,n){void 0 === n && (n={});this.config=h;this.TSb=k;this.sd=[];this.wqa=new m.EH();this.H1a=new m.EH();this.options=c.__assign({Iq:10},n);}Object.defineProperties(f.prototype,{isEnabled:{get:function(){return this.config.PRb;},enumerable:!1,configurable:!0}});f.prototype.Aaa=function(h,k){var n;if(!this.isEnabled)return k();n=this.SVb(h);if(n)return n.value;k=k();this.pp(h,k);return k;};f.prototype.findIndex=function(h){var k,n,p,q;k=Infinity;n=Infinity;if(this.options.gW || this.options.ER){p=l.default.time.fa();this.options.ER && (k=p - this.options.ER);this.options.gW && (n=p - this.options.gW);}for(p=0;p < this.sd.length;p++){q=this.sd[p];if(this.options.ER && q.Tcb < k){this.sd.splice(p,this.sd.length - p);break;}if(this.options.gW && q.Nn < n)(this.sd.splice(p,1),p--);else if(this.TSb(q.key,h))return p;}return -1;};f.prototype.SVb=function(h){var k;h=this.findIndex(h);if(-1 !== h){k=this.sd[h];this.sd.splice(h,1);this.sd.unshift(k);this.options.ER && (k.Tcb=l.default.time.fa());this.H1a.push(h);this.wqa.push(1);return k;}this.wqa.push(0);};f.prototype.pp=function(h,k){this.sd.unshift({key:h,value:k});if(this.options.ER || this.options.gW)(h=l.default.time.fa(),this.options.ER && (this.sd[0].Tcb=h),this.options.gW && (this.sd[0].Nn=h));this.oKb();};f.prototype.oKb=function(){this.sd.length > this.options.Iq && this.sd.pop();};f.prototype.clear=function(){this.sd=[];};return f;})();b.Zja=r;d=new WeakMap();b.xqa=function(f){void 0 === f && (f="default");return function(h,k,n){var p;p=n.value;n.value=function(q){var v,t,w;v=this;w=null === (t=d.get(this)) || void 0 === t?void 0:t[f];(0,g.assert)(w,"lruCache not defined");return w.Aaa(q,function(){return p.call(v,q);});};};};b.TCa=function(f,h,k){d.has(f) || d.set(f,{});d.get(f)[h]=k;};b.p8a=function(f){var h;if(!d.has(f))return [];h=d.get(f);return Object.keys(h).map(function(k){return h[k];});};b.m8a=function(f){return d.has(f)?d.get(f):{};};},function(r,b,a){var c,l,g,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.VAa=b.VJa=void 0;c=a(0);l=a(38);g=a(1168);m=a(71);d=a(2);r=(function(f){function h(k,n,p,q){void 0 === q && (q="CphAsePlaygraph");q=f.call(this,k,n,p,q,!0) || this;q.Xm=k;q.Hgb=n;q.Bkb=p;k.Cb.ag(new g.WJa(q));return q;}c.__extends(h,f);h.prototype.lG=function(k){var n,p;n=f.prototype.lG.call(this,k);if(n){p=k.ba.Xo;p && !this.l6 && (this.Gma.sv({applyingContentPlaygraph:!0}),this.l6=p,this.oBb=this.SLb(k.ba),this.M0());}return n;};Object.defineProperties(h.prototype,{V$a:{get:function(){return this.oBb;},enumerable:!1,configurable:!0}});h.prototype.KE=function(k){if(this.l6)return (k=c.__assign(c.__assign({},k),{U:c.__assign({},k.U)}),(0,l.Qza)(k,this.l6.na));};h.prototype.SLb=function(k){var n,p;n=k.wv;p=k.rF;return !(!n || !n.some(function(q){return q.rF !== p;}));};Object.defineProperties(h.prototype,{Xo:{get:function(){var k;return null === (k=this.l6) || void 0 === k?void 0:k.na;},enumerable:!1,configurable:!0}});c.__decorate([(0,m.mc)({methodName:"processViewableResponse"})],h.prototype,"lG",null);return h;})(a(480).kla);b.VJa=r;b.VAa=function(f){var h;h=[];return {qu:function(k,n){var p,q,v,t,w,u,x;v=k.P;t=k.W0;w=f();if(w.Ppa && w.Ppa !== v){u=null === (p=null === t || void 0 === t?void 0:t.Pl) || void 0 === p?void 0:p.Ve;p=null === (q=null === t || void 0 === t?void 0:t.Pl) || void 0 === q?void 0:q.Ph;q=w.Ve;t=w.Ppa;(0,d.assert)(t,"did not receive parent viewable id");t={Pl:{Ve:null !== u && void 0 !== u?u:q,Ph:null !== p && void 0 !== p?p:t}};}w.Cb.console.trace("In wrapped request viewable",v,t);x=n(c.__assign(c.__assign({},k),{W0:t}));h.forEach(function(y){return y({P:v,TG:x.TG});});return x;},dnb:function(k){h.push(k);}};};},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.kla=void 0;c=a(0);l=a(277);g=a(71);m=a(21);d=a(2);f=a(10);h=a(475);k=a(20);n=a(1169);p=a(481);q=a(1170);r=(function(){function v(t,w,u,x,y){var z;void 0 === x && (x="CphAsePlaygraph");void 0 === y && (y=!0);z=this;this.Xm=t;this.Hgb=w;this.Bkb=u;this.ljc=x;this.rBb=new h.tla();y && this.oa();this.Hgb(function(B){var A;A=B.TG;return c.__awaiter(z,void 0,void 0,function(){var C;return c.__generator(this,function(D){switch(D.label){case 0:return [4,A];case 1:return (C=D.zb(),this.lG(C),[2]);}});});});}Object.defineProperties(v.prototype,{Cb:{get:function(){return this.Xm.Cb;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{hk:{get:function(){return this.Cb;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{na:{get:function(){return this.Lo;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{ii:{get:function(){return this.Xm.ii;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{H:{get:function(){return this.Cb.console;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{K:{get:function(){return this.Cb.config;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{V$a:{get:function(){return !1;},enumerable:!1,configurable:!0}});v.prototype.oa=function(){var t,w,u;t=this;w=this.Xm;this.Gma=new g.px({Iq:10,yp:this,source:this.ljc,console:this.H});this.events=(0,p.Pra)(function(){return w;},w.Cb.events,this.Bkb,q.Rhb);this.Lo=w.Cb.na;u=w.ii;w.Cb.ag(new l.eA(this.Gma));w.Cb.ag(new l.eA(w.ii.zi));w.Cb.ag(new n.uJa(("").concat(w.Wcb,"::gls"),u));w.Cb.events.on("playgraphUpdating",function(){t.Xm.sxa.Xea();});};v.prototype.Qx=function(t){var w,u,x;x=null !== (w=this.X) && void 0 !== w?w:this.Cb.X;this.X=t;t.xEa && t.xEa(this.Xm);(w=this.Xm.Cb.Qx(null !== (u=t.rZ) && void 0 !== u?u:t))?(this.X=t,x !== t && x.mra && x.mra()):this.X=x;return w;};v.prototype.M0=function(t,w,u,x){if(t=this.KE(null !== t && void 0 !== t?t:this.Lo))return this.u8b(t,this.V$a,w,u,x);};v.prototype.u8b=function(t,w,u,x,y){var z,B,A,C,D,E;z=this.Xm.od;B=z.X;A=z.na;if(u=u?u:z.Xv && B.nf?B.Ii:z.Ot?z.ti:void 0){C=this.Cb.na.U[u.S];C && C.tc && (u=this.ii.Pw(u));}z.config.Nlc && w && B.AG(!0);w=z.m9a();f.M && this.H.log(("onNewInnerPlaygraph: outer: ").concat(JSON.stringify(A)));f.M && this.H.log(("onNewInnerPlaygraph: combined: ").concat(JSON.stringify(t)));this.rBb.set(t,!0);A=this.Cb.Qw(t);try{if(!A.ja || u && !B.nf && !z.Ot)if(((0,d.assert)(!B.za.pk,"Player is not paused"),z.ee(!0),A=this.Cb.Qw(t),u)){D=this.ii.RE(u);E=t.U[D.S];"padding" === (null === E || void 0 === E?void 0:E.type) && (D={S:E.dc,offset:k.N.Oa});this.Cb.Cfa(D,x,y);B.resume();}return A;}finally{w.release();}};v.prototype.Qw=function(t){var u,x,y;function w(){u.Lo=t;}u=this;y=null !== (x=this.KE(t)) && void 0 !== x?x:t;try{return (this.Cb.events.bCa("playgraphUpdating",w),this.Cb.Qw(y));}finally{this.Cb.events.removeListener("playgraphUpdating",w);}};Object.defineProperties(v.prototype,{Ve:{get:function(){return this.aXa;},enumerable:!1,configurable:!0}});Object.defineProperties(v.prototype,{Ppa:{get:function(){var t,w,u,x;t=this;u=Object.keys(this.Cb.na.U);if(u=(0,m.Qc)(u,function(y){return !!t.Cb.na.U[y].tc;})){u=this.Cb.na.U[u].tc;x=this.na.U[u];return null !== (w=null === x || void 0 === x?void 0:x.P) && void 0 !== w?w:Number(u.split(":")[0]);}},enumerable:!1,configurable:!0}});v.prototype.lG=function(t){var w,u,x,y;u=t.ba;x=u.Ve;u=u.Xo;y=null !== (w=this.K.Ata) && void 0 !== w?w:[];if(u && y.some(function(z){return z == t.L;}))return (w=("").concat(t.L," was excluded from content playgraph"),this.Gma.sv(w),f.M && this.H.trace(w),!1);x && !this.aXa && (this.aXa=x);return !0;};v.prototype.ee=function(t){this.Cb.ee(t);};c.__decorate([(0,g.mc)({methodName:"attachPlayer"})],v.prototype,"Qx",null);c.__decorate([(0,g.mc)({methodName:"reevaluateInnerPlaygraph"})],v.prototype,"M0",null);c.__decorate([(0,g.mc)({methodName:"processViewableResponse"})],v.prototype,"lG",null);c.__decorate([(0,g.mc)({methodName:"cancelStreaming"})],v.prototype,"ee",null);return v;})();b.kla=r;},function(r,b,a){var l,g,m,d;function c(f,h){return h && !Array.isArray(h) && -1 === h.B6a.indexOf(f)?h.rules:[];}Object.defineProperties(b,{__esModule:{value:!0}});b.Pra=void 0;l=a(0);r=a(13);g=a(197);m=a(469);d=(function(f){function h(k,n){var p;p=f.call(this) || this;p.U4b=k;p.fbb=n;p.ana={};return p;}l.__extends(h,f);h.prototype.emit=function(k){for(var n=[],p=1;p < arguments.length;p++){n[p - 1]=arguments[p];}return f.prototype.emit.call(this,k,this.U4b(k,n[0]));};h.prototype.subscribe=function(k){var n,p;n=this;if(!this.listeners(k).length){p=function(){for(var q=[],v=0;v < arguments.length;v++){q[v]=arguments[v];}return n.emit.apply(n,l.__spreadArray([k],l.__read(q),!1));};this.ana[k]=p;this.fbb.addListener(k,p);}};h.prototype.addListener=function(k,n){this.subscribe(k);f.prototype.addListener.call(this,k,n);return this;};h.prototype.removeListener=function(k,n){f.prototype.removeListener.call(this,k,n);n=this.ana[k];!this.listeners(k).length && n && (this.fbb.removeListener(k,n),this.ana[k]=void 0);return this;};h.prototype.on=function(k,n){this.addListener(k,n);return this;};h.prototype.Jy=function(k,n){this.removeListener(k,n);return this;};h.prototype.once=function(k,n){var q;function p(){for(var v=[],t=0;t < arguments.length;t++){v[t]=arguments[t];}q.removeListener(k,p);n.apply(void 0,l.__spreadArray([],l.__read(v),!1));}q=this;this.addListener(k,p);return this;};h.prototype.u0=function(k,n){this.subscribe(k);f.prototype.u0.call(this,k,n);return this;};h.prototype.bCa=function(k,n){var q;function p(){for(var v=[],t=0;t < arguments.length;t++){v[t]=arguments[t];}q.removeListener(k,p);n.apply(void 0,l.__spreadArray([],l.__read(v),!1));}q=this;this.u0(k,p);return this;};return h;})(r.EventEmitter);b.Pra=function(f,h,k,n){return new d(function(p,q){var v,t;t=c(p,n["*"]);p=null !== (v=n[p]) && void 0 !== v?v:[];v=t.concat(p).filter(function(w){return "object" === typeof w;});t=l.__read(p.filter(function(w){return "function" === typeof w;}),1)[0];return v.length?(0,m.sfa)(f,q,k,{rules:v,so:!1,rpa:!0},g.ex.tGa,t):q;},h);};},function(r,b,a){var c,l,g,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.Dia=void 0;c=a(0);l=a(13);g=a(2);m=a(10);d=0;r=(function(f){function h(k,n,p,q,v,t,w,u){n=f.call(this,("cdnList").concat(d++),n,p,q,v,t,w,"cdnList",u) || this;n.th=k;n.oa();return n;}c.__extends(h,f);h.prototype.oa=function(){var k;k=this;this.TN=new l.ef();this.TN.on(this.Hb.X,"skipped",function(n){k.Xs && ((null === n || void 0 === n?0:n.Gac) && k.cX(n.Gac),k.Xs=void 0);});this.TN.on(this.Hb.X,"paused",function(){k.Xs && k.Hb.nf && k.cX(k.Hb.xe);});this.TN.on(this.Hb.X,"playing",function(n){k.Xs && k.OH && ((null === n || void 0 === n?void 0:n.re) || k.Hb.xe).Dda(k.OH) && (k.Xs=void 0);});this.TN.on(this.Hb.X,"underflow",function(){k.Xs && k.Hb.nf && k.cX(k.Hb.xe);});};h.prototype.Qx=function(k,n,p){this.TN.clear();f.prototype.Qx.call(this,k,n,p);this.oa();};h.prototype.close=function(){m.M && this.console.trace("close");f.prototype.close.call(this);this.TN.clear();};h.prototype.Rgc=function(k,n){var p;p=this;this.Xs && this.cX(k);return this.b7a(n).map(function(q){return p.th[q];});};h.prototype.Ajb=function(k){var n;n=this;this.b7a(k).forEach(function(p){delete n.th[p];});};h.prototype.b7a=function(k){var n;n=this;return Object.keys(this.th).filter(function(p){return n.th[p].L === ("").concat(k);});};h.prototype.cu=function(k){var n,p,q;n=k.stream;p=k.$c;q=k.Ld;k=k.Vc;(0,g.assert)(void 0 !== q);(0,g.assert)(void 0 !== k);m.M && this.console.trace(("Media appended ").concat(q.Fb(),"-").concat(k.Fb()));this.bpa({stream:n,$c:p},q,k);};h.prototype.bca=function(k,n){return k.stream === n.stream && k.$c === n.$c;};h.prototype.fXb=function(k){var n,p;p=k.Cu;k=p.$c;p=null === (n=p.stream.O.ba.DE) || void 0 === n?void 0:n.Ap;return ("").concat(k,"::").concat(p);};h.prototype.Ysa=function(k,n){m.M && this.console.trace(("Presenting event for ( ").concat(k.Cu.stream.id,", ").concat(k.Cu.$c," )") + (" at ").concat(n.Fb()));this.Xs?this.cX(n):this.OH=n;this.Xs=k;};h.prototype.cX=function(k){var n,p,q,v,t,w,u,x,y;(0,g.assert)(this.Xs);if(null === (n=this.csa) || void 0 === n?0:n.lessThan(k))k=this.csa;t=this.Xs;n=this.th;w=t.Cu;u=w.stream;w=w.$c;x=null === (p=u.h_) || void 0 === p?void 0:p.ap;p=k.Ga(this.OH || t.timestamp).Z;if(void 0 !== w && void 0 !== x && 0 < p){y=null === (q=u.O.ba.DE) || void 0 === q?void 0:q.Ap;q=u.track.L;t=this.fXb(t);((v=(n[t] || (n[t]={Ro:w,Ap:y,L:q,iJ:{}})).iJ)[x] || (v[x]={bitrate:u.bitrate,Tb:x,mediaType:u.mediaType,totalTime:0,gb:u.gb})).totalTime+=p;}this.OH=k;};h.prototype.clone=function(k,n){n=void 0 === n?{}:n;k=new (n.Dxc || h)(k,this.Y8b,this.Hb,this.l8,this.events,this.Ws,this.Ee,n.priority);this.jLb(k);k.Xs=this.Xs;k.OH=this.OH;m.M && k.console.trace("Cloning",{msc:k.$l.length});return k;};h.prototype.reset=function(){f.prototype.reset.call(this);this.OH=void 0;};h.prototype.dca=function(k){return ("(").concat(k.stream.Sa,", ").concat(k.$c,")");};return h;})(a(272).k5);b.Dia=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Jra=void 0;c=a(137);l=a(1192);b.Jra=function(g,m){var d;g=m(g);d=new l.ZSa(g,c.Qy.ADa.QR);return c.Qy.vCa(g,d,function(){return d.Xm;});};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lpc="LogblobBuilderSymbol";b.ZT="HLSLogblobBuilderFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.FVa="ThroughputTrackerConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.IVa="ThroughputTrackerSymbol";b.GVa="ThroughputTrackerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.RLa="ExtraPlatformInfoProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AJa="CapabilityDetectorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AIa={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-2hq-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","xheaac-dash":"XHEAAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},function(r,b,a){var l,g,m,d,f,h;function c(k,n,p){p=g.bH.call(this,k,n,l.u.Audio,p) || this;p.config=k;p.Kq=n;p.type=l.Xw.Gz;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.D3=void 0;l=a(26);g=a(491);m=a(127);r=a(129);d=a(395);f=a(285);h=new r.FH().format;ka(c,g.bH);c.prototype.O1=function(){var k;k=h(c.Sga,m.Zd.Jsb);return Promise.resolve(this.config().iP && this.Kq.isTypeSupported(k));};c.prototype.yt=function(){return d.Sia.yt();};c.prototype.Z9a=function(){return this.config().CI;};c.prototype.gY=function(k){return this.config().l9b?Promise.resolve(new f.l5(k,k.map(function(){return {supported:!0};}))):g.bH.prototype.gY.call(this,k);};b.D3=c;c.Sga="audio/mp4;codecs={0};";},function(r,b,a){var l,g,m,d,f;function c(h,k,n,p){this.config=h;this.Kq=k;this.mediaType=n;this.gC=p;this.Nza={};this.Nza[l.u.Audio]="audio";this.Nza[l.u.rWa]="video";}Object.defineProperty(b,"__esModule",{value:!0});b.bH=void 0;l=a(26);r=a(129);g=a(172);m=a(14);d=a(285);f=new r.FH().format;c.prototype.r$a=function(h){return this.yQb(this.EYb(this.Z9a(),h));};c.prototype.MI=function(h){return this.Kq.isTypeSupported(h);};c.prototype.CWb=function(){return [g.tf.Cha,g.tf.Hub,g.tf.eH,g.tf.fH];};c.prototype.k1b=function(){this.ns=[];this.Uy=[];this.config().n9b && this.Uy.push(g.tf.gA);this.config().Xgb && this.Uy.push(g.tf.DMa);this.config().Wgb && this.Uy.push(g.tf.CMa);this.config().Vgb && this.Uy.push(g.tf.$w);this.config().Ugb && this.Uy.push(g.tf.iD);this.config().Ygb && this.Uy.push(g.tf.JD);this.config().Tgb && this.Uy.push(g.tf.Fl);this.Uy=this.Uy.concat(this.CWb());!this.config().ySb && this.ns.push(g.tf.gA);!this.config().W5a && this.ns.push(g.tf.Ksb);!this.config().V5a && this.ns.push(g.tf.Lsb);!this.config().iP && this.ns.push(g.tf.Msb);!this.config().kSb && this.ns.push(/prk$/);this.config().Vgb || this.config().WRb || this.ns.push(g.tf.$w);this.config().Xgb || this.config().ZRb || this.ns.push(g.tf.DMa);this.config().Wgb || this.config().Zsa || this.ns.push(g.tf.CMa);this.config().Ugb || this.config().gP || this.ns.push(g.tf.iD);this.config().Ygb || this.config().uSb || this.ns.push(g.tf.JD);this.config().Tgb || this.config().NRb || this.ns.push(g.tf.Fl);!this.config().sSb && this.ns.push(g.tf.YM);};c.prototype.EYb=function(h,k){var n;n=m.ff.hardwareConcurrency && m.ff.hardwareConcurrency;return h.filter(function(p){return void 0 !== p.minimumCores && n < p.minimumCores || void 0 !== p.restrictToUILabels && (void 0 === (null === k || void 0 === k?void 0:k.je) || !p.restrictToUILabels.includes(k.je))?!1:!0;}).map(function(p){return p.name;});};c.prototype.gY=function(h){var k,n;k=this;n=h.map(function(p){for(var q=oa(k.Uy),v=q.next();!v.done;v=q.next()){if(v.value.test(p))return Promise.resolve({supported:!0});}q=oa(k.ns);for(v=q.next();!v.done;v=q.next()){if(v.value.test(p))return Promise.resolve({supported:!1,reason:"excluded"});}return k.fY(p).catch(function(){return {supported:!1,reason:"exception"};});});return Promise.all(n).then(function(p){return new d.l5(h,p);});};c.prototype.fY=function(h){var k;k=this;return this.Uxa(h).then(function(n){return n.supported?k.config().hSb?k.gC.fY(h):k.Lta(h):n;});};c.prototype.Lta=function(h){var k;h=this.B0[h];k="";return h?(Array.isArray(h) && (k=1 < h.length?" " + h[1]:"",h=h[0]),h=f("{0}/mp4;codecs={1};{2}",this.Nza[this.mediaType],h,k),this.MI(h)?Promise.resolve({supported:!0}):Promise.resolve({supported:!1,reason:"can-present-type"})):Promise.resolve({supported:!1,reason:"no-codec-info"});};c.prototype.yQb=function(h){this.k1b();return this.gY(h);};c.prototype.Uxa=function(){return Promise.resolve({supported:!0});};Va.Object.defineProperties(c.prototype,{B0:{configurable:!0,enumerable:!0,get:function(){this.iZa || (this.iZa=this.yt());return this.iZa;}}});b.bH=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GPa="MediaCapabilitiesDetectorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.KPa="MediaCapabilitiesSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JPa="MediaCapabilitiesLogHelperSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HTa="PresentationAPISymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.N4="IndexedDBConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HOa="LocalStorageSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gQa="MemoryStorageSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.PIa="BookmarkSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NIa="BookmarkConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MIa="BookmarkConfigParserSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.gJa="CDMAttestedDescriptorProvider";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wPa="ManifestProviderConfigSymbol";},function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.Rla=void 0;l=a(14);c.Y9a=function(){var g;g=l.hx && l.hx.height;return g?1080 <= g?1080:720:720;};b.Rla=c;},function(r,b,a){var l;function c(g){this.log=g;}Object.defineProperty(b,"__esModule",{value:!0});b.iU=void 0;l=a(506);c.prototype.nob=function(g,m){var d,f;d=this;if(!g)return (this.log.warn("There are no media streams for " + m.type + " track - " + m.trackId),[]);f=g.map(function(h){var k,n,p,q,v,t,w,u;u=new l.MediaStream(m,m.type,h.ap,h.bitrate,h.gb,h.size,d.NWb(h.urls),h.IE,h.P7a / h.O7a,h.Ij,h.Xj);u.Vfc(h.ekb,h.nDa,h.Bhb,h.Ahb);u.lfc(null !== (k=h.YOb) && void 0 !== k?k:void 0,null !== (n=h.ZOb) && void 0 !== n?n:void 0,null !== (p=h.XOb) && void 0 !== p?p:void 0,null !== (q=h.WOb) && void 0 !== q?q:void 0,null !== (v=h.Bhb) && void 0 !== v?v:void 0,null !== (t=h.Ahb) && void 0 !== t?t:void 0);m.Hm && (u.Hm=m.Hm);h.jJ && (u.jJ=null !== (w=h.jJ) && void 0 !== w?w:void 0);h.IE && (u.kf=h.IE);return u;});f.sort(function(h,k){return h.bitrate - k.bitrate;});f.forEach(function(h,k){h.lower=f[k - 1];h.Juc=f[k + 1];});return f;};c.prototype.NWb=function(g){return g.reduce(function(m,d){m[d.Kh]=d.url;return m;},{});};b.iU=c;},function(r,b,a){var l,g,m;function c(d,f,h,k,n,p,q,v,t,w,u){this.track=d;this.type=f;this.Tb=h;this.bitrate=k;this.gb=n;this.size=p;this.Ksa=q;this.kf=v;this.framerate=t;this.Ij=w;this.Xj=u;this.Bh={Type:f,Bitrate:k,DownloadableId:h};}Object.defineProperty(b,"__esModule",{value:!0});b.Dsb=b.MediaStream=void 0;l=a(17);g=a(15);m=a(93);c.prototype.toJSON=function(){return this.Bh;};c.prototype.Vfc=function(d,f,h,k){(0,g.xd)(d) && (0,g.xd)(f) && (this.width=d,this.height=f,(0,g.Qa)(h) && (0,g.Qa)(k) && (this.width=Math.round(h / k * d)),this.Bh.Resolution=(this.width || "") + ":" + (this.height || ""));};c.prototype.lfc=function(d,f,h,k,n,p){(0,g.xd)(d) && (0,g.xd)(f) && (0,g.xd)(h) && (0,g.xd)(k) && (this.Xra=d,this.i4a=f,this.h4a=h,this.g4a=k);(0,g.xd)(n) && (0,g.xd)(p) && (this.Chb=n,this.Dhb=p);};b.MediaStream=c;b.Dsb=function(d,f,h,k,n){if(d == l.Q4 || d === m.xj.audio)return f;if(d == l.dU || d === m.xj.video)return h;if(d == m.xj.Fga)return k;if(d == m.xj.eGa)return n;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.cTa="PlayerTextTrackFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VVa="TrickPlayFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.APa="ManifestVerifyErrorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.RRa="PboLinksManagerSymbol";b.PRa="PboLinksManagerFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.sPa="ManifestEnricherSymbol";},function(r,b,a){var u,x,y,z,B,A,C,D,E;function c(G,F){var L,O;L=this;O=G.styles || ({});return {startTime:F.startTime,id:F.id,endTime:F.endTime,displayTime:F.displayTime,duration:F.duration,blocks:F.blocks.map(function(K){var I;I=z.DOb(G,K);return {textNodes:K.textNodes.map(w.bind(L,O)),region:I,id:K.id};})};}function l(G){if(!Array.isArray(G))throw Error("last called on non-array: " + G);return G[G.length - 1];}function g(G,F){var L,O,K,I,M,H;L=x.xg(!0);O={};K=[];I=null;M=[];H={};L.onerror=function(J){F(J,null);};L.onend=function(){F(null,O);};L.onclosetag=function(){K.pop();};L.onopentag=function(J){var N,P,W,V;N=J.attributes;P=J.name;W=O.regions;V=O.styles;K.push(J);if("tt" === P)O=q(N);else if("body" === P)"undefined" !== typeof N.style && (O.defaultStyle=N.style,M.push(N.style));else if("initial" === P && t(K,"styling"))H=v(N,A);else if("style" === P && t(K,"styling")){W=N["xml:id"];J=H;N=v(N,A);if(Object.keys(J).length)for(var S in J){"undefined" === typeof N[S] && (N[S]=J[S]);}V[W]=N;}else "style" === P && t(K,"region")?(V=Object.keys(N)[0],"string" === typeof V && (W[I][V.slice(4)]=N[V])):"region" === P && t(K,"layout") && (I=N["xml:id"],W[I]=v(N,D));};setTimeout(function(){var J;for(L.write(G);0 < K.length && !L.error;){J=l(K).name;L.write("</" + J + ">");}L.close();},10);}function m(G,F){var L;L=G.filter(function(O){return O.startTime <= F && F <= O.endTime;});G=G.filter(function(O){return O.startTime > F;});return 0 < G.length?L.concat([G[0]]):L;}function d(){}function f(G){var F,L,O,K;F=G.preferences;L=G.bh;O=G.re;K=G.qa;if(!G.xml && !G.request)throw Error("FullTextStream requires either a 'request' function or the 'xml' data");u.call(this);this.Je=this.nna=null;this.UN="object" === typeof F?G.preferences:{};this.xN="object" === typeof L?G.bh:{};this.Oo="number" === typeof O?G.re:0;this.sI=G.xml || "";this.Da="object" === typeof K?G.qa:E;this.zr=G.request;this.Bm=G.url;this.ym=[];this.ur=this.Oo;this.Ue=null;this.yA=this.$D=!1;this.qma=G.Lea || 0;}function h(G,F){return G && "object" === typeof G[F] && null !== G[F]?G[F]:{};}function k(G,F){return G !== F && !(G && 0 === Object.keys(G).length && F && 0 === Object.keys(F).length);}function n(){var G,F,L;G=this;F=G.sI.indexOf("<p");if(-1 < F){L=G.sI.slice(0,F);g(L,function(O,K){null !== O?(O.O_b=L,G.emit("error",O)):(G.nna=K,G.Je=new y(G.sI,K.tickRate),p.call(G,G.Oo));});}else G.emit("error",Error("paragraph tag not found when searching for '<p'; could not build index"));}function p(G){var F,L,O,K,I,M,H,J;F=this;L=F.nna;O=0;K=[];I=L.defaultStyle?[L.defaultStyle]:[];M=L.lang?[L.lang]:[];F.Da.info("parsing the next 5 entries...");H=F.Je.bYb(G);F.Da.debug(H);J=x.xg(!0);J.onerror=function(N){N.xml=H;F.emit("error",N);};J.onend=function(){var N;N=F.ym.reduce(function(P,W){W=W.blocks.reduce(function(V,S){return V.concat([S.id]);},[]);return P.concat(W);},[]);K.forEach(function(P){var W;if(-1 === N.indexOf(P.id)){W=P && P.blocks && P.blocks.filter(function(V){return 0 < V.textNodes.length;});W && 0 < W.length && (P.blocks=W,F.ym.push(P));}});F.yA=!1;F.$D || (F.$D=!0,F.emit("ready"));};J.ontext=function(N){("" !== N.trim() || N.match(/ +/)) && l(l(K).blocks).textNodes.push({text:N.match(/ +/)?N:N.trim(),style:l(I),lang:l(M),lineBreaks:O});O=0;};J.onclosetag=function(){var N;N=J.tag;"undefined" !== typeof N.attributes.style && I.pop();"undefined" !== typeof N.attributes["xml:lang"] && M.pop();};J.onopentag=function(N){var P,W,V,S,U;P=N.attributes;W=N.name;N=L.tickRate;if("p" === W){O=0;W=P["xml:id"];P.style && I.push(P.style);P["xml:lang"] && M.push(P["xml:lang"]);V=Math.floor(parseInt(P.begin) / N * 1E3);if(0 === K.length || l(K).displayTime !== V){V=K.push;S={};U=parseInt(P.begin) / N;N=parseInt(P.end) / N;S.id=W;S.startTime=Math.floor(1E3 * U);S.endTime=Math.floor(1E3 * N);S.style=P.style;S.region=P.region;S.displayTime=S.startTime;S.duration=S.endTime - S.startTime;S.extent=P["tts:extent"] || null;S.origin=P["tts:origin"] || null;S.latestEndSoFar=0 > S.endTime?0:S.endTime;S.blocks=[{textNodes:[],region:S.region,id:W,extent:S.extent,origin:S.origin}];V.call(K,S);}else l(K).blocks.push({textNodes:[],region:P.region,id:W,extent:P["tts:extent"] || null,origin:P["tts:origin"] || null});}else "span" === W?(I.push(P.style),P["xml:lang"] && M.push(P["xml:lang"]),N=L.styles[P.style],P.style && N && N.ruby && 0 <= ["container","baseContainer","textContainer"].indexOf(N.ruby) && l(l(K).blocks).textNodes.push({text:"",style:l(I),lang:l(M),lineBreaks:0})):"br" === W && O++;};J.write("<entries>").write(H).write("</entries>").close();}function q(G){var F;G=v(G,C);if("string" === typeof G.extent){F=G.extent.split(" ").map(function(L){return parseInt(L,10);});G.width=F[0];G.height=F[1];}else (G.width=1280,G.height=720);G.aspectRatio=G.width / G.height;"string" === typeof G.cellResolution?(F=G.cellResolution.split(" ").map(function(L){return parseInt(L,10);}),G.cellResolution={},G.cellResolution.x=F[0],G.cellResolution.y=F[1]):G.cellResolution={x:52,y:19};return G;}function v(G,F){var L;L={};F.forEach(function(O){"undefined" !== typeof G["tts:" + O]?L[O]=G["tts:" + O]:"undefined" !== typeof G["ttp:" + O]?L[O]=G["ttp:" + O]:"undefined" !== typeof G["ebutts:" + O]?L[O]=G["ebutts:" + O]:"undefined" !== typeof G["xml:" + O] && (L[O]=G["xml:" + O]);});L.styles={};L.regions={};return L;}function t(G,F){var L;for(L=G.length - 1;0 <= L;L--){if(G[L].name === F)return !0;}return !1;}function w(G,F){return {lineBreaks:F.lineBreaks,text:F.text,lang:F.lang,style:B.HOb(G[F.style] || ({}),this.xN,this.UN),id:F.id};}u=a(105).EventEmitter;x=a(513);y=a(1248);z=a(1249);B=a(1250);A=("color fontSize fontWeight fontStyle textAlign fontFamily backgroundColor textDecoration textOutline multiRowAlign direction ruby rubyAlign rubyPosition rubyReserve textEmphasis shear").split(" ");C=("cellResolution pixelAspectRatio tickRate timeBase extent lang").split(" ");D=("backgroundColor displayAlign extent origin position writingMode multiRowAlign").split(" ");E={info:d,debug:d};b=Object.create(u.prototype);f.prototype=b;b.start=function(){var G;G=this;G.Da.info("incremental text stream created, starting at pts " + G.Oo);G.sI?n.call(G):G.zr({url:G.Bm},function(F,L){G.sI=L;n.call(G);});};b.EJ=function(G){var F,L,O;F=this;G < F.ur - F.qma && (F.ym=[]);L=F.ym;O=0 < L.length?L[L.length - 1].startTime:G;F.ur=G;for(!F.Ue && 5 > F.ym.length && !F.yA && (F.Da.info("buffer size: " + F.ym.length + "; minimum: 5"),F.yA=!0,F.Ue=setTimeout(function(){F.Ue=null;p.call(F,O + 1);},10));0 < L.length && L[0].endTime < G;){L.shift();}L=m(L,G).map(c.bind(F,F.nna));G < F.Je.U6a() && 0 === L.length && (L=null);return L;};b.Aq=function(G,F){return this.Je?this.Je.Aq(G,F):0;};b.close=function(){};b.$ga=function(G){var F;F=h(G,"preferences");G=h(G,"defaults");return k(F,this.UN) || k(G,this.xN)?(this.UN=F,this.xN=G,!0):!1;};r.exports={Dja:f,z9b:g,eh:l,VWb:m,hQb:c,$ga:b.$ga};},function(r){var w,u,x,y,z,B,A,C,D,E,G,F,L,O,K,I,M;function b(){}function a(H,J){if(!(this instanceof a))return new a(H,J);for(var N=0,P=u.length;N < P;N++){this[u[N]]="";}this.q=this.c=this.fp=this.textNode="";this.q1a=w.bka;this.xp=J || ({});this.xp.Ddb=this.xp.Ddb || this.xp.lvc;this.bza=this.xp.Ddb?"toLowerCase":"toUpperCase";this.Xj=[];this.closed=this.ZW=this.SR=!1;this.tag=this.error=null;this.so=!!H;this.Wfb=!(!H && !this.xp.Wfb);this.state=M.fia;this.Jz=(this.Ymb=this.xp.Ymb)?Object.create(w.mzb):Object.create(w.Jz);this.tE=[];this.xp.Q2 && (this.ml=Object.create(O));if(this.Lga=!1 !== this.xp.position)this.position=this.line=this.$W=0;this.onready && this.onready(void 0);}function c(H,J){var N;if(!(this instanceof c))return new c(H,J);b.apply(this);this.xA=new a(H,J);this.readable=this.writable=!0;N=this;this.xA.onend=function(){N.emit("end");};this.xA.onerror=function(P){N.emit("error",P);N.xA.error=null;};x.forEach(function(P){Object.defineProperty(N,"on" + P,{get:function(){return N.xA["on" + P];},set:function(W){if(!W)return (N.removeAllListeners(P),N.xA["on" + P]=W);N.on(P,W);},enumerable:!0,configurable:!1});});}function l(H){return H.split("").reduce(function(J,N){J[N]=!0;return J;},{});}function g(H,J){return "[object RegExp]" === Object.prototype.toString.call(H)?!!J.match(H):H[J];}function m(H,J,N){H.textNode && d(H);H[J] && H[J](N);}function d(H){H.textNode=f(H.xp,H.textNode);H.textNode && H.ontext && H.ontext(H.textNode);H.textNode="";}function f(H,J){H.trim && (J=J.trim());H.normalize && (J=J.replace(/\s+/g," "));return J;}function h(H,J){d(H);H.Lga && (J+="\nLine: " + H.line + "\nColumn: " + H.$W + "\nChar: " + H.c);J=Error(J);H.error=J;H.onerror && H.onerror(J);return H;}function k(H){H.SR && !H.ZW && n(H,"Unclosed root tag");H.state !== M.fia && H.state !== M.gia && H.state !== M.Za && h(H,"Unexpected end");d(H);H.c="";H.closed=!0;H.onend && H.onend(void 0);a.call(H,H.so,H.xp);return H;}function n(H,J){if("object" !== typeof H || !(H instanceof a))throw Error("bad call to strictFail");H.so && h(H,J);}function p(H,J){var N,P;N=0 > H.indexOf(":")?["",H]:H.split(":");P=N[0];N=N[1];J && "xmlns" === H && (P="xmlns",N="");return {prefix:P,local:N};}function q(H){var J,N,P;H.so || (H.ek=H.ek[H.bza]());if(-1 !== H.tE.indexOf(H.ek) || H.tag.attributes.hasOwnProperty(H.ek))return H.ek=H.fk="";if(H.xp.Q2){J=p(H.ek,!0);N=J.local;if("xmlns" === J.prefix)if("xml" === N && H.fk !== F)n(H,"xml: prefix must be bound to " + F + "\nActual: " + H.fk);else if("xmlns" === N && H.fk !== L)n(H,"xmlns: prefix must be bound to " + L + "\nActual: " + H.fk);else {J=H.tag;P=H.Xj[H.Xj.length - 1] || H;J.ml === P.ml && (J.ml=Object.create(P.ml));J.ml[N]=H.fk;}H.tE.push([H.ek,H.fk]);}else (H.tag.attributes[H.ek]=H.fk,m(H,"onattribute",{name:H.ek,value:H.fk}));H.ek=H.fk="";}function v(H,J){var N,P,V,S,U,fa,qa;if(H.xp.Q2){N=H.tag;P=p(H.tagName);N.prefix=P.prefix;N.local=P.local;N.uri=N.ml[P.prefix] || "";N.prefix && !N.uri && (n(H,"Unbound namespace prefix: " + JSON.stringify(H.tagName)),N.uri=P.prefix);P=H.Xj[H.Xj.length - 1] || H;N.ml && P.ml !== N.ml && Object.keys(N.ml).forEach(function(za){m(H,"onopennamespace",{prefix:za,uri:N.ml[za]});});P=0;for(var W=H.tE.length;P < W;P++){V=H.tE[P];S=V[0];U=V[1];fa=p(S,!0);V=fa.prefix;qa="" == V?"":N.ml[V] || "";U={name:S,value:U,prefix:V,local:fa.local,uri:qa};V && "xmlns" != V && !qa && (n(H,"Unbound namespace prefix: " + JSON.stringify(V)),U.uri=V);H.tag.attributes[S]=U;m(H,"onattribute",U);}H.tE.length=0;}H.tag.bvc=!!J;H.SR=!0;H.Xj.push(H.tag);m(H,"onopentag",H.tag);J || (H.state=H.Wfb || "script" !== H.tagName.toLowerCase()?M.Za:M.PM,H.tag=null,H.tagName="");H.ek=H.fk="";H.tE.length=0;}function t(H){var J,N,W;if(H.tagName){if(H.xl){if("script" !== H.tagName){H.xl+="</" + H.tagName + ">";H.tagName="";H.state=M.PM;return;}m(H,"onscript",H.xl);H.xl="";}J=H.Xj.length;N=H.tagName;H.so || (N=N[H.bza]());for(var P=N;J--;){if(H.Xj[J].name !== P)n(H,"Unexpected close tag");else break;}if(0 > J)(n(H,"Unmatched closing tag: " + H.tagName),H.textNode+="</" + H.tagName + ">");else {H.tagName=N;for(N=H.Xj.length;N-- > J;){W=H.tag=H.Xj.pop();H.tagName=H.tag.name;m(H,"onclosetag",H.tagName);for(var V in W.ml){;}P=H.Xj[H.Xj.length - 1] || H;H.xp.Q2 && W.ml !== P.ml && Object.keys(W.ml).forEach(function(S){m(H,"onclosenamespace",{prefix:S,uri:W.ml[S]});});}0 === J && (H.ZW=!0);H.tagName=H.fk=H.ek="";H.tE.length=0;}}else (n(H,"Weird empty close tag."),H.textNode+="</>");H.state=M.Za;}w={xg:function(H,J){return new a(H,J);}};w.Kqc=a;w.Lqc=c;w.$3a=function(H){return new c(H,void 0);};w.bka=65536;u=("comment sgmlDecl textNode tagName doctype procInstName procInstBody entity attribName attribValue cdata script").split(" ");w.df=("text processinginstruction sgmldeclaration doctype comment attribute opentag closetag opencdata cdata closecdata error end ready script opennamespace closenamespace").split(" ");Object.create || (Object.create=function(H){function J(){this.__proto__=H;}J.prototype=H;return new J();});Object.getPrototypeOf || (Object.getPrototypeOf=function(H){return H.__proto__;});Object.keys || (Object.keys=function(H){var J,N;J=[];for(N in H){H.hasOwnProperty(N) && J.push(N);}return J;});a.prototype={end:function(){k(this);},write:function(H){var W,V,S,U,fa,qa;if(this.closed)return h(this,"Cannot write after close. Assign an onready handler.");if(null === H)return k(this);if(this.error)throw this.error;for(var J=0,N;this.c=N=H.charAt(J++);){switch((this.Lga && (this.position++,"\n" === N?(this.line++,this.$W=0):this.$W++),this.state)){case M.fia:if((this.state=M.gia,"\ufeff" === N))continue;case M.gia:"<" === N?(this.state=M.xka,this.jFa=this.position):g(y,N) || (n(this,"Non-whitespace before first tag."),this.textNode=N,this.state=M.Za);continue;case M.Za:if(this.SR && !this.ZW){for(var P=J - 1;N && "<" !== N && "&" !== N;){(N=H.charAt(J++)) && this.Lga && (this.position++,"\n" === N?(this.line++,this.$W=0):this.$W++);}this.textNode+=H.substring(P,J - 1);}"<" !== N || this.SR && this.ZW && !this.so?(g(y,N) || this.SR && !this.ZW || n(this,"Text data outside of root node."),"&" === N?this.state=M.Tla:this.textNode+=N):(this.state=M.xka,this.jFa=this.position);continue;case M.PM:"<" === N?this.state=M.mUa:this.xl+=N;continue;case M.mUa:"/" === N?this.state=M.yia:(this.xl+="<" + N,this.state=M.PM);continue;case M.xka:"!" === N?(this.state=M.Bla,this.vu=""):g(y,N) || (g(K,N)?(this.state=M.PQa,this.tagName=N):"/" === N?(this.state=M.yia,this.tagName=""):"?" === N?(this.state=M.pRa,this.Iea=this.cL=""):(n(this,"Unencoded <"),this.jFa + 1 < this.position && (N=Array(this.position - this.jFa).join(" ") + N),this.textNode+="<" + N,this.state=M.Za));continue;case M.Bla:(this.vu + N).toUpperCase() === E?(m(this,"onopencdata"),this.state=M.h3,this.In=this.vu=""):"--" === this.vu + N?(this.state=M.k3,this.vu=this.Mn=""):(this.vu + N).toUpperCase() === G?(this.state=M.p3,(this.doctype || this.SR) && n(this,"Inappropriately located doctype declaration"),this.vu=this.doctype=""):">" === N?(m(this,"onsgmldeclaration",this.vu),this.vu="",this.state=M.Za):(g(A,N) && (this.state=M.pUa),this.vu+=N);continue;case M.pUa:N === this.q && (this.state=M.Bla,this.q="");this.vu+=N;continue;case M.p3:">" === N?(this.state=M.Za,m(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=N,"[" === N?this.state=M.Hia:g(A,N) && (this.state=M.lKa,this.q=N));continue;case M.lKa:this.doctype+=N;N === this.q && (this.q="",this.state=M.p3);continue;case M.Hia:this.doctype+=N;"]" === N?this.state=M.p3:g(A,N) && (this.state=M.kKa,this.q=N);continue;case M.kKa:this.doctype+=N;N === this.q && (this.state=M.Hia,this.q="");continue;case M.k3:"-" === N?this.state=M.nJa:this.Mn+=N;continue;case M.nJa:"-" === N?(this.state=M.mJa,(this.Mn=f(this.xp,this.Mn)) && m(this,"oncomment",this.Mn),this.Mn=""):(this.Mn+="-" + N,this.state=M.k3);continue;case M.mJa:">" !== N?(n(this,"Malformed comment"),this.Mn+="--" + N,this.state=M.k3):this.state=M.Za;continue;case M.h3:"]" === N?this.state=M.dJa:this.In+=N;continue;case M.dJa:"]" === N?this.state=M.eJa:(this.In+="]" + N,this.state=M.h3);continue;case M.eJa:">" === N?(this.In && m(this,"oncdata",this.In),m(this,"onclosecdata"),this.In="",this.state=M.Za):"]" === N?this.In+="]":(this.In+="]]" + N,this.state=M.h3);continue;case M.pRa:"?" === N?this.state=M.Kka:g(y,N)?this.state=M.Jka:this.Iea+=N;continue;case M.Jka:if(!this.cL && g(y,N))continue;else "?" === N?this.state=M.Kka:this.cL+=N;continue;case M.Kka:">" === N?(m(this,"onprocessinginstruction",{name:this.Iea,body:this.cL}),this.Iea=this.cL="",this.state=M.Za):(this.cL+="?" + N,this.state=M.Jka);continue;case M.PQa:if(g(I,N))this.tagName+=N;else {this.so || (this.tagName=this.tagName[this.bza]());P=this.Xj[this.Xj.length - 1] || this;W=this.tag={name:this.tagName,attributes:{}};this.xp.Q2 && (W.ml=P.ml);this.tE.length=0;">" === N?v(this):"/" === N?this.state=M.b5:(!g(y,N) && n(this,"Invalid character in tag name"),this.state=M.gM);}continue;case M.b5:">" === N?(v(this,!0),t(this)):(n(this,"Forward-slash in opening tag not followed by >"),this.state=M.gM);continue;case M.gM:if(g(y,N))continue;else ">" === N?v(this):"/" === N?this.state=M.b5:g(K,N)?(this.ek=N,this.fk="",this.state=M.W2):n(this,"Invalid attribute name");continue;case M.W2:"=" === N?this.state=M.Hha:">" === N?(n(this,"Attribute without value"),this.fk=this.ek,q(this),v(this)):g(y,N)?this.state=M.iHa:g(I,N)?this.ek+=N:n(this,"Invalid attribute name");continue;case M.iHa:if("=" === N)this.state=M.Hha;else if(g(y,N))continue;else (n(this,"Attribute without value"),this.fk=this.tag.attributes[this.ek]="",m(this,"onattribute",{name:this.ek,value:""}),this.ek="",">" === N?v(this):g(K,N)?(this.ek=N,this.state=M.W2):(n(this,"Invalid attribute name"),this.state=M.gM));continue;case M.Hha:if(g(y,N))continue;else g(A,N)?(this.q=N,this.state=M.Kha):(n(this,"Unquoted attribute value"),this.state=M.Lha,this.fk=N);continue;case M.Kha:if(N !== this.q){"&" === N?this.state=M.Iha:this.fk+=N;continue;}q(this);this.q="";this.state=M.jHa;continue;case M.jHa:g(y,N)?this.state=M.gM:">" === N?v(this):"/" === N?this.state=M.b5:g(K,N)?(n(this,"No whitespace between attributes"),this.ek=N,this.fk="",this.state=M.W2):n(this,"Invalid attribute name");continue;case M.Lha:if(!g(D,N)){"&" === N?this.state=M.Jha:this.fk+=N;continue;}q(this);">" === N?v(this):this.state=M.gM;continue;case M.yia:if(this.tagName)">" === N?t(this):g(I,N)?this.tagName+=N:this.xl?(this.xl+="</" + this.tagName,this.tagName="",this.state=M.PM):(!g(y,N) && n(this,"Invalid tagname in closing tag"),this.state=M.kJa);else if(g(y,N))continue;else g(K,N)?this.tagName=N:this.xl?(this.xl+="</" + N,this.state=M.PM):n(this,"Invalid tagname in closing tag.");continue;case M.kJa:if(g(y,N))continue;">" === N?t(this):n(this,"Invalid characters in closing tag");continue;case M.Tla:case M.Iha:case M.Jha:switch(this.state){case M.Tla:(V=M.Za,S="textNode");break;case M.Iha:V=M.Kha;S="attribValue";break;case M.Jha:(V=M.Lha,S="attribValue");}if(";" === N){N=S;P=this[N];W=this.fp;U=W.toLowerCase();fa="";if(this.Jz[W])W=this.Jz[W];else if(this.Jz[U])W=this.Jz[U];else {W=U;if("#" === W.charAt(0))if("x" === W.charAt(1)){W=W.slice(2);qa=parseInt(W,16);fa=qa.toString(16);}else (W=W.slice(1),qa=parseInt(W,10),fa=qa.toString(10));W=W.replace(/^0+/,"");W=fa.toLowerCase() !== W?(n(this,"Invalid character entity"),"&" + this.fp + ";"):String.fromCodePoint(qa);}this[N]=P + W;this.fp="";this.state=V;}else g(C,N)?this.fp+=N:(n(this,"Invalid character entity"),this[S]+="&" + this.fp + N,this.fp="",this.state=V);continue;default:throw Error(this,"Unknown state: " + this.state);}}if(this.position >= this.q1a){H=Math.max(w.bka,10);N=J=0;for(V=u.length;N < V;N++){S=this[u[N]].length;if(S > H)switch(u[N]){case "textNode":d(this);break;case "cdata":m(this,"oncdata",this.In);this.In="";break;case "script":m(this,"onscript",this.xl);this.xl="";break;default:h(this,"Max buffer length exceeded: " + u[N]);}J=Math.max(J,S);}this.q1a=w.bka - J + this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);},flush:function(){d(this);"" !== this.In && (m(this,"oncdata",this.In),this.In="");"" !== this.xl && (m(this,"onscript",this.xl),this.xl="");}};x=w.df.filter(function(H){return "error" !== H && "end" !== H;});c.prototype=Object.create(b.prototype,{constructor:{value:c}});c.prototype.write=function(H){this.xA.write(H.toString());this.emit("data",H);return !0;};c.prototype.end=function(H){H && H.length && this.write(H);this.xA.end();return !0;};c.prototype.on=function(H,J){var N;N=this;N.xA["on" + H] || -1 === x.indexOf(H) || (N.xA["on" + H]=function(){var P;P=1 === arguments.length?[arguments[0]]:Array.apply(null,arguments);P.splice(0,0,H);N.emit.apply(N,P);});return b.prototype.on.call(N,H,J);};y="\r\n\t ";z="0124356789";B="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";A="'\"";C=z + B + "#";D=y + ">";E="[CDATA[";G="DOCTYPE";F="http://www.w3.org/XML/1998/namespace";L="http://www.w3.org/2000/xmlns/";O={xml:F,Q2:L};y=l(y);z=l(z);B=l(B);K=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;I=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;A=l(A);C=l(C);D=l(D);M=0;w.FD={fia:M++,gia:M++,Za:M++,Tla:M++,xka:M++,Bla:M++,pUa:M++,p3:M++,lKa:M++,Hia:M++,kKa:M++,Dnc:M++,k3:M++,nJa:M++,mJa:M++,h3:M++,dJa:M++,eJa:M++,pRa:M++,Jka:M++,Kka:M++,PQa:M++,b5:M++,gM:M++,W2:M++,iHa:M++,Hha:M++,Kha:M++,jHa:M++,Lha:M++,Iha:M++,Jha:M++,yia:M++,kJa:M++,PM:M++,mUa:M++};w.mzb={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"};w.Jz={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(w.Jz).forEach(function(H){var J;J=w.Jz[H];J="number" === typeof J?String.fromCharCode(J):J;w.Jz[H]=J;});for(M in w.FD){w.FD[w.FD[M]]=M;}M=w.FD;String.fromCodePoint || (function(){var J,N;function H(){var P,W,V,U,fa;P=[];W=-1;V=arguments.length;if(!V)return "";for(var S="";++W < V;){U=Number(arguments[W]);if(!isFinite(U) || 0 > U || 1114111 < U || N(U) != U)throw RangeError("Invalid code point: " + U);if(65535 >= U)P.push(U);else {U-=65536;fa=(U >> 10) + 55296;U=U % 1024 + 56320;P.push(fa,U);}if(W + 1 == V || 16384 < P.length)(S+=J.apply(null,P),P.length=0);}return S;}J=String.fromCharCode;N=Math.floor;Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:H,configurable:!0,writable:!0}):String.fromCodePoint=H;})();r.exports=w;},function(r){r.exports=function(){var b;for(b=0;b < arguments.length;b++){if("undefined" !== typeof arguments[b] && null !== arguments[b])return arguments[b];}return null;};},function(r,b){var c;function a(l,g){for(var m=0;m < l.length;m++){if(g(l[m],m,l))return l[m];}}Object.defineProperty(b,"__esModule",{value:!0});b.Qc=b.Mvb=b.DOa=void 0;r=(function(){function l(g){this.yn=[];this.EA=this.DYa=0;this.Da=g;}l.prototype.Ova=function(g){var m;m=a(this.yn,function(d){return g >= d.ca && g < d.Ta;});"undefined" === typeof m && this.Da.warn("Get Segment at pts " + g + " is undefined");return m;};l.prototype.YFb=function(g,m){var f;for(var d=this.yn;0 < d.length && 300 <= g.S - d[0].S;){this.Tkb();}for(;0 < d.length && 300 <= d[d.length - 1].S - g.S;){this.zec();}for(;1445698 < this.EA + g.size && 0 < d.length && 4 < g.S - d[0].S;){this.Da.trace("Size exceeds, removing live segment with segmentId " + d[0].S);this.Tkb();}f=new c(g,m);g=d.length;if(0 === g || d[g - 1].S < f.S)this.Aec(f);else {g=a(d,function(h){return h.S >= f.S;});if((null === g || void 0 === g?void 0:g.S) === f.S)return;this.Bec(d.indexOf(g),f);}this.DYa=d[d.length - 1].S;};l.prototype.Uob=function(g){"undefined" === typeof g?this.Da.warn("Current segment is undefined."):(this.Io=g,this.Da.trace("Current segment id is " + g.S));};l.prototype.eYb=function(){if(this.V6){if(this.DYa !== this.V6.S)return this.yn[this.yn.indexOf(this.V6) + 1];}else return this.yn[0];};l.prototype.q2=function(g){this.V6=this.H$(g);};l.prototype.H$=function(g){var m;m=a(this.yn,function(d){return d.S === g;});"undefined" === typeof m && this.Da.error("Segment with segmentId " + g + " is not in segmentArray");return m;};l.prototype.z9a=function(){var g;return (null === (g=this.V6) || void 0 === g?void 0:g.S) || -1;};l.prototype.ykc=function(g,m){g=this.H$(g);"undefined" !== typeof g && (this.yn[this.yn.indexOf(g)].header=m);};l.prototype.jXb=function(g){g=this.H$(g);return (null === g || void 0 === g?void 0:g.header) || ({});};l.prototype.Tkb=function(){this.EA-=this.yn[0].size;this.yn.shift();};l.prototype.Aec=function(g){this.EA+=g.size;this.yn.push(g);};l.prototype.Bec=function(g,m){this.EA+=m.size;this.yn.splice(g,0,m);};l.prototype.zec=function(){this.EA-=this.yn[this.yn.length - 1].size;this.yn.pop();};return l;})();b.DOa=r;c=(function(){return function(l,g){this.S=l.S;this.xml=l.xml;this.ca=l.ca;this.Ta=l.Ta;this.zwa=g;this.size=l.size;this.v0=l.v0;};})();b.Mvb=c;b.Qc=a;},function(r,b,a){var l;function c(g){var m;g=g.split(".");m=g[0].split(":").map(function(d){return parseInt(d,0);});return 1E3 * (3600 * m[0] + 60 * m[1] + m[2]) + parseInt(g[1]);}Object.defineProperty(b,"__esModule",{value:!0});b.o9=b.FOa=void 0;l=a(515);r=(function(){function g(m){this.ev=[];this.Da=m;}g.prototype.aGb=function(m,d,f){var h,k,n,p,q,v;void 0 === f && (f=0);h=this.ev;k=m.indexOf("<p");n=-1;do {p={};p.S=d;p.rmb=k;q=m.indexOf("begin=",k) + 7;v=m.indexOf("end=",k) + 5;q=c(m.substring(q,q + 12)) - f;v=c(m.substring(v,v + 12)) - f;n=v > n?v:n;p.startTime=q;p.endTime=v;p.latestEndSoFar=n;p.SSb=m.indexOf("/p>",k) + 3;k=p.SSb;if(0 === h.length || p.startTime > h[h.length - 1].startTime)(h.push(p),this.Da.trace("LiveTtmlIndex:  entry is pushed to the end",{startTime:p.startTime,ISb:p.endTime}));else if((v=l.Qc(h,function(t){return t.startTime >= p.startTime;}),v.startTime !== p.startTime || v.rmb !== p.rmb))(v=h.indexOf(v),h.splice(v,0,p),this.Da.trace("LiveTtmlIndex:  entry is pushed at index number " + v,{startTime:p.startTime,ISb:p.endTime}));k=m.indexOf("<p",k);}while(-1 !== k);};g.prototype.Aq=function(m,d){return this.ev.filter(function(f){return f.startTime <= d && f.endTime >= m;}).length;};g.prototype.VXb=function(m){var d;d=l.Qc(this.ev,function(f){return f.startTime <= m && m < f.endTime || f.startTime >= m;});return (null === d || void 0 === d?void 0:d.S) || -1;};g.prototype.U6a=function(){return 0 < this.ev.length?this.ev[this.ev.length - 1].endTime:0;};return g;})();b.FOa=r;b.o9=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.rka="MslReadyNotifierSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DKa="DeviceIdGeneratorSymbol";},function(r,b){function a(c,l,g){if(null != g){if(0 < g(c,l))throw a.V3a(c,l);}else if(c.Fm && 0 < c.Fm(l))throw a.V3a(c,l);this.start=c;this.end=l;}Object.defineProperty(b,"__esModule",{value:!0});b.wla=void 0;a.V3a=function(c,l){return new RangeError("end [" + l + "] must be >= start [" + c + "]");};b.wla=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.GKa="DeviceProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BRa="PboBindDeviceCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$Oa="LogblobSenderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.iQa="MessageQueueSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.TRa="PboLogblobCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oWa="UuidProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.THa="AppLogSinkSymbol";},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A,C,D,E,G,F,L,O;function c(K,I,M,H,J,N,P,W,V,S,U,fa,qa,za,Aa,Qa,T,Z,Q,la,sa){var R;R=this;this.j=K;this.Fa=I;this.Jnb=M;this.Qg=H;this.Jza=J;this.Gta=N;this.Re=P;this.Y9=W;this.Bf=V;this.config=S;this.Dd=U;this.za=fa;this.Ia=qa;this.gs=za;this.ZB=Aa;this.Sj=Qa;this.Qv=T;this.zK=Z;this.Ic=Q;this.HQ=la;this.HF=sa;this.d2=[];this.Uza=this.AF=this.U0=0;this.$O=[];this.gpa=!1;this.xu=function(ha){var wa,va,Ea,Ya,wb,nb;va={};try{va={playdelaysdk:(0,p.rg)(R.j.VW()),applicationPlaydelay:(0,p.rg)(R.j.Aqa()),playdelay:(0,p.rg)(R.j.Eqa()),trackid:R.j.Dl,bookmark:(0,p.rg)(R.j.Gn || 0),pbnum:R.j.index,endianness:(0,f.N8a)()};R.config().vSb && (va.transitiontime=R.j.wo,va.uiplaystarttime=R.j.lb.KS,va.playbackrequestedat=R.j.nj.ia(q.va),va.clockgettime=R.getTime(),va.clockgetpreciseepoch=R.za.lf.ia(q.va),va.clockgetpreciseappepoch=R.Ia.XB.ia(q.va),va.absolutestarttime=R.j.AJ(),va.relativetime=R.j.a$a());R.baa(va,"startplay");}catch(zb){R.log.error("error in startplay log fields",zb);}R.j.fj && (va.blocked=R.j.fj);R.Ic.Hab(va);(0,z.Qa)(R.j.n1a) && (va.bookmarkact=(0,p.rg)(R.j.n1a));Ea=R.j.yd.at && R.j.yd.ats?R.j.yd.at - R.j.yd.ats:void 0;Ea && (va.nccpat=Ea);(Ea=R.j.yd.lr && R.j.yd.lc?R.j.yd.lr - R.j.yd.lc:void 0) && (va.nccplt=Ea);(Ea=R.j.yd.lc && R.j.yd.lg?R.j.yd.lc - R.j.yd.lg:void 0) && (va.lct=Ea);(Ea=R.iJ()) && (va.downloadables=Ea);mb._cad_global.device && (0,z.xd)(mb._cad_global.device.p$) && (va.esnSource=mb._cad_global.device.p$);(0,p.Oe)(va,R.gs,{prefix:"pi_"});R.j.kq && R.j.kq.initBitrate && (va.initvbitrate=R.j.kq.initBitrate);R.j.kq && R.j.kq.selector && (va.selector=R.j.kq.selector);va.fullDlreports=R.vpb;if(R.j.state.value >= y.ic.Se)try{Ya=R.j.Cv();if(Ya){R.maxBitrate=(0,f.gT)(Ya.map(function(zb){return zb.bitrate;}));R.teb=(0,f.gT)(Ya.map(function(zb){return zb.height;}));wb=0 < Ya.length?(0,E.H$a)(function(zb,Oa){return zb.height === Oa.height;},Ya).map(function(zb){return (0,B.wza)(zb,function(Oa){return Oa.bitrate;});}):void 0;va.maxbitrate=R.maxBitrate;va.maxresheight=R.teb;}}catch(zb){R.log.error("Exception computing max bitrate",zb);}try{nb=(0,f.NJ)();nb && (va.pdltime=nb);}catch(zb){}try{(0,p.Oe)(va,R.j.yd,{prefix:"sm_"});(0,p.Oe)(va,R.j.Raa(),{prefix:"vd_"});}catch(zb){}ha && R.j.Bw && (va.pssh=R.j.Bw);R.Lab(R.j,va);va.avtp=R.ML.mp().PFa;(null === (wa=R.j.qb) || void 0 === wa?0:wa.qA) && R.tba(va);if(R.j.Ob.value)try{va.ttTrackFields=R.j.Ob.value.Bh;}catch(zb){}R.Ic.Dab(va,R.j.Gc.value,R.Fa);R.Ic.eQ(va,!0,R.j.Uh.value,R.Fa);R.j.ba && (va.packageId=R.j.ba.Ra.zp);R.j.ba && R.j.ba.Ra.So && (va.hasChoiceMap=!0);R.Z2b(wb);R.Y2b();ha && (R.bxa(va),R.dxa(va));R.Fab(R.j,va);R.WJ(R.j,va);R.XJ(R.j,va);R.Pt(R.j,va);R.wF(R.j,va,R.gpa);R.nZ(R.j,va);R.D0b(R.j,va);R.cxa(va);R.fxa(va);R.Ic.dQ(va);R.Eab(va);R.Ic.uba(va,R.Fa);R.exa(va);R.Dc(A.Wc.xu,ha,O.Ie | O.$u | O.vj | O.av | O.aH | O.i3 | O.dH | O.$q,va);};this.Hw=function(ha,wa,va){wa={playdelay:(0,p.rg)(ha),reason:va,intrplayseq:R.AF - 1,skipped:wa};"repos" === va && (wa.prstate=!0 === R.j.paused.value?"paused":"playing");R.cQ(wa,g.wj.Hw);R.XJ(R.j,wa);R.Pt(R.j,wa);R.Dc(A.Wc.Hw,!1,O.Ie | O.$u | O.vj,wa);"rebuffer" !== va && "force_rebuffer" !== va || R.j.Tm.UFb(Number((0,p.rg)(ha)));};this.bB=function(ha,wa,va,Ea){ha={moff:(0,p.Sn)(va),moffms:(0,p.rg)(va),vbitrate:wa.bitrate,vbitrateold:ha.bitrate,vdlid:wa.Tb,vdlidold:ha.Tb,vheight:wa.height,vheightold:ha.height,vwidth:wa.width,vwidthold:ha.width,bw:Ea};R.XJ(R.j,ha);R.Pt(R.j,ha);R.wF(R.j,ha);R.cQ(ha,g.wj.bB);R.Dc(A.Wc.bB,!1,O.vj,ha);};this.$Ca=function(ha,wa,va){ha={moff:(0,p.Sn)(va),moffms:(0,p.rg)(va),vdlidold:ha.Tb,vbitrateold:ha.bitrate};R.XJ(R.j,ha);R.Pt(R.j,ha);R.wF(R.j,ha);R.Ic.Wr(ha,wa,R.j.eg.value && R.j.eg.value.stream);R.cQ(ha,g.wj.R0);R.Dc(A.Wc.R0,!1,O.vj,ha);};this.JBa=function(){var ha,wa;ha={waittime:(0,p.rg)(R.j.a$a()),abortedevent:"startplay",trackid:R.j.Dl,prstate:R.GB(),paustate:R.j.paused.value};R.baa(ha,"endplay");R.cQ(ha,g.wj.nR);R.Qv.UX && (ha.eventlist_version=1,ha.eventlist=R.zK.R9a(R.j));R.j.kq && R.j.kq.initBitrate && (ha.initvbitrate=R.j.kq.initBitrate);try{wa=(0,f.NJ)();wa && (ha.pdltime=wa);(0,p.Oe)(ha,R.j.yd,{prefix:"sm_"});}catch(va){}R.Zwa(ha,!0);R.Ic.uba(ha,R.Fa);R.Ic.eQ(ha,!1,R.j.Uh.value,R.Fa);R.bxa(ha);R.Ic.Wr(ha,R.j.Hf.value,R.j.bi.value);R.Lab(R.j,ha);R.WJ(R.j,ha);R.nZ(R.j,ha);R.exa(ha);R.dxa(ha);R.Pt(R.j,ha);R.Dc(A.Wc.nR,!1,O.Ie | O.vj | O.aH | O.av | O.$q,ha);};this.IBa=function(ha,wa){ha={waittime:(0,p.rg)(ha),abortedevent:"resumeplay",resumeplayreason:wa};R.j.kq && R.j.kq.initBitrate && (ha.initvbitrate=R.j.kq.initBitrate);R.Ic.Wr(ha,R.j.Hf.value,R.j.bi.value);R.nZ(R.j,ha);R.Pt(R.j,ha);R.Dc(A.Wc.nR,!1,O.Ie | O.vj | O.$q,ha);};this.kFa=function(ha,wa,va){ha={newstate:wa?"Paused":"Playing",oldstate:ha?"Paused":"Playing",reason:va};R.XJ(R.j,ha);R.Pt(R.j,ha);R.wF(R.j,ha);R.Ic.Wr(ha,R.j.Pe.value && R.j.Pe.value.stream,R.j.eg.value && R.j.eg.value.stream);R.cQ(ha,g.wj.J1);R.Dc(A.Wc.J1,!1,O.Ie | O.vj,ha);};this.uZ=function(ha,wa,va){var Ea,Ya;ha=(0,p.Oe)({vdlid:R.j.Hf.value.Tb,playingms:ha,pausedms:wa,intrplayseq:R.AF++,prstate:R.GB(),paustate:R.j.paused.value},va);R.baa(ha,"intrplay");wa=R.j.Cc[G.u.J].value;va=R.j.Cc[G.u.T].value;ha.cdnid=ha.vcdnid=wa && wa.id;ha.acdnid=va && va.id;ha.locid=R.IZ && R.IZ.Qya;ha.loclv=R.IZ && R.IZ.udb;ha.avtp=R.ML.mp().PFa;ha.mediabuffered=null === (Ea=R.j.pf) || void 0 === Ea?void 0:Ea.eaa();if(null === (Ya=R.j.qb) || void 0 === Ya?0:Ya.qA)(R.Zwa(ha,!0),R.tba(ha),R.Jab(ha));try{(0,p.Oe)(ha,R.j.Raa(),{prefix:"vd_"});}catch(wb){}R.XJ(R.j,ha);R.Pt(R.j,ha);R.wF(R.j,ha);R.Ic.Wr(ha,R.j.Pe.value && R.j.Pe.value.stream,R.j.eg.value && R.j.eg.value.stream);R.Dc(A.Wc.uZ,!1,O.Ie | O.vj,ha);};this.qG=function(ha,wa,va){ha={moffold:(0,p.Sn)(ha),reposseq:R.U0++,prstate:R.GB(),paustate:R.j.paused.value};R.wF(R.j,ha);R.Ic.Wr(ha,va && va.stream,wa && wa.stream);R.cQ(ha,g.wj.qG);R.Dc(A.Wc.qG,!1,O.Ie | O.vj,ha);};this.Mpa=function(){var ha,wa,va,Ea;wa=R.j.Gc.value;va=R.j.bi.value.Tb;wa=wa?{trackId:wa.trackId,bcp47:wa.Of,downloadableId:va,rank:wa.vc,chan:wa.channels}:{};va=R.VB;Ea=null === (ha=R.kya) || void 0 === ha?void 0:ha.Tb;ha=va?{trackId:va.trackId,bcp47:va.Of,downloadableId:Ea,rank:va.vc,chan:va.channels}:{};R.Dc(A.Wc.O0a,!1,O.Ie | O.vj,{switchdelay:(0,p.rg)(R.getTime() - R.lya),track:wa,oldtrack:ha});};this.D1=function(ha){R.Dc(A.Wc.xmb,!1,O.Ie | O.vj,{speedold:Math.floor(1E3 * ha.oldValue),speed:Math.floor(1E3 * ha.newValue)});};this.zS=function(){R.Dc(A.Wc.Uic,!1,O.Ie | O.vj,{track:R.j.Ob.value.Bh});};this.VC=function(ha){var wa,va;wa=R.j.Ob.value;if(ha.newValue || wa && wa.Fq() && !wa.qp()){va=(ha=null !== (va=ha.newValue) && void 0 !== va?va:wa)?{trackId:ha.trackId,bcp47:ha.Of,downloadableId:ha.Tb,rank:ha.vc,isImageBased:ha.Zl}:{};ha=(ha=R.xya)?{trackId:ha.trackId,bcp47:ha.Of,downloadableId:ha.Tb,rank:ha.vc,isImageBased:ha.Zl}:{};va={switchdelay:(0,p.rg)(R.getTime() - R.wya),track:va,oldtrack:ha};R.Ic.Wr(va,R.j.Pe.value && R.j.Pe.value.stream,R.j.eg.value && R.j.eg.value.stream);R.Dc(A.Wc.Vnb,!1,O.Ie | O.vj,va);}};this.Ir=function(ha){R.Dc(A.Wc.BIb,!1,O.Ie | O.vj,ha.newValue);};this.aKb=function(ha,wa){var va,Ea;va=wa.serverid;Ea={locid:wa.location,loclv:wa.locationlv,selocaid:va,selcdnid:va,selocaname:wa.servername};Ea.mediatype=wa.mediatype;Ea.selreason=wa.selreason || "unknown";Ea.seldetail=wa.seldetail;Ea.cdnbwdata=JSON.stringify([{id:va}]);ha && (Ea.oldlocid=ha.Qya,Ea.oldloclv=ha.udb,Ea.oldocaid=ha.afc,Ea.oldocaname=ha.tL);R.Dc(A.Wc.$1a,!1,O.i3,Ea);};this.k5a=function(){var ha,wa,va;if(R.j.th)try{ha=!1;R.vpb || (ha=!0,R.$O=R.$O.filter(function(Ea){return !Ea.ja;}));if(0 < R.$O.length){wa=R.Y9.construct(R.$O,R.j.nj.ia(q.va));R.$O=[];wa.erroronly=ha;va={};(0,p.zh)(wa,function(Ea,Ya){va[Ea]=JSON.stringify(Ya);});R.Dc(A.Wc.TQb,!1,O.vj,va);}}catch(Ea){R.log.error("Exception in dlreport.",Ea);}};this.GB=function(){var ha;ha=R.j.Db.value;return ha === y.nb.Xc?"playing":ha === y.nb.aj?"paused":ha === y.nb.Ks?"ended":"waiting";};this.iC=function(){var ha,wa,va;if(R.j.state.value == y.ic.Se){va=R.l0();R.config().gDa && (va.avtp=R.ML.mp().PFa,(null === (ha=R.j.qb) || void 0 === ha?0:ha.qA) && R.tba(va));va.mediabuffered=null === (wa=R.j.pf) || void 0 === wa?void 0:wa.eaa();va.midplayseq=R.Uza++;va.prstate=R.GB();va.paustate=R.j.paused.value;R.config().Xec && R.fnb("midplay");R.config().iu && R.gxa(va);R.cxa(va);R.fxa(va);R.Pt(R.j,va);R.Ic.dQ(va);R.Dc(A.Wc.iC,!1,O.Ie | O.vj | O.aH | O.av,va);}};this.fnb=function(ha){var wa,va;wa={};wa.trigger=ha;try{va=R.j.Eva();wa.subtitleqoescore=R.j.Fp.qZb(va);wa.metrics=JSON.stringify(R.j.Fp.$va(va));}catch(Ea){R.log.error("error getting subtitle qoe data",Ea);}R.Dc(A.Wc.Vhc,!1,O.Ie | O.aH | O.$u,wa);};this.transition=function(ha){R.wF(R.j,ha);R.nZ(R.j,ha);R.Dc(A.Wc.transition,!1,0,ha);};this.$Da=function(ha,wa){R.Dc(A.Wc.$Da,wa,0,ha);};this.wB=function(ha){var wa,va,Ea,Ya,wb,nb,zb;va=R.l0();R.baa(va,"endplay");va.prstate=R.GB();va.paustate=R.j.paused.value;va.muted=R.j.muted.value;R.j.XC && "downloaded" === R.j.XC.QP() && (va.trickplay_ms=R.j.l2.offset,va.trickplay_res=R.j.l2.dkb);R.config().Dpb && (va.rtinfo=R.j.SYb());R.config().gDa && (null === (wa=R.j.qb) || void 0 === wa?0:wa.qA) && R.tba(va);va.endreason=ha?"error":R.j.Db.value === y.nb.Ks?"ended":"stopped";(wa=R.gs) && (0,p.Oe)(va,wa,{prefix:"pi_"});try{(0,p.Oe)(va,R.j.yd,{prefix:"sm_"});}catch(Xa){}R.j.Ywa && (va.inactivityTime=R.j.Ywa);R.Zwa(va,ha);R.Jab(va);if(R.j.P8){wa=R.j.P8;Ea=R.config().PW;Ya=R.j.loadTime;wb={iv:Ea,seg:[]};nb=function(Xa,cb,hb){return 0 === cb || void 0 === hb[cb - 1]?Xa:Xa - hb[cb - 1];};zb=wa.AW.map(nb);nb=wa.C2.map(nb);for(var Oa,Za=0;Za < zb.length;Za++){if(zb[Za] || nb[Za])Oa?(Oa.ams.push(zb[Za]),Oa.vms.push(nb[Za])):Oa={ams:[wa.AW[Za]],vms:[wa.C2[Za]],soffms:wa.startTime + Za * Ea - Ya};Za !== zb.length - 1 && zb[Za] && nb[Za] || !Oa || (wb.seg.push(Oa),Oa=void 0);}va.bt=JSON.stringify(wb);}ha && (R.bxa(va),R.dxa(va));R.fnb("endplay");R.config().iu && R.gxa(va);R.Ic.eQ(va,!1,R.j.Uh.value,R.Fa);R.Fab(R.j,va);R.WJ(R.j,va);R.XJ(R.j,va);R.wF(R.j,va,R.gpa);R.Pt(R.j,va);R.nZ(R.j,va);R.cxa(va);R.fxa(va);R.Ic.dQ(va);R.F0b(va);R.Eab(va);R.H0b(va);R.G0b(va);R.J0b(va);R.exa(va);R.K0b(va);R.Dc(A.Wc.wB,ha,O.Ie | O.$u | O.vj | O.aH | O.av | O.dH | O.$q,va);};this.$Qb=function(ha){R.$O.push(R.Y9.ZLb(ha.response));};this.Isa=function(ha){var wa,va,Ea,Ya,wb,nb;ha=ha.response;wa=ha.request;va=ha.request.hC;Ea=wa.track;if(Ea){Ya=!ha.ja && ha.Ca != v.Y.rD;wb=Ea.type;nb=ha.Qm;if(Ya || R.Fa.Vya){va={dltype:wb,url1:wa.url,url2:ha.url || "",cdnid:wa.Cc && wa.Cc.id,tresp:(0,p.rg)(nb.qj - nb.ws),brecv:(0,p.B7a)(nb.iX),trecv:(0,p.rg)(nb.Qq - nb.qj),sbr:va && va.bitrate};ha.ou && (va.range=ha.ou);switch(wb){case h.xj.audio:va.adlid=wa.stream.Tb;break;case h.xj.video:va.vdlid=wa.stream.Tb;break;case h.xj.Fga:va.ttdlid=Ea.Tb;}(wa=(0,C.Ava)(ha.Ca)) && (va.nwerr=wa);ha.Vl && (va.httperr=ha.Vl);R.Dc(A.Wc.Isa,Ya,O.vj,va);}}};this.fj=function(){R.Dc(A.Wc.k1a,!1,O.Ie | O.aH | O.$q,{});};this.qLb=function(ha){var wa,va;wa=ha.response.Qm;ha=(0,q.$b)(wa.qj);va=(0,q.$b)(wa.Qq);wa=(0,t.ga)(wa.iX || 0);wa.lcb() || wa.Nxa() || (ha=new w.wla(ha,va),R.ML.MFb(new u.LKa(ha,wa)));};this.iea=function(ha){var wa,va,Ea;Ea=ha.newValue;ha.ij && ha.ij.I_ && Ea && (null === (wa=ha.ij) || void 0 === wa || !wa.reason) || Ea == R.lK || (R.kFa(R.lK,Ea,null === (va=ha.ij) || void 0 === va?void 0:va.reason),R.lK=Ea);};this.UA=function(ha){function wa(va){var Ea;if(R.j.Wb && R.j.Wb.sourceBuffers){Ea=R.j.Wb.sourceBuffers.filter(function(Ya){return Ya.type === va;}).pop();if(Ea)return {busy:Ea.Li(),updating:Ea.updating(),ranges:Ea.faa()};}}ha={cause:ha.cause};ha.cause && ha.cause === d.Zka && (ha.mediaTime=R.j.mediaTime.value,ha.buf_audio=wa(m.Q4),ha.buf_video=wa(m.dU));R.uZ(R.d2[y.nb.Xc] || 0,R.d2[y.nb.aj] || 0,ha);};this.job=function(ha){var wa;ha=ha.oldValue;wa=R.getTime();ha === y.nb.Cg?R.d2=[]:R.d2[ha]=(R.d2[ha] || 0) + (wa - R.j3b);R.j3b=wa;};this.Fn=function(ha){R.lya=R.getTime();R.VB=ha.oldValue;};this.cn=function(ha){R.wya=R.getTime();R.xya=ha.oldValue;};this.EW=function(ha){R.kya=ha.oldValue;};this.ZZ=function(ha){function wa(va,Ea){var Ya;if(!va || va.Qya !== Ea.location){Ya={Qya:Ea.location,udb:Ea.locationlv,afc:Ea.serverid,tL:Ea.servername};R.aKb(va,Ea);return Ya;}}if("audio" === ha.mediatype){if(ha=wa(R.d3b,ha))R.d3b=ha;}else if(ha=wa(R.IZ,ha))R.IZ=ha;};this.m1=function(ha){var wa,va;wa=ha.mediatype;va=ha.reason;"video" === wa?"serverswitchaway" === va?(R.Dk.summary.hqb++,R.Dk.nca=R.za.lf.ia(q.va)):"serverswitchback" === va && (R.Dk.summary.iqb++,R.Dk.nca && (R.Dk.summary.jqb.push(R.za.lf.ia(q.va) - R.Dk.nca),R.Dk.nca=void 0)):"audio" === wa && ("serverswitchaway" === va?(R.Dk.summary.A0a++,R.Dk.jca=R.za.lf.ia(q.va)):"serverswitchback" === va && (R.Dk.summary.B0a++,R.Dk.jca && (R.Dk.summary.C0a.push(R.za.lf.ia(q.va) - R.Dk.jca),R.Dk.jca=void 0)));R.Dc(A.Wc.cfc,!1,O.Ie | O.vj,{mediatype:ha.mediatype,server:ha.server,selreason:ha.reason,location:ha.location,bitrate:ha.bitrate,confidence:ha.confidence,throughput:ha.throughput,oldserver:ha.oldserver});};this.BI=function(ha){R.Dc(A.Wc.oHb,!1,O.vj,{strmsel:ha.strmsel});};this.vca=function(ha){ha=l.__rest(ha,["type"]);R.Pt(R.j,ha);R.Dc(A.Wc.Y3b,!1,O.Ie,ha);};this.uca=function(ha){var wa,va,Ea;wa=ha.mediaType;va=ha.current;ha=ha.ho;if(wa === G.u.J){Ea={};wa={mediatype:(Ea[G.u.T]="audio",Ea[G.u.J]="video",Ea[G.u.Za]="subtitle",Ea)[wa],curr:{enc:va.pJ,origin:va.oJ},prev:{enc:ha.pJ,origin:ha.oJ}};R.Pt(R.j,wa);R.Dc(A.Wc.X3b,!1,O.Ie,wa);}};this.sS=function(ha){ha=Object.assign({},ha);ha.details && (ha.details=JSON.stringify(ha.details));R.Dc(A.Wc.Uhc,!0,O.Ie | O.$u | O.i3,ha);};this.gpa=Qa.NGa || Qa.eha || Qa.z7a;this.ML=M();this.log=(0,k.kj)(K,"LogblobBuilder");this.lK=K.paused.value;this.sa=this.Fa.sa;this.Dk={summary:{hqb:0,iqb:0,jqb:[],A0a:0,B0a:0,C0a:[]},nca:void 0,jca:void 0};}Object.defineProperty(b,"__esModule",{value:!0});b.$T=void 0;l=a(0);g=a(60);m=a(17);d=a(64);f=a(44);h=a(93);k=a(9);n=a(22);p=a(23);q=a(5);v=a(4);t=a(52);w=a(519);u=a(1278);x=a(14);y=a(16);z=a(15);B=a(1279);A=a(282);C=a(201);D=a(119);E=a(81);G=a(48);F=a(202);L=a(253);c.prototype.Lab=function(K,I){var M,H,J,N,P,W,V,S,U,fa,qa,za,Aa,Qa,T,Z,Q;if(this.config().iu)try{M={};H=this.Dd.getStats(void 0,void 0,K.L);J=K.AJ();N=H.LL.CLb || [];M.attempts=H.Bea || 0;M.num_completed_tasks=N.length;P=this.Re.STb;W={};V=D.Jk.tS;S=D.Jk.Mv;U=D.Jk.Jqa;H.Jm && (W.scheduled=H.Jm - J);fa=K.ba;fa && (0,z.Qa)(fa.gL) && (W.preauthsent=fa.gL - K.loadTime,W.preauthreceived=fa.KR - K.loadTime);qa=N.filter(function(la){return "manifest" === la.type;});M.mf_succ=qa.filter(P("status",V)).length;M.mf_fail=qa.filter(P("status",S)).length;za=K.yd;(0,z.xd)(za.lg) && 0 > za.lg && K.loadTime && (W.ldlsent=za.lc,W.ldlreceived=za.lr);Aa=N.filter(function(la){return "ldl" === la.type;});M.ldl_succ=Aa.filter(P("status",V)).length;M.ldl_fail=Aa.filter(P("status",S)).length;H=!0;J=[];"notcached" === K.KI && (H=!1,J.push("Missing cached manifest"));this.config().TX || (H=!1,J.push("LDL prefetch disabled"));Qa=Aa.filter(P("status",U)).length;this.config().TX && 0 === Qa && (!W.ldlreceived || 0 <= W.ldlreceived) && (H=!1,J.push("LDL received after start"));if(this.config().f6a)if(I.isPrefetchItem){T=I.prefetchedAudioMs / I.bcABufferLevelMs;if(1 > I.prefetchedVideoMs / I.bcVBufferLevelMs || 1 > T)(H=!1,J.push("Insufficient media fetched"));}else (H=!1,J.push("aseStats not initialized"));Z=N.filter(function(la){return "getHeaders" === la.type;});M.header_succ=Z.filter(P("status",V)).length;M.header_fail=Z.filter(P("status",S)).length;Q=N.filter(function(la){return "getMedia" === la.type;});M.media_succ=Q.filter(P("status",V)).length;M.media_fail=Q.filter(P("status",S)).length;M.hm_succ=M.header_succ + M.media_succ;M.hm_fail=M.header_fail + M.media_fail;(0,p.Oe)(I,M,{prefix:"pr_"});this.Qv.UX && (I.eventlist_version=1,I.eventlist=this.zK.R9a(K));(I.prefetchCompleted=H) || (I.prefetchFailed=J,(0,p.Oe)(I,W,{prefix:"pe_"}));this.gxa(I);}catch(la){this.log.warn("error in collecting video prepare data",la);}};c.prototype.YYb=function(K,I){if(K=K.xY())if(I=K[I])return I.Ba;};c.prototype.Fab=function(K,I){K.lb.ji && (I.isBranching=!0);};c.prototype.WJ=function(K,I){var M,H;H=(null === (M=K.ba) || void 0 === M?void 0:M.Jxa) || "videopreparer" === K.JI;I.cachedManifest=K.KI;I.cachedLicense=K.JI;I.usedldl=this.config().TX?H.toString():"not_capable";};c.prototype.XJ=function(K,I){var M,H;if(this.config().I0b){M=K.Fva();H=K.ha.ba;M && H && (I.segment=M,H=K.lF(),I.segmenttime=H,K=this.YYb(K,M),null !== H && void 0 !== K && (I.segmentoffset=H - K));}};c.prototype.wF=function(K,I,M){I.pxid=K.xea;(void 0 === M?0:M) && (I.playgraph_trace=K.Vhb);};c.prototype.nZ=function(K,I){I.hasContentPlaygraph=K.$aa();};c.prototype.D0b=function(K,I){var M,H;if(K.$aa()){M=K.LE;H=K.ba.Ra.Xo.na;I.auxViewables=Object.keys(H.U).map(function(J){return H.U[J].P;}).filter(function(J,N,P){return J !== M && P.indexOf(J) === N;});}};c.prototype.Jab=function(K){var I,M;I=this.j.Kuc;M=I && I.Gwc;I && I.l0b && (K.htwbr=I.l0b,K.pbtwbr=I.wBa,K.hptwbr=I.Nuc);I && I.Ydc && (K.rr=I.Ydc,K.ra=I.Cwc);I && M && 0 < (M.length || 0) && (K.qe=JSON.stringify(M));};c.prototype.bxa=function(K){var I,M,H;try{I=this.Re.createElement("canvas");M=I.getContext("webgl") || I.getContext("experimental-webgl");if(M){H=M.getExtension("WEBGL_debug_renderer_info");H && (K.WebGLRenderer=M.getParameter(H.UNMASKED_RENDERER_WEBGL),K.WebGLVendor=M.getParameter(H.UNMASKED_VENDOR_WEBGL));}}catch(J){}};c.prototype.J0b=function(K){K.switchAwaySummary={vsa:this.Dk.summary.hqb,vsb:this.Dk.summary.iqb,vsbt:this.Dk.summary.jqb,asa:this.Dk.summary.A0a,asb:this.Dk.summary.B0a,asbt:this.Dk.summary.C0a};};c.prototype.MAb=function(K){var I;I=[];return K?Object.keys(K).map(function(M){return +M;}):I;};c.prototype.iJ=function(){var K,I;K=this;if(this.j.uz && this.j.Ej){I=[];this.j.uz.concat(this.j.Ej).forEach(function(M){M.streams.forEach(function(H){I.push({dlid:H.Tb,type:H.type,bitrate:H.bitrate,vmaf:H.gb,cdn_ids:K.MAb(H.Ksa)});});});return JSON.stringify(I);}};c.prototype.$Jb=function(){var I,M,H;function K(J,N){var P,W,V;P=J.cdnId + "$" + J.correlationId;W=H[P];W || (W={cdnid:J.cdnId,pbcid:J.correlationId,dls:[]},H[P]=W,M.push(W));(0,n.UO)(J.bitrate);(0,n.UO)(J.duration);P={bitrate:J.bitrate,tm:(0,x.Mp)(J.duration)};V=J.vmaf;V && ((0,n.UO)(J.vmaf),P.vf=V);P[N]=(0,p.Ak)(J.downloadableId);W.dls.push(P);}I=this.j.Tm.YVb();M=[];H={};I.audio.forEach(function(J){K(J,"adlid");});I.video.forEach(function(J){K(J,"dlid");});return JSON.stringify(M);};c.prototype.l0=function(){var K,I,M,H,J,N,P,W,V,S,U,fa,qa;K=this.j.Tm;I={totaltime:(0,p.Sn)(K.Sr("content")),totalcontenttime:(0,p.Sn)(K.UY("content")),totaladtime:(0,p.Sn)(K.Sr("ads")),totalothertime:(0,p.Sn)(K.Sr("other")),cdndldist:this.$Jb(),reposcount:this.U0,intrplaycount:this.AF};try{M={numskip:0,numlowqual:0};H=this.j.pf;J=H.my();(0,z.Qa)(J) && (I.totfr=J,M.numren=J);J=H.GJ();(0,z.Qa)(J) && (I.totdfr=J,M.numrendrop=J);J=H.BY();(0,z.Qa)(J) && (I.totcfr=J,M.numrenerr=J);I.playqualvideo=JSON.stringify(M);N=this.j.Hf.value;N && (I.videofr=N.framerate.toFixed(3));P=K.Iua();P && (I.abrdel=P);W=K.gba() && K.e8a();W && (I.tw_vmaf=W);V=K.c8a();V && (0,p.Oe)(I,V);I.rbfrs=this.AF;I.maxbitrate=this.maxBitrate;I.maxresheight=this.teb;S=this.j.nF();for(K=0;K < S.length;K++){U=S[K];fa=this.Fa.KQ.OC(U);if(fa){(0,n.ya)(qa);I.maxbitrate=qa?qa.bitrate:0;I.maxresheight=qa?qa.height:0;I.bitratefilters=fa.join("|");break;}qa=U;}this.j.XC && (I.trickplay=this.j.XC.QP());null !== this.j.Fp.Y0a && (I.avg_subt_delay=this.j.Fp.Y0a);}catch(za){this.log.error("Exception reading some of the endplay fields",za);}(0,p.Oe)(I,this.j.Raa(),{prefix:"vd_"});return I;};c.prototype.getTime=function(){return this.Ia.Rb().ia(q.va);};c.prototype.Sva=function(){return this.getTime() - this.Fa.nj.ia(q.va);};c.prototype.gxa=function(K){var I;try{I=this.Dd.getStats();K.pr_cache_size=JSON.stringify(I.cache);K.pr_stats=JSON.stringify(I.xVb);}catch(M){}};c.prototype.cxa=function(K){this.log.debug("httpstats",this.Bf.cc);(0,p.Oe)(K,this.Bf.cc,{prefix:"http_"});};c.prototype.Pt=function(K,I){K=K.Kd;K.ta && (I.intenttoplayatedge=K.mbb(),K=K.iF(),I.livestage=this.EXb(K));};c.prototype.EXb=function(K){switch(K){case F.Vu.CU:case F.Vu.Nja:case F.Vu.aja:return K.toLowerCase();default:return (0,L.bY)(K);}};c.prototype.Zwa=function(K,I){var M,H,J;M=this.config().y4a && !(this.sa % this.config().y4a);H=this.j.qb;J=null === H || void 0 === H?void 0:H.dj;M && J && (K.ASEstats=JSON.stringify(H.uxa(I)));};c.prototype.tba=function(K){Object.assign(K,this.j.qb.Ac.xZb());};c.prototype.fxa=function(K){var I;try{I=x.gx.memory;(0,z.icb)(I) && (K.totalJSHeapSize=I.totalJSHeapSize,K.usedJSHeapSize=I.usedJSHeapSize,K.jsHeapSizeLimit=I.jsHeapSizeLimit);}catch(M){}};c.prototype.Eab=function(K){var I;try{if(this.config().XW){I=this.j.eWb();K.battery=I;this.log.trace("batterystatuses",I);}}catch(M){}};c.prototype.F0b=function(K){this.j.G9 && (K.dqec=this.j.G9);};c.prototype.exa=function(K){var I,M,H;(null === (I=this.j.We) || void 0 === I?0:I.IP)?K.keysys=this.j.We.IP():(null === (H=null === (M=this.j.We) || void 0 === M?void 0:M.mediaKeys) || void 0 === H?0:H.keySystem)?K.keysys=this.j.We.mediaKeys.keySystem:this.HQ.Bcb && (K.keysys=this.HQ.Bcb);this.HF.Dcb && (K.keySystemRestrictions=this.HF.Dcb);this.HF.Ecb && (K.keySystemRestrictionsDebug=this.HF.Ecb);};c.prototype.dxa=function(K){var I;if(null === (I=this.j.We) || void 0 === I?0:I.i9a)K.keystatus=this.j.We.iya;};c.prototype.G0b=function(K){this.Fta && (K.externaldisplay=this.Fta.uP);};c.prototype.H0b=function(K){var I,M;if(this.RGa){I=this.RGa.map(function(H){return H.Yc;}).filter(function(H){return void 0 !== H;});M=(0,B.wza)(I,function(H){return H.height;});M && (K.media_capabilities_smooth=M.smooth,K.media_capabilities_efficient=M.powerEfficient,K.media_capabilities_bitrate=M.bitrate,K.media_capabilities_height=M.height,K.media_capabilities_width=M.width);K.media_capabilities=I.map(function(H){return {smooth:H.smooth,efficient:H.powerEfficient,bitrate:H.bitrate,height:H.height,width:H.width};});}};c.prototype.K0b=function(K){K.didHydrateTracks=this.j.T9;};c.prototype.Y2b=function(){void 0 === this.Fta && (this.Fta=this.Gta.KTb());};c.prototype.Z2b=function(K){var I;I=this;void 0 === this.RGa && void 0 !== K && (this.RGa=K.map(function(M){return I.Jza.Kta(M);}));};c.prototype.baa=function(K,I){(I=this.j.FB(I)) && Object.entries(I).forEach(function(M){var H;H=oa(M);M=H.next().value;H=H.next().value;K[M]=H;});};c.prototype.cQ=function(K,I){var M;(I=null === (M=this.j.qb) || void 0 === M?void 0:M.vaa(void 0,I)) && Object.entries(I).forEach(function(H){var J;J=oa(H);H=J.next().value;J=J.next().value;K[H]=J;});};c.prototype.Dc=function(K,I,M,H){var J,N;N=I?"error":"info";I && this.j.Ki && (0,v.K3)(this.j.Ki.errorCode,this.j.Ki.Ca,this.Sva(),null === (J=this.j.pf) || void 0 === J?void 0:J.my()) && (N="info");this.Voa(H,this.j,I,M);K=this.ZB.Dv(K,N,H,this.Fa);this.Qg.Dc(K);};c.prototype.E0b=function(K,I){var M,H;H=null === (M=I.qb) || void 0 === M?void 0:M.aPb;H && (null === H || void 0 === H?void 0:H.P) !== I.LE && (K.auxMid || (K.auxMid=H.P),K.auxPlaybackcontextid || (K.auxPlaybackcontextid=I.Vn(H.P).fh));};c.prototype.Voa=function(K,I,M,H){var J,N,P,W,V;this.Ic.Gab(K,I);this.E0b(K,I);H & O.Ie && ((0,n.ya)(!K || void 0 === K.moff),this.Ic.Kab(K,I,I.$aa()));H & O.$u && this.Ic.Mab(K,I);H & O.vj && (null === (J=I.qb) || void 0 === J?0:J.dj) && (K.abuflbytes=null !== (N=K.abuflbytes) && void 0 !== N?N:I.Hpa(),K.abuflmsec=null !== (P=K.abuflmsec) && void 0 !== P?P:I.xW(),K.vbuflbytes=null !== (W=K.vbuflbytes) && void 0 !== W?W:I.QGa(),K.vbuflmsec=null !== (V=K.vbuflmsec) && void 0 !== V?V:I.y2());H & O.av && this.Ic.Nab(K,I.lm);H & O.aH && (J=x.ff.hardwareConcurrency,0 <= J && (K.numcores=J),J=this.Fa.Rsa) && (N=J.Jua(),K.droppedFrames=JSON.stringify(N),J=J.LJ(this.config().uRb),(0,p.zh)(J,function(S,U){K["droppedFramesP" + S]=JSON.stringify(U);}));if(H & O.i3)try{I.th && (K.cdninfo=JSON.stringify(I.th.map(function(S){return {id:S.id,nm:S.name,rk:S.vc,wt:S.location.weight,lv:S.location.level};})));}catch(S){}M && H & O.dH && ((0,n.ya)(I.Ki),this.Ic.Iab(K,I,I.Ki));H & O.$q && this.Ic.axa(K);};Va.Object.defineProperties(c.prototype,{vpb:{configurable:!0,enumerable:!0,get:function(){return this.j.ay || this.j.fP;}}});b.$T=c;(function(K){K[K.Ie=1]="MOFF";K[K.$u=2]="PRESENTEDSTREAMS";K[K.vj=4]="BUFFER";K[K.av=8]="SCREEN";K[K.aH=16]="CPU";K[K.i3=32]="CDN";K[K.dH=64]="FATALERROR";K[K.$q=128]="BROWSERINFO";})(O || (O={}));},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NKa="DownloadReportBuilderSymbol";},function(r,b,a){var l,g,m,d,f,h,k,n,p;function c(q){this.config=q;}Object.defineProperty(b,"__esModule",{value:!0});b.MKa=void 0;r=a(0);l=a(201);g=a(93);m=a(23);d=a(4);f=a(22);h=a(14);k=a(15);n=a(1);a=a(12);c.prototype.construct=function(q,v){var t,w,u;t=this;w={};q.forEach(function(x){var y;y=x.url;w[y] || (w[y]=[]);w[y].push(x);});u=[];(0,m.zh)(w,function(x,y){u.push(t.HZb(y,v));});return {urls:u};};c.prototype.HZb=function(q,v){var t,w,u,x;t=this;w=q[0];u={url:w.url,bitrate:w.bitrate,cdnid:(0,k.nk)(w.Cc)?w.Cc.id:w.Cc,dltype:w.VQb,id:w.Tb};x={};q.forEach(function(y){var z;z=t.R1b(y)?"fail":"success";x[z] || (x[z]=[]);x[z].push(y);});(0,m.zh)(x,function(y,z){"fail" === y?u.failures=t.ZWb(z,v):"success" === y && (u.downloads=t.PWb(z,v));});return u;};c.prototype.PWb=function(q,v){var t,w,u;t=this;w={};q.forEach(function(x){var y;y=x.dLb;w[y] || (w[y]=[]);w[y].push(x);});u=[];(0,m.zh)(w,function(x,y){var z;z=[];y.forEach(function(B){z.push(B);t.B1b(B) && (u.push(t.G8a(z,v,x)),z=[]);});0 < z.length && u.push(t.G8a(z,v,x));});return u;};c.prototype.G8a=function(q,v,t){var w,u,x,y,B;w=q.sort(function(A,C){return A.Qm.qj < C.Qm.qj?-1:A.Qm.qj > C.Qm.qj?1:0;});u=w[0].Qm;x=u.ws;y=u.qj;u=u.Qq;for(var z=1;z < q.length;z++){B=q[z].Qm;B.ws < x && (x=B.ws);B.qj < y && (y=B.qj);B.Qq > u && (u=B.Qq);}z=this.IYb(w);B=w[w.length - 1];return {time:x - v,tcpid:t?parseInt(t):-1,tresp:y - x,first:z,ranges:this.JYb(w,z),dur:u - y,trace:this.mF(q),status:this.QP(B)};};c.prototype.IYb=function(q){var v;v=0;q.forEach(function(t){t.ou && (v=(0,h.Rz)(v,t.ou[0]));});return v;};c.prototype.JYb=function(q,v){var t;t=[];q.forEach(function(w){w.ou?t.push([w.ou[0] - v,w.ou[1] - v]):t.push([0,-1]);});return t;};c.prototype.mF=function(q){var v,t;v=[];q.forEach(function(w){var u;w=w.Qm;if(t){u=w.ws - t.Qq;0 < u && v.push([u,-2]);u=(0,h.Xu)(t.Qq,w.ws);u=w.qj - u;0 < u && v.push([u,-3]);}v.push([w.Qq - w.qj,w.iX || 0]);t=w;});return v;};c.prototype.B1b=function(q){if(q.Ca === d.Y.rD || q.Ca === d.Y.iH)return !0;};c.prototype.QP=function(q){if(q.ja)return "complete";if(q.Ca === d.Y.rD)return "abort";if(q.Ca === d.Y.iH)return "stall";(0,f.ya)(!1,"download status should never be: other");return "other";};c.prototype.ZWb=function(q,v){var t,w;t=this;w=[];q.forEach(function(u){var x;x=u.Qm;u={time:x.qj - v,tresp:x.qj - x.ws,dur:x.Qq - x.qj,range:u.ou,reason:t.LYb(u),httpcode:u.Vl,nwerr:(0,l.Ava)(u.Ca)};w.push(u);});return w;};c.prototype.LYb=function(q){return q.Vl || q.Ca === d.Y.OT?"http":q.Ca === d.Y.QT?"timeout":"network";};c.prototype.R1b=function(q){return q.ja || void 0 === q.ja || q.Ca === d.Y.rD || q.Ca === d.Y.iH?!1:!0;};c.prototype.ZLb=function(q){var v,t,w,u,x,y;v=q.request;t=v.stream;w=v.track;u=v.url;x=this.MWb(w,u);switch(x){case g.xj.audio:case g.xj.video:y=v.stream.Tb;break;case g.xj.Fga:case g.xj.eGa:y=w.Tb;}q={bitrate:t && t.bitrate,VQb:x,Tb:y,Qm:q.Qm,Cc:v.Cc,url:u,Rf:q.Rf,Vl:q.Vl,Ca:q.Ca,ja:q.ja,dLb:this.uTb(q)};void 0 !== v.offset && void 0 != v.length && (q.ou=[v.offset,v.offset + v.length - 1]);return q;};c.prototype.MWb=function(q,v){if(q)return q.type;if(0 <= v.indexOf("netflix.com")){if(0 <= v.indexOf("nccp"))return "nccp";if(0 <= v.indexOf("api"))return "api";}return "other";};c.prototype.uTb=function(q){if(q.headers && (q=q.headers["x-tcp-info"]))return (q=q.split(";").filter(function(v){return 0 == v.indexOf("port=");}).map(function(v){return v.split("=")[1];})[0])?(0,m.Ak)(q):q;};p=c;p=r.__decorate([(0,n.$)(),r.__param(0,(0,n.l)(a.xc))],p);b.MKa=p;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.bU="LogblobMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.MWa="XhrFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.EQa="NetworkMonitorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DQa="NetworkMonitorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.$La="FtlDataParserSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eNa="HttpRequesterSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.xRa="PboAcquireLicenseCommandSymbol";},function(r,b,a){var d,f,h,k,n,p;function c(q){var v;q=new h.DT(q);if(1481462272 != q.rs())throw Error("Invalid header");v={XMR:{Version:q.rs(),RightsID:q.Xy(16)}};l(q,v.XMR,q.buffer.length);return v;}function l(q,v,t){var w,u,x,y,z;for(;q.position < t;){w=q.si();u=q.rs();u-=8;switch(w){case 1:x="OuterContainer";break;case 2:x="GlobalPolicy";break;case 3:x="MinimumEnvironment";break;case 4:x="PlaybackPolicy";break;case 5:x="OutputProtection";break;case 6:x="UplinkKID";break;case 7:x="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:x="AnalogVideoOutputConfiguration";break;case 9:x="KeyMaterial";break;case 10:x="ContentKey";break;case 11:x="Signature";break;case 12:x="DeviceIdentification";break;case 13:x="Settings";break;case 18:x="ExpirationRestriction";break;case 42:x="ECCKey";break;case 48:x="ExpirationAfterFirstPlayRestriction";break;case 50:x="PlayReadyRevocationInformationVersion";break;case 51:x="EmbeddedLicenseSettings";break;case 52:x="SecurityLevel";break;case 54:x="PlayEnabler";break;case 57:x="PlayEnablerType";break;case 85:x="RealTimeExpirationRestriction";break;default:x="Other";}y={Type:g(w)};z=v[x];z?(0,p.isArray)(z)?z.push(y):(v[x]=[],v[x].push(z),v[x].push(y)):v[x]=y;switch(w){case 1:case 2:case 4:case 7:case 9:case 54:l(q,y,q.position + u);break;case 5:y.Reserved1=q.si();y.MinimumUncompressedDigitalVideoOutputProtectionLevel=q.si();y.MinimumAnalogVideoOutputProtectionLevel=q.si();y.Reserved2=q.si();y.MinimumUncompressedDigitalAudioOutputProtectionLevel=q.si();break;case 10:y.Reserved=q.Xy(16);y.SymmetricCipherType=q.si();y.AsymmetricCipherType=q.si();u=q.si();y.EncryptedKeyLength=u;w=q.Xy(u);y.EncryptedKeyData=10 >= u?w:w.substring(0,4) + "..." + w.substring(w.length - 4,w.length);break;case 11:y.SignatureType=q.Xy(2);u=q.si();w=q.Xy(u);y.SignatureData=10 >= u?w:w.substring(0,4) + "..." + w.substring(w.length - 4,w.length);break;case 13:y.Reserved=q.si();break;case 18:y.BeginDate=q.rs();y.EndDate=q.rs();break;case 42:y.CurveType=q.Xy(2);u=q.si();w=q.Xy(u);y.Key=10 >= u?w:w.substring(0,4) + "..." + w.substring(w.length - 4,w.length);break;case 48:y.ExpireAfterFirstPlay=q.rs();break;case 50:y.Sequence=q.rs();break;case 51:y.LicenseProcessingIndicator=q.si();break;case 52:y.MinimumSecurityLevel=q.si();break;case 57:y.PlayEnablerType=m(q.Xy(16));break;case 85:break;default:y.OtherData=q.Xy(u);}}}function g(q){return "0x" + q.toString(16);}function m(q){return q.substring(6,8) + q.substring(4,6) + q.substring(2,4) + q.substring(0,2) + "-" + q.substring(10,12) + q.substring(8,10) + "-" + q.substring(14,16) + q.substring(12,14) + "-" + q.substring(16,20) + "-" + q.substring(20,32);}Object.defineProperty(b,"__esModule",{value:!0});b.tPb=b.uPb=b.sPb=b.rPb=b.qPb=void 0;d=a(17);f=a(9);h=a(171);k=a(204);n=a(538);p=a(15);b.qPb=function(q,v,t){switch(v){case d.H3:q && (q=(0,f.b1a)(q),(0,n.zqb)(q,function(w){w.ja && (w=w.object) && (w=(0,k.D8a)(w,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License")) && (w=(0,k.lhb)(w)) && (w=(0,f.mt)(w)) && (w=c(w)) && t(w);}));}};b.rPb=c;b.sPb=l;b.uPb=g;b.tPb=m;},function(r,b,a){var c,l,g,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.zqb=void 0;c=a(9);l=a(4);g=a(539);m=a(540);d=a(59);b.zqb=function(f,h){var k,n;try{n=(0,g.Aqb)(f);}catch(p){c.log.error("xml2xmlDoc exception",p);}(0,d.Lg)(function(){if(n && n.documentElement)try{k=(0,m.Bqb)(n);}catch(p){c.log.error("xmlDoc2js exception",p);}(0,d.Lg)(function(){k?h({ja:!0,object:k}):h({ja:!1,Ca:l.Y.tub});});});};},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Aqb=void 0;c=a(9);l=a(15);b.Aqb=function(g){var m,d;if((0,l.pQ)(g)){m=new DOMParser().parseFromString(g,"text/xml");d=m.getElementsByTagName("parsererror");if(d && d[0]){try{c.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(d[0]),xmlData:g.slice(0,300),fileSize:g.length});}catch(f){}throw Error("xml parser error");}return m;}throw Error("bad xml text");};},function(r,b,a){var l;function c(g){var m,d,f,h,k,n,p;d={};d[l.gHa]=g.localName;f={};d[l.P2]=f;h=[];d[l.wqb]=h;k=g.attributes;n=k.length;for(m=0;m < n;m++){p=k[m];f[p.localName]=p.value;}g=g.childNodes;n=g.length;f={};for(m=0;m < n;m++){switch((k=g[m],k.nodeType)){case b.Eqb:k=c(k);p=k[l.gHa];k[l.xqb]=d;h.push(k);d[p]?f[p][l.yqb]=k:d[p]=k;f[p]=k;break;case b.Fqb:case b.Cqb:(k=k.text || k.nodeValue,h.push(k),d[l.yz] || (d[l.yz]=k));}}return d;}Object.defineProperty(b,"__esModule",{value:!0});b.Dqb=b.Cqb=b.Fqb=b.nmc=b.Eqb=b.omc=b.Bqb=void 0;l=a(204);b.Bqb=function(g){return c(g.nodeType == b.Dqb?g.documentElement:g);};b.omc=c;b.Eqb=1;b.nmc=2;b.Fqb=3;b.Cqb=4;b.Dqb=9;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.kSa="PboReleaseLicenseCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.NRa="PboLicenseRequestTransformerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.DRa="PboCachedPlaydataSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.SSa="PlaydataConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nka={HZ:"keepAlive",splice:"splice"};b.JRa="PboEventSenderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dSa="PboPlaydataPlaybackMonitorSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aLa="DxDisplaySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dLa="DxManagerSymbol";b.cLa="DxManagerProviderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.OOa="LogDisplayConfigSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.JWa="WindowUtilsSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wSa="PlayPredictionDeserializerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ETa="PreparerManifestFetcherSymbol";b.DTa="PreparerLicenseFetcherSymbol";b.CTa="PreparerLegacyLicenseFetcherSymbol";},function(r,b,a){var l,g,m,d;function c(f){this.eo=f;}Object.defineProperty(b,"__esModule",{value:!0});b.mla=b.rTa=void 0;r=a(0);l=a(19);g=a(1);m=a(121);d=a(38);c.prototype.Udb=function(f){var h,k;h=this;if(f.se.key.na)return Promise.resolve(f.se.key.na);k=f.se.key.P;return f.se.Fh.It(k).Ju.then(function(n){n=n.ba;return n.So?(0,d.Z8)(n.So,{config:l.config}):(0,d.dga)(k,h.eo.Ht(k));});};a=c;a=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(m.LM))],a);b.rTa=a;b.mla="PlaygraphResolverSymbol";},function(r,b){function a(c){this.Yx=void 0 === c?function(){}:c;this.vz=new Map();}Object.defineProperty(b,"__esModule",{value:!0});b.dma=void 0;a.prototype.store=function(c,l){var g,f;g=this.generateKey(c);this.vz.has(g) && this.wAa(this.vz.get(g),!0);if(!c.Ph)for(var m=oa(this.vz),d=m.next();!d.done;d=m.next()){f=oa(d.value);d=f.next().value;f=f.next().value;d.includes(":" + c.P + ":") && (this.wAa(f,!0),this.vz.delete(d));}this.vz.set(g,l);};a.prototype.It=function(c,l){var g,m,d;d=null === (g=null === l || void 0 === l?void 0:l.Pl) || void 0 === g?void 0:g.Ve;g=null === (m=null === l || void 0 === l?void 0:l.Pl) || void 0 === m?void 0:m.Ph;m={P:c,Ph:g,Ve:d};this.has(m) || this.Yx(c,l);return this.get(m);};a.prototype.has=function(c){c=this.generateKey(c);return this.vz.has(c) && !this.vz.get(c).cy;};a.prototype.clear=function(){var c;c=this;this.vz.forEach(function(l){c.wAa(l,!1);});this.vz.clear();};a.prototype.get=function(c){return this.vz.get(this.generateKey(c));};a.prototype.generateKey=function(c){var l,g;l=c.Ve;g=c.Ph;return c.P.toString() + (g?":" + g:"") + (l?":" + l:"");};a.prototype.wAa=function(c,l){var g;null === (g=c.events) || void 0 === g?void 0:g.emit("viewableEvicted",{type:"viewableEvicted"});c.CFa=l;};b.dma=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.QPa="MediaHttpSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.XQa="OpenConnectSideChannelSymbol";b.$Pa="MediaRequestDownloaderSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.YPa="MediaRequestConstructorFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HRa="PboDispatcherSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.UVa="TransportFactorySymbol";b.rQa="MslTransportSymbol";b.aVa="SslTransportSymbol";},function(r,b,a){var h,k;function c(n){return !(!n || !n.bG && !n.pboc || !n.code && !n.code);}function l(n){return !(!n || !n.wc);}function g(n){return !!(n instanceof Error);}function m(n){switch(n){case "ACCOUNT_ON_HOLD":return k.Y.Pwb;case "STREAM_QUOTA_EXCEEDED":return k.Y.Ywb;case "INSUFFICICENT_MATURITY":return k.Y.cxb;case "TITLE_OUT_OF_WINDOW":return k.Y.lxb;case "CHOICE_MAP_ERROR":return k.Y.Xwb;case "BadRequest":return k.Y.gxb;case "Invalid_SemVer_Format":return k.Y.dxb;case "RESTRICTED_TO_TESTERS":return k.Y.jxb;case "AGE_VERIFICATION_REQUIRED":return k.Y.Vwb;case "BLACKLISTED_IP":return k.Y.Wwb;case "DEVICE_EOL_WARNING":return k.Y.Cka;case "DEVICE_EOL_FINAL":return k.Y.ZQa;case "INCORRECT_PIN":return k.Y.cRa;case "MOBILE_ONLY":return k.Y.ixb;case "MDX_CONTROLLER_CTICKET_INVALID":return k.Y.hxb;case "VIEWABLE_RESTRICTED_BY_PROFILE":return k.Y.mxb;case "RESET_DEVICE":return k.Y.bRa;case "RELOAD_DEVICE":return k.Y.aRa;case "EXIT_DEVICE":return k.Y.$Qa;case "FREE_PREVIEW_ENDED":return k.Y.bxb;case "STREAMING_LOCATION_DISALLOWED":return k.Y.kxb;case "EXTRA_MEMBER_STREAM_HOLD":return k.Y.axb;case "EXTRA_MEMBER_REMOVED_STREAM_HOLD":return k.Y.$wb;case "ADS_UNAVAILABLE_VIEWABLE":return k.Y.Qwb;case "ADS_UNSUPPORTED_DEVICE":return k.Y.Twb;case "ADS_UNSUPPORTED_CLIENT_APP_VERSION":return k.Y.Rwb;case "ADS_UNSUPPORTED_COUNTRY":return k.Y.Swb;case "ADS_VPN_USE_DETECTED":return k.Y.Uwb;case "LIVE_STREAMING_UNSUPPORTED_DEVICE":return k.Y.fxb;case "LIVE_STREAMING_UNSUPPORTED_APP_VERSION":return k.Y.exb;default:return k.Y.fMa;}}function d(n,p){var q;q=p.bladeRunnerCode?Number(p.bladeRunnerCode):void 0;return new h.rd(n,m(p.code),"BadRequest" === p.code?k.J4.Jrb:void 0,p.code,void 0,p.display,void 0,p.detail,p.display,q,p.alert,p.alertTag);}function f(n,p){return new h.rd(n,p.wc,p.vd,void 0,p.kC,p.message,p.details,p.data);}Object.defineProperty(b,"__esModule",{value:!0});b.E1a=b.F1a=b.lVb=b.qVb=b.Tn=b.pVb=b.zZ=b.J1b=b.Pbb=void 0;h=a(36);k=a(4);b.Pbb=c;b.J1b=l;b.zZ=g;b.pVb=m;b.Tn=function(n,p){return l(p)?f(n,p):c(p)?d(n,p):g(p)?h.rd.uua(n,p):new h.rd(n,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,p);};b.qVb=d;b.lVb=f;b.F1a=function(n,p,q,v,t){var w,u,x,y;w=p.hlb[q];if(void 0 === w)throw {bG:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no configuration information",detail:p};u=w.version;if(void 0 === u)throw {bG:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no version information",detail:p};x=w.service;if(void 0 === x)throw {bG:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no service information",detail:p};y=w.orgOverride;if(void 0 === y && (y=p.organization,void 0 === y))throw {bG:!0,code:"FAIL",display:"Unable to build the URL for " + q + " because there was no organization information",detail:p};return w.isPlayApiDirect?n.sYb(v) + "/" + y + "/" + x + "/" + u:n.gYb(v) + "/" + y + "/" + x + "/" + u + "/" + (void 0 === t?"router":t);};b.E1a=function(n,p){var q;q={"Content-Type":"text/plain"};p=p();n.P_a && p && (q["X-Esn"]=p.Wl);return q;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.mSa="PboRequestFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ZVa="TrickPlayManagerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jr=void 0;r=b.jr || (b.jr={});r[r.Y4=0]="NOT_LOADED";r[r.LOADING=1]="LOADING";r[r.mH=2]="LOADED";r[r.WT=3]="LOAD_FAILED";r[r.YQa=4]="PARSE_FAILED";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.HIa="BandwidthMeterFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.KSa="PlaybackInfoPanelFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eUa="RepositionTraceSymbol";b.cUa="RepositionTraceFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.dIa="AseIntegrationFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.AHa="AdManagerFactorySymbol";},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A,C,D,E,G,F,L,O,K,I,M,H,J,N,P,W,V,S,U,fa,qa,za,Aa,Qa;function c(T,Z,Q,la,sa,R,ha,wa,va,Ea,Ya,wb,nb,zb,Oa,Za,Xa,cb,hb,sb,Hb,Lb,Rb,Tb,Ob,Eb,Sb,Zb,Jc,dd,Ff,Gf,Hf,If,Td){var xb,Jf;function af(tb){tb.newValue && tb.newValue.stream && (xb.Pe.removeListener(af),xb.Dba=tb.newValue.stream.bitrate);}function bf(tb){tb.newValue !== P.nb.Cg && tb.newValue !== P.nb.aj && (xb.Db.removeListener(bf),xb.SB=xb.za.sL,xb.Pb.Zc(P.ka.uw));}function cf(tb){tb.newValue !== P.nb.Cg && (xb.Db.removeListener(cf),xb.Um=!0,xb.m0=xb.za.lf.ia(D.va),xb.Pb.Zc(P.ka.Um));}xb=this;this.wb=sa;this.El=R;this.MB=ha;this.Ia=va;this.sE=Ea;this.za=Ya;this.i_=wb;this.nza=Oa;this.zQ=Za;this.Dd=Xa;this.Si=cb;this.Sj=hb;this.wO=sb;this.n0=Hb;this.xk=Lb;this.dGa=Rb;this.Qg=Tb;this.Re=Ob;this.LBa=Eb;this.co=Sb;this.Tjb=Zb;this.Epa=Jc;this.zK=dd;this.uBa=Ff;this.Toa=Gf;this.yqa=Hf;this.rO=If;this.Vhb=[];this.js=new Map();this.Gc=new q.ec(null);this.Uh=new q.ec(null);this.Ob=new q.ec(null);this.Cj=new q.ec(null);this.Lw=new q.ec(void 0);this.Hf=new q.ec(null);this.bi=new q.ec(null);this.mediaTime=new q.ec(void 0);this.playbackRate=new qa.OSa(1,v.config.Bza);this.Qob=function(tb){return xb.Gc.set(tb.newValue);};this.Jkc=function(tb){return xb.Uh.set(tb.newValue);};this.Hkc=function(tb){return xb.Ob.set(tb.newValue);};this.$jc=function(tb){return xb.Cj.set(tb.newValue);};this.Gkc=function(tb){return xb.Lw.set(tb.newValue);};this.Ikc=function(tb){return xb.Hf.set(tb.newValue);};this.akc=function(tb){return xb.bi.set(tb.newValue);};this.wkc=function(tb){return xb.Pe.set(tb.newValue);};this.vkc=function(tb){return xb.eg.set(tb.newValue);};this.skc=function(tb){return xb.mediaTime.set(tb.newValue);};this.Yga=function(tb){return xb.playbackRate.set(tb.newValue);};this.vk={};this.vDa=this.XFa=0;this.Pb=new t.Gk();this.lha={};this.H1=this.Mhb=this.Um=!1;this.SG=new q.ec(void 0);this.state=new q.ec(P.ic.FM);this.oj=new q.ec(!1);this.paused=new q.ec(!1);this.muted=new q.ec(!1);this.volume=new q.ec(v.config.OPb / 100);this.Db=new q.ec(P.nb.Cg);this.Kg=new q.ec(P.gg.Yd);this.kt=new q.ec(P.gg.Yd);this.uo=new q.ec(P.gg.Yd);this.eg=new q.ec(null);this.Pe=new q.ec(null);this.rqa=new q.ec(null);this.oba=(0,n.cNa)(this);this.Cc=[new q.ec(null),new q.ec(null)];this.Zpa={};this.fP=!1;this.Ya=this.rl=-1;this.Pva=function(tb,Vb){var Kc;tb=void 0 === tb?null:tb;return (0,K.Qa)(tb)?Vb && !xb.Hj(Vb).ba?tb:(null === (Kc=xb.qb) || void 0 === Kc?0:Kc.dj)?xb.qb.lB(tb):tb:null;};this.N_=function(){xb.dFa();};this.LE=T;this.addEventListener=this.Pb.addListener;this.removeEventListener=this.Pb.removeListener;this.fireEvent=this.Pb.Zc;this.dpa({P:T,S:la,lb:Q || ({})},v.config.iu?this.Dd.Vv(T):void 0,Z);this.log=(0,C.kj)(this);this.e5a=wa(this);this.mIb=nb(this);this.lm=(0,J.createElement)("DIV",p.vla,void 0,{id:this.L});this.X0b();this.Uc=this.log.v9("Playback");(0,m.tSa)(this);x.BD.pfb=this;x.BD.fua || (x.BD.fua=this);this.Uc.info("Playback created",this.Bh);this.Vya?this.Uc.info("Playback selected for trace playback info logging"):this.Uc.trace("Playback not selected for trace playback info logging");v.config.iu && (this.Dd.f_b(this.L),this.addEventListener(P.ka.uw,function(){xb.Dd.h_b(xb.L);xb.Ob.addListener(function(){xb.Dd.M$a();});xb.Gc.addListener(function(){xb.Dd.M$a();});}),this.addEventListener(P.ka.uh,function(){xb.Dd.e_b(xb.L);}));this.state.addListener(function(tb){xb.Uc.info("Playback state changed",{From:tb.oldValue,To:tb.newValue});(0,G.ya)(tb.newValue > tb.oldValue);});u.Xe.addListener(u.Lm,this.N_,p.d5);Jf=zb((0,D.Ui)(1));this.mediaTime.addListener(function(){xb.AUb();Jf.vl(function(){return xb.j7a();});});this.Db.addListener(function(tb){xb.Uc.info("PresentingState changed",{From:tb.oldValue,To:tb.newValue,MediaTime:(0,F.Ci)(xb.mediaTime.value)},xb.kw());});this.Db.addListener(function(){xb.oj.set(xb.Db.value === P.nb.Xc);});this.Kg.addListener(function(tb){xb.Uc.info("BufferingState changed",{From:tb.oldValue,To:tb.newValue,MediaTime:(0,F.Ci)(xb.mediaTime.value)},xb.kw());});this.kt.addListener(function(tb){xb.Uc.info("AV BufferingState changed",{From:tb.oldValue,To:tb.newValue,MediaTime:(0,F.Ci)(xb.mediaTime.value)},xb.kw());});this.uo.addListener(function(tb){xb.Uc.info("Text BufferingState changed",{From:tb.oldValue,To:tb.newValue,MediaTime:(0,F.Ci)(xb.mediaTime.value)},xb.kw());});this.Gc.addListener(function(tb){(0,G.ya)(tb.newValue && tb.newValue.Mh);xb.Uc.info("AudioTrack changed",tb.newValue && ({ToBcp47:tb.newValue.Of,To:tb.newValue.trackId}),tb.oldValue && ({FromBcp47:tb.oldValue.Of,From:tb.oldValue.trackId}),{MediaTime:(0,F.Ci)(xb.mediaTime.value)});});this.Ob.addListener(function(tb){(0,G.ya)(!tb.newValue || tb.newValue.Mh);xb.Uc.info("TimedTextTrack changed",tb.newValue?{ToBcp47:tb.newValue.Of,To:tb.newValue.trackId}:{To:"none"},tb.oldValue?{FromBcp47:tb.oldValue.Of,From:tb.oldValue.trackId}:{From:"none"},{MediaTime:(0,F.Ci)(xb.mediaTime.value)});});this.Db.addListener(cf,p.HM);this.Db.addListener(bf);this.addEventListener(P.ka.uw,function(){xb.H1=!0;xb.Dmb=xb.VW();xb.Ze("start");});this.Pe.addListener(af);(0,A.ESa)(this);x.Pp.push(this);v.config.Q0 && (this.oea=this.LBa(this),this.rea=new z.QSa(this));x.cla.forEach(function(tb){tb(xb);});this.eGb=function(){xb.addEventListener(P.ka.rG,function(tb){var Vb;tb=tb.cause;tb !== P.Fd.Uu && tb !== P.Fd.QM && (null === (Vb=xb.qb) || void 0 === Vb?void 0:Vb.stop());});xb.addEventListener(P.ka.pl,function(tb){var Vb,Kc,df,Kf,Bc,Ud,Lf,Vd,ef,Mf;xb.Tjb.pl(tb);df=tb.cause;Kf=tb.skip;Bc=tb.xda;Ud=tb.GAa;Lf=tb.L;Vd=tb.$k;xb.ha.Tm.zAa(Ud,Bc);if(df !== P.Fd.QM && df !== P.Fd.Uu)if(Kf){if(null !== (Vb=xb.qb) && void 0 !== Vb && Vb.ci(Bc)){xb.Uc.trace("Repositioned. Skipping from " + Ud + " to " + Bc);tb=function(Wb){xb.log.error("streamingSession.skipped threw an exception",Wb);Wb=W.rd.uua(E.aa.Rqb,Wb);xb.ku(Wb.code,Wb);};try{xb.qb.po(Bc).then(function(Wb){var Lc;Wb.iQ || (null === (Lc=xb.qb) || void 0 === Lc?void 0:Lc.play());}).catch(tb);}catch(Wb){tb(Wb);}}else xb.log.error("can skip returned false");}else {xb.Uc.trace("Repositioned. Seeking from " + Ud + " to " + Bc);try{ef=xb.wb.Daa(xb.ha);Mf=Object.keys(ef.U).find(function(Wb){var Lc;Wb=ef.U[Wb];return Wb.P === Lf && Wb.Ba <= Vd && (null !== (Lc=Wb.Aa) && void 0 !== Lc?Lc:Infinity) > Vd;});null === (Kc=xb.qb) || void 0 === Kc?void 0:Kc.oL(Vd,Mf);}catch(Wb){xb.log.error("streamingSession.seekByContentPts threw an exception",Wb);Bc=W.rd.uua(E.aa.Pqb,Wb);xb.ku(Bc.code,Bc);}}});};this.playbackRate.addListener(function(){var tb,Vb;if(null === (tb=xb.qb) || void 0 === tb?0:tb.dj)null === (Vb=xb.qb) || void 0 === Vb?void 0:Vb.Khb();});this.addEventListener(P.ka.UA,function(tb){var Vb;tb.cause == x.$ka && (xb.Kg.set(P.gg.Yd),null === (Vb=xb.qb) || void 0 === Vb?void 0:Vb.hn(xb.pf.L8a()));});Td && (this.ha.ba=Td,this.xk.L1(T,Td));}Object.defineProperty(b,"__esModule",{value:!0});b.JSa=void 0;l=a(0);g=a(303);m=a(305);d=a(167);f=a(574);h=a(1353);k=a(1354);n=a(577);p=a(17);q=a(74);v=a(19);t=a(70);w=a(578);u=a(58);x=a(64);y=a(140);z=a(580);B=a(1357);A=a(584);C=a(9);D=a(5);E=a(4);G=a(22);F=a(95);L=a(23);O=a(59);K=a(15);I=a(585);M=a(81);H=a(309);J=a(44);N=a(101);P=a(16);W=a(36);V=a(306);S=a(587);U=a(130);fa=a(1362);qa=a(1363);za=a(38);Aa=a(62);Qa=a(48);c.prototype.Ze=function(T,Z){var Q;Z=void 0 === Z?this.LE:Z;null === (Q=this.js.get(Z)) || void 0 === Q?void 0:Q.Ze(T);};c.prototype.NB=function(T){this.ha.NB(T);};c.prototype.$aa=function(){var T;return !(null === (T=this.ba) || void 0 === T || !T.Ra.Xo);};c.prototype.Xaa=function(){var T,Z,Q;return !(null === (Q=null === (Z=null === (T=this.ba) || void 0 === T?void 0:T.Ra.mO) || void 0 === Z?void 0:Z.Zg.length) || void 0 === Q || !Q);};c.prototype.X0b=function(){var T;T=this;this.Gc.addListener(function(Z){return T.ha.Gc.set(Z.newValue);});this.Uh.addListener(function(Z){return T.ha.Uh.set(Z.newValue);});this.Ob.addListener(function(Z){return T.ha.Ob.set(Z.newValue);});this.Cj.addListener(function(Z){return T.ha.Cj.set(Z.newValue);});this.Lw.addListener(function(Z){return T.ha.Lw.set(Z.newValue);});this.Hf.addListener(function(Z){return T.ha.Hf.set(Z.newValue);});this.bi.addListener(function(Z){return T.ha.bi.set(Z.newValue);});this.Pe.addListener(function(Z){return T.ha.Pe.set(Z.newValue);});this.eg.addListener(function(Z){return T.ha.eg.set(Z.newValue);});this.Cc[Qa.u.T].addListener(function(Z){return T.ha.Cc[Qa.u.T].set(Z.newValue);});this.Cc[Qa.u.J].addListener(function(Z){return T.ha.Cc[Qa.u.J].set(Z.newValue);});this.mediaTime.addListener(function(Z){return T.ha.mediaTime.set(Z.newValue);});this.playbackRate.addListener(function(Z){return T.ha.playbackRate.set(Z.newValue);});this.xkb();};c.prototype.xkb=function(){var T;T=this;this.ha !== this.cEa && (this.ha.mediaTime.set(this.mediaTime.value),this.ha.playbackRate.set(this.playbackRate.value),this.Gs(function(Z){return Z.Gc;},this.Qob),this.Gs(function(Z){return Z.Uh;},this.Jkc),this.Gs(function(Z){return Z.Lw;},this.Gkc),this.Gs(function(Z){return Z.Ob;},this.Hkc),this.Gs(function(Z){return Z.Cj;},this.$jc),this.Gs(function(Z){return Z.Hf;},this.Ikc),this.Gs(function(Z){return Z.bi;},this.akc),this.Gs(function(Z){return Z.eg;},this.vkc),this.Gs(function(Z){return Z.Pe;},this.wkc),this.Gs(function(Z){return Z.Cc[Qa.u.T];},function(Z){return T.Cc[Qa.u.T].set(Z.newValue);}),this.Gs(function(Z){return Z.Cc[Qa.u.J];},function(Z){return T.Cc[Qa.u.J].set(Z.newValue);}),this.Gs(function(Z){return Z.mediaTime;},this.skc),this.Gs(function(Z){return Z.playbackRate;},this.Yga),this.Ob.set(this.ha.Ob.value),this.Gc.set(this.ha.Gc.value,{e8:!0}),this.Uh.set(this.ha.Uh.value),this.Cj.set(this.ha.Cj.value),this.Lw.set(this.ha.Lw.value),this.Hf.set(this.ha.Hf.value),this.bi.set(this.ha.bi.value),this.cEa=this.ha);};c.prototype.Gs=function(T,Z){this.cEa && T(this.cEa).removeListener(Z);T(this.ha).addListener(Z);};c.prototype.SJb=function(){var T;return !(null === (T=this.wf) || void 0 === T?0:T.Dn.value);};c.prototype.load=function(T){var Z,Q;Z=this;this.load=function(){};this.Zhb=T;if(this.state.value == P.ic.FM){this.Uc.info("Playback loading",this);this.k7b();this.Ze("asl_load_start");Q=this.sE;T=Q.startTime;Q=Q.endTime;(0,K.xd)(T)?(0,K.xd)(Q)?this.Ze("asl_ended"):this.Ze("asl_in_progress"):this.Ze("asl_not_started");this.sE.XZ(function(la){Z.Ze("asl_load_complete");la.ja?Z.RNb():Z.ku(la.errorCode || E.aa.yja,la);});}};c.prototype.V$b=function(){!1;try{this.state.value === P.ic.LOADING && (this.kpb(),this.Gn=this.wO.CGb({aD:(0,D.$b)(this.ca),L:this.L,eG:this.kB,lb:this.lb,$F:this.lb.ji?v.config.dBa:v.config.$F,Kd:this.Kd}).ia(D.va),this.Bpa(),this.UOb());}catch(T){this.ku(E.aa.jvb,{Ca:E.Y.ln,Ub:(0,L.mf)(T)});}};c.prototype.kpb=function(){var T,Z,Q;Q={width:1,height:1};this.nF({tpb:!0}).forEach(function(la){Q.width * Q.height < la.width * la.height && (Q={width:la.width,height:la.height});});Q.height === (null === (T=this.SG.value) || void 0 === T?void 0:T.height) && Q.width === (null === (Z=this.SG.value) || void 0 === Z?void 0:Z.width) || this.SG.set(Q);};c.prototype.Ly=function(){var T,Z;!1;Z=this.wb.Daa(this);this.R3a(Z);null === (T=this.qb) || void 0 === T?void 0:T.Qw(Z);};c.prototype.IK=function(T){var Z,Q;!1;(0,G.ya)(this.qb,"ASE should be initialized");Q=this.wb.LY(T);Q?T === this.wb.ei?this.qb.Vx(Q,!0,!0) || this.ZY(Q,{}):null === (Z=this.qb) || void 0 === Z?void 0:Z.yl(T,Q,!1,!0):this.log.warn("onNextSegmentChanged: Next segment not found");};c.prototype.ZY=function(T,Z,Q){var la,sa,R,ha,wa;la=this;Q=void 0 === Q?!0:Q;!1;ha=this.wb.Be(T);if(this.Sj.eha && this.wb.ha.P === ha.P)return Promise.resolve(this.pf.seek(ha.Ba,P.Fd.ED,void 0));ha=this.El.VP(ha.P);Z=(0,M.Zca)(ha.Gb,Z);if(null === (sa=this.qb) || void 0 === sa || !sa.dj)throw (!1,Error("No streaming session"));!1;this.wI("Transition " + this.wb.ei + "->" + T);wa=this.Hj(T);wa.wo=this.Ia.Rb().ia(D.va);wa.lb=Z;return "seamless" !== (null !== (R=this.wb.Be(T).Ge) && void 0 !== R?R:"seamless") || Q?(this.qb.MY(T).QW?this.SZb(T,wa.L):this.f1(T,wa.L)).then(function(){la.XUb(wa.L);}):Promise.resolve();};c.prototype.f1=function(T,Z){var Q;Q=this.wb.hm.U[T].Ba;!1;this.wI("NO DATA " + T + ", SEEKING " + Q + ", viewableId: " + Z);return Promise.resolve(this.pf.seek(Q,P.Fd.ED,T,!0));};c.prototype.SZb=function(T,Z){var Q,la,sa,R,ha;Q=this;!1;la=this.qb;if(null === la || void 0 === la || !la.dj)throw Error("No streaming session");sa=new Promise(function(wa){function va(){!1;la.removeEventListener("stop",va);wa();}la.addEventListener("stop",va);});R=!1;ha=new Promise(function(wa){function va(Ya){!1;Q.removeEventListener(P.ka.pl,va);R=Ya.skip;wa();}function Ea(){!1;Q.removeEventListener(P.ka.rG,Ea);la.stop();}Q.addEventListener(P.ka.rG,Ea);Q.addEventListener(P.ka.pl,va);});sa=Promise.all([sa,ha]).then(function(){var wa;wa=!1;R && (wa=la.Vx(T,!1,!0));if(!wa)return (Q.wI("Seek forced - ASE chooseNextSegment failed. Likely ASE entered panic mode and chose a default segment."),Q.f1(T,Z));});ha=la.lX(T,this.wb.hm.U[T].Ba);!1;this.pf.seek(ha,P.Fd.QM,T,!0);return sa;};c.prototype.dpa=function(T,Z,Q){var la,sa,R,ha,wa,va,Ea;Z=void 0 === Z?this.MB.nB():Z;Q=void 0 === Q?this.Ia.Rb():Q;R=!!v.config.Qpb && !(Z % v.config.Qpb);ha=T.P;wa=T.S;va=T.lb;T=T.gj;if(this.js.has(ha))Z=this.js.get(ha);else {Z=this.n0(x.BD.index++,ha,wa,va,Z,Q,R,this.ha,this.Pva,T,this);this.js.set(ha,Z);1 < this.js.size && (Z.yQ=this.zQ.create(this,Z,!1));Z.KQ=new y.cQa(this,Z);Ea=null === T || void 0 === T?void 0:T.Ve;(Q=null === (sa=null === (la=this.ha.ba) || void 0 === la?void 0:la.wv) || void 0 === sa?void 0:sa.find(function(Ya){return Ya.Ra.L === ha && (void 0 === Ea || Ya.Ra.Ve === Ea);})) && this.Jea(Q,Z);1 < this.js.size && this.xk.Yaa(Z.L) && this.Oea(Z);}};c.prototype.Q3a=function(T,Z,Q){var la,sa,R,ha,wa,va,Ea,Ya;la=this;!1;va={Wba:!0,ji:!1,KS:Date.now()};(0,G.ya)(Z.Pl,"Auxiliary viewable config request options must have auxiliary options");Ea=Z.Pl;Z=Ea.Ve;Ea=Ea.Ph;Ya=null === (sa=this.Vn(Ea).ba) || void 0 === sa?void 0:sa.Ra;sa={Ve:Z,fBa:this.fh,Ph:Ea,f0:Ya};(0,G.ya)(null === (R=this.qb) || void 0 === R?void 0:R.hk,"If we have auxiliary viewables combined playgraph must exist");R=Object.keys(null === (wa=null === (ha=this.qb) || void 0 === ha?void 0:ha.hk) || void 0 === wa?void 0:wa.U).find(function(wb){var nb,zb;return (null === (zb=null === (nb=la.qb) || void 0 === nb?void 0:nb.hk) || void 0 === zb?void 0:zb.U[wb].P) === T;});(0,G.ya)(!!R,"Segment for the auxiliary viewable should exist in the combined playgraph");this.dpa({gj:sa,lb:va,S:R,P:T},Q);};c.prototype.wwa=function(T){return !!this.js.has(T);};c.prototype.W$a=function(T){try{return (this.Hj(T),!0);}catch(Z){return !1;}};c.prototype.Vn=function(T){if(T === za.Op)return this.ha;if(!this.js.has(T))throw Error("Playback segment not found: " + T);return this.js.get(T);};c.prototype.Hj=function(T){var Q,la,sa,R,ha,wa;function Z(va){for(var Ea=oa(Q.UK),Ya=Ea.next();!Ya.done;Ya=Ea.next()){if((Ya=Ya.value,Ya.S === va))return Ya;}}Q=this;wa=Z(T);return wa?wa:(null === (sa=null === (la=this.qb) || void 0 === la?void 0:la.hk) || void 0 === sa?0:sa.U[T]) && (la=null === (R=this.qb) || void 0 === R?void 0:R.hk.U[T].tc) && this.wb.fz(la)?(R=this.wb.Be(la).P,T=null === (ha=this.qb) || void 0 === ha?void 0:ha.hk.U[T].P,R === T && (wa=Z(la)),null !== wa && void 0 !== wa?wa:this.Vn(T)):this.ha;};c.prototype.vYb=function(T){for(var Z,Q,la=oa(this.UK),sa=la.next();!sa.done;sa=la.next()){if((sa=sa.value,(null === (Q=null === (Z=sa.We) || void 0 === Z?void 0:Z.Mb) || void 0 === Q?void 0:Q.sessionId) === T))return sa;}return this.ha;};c.prototype.Oea=function(T){var Z,Q;Z=this;!1;Q=T.L;this.El.ufc(Q);return this.l1(T).then(function(la){Z.Jea(la,T);la=T.hK?Z.Wb.Om.Ujb(T):Promise.resolve();Z.iac(T);return la.then(function(){return Z.El.qlb(Q);});}).catch(function(la){Z.log.error("queueManifest failed",la);Z.El.tfc(Q,la);throw Z.Si(la.code,la);});};c.prototype.ZVb=function(){if((0,K.Qa)(this.yd.ats) && (0,K.Qa)(this.yd.at))return this.yd.at - this.yd.ats;};c.prototype.j8a=function(){var T,Z;T=this.y2();Z=this.xW();return Math.min(T,Z);};c.prototype.mS=function(){this.background || (this.Uc.info("Starting inactivity monitor for movie " + this.L),new w.JNa(this));};c.prototype.close=function(T){T && (this.state.value == P.ic.CLOSED?T():this.addEventListener(P.ka.closed,function(){T();}));this.dFa();};c.prototype.Sd=function(T,Z,Q){T=this.Si(T,Z,Q);this.RI(T,void 0);};c.prototype.RI=function(T,Z){var Q,la,sa,R;Q=this;!1;(0,E.K3)(T.errorCode,T.Ca,this.Ia.Rb().Ga(this.nj).ia(D.va),null === (la=this.pf) || void 0 === la?void 0:la.my()) || this.yqa.add(this.za.lf,null === (sa=this.We) || void 0 === sa?void 0:sa.IP(),T.errorCode,T.Ca,T.Rf);T.Glb(this.Um);if(this.state.value == P.ic.FM)this.Ki || (this.Ki=T,this.load());else {Z && (this.state.value == P.ic.CLOSED?Z():this.addEventListener(P.ka.closed,function(){Z();}));la=function(){Q.dFa(T);};sa=v.config.S4a && T && v.config.S4a[T.errorCode];R=-1;(0,K.pQ)(sa) && (R=(0,L.Ak)(sa));this.Uc.error("Fatal playback error",{Error:"" + T,HandleDelay:"" + sa});0 <= R?setTimeout(la,R):la();}};c.prototype.wI=function(T){var Z;Z=void 0 === Z?this.S:Z;T=this.Ia.Rb().ia(D.va) + "-" + Z + "-" + T;!1;this.Vhb.push(T);};c.prototype.NUb=function(){this.j7a();};c.prototype.Fva=function(){var T;if(null === (T=this.qb) || void 0 === T?0:T.dj)if((T=this.qb.Wn().id,void 0 !== T))return T;return null;};c.prototype.lF=function(){var T,Z;Z=null === (T=this.qb) || void 0 === T?void 0:T.dj;return void 0 === this.ha.jX || Z?this.Pva(this.mediaTime.value):this.ha.jX;};c.prototype.Eva=function(){var T;T=this.Pva(this.pf.L8a());return null === T?null:Math.min(this.kB.ia(D.va),Math.max(0,T));};c.prototype.xY=function(){var T,Z;return null === (Z=null === (T=this.ba) || void 0 === T?void 0:T.Ra.So) || void 0 === Z?void 0:Z.U;};c.prototype.Xga=function(T){!1;this.lb=(0,M.Zca)(this.lb,T);this.Bpa();};c.prototype.jwa=function(T){return (null === T || void 0 === T?0:T.P)?T.P:(null === T || void 0 === T?0:T.tpb) && this.SI?this.SI.P === za.Op?(T=this.SI.dc) && this.qb && this.qb.hk?this.qb.hk.U[T].P:this.L:this.SI.P:this.L;};c.prototype.VVb=function(){var T;T=this.Vn(this.jwa(void 0)).Gc;return T.value?T.value.streams:[];};c.prototype.nF=function(T){return (T=this.Vn(this.jwa(T)).Uh) && T.value?T.value.streams:[];};c.prototype.Q$a=function(T){for(var Z=oa(this.UK),Q=Z.next();!Q.done;Q=Z.next()){if(Q=(Q=Q.value.th) && Q.find(function(la){return la.id === T;}))return Q;}!1;};c.prototype.iac=function(T){T=void 0 === T?this.ha:T;!1;T.Ob.value?this.Fp.fac(T.Ob.value):Promise.resolve();};c.prototype.N$a=function(T){for(var Z=oa(this.UK),Q=Z.next();!Q.done;Q=Z.next()){Q=oa(Q.value.Ej);for(var la=Q.next();!la.done;la=Q.next()){if(la=la.value.streams.find(function(sa){return sa.Tb === T;}))return la;}}!1;};c.prototype.bab=function(T){for(var Z=oa(this.UK),Q=Z.next();!Q.done;Q=Z.next()){Q=oa(Q.value.uz);for(var la=Q.next();!la.done;la=Q.next()){if(la=(la=la.value) && la.streams.find(function(sa){return sa.Tb === T;}))return la;}}!1;};c.prototype.D_b=function(T){for(var Z=oa(this.UK),Q=Z.next();!Q.done;Q=Z.next()){if(Q.value.fh === T)return !0;}return !1;};c.prototype.Cv=function(){var T,Z,Q;return null !== (Q=null === (Z=null === (T=this.rea) || void 0 === T?void 0:T.oX) || void 0 === Z?void 0:Z.call(T)) && void 0 !== Q?Q:this.cOb().cF;};c.prototype.Qlb=function(T){var Z,Q;null !== (Z=this.qb) && void 0 !== Z && Z.dj && this.js.has(T) && ((null === (Q=this.rea) || void 0 === Q?0:Q.oX)?this.rea.Oob():(Z=this.Wra(T),this.qb.Kw(Z,T)));};c.prototype.z2b=function(){return "trailer" === this.je;};c.prototype.F1b=function(){return !!this.je && 0 <= this.je.indexOf("billboard");};c.prototype.G2b=function(){return !!this.je && 0 <= this.je.indexOf("video-merch");};c.prototype.g2b=function(){return !!this.je && 0 <= this.je.indexOf("mini-modal");};c.prototype.nQ=function(){return this.z2b() || this.F1b() || this.G2b() || this.g2b();};c.prototype.kaa=function(){var T,Z,Q;Z={tpb:!0};if((null === (T=this.Vn(this.jwa(Z)).ba) || void 0 === T || !T.Ra.wxa) && this.uz){this.nF(Z).forEach(function(la){var sa,R;if((0,K.Qa)(la.Xra) && (0,K.Qa)(la.i4a) && (0,K.Qa)(la.h4a) && (0,K.Qa)(la.g4a) && (0 < la.Xra || 0 < la.i4a)){sa=1;R=1;(0,K.Qa)(la.Chb) && (0,K.Qa)(la.Dhb) && (sa=la.Chb,R=la.Dhb);sa=la.g4a * R / (la.h4a * sa);Q=(0,K.Qa)(Q)?0 < la.Xra?Math.max(Q,sa):Math.min(Q,sa):sa;}});return Q;}};c.prototype.SYb=function(){return {tr:this.XFa,rt:this.vDa};};c.prototype.FB=function(T){return this.vk[T];};c.prototype.Aqa=function(){return this.wo?this.Ia.Rb().ia(D.va) - this.wo:this.za.lf.ia(D.va) - this.AJ();};c.prototype.VW=function(){var T;if(this.wo)return this.Ia.Rb().ia(D.va) - this.wo;T=this.Ia.XB;return this.m0 - (this.nj.ia(D.va) + T.ia(D.va));};c.prototype.Eqa=function(){return this.wo?this.Ia.Rb().ia(D.va) - this.wo:this.m0 - this.AJ();};c.prototype.eWb=function(){var T,Z;T=this.loadTime;Z={};(0,L.zh)(this.Zpa,function(Q,la){Z[Q]=la.map(function(sa){return sa - T;});});return f.Sx?{level:f.Sx.n9a(),charging:f.Sx.Nua(),statuses:Z}:null;};c.prototype.Raa=function(){this.i7a();return this.lha;};c.prototype.AJ=function(){var T;T=this.lb.KS;T=(0,K.Qa)(T)?T:this.nj.ia(D.va) + this.Ia.XB.ia(D.va);(0,G.ya)((0,K.FF)(T));return T;};c.prototype.a$a=function(){return this.Ia.Rb().ia(D.va) - this.nj.ia(D.va);};c.prototype.Olc=function(){this.xgc=!0;};c.prototype.Fda=function(){this.xjb();};c.prototype.y2=function(){var T;T=this.s8();return T && T.vbuflmsec || 0;};c.prototype.xW=function(){var T;T=this.s8();return T && T.abuflmsec || 0;};c.prototype.QGa=function(){var T;T=this.s8();return T && T.vbuflbytes || 0;};c.prototype.Hpa=function(){var T;T=this.s8();return T && T.abuflbytes || 0;};c.prototype.l1=function(T,Z,Q){var la,sa,R,ha;la=this;T=void 0 === T?this.ha:T;Q=void 0 === Q?!0:Q;!1;sa=!!Z;R=!sa && T !== this.ha;ha=v.config.Mea.enabled?N.Lp.Zxb:R?N.Lp.JM:this.nQ()?N.Lp.C5:N.Lp.gr;sa=this.nQ() || sa || R?void 0:this.Wb.Om.uaa(R);return this.xk.JJ({sa:T.sa,lb:T.lb,P:T.L,hy:ha,Og:sa,Kga:Z,gj:T.gj},T.gj?!1:Q).then(function(wa){wa.Ixa && la.fireEvent(P.ka.TZ,{L:T.L});return wa;});};c.prototype.Jea=function(T,Z,Q){var la,sa,R;Z=void 0 === Z?this.ha:Z;Q=void 0 === Q?!1:Q;!1;if(Z.lb.ji && !T.Ra.So)this.Sd(E.aa.Crb);else {la=this.i_.create(this);sa=!!(Z.gj && Z.gj.Ve && Z.gj.f0);if(Q){R=la.o0b(Z.ba,Z.Rc,T);T=R.ba;R=R.Rc;}else (T=sa?la.iec(T,null === (R=Z.gj) || void 0 === R?void 0:R.f0):T,R=la.khb(T));Z.ba=T;Z.Rc=R;Q || (Z.Uh.set(R.N9),Z.Gc.set(R.yX),Z.Ob.set(R.AX));Z.Kd.ta && Z.Kd.Xac();}};c.prototype.XUb=function(T){var Z;Z=void 0 === Z?!1:Z;!1;this.qL({P:T,cK:Z});};c.prototype.R$a=function(T,Z){if(!this.Sj.NGa)return !0;T=this.ks.ia(D.va) - T;return 0 > T || T > Z;};c.prototype.Ndc=function(){!1;this.pf.seek(this.lF() || 0,P.Fd.M3);};c.prototype.vab=function(T,Z){var Q,la;Q=this;!1;la=this.ha;la.T9=!0;return this.l1(la,{fBa:la.fh,udc:T,xdc:Z},!1).then(function(sa){var R;Q.Jea(sa,la,!0);Q.xk.L1(la.L,la.ba);return null === (R=Q.qb) || void 0 === R?void 0:R.ZL(Q.Uhb);}).then(function(){var sa,R;sa=la.Ej.find(function(ha){return ha.trackId === T;});R=la.wi.find(function(ha){return ha.trackId === Z;});if(!(sa && sa.Mh && R && R.Mh))throw Error("Track hydration failed: requiredAudioTrackId=" + T + " requiredTextTrackId=" + Z);Q.fireEvent(P.ka.lob);return {Gc:sa,Z1:R};});};c.prototype.wq=function(){return this.wf;};c.prototype.qL=function(T){var Z,Q,la;Z=T.P;Q=T.cK;T=T.SI;!1;T !== this.SI && (this.SI=T,this.kpb());if(this.uR){if(Z === this.LE){this.uR=Z;return;}T=this.Vn(Z);la=T.ba;la && (0,K.xd)(la.gL) && (0,K.xd)(la.KR) && T.NB({pr_ats:la.gL,pr_at:la.KR});this.fireEvent(P.ka.mza,{L:this.LE});this.LE=Z;this.Bpa();Q || this.xkb();this.SB=this.za.sL;this.ha.wo || (this.ha.wo=this.Ia.Rb().ia(D.va));}("boolean" === typeof this.lb.kP?this.lb.kP:v.config.kP) && !Q && this.dGa.kP(this);Q={L:Z,cK:Q,uR:this.uR};this.uR=Z;this.fireEvent(P.ka.rK,Q);};c.prototype.RNb=function(){!1;try{this.Wb=new h.NPa(this);this.n9=new V.ZJa(this);this.yQ=this.zQ.create(this,this.ha,!0);v.config.VJb && new S.OLa(this,this.Qg,this.log);v.config.XW && this.XW(this);this.olc();}catch(T){this.ku(E.aa.ivb,{Ca:E.Y.ln,Ub:(0,L.mf)(T)});}};c.prototype.olc=function(){!1;this.Ki?this.RI(this.Ki):(0,K.Sxa)(this.L)?this.zKb():this.ku(E.aa.fvb,{Ub:"" + this.L});};c.prototype.zKb=function(){var T;!1;T=g.FL.jlb;T?T.ja?this.pra():this.ku(E.aa.DNa,T):((0,G.ya)(!v.config.l$),this.Noa());};c.prototype.pra=function(){var T;T=this;!this.background && v.config.pra?(0,x.bla)(function(){T.Noa();},this):this.Noa();};c.prototype.Noa=function(){var T;T=this;!1;this.state.value == P.ic.LOADING && (v.config.gta && !this.nQ()?g.FL.Kx(x.DSa,function(Z){Z.ja?(T.xca=Z.xca,T.R0a()):T.ku(E.aa.CNa);},!0):this.R0a());};c.prototype.R0a=function(){var T,Z,Q;T=this;if(this.state.value == P.ic.LOADING){this.log.info("Authorizing",this);Z=this.Ia.Rb().ia(D.va);this.Ze("ats");(0,G.UO)(this.L);(0,G.UO)(this.Dl);Q=this.cbc.bind(this,Z);Promise.all([this.ba,v.config.iu && this.xk.Yaa(this.L)?this.xk.gaa(this.L).catch(function(){}):void 0]).then(function(la){var sa,R;sa=oa(la);la=sa.next().value;sa=sa.next().value;la && sa?R=sa.Ra.expiration > la.Ra.expiration?sa:la:la?R=la:sa && (R=sa);R && 18E5 > R.Ra.expiration - (0,Aa.e9)() && (R=void 0);return R?(T.KI=R === la?"ui":"videopreparer",R):T.l1();}).then(function(la){try{T.Jea(la);Q(p.mh);T.Mhb || (T.Mhb=!0,T.uBa.zl(T));}catch(sa){T.log.error("Exception processing authorization response",sa);Q({ja:!1,Ca:E.Y.Kxb});}}).catch(Q);}};c.prototype.cbc=function(T,Z){var Q,la;Q=this;!1;if(this.state.value == P.ic.LOADING){this.Ze("at");la=this.ba;this.NB({pr_ats:la && (0,K.xd)(la.gL)?la.gL:T,pr_at:la && (0,K.xd)(la.KR)?la.KR:this.Ia.Rb().ia(D.va)});Z.ja?0 < this.Rc.th.length && this.Rc.yX && this.Rc.N9 && this.Rc.AX?this.Zhb?(this.log.info("Processing post-authorize",this),this.Zhb(this,function(sa){sa.ja?Q.Tob():Q.ku(E.aa.mvb,sa);})):this.Tob():this.ku(E.aa.ePa,this.nza(this.Rc)):this.ku(E.aa.AM,Z);}};c.prototype.Tob=function(){var T,Z;l.__awaiter(this,void 0,void 0,function la(){var sa;sa=this;return Ka(la,function(R){!1;if(sa.state.value != P.ic.LOADING)return R.return();(null === (T=sa.ha.ba) || void 0 === T?0:T.Ra.So) && sa.wb.reset((0,za.Z8)(null === (Z=sa.ha.ba) || void 0 === Z?void 0:Z.Ra.So,{config:v.config}));sa.qb=sa.Epa(sa.wb,sa);sa.qb.Yfc({Fr:d.Fr,config:v.config,Re:sa.Re,Uc:sa.Uc,kw:sa.kw.bind(sa),lk:C.lk,q1:sa.q1.bind(sa),qL:sa.qL.bind(sa)});sa.V$b();R.YF=0;});});};c.prototype.UOb=function(){var T,Z,Q,la,sa,R,ha;T=this;!1;try{if(this.state.value === P.ic.LOADING){this.Wb.open();Z=new Promise(function(wa){T.Wb.addEventListener(H.Ik.wmb,wa);});this.pf=new I.WPa(this);Q=this.Rc.yX.Vi === U.hr.NONE;la={D2:this.Rc.yX.Fq || Q};sa={sa:this.sa,Ap:this.og,ay:this.ay};try{if(this.state.value !== P.ic.LOADING)return;R=this.qb;R.Eba({flags:la,k4a:sa,S:this.Uhb,Wra:this.Wra.bind(this)});ha=this.wb.Daa(this);this.R3a(ha);R.Qw(ha);this.eGb();R.zIb({vk:this.vk,loadTime:this.loadTime});this.wf=this.Toa(R,this);this.wf.Dn.addListener(function(wa){wa.newValue?(T.Fp.S_b(),v.config.iu && T.Dd.J$a()):T.Fp.zgc();});this.wf.addEventListener(P.Z2.nE,function(){T.Dd.J$a();});}catch(wa){throw (this.log.error("Failed to initialize ASE streaming",{error:wa,startPts:this.ca,flags:la}),wa);}Z.then(function(){var wa;T.state.value !== P.ic.CLOSING && T.state.value !== P.ic.CLOSED && (null === (wa=T.qb) || void 0 === wa?void 0:wa.open());});this.mediaTime.set(this.ca);this.Fp=new k.LVa(this);if("boolean" === typeof this.lb.dfa?this.lb.dfa:v.config.dfa)this.e2=new B.MVa(this);this.mS();x.dla.forEach(function(wa){wa(T);});this.j7b();}}catch(wa){this.ku(E.aa.kvb,{Ca:E.Y.ln,Ub:(0,L.mf)(wa)});}};c.prototype.k7b=function(){(0,G.ya)(this.state.value == P.ic.FM);this.loadTime=this.Ia.Rb().ia(D.va);this.state.set(P.ic.LOADING);};c.prototype.ku=function(T,Z){this.done || (this.done=!0,Z instanceof W.rd?this.Sd(Z.code,Z):this.Sd(T,Z));};c.prototype.XW=function(T){var Q,la;function Z(){var sa,R;sa=f.Sx.Nua() + "";R=T.Zpa[sa];R || (R=T.Zpa[sa]=[]);R.push(Q.Ia.Rb().ia(D.va));Q.log.trace("charging change event",{level:f.Sx.n9a(),charging:f.Sx.Nua()});}Q=this;la=f.Sx.ksb;f.Sx.addEventListener(la,Z);T.addEventListener(P.ka.uh,function(){f.Sx.removeEventListener(la,Z);});};c.prototype.dFa=function(T){var Z,Q;Z=this;if(this.state.value == P.ic.FM || this.state.value == P.ic.LOADING || this.state.value == P.ic.Se){this.Uc.info("Playback closing",this,T?{ErrorCode:T.V9}:void 0);this.wI("Closing");u.Xe.removeListener(u.Lm,this.N_);this.Ki=T;this.ha.jX=this.lF();this.i7a();(null === (Q=this.qb) || void 0 === Q?0:Q.dj) && this.qb.flush();try{this.Pb.Zc(P.ka.uh,{movieId:this.LE});}catch(la){this.Uc.error("Unable to fire playback closing event",la);}this.state.set(P.ic.CLOSING);this.Oqb();this.xgc || (0,O.Lg)(function(){return Z.xjb();});}};c.prototype.AUb=function(){this.Pb.Zc(P.ka.Mob);};c.prototype.j7a=function(){var T;T=this.mediaTime.value;this.o3b != T && (!1,this.o3b=T,this.Pb.Zc(P.ka.NFa));};c.prototype.xjb=function(){var T,Z;T=this;(0,G.ya)(this.state.value == P.ic.CLOSING);Z=this.xca;this.xca=void 0;Z?g.FL.release(Z,function(Q){(0,G.ya)(Q.ja);T.xra();}):this.xra();};c.prototype.Oqb=function(){var T;null === (T=this.qb) || void 0 === T?void 0:T.ud();delete this.qb;};c.prototype.xra=function(){var T;this.xra=p.Wz;(0,G.ya)(this.state.value == P.ic.CLOSING);T=x.Pp.indexOf(this);(0,G.ya)(0 <= T);x.Pp.splice(T,1);this.state.set(P.ic.CLOSED);this.Pb.Zc(P.ka.closed,void 0,!0);this.Pb.Ji();delete this.We;this.ha.Fda();};c.prototype.Bpa=function(){this.lb.playbackState && ("number" === typeof this.lb.playbackState.volume && this.volume.set((0,F.AD)(this.lb.playbackState.volume,0,1)),"boolean" === typeof this.lb.playbackState.muted && this.muted.set(this.lb.playbackState.muted),"number" === typeof this.lb.playbackState.playbackRate && this.playbackRate.set(this.lb.playbackState.playbackRate));};c.prototype.i7a=function(){this.Pb.Zc(P.ka.dmb,{lha:this.lha});};c.prototype.q1=function(T,Z,Q){Z=this.Q$a(Z);T=this.Hj(T);Z && T.Cc[Q].set(Z);};c.prototype.kw=function(){return {AudioBufferLength:this.xW(),VideoBufferLength:this.y2()};};c.prototype.s8=function(){var T;if(null === (T=this.qb) || void 0 === T?0:T.dj)return this.qb.uxa(!1);};c.prototype.j7b=function(){this.state.value == P.ic.LOADING && this.state.set(P.ic.Se);};c.prototype.cOb=function(){var T,Z,Q;T=void 0 === T?this.L:T;Z=this.nF({P:T});Q=this.Vn(T);return (0,fa.Cv)(Z,function(la){return Q.KQ.OC(la);});};c.prototype.Wra=function(T){var Z,Q;T=void 0 === T?this.L:T;Z=this.nF({P:T});Q=this.Vn(T);return (0,fa.A$a)(Z,function(la){return Q.KQ.OC(la);});};c.prototype.R3a=function(T){var Z;Z=this;Object.keys(T.U).filter(function(Q){return !Z.js.has(T.U[Q].P);}).forEach(function(Q){var la,sa,R;sa=T.U[Q];R=sa.P;sa=Object.assign(null !== (la=Z.El.VP(R).Gb) && void 0 !== la?la:{},{ca:sa.Ba,Ta:sa.Aa,ji:!1,KS:Date.now(),Wba:!0});Z.dpa({P:R,S:Q,lb:sa});});};Va.Object.defineProperties(c.prototype,{UK:{configurable:!0,enumerable:!0,get:function(){return this.js.values();}},ha:{configurable:!0,enumerable:!0,get:function(){return this.js.get(this.LE);}},ca:{configurable:!0,enumerable:!0,get:function(){var T,Z;return void 0 !== this.Gn?this.Gn:null !== (Z=null === (T=this.UK.next()) || void 0 === T?void 0:T.value.lb.ca) && void 0 !== Z?Z:0;}},Rc:{configurable:!0,enumerable:!0,get:function(){return this.ha.Rc;},set:function(T){this.ha.Rc=T;}},Q$:{configurable:!0,enumerable:!0,get:function(){return this.ha.lb.Q$;}},R$:{configurable:!0,enumerable:!0,get:function(){return this.ha.lb.R$;}},index:{configurable:!0,enumerable:!0,get:function(){return this.ha.index;}},S:{configurable:!0,enumerable:!0,get:function(){return this.ha.S;}},Uhb:{configurable:!0,enumerable:!0,get:function(){return this.wb.OGa?this.wb.ei:this.ha.S;}},We:{configurable:!0,enumerable:!0,get:function(){return this.ha.We;},set:function(T){this.ha.We=T;}},wo:{configurable:!0,enumerable:!0,get:function(){return this.ha.wo;},set:function(T){this.ha.wo=T;}},KI:{configurable:!0,enumerable:!0,get:function(){return this.ha.KI;},set:function(T){this.ha.KI=T;}},JI:{configurable:!0,enumerable:!0,get:function(){return this.ha.JI;},set:function(T){this.ha.JI=T;}},Dba:{configurable:!0,enumerable:!0,get:function(){return this.ha.Dba;},set:function(T){this.ha.Dba=T;}},ba:{configurable:!0,enumerable:!0,get:function(){return this.ha.ba;},set:function(T){this.ha.ba=T;}},Gn:{configurable:!0,enumerable:!0,get:function(){return this.ha.Gn;},set:function(T){this.ha.Gn=T;}},U1:{configurable:!0,enumerable:!0,get:function(){return this.ha.U1;},set:function(T){this.ha.U1=T;}},lb:{configurable:!0,enumerable:!0,get:function(){return this.ha.lb;},set:function(T){this.ha.lb=T;}},yQ:{configurable:!0,enumerable:!0,get:function(){return this.ha.yQ;},set:function(T){this.ha.yQ=T;}},Tm:{configurable:!0,enumerable:!0,get:function(){return this.ha.Tm;}},L:{configurable:!0,enumerable:!0,get:function(){return this.ha.L;}},je:{configurable:!0,enumerable:!0,get:function(){return this.ha.je;}},Ej:{configurable:!0,enumerable:!0,get:function(){return this.ha.Ej;}},uz:{configurable:!0,enumerable:!0,get:function(){return this.ha.uz;}},YC:{configurable:!0,enumerable:!0,get:function(){return this.ha.YC;}},wi:{configurable:!0,enumerable:!0,get:function(){return this.ha.wi;}},fh:{configurable:!0,enumerable:!0,get:function(){return this.ha.fh;}},hK:{configurable:!0,enumerable:!0,get:function(){return this.ha.hK;}},Bw:{configurable:!0,enumerable:!0,get:function(){return this.ha.Bw;}},Hm:{configurable:!0,enumerable:!0,get:function(){return this.ha.Hm;}},th:{configurable:!0,enumerable:!0,get:function(){return this.ha.th;}},kB:{configurable:!0,enumerable:!0,get:function(){return this.ha.kB;},set:function(T){this.ha.kB=T;}},sa:{configurable:!0,enumerable:!0,get:function(){return this.ha.sa;}},Dl:{configurable:!0,enumerable:!0,get:function(){return this.ha.Dl;}},nj:{configurable:!0,enumerable:!0,get:function(){return this.ha.nj;}},SB:{configurable:!0,enumerable:!0,get:function(){return this.ha.SB;},set:function(T){this.ha.SB=T;}},og:{configurable:!0,enumerable:!0,get:function(){return this.ha.og;}},uL:{configurable:!0,enumerable:!0,get:function(){return this.ha.uL;}},background:{configurable:!0,enumerable:!0,get:function(){return this.ha.background;},set:function(T){this.ha.background=T;}},rX:{configurable:!0,enumerable:!0,get:function(){return this.ha.rX;}},yd:{configurable:!0,enumerable:!0,get:function(){return this.ha.yd;}},Ir:{configurable:!0,enumerable:!0,get:function(){return this.ha.Ir;}},Rsa:{configurable:!0,enumerable:!0,get:function(){return this.ha.Rsa;}},KQ:{configurable:!0,enumerable:!0,get:function(){return this.ha.KQ;}},ay:{configurable:!0,enumerable:!0,get:function(){return 0 !== v.config.Z9 && 0 === this.ha.sa % v.config.Z9;}},T9:{configurable:!0,enumerable:!0,get:function(){return this.ha.T9;}},Kd:{configurable:!0,enumerable:!0,get:function(){return this.ha.Kd;}},esa:{configurable:!0,enumerable:!0,get:function(){return this.muted.value?0:Math.round(100 * this.volume.value) / 100;}},Bh:{configurable:!0,enumerable:!0,get:function(){return {MovieId:this.L,TrackingId:this.Dl,Xid:this.sa};}},xea:{configurable:!0,enumerable:!0,get:function(){return this.wb.xea;}}});b.JSa=c;},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});b.Qmb=void 0;c=a(17);l=a(9);g=a(4);a(23);b.Qmb=function(m){var d;(0,l.lk)("Storage");d={};m({ja:!0,storage:{load:function(f,h){var k;if(d.hasOwnProperty(f)){k=d[f];!1;h({ja:!0,data:k,nga:f});}else (!1,h({Ca:g.Y.cA}));},save:function(f,h,k,n){k && d.hasOwnProperty(f)?n({ja:!1}):(d[f]=h,!1,n && n({ja:!0,nga:f}));},remove:function(f,h){delete d[f];!1;h && h(c.mh);}}});};},function(r,b,a){var c,l,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.Omb=void 0;c=a(9);l=a(83);g=a(30);m=a(572);b.Omb=function(d){c.Ha.get(l.Az).create().then(function(f){d({ja:!0,storage:new m.Rja(f,c.Ha.get(g.Di))});}).catch(function(f){d(f);});};},function(r,b){function a(c,l){this.Ox=c;this.Re=l;}Object.defineProperty(b,"__esModule",{value:!0});b.Rja=void 0;a.prototype.load=function(c,l){var g;g=this;this.Ox.load(c).then(function(m){l && l(a.hnb(m));}).catch(function(m){l && l(g.mta(c,m));});};a.prototype.save=function(c,l,g,m){var d;d=this;this.Ox.save(c,l,g).then(function(){m && m(a.hnb({key:c,value:l}));}).catch(function(f){m && m(d.mta(c,f));});};a.prototype.remove=function(c,l){var g;g=this;this.Ox.remove(c).then(function(){l && l({ja:!0,nga:c});}).catch(function(m){l && l(g.mta(c,m));});};a.hnb=function(c){return {ja:!0,data:c.value,nga:c.key};};a.prototype.mta=function(c,l){return {ja:!1,nga:c,Ca:l.Ca,Ub:l.cause?this.Re.mf(l.cause):void 0};};b.Rja=a;},function(r,b,a){var c,l,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.Pmb=void 0;c=a(572);l=a(9);g=a(497);m=a(30);b.Pmb=function(d){d({ja:!0,storage:new c.Rja(l.Ha.get(g.HOa),l.Ha.get(m.Di))});};},function(r,b,a){var c,l,g,m,d,f,h,k,n;Object.defineProperty(b,"__esModule",{value:!0});b.Sx=void 0;c=a(17);l=a(19);r=a(4);g=a(9);m=a(14);d=a(34);f=a(15);h=a(63);k=a(5);a=g.Ha.get(d.uj);n=g.Ha.get(h.CD);a.register(r.aa.oNa,function(p){var w,u;function q(){p(c.mh);q=c.Wz;}function v(x){if(!(x instanceof EventTarget))throw "batteryManager is not an instaceof EventTarget";["addEventListener","removeEventListener"].forEach(function(y){if(!(0,f.qd)(x[y]))throw y + " is not a function";});}function t(){return Promise.resolve().then(function(){var x;x=m.ff.getBattery();if(!(0,f.qd)(x.then))throw "getBattery did not return a promise";return x;});}w=(0,g.lk)("BatteryManager");b.Sx={ksb:"chargingchange",n9a:function(){return u?u.level:null;},Nua:function(){return u?u.charging:null;},addEventListener:function(x,y){u && u.addEventListener(x,y);},removeEventListener:function(x,y){u && u.removeEventListener(x,y);}};l.config.XW && (0,f.qd)(m.ff.getBattery)?n.xs((0,k.$b)(l.config.dWb),t()).then(function(x){v(x);u=x;}).catch(function(x){w.error("getBattery failed",x);}).then(q):q();});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tOa="LicenseBrokerFactorySymbol";},function(r,b){function a(c,l){var g;g=this;this.D9a=c;this.sgb=l;this.VFa=!1;this.eR=function(){g.vo=void 0;g.update();};}Object.defineProperty(b,"__esModule",{value:!0});b.OVa=void 0;a.prototype.update=function(c){var l,g,m,d,f;m=this.D9a();if(this.npb !== m){d=null === (g=null === (l=this.f_) || void 0 === l?void 0:l.EJ(m)) || void 0 === g?void 0:g[0];if(d && ("startTime" in d))if(d.startTime <= m && m <= d.endTime){f=d;this.$ob(d.endTime - m);}else this.$ob(d.startTime - m);this.npb=m;this.Qoa !== f && (this.Qoa=f,!c && this.sgb && this.sgb());}};a.prototype.start=function(){this.VFa=!0;this.update();};a.prototype.Alb=function(c){this.f_=c;this.Qoa=this.npb=void 0;c || this.stop();};a.prototype.stop=function(){this.VFa=!1;this.Ds();};a.prototype.IVb=function(){this.update(!0);return this.Qoa;};a.prototype.$ob=function(c){this.Ds();this.VFa && 0 < c && (this.vo=setTimeout(this.eR,c + a.uwb));};a.prototype.Ds=function(){this.vo && (clearTimeout(this.vo),this.vo=void 0);};b.OVa=a;a.uwb=10;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.cNa=void 0;c=a(16);l=a(107);b.cNa=function(g){function m(d){g.fireEvent(c.ka.uB,{response:d,L:g.ha.L});}return {download:function(d,f){d.j=g;d=l.Bf.download(d,f);d.T7(m);return d;}};};},function(r,b,a){var c,l,g,m,d,f,h,k,n;Object.defineProperty(b,"__esModule",{value:!0});b.JNa=void 0;c=a(19);l=a(62);g=a(4);m=a(579);d=a(14);f=a(15);h=a(16);k=a(9);n=a(235);b.JNa=function(p){var v,t,w,u;function q(){p.state.value !== h.ic.Se || p.Db.value !== h.nb.aj && p.Db.value !== h.nb.Ks?t.Ds():t.XE();}v=c.config.P9b;if(!p.nQ() && v){t=k.Ha.get(n.GU)(v,function(){p.fireEvent(h.ka.bQ,g.aa.e5);});p.Db.addListener(q);p.state.addListener(q);if(c.config.Xwa){w=(0,l.Uo)();u=new m.WTa(c.config.Xwa,function(){var x,y;x=(0,l.Uo)();y=x - w;y > v && (p.fireEvent(h.ka.bQ,g.aa.L4),u.E2a());y > 2 * c.config.Xwa && (p.Ywa=(0,d.Xu)(y,p.Ywa || 0));w=x;});u.Sfc();}p.addEventListener(h.ka.uh,function(){t.Ds();(0,f.xd)(u) && u.E2a();});}};},function(r,b){function a(c,l){this.TFa=c;this.py=l;}Object.defineProperty(b,"__esModule",{value:!0});b.WTa=void 0;a.prototype.Sfc=function(){this.F7 || (this.F7=setInterval(this.py,this.TFa));};a.prototype.E2a=function(){this.F7 && (clearInterval(this.F7),this.F7=void 0);};b.WTa=a;},function(r,b,a){var l,g,m,d,f,h,k;function c(n){var p,q,v,t;p=this;this.j=n;this.oX=void 0;this.Vma=(0,g.createElement)("DIV","position:fixed;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace;z-index:9999",void 0,{"class":"player-streams"});this.Fma=(0,g.createElement)("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");this.wma=(0,g.createElement)("DIV","width:100%;text-align:center");this.Izb=this.Hma("Audio Bitrate");this.Hoa=this.Hma("Video Bitrate / VMAF");this.zma=this.Hma("CDN");this.CV={};this.XY=m.Ha.get(d.Jp);this.Vma.appendChild(this.Fma);this.Fma.appendChild(this.wma);q=(0,g.createElement)("BUTTON",void 0,"Override");q.addEventListener("click",this.Czb.bind(this),!1);this.wma.appendChild(q);q=(0,g.createElement)("BUTTON",void 0,"Reset");q.addEventListener("click",this.loa.bind(this),!1);this.wma.appendChild(q);v=this.iDb.bind(this);l.Xe.addListener(l.qF,v);n.addEventListener(h.ka.rK,function(){p.CV={};});n.addEventListener(h.ka.uh,function(){l.Xe.removeListener(l.qF,v);});t=this.ODb.bind(this);n.Cc.forEach(function(w){w.addListener(t);});n.Gc.addListener(t);n.Uh.addListener(t);}Object.defineProperty(b,"__esModule",{value:!0});b.QSa=void 0;l=a(58);g=a(44);m=a(9);d=a(39);f=a(205);h=a(16);k=a(48);c.prototype.show=function(){this.cW || (this.tZa(),document.body.appendChild(this.Vma),this.cW=!0);};c.prototype.ry=function(){this.cW && (document.body.removeChild(this.Vma),this.cW=!1);};c.prototype.toggle=function(){this.cW?this.ry():this.show();};c.prototype.Oob=function(){var q,v,t,w;function n(u,x,y){var z,B,A;B=[];x.filter(function(C){return C.kf === u;}).forEach(function(C){0 <= y.indexOf(C)?(void 0 === A?A=C.bitrate:z=C.bitrate,void 0 === z && (z=C.bitrate)):void 0 !== A && void 0 !== z && (B.push({min:A,max:z}),A=z=void 0);});if(void 0 !== A && void 0 !== z){B.push({min:A,max:z});A=z=void 0;}return B;}function p(u,x,y){var z;z=[];x.filter(function(B){return B.kf === u;}).forEach(function(B){-1 === y.indexOf(B) && z.push({stream:{bitrate:B.bitrate},disallowedBy:["manual"]});});return z;}v=this.j.Cv();t=this.j.nF().sort(function(u,x){return u.bitrate - x.bitrate;});w=t.reduce(function(u,x){0 > u.indexOf(x.kf) && u.push(x.kf);return u;},[]).map(function(u){return {profile:u,ranges:n(u,t,v),disallowed:p(u,t,v)};});!1;null === (q=this.j.qb) || void 0 === q?void 0:q.Kw(w,this.j.L);};c.prototype.Czb=function(){var q,v;this.CV={};for(var n=this.Hoa.options,p=n.length;p--;){q=n[p];q.selected && (this.CV[q.value]=1);}this.oX=this.eAb.bind(this);this.Oob();if(n=this.j.th){v=this.zma.value;n=n.filter(function(t){return t.id == v;})[0];p=this.j.Cc[k.u.J].value;n && n != p && (n.$1a={testreason:"streammanager",selreason:"userselection"},this.j.Cc[k.u.J].set(n));}this.ry();};c.prototype.loa=function(){this.oX=void 0;this.j.Qlb(this.j.L);this.ry();};c.prototype.eAb=function(){var n;n=this;return this.j.nF().filter(function(p){return n.CV[p.bitrate];});};c.prototype.tZa=function(){var n,p,q,v;n=this;p=this.j.Gc.value;q=this.j.Uh.value;v=this.j.th;p && (v=v.slice(),v.sort(function(t,w){return t.vc - w.vc;}),this.qoa(this.Izb,p.streams.map(function(t){return {value:t.bitrate,caption:t.bitrate,selected:t == n.j.bi.value};})));q && (this.qoa(this.Hoa,q.streams.map(function(t){var w,u,x;w=n.j.KQ.OC(t);u=t.bitrate;t=t.gb;x="" + u;t && (x+=" / " + t);w && (x+=" (" + w.join("|") + ")");return {value:u,caption:x,selected:n.oX?n.CV[u]:!w};})),this.Hoa.removeAttribute("disabled"));v && (this.qoa(this.zma,v.map(function(t){return {value:t.id,caption:"[" + t.id + "] " + t.name,selected:t == n.j.Cc[k.u.J].value};})),this.zma.removeAttribute("disabled"));};c.prototype.ODb=function(){this.cW && this.tZa();};c.prototype.Hma=function(n){var p,q;p=(0,g.createElement)("DIV","display:inline-block;vertical-align:top;margin:5px;");n=(0,g.createElement)("DIV",void 0,n);q=(0,g.createElement)("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});p.appendChild(n);p.appendChild(q);this.Fma.appendChild(p);return q;};c.prototype.qoa=function(n,p){n.innerHTML="";p.forEach(function(q){var v;v={title:q.caption};q.selected && (v.selected="selected");v=(0,g.createElement)("option",void 0,q.caption,v);v.value=q.value;n.appendChild(v);});};c.prototype.iDb=function(n){n.ctrlKey && n.altKey && n.shiftKey && n.keyCode == f.uD.hyb && this.XY.Zxa && this.toggle();};b.QSa=c;},function(r,b,a){var l,g,m,d,f;function c(h,k){this.N$=h;this.mJ={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=(0,l.createElement)("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return !1;};this.slb(k);this.iua=this.V8a(this.N$);}Object.defineProperty(b,"__esModule",{value:!0});b.KVa=void 0;l=a(44);g=a(582);m=a(583);d=a(14);f=a(23);c.prototype.kp=function(){return this.element;};c.prototype.ffc=function(h){this.Px=h;};c.prototype.rfc=function(h){this.entry=h;this.IR();};c.prototype.xfc=function(h){this.slb(h);this.IR();};c.prototype.IR=function(){var h,k,n,p,q,v,t,w,u,x,y,B,A,C;h=this;k=this.kp();n=k.parentElement;p=n && n.clientWidth || 0;q=n && n.clientHeight || 0;v=n=0;t={width:p,height:q};if(0 < p && 0 < q && this.entry){this.Px && (t=(0,l.M$)(p,q,this.Px),n=Math.round((p - t.width) / 2),v=Math.round((q - t.height) / 2));u=this.FJb(t);x=(0,l.M$)(u.width,u.height,this.Px);u=(w=this.entry.blocks) && w.map(function(D){var E;E=(0,m.ita)(D,x,h.N$,h.iua);D=(0,m.t6a)(D) + ";position:absolute";return (0,l.createElement)("div",D,E,c.Fia);});}Object.assign(this.mJ,{left:n + "px",right:n + "px",top:v + "px",bottom:v + "px"});k.style.display="none";k.style.direction=this.mJ.direction;k.innerHTML="";if(u && u.length){p=t.width;n=t.height;y=t;this.NW && (y=this.pFb(t,this.NW,q,v));this.mJ.margin=this.Zt?this.V8(t,"top") + "px " + this.V8(t,"right") + "px " + this.V8(t,"bottom") + "px " + this.V8(t,"left") + "px ":void 0;u.forEach(function(D){return k.appendChild(D);});q=(0,l.nX)(this.mJ);k.style.cssText=q + ";visibility:hidden;z-index:-1";v=[];for(var z=u.length - 1;0 <= z;z--){B=u[z];A=w[z];C=this.Rfb(B,A,p,n);C.width > p && (B.innerHTML=(0,m.ita)(A,t,this.N$,this.iua,p / C.width),C=this.Rfb(B,A,p,n));v[z]=C;}v=(0,g.Fob)(v,y);if(z=w && w[0] && w[0].textNodes && w[0].textNodes[0] && w[0].textNodes[0].style)(y=z.windowColor,z=z.windowOpacity,y && 0 < z && (B=Math.round(n / 50),t=(0,m.v6a)(w,v,B,y,t),t=(0,l.createElement)("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:" + z,t,c.Fia),k.insertBefore(t,k.firstChild)));k.style.display="none";for(t=v.length - 1;0 <= t;t--){z=v[t];y=u[t].style;B=w[t].region;z=(0,m.u6a)(B,z,p,n,0);Object.assign(y,z);}k.style.cssText=q;}};c.prototype.DEa=function(h){this.NW=h;this.IR();};c.prototype.dwa=function(){return this.NW;};c.prototype.EEa=function(h){this.Zt=h;this.IR();};c.prototype.ewa=function(){return this.Zt;};c.prototype.fwa=function(){return "block" === this.mJ.display;};c.prototype.FEa=function(h){var k;k=h?"block":"none";this.element.style.display=k;this.mJ.display=k;h && this.IR();};c.prototype.gkc=function(h){this.N$=h;this.iua=this.V8a(h);};c.prototype.V8a=function(h){var k,n;k=this;n={};(0,f.zh)(h,function(p,q){n[p]=k.I5b(q);});return n;};c.prototype.slb=function(h){this.mJ.direction="boolean" === typeof h?h?"ltr":"rtl":"inherit";};c.prototype.V8=function(h,k){if(this.Zt){if("left" === k || "right" === k)return h.width * (this.Zt[k] || 0);if("top" === k || "bottom" === k)return h.height * (this.Zt[k] || 0);}return 0;};c.prototype.FJb=function(h){return this.Zt?{height:h.height * (1 - (this.Zt.top || 0) - (this.Zt.bottom || 0)),width:h.width * (1 - (this.Zt.left || 0) - (this.Zt.right || 0))}:h;};c.prototype.I5b=function(h){var k;h="display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;" + h + ";";h=(0,l.createElement)("DIV",h,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",c.Fia);d.Xh.body.appendChild(h);k={fontSize:1E3,height:h.clientHeight,width:h.clientWidth / 52,lineHeight:h.clientHeight / 1E3};d.Xh.body.removeChild(h);return k;};c.prototype.Rfb=function(h,k,n,p){var q,v,t,w,u;q=k.region;v=(q.marginTop || 0) * p;t=(q.marginBottom || 0) * p;w=(q.marginLeft || 0) * n;u=(q.marginRight || 0) * n;k=h.clientWidth || 1;h=h.clientHeight || 1;switch(q.verticalAlignment){case "top":p=v;break;case "center":p=(v + p - t - h) / 2;break;default:p=p - t - h;}switch(q.horizontalAlignment){case "left":n=w;break;case "right":n=n - u - k;break;default:n=(w + n - u - k) / 2;}return {top:p,left:n,width:k,height:h};};c.prototype.pFb=function(h,k,n,p){return {height:n - Math.max(p,k.bottom || 0) - Math.max(p,k.top || 0),width:h.width};};b.KVa=c;c.Fia={"class":"player-timedtext-text-container"};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.Fob=void 0;c=a(14);b.Fob=function(l,g){function m(h,k,n){var t,u,x,y,z;if(h && 1 < h.length){for(var p=[],q=[],v=0;v < h.length;v++){p[v]=0;q[v]=0;}t=!1;for(v=0;v < h.length;v++){for(var w=v + 1;w < h.length;w++){u=h[v];x=h[w];if(0 > u.width || 0 > x.width || x.left > u.left + u.width || x.left + x.width < u.left || x.top > u.top + u.height?0:x.top + x.height >= u.top){y=(0,c.Xu)(u.left,x.left);z=(0,c.Xu)(u.top,x.top);y={width:(0,c.Xu)((0,c.Rz)(u.left + u.width,x.left + x.width) - y,0),height:(0,c.Xu)((0,c.Rz)(u.top + u.height,x.top + x.height) - z,0),x:y,y:z};}else y=void 0;if(y && 1 < y.width && 1 < y.height)if((z=y.width <= y.height,u=d(h[v]),x=d(h[w]),z && k || !z && !k))(y=(0,c.Xu)(y.width / 2,.25),u.x <= x.x?(q[v]-=y,q[w]+=y):(q[w]-=y,q[v]+=y));else if(z && !k || !z && k)(u=(0,c.Xu)(y.height / 2,.25),p[v]-=u,p[w]+=u);}}for(v=0;v < h.length;v++){if(-.25 > q[v] && 0 <= h[v].left + q[v] || .25 < q[v] && h[v].left + h[v].width + q[v] <= n.width)(h[v].left+=q[v],t=!0);if(-.25 > p[v] && 0 <= h[v].top + p[v] || .25 < p[v] && h[v].top + h[v].height + p[v] <= n.height)(h[v].top+=p[v],t=!0);}return t;}}function d(h){return {x:h.left + h.width / 2,y:h.top + h.height / 2};}l=l.map(function(h){return {top:h.top,left:h.left,width:h.width,height:h.height};});(function(h,k){h.forEach(function(n){0 > n.left && n.left + n.width < k.width?n.left+=(0,c.Rz)(-n.left,k.width - (n.left + n.width)):n.left + n.width > k.width && 0 < n.left && (n.left-=(0,c.Rz)(n.left + n.width - k.width,n.left));0 > n.top && n.top + n.height < k.height?n.top+=(0,c.Rz)(-n.top,k.height - (n.top + n.height)):n.top + n.height > k.height && 0 < n.top && (n.top-=(0,c.Rz)(n.top + n.height - k.height,n.top));});})(l,g);for(var f=0;50 > f && m(l,!0,g);f++){;}for(f=0;50 > f && m(l,!1,g);f++){;}return l;};},function(r,b,a){var f,h,k;function c(n,p,q,v,t){var w;w={};"right" == n.horizontalAlignment?w.right=100 * (q - p.left - p.width - t) / q + "%":w.left=100 * (p.left - t) / q + "%";"bottom" == n.verticalAlignment?w.bottom=100 * (v - p.top - p.height - t) / v + "%":w.top=100 * (p.top - t) / v + "%";return w;}function l(n,p){var q;if(n && p){40 === p.x && 19 === p.y?q=4 / 3 / (40 / 19):52 === p.x && 19 === p.y && (q=16 / 9 / (52 / 19));if(q)return n.width / n.fontSize / q;}}function g(n,p,q,v,t){var w,u;w=n.style;u=(0,h.Lwa)(n.text);for(n=n.lineBreaks;n--;){u="<br />" + u;}return m(u,w,p,q,v,t);}function m(n,p,q,v,t,w){var u;u=p.characterStyle;t=t[u];u=0 <= u.indexOf("MONOSPACE")?l(t,p.cellResolution) || t.lineHeight:t.lineHeight;v=p.characterSize * v.height / (u || 1);v=0 < w?(0,k.CM)(v * w):(0,k.Mp)(v);w={"font-size":v + "px","line-height":"normal","font-weight":"normal"};p.characterItalic && (w["font-style"]="italic");p.characterUnderline && (w["text-decoration"]="underline");p.characterColor && (w.color=p.characterColor);p.backgroundColor && 0 !== p.backgroundOpacity && (w["background-color"]=d(p.backgroundColor,p.backgroundOpacity));v=p.characterEdgeColor || "#000000";switch(p.characterEdgeAttributes){case "DROP_SHADOW":w["text-shadow"]=v + " 0px 0px 7px";break;case "UNIFORM":w["text-shadow"]="-1px 0px " + v + ",0px 1px " + v + ",1px 0px " + v + ",0px -1px " + v;break;case "RAISED":w["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case "DEPRESED":w["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}w=(0,f.nX)(w);(q=q[p.characterStyle || "PROPORTIONAL_SANS_SERIF"]) && (w+=";" + q);p=p.characterOpacity;0 < p && 1 > p && (n='<span style="opacity:' + p + '">' + n + "</span>");return '<span style="' + w + '">' + n + "</span>";}function d(n,p){n=n.substring(1);n=parseInt(n,16);return "rgba(" + (n >> 16 & 255) + "," + (n >> 8 & 255) + "," + (n & 255) + "," + (void 0 !== p?p:1) + ")";}Object.defineProperty(b,"__esModule",{value:!0});b.t6a=b.OSb=b.MSb=b.PSb=b.NSb=b.u6a=b.v6a=b.ita=void 0;f=a(44);h=a(23);k=a(14);b.ita=function(n,p,q,v,t){var w;w="";n.textNodes.forEach(function(u){w+=g(u,q,p,v,t);});n.region && n.region.multiRowAlignment && (w='<span style="display:inline-block;text-align:' + n.region.multiRowAlignment + '">' + w + "</span>");return w;};b.v6a=function(n,p,q,v,t){var w,u,y,z,B;w="";u=t.width;t=t.height;for(var x=p.length;x--;){y=p[x];z=n[x];z=z && z.region;B="position:absolute;background:" + v + ";width:" + (0,k.Mp)(y.width + 2 * q) + "px;height:" + (0,k.Mp)(y.height + 2 * q) + "px;";y=c(z,y,u,t,q);(0,h.zh)(y,function(A,C){B+=A + ":" + C + ";";});w+='<div style="' + B + '"></div>';}return w;};b.u6a=c;b.NSb=l;b.PSb=g;b.MSb=m;b.OSb=d;b.t6a=function(n){var p;p={display:"block","white-space":"nowrap"};switch(n.region.horizontalAlignment){case "left":p["text-align"]="left";break;case "right":p["text-align"]="right";break;default:p["text-align"]="center";}return (0,f.nX)(p);};},function(r,b,a){var c,l,g,m,d,f,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.ESa=void 0;c=a(17);l=a(19);g=a(62);m=a(95);d=a(14);f=a(59);h=a(15);k=a(16);b.ESa=function(n){var t,w,u,x,y,z;function p(){return n.state.value === k.ic.LOADING || n.state.value === k.ic.Se && n.Db.value === k.nb.Cg;}function q(){p()?z || (z=setInterval(v,100)):z && (clearInterval(z),z=void 0,(0,f.Lg)(v));}function v(){var B,A,C,D,E,G,F,L;B=(0,g.Uo)();A=t.value;C=A?A.progress:0;D=n.state.value == k.ic.LOADING || p() && B - w > l.config.$Ib;if(D && n.state.value == k.ic.Se){if(n.Kg.value === k.gg.rUa)(E=C,G=!0);else {F=B;u=u || B;x=x || u + l.config.i6b + 1;(0,h.Qa)(F) && (F=(0,d.Xu)(F,x),E=(0,d.Mp)(1E3 * (0,m.AD)((B - u) / (F - u),0,.99)) / 1E3);}if(E < C)if(C - E < l.config.mbc / 100)(E=C,y=void 0);else if(y){if(B - y > l.config.lbc){L=!0;y=void 0;}else E=C;}else (y=B,E=C);}else y=x=u=void 0;B=D?{wu:G,progress:E,nbc:L}:null;(!B || !t || !A || (0,h.Qa)(B.progress) && !(0,h.Qa)(A.progress) || (0,h.Qa)(B.progress) && (0,h.Qa)(A.progress) && .01 < (0,d.R4)(B.progress - A.progress) || B.wu !== A.wu) && t.set(B);}t=n.rqa;w=0;n.state.addListener(function(){q();v();},c.d5);n.Db.addListener(function(B){if(B.oldValue !== k.nb.Cg || B.newValue !== k.nb.Cg)w=(0,g.Uo)();q();});n.Kg.addListener(function(){q();});n.kt.addListener(function(){q();});n.uo.addListener(function(){q();});z || (z=setInterval(v,100));};},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A,C,D,E,G,F,L,O,K,I,M;function c(H){var J;J=this;this.j=H;this.Wb=this.j.Wb;this.log=(0,k.kj)(this.j,"MediaPresenterASE");this.uda=this.F9=0;this.ea=this.Wb.ea;this.tC=new I.sWa(this.ea,this.j);this.vmb=this.Fhb=this.whb=this.Xba=this.MBa=!1;this.rca=new Set();this.lic=k.Ha.get(A.UM)((0,B.$b)(y.A5));this.rO=void 0;this.Uj=k.Ha.get(D.CUa)(this.j);this.rz={};this.Ieb={};this.YY={};this.Ch=new G.EPa(this.j,this.Uj);this.jic=function(){var N,P,W;J.j.U1=(0,h.Uo)();if(!J.jl() && J.aw){N=J.Wb.g$a();N || (J.$9b(),J.Ch.vob(J.mediaTime));J.j.paused.value || !J.Ch.osa(J.mediaTime) || !J.nqa() || N || J.Uj.Vba?J.BDa():J.MBa || J.CDa();J.Z9b();if(!J.Wb.g$a() && !J.Xba){N=J.Wb.fF(!0);P=J.j.Db.value;W=J.DLb();P !== W && !1;W === u.nb.Ks?(J.mediaTime=J.j.ks.ia(B.va),J.BDa()):W !== u.nb.Cg && J.tkc(N);J.epb();J.Ch.Tqa(J.mediaTime);J.j.Db.set(W);W !== u.nb.Cg || P !== u.nb.Xc && P !== u.nb.aj || J.E8b();}}};this.bn=(0,E.Eib)(this.jic);this.mediaTime=H.ca;this.j.fj=!1;this.Wb.addEventListener(z.Ik.umb,function(){J.log.trace("sourceBuffers have been created. Initialize MediaPresenter.");J.vmb=!0;try{J.oa();}catch(N){J.log.error("Exception while initializing",N);J.Sd(n.aa.rxb);}});this.Wb.addEventListener(z.Ik.$cb,function(N){N=N.P;J.vmb?J.wgb(N):J.rca.add(N);});}Object.defineProperty(b,"__esModule",{value:!0});b.WPa=void 0;l=a(17);g=a(19);m=a(64);d=a(58);f=a(44);h=a(62);k=a(9);a(100);n=a(4);p=a(363);q=a(22);v=a(95);t=a(23);w=a(59);u=a(16);x=a(15);y=a(177);z=a(309);B=a(5);A=a(113);C=a(235);D=a(586);E=a(1358);G=a(1359);F=a(75);L=a(231);O=a(14);K=a(48);I=a(1361);M=a(56);c.prototype.sbc=function(H){var J,N,P;J=this;if(this.tC.paused){N=Math.ceil(H.f1b);P=function(W){J.Uj.uC?J.Uj.uC.time=W:J.Leb=W;};N > (this.Uj.uC?this.Uj.uC.time:this.mediaTime) && (this.log.trace("ptsChanged adjusting for initialTimestamp",N),P(N));H.rua && (this.log.trace("ptsChanged forcedTimestamp",H.rua),P(H.rua));}else this.log.error("Unexpected setMediaTime while not paused, ignoring");};c.prototype.L8a=function(){return this.Wb.fF(!1);};c.prototype.maa=function(){return this.Wb.maa();};c.prototype.my=function(){return this.Wb.my();};c.prototype.GJ=function(){return this.Wb.GJ();};c.prototype.BY=function(){return this.Wb.BY();};c.prototype.oa=function(){var H;H=this;this.log.trace("Video element initializing");this.Wb.sourceBuffers.forEach(function(J){return H.Ch.Nfc(J);});this.Z0b(this.j.hK);};c.prototype.Z0b=function(H){var J,N;J=this;H?this.log.trace("Waiting for needkey"):(this.log.warn("Movie is not DRM protected",{MovieId:this.j.L}),null === (N=this.j.qb) || void 0 === N?void 0:N.kJ(this.j.L));0 < this.rca.size && setTimeout(function(){J.log.trace("Notifying about licenses that were added before source buffers created");Array.from(J.rca).forEach(function(P){J.rca.delete(P);J.wgb(P);});},0);this.log.trace("Waiting for loadedmetadata");(0,f.K_a)(this.ea,"loadedmetadata",function(){J.log.trace("Video element event: loadedmetadata");J.j.Ze("md");});d.Xe.addListener(d.Lm,this.YY[d.Lm]=function(){return J.close();},l.HM);this.j.addEventListener(u.ka.uh,function(){return J.close();},l.HM);this.j.addEventListener(u.ka.Fkb,function(){return J.CDa();});this.j.addEventListener(u.ka.rK,function(){return J.p8b();});this.j.paused.addListener(function(){return J.bn();});this.j.muted.addListener(function(){return J.DGa();});this.j.volume.addListener(function(){return J.DGa();});this.j.playbackRate.addListener(function(){return J.Yga();});this.j.kt.addListener(function(){return J.bn();});this.j.uo.addListener(function(){return J.bn();});this.DGa();this.Yga();this.Ch.Qfa(function(){return J.Tca();});this.Tca();this.Ejc();};c.prototype.wgb=function(H){var J;this.j.Ze("ld",H);null === (J=this.j.qb) || void 0 === J?void 0:J.kJ(H);this.j.fireEvent(u.ka.Xcb);};c.prototype.k8=function(H){var J;J=this;!1;this.Ch.XGb(H);this.fKb(H).then(function(){J.Tca();J.j.fireEvent(u.ka.Sca);}).catch(function(N){J.Sd(n.aa.vxb,{Ub:(0,t.mf)(N)});});};c.prototype.wpa=function(H,J,N){N=void 0 === N?{}:N;J=this.ARb(H,J);this.Ch.WGb(H,J,N);this.Tca();this.whb || H.type !== K.u.J || (this.Uj.Vba || this.seek(this.j.ca,u.Fd.Uu),this.whb=!0);};c.prototype.Ejc=function(){var H;H=this;this.Wb.addEventListener(z.Ik.g1,this.rz[z.Ik.g1]=function(){return H.H8b();});this.Wb.addEventListener(z.Ik.oq,this.rz[z.Ik.oq]=function(){return H.Pda();});this.ea.addEventListener("ended",this.rz.ended=function(){return H.j8b();});this.ea.addEventListener("play",this.rz.play=function(){return H.RAa();});this.ea.addEventListener("pause",this.rz.pause=function(){return H.QAa();});this.ea.addEventListener("playing",this.rz.playing=function(){return H.TAa();});this.aw=!0;this.Ch.vob(this.mediaTime);this.log.trace("Video element initialization complete");this.j.Ze("vi");g.config.T4a?setTimeout(function(){H.FAa=!0;H.bn();},g.config.T4a):this.FAa=!0;this.chc();this.j.Kd.ta && this.dhc();(0,w.Lg)(function(){return H.bn();});};c.prototype.chc=function(){var N;function H(){var P;N.j.Db.value !== u.nb.Xc || 0 !== (null === (P=N.j.pf) || void 0 === P?void 0:P.maa()) || O.Xh.hidden?(N.Qfb.Ds(),P="stopTimer"):(N.Qfb.XE(),P="ensureTimer");N.log.trace("No render timer update: " + P,{presentingState:u.nb[N.j.Db.value],hidden:O.Xh.hidden});}function J(P){var W,V;P=void 0 === P?!0:P;W=N.j.qb;V=(null === W || void 0 === W?void 0:W.dj) && W.uwa();N.j.Db.value == u.nb.Cg && N.j.state.value == u.ic.Se && N.j.kt.value == u.gg.Se && N.j.uo.value == u.gg.Se && !N.j.fj && V?(P && N.H9.Ds(),N.H9.XE(),W="ensureTimer"):(N.H9.Ds(),W="stopTimer");N.log.trace("Timer update: " + W,{presentingState:u.nb[N.j.Db.value],playbackState:u.ic[N.j.state.value],avBufferingState:u.gg[N.j.kt.value],textBufferingState:u.gg[N.j.uo.value],autoplayWasBlocked:N.j.fj,hasLicense:V,restartTimer:P});}N=this;g.config.E4a && ((0,q.ya)(!this.H9),this.H9=k.Ha.get(C.GU)(g.config.E4a,function(){var P;P=k.Ha.get(p.Ria).d5a(N.j);N.Sd(P.code,P);}),this.j.Db.addListener(function(){return J();}),this.j.kt.addListener(function(){return J();}),this.j.uo.addListener(function(){return J();}),this.j.state.addListener(function(){return J();}),this.j.addEventListener(u.ka.Xcb,function(){return J();}),this.j.addEventListener(u.ka.fj,function(){return J();}),this.j.addEventListener(u.ka.Opa,function(){return J();}),this.j.addEventListener(u.ka.rG,function(){return J(!0);}),J());g.config.Pfb && (this.Qfb=k.Ha.get(C.GU)(g.config.Pfb,function(){var P;0 === (null === (P=N.j.pf) || void 0 === P?void 0:P.my()) && (P=k.Ha.get(p.Ria).d5a(N.j),N.Sd(P.code,P));N.j.Db.removeListener(H);d.Xe.removeListener(d.Lt,N.YY[d.Lt]);}),this.j.Db.addListener(H),d.Xe.addListener(d.Lt,this.YY[d.Lt]=H),H());};c.prototype.dhc=function(){var N;function H(){var P,W,V,S;N.SGa.Ds();V=N.Wb.sourceBuffers.find(function(U){return U.mediaType === K.u.J;});V=null !== (P=null === V || void 0 === V?void 0:V.Mua()) && void 0 !== P?P:[];if(1 < V.length){S=N.j.Db.value == u.nb.Xc;P=(null === (W=N.ea) || void 0 === W?void 0:W.readyState) === M.Co.MT.HAVE_CURRENT_DATA;W=J(V,N.mediaTime);S && P && W?(N.SGa.XE(),S="ensureTimer"):S="stopTimer";N.log.trace("Video Gaps Monitor Timer update: " + S,{presentingState:u.nb[N.j.Db.value],mediaTime:N.mediaTime,bufferedRanges:JSON.stringify(V),nextRange:JSON.stringify(W),readyStateIsStalled:P});}}function J(P,W){P=oa(P);for(var V=P.next();!V.done;V=P.next()){if((V=V.value,V.start >= W))return V;}}N=this;g.config.Tpb && ((0,q.ya)(!this.SGa),this.SGa=k.Ha.get(C.GU)(g.config.Tpb,function(){var P,W;W=N.Wb.sourceBuffers.find(function(V){return V.mediaType === K.u.J;});W=null !== (P=null === W || void 0 === W?void 0:W.Mua()) && void 0 !== P?P:[];if(P=J(W,N.mediaTime))(N.log.error("Detected media gaps: seeking over gap",{seekPoint:P.start,ranges:JSON.stringify(W)}),N.seek(P.start,u.Fd.ED));}),this.j.Db.addListener(function(){return H();}),this.j.mediaTime.addListener(function(){return H();}),H());};c.prototype.ARb=function(H,J){var N;N=this.j.We;(N=(0,L.zxa)(N)?N.HP():void 0) && H.type === K.u.J && ((H=new F.Jja(this.log,{mediaType:K.u.J,url:"http://some-url"},J).Ka(N))?J=H:!1);return J;};c.prototype.Tca=function(){this.aw && this.bn();this.Ch.j2a();};c.prototype.mhc=function(){!1;this.j.Db.set(u.nb.Cg);this.Xba=!0;this.bn();};c.prototype.ALb=function(){var H;H=this;this.Xba && (!1,this.Xba=!1,(0,w.Lg)(function(){return H.v7b();}));};c.prototype.eaa=function(){return this.Ch.eaa();};c.prototype.v7b=function(){var H,J;H=this.j.lF() || 0;if(this.j.lb.ji){if(g.config.LIb){H=H - (this.Wb.YDa + 1) - g.config.XDa;J=this.j.qb.Wn().Td;H=Math.max(H,J);}}else (H-=g.config.yec,H=Math.max(H,this.Uj.rya));this.seek(H,u.Fd.L5);};c.prototype.J_=function(H){var J;J=this;this.Ch.Pfc(H);(0,w.Lg)(function(){return J.bn();});};c.prototype.sXb=function(){return {F9:this.F9,uda:this.uda};};c.prototype.fKb=function(H){var J;J=this.Wb && this.Wb.C9a();(0,q.ya)(this.j.ks,"Player duration should be defined before appends start (ase did not fire segmentNormalized event)");this.j.ks && J && (H=Infinity !== H.Ukb?H.Ukb + H.Dw:H.Cw,H > this.j.ks.dib(B.va) && (this.j.ks=(0,B.$b)(H)));return Promise.resolve();};c.prototype.Z9b=function(){var H,J;H=this;this.Uj.jea && (!1,this.nqa() && this.Ch.osa(this.mediaTime) && (this.Wb.seek(null !== (J=this.Leb) && void 0 !== J?J:this.mediaTime),this.Leb=void 0,this.Uj.jea=!1,(0,w.Lg)(function(){return H.bn();})));};c.prototype.tkc=function(H){var J;if(H < this.mediaTime){J=this.mediaTime - H;g.config.a$b && H && J > y.A5 && (H={ElementTime:(0,v.Ci)(H),MediaTime:(0,v.Ci)(this.mediaTime)},J > y.STa?this.Sd(n.aa.Fxb,{Ub:Object.assign({Trace:this.Wb.mF()},H)}):this.log.warn("VIDEO.currentTime became smaller",H));}else this.mediaTime=(0,v.AD)(H,0,this.j.ks.ia(B.va));};c.prototype.nqa=function(){return this.j.kt.value === u.gg.Se && this.j.uo.value === u.gg.Se;};c.prototype.DLb=function(){var H,J,N;H=this;J=this.j.Db.value;N=J;this.Uj.Vba?N=u.nb.Cg:this.ea && this.ea.ended?J === u.nb.Xc && (N=u.nb.Ks):this.nqa() && this.Ch.osa(this.mediaTime)?this.Wb.AQb()?N=this.tC.paused?u.nb.aj:u.nb.Xc:this.lic.vl(function(){return H.kic();}):N=this.j.ks?this.j.R$a(this.mediaTime,this.Ch.E9())?u.nb.Cg:u.nb.Ks:u.nb.Cg;return N;};c.prototype.E8b=function(){var H;if(this.j.Db.value === u.nb.Cg){H=this.Ch.Xic() > this.Ch.E9();this.j.uo.value !== u.gg.Se?this.j.Cj.value?(this.j.fireEvent(u.ka.UA,{cause:m.BSa}),this.log.warn("rebuffer due to timed text",this.j.Cj.value.Bh)):this.j.fireEvent(u.ka.zS):H?(this.F9++,this.j.fireEvent(u.ka.UA,{cause:m.Zka})):(this.uda++,this.j.fireEvent(u.ka.UA,{cause:m.$ka}));}};c.prototype.kic=function(){this.jl() || (g.config.z7b && this.Ch.y7b(),this.bn());};c.prototype.H8b=function(){this.bn();};c.prototype.Pda=function(){this.bn();this.j.fireEvent(u.ka.oq);};c.prototype.j8b=function(){this.log.trace("Video element event: ended");this.bn();};c.prototype.RAa=function(){this.log.trace("Video element event: play");this.bn();};c.prototype.QAa=function(){this.log.trace("Video element event: pause");this.tC.QAa();this.bn();};c.prototype.TAa=function(){this.log.trace("Video element event: playing");this.tC.RAa();this.bn();};c.prototype.DGa=function(){this.jl() || (this.ea && this.ea.volume !== this.j.volume.value && (this.ea.volume=this.j.volume.value),this.ea && this.ea.muted !== this.j.muted.value && (this.ea.muted=this.j.muted.value));};c.prototype.Yga=function(){!this.jl() && this.ea && (this.ea.playbackRate=this.j.playbackRate.value);};c.prototype.CDa=function(){var H;H=this;!this.jl() && (0,x.xd)(this.ea) && !this.ea.ended && this.FAa && this.tC.paused && (this.log.trace("Calling play on element"),Promise.resolve(this.tC.play()).then(function(){H.closed || (H.MBa=!1,H.ea.style.display=null,H.j.fj=!1,H.j.fireEvent(u.ka.Opa));}).catch(function(J){"NotAllowedError" === J.name?(H.log.warn("Playback is blocked by the browser settings",J),H.j.fj=!0,H.closed || (H.MBa=!0,H.ea.style.display="none",H.j.fireEvent(u.ka.fj,{player:{play:function(){return H.CDa();}}}))):H.closed || H.Fhb || (H.Fhb=!0,H.log.error("Play promise rejected",J));}));};c.prototype.p8b=function(){this.Uj.rya=this.j.lF() || 0;};c.prototype.BDa=function(){this.jl() || !(0,x.xd)(this.ea) || this.ea.ended || !this.FAa || this.tC.paused || (this.log.trace("Calling pause on element"),this.tC.pause());};c.prototype.epb=function(H){this.j.mediaTime.set(this.mediaTime);H && this.j.NUb();};c.prototype.seek=function(H,J,N,P){var W,V;N=void 0 === N?this.j.S:N;P=void 0 === P?!1:P;V=null === (W=this.j.qb) || void 0 === W?void 0:W.dj;!this.jl() && V && (this.j.fireEvent(u.ka.rG,{cause:J}),this.Uj.uC={time:H,cause:J,S:N,VUb:P},this.j.Db.set(u.nb.Cg),this.bn());};c.prototype.$9b=function(){var H,J,N,P,W,V,S,U;if(this.Uj.uC){H=this.Uj.uC;J=H.time;N=H.cause;P=H.S;W=H.VUb;if(!this.Ch.Li() || N === u.Fd.Uu){H=this.j.Hj(P).L;V=this.Ch.Li()?void 0:this.Ch.iWb();V=this.Uj.ZXb(J,N,P,W,V);P=V.xda;W=V.$k;S=V.C$b;V=V.ci;this.Ch.Tqa(this.mediaTime);U=this.mediaTime;J=(0,v.Ci)(J);this.j.wI("SEEKING: Requested: (" + H + ":" + N + ":" + J + ") - Actual: (contentPts: " + W + ",playerPts: " + (S + ", newMediaTime: " + P + ")"));this.log.info("Seeking",{Requested:J,Actual:(0,v.Ci)(P),Cause:N,Skip:V});N === u.Fd.Uu || V || (this.Ch.gkb(),this.Ch.Jfc());this.mediaTime=P;this.Uj.rya=W;J=this.j.eg.value;S=this.j.Pe.value;this.j.eg.set(null);this.j.Pe.set(null);this.epb(!0);this.Uj.uC=void 0;this.Uj.jea=!0;this.j.fireEvent(u.ka.pl,{GAa:U,xda:P,$k:W,cause:N,skip:V,eg:J,Pe:S,L:H});V && this.Ch.skip(P);}}};c.prototype.Sd=function(H,J,N){this.closed || this.j.Sd(H,J,N);};c.prototype.close=function(){if(!this.closed){this.log.info("Closing.");this.Ch.close();this.Wb.removeEventListener(z.Ik.g1,this.Ieb[z.Ik.g1]);this.Wb.removeEventListener(z.Ik.oq,this.Ieb[z.Ik.oq]);this.ea.removeEventListener("ended",this.rz.ended);this.ea.removeEventListener("play",this.rz.play);this.ea.removeEventListener("pause",this.rz.pause);this.ea.removeEventListener("playing",this.rz.playing);this.tC.close();d.Xe.removeListener(d.Lm,this.YY[d.Lm]);d.Xe.removeListener(d.Lt,this.YY[d.Lt]);this.closed=!0;try{this.ea.volume=0;this.ea.muted=!0;this.BDa();this.Wb.close();}catch(H){}this.ea=void 0;this.Ch.gkb();}};c.prototype.jl=function(){return this.closed?!0:(0,x.xd)(this.ea)?!1:(this.log.error("MediaPresenter not closed and videoElement is not defined"),!0);};b.WPa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.CUa="SeekManagerFactorySymbol";},function(r,b,a){var c,l,g,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.OLa=void 0;c=a(19);l=a(58);g=a(23);m=a(4);d=a(16);b.OLa=function(f,h,k){function n(q){var v,t;v=q.error || q;t=(0,g.mf)(v);k.error("uncaught exception",v,t);(v=(v=v && v.stack) && c.config.Hob && c.config.Sjc?0 <= v.indexOf(c.config.Hob):void 0) && (q && q.stopImmediatePropagation && q.stopImmediatePropagation(),f.Sd(m.aa.fWa));}function p(){l.Xe.removeListener(l.Taa,n);f.removeEventListener(d.ka.uh,p);f.removeEventListener(d.ka.uw,p);}try{l.Xe.addListener(l.Taa,n);f.addEventListener(d.ka.uh,p);c.config.z0b && f.addEventListener(d.ka.uw,p);}catch(q){k.error("exception in exception handler ",q);}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.hla="PlayedSegmentsTrackerFactorySymbol";},function(r,b,a){var c,l,g,m,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.Idb=void 0;c=a(19);l=a(17);g=a(62);r=a(4);m=a(14);d=a(15);f=a(9);a=a(34);f.Ha.get(a.uj).register(r.aa.sNa,function(h){var p,q,v,t,w;function k(){return (0,m.CM)((0,g.Uo)() / v);}function n(){var u;u=k();if(u != w){for(var x=(0,m.Rz)(u - w,30);x--;){t.push(0);}(x=(0,m.Xu)(t.length - 31,0)) && t.splice(0,x);w=u;}t[t.length - 1]++;}p=c.config.F4b;q=-6 / (p - 2 - 2);v=l.Wu;t=[];w=k();(0,d.Sxa)(p) && (setInterval(n,1E3 / p),b.Idb={mXb:function(){var y;for(var u=[],x=t.length - 1;x--;){y=t[x];u.unshift(0 >= y?9:1 >= y?8:y >= p - 1?0:(0,m.Mp)((y - 2) * q + 7));}return u;}});h(l.mh);});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ela="PlaybackMilestoneStoreSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.VRa="PboManifestRequestTransformerSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zRa="PboBindCommandSymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.oca=void 0;b.oca=function(a,c,l){var g;if(l.set)throw Error("Property " + c + " has a setter and cannot be made into a lazy property.");g=l.get;l.get=function(){var m,d;m=g.apply(this,arguments);d={enumerable:l.enumerable,value:m};Object.getPrototypeOf(a) === Function.prototype?Object.defineProperty(a,c,d):Object.defineProperty(this,c,d);return m;};};},function(r,b,a){var l,g,m,d,f;function c(h,k){this.Wb=h;this.j=k;this.PZ=[];}Object.defineProperty(b,"__esModule",{value:!0});b.oT=void 0;r=a(0);l=a(4);g=a(1);m=a(15);d=a(23);f=a(9);c.prototype.J$=function(h){this.PZ.forEach(function(k){return k(h);});};c.prototype.Sd=function(h,k,n){this.j.Sd(h,k,n);};c.prototype.WFb=function(h){-1 === this.PZ.indexOf(h) && this.PZ.push(h);};c.prototype.Mcc=function(h){h=this.PZ.indexOf(h);0 <= h && this.PZ.splice(h,1);};c.prototype.z$a=function(h){var k,n;k={};(0,m.xd)(h.code)?k.Ca=(0,l.LLa)(h.code):k.Ca=l.Y.ln;try{n=h.message.match(/\((\d*)\)/)[1];k.Rf=(0,f.Ypa)(n,4);}catch(p){}k.Ub=(0,d.mf)(h);return k;};a=c;a=r.__decorate([(0,g.$)()],a);b.oT=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pTa="PlaygraphPlaybackStrategyFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tTa="PlaygraphStateFactorySymbol";},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qOa="LegacyPostPlayShimFactorySymbol";},function(r,b,a){var l;function c(g,m,d,f,h){var k;k=this;this.wb=g;this.El=m;this.Iw=d;this.Pb=f;this.eo=h;this.Cea=new Map();this.$fc();this.Pb.addListener(l.Pa.loaded,function(){return k.jib();});}Object.defineProperty(b,"__esModule",{value:!0});b.uH=void 0;l=a(16);c.prototype.O_a=function(g){var m,d;m=this;d=Object.keys(this.wb.hm.U).find(function(f){return m.wb.hm.U[f].P === g.L;});g.id || (g.id=null !== d && void 0 !== d?d:this.eo.Ht(g.L));d || (this.wb.hm=this.eo.ZGb(this.wb.hm,g));d=this.$K(g.id);g.wk && this.wb.Akc(g.id,g.wk);return d;};c.prototype.zob=function(){return Promise.reject(Error("Error isn't recoverable"));};c.prototype.mwa=function(g,m){var d;d=this;m=void 0 === m?{}:m;return this.Iw.transition(g,m).then(function(){d.wb.ei=g;});};c.prototype.close=function(g){return this.Iw.close(g);};c.prototype.isReady=function(){return this.Iw.KYb();};c.prototype.kp=function(){return this.Iw.kp();};c.prototype.MJ=function(){return this.Iw.MJ();};c.prototype.$K=function(g){this.Cea.has(g) || this.Cea.set(g,this.Iw.Ig(this.ZIb(g)));return this.Cea.get(g);};c.prototype.$fc=function(){var g;g=this;this.Iw.addListener(l.BH.i1,function(){return g.Pb.Zc(l.BH.i1);});Object.values(l.Pa).forEach(function(m){g.Iw.addListener(m,function(d){return g.Pb.Zc(m,d);});});};c.prototype.Ly=function(){this.jib();};c.prototype.XAa=function(g){this.Iw.xkc({id:g,L:this.wb.Be(g).P,wk:this.wb.dZb(g)});};c.prototype.IK=function(){};c.prototype.jib=function(){var g,m;if(this.isReady()){g=this.wb.ei;m=this.wb.LY(g);m && !this.Cea.has(m) && (this.XAa(g),this.$K(m));}};c.prototype.ZIb=function(g){var m,d,f,h;d=this.wb.Be(g);f=this.El.VP(d.P);h=null === f || void 0 === f?void 0:f.Gb;f=null === f || void 0 === f?void 0:f.ba;return {id:g,L:d.P,ca:d.Ba,wk:null !== (m=null === h || void 0 === h?void 0:h.wk) && void 0 !== m?m:d.Aa,Gb:h,ba:f};};b.uH=c;},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.fla=void 0;a.prototype.oza=function(c){c=void 0 === c?{}:c;return {Dl:c.trackingId,E8:c.authParams,no:c.sessionParams,je:c.uiLabel,gha:c.uxLabels,Gsa:c.disableTrackStickiness,KS:c.uiPlayStartTime,Q$:c.forceAudioTrackId,R$:c.forceTimedTextTrackId,ji:c.isBranching,playbackState:c.playbackState?{currentTime:c.playbackState.currentTime,volume:c.playbackState.volume,muted:c.playbackState.muted,playbackRate:c.playbackState.playbackRate}:void 0,kP:c.enableTrickPlay,Cwa:c.heartbeatCooldown,Wba:c.isPlaygraph,wca:c.loadImmediately || !1,yhb:c.pin,r0:c.preciseSeeking,ca:c.startPts,Ta:c.endPts,wk:c.logicalEnd,dfa:c.renderTimedText,F6a:c.extraManifestParams,Gpa:c.assetId,MHb:c.audioLanguages,zic:c.textLanguages,Upb:c.videoLanguage,zp:c.packageId,Z4a:c.desiredDownloadables,jDa:c.requestReference,vGb:c.additionalAudioAssets,zGb:c.additionalTextAssets};};b.fla=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.eMa=void 0;b.eMa=function(a){var g,m,d,f;function c(){if(d)for(var h;h=g.pop();){h(f);}}function l(h){d=!0;f=h;c();}g=[];return function(h){g.push(h);m || (m=!0,a(l));c();};};},function(r,b,a){var l,g,m,d,f,h;function c(k){var p,q;function n(){p.XV=new f.NVa(q.j);return p.XV;}(0,l.lk)("MediaSourceASE").trace("Inside MediaSourceASE");p=this;q=k.tva();p.FYa=q;p.readyState=h.cd.CLOSED;p.addSourceBuffer=function(v){return v === d.u.Za?n():q.addSourceBuffer(v);};p.X7=function(v){v.includes(d.u.Za) && n();return q.X7(v);};p.removeSourceBuffer=function(v){return v=v.mediaType === d.u.Za?p.XV=void 0:q.removeSourceBuffer(v);};p.Bt=function(v){p.XV=void 0;q.Bt(v);};p.duration=void 0;this.readyState=h.cd.OPEN;this.Yc=g.Ha.get(m.Di).TF(h.Yc,{});}Object.defineProperty(b,"__esModule",{value:!0});b.aQa=void 0;l=a(9);g=a(9);m=a(30);d=a(60);f=a(1454);Object.defineProperty(c.prototype,"sourceBuffers",{get:function(){return this.XV?this.FYa.sourceBuffers.concat(this.XV):this.FYa.sourceBuffers;}});Object.defineProperty(c.prototype,"duration",{get:function(){return this.Nk;},set:function(k){var n;this.Nk=k || Infinity;n=Math.floor(1E3 * k) || Infinity;this.sourceBuffers.forEach(function(p){p.Nk=n;});}});h={cd:{CLOSED:0,OPEN:1,Ks:2,name:["CLOSED","OPEN","ENDED"]},Yc:{L2a:!0,vfb:!0}};b.aQa=Object.assign(c,h);},function(r,b,a){var h,k,n,p,q,v,t,w;function c(u){return u.split(",").reduce(function(x,y){var z;z=y.split("=");y=z[0];z=z.slice(1).join("=");y && y.length && (x[y]=z || !0);return x;},{});}function l(u){return u && "object" === typeof u?JSON.stringify(u):"string" === typeof u?'"' + u + '"':"" + u;}function g(u,x,y){var z;if("string" === typeof u)return g.call(this,c(u),x,y);z=0;Object.keys(u).forEach(function(B){var A,C,D;A=q[B];C=u[B];if(A){if(D=v[B] || w[typeof h[A]])try{C=D(C);}catch(E){y && y.error("Failed to convert value '" + C + "' for config '" + B + "' : " + E.toString());return;}D=p[A];this[A]=C;p[A] !== D && (y && y.debug("Config changed for '" + B + "' from " + l(D) + " (" + typeof D + ") to " + l(C) + " (" + typeof C + ")"),++z);}else x?(A=(A=t[B])?A.filter(function(E){return E[0] !== this;},this):[],A.push([this,C]),t[B]=A):y && y.error("Attempt to change undeclared config option '" + B + "'");},this);z && p.emit("changed");return z;}function m(){return Object.keys(q).reduce(function(u,x){var y,z;y=q[x];z=u[y];z?(z.push(x),u[y]=z.sort(function(B,A){return A.length - B.length;})):u[y]=[x];return u;},{});}function d(u,x){return u.hasOwnProperty(x)?l(u[x]):void 0;}function f(u,x){return "undefined" === typeof u?x:u;}b=a(92);a=a(1459).EventEmitter;h={};k=Object.create(h);n=Object.create(k);p=Object.create(n);q={};v={};t={};p.declare=function(u){Object.keys(u).forEach(function(x){var y,z,B,A;y=u[x];z=y[0];B=y[1];A=y[2];if(h.hasOwnProperty(x))throw Error("The local configuraion key '" + x + "' is already in use");"string" === typeof z && (z=[z]);z.forEach(function(C){var D;if(q.hasOwnProperty(C))throw Error("The configuration value '" + C + "' has been declared more than once");h.hasOwnProperty(x) || ("function" === typeof B && (B=B()),h[x]=B);q[C]=x;"function" === typeof A && (v[C]=A);if(D=t[C])(D.forEach(function(E){var G,F;G=E[0];F={};F[C]=E[1];g.call(G,F,!1);}),delete t[C]);});});return p;};w={object:function(u){return "object" == typeof u?u:JSON.parse("" + u);},"boolean":function(u){return "boolean" == typeof u?u:!("0" === "" + u || "false" === ("" + u).toLowerCase());},number:function(u){if("number" == typeof u)return u;u=parseFloat("" + u);if(isNaN(u))throw Error("parseFloat returned NaN");return u;}};p.set=g.bind(k);p.b0=g.bind(n);p.dump=function(u,x){var z,B,A,C;function y(){C && u && u.log("===========================================");}z=Object.keys(t).sort();B={};A=m();x=f(x,!0);Object.keys(q).sort().forEach(function(D){var E,G,F;D=q[D];if(!B[D]){B[D]=!0;E=d(k,D);G=d(n,D);if(x || "undefined" !== typeof E || "undefined" !== typeof G){F=A[D].join(",");F+=" = " + l(p[D]) + " (" + typeof p[D] + ") [";F+=f(G,"<unset>") + ",";F+=f(E,"<unset>") + ",";F+=d(h,D) + "]";C || (C=!0,u && u.log("Current config values"),y());u && u.log(F);}}});(x || z.length) && u && u.log("<undeclared> :",z);y();};p.Hi=function(u){var x,y;x={};y={};Object.keys(q).forEach(function(z){z=q[z];y[z] || (y[z]=!0,x[z]=p[z]);});u && g.call(x,u);return x;};p.xhb=function(){var u;u=m();return Object.getOwnPropertyNames(k).reduce(function(x,y){x[u[y][0]]=k[y];return x;},{});};p.reset=function(){Object.keys(k).forEach(function(u){delete k[u];});};p.Qd={};b(a,p);r.exports=Object.freeze(p);},function(r,b,a){var l;function c(g){for(var m="",d=0;d < g.length;d++){m+=g[d].P + "|";}return m;}l=a(316);r.exports={assert:function(g,m){if(!g)throw Error("PlayPredictionModel assertion failed" + (m?" : " + m:""));},Vuc:function(g,m,d){Array.prototype.splice.apply(g,[m,0].concat(d));},yWb:function(g){for(var m=[],d=0;d < g.length;d++){if(g[d].context === l.UT.Csb){m=g[d].list;break;}}return m;},fWb:function(g){for(var m=[],d=0;d < g.length;d++){if(g[d].context === l.UT.trb){m=g[d].list;break;}}return m;},wQb:function(g,m){for(var d=0,f,h,k,n=0,p=g.length - 1;n < p;n++){f=c(g[n].list || []);k=!1;for(var q=0,v=m.length;q < v;q++){if((h=c(m[q].list || []),h == f)){k=!0;break;}}if(!1 === k){d=n;break;}}return d;},O7b:function(g,m,d){for(var f=[],h,k=0;k < Math.min(m,g.length);k++){h=g[k].list || [];f=f.concat(h.slice(0,d));}return f;},N7b:function(g,m){for(var d=[],f,h=0;h < g.length && (f=g[h].list || [],f=f.slice(0,Math.min(f.length,m)),m-=f.length,d=d.concat(f),0 !== m);h++){;}return d;},M7b:function(g,m,d){var f;m < g.length && 0 <= m && (g=g[m].list || [],d < g.length && (f=g[d]));return f;},d7a:function(g){for(var m={},d=g.length,f,h=0;h < d;h++){f=g[h].list || [];for(var k=0;k < f.length;k++){if(f[k].property === l.wM.rU || f[k].property === l.wM.gKa){m.sl=h;m.Ln=k;break;}}}void 0 === m.sl && void 0 === m.Ln && (m.sl=0,m.Ln=0);return m;}};},function(r,b,a){var m;function c(d,f,h,k,n,p,q){this.x2=k;this.Gqb=d;this.Nfb=f;this.dAa=h;this.I2b=p;this.vG=q;this.split=n;}function l(){this.V={};this.V["0"]=new c("1","2","1","14","-0.0000100136",0,0);this.V["1"]=new c("3","4","3","20","-0.0000100136",0,0);this.V["3"]=new c("7","8","7","10","1.5",0,0);this.V["7"]=new c("15","16","15","9","4.5",0,0);this.V["15"]=new c("31","32","31","2","5.5",0,0);this.V["31"]=new c("63","64","63","29","-0.0000100136",0,0);this.V["63"]=new c("123","124","123","24","-0.0000100136",0,0);this.V["123"]=new c("123","124","123","0","0",1,.207298);this.V["124"]=new c("123","124","123","0","0",1,.49076);this.V["64"]=new c("125","126","125","4","40.5",0,0);this.V["125"]=new c("125","126","125","0","0",1,-.00157835);this.V["126"]=new c("125","126","125","0","0",1,.934205);this.V["32"]=new c("65","66","65","135","5.5",0,0);this.V["65"]=new c("127","128","128","4","1272.5",0,0);this.V["127"]=new c("127","128","128","0","0",1,-.510333);this.V["128"]=new c("127","128","128","0","0",1,.18363);this.V["66"]=new c("129","130","129","24","-0.0000100136",0,0);this.V["129"]=new c("129","130","129","0","0",1,-.0464542);this.V["130"]=new c("129","130","129","0","0",1,.458833);this.V["16"]=new c("33","34","34","10","2.00001",0,0);this.V["33"]=new c("67","68","67","0","29.5",0,0);this.V["67"]=new c("131","132","131","2","39.5",0,0);this.V["131"]=new c("131","132","131","0","0",1,-.37577);this.V["132"]=new c("131","132","131","0","0",1,.512087);this.V["68"]=new c("133","134","134","140","1.5",0,0);this.V["133"]=new c("133","134","134","0","0",1,.321272);this.V["134"]=new c("133","134","134","0","0",1,-.675396);this.V["34"]=new c("69","70","70","2","24.5",0,0);this.V["69"]=new c("135","136","136","9","28.5",0,0);this.V["135"]=new c("135","136","136","0","0",1,-.0573845);this.V["136"]=new c("135","136","136","0","0",1,-.507455);this.V["70"]=new c("137","138","137","45","-0.0000100136",0,0);this.V["137"]=new c("137","138","137","0","0",1,-.503909);this.V["138"]=new c("137","138","137","0","0",1,.450886);this.V["8"]=new c("17","18","17","4","44189.5",0,0);this.V["17"]=new c("35","36","35","2","21.5",0,0);this.V["35"]=new c("71","72","72","0","19.5",0,0);this.V["71"]=new c("139","140","140","9","2.5",0,0);this.V["139"]=new c("139","140","140","0","0",1,.00403497);this.V["140"]=new c("139","140","140","0","0",1,-.312656);this.V["72"]=new c("141","142","141","135","96",0,0);this.V["141"]=new c("141","142","141","0","0",1,-.465786);this.V["142"]=new c("141","142","141","0","0",1,.159633);this.V["36"]=new c("73","74","73","130","89.5",0,0);this.V["73"]=new c("143","144","144","10","4.5",0,0);this.V["143"]=new c("143","144","144","0","0",1,-.76265);this.V["144"]=new c("143","144","144","0","0",1,-.580804);this.V["74"]=new c("145","146","146","10","16.5",0,0);this.V["145"]=new c("145","146","146","0","0",1,.296357);this.V["146"]=new c("145","146","146","0","0",1,-.691659);this.V["18"]=new c("37","38","38","9","1.5",0,0);this.V["37"]=new c("37","38","38","0","0",1,.993951);this.V["38"]=new c("75","76","75","0","19",0,0);this.V["75"]=new c("147","148","147","39","-0.0000100136",0,0);this.V["147"]=new c("147","148","147","0","0",1,-.346535);this.V["148"]=new c("147","148","147","0","0",1,-.995745);this.V["76"]=new c("147","148","147","0","0",1,-.99978);this.V["4"]=new c("9","10","9","5","4.5",0,0);this.V["9"]=new c("19","20","19","2","4.5",0,0);this.V["19"]=new c("39","40","39","140","7.5",0,0);this.V["39"]=new c("77","78","78","134","6.5",0,0);this.V["77"]=new c("149","150","150","7","11.5",0,0);this.V["149"]=new c("149","150","150","0","0",1,.729843);this.V["150"]=new c("149","150","150","0","0",1,.383857);this.V["78"]=new c("151","152","151","133","4.5",0,0);this.V["151"]=new c("151","152","151","0","0",1,.39017);this.V["152"]=new c("151","152","151","0","0",1,.0434342);this.V["40"]=new c("79","80","79","133","3.5",0,0);this.V["79"]=new c("153","154","154","8","4.5",0,0);this.V["153"]=new c("153","154","154","0","0",1,-.99536);this.V["154"]=new c("153","154","154","0","0",1,-.00943396);this.V["80"]=new c("155","156","155","125","-0.0000100136",0,0);this.V["155"]=new c("155","156","155","0","0",1,.266272);this.V["156"]=new c("155","156","155","0","0",1,.959904);this.V["20"]=new c("41","42","42","10","65.5",0,0);this.V["41"]=new c("81","82","82","7","10.5",0,0);this.V["81"]=new c("157","158","158","2","37.5",0,0);this.V["157"]=new c("157","158","158","0","0",1,-.701873);this.V["158"]=new c("157","158","158","0","0",1,.224649);this.V["82"]=new c("159","160","159","133","9.5",0,0);this.V["159"]=new c("159","160","159","0","0",1,.0955181);this.V["160"]=new c("159","160","159","0","0",1,-.58962);this.V["42"]=new c("83","84","83","39","-0.0000100136",0,0);this.V["83"]=new c("161","162","161","135","31",0,0);this.V["161"]=new c("161","162","161","0","0",1,-.229692);this.V["162"]=new c("161","162","161","0","0",1,.88595);this.V["84"]=new c("163","164","164","1","13.5",0,0);this.V["163"]=new c("163","164","164","0","0",1,-.992157);this.V["164"]=new c("163","164","164","0","0",1,.922159);this.V["10"]=new c("21","22","22","4","486",0,0);this.V["21"]=new c("43","44","44","133","4.5",0,0);this.V["43"]=new c("85","86","86","10","4.5",0,0);this.V["85"]=new c("165","166","166","4","158.5",0,0);this.V["165"]=new c("165","166","166","0","0",1,-.127778);this.V["166"]=new c("165","166","166","0","0",1,.955189);this.V["86"]=new c("165","166","166","0","0",1,-.994012);this.V["44"]=new c("87","88","88","1","3.5",0,0);this.V["87"]=new c("167","168","168","135","7",0,0);this.V["167"]=new c("167","168","168","0","0",1,-.997015);this.V["168"]=new c("167","168","168","0","0",1,.400821);this.V["88"]=new c("169","170","169","130","36",0,0);this.V["169"]=new c("169","170","169","0","0",1,-.898638);this.V["170"]=new c("169","170","169","0","0",1,.56129);this.V["22"]=new c("45","46","45","9","2.5",0,0);this.V["45"]=new c("89","90","90","9","1.5",0,0);this.V["89"]=new c("171","172","171","10","10.5",0,0);this.V["171"]=new c("171","172","171","0","0",1,.573986);this.V["172"]=new c("171","172","171","0","0",1,-.627266);this.V["90"]=new c("173","174","173","31","-0.0000100136",0,0);this.V["173"]=new c("173","174","173","0","0",1,.925273);this.V["174"]=new c("173","174","173","0","0",1,-.994805);this.V["46"]=new c("91","92","91","136","5.5",0,0);this.V["91"]=new c("175","176","175","10","10.5",0,0);this.V["175"]=new c("175","176","175","0","0",1,.548352);this.V["176"]=new c("175","176","175","0","0",1,-.879195);this.V["92"]=new c("177","178","178","8","14.5",0,0);this.V["177"]=new c("177","178","178","0","0",1,.457305);this.V["178"]=new c("177","178","178","0","0",1,-.998992);this.V["2"]=new c("5","6","5","10","2.5",0,0);this.V["5"]=new c("11","12","11","9","4.5",0,0);this.V["11"]=new c("23","24","24","10","4.00001",0,0);this.V["23"]=new c("47","48","48","133","5.5",0,0);this.V["47"]=new c("93","94","93","3","13.5",0,0);this.V["93"]=new c("179","180","179","138","15.5",0,0);this.V["179"]=new c("179","180","179","0","0",1,.658398);this.V["180"]=new c("179","180","179","0","0",1,-.927007);this.V["94"]=new c("181","182","182","3","15.5",0,0);this.V["181"]=new c("181","182","182","0","0",1,-.111351);this.V["182"]=new c("181","182","182","0","0",1,-.99827);this.V["48"]=new c("95","96","95","7","167",0,0);this.V["95"]=new c("183","184","183","132","36.5",0,0);this.V["183"]=new c("183","184","183","0","0",1,.895161);this.V["184"]=new c("183","184","183","0","0",1,-.765217);this.V["96"]=new c("185","186","186","137","6.00001",0,0);this.V["185"]=new c("185","186","186","0","0",1,-.851095);this.V["186"]=new c("185","186","186","0","0",1,.674286);this.V["24"]=new c("49","50","49","137","5.5",0,0);this.V["49"]=new c("97","98","97","5","23.5",0,0);this.V["97"]=new c("187","188","187","3","28.5",0,0);this.V["187"]=new c("187","188","187","0","0",1,.951654);this.V["188"]=new c("187","188","187","0","0",1,-.993808);this.V["98"]=new c("187","188","187","0","0",1,-.99705);this.V["50"]=new c("187","188","187","0","0",1,-.997525);this.V["12"]=new c("25","26","25","8","8.5",0,0);this.V["25"]=new c("51","52","52","10","4.00001",0,0);this.V["51"]=new c("99","100","100","133","5.5",0,0);this.V["99"]=new c("189","190","190","7","40.5",0,0);this.V["189"]=new c("189","190","190","0","0",1,.151839);this.V["190"]=new c("189","190","190","0","0",1,-.855517);this.V["100"]=new c("191","192","192","133","14.5",0,0);this.V["191"]=new c("191","192","192","0","0",1,.86223);this.V["192"]=new c("191","192","192","0","0",1,.544394);this.V["52"]=new c("101","102","101","135","47.5",0,0);this.V["101"]=new c("193","194","194","4","24.5",0,0);this.V["193"]=new c("193","194","194","0","0",1,.946185);this.V["194"]=new c("193","194","194","0","0",1,.811859);this.V["102"]=new c("193","194","194","0","0",1,-.991561);this.V["26"]=new c("53","54","54","132","6.5",0,0);this.V["53"]=new c("103","104","103","131","85",0,0);this.V["103"]=new c("195","196","196","134","16.5",0,0);this.V["195"]=new c("195","196","196","0","0",1,.0473538);this.V["196"]=new c("195","196","196","0","0",1,-.999401);this.V["104"]=new c("197","198","198","8","15.5",0,0);this.V["197"]=new c("197","198","198","0","0",1,.816129);this.V["198"]=new c("197","198","198","0","0",1,-.99322);this.V["54"]=new c("105","106","105","133","3.5",0,0);this.V["105"]=new c("105","106","105","0","0",1,-.998783);this.V["106"]=new c("199","200","199","39","-0.0000100136",0,0);this.V["199"]=new c("199","200","199","0","0",1,.528588);this.V["200"]=new c("199","200","199","0","0",1,-.998599);this.V["6"]=new c("13","14","14","10","7.5",0,0);this.V["13"]=new c("27","28","28","133","7.5",0,0);this.V["27"]=new c("55","56","56","10","4.5",0,0);this.V["55"]=new c("107","108","107","3","3.5",0,0);this.V["107"]=new c("201","202","201","4","17.5",0,0);this.V["201"]=new c("201","202","201","0","0",1,-.379512);this.V["202"]=new c("201","202","201","0","0",1,.15165);this.V["108"]=new c("203","204","203","57","-0.0000100136",0,0);this.V["203"]=new c("203","204","203","0","0",1,-.884606);this.V["204"]=new c("203","204","203","0","0",1,.265406);this.V["56"]=new c("109","110","109","136","6.5",0,0);this.V["109"]=new c("205","206","205","4","157.5",0,0);this.V["205"]=new c("205","206","205","0","0",1,-.0142737);this.V["206"]=new c("205","206","205","0","0",1,.691279);this.V["110"]=new c("205","206","205","0","0",1,-.998086);this.V["28"]=new c("57","58","58","138","11.5",0,0);this.V["57"]=new c("111","112","112","2","6.5",0,0);this.V["111"]=new c("207","208","208","7","67.5",0,0);this.V["207"]=new c("207","208","208","0","0",1,.763925);this.V["208"]=new c("207","208","208","0","0",1,-.309645);this.V["112"]=new c("209","210","209","40","-0.0000100136",0,0);this.V["209"]=new c("209","210","209","0","0",1,-.306635);this.V["210"]=new c("209","210","209","0","0",1,.556696);this.V["58"]=new c("113","114","113","138","50.5",0,0);this.V["113"]=new c("211","212","212","8","25.5",0,0);this.V["211"]=new c("211","212","212","0","0",1,.508234);this.V["212"]=new c("211","212","212","0","0",1,.793551);this.V["114"]=new c("211","212","212","0","0",1,-.998438);this.V["14"]=new c("29","30","29","134","27.5",0,0);this.V["29"]=new c("59","60","60","7","17.5",0,0);this.V["59"]=new c("115","116","115","135","5.5",0,0);this.V["115"]=new c("213","214","214","137","5.5",0,0);this.V["213"]=new c("213","214","214","0","0",1,.401747);this.V["214"]=new c("213","214","214","0","0",1,.0367503);this.V["116"]=new c("215","216","216","8","5.5",0,0);this.V["215"]=new c("215","216","216","0","0",1,-.0241984);this.V["216"]=new c("215","216","216","0","0",1,-.999046);this.V["60"]=new c("117","118","117","0","12.5",0,0);this.V["117"]=new c("217","218","218","132","5.5",0,0);this.V["217"]=new c("217","218","218","0","0",1,-.997294);this.V["218"]=new c("217","218","218","0","0",1,.210398);this.V["118"]=new c("219","220","219","137","1.5",0,0);this.V["219"]=new c("219","220","219","0","0",1,-.55763);this.V["220"]=new c("219","220","219","0","0",1,.074493);this.V["30"]=new c("61","62","62","133","42.5",0,0);this.V["61"]=new c("119","120","119","135","5.5",0,0);this.V["119"]=new c("221","222","222","4","473.5",0,0);this.V["221"]=new c("221","222","222","0","0",1,-.920213);this.V["222"]=new c("221","222","222","0","0",1,-.17615);this.V["120"]=new c("223","224","224","5","144",0,0);this.V["223"]=new c("223","224","224","0","0",1,-.954295);this.V["224"]=new c("223","224","224","0","0",1,-.382538);this.V["62"]=new c("121","122","121","133","50",0,0);this.V["121"]=new c("225","226","226","10","18.5",0,0);this.V["225"]=new c("225","226","226","0","0",1,-.0731343);this.V["226"]=new c("225","226","226","0","0",1,.755454);this.V["122"]=new c("227","228","228","0","30",0,0);this.V["227"]=new c("227","228","228","0","0",1,.25);this.V["228"]=new c("227","228","228","0","0",1,-.997101);}function g(d,f,h,k,n,p){this.rfa=n;this.h9=p;}b=a(602);m=a(315);a={};a.HHb=new (function(){this.SAb=m();this.Va=0;this.update=function(){this.Va=m() - this.SAb;};this.type="num";})();a.z3b=new (function(){this.type="cat";})();a.A3b=new (function(){this.type="cat";})();a.C3b=new (function(){this.type="cat";})();a.D3b=new (function(){this.type="cat";})();a.B3b=new (function(){this.type="cat";})();a.E3b=new (function(){this.type="cat";})();a.F3b=new (function(){this.type="cat";})();a.G3b=new (function(){this.type="cat";})();a.H3b=new (function(){this.type="cat";})();a.I3b=new (function(){this.type="cat";})();a.J3b=new (function(){this.type="cat";})();a.K3b=new (function(){this.type="cat";})();a.M3b=new (function(){this.type="cat";})();a.N3b=new (function(){this.type="cat";})();a.O3b=new (function(){this.type="cat";})();a.L3b=new (function(){this.type="cat";})();a.tIb=new (function(){this.update=function(d){for(var f in d.Sb){if("becauseYouAdded" === d.Sb[f].context){this.Va=Math.max(d.Sb[f].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.uIb=new (function(){this.update=function(d){for(var f in d.Sb){if("becauseYouLiked" === d.Sb[f].context){this.Va=Math.max(d.Sb[f].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.xIb=new (function(){this.update=function(d){for(var f in d.Sb){if("billboard" === d.Sb[f].context){this.Va=Math.max(d.Sb[f].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.WLb=new (function(){this.update=function(d){for(var f in d.Sb){if("continueWatching" === d.Sb[f].context){this.Va=Math.max(d.Sb[f].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.wIb=new (function(){this.update=function(d){for(var f in d.Sb){if("bigRow" === d.Sb[f].context){this.Va=Math.max(d.Sb[f].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.FVb=new (function(){this.update=function(d){for(var f in d.Sb){if("genre" === d.Sb[f].context){this.Va=Math.max(d.Sb[f].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.S6b=new (function(){this.update=function(d){for(var f in d.Sb){if("netflixOriginals" === d.Sb[f].context){this.Va=Math.max(d.Sb[f].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.V6b=new (function(){this.update=function(d){for(var f in d.Sb){if("newRelease" === d.Sb[f].context){this.Va=Math.max(d.Sb[f].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.T$b=new (function(){this.update=function(d){for(var f in d.Sb){if("popularTitles" === d.Sb[f].context){this.Va=Math.max(d.Sb[f].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.lu=new (function(){this.update=function(d){for(var f in d.Sb){if("queue" === d.Sb[f].context){this.Va=Math.max(d.Sb[f].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.Ubc=new (function(){this.update=function(d){for(var f in d.Sb){if("recentlyAdded" === d.Sb[f].context){this.Va=Math.max(d.Sb[f].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.Egc=new (function(){this.update=function(d){for(var f in d.Sb){if("similars" === d.Sb[f].context){this.Va=Math.max(d.Sb[f].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.vjc=new (function(){this.update=function(d){for(var f in d.Sb){if("trendingNow" === d.Sb[f].context){this.Va=Math.max(d.Sb[f].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.Qjc=new (function(){this.update=function(d){for(var f in d.Sb){if("ultraHD" === d.Sb[f].context){this.Va=Math.max(d.Sb[f].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.Ulc=new (function(){this.update=function(d){for(var f in d.Sb){if("watchAgain" === d.Sb[f].context){this.Va=Math.max(d.Sb[f].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.hjc=new (function(){this.update=function(d){for(var f in d.Sb){if("topTen" === d.Sb[f].context){this.Va=Math.max(d.Sb[f].list.length,this.Va);break;}}};this.type="num";this.Va=0;})();a.fMb=new (function(){this.type="cat";})();a.gMb=new (function(){this.type="cat";})();a.hMb=new (function(){this.type="cat";})();a.iMb=new (function(){this.type="cat";})();a.jMb=new (function(){this.type="cat";})();a.kMb=new (function(){this.type="cat";})();a.lMb=new (function(){this.type="cat";})();a.mMb=new (function(){this.type="cat";})();a.nMb=new (function(){this.type="cat";})();a.oMb=new (function(){this.type="cat";})();a.pMb=new (function(){this.type="cat";})();a.qMb=new (function(){this.type="cat";})();a.rMb=new (function(){this.type="cat";})();a.sMb=new (function(){this.type="cat";})();a.tMb=new (function(){this.type="cat";})();a.uMb=new (function(){this.type="cat";})();a.vMb=new (function(){this.type="cat";})();a.wMb=new (function(){this.type="cat";})();a.xMb=new (function(){this.type="cat";})();a.yMb=new (function(){this.type="cat";})();a.zMb=new (function(){this.type="cat";})();a.AMb=new (function(){this.type="cat";})();a.BMb=new (function(){this.type="cat";})();a.CMb=new (function(){this.type="cat";})();a.DMb=new (function(){this.type="cat";})();a.EMb=new (function(){this.type="cat";})();a.FMb=new (function(){this.type="cat";})();a.GMb=new (function(){this.type="cat";})();a.HMb=new (function(){this.type="cat";})();a.IMb=new (function(){this.type="cat";})();a.JMb=new (function(){this.type="cat";})();a.KMb=new (function(){this.type="cat";})();a.LMb=new (function(){this.type="cat";})();a.MMb=new (function(){this.type="cat";})();a.NMb=new (function(){this.type="cat";})();a.OMb=new (function(){this.type="cat";})();a.PMb=new (function(){this.type="cat";})();a.QMb=new (function(){this.type="cat";})();a.RMb=new (function(){this.type="cat";})();a.SMb=new (function(){this.type="cat";})();a.TMb=new (function(){this.type="cat";})();a.UMb=new (function(){this.type="cat";})();a.VMb=new (function(){this.type="cat";})();a.WMb=new (function(){this.type="cat";})();a.XMb=new (function(){this.type="cat";})();a.YMb=new (function(){this.type="cat";})();a.ZMb=new (function(){this.type="cat";})();a.$Mb=new (function(){this.type="cat";})();a.aNb=new (function(){this.type="cat";})();a.bNb=new (function(){this.type="cat";})();a.cNb=new (function(){this.type="cat";})();a.dNb=new (function(){this.type="cat";})();a.eNb=new (function(){this.type="cat";})();a.fNb=new (function(){this.type="cat";})();a.gNb=new (function(){this.type="cat";})();a.hNb=new (function(){this.type="cat";})();a.iNb=new (function(){this.type="cat";})();a.jNb=new (function(){this.type="cat";})();a.kNb=new (function(){this.type="cat";})();a.lNb=new (function(){this.type="cat";})();a.mNb=new (function(){this.type="cat";})();a.nNb=new (function(){this.type="cat";})();a.oNb=new (function(){this.type="cat";})();a.pNb=new (function(){this.type="cat";})();a.qNb=new (function(){this.type="cat";})();a.rNb=new (function(){this.type="cat";})();a.sNb=new (function(){this.type="cat";})();a.tNb=new (function(){this.type="cat";})();a.uNb=new (function(){this.type="cat";})();a.vNb=new (function(){this.type="cat";})();a.wNb=new (function(){this.type="cat";})();a.xNb=new (function(){this.type="cat";})();a.yNb=new (function(){this.type="cat";})();a.zNb=new (function(){this.type="cat";})();a.ANb=new (function(){this.type="cat";})();a.BNb=new (function(){this.type="cat";})();a.CNb=new (function(){this.type="cat";})();a.DNb=new (function(){this.type="cat";})();a.ENb=new (function(){this.type="cat";})();a.Xbc=new (function(){this.type="cat";})();a.Ybc=new (function(){this.type="cat";})();a.Zbc=new (function(){this.type="cat";})();a.$bc=new (function(){this.type="cat";})();a.acc=new (function(){this.type="cat";})();a.bcc=new (function(){this.type="cat";})();a.ccc=new (function(){this.type="cat";})();a.dcc=new (function(){this.type="cat";})();a.ecc=new (function(){this.type="cat";})();a.fcc=new (function(){this.type="cat";})();a.gcc=new (function(){this.type="cat";})();a.hcc=new (function(){this.type="cat";})();a.icc=new (function(){this.type="cat";})();a.jcc=new (function(){this.type="cat";})();a.kcc=new (function(){this.type="cat";})();a.lcc=new (function(){this.type="cat";})();a.mcc=new (function(){this.type="cat";})();a.ncc=new (function(){this.type="cat";})();a.occ=new (function(){this.type="cat";})();a.pcc=new (function(){this.type="cat";})();a.qcc=new (function(){this.type="cat";})();a.rcc=new (function(){this.type="cat";})();a.scc=new (function(){this.type="cat";})();a.Whc=new (function(){this.update=function(d){"down" === d.direction && this.Va++;};this.type="num";this.Va=0;})();a.Yhc=new (function(){this.update=function(d){"right" === d.direction && this.Va++;};this.type="num";this.Va=0;})();a.Xhc=new (function(){this.update=function(d){"left" === d.direction && this.Va++;};this.type="num";this.Va=0;})();a.Zhc=new (function(){this.update=function(d){"up" === d.direction && this.Va++;};this.type="num";this.Va=0;})();a.C5b=new (function(){this.Va=0;this.update=function(d){this.Va=Math.max(this.Va,d.rowIndex);};this.type="num";})();a.D5b=new (function(){this.Va=0;this.update=function(d){this.Va=Math.max(this.Va,d.O2a);};this.type="num";})();a.G5b=new (function(){this.PH=this.Va=0;this.update=function(d){this.PH++;this.Va=1 * (this.Va + d.rowIndex) / this.PH;};this.type="num";})();a.H5b=new (function(){this.PH=this.Va=0;this.update=function(d){this.PH++;return this.Va=1 * (this.Va + d.O2a) / this.PH;};this.type="num";})();a.Bac=new (function(){this.type="num";})();a.Cac=new (function(){this.type="num";})();l.prototype.vG=function(d){return this.DZa(this.V["0"].Nkb(d),d);};l.prototype.DZa=function(d,f){return "string" == typeof d?this.DZa(this.V[d].Nkb(f),f):d;};c.prototype.Nkb=function(d){switch(this.I2b){case 0:switch(d.features[this.x2].type){case "cat":return null === d.features[this.x2].value?this.Nfb:"missing" == d.features[this.x2].value?this.dAa:this.Gqb;case "num":return null === d.features[this.x2].value?this.dAa:d.features[this.x2].value < this.split?this.Gqb:this.Nfb;default:return this.dAa;}case 1:return this.vG;default:return this.vG;}};b.declare({B_:["modelSelector","modelone"],oLb:["colEpisodeList",5],$_b:["holdDuration",15E3],ykb:["rowFirst",2],N2a:["colFirst",5],zkb:["rowScroll",2],P2a:["colScroll",6],Xdc:["rowScrollHorizontal",6],wec:["searchTop",3],s4a:["cwFirst",2],gZ:["horizontalItemsFocusedMode",3],K2b:["itemsPerRank",1],r5b:["maxNumberPayloadsStored",10],oeb:["maxNumberTitlesScheduled",5],Ptc:["enableDetailedLogging",!0],Owc:["rowStep",20],$sc:["colStep",15],mwc:["pageRows",100],lwc:["pageColumns",75],sza:["maskParamsList",new (function(){var d,f;this.sza=[];this.Wm={};this.rfa=20;this.h9=15;for(d=0;100 > d;d++){for(f=0;75 > f;f++){(Math.floor(d / this.rfa) + "_" + Math.floor(f / this.h9) in this.Wm) || (this.Wm[Math.floor(d / this.rfa) + "_" + Math.floor(f / this.h9)]=1,this.sza.push(new g("grid",10,5,5,Math.floor(d / this.rfa),Math.floor(f / this.h9))));}}})().sza],V:["nodes",new l().V],mapping:["mapping",{D5b:"0",H5b:"1",C5b:"2",G5b:"3",HHb:"4",Zhc:"5",Xhc:"6",Yhc:"7",Whc:"8",Cac:"9",Bac:"10",z3b:"11",A3b:"12",C3b:"13",D3b:"14",B3b:"15",E3b:"16",F3b:"17",G3b:"18",H3b:"19",I3b:"20",J3b:"21",K3b:"22",L3b:"23",M3b:"24",N3b:"25",O3b:"26",Xbc:"27",Ybc:"28",Zbc:"29",$bc:"30",acc:"31",bcc:"32",ccc:"33",dcc:"34",ecc:"35",fcc:"36",gcc:"37",hcc:"38",icc:"39",jcc:"40",kcc:"41",lcc:"42",mcc:"43",ncc:"44",occ:"45",pcc:"46",qcc:"47",rcc:"48",scc:"49",fMb:"50",gMb:"51",hMb:"52",iMb:"53",jMb:"54",kMb:"55",lMb:"56",mMb:"57",nMb:"58",oMb:"59",pMb:"60",qMb:"61",rMb:"62",sMb:"63",tMb:"64",uMb:"65",vMb:"66",wMb:"67",xMb:"68",yMb:"69",zMb:"70",AMb:"71",BMb:"72",CMb:"73",DMb:"74",EMb:"75",FMb:"76",GMb:"77",HMb:"78",IMb:"79",JMb:"80",KMb:"81",LMb:"82",MMb:"83",NMb:"84",OMb:"85",PMb:"86",QMb:"87",RMb:"88",SMb:"89",TMb:"90",UMb:"91",VMb:"92",WMb:"93",XMb:"94",YMb:"95",ZMb:"96",$Mb:"97",aNb:"98",bNb:"99",cNb:"100",dNb:"101",eNb:"102",fNb:"103",gNb:"104",hNb:"105",iNb:"106",jNb:"107",kNb:"108",lNb:"109",mNb:"110",nNb:"111",oNb:"112",pNb:"113",qNb:"114",rNb:"115",sNb:"116",tNb:"117",uNb:"118",vNb:"119",wNb:"120",xNb:"121",yNb:"122",zNb:"123",ANb:"124",BNb:"125",CNb:"126",DNb:"127",ENb:"128",Ulc:"129",Ubc:"130",Egc:"131",lu:"132",WLb:"133",FVb:"134",vjc:"135",hjc:"136",xIb:"137",V6b:"138",Qjc:"139",T$b:"140",tIb:"141",wIb:"142",uIb:"143",S6b:"144"}],features:["features",a],Wrc:["_modelName","tree"],Rrc:["_format","xgboost"],Vrc:["_itemsToKeep",5],Urc:["_itemsThreshold",null],Hsc:["cacheLimit",20]});r.exports={config:b,uvc:g,itc:c};},function(r,b,a){r.exports=a(606);},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(607);a(608)();a(635)();mb._cad_global={};mb.DEBUG=!1;a(17);a(14);a(15);a(23);a(44);a(95);a(1444);a(600);a(59);a(62);a(22);a(70);a(58);a(1445);a(308);a(367);a(1446);a(579);a(1447);a(576);a(583);a(581);a(582);a(570);a(571);a(573);a(304);a(303);a(1448);a(19);a(589);a(1449);a(210);a(107);a(577);a(204);a(539);a(540);a(538);a(1450);a(1451);a(537);a(1452);a(529);a(306);a(527);a(305);a(569);a(1453);a(307);a(585);a(207);a(601);a(167);a(1455);a(140);a(1462);a(1463);a(1465);a(1467);a(584);a(64);a(580);a(506);a(578);a(587);a(1468);a(314);a(141);a(1469);a(1470);a(1471);a(1473);a(1474);a(574);},function(r,b,a){(function(c){var l;(function(g){var G,F,L,O,K,I,M,H,J;function m(N,P,W){var V;V=J.get(N);if(!V){if(!W)return;V=new M();J.set(N,V);}N=V.get(P);if(!N){if(!W)return;N=new M();V.set(P,N);}return N;}function d(N,P,W){if(f(N,P,W))return !0;P=u(P);return null !== P?d(N,P,W):!1;}function f(N,P,W){P=m(P,W,!1);return void 0 !== P && !!P.has(N);}function h(N,P,W){if(f(N,P,W))return k(N,P,W);P=u(P);return null !== P?h(N,P,W):void 0;}function k(N,P,W){P=m(P,W,!1);return void 0 === P?void 0:P.get(N);}function n(N,P){var W,S;W=p(N,P);N=u(N);if(null === N)return W;P=n(N,P);if(0 >= P.length)return W;if(0 >= W.length)return P;N=new H();for(var V=0;V < W.length;V++){S=W[V];N.add(S);}for(W=0;W < P.length;W++){S=P[W];N.add(S);}return z(N);}function p(N,P){var W;N=m(N,P,!1);W=[];N && y(N,function(V,S){return W.push(S);});return W;}function q(N){return void 0 === N;}function v(N){return Array.isArray?Array.isArray(N):N instanceof Array || "[object Array]" === Object.prototype.toString.call(N);}function t(N){return "object" === typeof N?null !== N:"function" === typeof N;}function w(N){return "symbol" === typeof N?N:String(N);}function u(N){var P,W;P=Object.getPrototypeOf(N);if("function" !== typeof N || N === I || P !== I)return P;W=N.prototype;W=W && Object.getPrototypeOf(W);if(null == W || W === Object.prototype)return P;W=W.constructor;return "function" !== typeof W || W === N?P:W;}function x(N){N=N.next();return N.done?void 0:N;}function y(N,P,W){var V,S,U;V=N.entries;if("function" === typeof V){V=V.call(N);try{for(;S=x(V);){U=S.value;P.call(W,U[1],U[0],N);}}finally{S && (N=V["return"]) && N.call(V);}}else (V=N.forEach,"function" === typeof V && V.call(N,P,W));}function z(N){var P;P=[];y(N,function(W,V){P.push(V);});return P;}function B(N,P,W){var V;V=0;return {next:function(){var S;if((N || P) && V < (N || P).length){S=V++;switch(W){case "key":return {value:N[S],done:!1};case "value":return {value:P[S],done:!1};case "key+value":return {value:[N[S],P[S]],done:!1};}}P=N=void 0;return {value:void 0,done:!0};},"throw":function(S){if(N || P)P=N=void 0;throw S;},"return":function(S){if(N || P)P=N=void 0;return {value:S,done:!0};}};}function A(){var N;N={};return (function(){function P(){this.Kf=[];this.jg=[];this.tx=N;this.cv=-2;}Object.defineProperty(P.prototype,"size",{get:function(){return this.Kf.length;},enumerable:!0,configurable:!0});P.prototype.has=function(W){return 0 <= this.oA(W,!1);};P.prototype.get=function(W){W=this.oA(W,!1);return 0 <= W?this.jg[W]:void 0;};P.prototype.set=function(W,V){W=this.oA(W,!0);this.jg[W]=V;return this;};P.prototype.delete=function(W){var V;V=this.oA(W,!1);if(0 <= V){W=this.Kf.length;for(V+=1;V < W;V++){this.Kf[V - 1]=this.Kf[V];this.jg[V - 1]=this.jg[V];}this.Kf.length--;this.jg.length--;this.tx=N;this.cv=-2;return !0;}return !1;};P.prototype.clear=function(){this.Kf.length=0;this.jg.length=0;this.tx=N;this.cv=-2;};P.prototype.keys=function(){return B(this.Kf,void 0,"key");};P.prototype.values=function(){return B(void 0,this.jg,"value");};P.prototype.entries=function(){return B(this.Kf,this.jg,"key+value");};P.prototype.oA=function(W,V){var S;if(this.tx === W)return this.cv;S=this.Kf.indexOf(W);0 > S && V && (S=this.Kf.length,this.Kf.push(W),this.jg.push(void 0));return (this.tx=W,this.cv=S);};return P;})();}function C(){return (function(){function N(){this.Fg=new M();}Object.defineProperty(N.prototype,"size",{get:function(){return this.Fg.size;},enumerable:!0,configurable:!0});N.prototype.has=function(P){return this.Fg.has(P);};N.prototype.add=function(P){return (this.Fg.set(P,P),this);};N.prototype.delete=function(P){return this.Fg.delete(P);};N.prototype.clear=function(){this.Fg.clear();};N.prototype.keys=function(){return this.Fg.keys();};N.prototype.values=function(){return this.Fg.values();};N.prototype.entries=function(){return this.Fg.entries();};return N;})();}function D(){var V,S;function N(U,fa){for(var qa=0;qa < fa;++qa){U[qa]=255 * Math.random() | 0;}return U;}function P(){var U,za;do {U="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):N(new Uint8Array(16),16):N(Array(16),16);U[6]=U[6] & 79 | 64;U[8]=U[8] & 191 | 128;for(var fa="",qa=0;16 > qa;++qa){za=U[qa];if(4 === qa || 6 === qa || 8 === qa)fa+="-";16 > za && (fa+="0");fa+=za.toString(16).toLowerCase();}U="@@WeakMap@@" + fa;}while(K.has(V,U));V[U]=!0;return U;}function W(U,fa){if(!G.call(U,S)){if(!fa)return;Object.defineProperty(U,S,{value:O()});}return U[S];}V=O();S=P();return (function(){function U(){this.nv=P();}U.prototype.has=function(fa){fa=W(fa,!1);return void 0 !== fa?K.has(fa,this.nv):!1;};U.prototype.get=function(fa){fa=W(fa,!1);return void 0 !== fa?K.get(fa,this.nv):void 0;};U.prototype.set=function(fa,qa){W(fa,!0)[this.nv]=qa;return this;};U.prototype.delete=function(fa){fa=W(fa,!1);return void 0 !== fa?delete fa[this.nv]:!1;};U.prototype.clear=function(){this.nv=P();};return U;})();}function E(N){N.Nrc=1;delete N.Orc;return N;}G=Object.prototype.hasOwnProperty;F="function" === typeof Object.create;L=(function(){var P;function N(){}P={};N.prototype=P;return new N().__proto__ === P;})();O=F?function(){return E(Object.create(null));}:L?function(){return E({__proto__:null});}:function(){return E({});};(function(N){var P;P=!F && !L;N.has=P?function(W,V){return G.call(W,V);}:function(W,V){return (V in W);};N.get=P?function(W,V){return G.call(W,V)?W[V]:void 0;}:function(W,V){return W[V];};})(K || (K={}));I=Object.getPrototypeOf(Function);M="function" === typeof Map?Map:A();H="function" === typeof Set?Set:C();J=new ("function" === typeof WeakMap?WeakMap:D())();g.ME=function(N,P,W,V){var U;if(q(V)){if(q(W)){if(!v(N))throw new TypeError();if("function" !== typeof P)throw new TypeError();for(W=N.length - 1;0 <= W;--W){if((V=(0,N[W])(P),!q(V))){if("function" !== typeof V)throw new TypeError();P=V;}}return P;}if(!v(N))throw new TypeError();if(!t(P))throw new TypeError();W=w(W);for(V=N.length - 1;0 <= V;--V){(0,N[V])(P,W);}}else {if(!v(N))throw new TypeError();if(!t(P))throw new TypeError();if(q(W))throw new TypeError();if(!t(V))throw new TypeError();W=w(W);for(var S=N.length - 1;0 <= S;--S){U=(0,N[S])(P,W,V);if(!q(U)){if(!t(U))throw new TypeError();V=U;}}return V;}};g.gd=function(N,P){return function(W,V){if(q(V)){if("function" !== typeof W)throw new TypeError();m(W,void 0,!0).set(N,P);}else {if(!t(W))throw new TypeError();V=w(V);m(W,V,!0).set(N,P);}};};g.O9=function(N,P,W,V){if(!t(W))throw new TypeError();q(V) || (V=w(V));m(W,V,!0).set(N,P);};g.x_b=function(N,P){var W;if(!t(P))throw new TypeError();q(W) || (W=w(W));return d(N,P,W);};g.vwa=function(N,P){var W;if(!t(P))throw new TypeError();q(W) || (W=w(W));return f(N,P,W);};g.getMetadata=function(N,P,W){if(!t(P))throw new TypeError();q(W) || (W=w(W));return h(N,P,W);};g.N9a=function(N,P,W){if(!t(P))throw new TypeError();q(W) || (W=w(W));return k(N,P,W);};g.tuc=function(N,P){if(!t(N))throw new TypeError();q(P) || (P=w(P));return n(N,P);};g.vuc=function(N,P){if(!t(N))throw new TypeError();q(P) || (P=w(P));return p(N,P);};g.vtc=function(N,P,W){var V;if(!t(P))throw new TypeError();q(W) || (W=w(W));V=m(P,W,!1);if(q(V) || !V.delete(N))return !1;if(0 < V.size)return !0;N=J.get(P);N.delete(W);if(0 < N.size)return !0;J.delete(P);return !0;};(function(N){if("undefined" !== typeof N.Reflect){if(N.Reflect !== g)for(var P in g){G.call(g,P) && (N.Reflect[P]=g[P]);}}else N.Reflect=g;})("undefined" !== typeof mb?mb:"undefined" !== typeof WorkerGlobalScope?self:"undefined" !== typeof c?c:Function("return this;")());})(l || (l={}));}).call(this,a(211));},function(r,b,a){var c,l;c=a(317);l=a(612);r.exports=function(){var g;g=l();c(Array.prototype,{includes:g},{includes:function(){return Array.prototype.includes !== g;}});return g;};},function(r,b,a){var c,l,g,m,d;c=Array.prototype.slice;l=a(318);g=Object.keys;m=g?function(f){return g(f);}:a(610);d=Object.keys;m.lxc=function(){Object.keys?(function(){var f;f=Object.keys(arguments);return f && f.length === arguments.length;})(1,2) || (Object.keys=function(f){return l(f)?d(c.call(f)):d(f);}):Object.keys=m;return Object.keys || m;};r.exports=m;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p;if(!Object.keys){c=Object.prototype.hasOwnProperty;l=Object.prototype.toString;g=a(318);b=Object.prototype.propertyIsEnumerable;m=!b.call({toString:null},"toString");d=b.call(function(){},"prototype");f=("toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor").split(" ");h=function(q){var v;v=q.constructor;return v && v.prototype === q;};k={pmc:!0,qmc:!0,rmc:!0,smc:!0,tmc:!0,umc:!0,vmc:!0,wmc:!0,xmc:!0,ymc:!0,zmc:!0,Amc:!0,Bmc:!0,Cmc:!0,Dmc:!0,Emc:!0,Fmc:!0,Gmc:!0,Hmc:!0,Imc:!0,Jmc:!0,Kmc:!0,Lmc:!0};n=(function(){if("undefined" === typeof mb)return !1;for(var q in mb){try{if(!k["$" + q] && c.call(mb,q) && null !== mb[q] && "object" === typeof mb[q])try{h(mb[q]);}catch(v){return !0;}}catch(v){return !0;}}return !1;})();p=function(q){var v,t,w,u,x,z;v=null !== q && "object" === typeof q;t="[object Function]" === l.call(q);w=g(q);u=v && "[object String]" === l.call(q);x=[];if(!v && !t && !w)throw new TypeError("Object.keys called on a non-object");v=d && t;if(u && 0 < q.length && !c.call(q,0))for(u=0;u < q.length;++u){x.push(String(u));}if(w && 0 < q.length)for(w=0;w < q.length;++w){x.push(String(w));}else for(var y in q){v && "prototype" === y || !c.call(q,y) || x.push(String(y));}if(m){if("undefined" !== typeof mb && n)try{z=h(q);}catch(B){z=!1;}else z=h(q);for(w=0;w < f.length;++w){z && "constructor" === f[w] || !c.call(q,f[w]) || x.push(f[w]);}}return x;};}r.exports=p;},function(r){var b,a;b=Array.prototype.slice;a=Object.prototype.toString;r.exports=function(c){var l;l=this;if("function" !== typeof l || "[object Function]" !== a.call(l))throw new TypeError("Function.prototype.bind called on incompatible " + l);for(var g=b.call(arguments,1),m,d=Math.max(0,l.length - g.length),f=[],h=0;h < d;h++){f.push("$" + h);}m=Function("binder","return function (" + f.join(",") + "){ return binder.apply(this,arguments); }")(function(){var k;if(this instanceof m){k=l.apply(this,g.concat(b.call(arguments)));return Object(k) === k?k:this;}return l.apply(c,g.concat(b.call(arguments)));});l.prototype && (d=function(){},d.prototype=l.prototype,m.prototype=new d(),d.prototype=null);return m;};},function(r,b,a){var c;c=a(613);r.exports=function(){return Array.prototype.includes && Array(1).includes(void 0)?Array.prototype.includes:c;};},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q;c=a(322);l=a(628);g=a(630);m=a(633);d=a(142);f=a(324);b=a(40);h=a(122);k=a(634);n=h("String.prototype.charAt");p=b("%Array.prototype.indexOf%");q=b("%Math.max%");r.exports=function(v){var t,w,u;t=1 < arguments.length?c(arguments[1]):0;if(p && !d(v) && f(t) && "undefined" !== typeof v)return -1 < p.apply(this,arguments);w=g(this);u=l(w.length);if(0 === u)return !1;for(t=0 <= t?t:q(0,u + t);t < u;){if(m(v,k(w)?n(w,t):w[t]))return !0;t+=1;}return !1;};},function(r,b,a){var c;c=a(40)("%Math.abs%");r.exports=function(l){return c(l);};},function(r,b,a){var c,l;c=a(96);l=Math.floor;r.exports=function(g){return "BigInt" === c(g)?g:l(g);};},function(r){r.exports=function(b){if(null === b)return "Null";if("undefined" === typeof b)return "Undefined";if("function" === typeof b || "object" === typeof b)return "Object";if("number" === typeof b)return "Number";if("boolean" === typeof b)return "Boolean";if("string" === typeof b)return "String";};},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t,w;c=a(40);l=c("%TypeError%");g=c("%Number%");b=c("%RegExp%");m=c("%parseInt%");c=a(122);d=a(619);f=a(621);h=c("String.prototype.slice");k=d(/^0b[01]+$/i);n=d(/^0o[0-7]+$/i);p=d(/^[-+]0x[0-9a-f]+$/i);b=new b("[\u0085\u200b\ufffe]","g");q=d(b);v=/(^[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]+)|([\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]+$)/g;t=c("String.prototype.replace");w=a(622);r.exports=function y(x){var z;x=f(x)?x:w(x,g);if("symbol" === typeof x)throw new l("Cannot convert a Symbol value to a number");if("bigint" === typeof x)throw new l("Conversion from 'BigInt' to 'number' is not allowed.");if("string" === typeof x){if(k(x))return y(m(h(x,2),2));if(n(x))return y(m(h(x,2),8));if(q(x) || p(x))return NaN;z=t(x,v,"");if(z !== x)return y(z);}return g(x);};},function(r,b,a){var l,g,m,d,f,h,k;function c(){return d(l,g,arguments);}l=a(212);b=a(40);g=b("%Function.prototype.apply%");m=b("%Function.prototype.call%");d=b("%Reflect.apply%",!0) || l.call(m,g);f=b("%Object.getOwnPropertyDescriptor%",!0);h=b("%Object.defineProperty%",!0);k=b("%Math.max%");if(h)try{h({},"a",{value:1});}catch(n){h=null;}r.exports=function(n){var p;p=d(l,m,arguments);f && h && f(p,"length").configurable && h(p,"length",{value:1 + k(0,n.length - (arguments.length - 1))});return p;};h?h(r.exports,"apply",{value:c}):r.exports.apply=c;},function(r,b,a){var c,l,g,m;b=a(122);c=a(40);l=a(620);g=b("RegExp.prototype.exec");m=c("%TypeError%");r.exports=function(d){if(!l(d))throw new m("`regex` must be a RegExp");return function(f){return null !== g(d,f);};};},function(r,b,a){var c,l,g,m,d,f,h;b=a(122);if(a=a(213)()){c=b("Object.prototype.hasOwnProperty");l=b("RegExp.prototype.exec");g={};m=function(){throw g;};d={toString:m,valueOf:m};"symbol" === typeof Symbol.toPrimitive && (d[Symbol.toPrimitive]=m);}f=b("Object.prototype.toString");h=Object.getOwnPropertyDescriptor;r.exports=a?function(k){var n;if(!k || "object" !== typeof k)return !1;n=h(k,"lastIndex");if(!n || !c(n,"value"))return !1;try{l(k,d);}catch(p){return p === g;}}:function(k){return !k || "object" !== typeof k && "function" !== typeof k?!1:"[object RegExp]" === f(k);};},function(r){r.exports=function(b){return null === b || "function" !== typeof b && "object" !== typeof b;};},function(r,b,a){var c;c=a(623);r.exports=function(l){return 1 < arguments.length?c(l,arguments[1]):c(l);};},function(r,b,a){var c,l,g,m,d;c="function" === typeof Symbol && "symbol" === typeof Symbol.iterator;l=a(624);g=a(323);m=a(625);d=a(626);r.exports=function(f){var h,k,n;if(l(f))return f;h="default";1 < arguments.length && (arguments[1] === String?h="string":arguments[1] === Number && (h="number"));if(c)if(Symbol.toPrimitive){k=Symbol.toPrimitive;n=f[k];if(null !== n && "undefined" !== typeof n){if(!g(n))throw new TypeError(n + " returned for property " + k + " of object " + f + " is not a function");k=n;}else k=void 0;}else d(f) && (k=Symbol.prototype.valueOf);if("undefined" !== typeof k){h=k.call(f,h);if(l(h))return h;throw new TypeError("unable to convert exotic object to primitive");}"default" === h && (m(f) || d(f)) && (h="string");a:{h="default" === h?"number":h;if("undefined" === typeof f || null === f)throw new TypeError("Cannot call method on " + f);if("string" !== typeof h || "number" !== h && "string" !== h)throw new TypeError('hint must be "string" or "number"');h="string" === h?["toString","valueOf"]:["valueOf","toString"];for(k=0;k < h.length;++k){if((n=f[h[k]],g(n) && (n=n.call(f),l(n))))break a;}throw new TypeError("No default value");}return n;};},function(r){r.exports=function(b){return null === b || "function" !== typeof b && "object" !== typeof b;};},function(r,b,a){var c,l,g;c=Date.prototype.getDay;l=Object.prototype.toString;g=a(213)();r.exports=function(m){if("object" !== typeof m || null === m)m=!1;else if(g)try{c.call(m);m=!0;}catch(d){m=!1;}else m="[object Date]" === l.call(m);return m;};},function(r,b,a){var c,l,g;c=Object.prototype.toString;if(a(320)()){l=Symbol.prototype.toString;g=/^Symbol\(.*\)$/;r.exports=function(m){if("symbol" === typeof m)return !0;if("[object Symbol]" !== c.call(m))return !1;try{return "symbol" !== typeof m.valueOf()?!1:g.test(l.call(m));}catch(d){return !1;}};}else r.exports=function(){return !1;};},function(r){r.exports=function(b){return 0 <= b?1:-1;};},function(r,b,a){var c,l;c=a(629);l=a(322);r.exports=function(g){g=l(g);return 0 >= g?0:g > c?c:g;};},function(r,b,a){a=a(40);b=a("%Math%");a=a("%Number%");r.exports=a.MAX_SAFE_INTEGER || b.pow(2,53) - 1;},function(r,b,a){var c,l;c=a(40)("%Object%");l=a(631);r.exports=function(g){l(g);return c(g);};},function(r,b,a){r.exports=a(632);},function(r,b,a){var c;c=a(40)("%TypeError%");r.exports=function(l,g){if(null == l)throw new c(g || "Cannot call method on " + l);return l;};},function(r,b,a){var c;c=a(142);r.exports=function(l,g){return l === g || c(l) && c(g);};},function(r,b,a){var c,l,g;c=String.prototype.valueOf;l=Object.prototype.toString;g=a(213)();r.exports=function(m){if("string" === typeof m)m=!0;else if("object" !== typeof m)m=!1;else if(g)try{c.call(m);m=!0;}catch(d){m=!1;}else m="[object String]" === l.call(m);return m;};},function(r,b,a){var c,l,g;c=a(214);l=a(636);g=a(317);r.exports=function(){var m;c();m=l();g(Promise.prototype,{"finally":m},{"finally":function(){return Promise.prototype["finally"] !== m;}});return m;};},function(r,b,a){var c,l;c=a(214);l=a(637);r.exports=function(){c();return "function" === typeof Promise.prototype["finally"]?Promise.prototype["finally"]:l;};},function(r,b,a){var d,f,h,k;function c(n){var p,q,v;if("Object" !== h(this))throw new TypeError("receiver is not an Object");p=f(this,k);q=n;v=n;d(n) && (q=g(p,n),v=l(p,n));return this.then(q,v);}function l(n,p){return function(q){var v;v=p();return m(n,v).then(function(){throw q;});};}function g(n,p){return function(q){var v;v=p();return m(n,v).then(function(){return q;});};}function m(n,p){return new n(function(q){q(p);});}a(214)();d=a(325);f=a(638);h=a(96);k=Promise;Object.getOwnPropertyDescriptor && (b=Object.getOwnPropertyDescriptor(c,"name")) && b.configurable && Object.defineProperty(c,"name",{configurable:!0,value:"finally"});r.exports=c;},function(r,b,a){var c,l,g,m;b=a(40);c=b("%Symbol.species%",!0);l=b("%TypeError%");g=a(639);m=a(96);r.exports=function(d,f){if("Object" !== m(d))throw new l("Assertion failed: Type(O) is not Object");d=d.constructor;if("undefined" === typeof d)return f;if("Object" !== m(d))throw new l("O.constructor is not an Object");d=c?d[c]:void 0;if(null == d)return f;if(g(d))return d;throw new l("no constructor found");};},function(r,b,a){var c,l,g;c=a(640)("%Reflect.construct%",!0);b=a(641);try{b({},"",{"[[Get]]":function(){}});}catch(m){b=null;}if(b && c){l={};g={};b(g,"length",{"[[Get]]":function(){throw l;},"[[Enumerable]]":!0});r.exports=function(m){try{c(m,g);}catch(d){return d === l;}};}else r.exports=function(m){return "function" === typeof m && !!m.prototype;};},function(r,b,a){r.exports=a(40);},function(r,b,a){var c,l,g,m,d,f,h,k,n,p;c=a(40)("%TypeError%");l=a(642);g=a(643);m=a(645);d=a(648);f=a(649);h=a(650);k=a(651);n=a(652);p=a(96);r.exports=function(q,v,t){if("Object" !== p(q))throw new c("Assertion failed: Type(O) is not Object");if(!h(v))throw new c("Assertion failed: IsPropertyKey(P) is not true");t=l({cWa:p,XNa:f,WNa:d},t)?t:n(t);if(!l({cWa:p,XNa:f,WNa:d},t))throw new c("Assertion failed: Desc is not a valid Property Descriptor");return g(f,k,m,q,v,t);};},function(r,b,a){var c,l;b=a(40);c=a(108);l=b("%TypeError%");r.exports=function(g,m){var d,f;if("Object" !== g.cWa(m))return !1;d={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(f in m){if(c(m,f) && !d[f])return !1;}if(g.XNa(m) && g.WNa(m))throw new l("Property Descriptors may not be both accessor and data descriptors");return !0;};},function(r,b,a){var c,l,g,m,d;b=a(319);c=a(40);l=b() && c("%Object.defineProperty%",!0);g=b.n_b();m=g && a(644);d=a(122)("Object.prototype.propertyIsEnumerable");r.exports=function(f,h,k,n,p,q){if(!l){if(!f(q) || !q["[[Configurable]]"] || !q["[[Writable]]"] || (p in n) && d(n,p) !== !!q["[[Enumerable]]"])return !1;f=q["[[Value]]"];n[p]=f;return h(n[p],f);}if(g && "length" === p && ("[[Value]]" in q) && m(n) && n.length !== q["[[Value]]"])return (n.length=q["[[Value]]"],n.length === q["[[Value]]"]);l(n,p,k(q));return !0;};},function(r,b,a){var c;b=a(40)("%Array%");c=!b.isArray && a(122)("Object.prototype.toString");r.exports=b.isArray || (function(l){return "[object Array]" === c(l);});},function(r,b,a){var c,l,g;c=a(215);l=a(647);g=a(96);r.exports=function(m){"undefined" !== typeof m && c(g,"Property Descriptor","Desc",m);return l(m);};},function(r,b,a){var c;c=a(108);r.exports=function(l){return c(l,"[[StartIndex]]") && c(l,"[[EndIndex]]") && 0 <= l["[[StartIndex]]"] && l["[[EndIndex]]"] >= l["[[StartIndex]]"] && String(parseInt(l["[[StartIndex]]"],10)) === String(l["[[StartIndex]]"]) && String(parseInt(l["[[EndIndex]]"],10)) === String(l["[[EndIndex]]"]);};},function(r){r.exports=function(b){var a;if("undefined" === typeof b)return b;a={};("[[Value]]" in b) && (a.value=b["[[Value]]"]);("[[Writable]]" in b) && (a.writable=!!b["[[Writable]]"]);("[[Get]]" in b) && (a.get=b["[[Get]]"]);("[[Set]]" in b) && (a.set=b["[[Set]]"]);("[[Enumerable]]" in b) && (a.enumerable=!!b["[[Enumerable]]"]);("[[Configurable]]" in b) && (a.configurable=!!b["[[Configurable]]"]);return a;};},function(r,b,a){var c,l,g;c=a(108);l=a(215);g=a(96);r.exports=function(m){if("undefined" === typeof m)return !1;l(g,"Property Descriptor","Desc",m);return c(m,"[[Get]]") || c(m,"[[Set]]")?!0:!1;};},function(r,b,a){var c,l,g;c=a(108);l=a(215);g=a(96);r.exports=function(m){if("undefined" === typeof m)return !1;l(g,"Property Descriptor","Desc",m);return c(m,"[[Value]]") || c(m,"[[Writable]]")?!0:!1;};},function(r){r.exports=function(b){return "string" === typeof b || "symbol" === typeof b;};},function(r,b,a){var c;c=a(142);r.exports=function(l,g){return l === g?0 === l?1 / l === 1 / g:!0:c(l) && c(g);};},function(r,b,a){var c,l,g,m,d;c=a(108);l=a(40)("%TypeError%");g=a(96);m=a(653);d=a(325);r.exports=function(f){var h,k;if("Object" !== g(f))throw new l("ToPropertyDescriptor requires an object");h={};c(f,"enumerable") && (h["[[Enumerable]]"]=m(f.enumerable));c(f,"configurable") && (h["[[Configurable]]"]=m(f.configurable));c(f,"value") && (h["[[Value]]"]=f.value);c(f,"writable") && (h["[[Writable]]"]=m(f.writable));if(c(f,"get")){k=f.get;if("undefined" !== typeof k && !d(k))throw new l("getter must be a function");h["[[Get]]"]=k;}if(c(f,"set")){f=f.set;if("undefined" !== typeof f && !d(f))throw new l("setter must be a function");h["[[Set]]"]=f;}if((c(h,"[[Get]]") || c(h,"[[Set]]")) && (c(h,"[[Value]]") || c(h,"[[Writable]]")))throw new l("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return h;};},function(r){r.exports=function(b){return !!b;};},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v;c=this && this.__awaiter || (function(t,w,u,x){return new (u || (u=Promise))(function(y,z){function B(D){try{C(x.next(D));}catch(E){z(E);}}function A(D){try{C(x["throw"](D));}catch(E){z(E);}}function C(D){D.done?y(D.value):new u(function(E){E(D.value);}).then(B,A);}C((x=x.apply(t,w || [])).next());});});l=this && this.__generator || (function(t,w){var y,z,B,A,C;function u(D){return function(E){return x([D,E]);};}function x(D){if(z)throw new TypeError("Generator is already executing.");for(;y;){try{if((z=1,B && (A=B[D[0] & 2?"return":D[0]?"throw":"next"]) && !(A=A.call(B,D[1])).done))return A;if((B=0,A))D=[0,A.value];switch(D[0]){case 0:case 1:A=D;break;case 4:return (y.label++,{value:D[1],done:!1});case 5:y.label++;B=D[1];D=[0];continue;case 7:D=y.NK.pop();y.Es.pop();continue;default:if(!(A=y.Es,A=0 < A.length && A[A.length - 1]) && (6 === D[0] || 2 === D[0])){y=0;continue;}if(3 === D[0] && (!A || D[1] > A[0] && D[1] < A[3]))y.label=D[1];else if(6 === D[0] && y.label < A[1])(y.label=A[1],A=D);else if(A && y.label < A[2])(y.label=A[2],y.NK.push(D));else {A[2] && y.NK.pop();y.Es.pop();continue;}}D=w.call(t,y);}catch(E){D=[6,E];B=0;}finally{z=A=0;}}if(D[0] & 5)throw D[1];return {value:D[0]?D[1]:void 0,done:!0};}y={label:0,zb:function(){if(A[0] & 1)throw A[1];return A[1];},Es:[],NK:[]};return (C={next:u(0),"throw":u(1),"return":u(2)},"function" === typeof Symbol && (C[Symbol.iterator]=function(){return this;}),C);});Object.defineProperty(b,"__esModule",{value:!0});g=a(655);m=a(55);d=a(79);a(41);f=a(326);h=a(656);k=a(663);n=a(665);p=a(109);q=a(143);a(668);v=a(669);r=(function(){function t(w){w=w || ({});if("object" !== typeof w)throw Error("" + m.Bsb);if(void 0 === w.aJ)w.aJ=d.Qu.O5;else if(w.aJ !== d.Qu.Ila && w.aJ !== d.Qu.O5 && w.aJ !== d.Qu.Request)throw Error("" + m.zsb);if(void 0 === w.JW)w.JW=!1;else if("boolean" !== typeof w.JW)throw Error("" + m.ysb);if(void 0 === w.AL)w.AL=!1;else if("boolean" !== typeof w.AL)throw Error("" + m.Asb);this.options={JW:w.JW,aJ:w.aJ,AL:w.AL};this.id=p.id();this.MH=new v.Nvb();this.uEb=[];this.parent=this.Pna=null;this.dCb=new f.nka();}t.prototype.load=function(){var y,z;for(var w=[],u=0;u < arguments.length;u++){w[u]=arguments[u];}u=this.NXa();for(var x=0;x < w.length;x++){y=w[x];z=u(y.id);y.UCa(z.f1a,z.Eob,z.mcb,z.hjb);}};t.prototype.XZ=function(){for(var w=[],u=0;u < arguments.length;u++){w[u]=arguments[u];}c(this,void 0,void 0,function(){var x,y,z,B,A;return l(this,function(C){switch(C.label){case 0:(x=this.NXa(),y=0,z=w,C.label=1);case 1:if(!(y < z.length))return [3,4];B=z[y];A=x(B.id);return [4,B.UCa(A.f1a,A.Eob,A.mcb,A.hjb)];case 2:(C.zb(),C.label=3);case 3:return (y++,[3,1]);case 4:return [2];}});});};t.prototype.Job=function(){function w(z){return function(B){return B.jfb === z;};}for(var u=this,x=[],y=0;y < arguments.length;y++){x[y]=arguments[y];}x.forEach(function(z){z=w(z.id);u.MH.Icc(z);});};t.prototype.bind=function(w){var u;u=new g.Lrb(w,this.options.aJ || d.Qu.O5);this.MH.add(w,u);return new n.Nrb(u);};t.prototype.Qbc=function(w){this.Dob(w);return this.bind(w);};t.prototype.Dob=function(w){try{this.MH.remove(w);}catch(u){throw Error(m.isb + " " + q.PP(w));}};t.prototype.wbb=function(w){var u;u=this.MH.S$a(w);!u && this.parent && (u=this.parent.wbb(w));return u;};t.prototype.restore=function(){var w;w=this.uEb.pop();if(void 0 === w)throw Error(m.Awb);this.MH=w.MW;this.Pna=w.d6b;};t.prototype.NNb=function(){var w;w=new t(this.options);w.parent=this;return w;};t.prototype.get=function(w){return this.MXa(!1,!1,d.dA.bma,w);};t.prototype.getAll=function(w){return this.MXa(!0,!0,d.dA.bma,w);};t.prototype.resolve=function(w){var u;u=this.NNb();u.bind(w).aob();return u.get(w);};t.prototype.NXa=function(){var z;function w(B){return function(A){A=z.Qbc.bind(z)(A);A.Lc.jfb=B;return A;};}function u(){return function(B){return z.wbb.bind(z)(B);};}function x(){return function(B){z.Dob.bind(z)(B);};}function y(B){return function(A){A=z.bind.bind(z)(A);A.Lc.jfb=B;return A;};}z=this;return function(B){return {f1a:y(B),mcb:u(B),hjb:w(B),Eob:x(B)};};};t.prototype.MXa=function(w,u,x,y){var z;z=null;w={iIb:w,VLb:function(B){return B;},h2b:u,key:void 0,Eh:y,sic:x,value:void 0};if(this.Pna){if((z=this.Pna(w),void 0 === z || null === z))throw Error(m.svb);}else z=this.sDb()(w);return z;};t.prototype.sDb=function(){var w;w=this;return function(u){var x;x=h.mR(w.dCb,w,u.h2b,u.sic,u.Eh,u.key,u.value,u.iIb);x=u.VLb(x);return k.resolve(x);};};return t;})();b.n3=r;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(79);l=a(109);r=(function(){function g(m,d){this.id=l.id();this.Poa=!1;this.Eh=m;this.scope=d;this.type=c.Fk.Evb;this.VI=function(){return !0;};this.cP=this.Ky=this.zC=this.vP=this.cache=this.Xn=null;}g.prototype.clone=function(){var m;m=new g(this.Eh,this.scope);m.Poa=!1;m.Xn=this.Xn;m.cP=this.cP;m.scope=this.scope;m.type=this.type;m.vP=this.vP;m.zC=this.zC;m.VI=this.VI;m.Ky=this.Ky;m.cache=this.cache;return m;};return g;})();b.Lrb=r;},function(r,b,a){var d,f,h,k,n,p,q,v,t,w,u,x;function c(y,z,B,A,C){var D,E;D=m(B.yb,C.Eh);E=[];D.length === d.lia.FQa && B.yb.options.JW && "function" === typeof C.Eh && y.y8a(C.Eh).Y2a && (B.yb.bind(C.Eh).aob(),D=m(B.yb,C.Eh));E=z?D:D.filter(function(G){var F;F=new u.Request(G.Eh,B,A,G,C);return G.VI(F);});l(C.Eh,E,C,B.yb);return E;}function l(y,z,B,A){switch(z.length){case d.lia.FQa:if(B.Obb())return z;y=p.PP(y);z=f.ywb;z+=p.y3b(y,B);z+=p.edb(A,y,m);throw Error(z);case d.lia.Owb:if(!B.isArray())return z;default:if(B.isArray())return z;y=p.PP(y);z=f.Kqb + " " + y;z+=p.edb(A,y,m);throw Error(z);}}function g(y,z,B,A,C,D){var E;if(null === C){z=c(y,z,A,null,D);E=new u.Request(B,A,null,z,D);B=new t.Pxb(A,E);A.dGb(B);}else (z=c(y,z,A,C,D),E=C.s_a(D.Eh,z,D));z.forEach(function(G){var F,L,O;F=null;if(D.isArray())F=E.s_a(G.Eh,G,D);else {if(G.cache)return;F=E;}if(G.type === h.Fk.Instance && null !== G.Xn){L=w.EWb(y,G.Xn);if(!A.yb.options.AL){O=w.bWb(y,G.Xn);if(L.length < O)throw (G=f.Mqb(w.getFunctionName(G.Xn)),Error(G));}L.forEach(function(K){g(y,!1,K.Eh,A,F,K);});}});}function m(y,z){var B,A;B=[];A=y.MH;A.S$a(z)?B=A.get(z):null !== y.parent && (B=m(y.parent,z));return B;}Object.defineProperty(b,"__esModule",{value:!0});d=a(657);f=a(55);h=a(79);k=a(41);n=a(327);p=a(143);q=a(658);v=a(67);t=a(659);w=a(660);u=a(662);x=a(329);b.muc=function(y){return y.MH;};b.mR=function(y,z,B,A,C,D,E,G){void 0 === G && (G=!1);z=new q.XJa(z);B=new v.Metadata(B?k.qH:k.ST,C);A=new x.M5(A,"",C,B);void 0 !== D && (D=new v.Metadata(D,E),A.gd.push(D));try{return (g(y,G,C,z,null,A),z);}catch(F){throw (n.acb(F) && z.mR && p.LKb(z.mR.zDa),F);}};b.dtc=function(y,z,B,A){B=new x.M5(h.dA.bma,"",z,new v.Metadata(B,A));y=new q.XJa(y);return new u.Request(z,y,null,[],B);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lia={zpc:2,FQa:0,Owb:1};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(109);r=(function(){function l(g){this.id=c.id();this.yb=g;}l.prototype.dGb=function(g){this.mR=g;};return l;})();b.XJa=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Pxb=(function(){return function(a,c){this.gR=a;this.zDa=c;};})();},function(r,b,a){var d,f,h,k,n,p;function c(q,v,t,w){var u,x,y,z,A,C,D,E,G,F,L,O;u=q.y8a(t);x=u.Y2a;if(void 0 === x)throw Error(f.Yvb + " " + v + ".");u=u.flc;y=Object.keys(u);z=0 === t.length && 0 < y.length?y.length:t.length;y=[];for(var B=0;B < z;B++){A=B;C=w;D=v;E=x;G=u[A.toString()] || [];F=m(G);L=!0 !== F.Hp;E=E[A];O=F.l || F.EK;E=O?O:E;E instanceof d.Oja && (E=E.Zjc());if(L){L=E === Function;L=E === Object || L || void 0 === E;if(!C && L)throw Error(f.Zvb + " argument " + A + " in class " + D + ".");A=new p.M5(h.dA.UJa,F.Y1,E);A.gd=G;G=A;}else G=null;null !== G && y.push(G);}q=l(q,t);return y.concat(q);}function l(q,v){var y,z,B;for(var t=q.FYb(v),w=[],u=0,x=Object.keys(t);u < x.length;u++){y=x[u];z=t[y];B=m(t[y]);y=new p.M5(h.dA.IJa,B.Y1 || y,B.l || B.EK);y.gd=z;w.push(y);}v=Object.getPrototypeOf(v.prototype).constructor;v !== Object && (q=l(q,v),w=w.concat(q));return w;}function g(q,v){var t,w;v=Object.getPrototypeOf(v.prototype).constructor;if(v !== Object){t=n.getFunctionName(v);t=c(q,t,v,!0);w=t.map(function(u){return u.gd.filter(function(x){return x.key === k.HU;});});w=[].concat.apply([],w).length;t=t.length - w;return 0 < t?t:g(q,v);}return 0;}function m(q){var v;v={};q.forEach(function(t){v[t.key.toString()]=t.value;});return {l:v[k.ST],EK:v[k.qH],Y1:v[k.T4],Hp:v[k.HU]};}Object.defineProperty(b,"__esModule",{value:!0});d=a(328);f=a(55);h=a(79);k=a(41);n=a(143);b.getFunctionName=n.getFunctionName;p=a(329);b.EWb=function(q,v){var t;t=n.getFunctionName(v);return c(q,t,v,!1);};b.bWb=g;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.qS=c;}a.prototype.startsWith=function(c){return 0 === this.qS.indexOf(c);};a.prototype.endsWith=function(c){var l;l=c.split("").reverse().join("");c=this.qS.split("").reverse().join("");return this.startsWith.call({qS:c},l);};a.prototype.contains=function(c){return -1 !== this.qS.indexOf(c);};a.prototype.equals=function(c){return this.qS === c;};a.prototype.value=function(){return this.qS;};return a;})();b.$xb=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(109);r=(function(){function l(g,m,d,f,h){this.id=c.id();this.Eh=g;this.gR=m;this.rC=d;this.target=h;this.$qa=[];this.MW=Array.isArray(f)?f:[f];this.pdc=null === d?new Map():null;}l.prototype.s_a=function(g,m,d){g=new l(g,this.gR,this,m,d);this.$qa.push(g);return g;};return l;})();b.Request=r;},function(r,b,a){var g,m,d,f,h;function c(k){return function(n){var p,q,v,t,w;p=n.MW;q=n.$qa;v=n.target && n.target.isArray();t=!n.rC || !n.rC.target || !n.target || !n.rC.target.e5b(n.target.Eh);if(v && t)return q.map(function(u){return c(k)(u);});v=null;if(!n.target.Obb() || 0 !== p.length){w=p[0];p=w.scope === m.Qu.Ila;t=w.scope === m.Qu.Request;if(p && w.Poa)return w.cache;if(t && null !== k && k.has(w.id))return k.get(w.id);if(w.type === m.Fk.SJa)v=w.cache;else if(w.type === m.Fk.Function)v=w.cache;else if(w.type === m.Fk.TJa)v=w.Xn;else if(w.type === m.Fk.eLa && null !== w.cP)v=l("toDynamicValue",w.Eh,function(){return w.cP(n.gR);});else if(w.type === m.Fk.hja && null !== w.vP)v=l("toFactory",w.Eh,function(){return w.vP(n.gR);});else if(w.type === m.Fk.NTa && null !== w.zC)v=l("toProvider",w.Eh,function(){return w.zC(n.gR);});else if(w.type === m.Fk.Instance && null !== w.Xn)v=h.Edc(w.Xn,q,c(k));else throw (q=f.PP(n.Eh),Error(g.ovb + " " + q));"function" === typeof w.Ky && (v=w.Ky(n.gR,v));p && (w.cache=v,w.Poa=!0);t && null !== k && !k.has(w.id) && k.set(w.id,v);return v;}};}function l(k,n,p){try{return p();}catch(q){if(d.acb(q))throw Error(g.msb(k,n.toString()));throw q;}}Object.defineProperty(b,"__esModule",{value:!0});g=a(55);m=a(79);d=a(327);f=a(143);h=a(664);b.resolve=function(k){return c(k.mR.zDa.pdc)(k.mR.zDa);};},function(r,b,a){var g,m,d;function c(f,h,k){var n;h=h.filter(function(p){return null !== p.target && p.target.type === m.dA.IJa;});n=h.map(k);h.forEach(function(p,q){p=p.target.name.value();f[p]=n[q];});return f;}function l(f,h){var k;if(Reflect.x_b(d.tU,f)){k=Reflect.getMetadata(d.tU,f);try{h[k.value]();}catch(n){throw Error(g.Ixb(f.name,n.message));}}}Object.defineProperty(b,"__esModule",{value:!0});g=a(55);m=a(79);d=a(41);b.Edc=function(f,h,k){var n;n=null;0 < h.length?(n=h.filter(function(p){return null !== p.target && p.target.type === m.dA.UJa;}).map(k),n=new (f.bind.apply(f,[void 0].concat(n)))(),n=c(n,h,k)):n=new f();l(f,n);return n;};},function(r,b,a){var c,l,g,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);l=a(79);g=a(666);m=a(330);r=(function(){function d(f){this.Lc=f;}d.prototype.to=function(f){this.Lc.type=l.Fk.Instance;this.Lc.Xn=f;return new g.JIa(this.Lc);};d.prototype.aob=function(){if("function" !== typeof this.Lc.Eh)throw Error("" + c.uvb);this.to(this.Lc.Eh);};d.prototype.dn=function(f){this.Lc.type=l.Fk.SJa;this.Lc.cache=f;this.Lc.cP=null;this.Lc.Xn=null;new m.YG(this.Lc);};d.prototype.JG=function(f){this.Lc.type=l.Fk.eLa;this.Lc.cache=null;this.Lc.cP=f;this.Lc.Xn=null;return new g.JIa(this.Lc);};d.prototype.bjc=function(f){this.Lc.type=l.Fk.TJa;this.Lc.Xn=f;new m.YG(this.Lc);};d.prototype.bf=function(f){this.Lc.type=l.Fk.hja;this.Lc.vP=f;new m.YG(this.Lc);};d.prototype.cjc=function(f){if("function" !== typeof f)throw Error(c.rvb);this.dn(f);this.Lc.type=l.Fk.Function;};d.prototype.Znb=function(f){this.Lc.type=l.Fk.hja;this.Lc.vP=function(h){return function(){return h.yb.get(f);};};new m.YG(this.Lc);};d.prototype.h2=function(f){this.Lc.type=l.Fk.NTa;this.Lc.zC=f;new m.YG(this.Lc);};d.prototype.ejc=function(f){this.JG(function(h){return h.yb.get(f);});};return d;})();b.Nrb=r;},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(667);l=a(218);g=a(219);r=(function(){function m(d){this.Lc=d;this.PU=new g.mia(this.Lc);this.sma=new l.f3(this.Lc);this.bXa=new c.Mrb(d);}m.prototype.la=function(){return this.bXa.la();};m.prototype.Wwa=function(){return this.bXa.Wwa();};m.prototype.when=function(d){return this.PU.when(d);};m.prototype.K2=function(){return this.PU.K2();};m.prototype.Ky=function(d){return this.sma.Ky(d);};return m;})();b.JIa=r;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(79);l=a(330);r=(function(){function g(m){this.Lc=m;}g.prototype.la=function(){this.Lc.scope=c.Qu.Ila;return new l.YG(this.Lc);};g.prototype.Wwa=function(){this.Lc.scope=c.Qu.O5;return new l.YG(this.Lc);};return g;})();b.Mrb=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Mnc=(function(){function a(){}a.of=function(c,l){var g;g=new a();g.MW=c;g.d6b=l;return g;};return a;})();},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);r=(function(){function l(){this.Fg=new Map();}l.prototype.add=function(g,m){var d;if(null === g || void 0 === g)throw Error(c.oU);if(null === m || void 0 === m)throw Error(c.oU);d=this.Fg.get(g);void 0 !== d?(d.push(m),this.Fg.set(g,d)):this.Fg.set(g,[m]);};l.prototype.get=function(g){if(null === g || void 0 === g)throw Error(c.oU);g=this.Fg.get(g);if(void 0 !== g)return g;throw Error(c.aOa);};l.prototype.remove=function(g){if(null === g || void 0 === g)throw Error(c.oU);if(!this.Fg.delete(g))throw Error(c.aOa);};l.prototype.Icc=function(g){var m;m=this;this.Fg.forEach(function(d,f){d=d.filter(function(h){return !g(h);});0 < d.length?m.Fg.set(f,d):m.Fg.delete(f);});};l.prototype.S$a=function(g){if(null === g || void 0 === g)throw Error(c.oU);return this.Fg.has(g);};l.prototype.clone=function(){var g;g=new l();this.Fg.forEach(function(m,d){m.forEach(function(f){return g.add(d,f.clone());});});return g;};return l;})();b.Nvb=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(109);b.Ed=(function(){return function(l){this.id=c.id();this.UCa=l;};})();b.vIa=(function(){return function(l){this.id=c.id();this.UCa=l;};})();},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);l=a(41);b.$=function(){return function(g){var m;if(Reflect.vwa(l.Aka,g))throw Error(c.Gtb);m=Reflect.getMetadata(l.dtb,g) || [];Reflect.O9(l.Aka,m,g);return g;};};},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(67);l=a(97);b.unb=function(g,m){return function(d,f,h){var k;k=new c.Metadata(g,m);"number" === typeof h?l.JL(d,f,h,k):l.X1(d,f,k);};};},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);l=a(67);g=a(97);b.yfb=function(m){return function(d,f,h){var k;k=new l.Metadata(c.wD,m);"number" === typeof h?g.JL(d,f,h,k):g.X1(d,f,k);};};},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);l=a(67);g=a(97);b.optional=function(){return function(m,d,f){var h;h=new l.Metadata(c.QQa,!0);"number" === typeof f?g.JL(m,d,f,h):g.X1(m,d,h);};};},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);l=a(67);g=a(97);b.Hp=function(){return function(m,d,f){var h;h=new l.Metadata(c.HU,!0);g.JL(m,d,f,h);};};},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);l=a(67);g=a(97);b.EK=function(m){return function(d,f,h){var k;k=new l.Metadata(c.qH,m);"number" === typeof h?g.JL(d,f,h,k):g.X1(d,f,k);};};},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(41);l=a(67);g=a(97);b.Y1=function(m){return function(d,f,h){var k;k=new l.Metadata(c.T4,m);g.JL(d,f,h,k);};};},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(55);l=a(41);g=a(67);b.aib=function(){return function(m,d){d=new g.Metadata(l.tU,d);if(Reflect.vwa(l.tU,m.constructor))throw Error(c.lwb);Reflect.O9(l.tU,d,m.constructor);};};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.ufb=function(a){return function(c){return function(){for(var l=[],g=0;g < arguments.length;g++){l[g]=arguments[g];}return l.forEach(function(m){return a.bind(m).ejc(c);});};};};},function(r,b,a){var d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A,C;function c(){}function l(D){this.we=D;}function g(D){var E;E=k.Wka.call(this) || this;D.kQ?Object.assign(E,(0,x.e9a)(D)):D.Pba?Object.assign(E,(0,u.R8a)(D)):D.Pxa?Object.assign(E,(0,w.K9a)()):D.TB || D.yZ?Object.assign(E,(0,t.I8a)()):D.DZ?Object.assign(E,(0,x.c$a)(D)):Object.assign(E,(0,v.t8a)(D));return E;}function m(D){this.data=D.Pba?(0,u.T8a)(D):D.Pxa?(0,w.M9a)(D):D.TB || D.yZ?(0,t.K8a)(D):D.DZ?(0,x.e$a)(D):(0,v.v8a)(D);}Object.defineProperty(b,"__esModule",{value:!0});b.platform=b.esb=b.dsb=b.csb=b.bsb=void 0;r=a(0);d=a(1);f=a(49);h=a(110);k=a(681);n=a(169);p=a(333);q=a(220);v=a(682);t=a(712);w=a(713);u=a(714);x=a(715);y=a(716);z=a(717);Va.Object.defineProperties(m.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.data.version;}},pda:{configurable:!0,enumerable:!0,get:function(){return this.data.pda;}},Ft:{configurable:!0,enumerable:!0,get:function(){return this.data.Ft;}},rq:{configurable:!0,enumerable:!0,get:function(){return this.data.rq;}},CP:{configurable:!0,enumerable:!0,get:function(){return this.data.CP;}},OE:{configurable:!0,enumerable:!0,get:function(){return this.data.OE;}},Bsa:{configurable:!0,enumerable:!0,get:function(){return this.data.Bsa;}},M4a:{configurable:!0,enumerable:!0,get:function(){return this.data.M4a;}},Wya:{configurable:!0,enumerable:!0,get:function(){return this.data.Wya;}},DX:{configurable:!0,enumerable:!0,get:function(){return this.data.DX;}},Kpb:{configurable:!0,enumerable:!0,get:function(){return this.data.Kpb;}},c8:{configurable:!0,enumerable:!0,get:function(){return this.data.c8;}}});B=m;B=r.__decorate([(0,d.$)(),r.__param(0,(0,d.l)(n.$G))],B);b.bsb=B;ka(g,k.Wka);A=g;A=r.__decorate([(0,d.$)(),r.__param(0,(0,d.l)(n.$G))],A);b.csb=A;l.prototype.apply=function(){this.we.Pba?Object.assign(this,(0,u.S8a)(this.we)):this.we.Pxa?Object.assign(this,(0,w.L9a)(this.we)):this.we.TB || this.we.yZ?Object.assign(this,(0,t.J8a)(this.we)):this.we.DZ?Object.assign(this,(0,x.d$a)(this.we)):Object.assign(this,(0,v.u8a)(this.we));return this;};C=l;C=r.__decorate([(0,d.$)(),r.__param(0,(0,d.l)(n.$G))],C);b.dsb=C;c=r.__decorate([(0,d.$)()],c);b.esb=c;b.platform=new d.Ed(function(D){D(f.fr).to(B).la();D(h.yH).to(A).la();D(p.rSa).to(C).la();D(f.j5).to(c).la();D(q.Xka).bf(function(E){return function(){var G;G=E.yb.get(n.$G);return G.TB || G.yZ?{kc:function(F,L,O){return new z.gma(F,L,O);},request:y.KWa}:G.DZ?{kc:function(F,L,O){return new (a(718))(F,L,O);},request:a(719)}:{};};});});},function(r,b,a){var c,l,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.Wka=void 0;c=a(5);l=a(52);g=a(42);m={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};b.Wka=function(){this.kEa=!0;this.CI=[];this.zo=[];this.gP=!1;this.Mw=[g.qn.Gia,g.qn.syb,g.qn.EM,g.qn.kNa];this.Zn=void 0;this.gta=!0;this.l$=!1;this.p8=(0,l.ga)(288E4);this.t8=(0,l.ga)(335544320);this.cC=(0,c.$b)(15E3);this.n5b=(0,l.ga)(6291456);this.xQ=1E3;this.Hqa=!0;this.Ega=m;this.AS=(0,l.ga)(0);this.aQ=("ro zh-Hans zh-Hant ko vi ar he hi th en es").split(" ");this.qca=["th"];this.Iga=(0,c.$b)(0);this.jZ=!0;this.cha=!1;this.jP=this.Mza=this.$$=!0;this.$L=this.UE=this.Wx=!1;this.WI=["start"];};},function(r,b,a){var c,l,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.u8a=b.t8a=b.v8a=void 0;c=a(26);l=a(42);g=a(123);m=a(144);b.v8a=function(d){return Object.assign(Object.assign({},(0,m.FP)()),{Ft:d.ecb?"T":d.xZ?"C":"M",rq:d.ecb?"NFCDTS-01-":d.UB?"NFCDCH-02-":d.dK?"NFCDCH-MC-":d.xZ?"NFCDCH-01-":d.Hba?"NFCDCH-AP-":d.vZ?"NFCDCH-AT-":d.kQ?"NFCDCH-PH-":"NFCDCH-LX-",OE:d.xZ?"chromeos-cadmium":"chrome-cadmium"});};b.t8a=function(d){var f,h,k;f=(0,m.EP)();h=Object.assign(Object.assign({},f),{gP:!0,Wx:!0,UE:!0,$L:!0});k=[l.I.V3,l.I.U3,l.I.KU];d.UB && (h.zo=[].concat(ia((0,g.HAa).apply(null,[f.zo].concat(ia(k)))),ia((0,g.io)([l.I.gD,l.I.hD].concat(ia(k),[l.I.dT,l.I.eT]),{minimumCores:5}))));d.dK && (h.zo=[].concat(ia((0,g.HAa).apply(null,[f.zo].concat(ia(k)))),ia((0,g.io)([l.I.gD,l.I.hD],{minimumCores:3,restrictToUILabels:["mini-modal-horizontal"]})),ia((0,g.io)(k,{minimumCores:3}))));d.xZ && (h.zo=(0,g.io)([].concat(ia(l.Pd.j3),ia(l.Pd.T2),ia(l.Pd.S2),ia(l.Pd.Dha),ia(l.Pd.wia),ia(l.Pd.xia),ia(l.Pd.uia),ia(l.Pd.sia),ia(l.Pd.tia),ia(l.Pd.ria))));return h;};b.u8a=function(d){var f;f={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.sn.kM,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,enablePRK:!0,enableVP9:!0,useEncryptedEvent:!1};80 <= d.Jr && (f=Object.assign(Object.assign({},f),{enableMediaCapabilities:!0,enableMediaCapabilitiesSourceBufferCheck:!0}));d.vZ && (f=Object.assign(Object.assign({},f),{enableFullHdForWidevineL1:!0}));d.xZ && (f=Object.assign(Object.assign({},f),{enableHWDRM:!0,prepareLdlCacheMaxCount:15,enableFullHdForWidevineL1:!0}),89 <= d.Jr && (f=Object.assign(Object.assign({},f),{enableHEVC:!0,enableHDR:!0,enableMediaCapabilities:!0,enableHdcp:!0})));102 <= d.Jr && d.UB && (f=Object.assign(Object.assign({},f),{enableHWDRM:!0,prepareLdlCacheMaxCount:15,microsoftClearLeadRequiresSwdrm:!0}));if(d.UB || d.dK)f=Object.assign(Object.assign({},f),{enableFullHdForWidevineL3:!0});d.UB && 99 <= d.Jr && (f=Object.assign(Object.assign({},f),{enableAV1:!0}));return f;};},function(r,b,a){var c;b=a(124);c=a(684);a=b(function(l,g,m){return c(function(d,f,h){return l(f,h);},g,m);});r.exports=a;},function(r,b,a){var c,l;b=a(124);c=a(334);l=a(685);a=b(function h(m,d,f){return l(function(k,n,p){return c(n) && c(p)?h(m,n,p):m(k,n,p);},d,f);});r.exports=a;},function(r,b,a){var c;b=a(124);c=a(221);a=b(function(l,g,m){var d,f;d={};for(f in g){c(f,g) && (d[f]=c(f,m)?l(f,g[f],m[f]):g[f]);}for(f in m){c(f,m) && !c(f,d) && (d[f]=m[f]);}return d;});r.exports=a;},function(r,b,a){var c;b=a(335);c=a(695);a=a(705);a=c([b,a]);r.exports=a;},function(r){r.exports=function(b){return "function" === typeof b["@@transducer/step"];};},function(r){r.exports=function(b,a){for(var c=0,l=a.length,g=[];c < l;){b(a[c]) && (g[g.length]=a[c]);c+=1;}return g;};},function(r,b,a){var c,l;b=a(125);c=a(337);l=a(690);a=b(function(g){return c(g)?!0:!g || "object" !== typeof g || l(g)?!1:1 === g.nodeType?!!g.length:0 === g.length?!0:0 < g.length?g.hasOwnProperty(0) && g.hasOwnProperty(g.length - 1):!1;});r.exports=a;},function(r){r.exports=function(b){return "[object String]" === Object.prototype.toString.call(b);};},function(r){var b;b=(function(){function a(c){this.f=c;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(c){return c;};a.prototype["@@transducer/step"]=function(c,l){return this.f(c,l);};return a;})();r.exports=function(a){return new b(a);};},function(r,b,a){var c;c=a(223);b=a(53)(function(l,g){return c(l.length,function(){return l.apply(g,arguments);});});r.exports=b;},function(r,b,a){var c,l;b=a(53);c=a(338);l=(function(){function g(m,d){this.O2=d;this.f=m;}g.prototype["@@transducer/init"]=c.oa;g.prototype["@@transducer/result"]=c.result;g.prototype["@@transducer/step"]=function(m,d){return this.f(d)?this.O2["@@transducer/step"](m,d):m;};return g;})();a=b(function(g,m){return new l(g,m);});r.exports=a;},function(r,b,a){var c,l;c=a(221);l=Object.prototype.toString;r.exports=function(){return "[object Arguments]" === l.call(arguments)?function(g){return "[object Arguments]" === l.call(g);}:function(g){return c("callee",g);};};},function(r,b,a){var c;b=a(125);c=a(696);a=b(function(l){return c(function(){return Array.prototype.slice.call(arguments,0);},l);});r.exports=a;},function(r,b,a){var c,l,g,m,d;b=a(53);c=a(340);l=a(341);g=a(698);m=a(699);d=a(704);a=b(function(f,h){return l(d(g,0,m("length",h)),function(){var k,n;k=arguments;n=this;return f.apply(n,c(function(p){return p.apply(n,k);},h));});});r.exports=a;},function(r,b,a){var l,g;function c(m,d,f){return function(){var q;for(var h=[],k=0,n=m,p=0;p < d.length || k < arguments.length;){if(p < d.length && (!g(d[p]) || k >= arguments.length))q=d[p];else (q=arguments[k],k+=1);h[p]=q;g(q) || --n;p+=1;}return 0 >= n?f.apply(this,h):l(n,c(m,h,f));};}l=a(223);g=a(170);r.exports=c;},function(r,b,a){b=a(53)(function(c,l){return l > c?l:c;});r.exports=b;},function(r,b,a){var c,l;b=a(53);c=a(700);l=a(702);a=b(function(g,m){return c(l(g),m);});r.exports=a;},function(r,b,a){var c,l,g,m,d,f;b=a(53);c=a(336);l=a(340);g=a(222);m=a(701);d=a(341);f=a(339);a=b(c(["fantasy-land/map","map"],m,function(h,k){switch(Object.prototype.toString.call(k)){case "[object Function]":return d(k.length,function(){return h.call(this,k.apply(this,arguments));});case "[object Object]":return g(function(n,p){n[p]=h(k[p]);return n;},{},f(k));default:return l(h,k);}}));r.exports=a;},function(r,b,a){var c,l;b=a(53);c=a(338);l=(function(){function g(m,d){this.O2=d;this.f=m;}g.prototype["@@transducer/init"]=c.oa;g.prototype["@@transducer/result"]=c.result;g.prototype["@@transducer/step"]=function(m,d){return this.O2["@@transducer/step"](m,this.f(d));};return g;})();a=b(function(g,m){return new l(g,m);});r.exports=a;},function(r,b,a){var c;b=a(53);c=a(703);a=b(function(l,g){return c([l],g);});r.exports=a;},function(r,b,a){b=a(53)(function(c,l){for(var g=0;g < c.length;){if(null == l)return;l=l[c[g]];g+=1;}return l;});r.exports=b;},function(r,b,a){b=a(124);a=a(222);a=b(a);r.exports=a;},function(r,b,a){var c,l;c=a(706);b=a(53);l=a(335);a=b(function(g,m){return l(c(g),m);});r.exports=a;},function(r){r.exports=function(b){return function(){return !b.apply(this,arguments);};};},function(r,b,a){var c,l;c=a(708);b=a(124);l=a(709);a=b(function(g,m,d){return l(g,c(m,d));});r.exports=a;},function(r){r.exports=function(b,a){var c,l,g,m;b=b || [];a=a || [];l=b.length;g=a.length;m=[];for(c=0;c < l;){m[m.length]=b[c];c+=1;}for(c=0;c < g;){m[m.length]=a[c];c+=1;}return m;};},function(r,b,a){var c;c=a(342);b=a(53)(function(l,g){for(var m=0,d=g.length,f=[],h;m < d;){h=g[m];c(l,h,f) || (f[f.length]=h);m+=1;}return f;});r.exports=b;},function(r,b,a){b=a(53)(function(c,l){for(var g=[],m=0,d=l.length;m < d;){for(var f=m + 1;f < d && c(l[f - 1],l[f]);){f+=1;}g.push(l.slice(m,f));m=f;}return g;});r.exports=b;},function(r,b,a){var c;c=a(342);b=a(124)(function(l,g,m){for(var d=[],f=0,h=g.length;f < h;){c(l,g[f],m) || c(l,g[f],d) || d.push(g[f]);f+=1;}return d;});r.exports=b;},function(r,b,a){var l,g,m,d,f,h;function c(){var k,n,p;p=null === (k=mb.MSMediaKeys) || void 0 === k?void 0:k.isTypeSupported(g.xb.te,f.Zd.Wza);k=p || (null === (n=mb.MSMediaKeys) || void 0 === n?void 0:n.isTypeSupported(g.xb.zH,f.Zd.Wza));return {Sbb:p,Rbb:k};}Object.defineProperty(b,"__esModule",{value:!0});b.J8a=b.QWb=b.I8a=b.K8a=void 0;l=a(26);g=a(73);m=a(42);d=a(144);f=a(127);h=a(123);b.K8a=function(k){return Object.assign(Object.assign({},(0,d.FP)()),{Ft:k.TB?"D":"H",rq:k.TB?k.dK?"NFCDIE-04-":k.b2b?"NFCDIE-LX-":k.Hba?"NFCDIE-AP-":k.vZ?"NFCDIE-AT-":k.kQ?"NFCDIE-PH-":"NFCDIE-03-":"NFCDIE-02-",OE:"edge-cadmium",c8:!1});};b.I8a=function(){var k,n,p;k=Object.assign(Object.assign({},(0,d.EP)()),{CI:(0,h.io)([m.ke.gH,m.ke.hH,m.ke.AT,m.ke.BT]),zo:(0,h.io)([].concat(ia(m.Pd.j3),ia(m.Pd.T2),ia(m.Pd.S2),ia(m.Pd.Dha),ia(m.Pd.wia),ia(m.Pd.xia),ia(m.Pd.uia),ia(m.Pd.sia),ia(m.Pd.tia),ia(m.Pd.ria),ia(m.Pd.hJa),ia(m.Pd.iJa),ia(m.Pd.jJa))),Zn:void 0,jZ:!1});n=c();p=n.Sbb;n.Rbb || (k.Wx=!0,k.UE=!0,k.$L=!0);k.WI=p?[]:["start"];return k;};b.QWb=c;b.J8a=function(k){var n,p,q,v,t,w,u;n=k.yZ;p=k.TB;q=k.UB;v=c();t=v.Rbb;w=v.Sbb;v={nudgeSourceBuffer:!0,audioCapabilityDetectorType:l.Xw.Tz,videoCapabilityDetectorType:l.sn.Tz,microsoftHwdrmRequiresHevc:!0,microsoftScreenSizeFilterEnabled:!0,addFailedLogBlobsToQueue:!1,bookmarkIgnoreBeginning:"2000",enableCombinedPlaygraphs:w?!1:!0,enableAdPlaygraphs:w?!1:!0,forceAppendEncryptedStreamHeaderFirst:!0,retainSbrOnFade:!0};w={prepareCadmium:!0,enableLdlPrefetch:!t || w,licenseRenewalRequestDelay:5E3,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareLdlCacheMaxCount:15};u={audioCapabilityDetectorType:l.Xw.Gz,videoCapabilityDetectorType:l.sn.kM,microsoftScreenSizeFilterEnabled:!1,keySystemList:[g.xb.X5],useTypescriptEme:!0,licenseRenewalRequestDelay:0,audioProfiles:(0,h.io)([m.ke.gH,m.ke.hH]),videoProfiles:(0,h.io)([m.I.eH,m.I.fH,m.I.Q3,m.I.S3,m.I.R3,m.I.T3]),enableAVCHigh:!0,droppedFrameRateFilterEnabled:!0,enableCDMAttestedDescriptors:!0};n && (14 <= k.Jr && (v=Object.assign(Object.assign(Object.assign({},v),w),{microsoftEnableDeviceInfo:!0,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,useHevcCodecForDolbyVision:!0})),15 <= k.Jr && (v=Object.assign(Object.assign({},v),{enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0})),16 <= k.Jr && (v=Object.assign(Object.assign({},v),{microsoftHwdrmRequiresHevc:!1})),17 <= k.Jr && (v=Object.assign(Object.assign({},v),{enableDDPlusAtmos:!0})));p && (v=Object.assign(Object.assign(Object.assign({},v),w),{useEncryptedEvent:!1}),q && (v=Object.assign(Object.assign({},v),{webkitDecodedFrameCountIncorrectlyReported:!0,noRenderTimeoutMilliseconds:1E4})),t?(v=Object.assign(Object.assign({},v),{microsoftEnableDeviceInfo:!1,microsoftClearLeadRequiresSwdrm:!0,enableHWDRM:!0,enableHEVC:!0,enablePRK:!0,enableDV:!0,enableHDR:!0,usePlayReadyHeaderObject:!0,microsoftHwdrmRequiresHevc:!1,enableDDPlusAtmos:!0,keySystemList:[g.xb.Yka,g.xb.ySa]}),94 === k.Jr && (v=Object.assign(Object.assign({},v),{enableHWDRM:!1})),102 <= k.Jr && (v=Object.assign(Object.assign({},v),{useTypescriptEme:!0,validateKeySystemAccess:!0,enableCDMAttestedDescriptors:!0,enableCachedErrors:!0,enableKeySystemRestrictor:!0}))):v=Object.assign(Object.assign({},v),u));return v;};},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.L9a=b.K9a=b.M9a=void 0;c=a(26);l=a(144);b.M9a=function(g){return Object.assign(Object.assign({},(0,l.FP)()),{Ft:"O",rq:g.Hba?"NFCDOP-AP-":g.vZ?"NFCDOP-AT-":g.kQ?"NFCDOP-PH-":"NFCDOP-01-",OE:"opera-cadmium"});};b.K9a=function(){return Object.assign(Object.assign({},(0,l.EP)()),{gP:!0,Wx:!0,UE:!0,$L:!0});};b.L9a=function(g){var m;m={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,captureBatteryStatus:!0,enableMediaPrefetch:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:c.sn.kM,preciseSeeking:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0,enableCDMAttestedDescriptors:!0,useEncryptedEvent:!1,retainSbrOnFade:!0};67 <= g.Jr && (m=Object.assign(Object.assign({},m),{enableVP9:!0}));return m;};},function(r,b,a){var c,l,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.S8a=b.R8a=b.T8a=void 0;c=a(26);l=a(42);g=a(123);m=a(144);b.T8a=function(d){return Object.assign(Object.assign({},(0,m.FP)()),{Ft:"F",rq:d.dK?"NFCDFF-MC-":d.UB?"NFCDFF-02-":d.Hba?"NFCDFF-AP-":d.vZ?"NFCDFF-AT-":d.kQ?"NFCDFF-PH-":"NFCDFF-LX-",OE:"firefox-cadmium"});};b.R8a=function(d){var f,h;f=(0,m.EP)();h=Object.assign(Object.assign({},f),{gP:!0,Wx:!0,UE:!0,$L:!0});d.UB && (h.zo=[].concat(ia(f.zo),ia((0,g.io)([l.I.gD,l.I.hD],{minimumCores:5,restrictToUILabels:["mini-modal-horizontal"]}))));d.dK && (h.zo=[].concat(ia(f.zo),ia((0,g.io)([l.I.gD,l.I.hD],{minimumCores:3,restrictToUILabels:["mini-modal-horizontal"]}))));return h;};b.S8a=function(d){var f;f={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,defaultHeaderCacheSize:15,enableMediaPrefetch:!0,enableLdlPrefetch:!0,prepareCadmium:!0,enableSeamless:!0,videoCapabilityDetectorType:c.sn.kM,useTypescriptEme:!0,enableCDMAttestedDescriptors:!0,enablePRK:!0,enableVP9:!0,preciseSeeking:!0,useEncryptedEvent:!1,forceAppendEncryptedStreamHeaderFirst:!1,retainSbrOnFade:!0};(d.UB || d.dK) && 95 <= d.Jr && (f=Object.assign(Object.assign({},f),{enableAV1:!0}));return f;};},function(r,b,a){var l,g,m,d,f,h;function c(k){var n;n=Object.assign(Object.assign({},(0,h.EP)()),{CI:(0,f.io)([d.ke.gH,d.ke.hH,d.ke.gA]),zo:(0,f.io)([].concat(ia(d.Pd.j3),ia(d.Pd.T2),ia(d.Pd.S2),ia(d.Pd.wia),ia(d.Pd.xia),ia(d.Pd.uia),ia(d.Pd.sia),ia(d.Pd.tia),ia(d.Pd.ria),ia(d.Pd.hJa),ia(d.Pd.iJa),ia(d.Pd.jJa))),Zn:m.xb.wub,cC:(0,l.$b)(7E3),WI:[]});(0,h.wZ)(k,14) && (n.WI=["start"]);return n;}Object.defineProperty(b,"__esModule",{value:!0});b.d$a=b.c$a=b.e9a=b.e$a=void 0;l=a(5);g=a(26);m=a(73);d=a(42);f=a(123);h=a(144);b.e$a=function(k){return Object.assign(Object.assign({},(0,h.FP)()),{Ft:"S",rq:k.kQ?"NFCDSF-PH-":"NFCDSF-01-",OE:"safari-cadmium"});};b.e9a=function(k){return Object.assign(Object.assign({},c(k)),{cha:!0,jP:!1,Mw:[d.qn.U5]});};b.c$a=c;b.d$a=function(k){var n;n={delayErrorHandling:{7361:"100",7371:"100",7373:"100"},licenseRenewalRequestDelay:5E3,addFailedLogBlobsToQueue:!1,performRewindCheck:!1,fatalOnUnexpectedSeeking:!1,fatalOnUnexpectedSeeked:!1,waitForDrmToAppendMedia:!0,forceAppendHeadersAfterDrm:!0,videoCapabilityDetectorType:g.sn.Gz,enableSeamless:!0,enableCombinedPlaygraphs:!1,enableAdPlaygraphs:!1,forceAppendEncryptedStreamHeaderFirst:!1,retainSbrOnFade:!0};(0,h.wZ)(k,14) && (n=Object.assign(Object.assign({},n),{enableCombinedPlaygraphs:!0,enableAdPlaygraphs:!0,forceAppendEncryptedStreamHeaderFirst:!1}));(0,h.BZ)(k,10,12,2) && (n=Object.assign(Object.assign({},n),{keySystemId:"com.apple.fps.3_0",enableMediaPrefetch:!0,defaultHeaderCacheSize:15,prepareCadmium:!0}));(0,h.BZ)(k,10,13,6) && (n=Object.assign(Object.assign({},n),{enableLdlPrefetch:!0}));(0,h.BZ)(k,10,15,5) && (n=Object.assign(Object.assign({},n),{useTypescriptEme:!0,useEncryptedEvent:!1,enablePRK:!0,enableDV:!0,enableAVCHigh:!0,enableHEVC:!0,enableHDR:!0,enableCDMAttestedDescriptors:!0,waitForDrmToAppendMedia:!1,forceAppendHeadersAfterDrm:!1,enableMediaCapabilities:!0,powerEfficientForVideo:!0,preciseSeeking:!0}));(0,h.BZ)(k,10,15,6) && (n=Object.assign(Object.assign({},n),{keyStatusFilterEnabled:!0,hdcpEngagementWaitTime:8E3,enableUHD:!0}));(0,h.wZ)(k,9) && (n=Object.assign(Object.assign({},n),{maxDecoderBufferMilliseconds:31E3}));(0,h.wZ)(k,16) && (n=Object.assign(Object.assign({},n),{enableAV1:!0}));return n;};},function(r,b,a){var l;function c(g,m,d,f){this.log=g;this.IJ=m;this.EC=d;this.context=f;}Object.defineProperty(b,"__esModule",{value:!0});b.KWa=void 0;l=a(4);c.prototype.ki=function(g){var m;m=this;(this.context.dg || this.context.Yl) && this.log.trace("Requesting license",{drmType:g.cp});return this.IJ(g).catch(function(d){m.log.error("Unable to get the Playready license",d);if(m.context.cyc)throw d;throw {ja:!1,code:l.aa.xM,wc:d.wc,vd:d.vd,ep:d.ep,gl:d.message || d.gl,ZE:d.data,message:"Unable to send the Playready license request. " + (d.message || d.gl)};});};c.prototype.release=function(g){var m;m=this;this.log.trace("Requesting stop data");return this.EC(g).catch(function(d){m.log.error("Unable to release the PlayReady license ",{code:d.code,subCode:d.wc,extCode:d.vd,edgeCode:d.ep,message:d.message || d.gl});throw {ja:!1,code:l.aa.ula,wc:d.wc,vd:d.vd,ep:d.ep,gl:d.message || d.gl,message:"Unable to release the PlayReady license. " + (d.message || d.gl)};});};b.KWa=c;mb._cad_global.WindowsDrmRequests=c;},function(r,b,a){var c,l,g,m,d,f,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.gma=void 0;c=a(4);l=a(217);g=a(224);m=a(30);d=a(82);f=a(31);h=a(26);k=a(56);(function(){var z;function n(B,A,C){var D;D=this;this.log=B;this.wp=A || y.bind(this);this.context=C;this.h0=this.challenge=this.keySystem=this.keySessionId=this.Mb=this.mediaKeys=void 0;this.yd={};this.Gya=this.oFa=!1;this.R_=t.bind(this);this.h0=void 0;this.YGa=new Promise(function(E,G){D.sDa=E;D.VCa=G;});this.YGa.catch(function(E){D.log.error("wait for license rejected",E);});l.uc.get(h.Hz).naa().then(function(E){(D.context.dg || D.context.Yl) && D.log.debug("DRIVERINFO: ",E);}).catch(function(E){D.log.error("DRIVERINFO",E);});this.fs=function(E,G){D.VCa(E,G);D.context.onerror(E,G);};this.OAa=function(){D.sDa();};if(!(this instanceof n))throw new TypeError("EmeSession constructor not called correctly.");}function p(){return l.uc.get(f.Yi);}function q(){return l.uc.get(m.Di);}function v(B){var A,C;A=l.uc.get(g.Qla);C="";B.forEach(function(D){C+="<KeyID>" + D + "</KeyID>";});B='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="true"><KeyIDs>' + C + "</KeyIDs><CustomData></CustomData></LicenseAcquisition></PlayReadyCDMData>";A=new Uint8Array(A.Zmb(B));(this.context.dg || this.context.Yl) && this.log.trace("LICENSE: proactive license cdm data",{xml:B,b64:p().encode(A)});return A;}function t(B){var A;A=B.target.error?B.target.error.msExtendedCode:void 0;this.log.error("Received " + B.type + " event",{sessionId:this.Mb.sessionId,systemCode:A});if(this.context.onerror)this.context.onerror(z.Tg.Os,z.HD.Su,A);this.Mb=void 0;}function w(B,A,C){var E,G,F;for(var D=2;D < arguments.length;++D){;}D="";G=B.length;for(E=0;E < G;E++){F=B[E];0 < F && (D+=String.fromCharCode(F));}G="\\s*(.*)\\s*";for(E=arguments.length - 1;0 < E;E--){F=arguments[E];if(0 > D.search(F))return;F="(?:[^:].*:|)" + F;G="[\\s\\S]*<" + F + "[^>]*>" + G + "</" + F + ">[\\s\\S]*";}if(D=D.match(new RegExp(G)))return D[1];}function u(B,A,C,D){var E,G;E=B.target && B.target.sessionId;G=p().decode(w(B.message,"PlayReadyKeyMessage","Challenge"));C.state=12;C.log.trace("LICENSE: Received " + B.type + " event",{keySystem:B.target && B.target.keySystem,sessionId:E});(C.context.dg || C.context.Yl || C.context.cD) && C.log.debug("LICENSE: License challenge",p().encode(G));C.keySessionId=E;B={Og:A,messageType:"license-request",cp:(/clearkey/i).test(C.keySystem)?"clearkey":"playready",Yk:[{data:G,sessionId:E}]};12 === C.state && (C.wp("lc"),G={data:G,cp:(/clearkey/i).test(C.keySystem)?"clearkey":"playready"},C.context.TK || (C.h0=G));C.context.Zm.ki(B).then(function(F){if(12 === C.state && (C.wp("lr"),C.OAa(),!C.context.TK))(C.i0=F.sk[0].data,C.state=13,D({ja:!0,state:C.state}));else if(C.Mb)return x(C,F.sk[0].data,C.Mb).then(function(){C.state=30;D({ja:!0,state:C.state});});}).catch(function(F){D(q().TF(F,{state:C.state}));});}function x(B,A,C){B.Mba() && B.log.trace("LICENSE: Got the response, calling update",{sessionId:C.sessionId,license:p().encode(A)});return new Promise(function(D,E){try{B.Mb.update(A);D(void 0);B.Mba() && B.log.trace("LICENSE: Update succeeded",{sessionId:C.sessionId});}catch(G){E({ja:!1,code:z.Tg.f5,message:"Unable to update the EME.",Ub:q().mf(G)});}});}function y(B){this.context.za && (this.yd[B]=this.context.za.getTime(),this.log.trace("Milestone: " + B + ", " + this.yd[B]));}z={Tg:c.aa,HD:c.Y};n.prototype.IP=function(){return this.keySystem;};n.prototype.fpb=function(B,A){B.log && (this.log=B.log);B.wp && (this.wp=B.wp);A.Zm && (this.context.Zm=A.Zm);A.onerror && (this.context.onerror=A.onerror);};n.prototype.create=function(B){var A;A=this;return (B?Promise.resolve(B):l.uc.get(h.Hz).HJ()).then(function(C){A.wp("lg");A.log.trace("Creating the media keys",{keySystem:C});A.keySystem=C;if(A.context.C0)C=Promise.reject({ja:!1,code:z.Tg.FT,message:"Promise based EME is currently not supported for Internet Explorer"});else a:{try{A.mediaKeys=new mb.MSMediaKeys(C);}catch(D){C=Promise.reject({ja:!1,code:z.Tg.gRa,message:"create MSMediaKeys(" + C + ") failed",Ub:q().mf(D)});break a;}try{A.context.ea && A.context.ea.msSetMediaKeys(A.mediaKeys);}catch(D){C=Promise.reject({ja:!1,code:z.Tg.IM,message:"set MSMediaKeys failed",Ub:q().mf(D)});break a;}C=Promise.resolve({ja:!0,mediaKeys:A.mediaKeys});}return C;});};n.prototype.close=function(){this.mediaKeys=void 0;this.context.ea=void 0;if(this.Mb){this.log.info("Closing the session",{sessionId:this.Mb.sessionId});this.Mb.removeEventListener("mskeyerror",this.R_);try{this.Mb.close();}catch(B){this.log.error("Failed to close the key sessions",B);}this.Mb=void 0;}};n.prototype.ki=function(B,A,C){var D;if(1 < A.length)return Promise.reject({code:z.Tg.kRa});if(0 === A.length)return Promise.reject({code:z.Tg.jRa});A=A[0];D=this;D.context.dg && D.log.trace("LICENSE: Setting license");return D.context.C0?Promise.reject({ja:!1,code:z.Tg.lLa,message:"Promise based EME is currently not supported for Internet Explorer"}):(function(){return new Promise(function(E,G){var F,L,O,K,I,M,H;try{L=function(J){D.Mb && (D.Mb.removeEventListener("mskeymessage",K),D.Mb.removeEventListener("mskeyadded",I),D.Mb.removeEventListener("mskeyerror",M),D.Mb.addEventListener("mskeyerror",D.R_));J.state=11;J.ja?E(J):(D.close(),G(J));};O=function(J){var N,P;N=[];P=Array.prototype.map.call(J,function(V){return V?String.fromCharCode(V):"";}).join("").match(/<KID>(.+?)<\/KID>/);if(P)N.push(P[1]);else {J=w(J,"KIDS");P=/VALUE="(.+?)">/g;for(var W=P.exec(J);null != W;){N.push(W[1]);W=P.exec(J);}}return N;};K=function(J){F && clearTimeout(F);u(J,B,D,L);};I=function(J){(D.context.dg || D.context.Yl) && D.log.trace("LICENSE: Received " + J.type + " event",{keySystem:J.target.keySystem,sessionId:J.target.sessionId});L({ja:!0});};M=function(J){var N,P;F && clearTimeout(F);if(J.target && J.target.error)(N=J.target.error.systemCode,P=J.target.error.code);N={code:z.Tg.Os,wc:z.HD.Su,vd:N?l.uc.get(d.Cz).yJ(N,4):P,details:q().mf(J),cause:J.target && J.target.error,yga:N,u$:P};D.log.error("LICENSE: Received " + J.type + " event",{sessionId:D.Mb && D.Mb.sessionId,keySystem:J.target.keySystem,systemCode:N.yga,code:N.u$});D.wp("le");D.fs && D.fs(z.Tg.Os,N);L({ja:!1,code:z.Tg.Os,wc:z.HD.Su,vd:N.vd,message:"Received a key error.",Ub:N.details,cause:N.cause});};D.log.trace("LICENSE: Executing prefix based EME");(D.context.dg || D.context.Yl) && D.log.debug("LICENSE: PSSH",p().encode(A));D.vy || (D.vy=O(A));if(C){H=v.call(D,D.vy);D.Mb=D.mediaKeys.createSession("video/mp4",new Uint8Array(0),H);}else D.Mb=D.mediaKeys.createSession("video/mp4",A,null);(D.context.dg || D.context.Yl) && D.log.debug("LICENSE: Created the media keys sessions",{keySystem:D.Mb.keySystem,sessionId:D.Mb.sessionId});D.Mb.addEventListener("mskeymessage",K);D.Mb.addEventListener("mskeyadded",I);D.Mb.addEventListener("mskeyerror",M);D.context.Dya && (F=setTimeout(function(){L({ja:!1,code:z.Tg.sU,wc:z.HD.jub});},D.context.Dya));}catch(J){G({code:z.Tg.sU,wc:z.HD.ln});}});})();};n.prototype.dL=function(){var B;(this.context.dg || this.context.Yl) && this.log.trace("LICENSE: Renewing license");B=[new Uint8Array(0)];return this.ki(k.Co.Mja.gr,B,!0);};n.prototype.m8=function(B){this.i0 || this.log.error("pending license must exist at this point");this.context.TK=!0;try{B && (this.context.ea=B,this.context.ea.msSetMediaKeys(this.mediaKeys));}catch(A){return Promise.reject({ja:!1,code:z.Tg.IM,message:"setMediaKeys failed",Ub:q().mf(A)});}return x(this,this.i0,this.Mb);};n.prototype.E6a=function(B){var A,C;A=this;A.log.trace("Releasing the license of current session",JSON.stringify(B));C={sa:B.sa,Ye:B.Ye};return new Promise(function(D,E){(function(){A.context.Zm.release.call(A.context.Zm,C).then(function(){var G;A.log.trace("successfully released the license",JSON.stringify(B));G={ja:!0};A.close();G.ja?D(G):E(G);}).catch(function(G){A.log.error("Unable to release the license",{sessionId:A.keySessionId,code:G.code,subCode:G.wc,extCode:G.vd,edgeCode:G.ep,message:G.gl});A.close();G.ja?D(G):E(G);});})();});};n.prototype.Mba=function(){return this.context.dg || this.context.Yl;};b.gma=n;mb._cad_global.WindowsEmeSession=b.gma;})();},function(r,b,a){var u,x,y,z,B,A,C,D,E,G,F,L;function c(O,K,I){var M;M=this;this.log=O;this.wp=K || w.bind(this);this.context=I;this.h0=this.challenge=this.keySystem=this.keySessionId=this.mediaKeys=void 0;this.yd={};this.Kq=void 0;this.url="";this.Gya=this.oFa=!1;this.R_=k.bind(this);this.lm=this.h0=void 0;this.YGa=new Promise(function(H,J){M.sDa=H;M.VCa=J;});this.fs=function(H,J){M.VCa(H,J);M.context.onerror(H,J);};this.OAa=function(){M.sDa();};if(!(this instanceof c))throw new TypeError("EmeSession constructor not called correctly.");}function l(){return u.Ha.get(B.Qs);}function g(){return u.Ha.get(z.Yi);}function m(){return u.Ha.get(x.Di);}function d(O){return (/com.apple.fps/).test(O) && !(/com.apple.fps.2_0/).test(O);}function f(O){var K;O=(function(I){var H,J;function M(N,P,W,V){var S,U;S=new Uint8Array("piff" == P?88:72);U=new G.DT(S);U.fD(12);U.eD("frma");U.eD(N);U.fD(20);U.eD("schm");U.N2(0);U.N2(0);U.eD(P);U.fD(W);"piff" == P?(U.fD(56),U.eD("schi"),U.fD(48),U.eD("uuid"),U.M2([137,116,219,206,123,231,76,81,132,249,113,72,249,136,37,84])):(U.fD(40),U.eD("schi"),U.fD(32),U.eD("tenc"));U.N2(0);U.N2(0);U.fD(264);U.M2(V);return S;}H=M("avc1","piff",65537,I);H=l().decode(g().encode(H));I=M("avc1",F.Zw,65536,I);I=l().decode(g().encode(I));J=new Uint8Array(7 + H.length + 8 + I.length + 5);J.set([91,10,32,32,32,32,34],0);J.set(H,7);J.set([34,44,10,32,32,32,32,34],7 + H.length);J.set(I,7 + H.length + 8);J.set([34,10,32,32,93],7 + H.length + 8 + I.length);return J;})(O);K=new Uint8Array(13 + O.length + 2);K.set([123,10,32,32,34,115,105,110,102,34,32,58,32]);K.set(O,13);K.set([10,125],13 + O.length);return K;}function h(O){var K;O=O.subarray(14,30);O=String.fromCharCode.apply(null,O);O=g().decode(O);O=O.subarray(4);K=new Uint8Array(16);K.set(O);return K;}function k(O){var K;K=n(O);this.log.error("LICENSE Error: Received event: " + O.type,{sessionId:this.Mb?this.Mb.sessionId:void 0,keySystem:O.target.keySystem,systemCode:K.yga,code:K.u$});this.fs && this.fs(L.Tg.Os,K);this.Mb=void 0;}function n(O){var K,I;if(O.target.error)(K=O.target.error.systemCode,I=O.target.error.code);return {code:L.Tg.Os,wc:L.HD.Su,vd:K?u.Ha.get(y.Cz).yJ(K,4):I,details:m().mf(O),cause:O.target.error,yga:K,u$:I};}function p(O,K,I,M){var H,J,N;H=O.target.sessionId;J=O.message;N=m().FE(J,l().decode("certificate"));I.Gya=K === E.Co.Mja.Kp;I.state=N?2:12;I.log.trace("LICENSE: Received event: " + O.type,{keySystem:O.target.keySystem,sessionId:H});(I.context.dg || I.context.Yl || I.context.cD) && I.log.debug("LICENSE: License challenge",g().encode(J));I.keySessionId=H;O={Gq:I.Gq,Og:K,messageType:"license-request",cp:(/clearkey/i).test(I.keySystem)?"clearkey":"fps",Yk:[{data:J,sessionId:H}]};12 === I.state && (I.wp("lc"),J={data:J,cp:(/clearkey/i).test(I.keySystem)?"clearkey":"fps"},I.context.TK || (I.h0=J));I.context.Zm.ki(O).then(function(P){if(12 === I.state && (I.wp("lr"),I.OAa(),!I.context.TK))(I.i0=P.sk[0].data,I.state=13,M({ja:!0,state:I.state}));else if(I.Mb)return (P=t(I,N,P.sk[0].data,I.Mb),2 === I.state?P:P.then(function(){I.state=30;M({ja:!0,state:I.state});}));}).catch(function(P){M(m().TF(P,{state:I.state}));});}function q(O,K,I){K.log.trace("LICENSE: Received event: " + O.type,{keySystem:O.target.keySystem,sessionId:O.target.sessionId});I({ja:!0});}function v(O,K,I){var M;M=n(O);K.fs && K.fs(L.Tg.Os,M);K.log.error("LICENSE Error: Received event: " + O.type,{sessionId:K.Mb?K.Mb.sessionId:void 0,keySystem:O.target.keySystem,systemCode:M.yga,code:M.u$});I({ja:!1,code:L.Tg.Os,wc:L.HD.Su,vd:M.vd,message:"Received a key error.",Ub:M.details,cause:M.cause});}function t(O,K,I,M){M={sessionId:M.sessionId};O.Mba() && (M.license=g().encode(I));O.log.trace("calling keysession update",M);return new Promise(function(H,J){function N(){O.Mb.removeEventListener("webkitkeyadded",N);H(void 0);}try{K || O.Mb.addEventListener("webkitkeyadded",N);O.Mb.update(I);K && H(void 0);}catch(P){J({ja:!1,code:L.Tg.f5,message:"Unable to update the EME.",e:P});}});}function w(O){this.yd[O]=u.Ha.get(A.jd).Rb().ia(C.va);this.log.trace("Milestone: " + O + ", " + this.yd[O]);}Object.defineProperty(b,"__esModule",{value:!0});u=a(9);b=a(4);x=a(30);y=a(82);z=a(31);B=a(68);A=a(18);C=a(5);D=a(14);E=a(56);G=a(171);F=a(43);L={Tg:b.aa,HD:b.Y};c.prototype.IP=function(){return this.keySystem;};c.prototype.fpb=function(O,K){O.log && (this.log=O.log);O.wp && (this.wp=O.wp);K.Zm && (this.context.Zm=K.Zm);K.onerror && (this.context.onerror=K.onerror);};c.prototype.create=function(O){var K;K=this;K.wp("lg");K.log.trace("CREATE: Creating the media keys",{keySystem:O});K.keySystem=O;return K.context.C0?Promise.reject({ja:!1,code:L.Tg.FT,message:"CREATE: Promise based EME is currently not supported for Internet Explorer"}):(function(){function I(){var M,H;M=m().createElement("div","position:relative;width:100%;height:100%;overflow:hidden");H=M.lastChild;K.lm=M;K.context.ea=D.Xh.createElement("VIDEO");H?K.lm.insertBefore(K.context.ea,H):K.lm.appendChild(K.context.ea);}return new Promise(function(M,H){function J(N){(K.context.dg || K.context.Yl || K.context.cD) && K.log.trace("CREATE: Received event: " + N.type,{readyState:N.target.readyState,duration:N.target.duration});try{K.mediaKeys=new mb.WebKitMediaKeys(O);K.context.ea.webkitSetMediaKeys(K.mediaKeys);M({ja:!0,mediaKeys:K.mediaKeys});}catch(P){K.log.error("CREATE: Exception on webkitSetMediaKeys",P);H({ja:!1,code:L.Tg.sU,Ub:m().mf(P)});}}if(d(K.keySystem))try{K.mediaKeys=new mb.WebKitMediaKeys(O);K.context.ea && (K.log.trace("LICENSE: calling setmediakeys on video element"),K.context.ea.webkitSetMediaKeys(K.mediaKeys));M({ja:!0,mediaKeys:K.mediaKeys});}catch(N){H({ja:!1,code:L.Tg.sU,Ub:m().mf(N)});}else (K.mediaKeys=new mb.WebKitMediaKeys(O),K.context.ea?(K.log.trace("LICENSE: calling setmediakeys on video element"),K.context.ea.webkitSetMediaKeys(K.mediaKeys)):(I(),K.Kq=new D.xD(),K.Kq.addEventListener("sourceopen",J),K.url=URL.createObjectURL(K.Kq),K.context.ea.src=K.url),M({ja:!0,mediaKeys:K.mediaKeys}));});})();};c.prototype.close=function(){this.Mb && (this.log.info("Closing the session",{sessionId:this.Mb.sessionId}),this.Mb.removeEventListener("webkitkeyerror",this.R_),this.Mb.close(),this.Mb=void 0);};c.prototype.ki=function(O,K){var I;if(1 < K.length)return Promise.reject({code:L.Tg.kRa});if(0 === K.length)return Promise.reject({code:L.Tg.jRa});K=K[0];I=this;I.context.dg && I.log.trace("LICENSE: Setting license",{initData:g().encode(K)});return I.context.C0?Promise.reject({ja:!1,code:L.Tg.lLa,message:"Promise based EME is currently not supported in Safari"}):(function(){return new Promise(function(M,H){var N,P,W;function J(V){I.Mb && (I.Mb.removeEventListener("webkitkeymessage",N),I.Mb.removeEventListener("webkitkeyadded",P),I.Mb.removeEventListener("webkitkeyerror",W),I.Mb.addEventListener("webkitkeyerror",I.R_));V.ja?M(V):(I.close(),H(V));}N=function(V){p(V,O,I,J);};P=function(V){q(V,I,J);};W=function(V){v(V,I,J);};d(I.keySystem) && (I.Gq=h(K),K=f(I.Gq));I.log.trace("LICENSE: Executing prefix based EME");I.context.dg | I.context.Yl && I.log.debug("LICENSE: PSSH",g().encode(K));I.Mb=I.mediaKeys.createSession("video/mp4",K,null);(I.context.dg || I.context.Yl) && I.log.debug("LICENSE: Created the media keys sessions",{keySystem:I.Mb.keySystem,sessionId:I.Mb.sessionId});I.Mb.addEventListener("webkitkeymessage",N);I.Mb.addEventListener("webkitkeyadded",P);I.Mb.addEventListener("webkitkeyerror",W);});})();};c.prototype.dL=function(){var O;O=this;return O.oFa?Promise.resolve({ja:!0}):new Promise(function(K,I){var H,J,N;function M(P){O.Mb && (O.Mb.removeEventListener("webkitkeymessage",H),O.Mb.removeEventListener("webkitkeyadded",J),O.Mb.removeEventListener("webkitkeyerror",N));P.ja?K(P):(I(P),O.close());}H=function(P){p(P,E.Co.Mja.gr,O,M);};J=function(P){q(P,O,M);K({ja:!0});};N=function(P){v(P,O,M);};O.Gya=!1;O.Mb.addEventListener("webkitkeymessage",H);O.Mb.addEventListener("webkitkeyadded",J);O.Mb.addEventListener("webkitkeyerror",N);O.Mb.update(l().decode("renew"));});};c.prototype.m8=function(O){this.i0 || this.log.error("pending license must exist at this point");this.context.TK=!0;try{O && (this.context.ea=O,this.log.trace("calling setmediakeys on video element"),this.context.ea.webkitSetMediaKeys(this.mediaKeys));}catch(K){return new Promise(function(I,M){M({ja:!1,code:L.Tg.IM,message:"setMediaKeys failed",Ub:m().mf(K)});});}return t(this,!1,this.i0,this.Mb);};c.prototype.E6a=function(O){var K,I;K=this;K.log.trace("Releasing the license of the current session",JSON.stringify(O));K.oFa=!0;I={sa:O.sa,Ye:O.Ye};return new Promise(function(M,H){(function(){K.context.Zm.release.call(K.context.Zm,I).then(function(){var J;K.log.trace("successfully released the license",JSON.stringify(O));J={ja:!0};J.ja?M(J):(K.close(),H(J));}).catch(function(J){K.log.error("RELEASE: Unable to get the release the license",{sessionId:K.Mb?K.Mb.sessionId:void 0,code:J.code,subCode:J.wc,extCode:J.vd,edgeCode:J.ep,message:J.gl});J.ja?M(J):(K.close(),H(J));});})();});};c.prototype.Mba=function(){return this.context.dg || this.context.Yl;};r.exports=c;},function(r,b,a){var l,g,m,d,f,h;function c(k,n,p,q){this.log=k;this.IJ=n;this.EC=p;this.context=q;}Object.defineProperty(b,"__esModule",{value:!0});l=a(4);g=a(9);m=a(30);d=a(68);f=a(31);h=a(43);c.prototype.ki=function(k){var n,p;n=this;(this.context.dg || this.context.Yl) && this.log.debug("Requesting a license",k);if(g.Ha.get(m.Di).FE(g.Ha.get(d.Qs).decode("certificate"),k.Yk[0].data)){n.log.trace("Requesting Fairplay cert data.");p=Promise.resolve({sk:[{sessionId:k.Yk[0].sessionId,data:g.Ha.get(f.Yi).decode(h.L3)}]});}else p=g.Ha.get(m.Di).FE(g.Ha.get(d.Qs).decode("content"),k.Yk[0].data)?Promise.resolve({sk:[{sessionId:k.Yk[0].sessionId,data:k.Gq}]}):(function(){n.log.trace("Requesting license",{drmType:k.cp});return n.IJ(k).catch(function(q){n.log.error("Unable to get the Fairplay license",q);throw {code:l.aa.xM,wc:q.wc,vd:q.vd,ep:q.ep,gl:q.message || q.gl,ZE:q.data,message:"Unable to send the Fairplay license request. " + (q.message || q.gl),cause:q};});})();return p;};c.prototype.release=function(k){var n;n=this;this.log.trace("Requesting stop data");return this.EC(k).catch(function(p){n.log.error("Unable to release the FairPlay license",{code:p.code,subCode:p.wc,extCode:p.vd,edgeCode:p.ep,message:p.message || p.gl});throw {ja:!1,code:l.aa.ula,wc:p.wc,vd:p.vd,ep:p.ep,gl:p.message || p.gl,message:"Unable to release the FairPlay license. " + (p.message || p.gl),cause:p};});};r.exports=c;},function(r,b,a){var m,d,f,h,k,n,p,q;function c(v,t,w){var u;u=this;this.is=v;this.$m=t;this.config=w;this.Ow=function(){return {version:u.version,drmData:u.d$.map(function(x){return x.Ow();})};};this.wua=function(x){var y;u.is.Qo(x) && (x=l(x));1 === x.version && (x=g(u.is,x));y={version:2,data:[]};if(2 === x.version){y.version=x.version;try{y.data=x.drmData.map(function(z){return new q.F3(z);});}catch(z){throw new k.rd(f.aa.vM,f.Y.mD,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.",z);}}else {if(!x.version || !u.is.Ol(x.version))throw new k.rd(f.aa.vM,f.Y.mD,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.");if(1 !== x.version)throw new k.rd(f.aa.vM,f.Y.cJa,void 0,void 0,void 0,"Version number is not supported. Version: " + x.version);}return y;};this.mm=new n.Cja(2,this.config.MX,this.is.Qo(this.config.MX),this.$m,this.Ow);}function l(v){v=JSON.parse(v);v={xid:v.xid,movieId:v.movieId,keySessionIds:v.keySessionIds,licenseContextId:v.licenseContextId};if(!v.licenseContextId || !v.xid || !v.movieId)throw new k.rd(f.aa.vM,f.Y.mD);return {version:1,drmData:[v]};}function g(v,t){if(v.qE(t.drmData))return {version:2,drmData:t.drmData.map(function(w){var u;u=w.keySessionIds;return new q.F3({keySessionData:(u && 0 < u.length?u:[void 0]).map(function(x){return {id:x,licenseContextId:w.licenseContextId,licenseId:void 0};}),xid:w.xid,movieId:w.movieId}).Ow();})};throw new k.rd(f.aa.vM,f.Y.mD);}Object.defineProperty(b,"__esModule",{value:!0});b.wJa=void 0;r=a(0);m=a(1);d=a(69);f=a(4);h=a(25);k=a(36);n=a(344);p=a(83);q=a(226);c.prototype.$ib=function(){return this.jhc();};c.prototype.v_a=function(v){return this.mm.add(v);};c.prototype.P0=function(v){return this.mm.remove(v,function(t,w){return t.sa === w.sa;});};c.prototype.toString=function(){return JSON.stringify(this.Ow(),null,"  ");};c.prototype.jhc=function(){var v;v=this;this.djb || (this.djb=new Promise(function(t,w){v.mm.load(v.wua).then(function(){t();}).catch(function(u){u.Ca && u.cause?w(new k.rd(f.aa.vM,u.Ca,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,u)):w(u);});}));return this.djb;};Va.Object.defineProperties(c.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.mm.version;}},d$:{configurable:!0,enumerable:!0,get:function(){return this.mm.Hn;}}});a=c;a=r.__decorate([(0,m.$)(),r.__param(0,(0,m.l)(h.Ug)),r.__param(1,(0,m.l)(p.Az)),r.__param(2,(0,m.l)(d.Tu))],a);b.wJa=a;},function(r,b,a){var l,g;function c(m,d,f,h,k){this.version=m;this.SK=d;this.pFa=f;this.$m=h;this.Ow=k;}Object.defineProperty(b,"__esModule",{value:!0});b.INa=void 0;l=a(4);g=a(36);c.prototype.load=function(m){return this.Z3b(m);};c.prototype.set=function(m){this.Hn=m;return this.d$b();};c.prototype.Z3b=function(m){var d;d=this;this.ldb || (this.ldb=new Promise(function(f,h){function k(n){d.bQb().then(function(){h(n);}).catch(function(){h(n);});}d.Vva().then(function(n){d.storage=n;return d.storage.load(d.SK);}).then(function(n){var p;n=n.value;try{p=m(n);d.version=p.version;d.Hn=p.data;f();}catch(q){k(q);}}).catch(function(n){n.Ca !== l.Y.cA?h(n):f();});}));return this.ldb;};c.prototype.d$b=function(){var m,d,f,h,k;m=this;if(!this.pFa)return Promise.resolve();if(this.oga){h=new Promise(function(n,p){d=n;f=p;});k=function(){m.oga=h;m.Smb().then(function(){d();}).catch(function(n){f(n);});};this.oga.then(k).catch(k);return h;}return this.oga=this.Smb();};c.prototype.Smb=function(){var m,d;m=this;d=this.Ow();return new Promise(function(f,h){m.Vva().then(function(k){return k.save(m.SK,d,!1);}).then(function(){f();}).catch(function(k){h(c.ajc(l.aa.oxb,k));});});};c.prototype.bQb=function(){var m;m=this;return this.pFa?new Promise(function(d,f){m.Vva().then(function(h){return h.remove(m.SK);}).then(function(){d();}).catch(function(h){f(h);});}):Promise.resolve();};c.prototype.Vva=function(){return this.storage?Promise.resolve(this.storage):this.$m.create();};c.ajc=function(m,d){var f;if(d.Ca && d.cause)return new g.rd(m,d.Ca,void 0,void 0,void 0,void 0,void 0,d.cause);if(void 0 !== d.wc){f=d.message?d.message + " ":"";d.code=m;d.message="" === f?void 0:f;return d;}return d instanceof Error?new g.rd(m,l.Y.ln,void 0,void 0,void 0,void 0,d.stack,d):new g.rd(m,l.Y.Fo,void 0,void 0,void 0,void 0,void 0,d);};b.INa=c;},function(r,b,a){var c,l,g,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.Fib=void 0;c=a(4);l=a(98);g=a(128);m=a(225);b.Fib=function(f){m.dP.parent=f.yb;return function(){d || (d=new Promise(function(h,k){try{h(m.dP.get(g.XKa));}catch(n){k(new l.Vh(c.aa.gvb,c.Y.qvb,void 0,"Unable to extract the DRM services from the dependency injector",n));}}));return d;};};},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.VPa=void 0;a.prototype.U$a=function(){return void 0 !== this.mediaKeys;};a.prototype.C_a=function(c){this.mediaKeys=c;};a.prototype.Ncc=function(){this.U$a() && (this.mediaKeys=void 0);};b.VPa=a;},function(r,b,a){var l,g,m,d,f,h,k,n;function c(p,q,v,t,w){this.lJ=p;this.yc=q;this.IQ=t;this.Jq=w;this.log=v.cb("CannedChallengeProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.yJa=void 0;r=a(0);l=a(1);g=a(128);m=a(31);d=a(7);f=a(145);h=a(99);k=a(126);n=a(345);c.prototype.Rva=function(p){var q;q=this;return Promise.all([this.lJ(),this.gva()]).then(function(v){var t;t=oa(v);v=t.next().value;t=t.next().value;return v.zVb({type:p,initData:t,Kba:!1},q.IQ());}).then(function(v){var t;t=oa(v);v=t.next().value;t=t.next().value;t=q.yc.encode(t.data[0]);q.log.trace("Challenge generated",t);return {kc:v,Oqa:t};});};c.prototype.gva=function(){var p;p=this;return this.Jq.hF().then(function(q){return q.Sv();}).then(function(q){switch(q){case k.kn.bF:return n.WLa;case k.kn.vC:return n.xSa;default:return n.GWa;}}).then(function(q){return q.map(p.yc.decode);});};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.G3)),r.__param(1,(0,l.l)(m.Yi)),r.__param(2,(0,l.l)(d.jb)),r.__param(3,(0,l.l)(f.gU)),r.__param(4,(0,l.l)(h.Sz))],a);b.yJa=a;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v;function c(t,w,u,x,y,z){this.Re=t;this.Ai=w;this.yc=u;this.is=x;this.D_=y;this.cl=z;}Object.defineProperty(b,"__esModule",{value:!0});b.wLa=void 0;r=a(0);l=a(1);g=a(31);m=a(25);d=a(37);f=a(68);h=a(30);k=a(126);n=a(69);p=a(726);q=a(728);v=a(229);c.prototype.create=function(t){switch(t){case k.kn.vC:return new q.xTa(this.D_,this.is,this.yc,this.Re,this.cl,this.Ai);case k.kn.bF:return new p.VLa(this.D_,this.is,this.yc,this.Re,this.cl,this.Ai);default:return new v.kx(this.D_,this.is,this.yc,this.Re,this.cl,this.Ai);}};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(h.Di)),r.__param(1,(0,l.l)(f.Qs)),r.__param(2,(0,l.l)(g.Yi)),r.__param(3,(0,l.l)(m.Ug)),r.__param(4,(0,l.l)(d.GM)),r.__param(5,(0,l.l)(n.Tu))],a);b.wLa=a;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v;function c(t,w,u,x,y,z){t=g.kx.call(this,t,w,u,x,y,z) || this;t.yc=u;t.Wi=x;t.cl=y;t.Ai=z;t.mab=new m.ULa(t.yc,t.Wi,t.Ai);return t;}Object.defineProperty(b,"__esModule",{value:!0});b.VLa=void 0;r=a(0);l=a(1);g=a(229);m=a(727);d=a(37);f=a(25);h=a(31);k=a(30);n=a(69);p=a(68);q=a(346);v=a(347);ka(c,g.kx);c.prototype.generateRequest=function(t,w,u){var x,y,z;x=this;try{y=w.map(function(B){return x.mab.xXb(B);});this.Rab=y.map(function(B){return x.yc.encode(B);});z=this.mab.PLb(y,u);return g.kx.prototype.generateRequest.call(this,t,[z],!1);}catch(B){return Promise.reject(B);}};c.prototype.update=function(t,w,u){var x,y,z,B,A;x=this;if(u)try{y=this.Ai.encode(t[0]);z=JSON.parse(y).RESPONSES.map(function(C){var D;D=v.F5.$mb(C.ID);return {keyID:w === q.HH.XTa?x.Rab[x.Rab.length - 1]:u[D],payload:C.PAYLOAD};});if(w === q.HH.Request){B=z.map(function(C){return C.keyID;});u.forEach(function(C){-1 === B.indexOf(C) && z.push({keyID:C,error:1});});}A=JSON.stringify(z);t=[this.Ai.decode(A)];}catch(C){return Promise.reject(C);}return g.kx.prototype.update.call(this,t,w);};c.prototype.dL=function(){return g.kx.prototype.update.call(this,[this.Ai.decode("renew")],q.HH.Request);};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(d.GM)),r.__param(1,(0,l.l)(f.Ug)),r.__param(2,(0,l.l)(h.Yi)),r.__param(3,(0,l.l)(k.Di)),r.__param(4,(0,l.l)(n.Tu)),r.__param(5,(0,l.l)(p.Qs))],a);b.VLa=a;},function(r,b){function a(c,l,g){var m;m=this;this.yc=c;this.Wi=l;this.Ai=g;this.xXb=function(d){var f;d=d.subarray(14,30);d=String.fromCharCode.apply(null,d);d=m.yc.decode(d);d=d.subarray(4);f=new Uint8Array(16);f.set(d);return f;};this.YLa={Zw:1667591779,jsb:1667392371};}Object.defineProperty(b,"__esModule",{value:!0});b.ULa=void 0;a.prototype.PLb=function(c,l){l=l?this.YLa.jsb:this.YLa.Zw;c=c.map(function(g){return {evc:"",X2b:g,Gpa:g,$gc:g,ulc:[1]};});return this.J4b(l,c);};a.prototype.I4b=function(c){var l;l=new Uint8Array(4);new DataView(l.buffer).setUint32(0,c);return this.jza("fpsi",[l]);};a.prototype.H4b=function(c,l,g,m){c=[this.jza("fkri",[c])];l.byteLength && c.push(this.d_("fkai",[l]));g.byteLength && c.push(this.d_("fkcx",[g]));m.length && c.push(this.d_("fkvl",[new Uint8Array(new Uint32Array(m).buffer)]));return this.d_("fpsk",c);};a.prototype.J4b=function(c,l){var g,d;g=new Uint8Array([148,206,134,251,7,255,79,67,173,184,147,210,250,150,140,162]);c=[this.I4b(c)];for(var m in l){d=l[m];c.push(this.H4b(d.X2b,d.Gpa,d.$gc,d.ulc));}l=this.d_("fpsd",c);m=new Uint8Array(4);new DataView(m.buffer).setUint32(0,l.byteLength);return this.jza("pssh",[g,m,l]);};a.prototype.jza=function(c,l){var g,m,d;g=0;for(d in l){g+=l[d].byteLength;}g=new Uint8Array(12 + g);m=new DataView(g.buffer);d=0;m.setUint32(d,g.byteLength);d+=4;g.set(this.Ai.decode(c),d);d+=4;m.setUint32(d,0);d+=4;for(var f in l){c=l[f];g.set(c,d);d+=c.byteLength;}return g;};a.prototype.d_=function(c,l){var g,m;g=0;for(m in l){g+=l[m].byteLength;}g=new Uint8Array(8 + g);m=0;new DataView(g.buffer).setUint32(m,g.byteLength);m+=4;g.set(this.Ai.decode(c),m);m+=4;for(var d in l){c=l[d];g.set(c,m);m+=c.byteLength;}return g;};b.ULa=a;},function(r,b,a){var l,g,m,d;function c(){return g.kx.apply(this,arguments) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.xTa=void 0;r=a(0);l=a(1);g=a(229);m=a(98);d=a(4);ka(c,g.kx);c.prototype.x9=function(f,h,k,n,p){this.Gjb(k);this.Djb(n);this.Bjb(p);this.qYa=this.Eb;this.Eb=f.createSession(h);this.D_a(k);this.z_a(n);this.w_a(p);return this.generateRequest(this.initDataType,this.initData,!1);};c.prototype.close=function(){var h;function f(k){return k && k.sessionId?k.close():Promise.resolve();}h=this;this.qra=void 0;return this.Eb?Promise.all([f(this.Eb),f(this.qYa)]).then(function(){}).finally(function(){h.Eb=void 0;h.qYa=void 0;}):Promise.reject(new m.Vh(d.aa.fLa,d.Y.qM,void 0,"Unable to close a key session, key session is not valid"));};c.prototype.generateRequest=function(f,h,k){this.initDataType=f;this.initData=h;return g.kx.prototype.generateRequest.call(this,f,h,k);};a=c;a=r.__decorate([(0,l.$)()],a);b.xTa=a;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v;function c(t,w,u,x,y,z){this.Ai=t;this.gk=w;this.yc=u;this.config=x;this.cl=y;this.Ri=z;}Object.defineProperty(b,"__esModule",{value:!0});b.YKa=void 0;r=a(0);l=a(1);g=a(82);m=a(31);d=a(68);f=a(12);h=a(84);k=a(126);n=a(69);p=a(730);q=a(731);v=a(732);c.prototype.create=function(t){switch(t){case k.kn.vC:return new q.vLa(this.gk,this.yc);case k.kn.bF:return new v.xUa(this.gk,this.yc,this.Ai,this.Ri);default:return new p.GJa(this.gk,this.yc,this.cl,this.config);}};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(d.Qs)),r.__param(1,(0,l.l)(g.Cz)),r.__param(2,(0,l.l)(m.Yi)),r.__param(3,(0,l.l)(f.xc)),r.__param(4,(0,l.l)(n.Tu)),r.__param(5,(0,l.l)(h.Zz))],a);b.YKa=a;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q;function c(v,t,w,u){this.gk=v;this.yc=t;this.cl=w;this.config=u;}Object.defineProperty(b,"__esModule",{value:!0});b.GJa=void 0;r=a(0);l=a(1);g=a(4);m=a(82);d=a(31);f=a(98);h=a(63);k=a(69);n=a(12);p=a(36);q=a(43);c.prototype.i9=function(){return !1;};c.prototype.Npa=function(){return !0;};c.prototype.Iqa=function(){return !0;};c.prototype.hva=function(){return q.Zw;};c.prototype.iaa=function(){return this.cl.lEa?this.yc.decode(this.cl.lEa):this.yc.decode(q.EWa);};c.prototype.Lva=function(){return [q.bx,q.E5,q.D5];};c.prototype.rxa=function(){Promise.reject(new p.rd(g.aa.Zia));};c.prototype.Nra=function(v){var t;return {type:v.type,sessionId:null === (t=v.target) || void 0 === t?void 0:t.sessionId,yK:[new Uint8Array(v.message)],messageType:v.messageType};};c.prototype.mB=function(v){var t,w,u;t=new f.Vh(g.aa.Os);w=null === v || void 0 === v?void 0:v.code;null != w && void 0 !== w?(w=parseInt(w,10),t.wc=1 <= w && 9 >= w?g.Y.Su + w:g.Y.Su):t.wc=v instanceof h.Ps?g.Y.GT:g.Y.ln;try{u=v.message.match(/\((\d*)\)/)[1];t.vd=this.gk.yJ(u,4);}catch(x){}t.CX(v);return t;};c.prototype.HP=function(){};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.Cz)),r.__param(1,(0,l.l)(d.Yi)),r.__param(2,(0,l.l)(k.Tu)),r.__param(3,(0,l.l)(n.xc))],a);b.GJa=a;},function(r,b,a){var l,g,m,d,f,h,k,n;function c(p,q){this.gk=p;this.yc=q;}Object.defineProperty(b,"__esModule",{value:!0});b.vLa=void 0;r=a(0);l=a(1);g=a(4);m=a(82);d=a(31);f=a(98);h=a(63);k=a(36);n=a(43);c.prototype.i9=function(){return !0;};c.prototype.Npa=function(){return !1;};c.prototype.Iqa=function(){return !1;};c.prototype.hva=function(){return n.Zw;};c.prototype.iaa=function(){};c.prototype.Lva=function(){return [];};c.prototype.rxa=function(){Promise.reject(new k.rd(g.aa.Zia));};c.prototype.Nra=function(p){var q;q=new Uint8Array(p.message);q=this.Hta(q,"PlayReadyKeyMessage","Challenge");q=this.yc.decode(q);return {type:p.type,sessionId:p.target.sessionId,yK:[q],messageType:p.messageType};};c.prototype.mB=function(p){var q,v,t;q=new f.Vh(g.aa.Os);v=p.code;null != v && void 0 !== v?(v=parseInt(v,10),q.wc=1 <= v && 9 >= v?g.Y.Su + v:g.Y.Su):q.wc=p instanceof h.Ps?g.Y.GT:g.Y.ln;try{t=(/\((\d+)\)/).exec(p.message);q.vd=this.gk.yJ(Number(t && t[1]),4);}catch(w){}q.CX(p);return q;};c.prototype.Hta=function(p,q){var t,w,u;for(var v=1;v < arguments.length;++v){;}for(v=1;v < arguments.length;v++){;}v="";w=p.length;for(t=0;t < w;t++){u=p[t];0 < u && (v+=String.fromCharCode(u));}w="\\s*(.*)\\s*";for(t=arguments.length - 1;0 < t;t--){u=arguments[t];if(0 > v.search(u))return "";u="(?:[^:].*:|)" + u;w="[\\s\\S]*<" + u + "[^>]*>" + w + "</" + u + ">[\\s\\S]*";}return (v=v.match(new RegExp(w)))?v[1]:"";};c.prototype.HP=function(){};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.Cz)),r.__param(1,(0,l.l)(d.Yi))],a);b.vLa=a;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t;function c(w,u,x,y){this.gk=w;this.yc=u;this.Ai=x;this.Ri=y;}Object.defineProperty(b,"__esModule",{value:!0});b.xUa=void 0;r=a(0);l=a(1);g=a(4);m=a(82);d=a(68);f=a(98);h=a(63);k=a(31);n=a(43);p=a(348);q=a(36);v=a(84);t=a(347);c.prototype.i9=function(){return !1;};c.prototype.Npa=function(){return !1;};c.prototype.Iqa=function(){return !0;};c.prototype.hva=function(){return n.Zw;};c.prototype.iaa=function(){return this.yc.decode(n.L3);};c.prototype.Lva=function(){return [];};c.prototype.rxa=function(w){w.dL();};c.prototype.Nra=function(w){var u,x;u=[];if(w.messageType === p.dka || w.messageType === p.cka){if(w.messageType === p.dka){x=this.Ai.encode(new Uint8Array(w.message));u=JSON.parse(x);x=u.map(function(y){return y.keyID;});u=u.map(function(y){return y.payload;});}else u=[this.yc.encode(new Uint8Array(w.message))];if(0 === u.length || !u.every(function(y){return y && y.length;}))throw new q.rd(g.aa.kLa);u=this.Zic(u);u=this.Ai.decode(JSON.stringify(u));}else u=new Uint8Array(w.message);return {type:w.type,sessionId:w.target.sessionId,yK:[u],messageType:w.messageType,vy:x};};c.prototype.mB=function(w){var u,x,y,z;x=null === (u=w.target) || void 0 === u?void 0:u.error;if(x)(y=x.systemCode,z=x.code);u=new f.Vh(g.aa.Os,w instanceof h.Ps?g.Y.GT:g.Y.Su,y?this.gk.yJ(y,4):z,"",x);u.CX(w);return u;};c.prototype.Zic=function(w){w=w.map(function(u,x){return {ID:t.F5.P0b(x),PAYLOAD:u};});return {VERSION:this.Ri.Wx?3:1,CHALLENGES:w};};c.prototype.HP=function(w,u){var x,y;x=this;if(u && this.Ri.Wx)try{y=this.Ai.encode(u[0]);return JSON.parse(y).RESPONSES.sort(function(z,B){return z.ID > B.ID?1:-1;}).map(function(z){var B;B=t.F5.$mb(z.ID);z=x.yc.decode(z.DHB).subarray(4,12);B=x.yc.decode(w[B]).subarray(0,8);return {from:z,to:B};});}catch(z){throw new f.Vh(g.aa.wxb,void 0,void 0,void 0,z);}};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.Cz)),r.__param(1,(0,l.l)(k.Yi)),r.__param(2,(0,l.l)(d.Qs)),r.__param(3,(0,l.l)(v.Zz))],a);b.xUa=a;},function(r,b,a){var l,g,m,d;function c(f,h){this.OX=f;this.QX=h;}Object.defineProperty(b,"__esModule",{value:!0});b.RPa=void 0;r=a(0);l=a(1);g=a(230);m=a(228);d=a(734);c.prototype.create=function(f,h,k){return new d.TPa(f,this.OX,this.QX,h,k);};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.Wia)),r.__param(1,(0,l.l)(m.bja))],a);b.RPa=a;},function(r,b,a){var l,g;function c(m,d,f,h,k){this.keySystem=m;this.OX=d;this.QX=f;this.UF=h;this.cp=k;}Object.defineProperty(b,"__esModule",{value:!0});b.TPa=void 0;l=a(73);g=a(43);c.prototype.createMediaKeys=function(){return this.UF.createMediaKeys();};c.prototype.getConfiguration=function(){return this.UF.getConfiguration();};c.prototype.Sv=function(){return l.xb.EY(this.UF.keySystem);};c.prototype.J3a=function(){return this.QX.create(this.cp);};c.prototype.I3a=function(){return this.OX.create(this.cp);};Va.Object.defineProperties(c.prototype,{ica:{configurable:!0,enumerable:!0,get:function(){var m,d;m=this.keySystem;d=(0,g.waa)(this.UF);d && (m+="." + d);return m;}}});b.TPa=c;},function(r,b,a){var l,g,m,d,f,h,k,n;function c(p,q,v,t){this.$n=p;this.config=q;this.OX=v;this.HF=t;this.log=this.$n.cb("KeySystemProvider");}Object.defineProperty(b,"__esModule",{value:!0});b.eOa=void 0;r=a(0);l=a(1);g=a(54);m=a(7);d=a(12);f=a(73);h=a(43);k=a(230);a=a(232);c.prototype.get=function(){var p,q,v;p=this;try{q=(this.config().Ccb || [this.config().Zn]).map(function(t){var w;w=f.xb.EY(t);w=p.OX.create(w).Lva();return (0 < w.length?w:[void 0]).map(function(u){return {keySystem:t,robustness:u};});});v=(0,g.flatten)(q).filter(function(t){return p.ZTb(t);});return this.HF.get().then(function(t){return p.bUb(v,t);});}catch(t){throw (this.log.error("KeySystemProvider failed.",t),t);}};c.prototype.ZTb=function(p){var q;p=f.xb.Oub.includes(p.keySystem) || h.gNa.includes(null !== (q=p.robustness) && void 0 !== q?q:"");return this.config().$5a || !p;};c.prototype.bUb=function(p,q){var v;v=this;return p.reduce(function(t,w,u){var x;x=v.l_b(w);u=p.length - 1 === u;x=(0,h.g3a)(x);q.includes(x) && !u || t.push(w);return t;},[]);};c.prototype.l_b=function(p){var q;q={keySystem:p.keySystem === f.xb.izb?f.xb.X5:p.keySystem};p.robustness && (q.robustness=p.robustness);return q;};n=c;n=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.jb)),r.__param(1,(0,l.l)(d.xc)),r.__param(2,(0,l.l)(k.Wia)),r.__param(3,(0,l.l)(a.Kja))],n);b.eOa=n;},function(r,b,a){var l,g,m,d;function c(f,h,k){this.config=f;this.$n=h;this.yqa=k;this.log=this.$n.cb("KeySystemRestrictor");this.c4b=this.config().b6a?this.yqa.load():Promise.resolve([]);}Object.defineProperty(b,"__esModule",{value:!0});b.gOa=void 0;r=a(0);l=a(1);g=a(7);m=a(12);a=a(233);c.prototype.get=function(){var f;f=this;try{return this.config().b6a?this.c4b.then(function(h){return f.lUb(h);}):Promise.resolve([]);}catch(h){return (this.log.error("KeySystemRestrictor failed.",h),Promise.resolve([]));}};c.prototype.lUb=function(f){var h,n;this.rkb={};h=f.reduce(function(p,q){p[q.keySystem] || (p[q.keySystem]=[]);p[q.keySystem].push(q);return p;},{});this.log.debug("KeySystemErrorCounts: " + JSON.stringify(h));f=[];h=oa(Object.entries(h));for(var k=h.next();!k.done;k=h.next()){n=oa(k.value);k=n.next().value;n=n.next().value;this.G_b(n) && f.push(k);}f.some(function(){return !0;}) && this.log.warn("Restricted KeySystems: " + f);return this.Odc=f;};c.prototype.G_b=function(f){var h,k;h=this;k=f.reduce(function(n,p){h.config().XSb.includes(p.code) && (p=h.aOb(p),n[p] || (n[p]=0),n[p]++);return n;},{});this.rkb[f[0].keySystem]=k;return Object.values(k).some(function(n){return n >= h.config().YSb;});};c.prototype.aOb=function(f){return [f.code,f.wc,f.vd].filter(Boolean).join(".");};Va.Object.defineProperties(c.prototype,{Dcb:{configurable:!0,enumerable:!0,get:function(){return this.Odc;}},Ecb:{configurable:!0,enumerable:!0,get:function(){return this.rkb;}}});d=c;d=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.xc)),r.__param(1,(0,l.l)(g.jb)),r.__param(2,(0,l.l)(a.Cia))],d);b.gOa=d;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.config=void 0;r=a(1);c=a(12);l=a(738);g=a(33);m=a(39);d=a(739);f=a(354);h=a(741);k=a(174);n=a(742);p=a(69);q=a(743);b.config=new r.Ed(function(v){v(c.xc).bf(function(){return function(){return mb._cad_global.config;};});v(g.Eia).to(l.RJa).la();v(g.rn).to(l.pWa).la();v(g.TT).to(l.QNa).la();v(m.Jp).to(d.hMa).la();v(f.BQa).to(h.AQa).la();v(k.bMa).to(n.aMa).la();v(p.Tu).to(q.xLa).la();});},function(r,b,a){var m,d,f,h,k;function c(){this.qB={};this.wkb=0;}function l(n,p,q,v,t){this.debug=n;this.OB=p;this.L_=q;this.ug=v;this.Nea=t;}function g(n,p,q){this.OB=n;this.L_=p;this.Nea=q;}Object.defineProperty(b,"__esModule",{value:!0});b.QNa=b.pWa=b.RJa=void 0;r=a(0);m=a(1);d=a(111);f=a(7);h=a(146);k=a(353);a=a(33);g=r.__decorate([(0,m.$)(),r.__param(0,(0,m.l)(a.TT)),r.__param(1,(0,m.l)(h.K5)),r.__param(2,(0,m.l)(k.sla))],g);b.RJa=g;l=r.__decorate([(0,m.$)(),r.__param(0,(0,m.l)(d.Fz)),r.__param(1,(0,m.l)(a.TT)),r.__param(2,(0,m.l)(h.K5)),r.__param(3,(0,m.l)(f.jb)),r.__param(4,(0,m.l)(k.sla))],l);b.pWa=l;c.prototype.T5b=function(n){this.qB=Object.assign({},this.qB,n);this.wkb++;};Va.Object.defineProperties(c.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.qB;}},qfa:{configurable:!0,enumerable:!0,get:function(){return this.wkb;}}});a=c;a=r.__decorate([(0,m.$)()],a);b.QNa=a;},function(r,b,a){var l,g,m,d,f,h,k,n;function c(p,q,v){p=d.If.call(this,p,void 0 === v?"GeneralConfigImpl":v) || this;p.bh=q;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.hMa=b.pP=void 0;r=a(0);l=a(5);g=a(1);m=a(45);d=a(46);f=a(39);h=a(33);a=a(110);k={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};b.pP=function(p,q){return p.ajb(k[q] || q,f.Lz);};ka(c,d.If);Va.Object.defineProperties(c.prototype,{pP:{configurable:!0,enumerable:!0,get:function(){return f.Lz.Yxb;}},Rmb:{configurable:!0,enumerable:!0,get:function(){return (0,l.Ui)(8);}},QJ:{configurable:!0,enumerable:!0,get:function(){return "";}},FO:{configurable:!0,enumerable:!0,get:function(){return "";}},n2:{configurable:!0,enumerable:!0,get:function(){return "";}},n8:{configurable:!0,enumerable:!0,get:function(){return !0;}},jZ:{configurable:!0,enumerable:!0,get:function(){return this.bh.jZ;}},gTb:{configurable:!0,enumerable:!0,get:function(){return !1;}},we:{configurable:!0,enumerable:!0,get:function(){return {};}},Zxa:{configurable:!0,enumerable:!0,get:function(){return !1;}},Gu:{configurable:!0,enumerable:!0,get:function(){return !1;}},UX:{configurable:!0,enumerable:!0,get:function(){return !0;}},EG:{configurable:!0,enumerable:!0,get:function(){return {__default_rule_key__:["idb","mem"]};}},yB:{configurable:!0,enumerable:!0,get:function(){return 0 <= [f.Lz.BVa,f.Lz.UNa].indexOf(this.pP);}}});n=c;r.__decorate([m.config(b.pP,"environment")],n.prototype,"pP",null);r.__decorate([m.config(m.am,"storageTimeout")],n.prototype,"Rmb",null);r.__decorate([m.config(m.string,"groupName")],n.prototype,"QJ",null);r.__decorate([m.config(m.string,"canaryGroupName",!0)],n.prototype,"FO",null);r.__decorate([m.config(m.string,"uiGroupName")],n.prototype,"n2",null);r.__decorate([m.config(m.Hd,"applyIndexedDbOpenWorkaround")],n.prototype,"n8",null);r.__decorate([m.config(m.Hd,"ignoreIdbOpenError")],n.prototype,"jZ",null);r.__decorate([m.config(m.Hd,"executeStorageMigration")],n.prototype,"gTb",null);r.__decorate([m.config(m.object(),"browserInfo")],n.prototype,"we",null);r.__decorate([m.config(m.Hd,"isTestAccount")],n.prototype,"Zxa",null);r.__decorate([m.config(m.Hd,"useRangeHeader")],n.prototype,"Gu",null);r.__decorate([m.config(m.Hd,"enableMilestoneEventList")],n.prototype,"UX",null);r.__decorate([m.config(m.object,"storageRules")],n.prototype,"EG",null);n=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(h.rn)),r.__param(1,(0,g.l)(a.yH)),r.__param(2,(0,g.l)(h.m3)),r.__param(2,(0,g.optional)())],n);b.hMa=n;},function(r,b){function a(c){this.value=c;}Object.defineProperty(b,"__esModule",{value:!0});b.zka=void 0;a.empty=function(){return a.of(void 0);};a.of=function(c){return new a(c);};a.prototype.or=function(c){return void 0 === this.value?c instanceof Function?c():c:this.value;};a.prototype.map=function(c){return void 0 === this.value?a.empty():a.of(c(this.value));};b.zka=a;},function(r,b,a){var l,g,m,d;function c(f,h){return m.If.call(this,f,void 0 === h?"NetworkMonitorConfigImpl":h) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.AQa=void 0;r=a(0);l=a(1);g=a(45);m=a(46);a=a(33);ka(c,m.If);Va.Object.defineProperties(c.prototype,{zpb:{configurable:!0,enumerable:!0,get:function(){return !0;}}});d=c;r.__decorate([g.config(g.Hd,"useNetworkMonitor")],d.prototype,"zpb",null);d=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.rn)),r.__param(1,(0,l.l)(a.m3)),r.__param(1,(0,l.optional)())],d);b.AQa=d;},function(r,b,a){var l,g,m,d,f,h,k,n;function c(p,q,v,t){p=d.If.call(this,p,"FtlProbeConfigImpl") || this;p.Gi=q;p.za=v;p.bh=t;return p;}Object.defineProperty(b,"__esModule",{value:!0});b.aMa=void 0;r=a(0);l=a(27);g=a(1);m=a(5);d=a(46);f=a(175);h=a(45);k=a(33);a=a(110);ka(c,d.If);Va.Object.defineProperties(c.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return this.bh.$$;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return "" + this.xua + (-1 === this.xua.indexOf("?")?"?":"&") + "monotonic=" + this.za.ofb + "&device=web";}},Amb:{configurable:!0,enumerable:!0,get:function(){return m.Oa;}},pua:{configurable:!0,enumerable:!0,get:function(){return "";}},xua:{configurable:!0,enumerable:!0,get:function(){return this.Gi.endpoint + "/ftl/probe" + (this.pua?"?force=" + this.pua:"");}}});n=c;r.__decorate([h.config(h.Hd,"ftlEnabled")],n.prototype,"enabled",null);r.__decorate([h.config(h.am,"ftlStartDelay")],n.prototype,"Amb",null);r.__decorate([h.config(h.string,"ftlEndpointForceParam")],n.prototype,"pua",null);r.__decorate([h.config(h.url,"ftlEndpoint")],n.prototype,"xua",null);n=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(k.rn)),r.__param(1,(0,g.l)(f.a3)),r.__param(2,(0,g.l)(l.Hh)),r.__param(3,(0,g.l)(a.yH))],n);b.aMa=n;},function(r,b,a){var l,g,m,d,f,h;function c(k,n,p){k=g.If.call(this,k,void 0 === p?"EmeConfigImpl":p) || this;k.we=n;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.xLa=void 0;r=a(0);l=a(1);g=a(46);m=a(33);d=a(5);f=a(45);a=a(169);ka(c,g.If);Va.Object.defineProperties(c.prototype,{abb:{configurable:!0,enumerable:!0,get:function(){return this.we.Abb || this.we.Pba || this.we.DZ?!0:!1;}},KF:{configurable:!0,enumerable:!0,get:function(){return (0,d.Ui)(5);}},DBa:{configurable:!0,enumerable:!0,get:function(){return (0,d.Ui)(10);}},MX:{configurable:!0,enumerable:!0,get:function(){return "unsentDrmData";}},nY:{configurable:!0,enumerable:!0,get:function(){return !1;}},Fsa:{configurable:!0,enumerable:!0,get:function(){return !1;}},iu:{configurable:!0,enumerable:!0,get:function(){return !0;}},g0a:{configurable:!0,enumerable:!0,get:function(){return (0,d.Ui)(30);}},h0a:{configurable:!0,enumerable:!0,get:function(){return (0,d.Ui)(30);}},j0a:{configurable:!0,enumerable:!0,get:function(){return (0,d.Ui)(30);}},i8:{configurable:!0,enumerable:!0,get:function(){return (0,d.Ui)(30);}},k0a:{configurable:!0,enumerable:!0,get:function(){return (0,d.Ui)(30);}},lEa:{configurable:!0,enumerable:!0,get:function(){return "";}},Qgb:{configurable:!0,enumerable:!0,get:function(){return this.we.TB?!1:!0;}},Rgb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});h=c;r.__decorate([f.config(f.Hd,"initializeKeySystemAtStartup")],h.prototype,"abb",null);r.__decorate([f.config(f.am,"licenseRenewalRequestDelay")],h.prototype,"KF",null);r.__decorate([f.config(f.am,"persistedReleaseDelay")],h.prototype,"DBa",null);r.__decorate([f.config(f.string,"drmPersistKey")],h.prototype,"MX",null);r.__decorate([f.config(f.Hd,"forceLimitedDurationLicense")],h.prototype,"nY",null);r.__decorate([f.config(f.Hd,"disableLicenseRenewal")],h.prototype,"Fsa",null);r.__decorate([f.config(f.Hd,"prepareCadmium")],h.prototype,"iu",null);r.__decorate([f.config(f.am,"apiCloseTimeout")],h.prototype,"g0a",null);r.__decorate([f.config(f.am,"apiCreateMediaKeysTimeout")],h.prototype,"h0a",null);r.__decorate([f.config(f.am,"apiSetServerCertificateTimeout")],h.prototype,"j0a",null);r.__decorate([f.config(f.am,"apiGenerateRequestTimeout")],h.prototype,"i8",null);r.__decorate([f.config(f.am,"apiUpdateTimeout")],h.prototype,"k0a",null);r.__decorate([f.config(f.string,"serverCertificate")],h.prototype,"lEa",null);r.__decorate([f.config(f.Hd,"outputRestrictedIsFatal")],h.prototype,"Qgb",null);r.__decorate([f.config(f.Hd,"outputRestrictedIsFatalForUhd")],h.prototype,"Rgb",null);h=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.rn)),r.__param(1,(0,l.l)(a.$G)),r.__param(2,(0,l.l)(m.m3)),r.__param(2,(0,l.optional)())],h);b.xLa=h;},function(r,b,a){var c,l,g,m,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.P5a=void 0;r=a(1);c=a(128);l=a(745);g=a(99);m=a(746);d=a(356);f=a(747);b.P5a=new r.Ed(function(h){h(c.XKa).to(l.WKa).la();h(g.Sz).to(m.UPa).la();h(d.zLa).to(f.yLa);});},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w;function c(u,x,y,z,B,A,C,D,E){var G;G=this;this.Jc=x;this.zC=y;this.config=z;this.Qv=B;this.FRb=A;this.EO=C;this.IQ=D;this.co=E;this.Mhc=function(F,L){var O;G.co.mark(w.Ua.O3,F.Rj.sa,"generate-challenge");O=!1;L.yfc(function(K){O || (O=!0,G.co.mark(w.Ua.N3,F.Rj.sa,"generate-challenge"));G.IJ(F,L,K).then(function(I){L.A_a(I);G.fJb(L);}).catch(function(I){return L.XFb(I);});});};this.log=u.cb("DrmServices");this.Qv().Hu && this.EO.$ib().then(function(){G.Acc();}).catch(function(F){G.log.error("Unable to load the persisted DRM data",F);});this.config.abb && this.JE(D(),h.$i.gr).then(function(F){return F.close();});}Object.defineProperty(b,"__esModule",{value:!0});b.WKa=void 0;r=a(0);l=a(1);g=a(7);m=a(47);d=a(355);f=a(85);h=a(57);k=a(69);n=a(227);p=a(226);q=a(356);v=a(12);t=a(145);w=a(56);c.prototype.zVb=function(u,x){return this.JE(x,u.type,u.context).then(function(y){return y.CVb(u.initData,u.Kba).then(function(z){return [y,{cp:y.Sv(),data:z.Yk}];});});};c.prototype.ki=function(u,x){var y;y=this;this.log.info("Requesting challenges",this.o9a(u,u.type));return this.JE(x,u.type,u.context).then(function(z){y.lfb(u,z);return z.DVb(u.initData,u.Kba).then(function(){return z;});});};c.prototype.lfb=function(u,x){x.Efc(u.Rj);this.Mhc(u,x);};c.prototype.release=function(u,x){var y;y=this;this.log.info("Releasing server license",this.l$a(u));return this.MYb(u).then(function(){var z;z=Object.assign({active:!1,Ye:[]},u.Rj);y.EO.P0(z);x.Ncc();return u;});};c.prototype.o9a=function(u,x){return {movieId:u.Rj.L,xid:u.Rj.sa,type:(0,h.Eya)(x)};};c.prototype.l$a=function(u){return {movieId:u.Rj?u.Rj.L:void 0,xid:u.Rj?u.Rj.sa:void 0,keySessionId:u.DB()};};c.prototype.IJ=function(u,x,y){this.log.info("Sending license request",this.o9a(u,y.Og));return this.zC.ki({sa:u.Rj.sa,fh:u.Rj.fh,c$:[u.Rj.Hm],Yk:[{sessionId:x.DB() || "session",data:y.Yk}],Og:y.Og,cp:x.Sv(),b2a:y.b2a,Kj:u.Rj.Kj,ih:u.Rj.ih});};c.prototype.MYb=function(u){this.log.info("Sending release request",this.l$a(u));return this.zC.release({sa:u.Rj.sa,Ye:u.Ye});};c.prototype.JE=function(u,x,y){return this.FRb.create().then(function(z){return z.createSession(u,x,y).then(function(){return z;});});};c.prototype.zcc=function(u){var x;x=this;return this.zC.release({sa:u.sa,Ye:u.Ye}).catch(function(y){x.log.error("Unable to send release data to the server",y);});};c.prototype.Acc=function(){var u;u=this;this.Jc.wl(this.config.DBa,function(){u.log.trace("Removing cached sessions",{"count:":u.EO.d$.length});u.EO.d$.filter(function(x){return !x.active;}).reduce(function(x,y){return x.then(function(){return u.zcc(y);}).then(function(){return u.EO.P0(y);});},Promise.resolve(void 0));});};c.prototype.fJb=function(u){var x;if(u.DB() && u.Rj){x=new p.F3();x.Ye=u.Ye;x.sa=u.Rj.sa;x.L=u.Rj.L;this.EO.v_a(x);}};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.jb)),r.__param(1,(0,l.l)(m.Zj)),r.__param(2,(0,l.l)(d.VKa)),r.__param(3,(0,l.l)(k.Tu)),r.__param(4,(0,l.l)(v.xc)),r.__param(5,(0,l.l)(q.zLa)),r.__param(6,(0,l.l)(n.Aia)),r.__param(7,(0,l.l)(t.gU)),r.__param(8,(0,l.l)(f.kU))],a);b.WKa=a;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w;function c(u,x,y,z,B,A){this.$n=u;this.yc=x;this.config=y;this.z6b=z;this.QX=B;this.W2b=A;this.log=this.$n.cb("MediaKeySystemAccessServices");}Object.defineProperty(b,"__esModule",{value:!0});b.UPa=void 0;r=a(0);l=a(1);g=a(4);m=a(7);d=a(98);f=a(126);h=a(31);k=a(12);n=a(73);p=a(43);q=a(345);v=a(351);t=a(228);a=a(352);c.prototype.hF=function(){this.promise || (this.promise=this.$dc());return this.promise;};c.prototype.rOb=function(u){var x,y;x={initDataTypes:[p.Zw],videoCapabilities:[{contentType:"video/mp4;codecs=avc1.42E01E"}],sessionTypes:[p.TEMPORARY]};y=x.videoCapabilities[0];u && (y.robustness=u);return [x];};c.prototype.kOb=function(u,x){var y;y=this;return new Promise(function(z,B){var A;A=n.xb.EY(u);y.QX.create(A).idc(u,y.rOb(x)).then(function(C){y.log.trace("Created the media keys system access",{keySystem:u,supportedconfig:C.getConfiguration?JSON.stringify(C.getConfiguration()):void 0});C=y.z6b.create(u,C,A);y.ica=C.ica;z(C);}).catch(function(C){y.log.warn("Unable to create the media key system access object",{keySystem:u,error:C.message});B(new d.Vh(g.aa.gLa,g.Y.ln,void 0,"Unable to create media keys system access. " + C.message,C));});});};c.prototype.RWb=function(){var u;u=this.config().Ccb || [this.config().Zn];if(1 < u.length)return (u=u.map(function(x){return n.xb.Yua(n.xb.EY(x));}),1 === new Set(u).size?Promise.resolve(u[0]):this.hF().then(function(x){return x.Sv();}).then(function(x){return n.xb.Yua(x);}));u=n.xb.EY(u[0]);return Promise.resolve(n.xb.Yua(u));};c.prototype.PGa=function(u){var x,y,z,B;x=this;y=u.Sv();z=u.J3a();B=u.I3a();return u.createMediaKeys().then(function(A){z.createSession(A,p.TEMPORARY);return z.setServerCertificate(A,B.iaa());}).then(function(){return z.generateRequest(p.Zw,x.gva(y),!1);}).then(function(){return z.close();}).then(function(){return u;}).catch(function(A){x.log.error("validateKeySystemAccess failed",A);return Promise.reject(A);});};c.prototype.gva=function(u){switch(u){case f.kn.bF:u=q.WLa;break;case f.kn.vC:u=q.xSa;break;default:u=q.GWa;}return u.map(this.yc.decode);};c.prototype.$dc=function(){var u;u=this;try{return this.W2b.get().then(function(x){return x.map(function(y,z){return function(){var B,A;B=z === x.length - 1;A=u.config().PGa && !B;return u.kOb(y.keySystem,y.robustness).then(function(C){return A?u.PGa(C):Promise.resolve(C);});};});}).then(function(x){return u.aec(x);});}catch(x){return Promise.reject(x);}};c.prototype.aec=function(u){return u.reduce(function(x,y){return x.then(function(z){return Promise.resolve(z);}).catch(function(){return y();});},Promise.reject(Error("keySystem missing")));};Va.Object.defineProperties(c.prototype,{Bcb:{configurable:!0,enumerable:!0,get:function(){return this.ica;}}});w=c;w=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.jb)),r.__param(1,(0,l.l)(h.Yi)),r.__param(2,(0,l.l)(k.xc)),r.__param(3,(0,l.l)(v.SPa)),r.__param(4,(0,l.l)(t.bja)),r.__param(5,(0,l.l)(a.fOa))],w);b.UPa=w;},function(r,b,a){var l,g,m,d,f,h,k,n;function c(p,q,v,t,w,u){this.$n=p;this.Ia=q;this.yc=v;this.config=t;this.Pq=w;this.Jq=u;}Object.defineProperty(b,"__esModule",{value:!0});b.yLa=void 0;r=a(0);l=a(1);g=a(7);m=a(18);d=a(31);f=a(69);h=a(63);k=a(348);a=a(99);c.prototype.create=function(){var p;p=this;return this.Jq.hF().then(function(q){return new k.ALa(p.$n,p.Ia,p.yc,p.config,p.Pq,q);});};n=c;n=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.jb)),r.__param(1,(0,l.l)(m.jd)),r.__param(2,(0,l.l)(d.Yi)),r.__param(3,(0,l.l)(f.Tu)),r.__param(4,(0,l.l)(h.CD)),r.__param(5,(0,l.l)(a.Sz))],n);b.yLa=n;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A,C,D,E,G,F,L,O,K,I,M,H,J,N;Object.defineProperty(b,"__esModule",{value:!0});b.jdb=void 0;c=a(749);l=a(775);g=a(784);m=a(787);d=a(793);f=a(797);h=a(1203);k=a(1206);n=a(1218);p=a(1227);q=a(1231);v=a(1233);t=a(1262);w=a(1264);u=a(1268);x=a(1283);y=a(1291);z=a(1297);B=a(1300);A=a(1307);C=a(225);D=a(1313);E=a(1320);G=a(1334);F=a(1340);L=a(1342);O=a(1349);K=a(1393);I=a(1415);M=a(1419);H=a(1423);J=a(1437);N=a(1440);b.jdb=function(P){P.load(c.gB,h.ML,l.ydb,k.$o,g.kfb,m.U,d.Wpb,f.rab,n.storage,p.wO,q.J1a,v.Sdb,t.WF,w.al,u.xdb,x.Dfb,y.R7a,z.Gib,B.WK,A.I5a,C.O5a,D.Re,E.Dd,G.qb,F.tfb,L.shb,O.j,K.U2a,I.transports,M.Om,H.Qh,J.I0a,N.ba);};},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A,C,D,E,G,F,L,O,K,I,M,H,J,N,P,W,V,S,U,fa,qa,za,Aa,Qa,T,Z,Q,la,sa,R,ha,wa,va,Ea,Ya,wb,nb,zb,Oa,Za,Xa,cb,hb,sb,Hb,Lb,Rb,Tb,Ob;Object.defineProperty(b,"__esModule",{value:!0});b.gB=void 0;r=a(1);c=a(37);l=a(27);g=a(47);m=a(86);d=a(147);f=a(750);h=a(751);k=a(752);n=a(753);p=a(68);q=a(82);v=a(31);t=a(30);w=a(25);u=a(112);x=a(63);y=a(358);z=a(754);B=a(359);A=a(360);C=a(755);D=a(756);E=a(216);G=a(361);F=a(757);L=a(224);O=a(129);K=a(758);I=a(18);M=a(362);H=a(759);J=a(760);N=a(111);P=a(761);W=a(7);V=a(357);S=a(762);U=a(85);fa=a(763);qa=a(363);za=a(764);Aa=a(765);Qa=a(113);T=a(14);Z=a(766);Q=a(365);la=a(366);sa=a(767);R=a(367);ha=a(12);wa=a(49);va=a(148);Ea=a(368);Ya=a(169);wb=a(768);nb=a(369);zb=a(370);Oa=a(235);Za=a(769);Xa=a(176);cb=a(770);hb=a(236);sb=a(771);Hb=a(772);Lb=a(234);Rb=a(773);Tb=a(233);Ob=a(774);b.gB=new r.Ed(function(Eb){Eb(c.i5).JG(function(){return {};}).la();Eb(c.lH).dn(JSON);Eb(c.HWa).dn(mb);Eb(d.uVa).dn(Math);Eb(c.JOa).dn(T.W4);Eb(c.Ska).dn(T.gx);Eb(c.kWa).dn(T.vH);Eb(c.pKa).dn(Date);Eb(c.GM).dn(T.ff);Eb(c.owb).dn(T.xD);Eb(V.MJa).to(S.LJa).la();Eb(I.jd).to(K.VHa).la();Eb(l.Hh).to(n.NJa).la();Eb(g.Zj).to(f.yUa).la();Eb(m.Oz).to(h.HNa).la();Eb(x.CD).to(D.MTa).la();Eb(d.u5).to(k.UTa).la();Eb(Ea.kka).to(Hb.MPa).la();Eb(N.Fz).to(J.uKa).la();Eb(N.sKa).to(P.rKa).la();Eb(p.Qs).to(z.lWa).la();Eb(q.Cz).to(B.jia).la();Eb(v.Yi).to(A.kia).la();Eb(t.Di).to(C.mWa).la();Eb(w.Ug).dn(E.kH);Eb(nb.HT).to(zb.NLa).la();Eb(u.fja).to(G.Gk).Wwa();Eb(u.C3).to(G.Gk).la();Eb(u.HKa).to(G.Gk).la();Eb(u.ija).to(G.Gk).la();Eb(L.Qla).to(O.FH).la();Eb(M.cKa).to(H.bKa).la();Eb(U.WM).to(fa.Wla).la();Eb(U.kU).to(fa.Wla).la();Eb("Factory<LoggerFactory>").Znb(W.jb);Eb(qa.Ria).to(za.wKa).la();Eb(Qa.UM).bf(function(Sb){return function(Zb){return new Aa.DVa(Sb.yb.get(I.jd),Sb.yb.get(g.Zj),Zb);};});Eb(Xa.B3).bf(function(Sb){return function(Zb){return new cb.qKa(Sb.yb.get(g.Zj),Zb);};});Eb(Z.qla).bjc(Q.pla);Eb(Z.Wxb).bf(function(Sb){var Zb;Zb=Sb.yb.get(Z.qla);return function(){return new Zb(!1);};});Eb(Z.Xxb).bf(function(Sb){var Zb;Zb=Sb.yb.get(Z.qla);return function(){return new Zb(!0);};});Eb(la.hWa).bf(function(){return function(Sb){return new sa.iWa(Sb);};});Eb(va.wU).bf(function(Sb){return function(Zb,Jc,dd){return new R.YSa(Sb.yb.get(N.Fz),Sb.yb.get(ha.xc),Sb.yb.get(wa.fr),Sb.yb.get(Ea.kka),Zb,Jc,dd);};});Eb(y.UQa).bf(function(){return function(Sb){return new F.VQa(Sb);};});Eb(Ya.$G).to(wb.XIa);Eb(Lb.$la).to(Rb.jWa).la();Eb(Oa.GU).bf(function(Sb){return function(Zb,Jc){return new Za.PVa(Sb.yb.get(g.Zj),Zb,Jc);};});Eb(hb.GLa).to(sb.FLa).la();Eb(Tb.Cia).to(Ob.xJa).la();});},function(r,b,a){var g,m,d,f;function c(h){this.Tq=h;(0,m.Hq)(this,"timers");}function l(h,k){this.Tq=h;this.UJb=k;}Object.defineProperty(b,"__esModule",{value:!0});b.yUa=void 0;r=a(0);g=a(1);m=a(54);d=a(37);f=a(5);l.prototype.cancel=function(){this.UJb(this.Tq);};c.prototype.vl=function(h){return this.wl(f.Oa,h);};c.prototype.wl=function(h,k){var n;n=this.Tq.setTimeout(k,h.ia(f.va));return new l(this.Tq,function(p){p.clearTimeout(n);});};c.prototype.TR=function(h,k){var n;n=this.Tq.setInterval(k,h.ia(f.va));return new l(this.Tq,function(p){p.clearInterval(n);});};a=c;a=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(d.HWa))],a);b.yUa=a;},function(r,b,a){var l,g,m,d,f;function c(h,k){this.za=h;this.random=k;}Object.defineProperty(b,"__esModule",{value:!0});b.HNa=void 0;r=a(0);g=a(1);m=a(5);d=a(27);a=a(147);c.prototype.nB=function(){return this.za.lf.ia(m.Eo) * l.rJa + Math.floor(this.random.random() * l.rJa);};f=l=c;f.rJa=1E8;f=l=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(d.Hh)),r.__param(1,(0,g.l)(a.u5))],f);b.HNa=f;},function(r,b,a){var l,g;function c(m){this.nic=m;}Object.defineProperty(b,"__esModule",{value:!0});b.UTa=void 0;r=a(0);l=a(1);a=a(147);c.prototype.random=function(){return this.nic.random();};c.prototype.Sib=function(m,d){if("number" !== typeof m)(d=m.end,m=m.start);else if("undefined" === typeof d)throw Error("max must be provided for randomInteger API");return Math.round(m + this.random() * (d - m));};g=c;g=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.uVa))],g);b.UTa=g;},function(r,b,a){var l,g,m,d,f,h,k;function c(n,p,q,v){var t;t=this;this.config=n;this.fPb=p;this.Pb=q;this.performance=v;this.J8b=function(w){t.mEa=w.Ga(t.lf);};(0,l.Hq)(this,"date");(0,l.Hq)(this,"performance");this.TGb=void 0 !== this.performance && void 0 !== this.performance.timing && void 0 !== this.performance.now;this.mEa=g.Oa;this.Pb.addListener(k.Eja.glb,this.J8b);}Object.defineProperty(b,"__esModule",{value:!0});b.NJa=void 0;r=a(0);l=a(54);g=a(5);m=a(1);d=a(37);f=a(357);h=a(112);k=a(16);c.prototype.BGb=function(n){return n.add(this.mEa);};Va.Object.defineProperties(c.prototype,{lf:{configurable:!0,enumerable:!0,get:function(){return this.ofb?(0,g.timestamp)(this.performance.timing.navigationStart + this.performance.now()):(0,g.$b)(this.fPb.now());}},sL:{configurable:!0,enumerable:!0,get:function(){return this.lf.add(this.mEa);}},ofb:{configurable:!0,enumerable:!0,get:function(){return this.config.Bpb && this.TGb;}}});a=c;a=r.__decorate([(0,m.$)(),r.__param(0,(0,m.l)(f.MJa)),r.__param(1,(0,m.l)(d.pKa)),r.__param(2,(0,m.l)(h.ija)),r.__param(3,(0,m.l)(d.Ska)),r.__param(3,(0,m.optional)())],a);b.NJa=a;},function(r,b,a){var l,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.lWa=void 0;r=a(0);a=a(1);c.prototype.encode=function(m){return l.ata(m);};c.prototype.decode=function(m){return l.nsa(m);};c.ata=function(m){if(!m)throw new TypeError("Invalid byte array");for(var d=0,f,h=m.length,k="";d < h;){f=m[d++];if(!(0 <= f && 255 >= f))throw Error("bad utf8");if(f & 128)if(192 === (f & 224))f=((f & 31) << 6) + (m[d++] & 63);else if(224 === (f & 240))f=((f & 15) << 12) + ((m[d++] & 63) << 6) + (m[d++] & 63);else throw Error("unsupported utf8 character");k+=String.fromCharCode(f);}return k;};c.nsa=function(m){var d,f,h,k,n;d=m.length;f=0;k=0;if(!(0 <= d))throw Error("bad string");for(h=d;h--;){n=m.charCodeAt(h);128 > n?f++:f=2048 > n?f + 2:f + 3;}f=new Uint8Array(f);for(h=0;h < d;h++){n=m.charCodeAt(h);128 > n?f[k++]=n:(2048 > n?f[k++]=192 | n >>> 6:(f[k++]=224 | n >>> 12,f[k++]=128 | n >>> 6 & 63),f[k++]=128 | n & 63);}return f;};g=l=c;g=l=r.__decorate([(0,a.$)()],g);b.lWa=g;},function(r,b,a){var l,g,m,d;function c(f,h){this.is=f;this.gk=h;}Object.defineProperty(b,"__esModule",{value:!0});b.mWa=void 0;r=a(0);l=a(1);a(4);g=a(25);m=a(82);d=a(14);c.prototype.TF=function(f,h,k){var n,p,q,v;n=this;if(h)if(k){p=k.e_;q=k.prefix;v=k.Yda;this.YE(h,function(t,w){if(!v || n.is.wh(w))f[(q || "") + (p?t.toLowerCase():t)]=w;});}else this.YE(h,function(t,w){f[t]=w;});return f;};c.prototype.YE=function(f,h){for(var k in f){f.hasOwnProperty(k) && h(k,f[k]);}};c.prototype.FE=function(f,h){if(f.length == h.length){for(var k=f.length;k--;){if(f[k] != h[k])return !1;}return !0;}return !1;};c.prototype.o3a=function(f,h){if(f.length != h.length)return !1;f.sort();h.sort();for(var k=f.length;k--;){if(f[k] !== h[k])return !1;}return !0;};c.prototype.mf=function(f){var h,k,n;if(f){h=f.stack;k=f.number;n=f.message;n || (n="" + f);h?(f="" + h,0 !== f.indexOf(n) && (f=n + "\n" + f)):f=n;k && (f+="\nnumber:" + k);return f;}};c.prototype.getFunctionName=function(f){return (f=(/function (.{1,})\(/).exec(f.toString())) && 1 < f.length?f[1]:"";};c.prototype.Pua=function(f){return this.getFunctionName(f.constructor);};c.prototype.EAa=function(f){var h,k;h=this;k="";this.is.qE(f) || this.is.d0a(f)?k=Array.prototype.reduce.call(f,function(n,p){return n + (32 <= p && 128 > p?String.fromCharCode(p):".");},""):this.is.Dr(f)?k=f:this.YE(f,function(n,p){k+=(k?", ":"") + "{" + n + ": " + (h.is.P7(p)?h.getFunctionName(p) || "function":p) + "}";});return "[" + this.Pua(f) + " " + k + "]";};c.prototype.createElement=function(f,h,k,n){var p;p=d.Xh.createElement(f);h && (p.style.cssText=h);k && (p.innerHTML=k);n && this.YE(n,function(q,v){p.setAttribute(q,v);});return p;};c.prototype.STb=function(f,h){return function(k){return k[f] === h;};};c.prototype.g0=function(f){var h;h={};(f || "").split("&").forEach(function(k){var n,p;k=k.trim();n=k.indexOf("=");if(0 <= n){p=decodeURIComponent(k.substr(0,n)).toLowerCase();h[p]=decodeURIComponent(k.substr(n + 1));}else h[k.toLowerCase()]=void 0;});return h;};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.Ug)),r.__param(1,(0,l.l)(m.Cz))],a);b.mWa=a;},function(r,b,a){var l,g,m;function c(d){this.Jc=d;}Object.defineProperty(b,"__esModule",{value:!0});b.MTa=void 0;r=a(0);l=a(1);g=a(47);m=a(63);c.prototype.xs=function(d,f){var h;h=this;return new Promise(function(k,n){var p;p=h.Jc.wl(d,function(){n(new m.Ps(d));});f.then(function(q){k(q);p.cancel();}).catch(function(q){n(q);p.cancel();});});};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.Zj))],a);b.MTa=a;},function(r,b,a){var l;function c(g){this.JVb=g;this.aba=!1;this.qba=this.Sg=this.xS=0;this.kZ=!1;this.rba=0;}Object.defineProperty(b,"__esModule",{value:!0});b.VQa=void 0;l=a(15);c.prototype.epa=function(g){g < this.xS && (this.Sg+=this.xS);this.xS=g;this.aba=!0;};c.prototype.zWb=function(){if(this.aba)return this.kZ?this.rba - this.qba:this.Sg + this.xS - this.qba;};c.prototype.refresh=function(){var g;g=this.JVb();(0,l.Qa)(g) && this.epa(g);};c.prototype.ahc=function(){this.kZ || (this.aba && (this.rba=this.Sg + this.xS),this.kZ=!0);};c.prototype.rhc=function(){this.kZ && (this.aba && (this.qba+=this.Sg + this.xS - this.rba),this.rba=0,this.kZ=!1);};b.VQa=c;},function(r,b,a){var l,g,m,d;function c(f,h){this.za=f;this.aaa=this.za.lf.ia(m.va) - 1;this.t4b=this.lca=0;this.id="" + h.nB();}Object.defineProperty(b,"__esModule",{value:!0});b.VHa=void 0;r=a(0);l=a(1);g=a(27);m=a(5);a=a(86);c.prototype.Rb=function(){var f,h;f=this.za.lf.ia(m.va) - this.aaa;if(f < this.lca){h=this.lca + 1;this.aaa-=h - f;f=h;}this.lca=f;return (0,m.$b)(this.lca);};c.prototype.JXb=function(){return this.t4b++;};Va.Object.defineProperties(c.prototype,{XB:{configurable:!0,enumerable:!0,get:function(){return (0,m.$b)(this.aaa);}}});d=c;d=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.Hh)),r.__param(1,(0,l.l)(a.Oz))],d);b.VHa=d;},function(r,b,a){var l,g,m,d;function c(f,h){this.is=f;this.Re=h;}Object.defineProperty(b,"__esModule",{value:!0});b.bKa=void 0;r=a(0);g=a(1);m=a(25);a=a(30);c.prototype.encode=function(f){var h,k;h=this;k="";this.Re.YE(f,function(n,p){n=h.m6a(n) + "=" + h.m6a(p);k=k?k + ("," + n):n;});return k;};c.prototype.m6a=function(f){return this.is.cJ(f)?this.is.Ol(f)?"" + f:this.is.Dr(f)?(f=f.replace(l.RCa,this.pza.bind(this)),!l.Dbc.test(f) && l.O6b.test(f) && (f='"' + f + '"'),f):this.is.N7(f)?"" + f:this.is.Koa(f)?"NaN":"":"";};c.prototype.pza=function(f){return l.map[f];};d=l=c;d.map={'"':'""',"\r":"","\n":" "};d.RCa=/(?!^.+)["\r\n](?=.+$)/g;d.Dbc=/["].*["]/g;d.O6b=/[", ]/;d=l=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(m.Ug)),r.__param(1,(0,g.l)(a.Di))],d);b.bKa=d;},function(r,b,a){var l,g,m,d;function c(f,h,k){this.config=f;this.Ib=h;this.qa=k.cb("General");}Object.defineProperty(b,"__esModule",{value:!0});b.uKa=void 0;r=a(0);l=a(1);g=a(25);m=a(111);a=a(7);c.prototype.assert=function(){};c.prototype.rHb=function(f,h){this.assert(this.Ib.cJ(f),h);};c.prototype.sHb=function(f,h){this.assert(this.Ib.wh(f),h);};c.prototype.v8=function(f,h){this.assert(this.Ib.Dr(f),h);};c.prototype.yHb=function(f,h){this.assert(this.Ib.Qo(f),h);};c.prototype.wHb=function(f,h){this.assert(this.Ib.Dr(f) || null === f || void 0 === f,h);};c.prototype.u8=function(f,h){this.assert(this.Ib.Ol(f),h);};c.prototype.uHb=function(f,h){this.assert(this.Ib.spa(f),h);};c.prototype.xHb=function(f,h){this.assert(this.Ib.tW(f),h);};c.prototype.vHb=function(f,h){this.assert(this.Ib.dW(f),h);};c.prototype.qHb=function(f,h){this.assert(this.Ib.N7(f),h);};c.prototype.tHb=function(f,h){this.assert(this.Ib.P7(f),h);};c.prototype.y1b=function(){this.assert(!1,"invalid operation, this method should not be called");};d=c;d=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.sKa)),r.__param(1,(0,l.l)(g.Ug)),r.__param(2,(0,l.l)(a.jb))],d);b.uKa=d;},function(r,b,a){var l,g,m,d;function c(f){f=g.nT.call(this,f,"DebugConfigImpl") || this;f.ktc=function(){debugger;};return f;}Object.defineProperty(b,"__esModule",{value:!0});b.rKa=void 0;r=a(0);l=a(45);g=a(46);m=a(1);a=a(33);ka(c,g.nT);Va.Object.defineProperties(c.prototype,{MIb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([l.config(l.Hd,"breakOnError")],d.prototype,"MIb",null);d=r.__decorate([(0,m.$)(),r.__param(0,(0,m.l)(a.Eia))],d);b.rKa=d;},function(r,b,a){var l,g,m,d;function c(f){return g.nT.call(this,f,"ClockConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.LJa=void 0;r=a(0);l=a(45);g=a(46);m=a(1);a=a(33);ka(c,g.nT);Va.Object.defineProperties(c.prototype,{Bpb:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([l.config(l.Hd,"usePerformanceApi")],d.prototype,"Bpb",null);d=r.__decorate([(0,m.$)(),r.__param(0,(0,m.l)(a.Eia))],d);b.LJa=d;},function(r,b,a){var l,g,m,d;function c(f,h){this.Ia=f;this.entries=new Set();this.qa=h.cb("TimingApi");}Object.defineProperty(b,"__esModule",{value:!0});b.Wla=void 0;r=a(0);l=a(1);g=a(18);m=a(5);a=a(7);c.prototype.mark=function(f,h,k){f={name:f,Au:this.Ia.Rb()};h && (f.sa=h);k && (f.og=k);this.entries.add(f);return f;};c.prototype.qva=function(){var f;f=[];this.entries.forEach(function(h){return f.push(h);});return f;};c.prototype.w9a=function(f){return this.qva().filter(function(h){return h.sa === f;});};c.prototype.MXb=function(){var f;f={};try{f=this.qva().filter(function(h){return !h.sa;}).reduce(function(h,k){h[k.name]=k.Au.ia(m.va);return h;},{});}catch(h){this.qa.error(" getMapOfCommonMarks exception",h);}return f;};c.prototype.Fjb=function(f){var h;h=this;this.qva().forEach(function(k){k.sa === f && h.entries.delete(k);});};d=c;d=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.jd)),r.__param(1,(0,l.l)(a.jb))],d);b.Wla=d;},function(r,b,a){var l,g,m,d,f,h,k,n,p;function c(q,v){this.Ia=q;this.config=v;}Object.defineProperty(b,"__esModule",{value:!0});b.wKa=void 0;r=a(0);g=a(1);m=a(18);d=a(36);f=a(4);h=a(16);k=a(5);n=a(14);a=a(364);c.prototype.d5a=function(q){var v,t,w,u,x,y,z,B,A,C;v=this;u=q.mediaTime.value;x=q.kt.value;y=q.Db.value;z=q.state.value;B={segmentId:q.Fva(),mediaTime:u,segmentTime:q.lF(),bufferingState:l.VIb[x],presentingState:l.Dac[y],playbackState:l.v$b[z],mseBuffersBusy:this.eZb(q),intBuffersBusy:this.rXb(q),tabVisible:this.oic(),decodedFrameCount:this.APb(q),videoElementInDom:this.Dlc(q),lastVideoSync:this.Ia.Rb().Ga((0,k.$b)(q.U1)).ia(k.va)};A=y === h.nb.Cg?q.lb.ji?this.config.Kgb:this.config.Jgb:this.config.gfb;if(x !== h.gg.Se){if((x=f.Y.Nsb,this.p1a(B.mseBuffersBusy,B.intBuffersBusy)))C=l.GIa;}else (y !== h.nb.Xc?x=f.Y.Psb:(x=f.Y.Osb,(y=q.pf) && 0 === y.maa() && (C=l.nzb)),(y=q.pf) && y.Wb.sourceBuffers.forEach(function(D){var E,G;E=l.Wf[D.mediaType];B[E + "Ranges"]=D.faa();try{G=D.buffered();}catch(F){G=void 0;}G && 0 !== G.length?(D=1E3 * G.end(0) - u,B[E + "Undecoded"]=D,1 < G.length && (C=l.Erb),u < 1E3 * G.start(0) || u > 1E3 * G.end(0)?C=l.Frb:D < A.ia(k.va)?C=l.Grb:v.p1a(B.mseBuffersBusy,B.intBuffersBusy) && (C=l.GIa)):(B[E + "Undecoded"]=0,C=l.Drb);}));y=q.Tjb.p$a();z=u === (null === (t=y.repositionTrace) || void 0 === t?void 0:t[0].newMediaTime);B.lastRepositionCausedTimeout=z;B.trackChangeInProgress=null === (w=q.qb) || void 0 === w?void 0:w.ZFa;Object.assign(B,y);q="";try{q=JSON.stringify(B);}catch(D){q="Cannot stringify details: " + D;}return new d.rd(f.aa.hRa,x,C,void 0,void 0,void 0,q,void 0);};c.prototype.eZb=function(q){var v;if(q.Wb){v={};q.Wb.sourceBuffers.forEach(function(t){v[0 === t.type?"audio":"video"]={updating:t.updating()};});return v;}};c.prototype.rXb=function(q){var v;if(q.Wb){v={};q.Wb.sourceBuffers.forEach(function(t){v[0 === t.type?"audio":"video"]={updating:t.Li()};});return v;}};c.prototype.oic=function(){return !n.Xh.hidden;};c.prototype.APb=function(q){return (q=q.pf) && (q=q.Wb.ea) && void 0 !== q.webkitDecodedFrameCount?q.webkitDecodedFrameCount:NaN;};c.prototype.Dlc=function(q){if(q=q.pf)if(q=q.Wb.ea)return n.Xh.body.contains(q);return !1;};c.prototype.p1a=function(q,v){var t,w,u,x;return !((null === (t=q.audio) || void 0 === t?void 0:t.updating) === (null === (w=v.audio) || void 0 === w?void 0:w.updating) && (null === (u=q.video) || void 0 === u?void 0:u.updating) === (null === (x=v.video) || void 0 === x?void 0:x.updating));};p=l=c;p.Drb="1";p.Erb="2";p.Frb="3";p.GIa="4";p.Grb="5";p.nzb="6";p.Wf=["Audio","Video"];p.VIb=["","NORMAL","BUFFERING","STALLED"];p.Dac=["","WAITING","PLAYING ","PAUSED","ENDED"];p.v$b=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];p=l=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(m.jd)),r.__param(1,(0,g.l)(a.qka))],p);b.wKa=p;},function(r,b,a){var l,g,m,d;function c(f,h,k){var n;n=this;this.ah=f;this.Jc=h;this.p9=k;this.eR=function(p){n.Bk=void 0;n.Gjc(p || n.p9);};this.Hcb=(0,m.$b)(-this.p9.ia(m.va));}Object.defineProperty(b,"__esModule",{value:!0});b.DVa=void 0;r=a(0);l=a(1);g=a(18);m=a(5);a=a(47);c.prototype.vl=function(f){this.QDa=f;this.Bk=this.Bk || this.Lg(this.eR);};c.prototype.Ji=function(){this.Bk && this.Bk.cancel();this.Bk=void 0;};c.prototype.Gjc=function(f){var h,k;h=this.ah.Rb();if(this.QDa){k=f.Ga(h.Ga(this.Hcb));0 >= k.Fm(m.Oa)?(f=this.QDa,this.QDa=void 0,this.Hcb=h,f()):this.Bk=this.Bk || this.Jc.wl(k,this.eR.bind(this,f));}};c.prototype.Lg=function(f){return this.Jc.wl(m.Oa,f);};d=c;d=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.jd)),r.__param(1,(0,l.l)(a.Zj))],d);b.DVa=d;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.qla="PrioritizedSetOfListsSymbol";b.Wxb="PrioritizedSetOfListsFactorySymbol";b.Xxb="PrioritizedSetOfSetsFactorySymbol";},function(r,b){function a(){this.searchParams={};}function c(l){this.Hr=l;this.searchParams=new a();}Object.defineProperty(b,"__esModule",{value:!0});b.iWa=void 0;c.prototype.toString=function(){return this.href;};Va.Object.defineProperties(c.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return "" + this.Hr + this.searchParams.toString();}}});b.iWa=c;a.prototype.get=function(l){return this.searchParams[l];};a.prototype.set=function(l,g){this.searchParams[l]=g;};a.prototype.toString=function(){return Object.entries(this.searchParams).reduce(function(l,g,m){var d;d=oa(g);g=d.next().value;d=d.next().value;return "" + l + (0 == m?"?":"&") + g + "=" + d;},"");};},function(r,b,a){var l,g,m,d,f,h;function c(k,n,p){this.userAgentData=p;this.we=this.tTb(k,n.data.browserInfo);}Object.defineProperty(b,"__esModule",{value:!0});b.qWa=b.XIa=void 0;r=a(0);l=a(1);g=a(12);m=a(33);d=a(37);a=a(234);c.prototype.Qaa=function(k,n){var p;if(n=this.JZb(n))switch(k){case h.bC:p=0 < n.length?Number(n[0]):0;break;case h.PQ:p=1 < n.length?Number(n[1]):0;break;case h.hR:p=2 < n.length?Number(n[2]):0;break;case h.qfa:p=3 < n.length?Number(n[3]):0;}return void 0 === p || isNaN(p)?0:p;};c.prototype.JZb=function(k){return null === k || void 0 === k?void 0:k.split(".");};c.prototype.bK=function(k){return this.we.name === k;};c.prototype.eK=function(k){return this.we.aea.name === k;};c.prototype.W1b=function(k){return this.we.m_b === k;};c.prototype.tTb=function(k,n){return Object.assign(Object.assign({m_b:this.vTb(k,n)},this.sTb(k,n)),{aea:this.wTb(k,n)});};c.prototype.vTb=function(k,n){return n && n.hardware?n.hardware:(/Mobile|iPhone/).test(k)?g.I4.phone:(/Android/).test(k)?g.I4.pic:g.I4.FLb;};c.prototype.sTb=function(k,n){return n && n.name && n.version?{name:n.name,version:n.version}:(/OPR/).test(k)?{name:g.Ao.opera,version:""}:(/Tesla/).test(k)?{name:g.Ao.znb,version:""}:(n=k.match(/Edge\/(\d*)\./))?{name:g.Ao.Mr,version:n[1]}:(n=k.match(/Edg\/(\d*)\./))?{name:g.Ao.K5a,version:n[1]}:(n=k.match(/Chrome\/(\d*)\./))?{name:g.Ao.bra,version:n[1]}:(n=k.match(/Firefox\/(\d*)\./))?{name:g.Ao.m7a,version:n[1]}:(k=k.match(/(\d*)\.(\d*)\.?(\d*)? Safari/))?{name:g.Ao.Dkb,version:k[1]}:{name:g.Ao.bra,version:""};};c.prototype.wTb=function(k,n){return n && n.os && n.os.name && n.os.version?{name:n.os.name,version:n.os.version}:(/CrOS/).test(k)?{name:g.Np.u2a,version:""}:(n=k.match(/Mac OS X (\d*)_?(\d*)?_?(\d*)?/))?{name:g.Np.Hdb,version:n[1] + "." + n[2] + "." + n[3]}:(/Windows NT/).test(k)?{name:g.Np.cHa,version:""}:(/Android.*Chrome\/[.0-9]* Mobile/).test(k) || (/Android.*Chrome\/[.0-9]* /).test(k)?{name:g.Np.g8,version:""}:(/Linux/).test(k)?{name:g.Np.ddb,version:""}:(/iPhone/).test(k)?{name:g.Np.qbb,version:""}:{name:g.Np.cHa,version:""};};Va.Object.defineProperties(c.prototype,{Abb:{configurable:!0,enumerable:!0,get:function(){return this.bK(g.Ao.bra);}},yZ:{configurable:!0,enumerable:!0,get:function(){return this.bK(g.Ao.Mr);}},TB:{configurable:!0,enumerable:!0,get:function(){return this.bK(g.Ao.K5a);}},Pba:{configurable:!0,enumerable:!0,get:function(){return this.bK(g.Ao.m7a);}},Pxa:{configurable:!0,enumerable:!0,get:function(){return this.bK(g.Ao.opera);}},DZ:{configurable:!0,enumerable:!0,get:function(){return this.bK(g.Ao.Dkb);}},ecb:{configurable:!0,enumerable:!0,get:function(){return this.bK(g.Ao.znb);}},vZ:{configurable:!0,enumerable:!0,get:function(){return this.eK(g.Np.g8);}},kQ:{configurable:!0,enumerable:!0,get:function(){return this.eK(g.Np.qbb);}},Hba:{configurable:!0,enumerable:!0,get:function(){return this.eK(g.Np.g8) && this.W1b(g.I4.phone);}},xZ:{configurable:!0,enumerable:!0,get:function(){return this.eK(g.Np.u2a);}},b2b:{configurable:!0,enumerable:!0,get:function(){return this.eK(g.Np.ddb);}},dK:{configurable:!0,enumerable:!0,get:function(){return this.eK(g.Np.Hdb);}},UB:{configurable:!0,enumerable:!0,get:function(){return this.eK(g.Np.cHa);}},Jr:{configurable:!0,enumerable:!0,get:function(){return this.Qaa(h.bC,this.we.version);}},e9b:{configurable:!0,enumerable:!0,get:function(){return this.Qaa(h.bC,this.we.aea.version);}},f9b:{configurable:!0,enumerable:!0,get:function(){return this.Qaa(h.PQ,this.we.aea.version);}},g9b:{configurable:!0,enumerable:!0,get:function(){return this.Qaa(h.hR,this.we.aea.version);}}});f=c;f=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(d.kWa)),r.__param(1,(0,l.l)(m.TT)),r.__param(2,(0,l.l)(a.$la))],f);b.XIa=f;(function(k){k[k.bC=0]="major";k[k.PQ=1]="minor";k[k.hR=2]="patch";k[k.qfa=3]="revision";})(h=b.qWa || (b.qWa={}));},function(r,b,a){var l,g,m;function c(d,f,h){this.Jc=d;this.TFa=f;this.py=h;}Object.defineProperty(b,"__esModule",{value:!0});b.PVa=void 0;r=a(0);l=a(47);g=a(1);m=a(5);c.prototype.XE=function(){this.Bk || (this.Bk=this.Jc.wl((0,m.$b)(this.TFa),this.py));};c.prototype.Ds=function(){this.Bk && this.Bk.cancel();this.Bk=void 0;};a=c;a=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(l.Zj))],a);b.PVa=a;},function(r,b,a){var l,g;function c(m,d){this.Jc=m;this.p9=d;}Object.defineProperty(b,"__esModule",{value:!0});b.qKa=void 0;r=a(0);l=a(1);a=a(47);c.prototype.vl=function(m){this.Ji();this.Bk=this.Jc.wl(this.p9,m);};c.prototype.Ji=function(){this.Bk && this.Bk.cancel();this.Bk=void 0;};g=c;g=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.Zj))],g);b.qKa=g;},function(r,b,a){var l,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.FLa=void 0;r=a(0);l=a(1);g=a(236);c.prototype.nP=function(m,d){var f;f=this;m && Object.entries(d).forEach(function(h){var k,n,p;k=oa(h);h=k.next().value;k=k.next().value;if(f.L1b(k)){n=oa(k);k=n.next().value;p=n.next().value;n=m[k];Array.isArray(n)?(f.usa(m,h,k),n.forEach(function(q){f.nP(q,p);})):k === g.Lk?Object.values(m).forEach(function(q){f.nP(q,p);}):(f.usa(m,h,k),"object" === typeof n && f.nP(n,p));}else f.usa(m,h,k);});};c.prototype.L1b=function(m){return Array.isArray(m);};c.prototype.usa=function(m,d,f){m.hasOwnProperty(d) || d === f || Object.defineProperty(m,d,{get:function(){return m[f];},set:function(h){return m[f]=h;},enumerable:!0});};a=c;a=r.__decorate([(0,l.$)()],a);b.FLa=a;},function(r,b,a){var l,g,m;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.MPa=void 0;r=a(0);l=a(12);g=a(17);a=a(1);c.prototype.Sv=function(){return this.K1b()?g.ZKa:(/widevine/i).test(this.config().Zn)?g.Xia:(/fps/i).test(this.config().Zn)?"fairplay":g.H3;};c.prototype.K1b=function(){return (/clearkey/i).test(this.config().Zn);};m=c;m=r.__decorate([(0,a.$)(),r.__param(0,(0,a.l)(l.xc))],m);b.MPa=m;},function(r,b,a){var l,g,m,d;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.jWa=void 0;r=a(0);m=a(1);a=a(14);null === (g=null === (l=null === a.ff || void 0 === a.ff?void 0:a.ff.userAgentData) || void 0 === l?void 0:l.getHighEntropyValues) || void 0 === g?void 0:g.call(l,["platformVersion"]).then(function(f){d=(f=f.platformVersion)?f:"undefined";}).catch(function(){d="exception";});Va.Object.defineProperties(c.prototype,{platformVersion:{configurable:!0,enumerable:!0,get:function(){return d;}}});l=c;l=r.__decorate([(0,m.$)()],l);b.jWa=l;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t;function c(w,u,x,y,z,B){this.$m=w;this.config=x;this.Pq=y;this.za=z;this.is=B;this.log=u.cb("CachedErrors");}Object.defineProperty(b,"__esModule",{value:!0});b.xJa=b.Bia=void 0;r=a(0);g=a(1);m=a(4);d=a(7);f=a(5);h=a(83);k=a(12);n=a(63);p=a(27);q=a(25);v=a(73);t=a(43);b.Bia="errors";c.prototype.load=function(){var w,u;w=this;if(!this.config().U5a)return Promise.resolve([]);u=(0,f.$b)(this.config().mJb);return this.Pq.xs(u,this.gdb([])).catch(function(x){w.log.error("Load failed.",x);return [];});};c.prototype.add=function(w,u,x,y,z){var B;B=this;return this.config().U5a && u && x && (u === v.xb.Yka || u === v.xb.X5 + "." + t.bx)?this.gdb([{time:w,keySystem:u,code:x,wc:y,vd:z}]).then(function(){}).catch(function(A){B.log.error("Add failed.",A);}):Promise.resolve();};c.prototype.$3b=function(){var w;w=this;return this.$m.create().then(function(u){return u.load(b.Bia).then(function(x){var y;return (null === (y=x.value) || void 0 === y?void 0:y.errors) || [];}).catch(function(x){if(x.Ca === m.Y.cA)return (w.log.warn("No CachedErrors."),[]);throw x;});});};c.prototype.kVb=function(w){return {time:(0,f.Ui)(w[0]),keySystem:w[1],code:w[2],wc:w[3],vd:w[4]};};c.$ic=function(w){return [w.time.ia(f.Eo),w.keySystem,w.code,w.wc,w.vd];};c.prototype.kec=function(w){var u;u={version:1,errors:w.map(l.$ic)};return this.$m.create().then(function(x){return x.save(b.Bia,u,!1);}).then(function(){return w;});};c.prototype.YTb=function(w){var u,x;u=(0,f.Ui)(this.config().lJb);x=this.za.lf.Ga(u);return w.filter(function(y){return y.time.Ga(x).Vbb();});};c.prototype.nlc=function(w){return w.filter(this.I1b.bind(this)).map(this.kVb);};c.prototype.I1b=function(w){return this.is.Ol(w[0]) && this.is.Dr(w[1]) && this.is.Ol(w[2]) && (this.is.Ol(w[3]) || void 0 === w[3]) && (this.is.Dr(w[4]) || void 0 === w[4])?!0:!1;};c.prototype.TTb=function(w){var u;u=this;return w.filter(function(x){return u.config().WSb.includes(x.code);});};c.prototype.UTb=function(w){return w.slice(-this.config().jJb);};c.prototype.gdb=function(w){var u;u=this;return this.$3b().then(function(x){return u.nlc(x);}).then(function(x){return u.YTb(x);}).then(function(x){return x.concat(w);}).then(function(x){return u.TTb(x);}).then(function(x){return u.UTb(x);}).then(function(x){return u.kec(x);});};a=l=c;a=l=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(h.Az)),r.__param(1,(0,g.l)(d.jb)),r.__param(2,(0,g.l)(k.xc)),r.__param(3,(0,g.l)(n.CD)),r.__param(4,(0,g.l)(p.Hh)),r.__param(5,(0,g.l)(q.Ug))],a);b.xJa=a;},function(r,b,a){var c,l,g,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.ydb=void 0;c=a(776);l=a(777);r=a(1);g=a(114);m=a(7);d=a(782);b.ydb=new r.Ed(function(f){f(m.jb).to(l.aPa).la();f(g.zM).to(c.bPa).la();f(m.Uja).to(d.QOa).la();});},function(r,b,a){var l;function c(){this.jmb={};this.Ep=[];}Object.defineProperty(b,"__esModule",{value:!0});b.bPa=void 0;r=a(0);a=a(1);c.prototype.Zea=function(g,m){m && (this.jmb[g]=m,this.Ep=Object.values(this.jmb));};l=c;l=r.__decorate([(0,a.$)()],l);b.bPa=l;},function(r,b,a){var l,g,m,d,f,h,k;function c(n,p,q){this.Ia=n;this.Ep=p;this.Sya=q;}Object.defineProperty(b,"__esModule",{value:!0});b.aPa=void 0;r=a(0);l=a(237);g=a(1);m=a(779);d=a(18);f=a(114);h=a(7);k=a(780);c.prototype.cb=function(n,p,q,v,t){q=void 0 === q?this.Ep:q;return p?new m.MSa(this.Ia,this.Sya,q,p,n):t?new k.hIa(this.Ia,this.Sya,q,n,v || "",t):new l.yM(this.Ia,this.Sya,q,n);};a=c;a=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(d.jd)),r.__param(1,(0,g.l)(f.zM)),r.__param(2,(0,g.l)(h.Uja))],a);b.aPa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.C1a=void 0;b.C1a=function(a,c){var g;a=a.GXb();for(var l=0;l < c.length;++l){g=c[l];void 0 != g && null != g && (g.Bh && (g=g.Bh),g.constructor === Uint8Array?a.rGb(g):"MediaRequest" === g.constructor.name?a.$Fb(g):"string" === typeof g?a.oGb(g):"function" === typeof g?a.TFb(g):g instanceof Error?a.QFb(g):g instanceof Object && "function" === typeof g.toJSON?a.F_a(g.toJSON()):g instanceof Object?a.F_a(g):a.sGb(g));}return a.hj();};},function(r,b,a){var l,g,m;function c(d,f,h,k,n){d=m.yM.call(this,d,f,h,n) || this;d.j=k;(0,l.Hq)(d,"playback");return d;}Object.defineProperty(b,"__esModule",{value:!0});b.MSa=void 0;l=a(54);g=a(371);m=a(237);ka(c,m.yM);c.prototype.v9=function(d){return new c(this.Ia,this.S8,this.Ep,this.j,d);};c.prototype.kE=function(d,f,h){d=new g.Tja(d,this.lq,this.Ia.Rb(),f,h,this.j.index);f=oa(this.Ep.Ep);for(h=f.next();!h.done;h=f.next()){h=h.value;h(d,this.j);}};b.MSa=c;},function(r,b,a){var l,g;function c(m,d,f,h,k,n){m=l.yM.call(this,m,d,f,h) || this;m.groups=k;Array.isArray(n)?m.prefix=n:n && "string" === typeof n && (m.prefix=[],m.prefix.push(n));return m;}Object.defineProperty(b,"__esModule",{value:!0});b.hIa=void 0;l=a(237);g=a(781);ka(c,l.yM);c.prototype.kE=function(m,d,f){m=new g.gIa(m,this.lq,this.Ia.Rb(),d,f,this.prefix);d=oa(this.Ep.Ep);for(f=d.next();!f.done;f=d.next()){f=f.value;f(m);}};c.prototype.v9=function(m){return new c(this.Ia,this.S8,this.Ep,m,this.groups,this.prefix);};b.hIa=c;},function(r,b,a){var l,g;function c(m,d,f,h,k,n,p){this.level=m;this.lq=d;this.timestamp=f;this.message=h;this.fd=k;this.prefix=n;this.index=void 0 === p?0:p;}Object.defineProperty(b,"__esModule",{value:!0});b.gIa=void 0;l=a(5);g={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};c.prototype.Gga=function(m,d){m=(this.prefix.length?"" + this.prefix.join(" ") + " ":"") + this.message + (d?"":" " + this.Ihc(!!m));return (this.timestamp.ia(l.va) / 1E3).toFixed(3) + "|" + this.index + "|" + (g[this.level] || this.level) + "|" + this.lq + "| " + m;};c.prototype.Ihc=function(m){var k;for(var d=this.fd.length,f="",h=0;h < d;++h){k=this.fd[h].Ew;h && f.length && (f+=" ");if("object" === typeof k){if(null === k)f+="null";else if(k instanceof Error)f+=this.Hhc(k,m);else try{f+=JSON.stringify(k);}catch(n){f+=this.Ghc(k);}}else f+=k;}return f;};c.prototype.Hhc=function(m,d){return m.toString() + (m.stack && !d?"\n" + m.stack:"") + "\n";};c.prototype.Ghc=function(m){var d;d=[];return JSON.stringify(m,function(f,h){if("object" === typeof h && null !== h){if(-1 !== d.indexOf(h))return "<cycle>";d.push(h);}return h;});};b.gIa=c;},function(r,b,a){var l,g,m,d;function c(f,h){this.yc=f;this.Re=h;}Object.defineProperty(b,"__esModule",{value:!0});b.QOa=void 0;r=a(0);l=a(1);g=a(783);m=a(31);a=a(30);c.prototype.GXb=function(){return new g.ROa(this.yc,this.Re);};d=c;d=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.Yi)),r.__param(1,(0,l.l)(a.Di))],d);b.QOa=d;},function(r,b,a){var p,q,v;function c(t,w){this.yc=t;this.Re=w;this.fd=[];}function l(t){return n.call(this,t,function(w){return {Details:w};}) || this;}function g(t){return n.call(this,t,function(w){return JSON.parse(w.toJSON());}) || this;}function m(t,w){w=n.call(this,w,function(u){return {Base64:t.encode(u)};}) || this;w.yc=t;return w;}function d(t,w){w=n.call(this,w,function(u){return u();}) || this;w.Re=t;return w;}function f(t){return n.call(this,t,function(w){return {Exception:w.message || "" + w,StackTrace:w.stack || "nostack"};}) || this;}function h(t,w,u){w=n.call(this,w,u) || this;w.Re=t;return w;}function k(t){return n.call(this,t,function(w){return {Details:w};}) || this;}function n(t,w){this.Ew=t;this.value=w?w(t):t;}Object.defineProperty(b,"__esModule",{value:!0});b.ROa=void 0;r=a(0);p=a(1);q=a(30);a=a(31);n.prototype.$X=function(t){return this.Ew === t;};ka(k,n);k.prototype.QL=function(t,w){return w?"":"\r\n" + this.Ew;};ka(h,n);h.prototype.QL=function(){var t;t="";this.Re.YE(this.value,function(w,u){try{t+=", " + w + ": " + u;}catch(x){try{t+=", " + w + ": " + JSON.stringify(u);}catch(y){t+=", error stringifying " + w;}}});return t.replace(/[\r\n]+ */g," ");};ka(f,n);f.prototype.QL=function(t){var w;w="\r\n" + this.Ew.message;t || (w+="\r\n" + this.Ew.stack);return w;};ka(d,n);d.prototype.QL=function(){var t;t="";this.Re.YE(this.value,function(w,u){t+=", " + w + ": " + u;});return t.replace(/[\r\n]+ */g," ");};ka(m,n);m.prototype.QL=function(t,w){return this.Ew && !w?"\r\n" + this.yc.encode(this.Ew):"";};ka(g,n);g.prototype.QL=function(){return this.Ew?this.Ew.toJSON():"";};ka(l,n);l.prototype.QL=function(){return ", " + (this.Ew.toString?"" + this.Ew.toString():"");};c.prototype.oGb=function(t){this.fd.push(new k(t));};c.prototype.F_a=function(t){this.fd.push(new h(this.Re,t));};c.prototype.QFb=function(t){this.fd.push(new f(t));};c.prototype.TFb=function(t){this.fd.push(new d(this.Re,t));};c.prototype.rGb=function(t){this.fd.push(new m(this.yc,t));};c.prototype.$Fb=function(t){this.fd.push(new g(t));};c.prototype.sGb=function(t){this.fd.push(new l(t));};c.prototype.hj=function(){return this.fd;};v=c;v=r.__decorate([(0,p.$)(),r.__param(0,(0,p.l)(a.Yi)),r.__param(1,(0,p.l)(q.Di))],v);b.ROa=v;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.kfb=void 0;r=a(1);c=a(372);l=a(785);b.kfb=new r.Ed(function(g){g(c.mQa).to(l.lQa).la();});},function(r,b,a){var l,g,m;function c(d){this.Jc=d;}Object.defineProperty(b,"__esModule",{value:!0});b.lQa=void 0;r=a(0);l=a(1);g=a(786);a=a(47);c.prototype.N3a=function(d,f){return new g.nQa(this.Jc,d,f);};m=c;m=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.Zj))],m);b.lQa=m;},function(r,b){function a(c,l,g){this.Jc=c;this.config=l;this.getTime=g;}Object.defineProperty(b,"__esModule",{value:!0});b.nQa=void 0;a.prototype.observe=function(c,l){var g;g=this;this.cancel();this.Bk=this.Jc.TR(this.config.X9a(),function(){g.getTime() >= c && (g.cancel(),l());});};a.prototype.cancel=function(){this.Bk && (this.Bk.cancel(),this.Bk=void 0);};b.nQa=a;},function(r,b,a){var c,l,g,m,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.U=void 0;r=a(1);c=a(238);l=a(373);g=a(788);m=a(791);d=a(376);f=a(792);b.U=new r.Ed(function(h){h(c.Fla).to(g.LUa).la();h(l.HUa).to(m.GUa).la();h(d.SVa).to(f.RVa).la();});},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w;function c(u,x,y,z,B,A,C,D,E,G){this.Ia=u;this.ug=x;this.QQ=y;this.UGa=z;this.k0=B;this.Jc=A;this.rO=C;this.Si=D;this.wta=E;this.Wi=G;}Object.defineProperty(b,"__esModule",{value:!0});b.LUa=void 0;r=a(0);l=a(1);g=a(18);m=a(7);d=a(372);f=a(148);h=a(374);k=a(375);n=a(789);p=a(790);q=a(100);v=a(47);t=a(370);a=a(30);c.prototype.oOb=function(u,x,y){return new n.MUa(this.Ia,this.ug,this.QQ,this.UGa,x,u,this.Si,this.k0,this.Wi,this.wta,y);};c.prototype.JNb=function(u,x){return new p.WIa(this.ug,u,x,this.QQ,this.Jc,this.rO);};w=c;w=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.jd)),r.__param(1,(0,l.l)(m.jb)),r.__param(2,(0,l.l)(d.mQa)),r.__param(3,(0,l.l)(k.vWa)),r.__param(4,(0,l.l)(h.ISa)),r.__param(5,(0,l.l)(v.Zj)),r.__param(6,(0,l.l)(q.hT)),r.__param(7,(0,l.l)(f.wU)),r.__param(8,(0,l.l)(t.HT)),r.__param(9,(0,l.l)(a.Di))],w);b.LUa=w;},function(r,b,a){var d,f,h;function c(k,n,p,q,v,t,w,u,x,y,z){var B;B=this;this.Ia=k;this.QQ=p;this.PBa=q;this.config=v;this.wb=t;this.Si=w;this.k0=u;this.Wi=x;this.El=z;this.cTb=Object.values(d.Pa).map(function(A){return {event:A,py:function(C){return B.Pb.Zc(A,C);}};});this.Pb=y.create();this.nG=[];this.log=n.cb("SegmentManager");this.uJ=!0;this.lm=this.Wi.createElement("div",h.vla);}function l(k,n,p,q,v,t,w,u,x,y,z){var B;B=this;this.log=k;this.config=n;this.L7b=p;this.PBa=q;this.Si=v;this.k0=t;this.Iw=w;this.G=u;this.lm=x;this.wb=y;this.El=z;this.GO=function(){B.ZF && (B.ZF.cancel(),B.ZF=void 0);};this.owa=function(A){B.log.trace("Received the transition event",{movieId:A.L});B.Obc();};this.Lya=function(){};this.log.debug("Constructing session data",g(u));this.Wic=new Promise(function(A){B.Obc=A;});}function g(k){return {movieId:k.L};}function m(k){return JSON.stringify({movieId:k.L,startPts:k.ca,logicalEnd:k.wk,params:k.Gb?{trackingId:k.Gb.Dl,authParams:k.Gb.E8,sessionParams:k.Gb.no,disableTrackStickiness:k.Gb.Gsa,uiPlayStartTime:k.Gb.KS,loadImmediately:k.Gb.wca,playbackState:k.Gb.playbackState?{currentTime:k.Gb.playbackState.currentTime,volume:k.Gb.playbackState.volume,muted:k.Gb.playbackState.muted,playbackRate:k.Gb.playbackState.playbackRate}:void 0,pin:k.Gb.yhb,heartbeatCooldown:k.Gb.Cwa,uiLabel:k.Gb.je,uxLabels:k.Gb.gha}:void 0});}Object.defineProperty(b,"__esModule",{value:!0});b.MUa=void 0;d=a(16);f=a(5);h=a(17);l.prototype.load=function(k){var n,p;n=this;this.log.trace("Loading new segment",g(this.G));this.X=this.PBa.NO(this.config,this.k0,this.Si,this.G,this.wb,this.El);this.X.addEventListener(d.Pa.bQ,function(q){n.log.trace("Segment is inactive",g(n.G));n.Iw.close(n.Si(q.errorCode));});this.X.addEventListener(d.Pa.closed,this.GO);if(k)(this.log.debug("Pausing background segment",g(this.G)),this.X.addEventListener(d.Pa.Wxa,this.owa),this.X.pause());else {this.lm.appendChild(this.X.kp());p=function(q){n.owa(q);n.X.removeEventListener(d.Pa.loaded,p);};this.X.addEventListener(d.Pa.loaded,p);}};l.prototype.observe=function(){var k,n,p;k=this;this.log.trace("Observing segment",m(this.G));if(this.ZF)this.log.trace("Segment is currently observing",g(this.G));else if(this.G.Gb && this.G.Gb.wca)this.Lya(this);else {n=this.L7b.N3a(this.config,function(){var q;if(k.X){q=k.X.Kt();if(q)return q;}return 0;});p=this.vJb(this.G);this.log.trace("Adding a moment to watch",{time:p});n.observe(p,function(){k.log.trace("Segment has reached its loading point",g(k.G));k.Lya(k);k.GO();});}};l.prototype.close=function(k){this.log.info("Closing segment",{segment:m(this.G),error:k});return this.X?(this.X.removeEventListener(d.Pa.Wxa,this.owa),this.X.close(k)):Promise.resolve();};l.prototype.M8b=function(k){this.Lya=k;};l.prototype.vJb=function(k){var n,p;n=k.wk;k=k.Gb?k.Gb.wca:!1;p=0;n && !k && (p=n - this.config.s9a(),p < this.config.v9a() && (k=n - this.config.v9a(),p=n - k / 2));return p;};c.prototype.KYb=function(){return this.di && this.di.X?this.di.X.isReady():!1;};c.prototype.kp=function(){return this.lm;};c.prototype.MJ=function(){if(!this.di || !this.di.X)throw Error("Player not ready");return this.di.X;};c.prototype.xkc=function(k){var n,p;p=this.Uta(k);p?this.gpb(p,k):this.wb.Be(k.id) || this.log.error("Tried to update a non-existent segment",{segment:m(k),currentMovieId:this.di.G.L,queuedMovieIds:this.nG.map(function(q){return q.G.L;}),xid:null === (n=this.di.X) || void 0 === n?void 0:n.Vv()});};c.prototype.Ig=function(k){var n;this.log.info("Adding segment",m(k));if(this.uJ){this.log.trace("First segment, loading",g(k));n=this.mdb(k);this.uJ=!1;}else (this.log.trace("Subsequent segment, caching",g(k)),(n=this.Uta(k))?this.gpb(n,k):(n=this.createSession(k),this.nG.push(n),this.di.observe()));return n?n.Wic:null;};c.prototype.transition=function(k,n){var p,q,v;q=this.GK;v=null === q || void 0 === q?void 0:q.X;if(q && v)return (this.GK=void 0,this.log.info("Transitioning segment",m(q.G)),v.GEa(this.Ia.Rb().ia(f.va)),this.pob(q,n));n=null === q || void 0 === q?void 0:q.G;this.log.error("Transitioning to next segment failed. Session or player not available.",{mid:this.di.G.L,xid:null === (p=this.di.X) || void 0 === p?void 0:p.Vv(),nextSegmentId:k,currentSegment:m(this.di.G),nextSegment:n?m(n):void 0,queuedMovieIds:this.nG.map(function(t){return t.G.L;})});return Promise.reject();};c.prototype.close=function(k){var n;n=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(g(this.di.G)),nextSession:this.GK?JSON.stringify(g(this.GK.G)):void 0});k=[this.di.close(k)];this.GK && k.push(this.GK.close());return Promise.all(k).then(function(){n.GK=void 0;n.nG=[];n.uJ=!0;});};c.prototype.addListener=function(k,n,p){this.Pb.addListener(k,n,p);};c.prototype.removeListener=function(k,n){this.Pb.removeListener(k,n);};c.prototype.gpb=function(k,n){this.o9b(k.G,n);this.log.trace("Overwrote existing segment data",m(k.G));};c.prototype.mdb=function(k){var n,p;n=this;this.log.info("Loading the next episode",g(k));if(this.di){this.config.Kua()[k.L]=k.ca;p=this.Uta(k);}else p=this.createSession(k);if(p)return (this.log.trace("Found the next session",g(k)),p.M8b(function(q){n.Nnb(q);}),this.di?(this.log.trace("Subsequent playback, caching player and pausing",g(k)),this.GK=p,p.load(!0)):(this.log.trace("First playback transitioning immediately",g(k)),p.load(!1),this.pob(p)),p);this.log.warn("Unable to find the session, make sure to add it before loading",g(k));};c.prototype.pob=function(k,n){var p,q,v,t,w;n=void 0 === n?{}:n;t=k.X?null === (p=k.X) || void 0 === p?void 0:p.getError():"missing player";if(t)return (null === (q=k.X) || void 0 === q?void 0:q.close(),this.log.error("Transitioning to next segment failed. Session is in the error state.",{srcmid:this.di.G.L,mid:k.G.L,error:t,xid:null === (v=k.X) || void 0 === v?void 0:v.Vv()}),Promise.reject());this.log.trace("Playing episode",g(k.G));p=this.di;this.di=k;k=this.di.X;k.qEa(!1);this.dM(k,p?p.X:void 0);if(p && p.X){w=p.X.kp();q=k.kp();w.style.display="none";p=p.close();this.lm.appendChild(q);p.then(function(){w.parentElement && w.parentElement.removeChild(w);});q.style.display="block";k.Xga(n);k.mS();k.play();}return Promise.resolve();};c.prototype.Nnb=function(k){var n,p,q,v,t;if(this.nG.length && k.X){n=k.X.Kt();p=this.nG[0];q=this.di.G.wk;v=this.di.G.Gb?this.di.G.Gb.wca:!1;if(q || v){v?t=0:q && (t=q - this.config.s9a());null !== n && n >= t && (this.log.info("Got a time change, loading the next player",g(p.G)),this.mdb(p.G),this.nG.splice(0,1),this.Nnb(k));}}};c.prototype.Uta=function(k){return this.di.G.L === k.L?this.di:this.nG.find(function(n){return n.G.L === k.L;});};c.prototype.o9b=function(k,n){k.ca=n.ca || k.ca;k.wk=n.wk || k.wk;k.Gb=n.Gb || k.Gb;k.ba=n.ba || k.ba;};c.prototype.createSession=function(k){return new l(this.log,this.config,this.QQ,this.PBa,this.Si,this.k0,this,k,this.lm,this.wb,this.El);};c.prototype.dM=function(k,n){this.cTb.forEach(function(p){n && n.removeEventListener(p.event,p.py);k.addEventListener(p.event,p.py);});this.Pb.Zc(d.BH.i1);};b.MUa=c;},function(r,b,a){var m,d,f,h,k;function c(n,p,q,v,t,w){var u;u=this;this.X=p;this.j=q;this.QQ=v;this.Jc=t;this.rO=w;this.GO=function(){u.ZF && (u.ZF.cancel(),u.ZF=void 0);};this.log=n.cb("SegmentManager",this.j);this.U=new Map();this.j.lb.ji && (this.j.addEventListener(f.ka.pL,function(x){return u.My(x);}),this.j.addEventListener(f.ka.closed,this.GO));}function l(n,p){this.id=n;this.ara=p;}function g(n,p,q,v){return d.rd.call(this,n,q,void 0,void 0,void 0,p,void 0,v) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.WIa=void 0;m=a(4);d=a(36);f=a(16);h=a(5);k=a(19);ka(g,d.rd);g.prototype.toString=function(){return this.code + "-" + this.wc + " : " + this.message + "\n" + JSON.stringify(this.data);};l.prototype.toJSON=function(){return {id:this.id,contentStartPts:this.Ba,contentEndPts:this.Aa};};Va.Object.defineProperties(l.prototype,{Ba:{configurable:!0,enumerable:!0,get:function(){return this.ara.startTimeMs;}},Aa:{configurable:!0,enumerable:!0,get:function(){return this.ara.endTimeMs;}},mC:{configurable:!0,enumerable:!0,get:function(){return Object.keys(this.ara.next);}}});c.prototype.My=function(n){var p;p=this;!1;n=n.position.segmentId;0 === this.U.size && Object.entries(this.j.xY()).forEach(function(q){var v;v=oa(q);q=v.next().value;v=v.next().value;p.U.set(q,new l(q,v));});this.ha=this.U.get(n);};c.prototype.play=function(n){this.AR && (this.AR=void 0);this.GO();this.log.trace("Playing segment",n);return this.Mbb(n)?this.r$b(n):this.j0(n);};c.prototype.lu=function(n){this.log.trace("Queueing segment",n);return this.Mbb(n)?this.Abc(n):this.Bbc(n);};c.prototype.Ek=function(n,p){var q,v;q=this;v=this.j.qb;if(null === v || void 0 === v || !v.dj)return Promise.reject(this.getError(m.aa.FIa,"ASE session manager is not yet initialized",m.Y.iia,{segmentId:n,updates:p}));this.log.trace("Updating next segment weights",n,p);return new Promise(function(t,w){try{v.Uga(n,p);q.j.fireEvent(f.ka.yGa,{S:n,Lkc:p});t();}catch(u){w(q.getError(m.aa.FIa,"updateNextSegmentWeights threw an exception",m.Y.Brb,{segmentId:n,updates:p,error:u}));}});};c.prototype.Mbb=function(n){return this.ha?void 0 !== this.j.xY()[this.ha.id].next[n]:!1;};c.prototype.Hva=function(){var n;n=this.j.qb;if(null === n || void 0 === n?0:n.dj)return n.Wn().Xf;};c.prototype.CYb=function(){var n;n=this.j.qb;if(null === n || void 0 === n?0:n.dj)return n.Wn().id;};c.prototype.sWb=function(n){var p;p=this.j.qb;if(null === p || void 0 === p?0:p.dj)return (n=p.Oua(n)) && n.mg;};c.prototype.r$b=function(n){var p,q;p=this;q=this.j.qb;return null !== q && void 0 !== q && q.dj?this.ha && 1 === this.ha.mC.length?this.j0(n):this.j.pf?void 0 === this.sWb(n)?(this.log.error("playNextSegment: branchOffset missing",{segment:n}),this.j0(n)):new Promise(function(v,t){var z,B,A,C,D,E;function w(){!A && B && z && (E.cancel(),A=!0,p.log.trace("Telling ASE to choose the next segment",{id:n,stopped:B,repositioned:z,completed:A}),q.Vx(n,!1,!0)?(v(),A=!0):(A=!0,p.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:n}),p.j0(n).then(v).catch(t)));}function u(){z=!0;p.log.trace("Player is repositioned",{id:n,stopped:B,repositioned:z,completed:A});p.j.removeEventListener(f.ka.pl,u);w();}function x(){p.j.removeEventListener(f.ka.rG,x);q.stop();}function y(){B=!0;p.log.trace("ASE is stopped",{id:n,stopped:B,repositioned:z,completed:A});q.removeEventListener("stop",y);w();}z=!1;B=!1;A=!1;C=p.U.get(n);D=p.Hva();if(void 0 === D)return (p.log.debug("playNextSegment: getPresentingBranchPlayerEndPts undefined, fallback to full seek.",{segment:n}),p.j0(n));p.log.trace("Seeking to next segment",JSON.stringify({segmentId:n,seekTo:D,currentSegment:p.ha,nextSegment:C},null,"  "));p.j.fireEvent(f.ka.yda,{ei:p.ha && p.ha.id,WQ:n});q.addEventListener("stop",y);p.j.addEventListener(f.ka.rG,x);p.j.addEventListener(f.ka.pl,u);E=p.Jc.wl((0,h.Ui)(10),function(){A=!0;E.cancel();t(p.getError(m.aa.lT,"Timed out waiting for the player to be repositioned and ASE to be stopped",m.Y.xrb,{id:n,stopped:B,repositioned:z,completed:A}));});p.X.seek(D,f.Fd.QM);}):(this.log.warn("MediaPresenter is not initialized",n),Promise.reject(this.getError(m.aa.lT,"MediaPresenter is not initialized",m.Y.yrb,{id:n}))):Promise.reject(this.getError(m.aa.lT,"ASE session manager is not yet initialized",m.Y.iia,{id:n}));};c.prototype.j0=function(n){var p;p=this.U.get(n);return p?this.f1(p,m.aa.lT):Promise.reject(this.getError(m.aa.lT,"Unable to find the separated segment",m.Y.EIa,{id:n}));};c.prototype.Abc=function(n){var p;p=this.j.qb;if(null === p || void 0 === p || !p.dj)return Promise.reject(this.getError(m.aa.mT,"ASE session manager is not yet initialized",m.Y.iia,{id:n}));this.j.fireEvent(f.ka.yda,{ei:this.ha && this.ha.id,WQ:n});if(p.Vx(n,!0,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed - falling back to a delayed seek at the end of current segment",{segment:n});return this.U4a(n);};c.prototype.Bbc=function(n){this.log.error("calls to queueSeparatedSegment are deprecated",{segment:n,mid:this.j.L,srcsegment:this.CYb()});return this.U4a(n);};c.prototype.U4a=function(n){var p,q;p=this;if(this.AR)return Promise.reject(this.getError(m.aa.mT,"Unable to queue segment for delayed seek because there is currently already a segment queued for delayed seek",m.Y.Arb,{currentSegment:this.ha?this.ha.id:void 0,queuedSegment:this.AR.id,failedSegment:n}));if(!this.ha)return Promise.reject(this.getError(m.aa.mT,"Unable to queue segment for delayed seek because there is no currently playing segment",m.Y.wrb,{nextSegmentid:n}));q=this.U.get(n);if(!q)return Promise.reject(this.getError(m.aa.mT,"Unable to find the separated segment",m.Y.EIa,{nextSegmentid:n,currentSegmentId:this.ha.id}));this.AR={id:n,promise:new Promise(function(v,t){var w;p.ZF=p.QQ.N3a({X9a:function(){return (0,h.$b)(100);}},function(){return p.X.Kt() || 0;});w=p.Hva() - k.config.hfb;p.log.trace("Adding moment for queued segment for delayed seek",{segment:n,pts:w});p.ZF.observe(w,function(){p.log.trace("Moment has arrived, seek to segment",{segment:n,currentSegment:p.ha.id,playerEndPts:p.Hva(),pts:w});p.AR=void 0;p.GO();p.f1(q,m.aa.mT).then(v).catch(t);});})};this.AR.promise.catch(function(v){p.j.Sd(v.code,v);});return Promise.resolve();};c.prototype.f1=function(n,p){var q;q=this;return new Promise(function(v,t){var w;try{w=n.Ba;!1;q.X.seek(w,f.Fd.ED);v();}catch(u){t(q.getError(p,"Seek threw an exception",m.Y.zrb,{id:n.id,error:u}));}});};c.prototype.getError=function(n,p,q,v){this.log.warn(p,v);return new g(n,p,q,v);};b.WIa=c;},function(r,b,a){var g,m;function c(){}function l(d,f,h,k,n){this.debug=d;this.version=f;this.R2b=h;this.o$b=k;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.GUa=void 0;r=a(0);g=a(1);m=a(5);l.prototype.gXb=function(){return this.config().QJ;};l.prototype.Kua=function(){return this.config().l1a;};l.prototype.X9a=function(){return (0,m.$b)(this.config().R$b);};l.prototype.s9a=function(){return this.config().g4b;};l.prototype.v9a=function(){return this.config().Y4b;};c.prototype.DJ=function(d,f,h,k,n){return new l(d,f,h,k,n);};a=c;a=r.__decorate([(0,g.$)()],a);b.GUa=a;},function(r,b,a){var l,g,m;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.RVa=void 0;r=a(0);l=a(1);g=a(12);m=a(23);c.prototype.hbc=function(d,f,h,k){this.config().Yec && (d=d.metrics,void 0 !== d && d.segment !== d.srcsegment && (h={isBranching:k || void 0,isPlaygraph:!k || void 0,mid:f.L,xid:f.sa,srcxid:h.sa,srcmid:h.L,segment:d.segment,srcsegment:d.srcsegment,srcsegmentduration:d.srcsegmentduration,srcoffset:d.srcoffset,srcvbitrate:d.srcvbitrate,srcvmaf:d.srcvmaf,destvbitrate:d.destvbitrate,destvmaf:d.destvmaf,auxMid:d.auxMid,auxMidType:d.auxMidType,auxSrcmid:d.auxSrcmid,auxSrcmidType:d.auxSrcmidType,seamlessRequested:d.seamlessRequested,transitionType:d.transitionType,transitionTypeAtRequest:d.transitionTypeAtRequest,nextExitPositionAtRequest:d.nextExitPositionAtRequest,delayToTransition:d.delayToTransition,durationOfTransition:d.durationOfTransition,atRequest:d.atRequest,atTransition:d.atTransition,discard:d.discard,adBreakLocationMs:d.adBreakLocationMs,srcadBreakLocationMs:d.srcadBreakLocationMs},!k && d.auxMid && d.auxMid !== f.L && (h.moffms=(0,m.rg)(f.rX)),f.yQ.rb.transition(h)));};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.xc))],a);b.RVa=a;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Wpb=void 0;r=a(1);c=a(375);l=a(794);b.Wpb=new r.Ed(function(g){g(c.vWa).to(l.uWa).la();});},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A,C,D,E,G,F,L,O;function c(K){this.uc=K;}Object.defineProperty(b,"__esModule",{value:!0});b.uWa=void 0;r=a(0);l=a(1);g=a(80);m=a(30);d=a(25);f=a(7);h=a(112);k=a(238);n=a(377);p=a(795);q=a(239);v=a(88);t=a(378);w=a(796);u=a(240);x=a(86);y=a(18);z=a(115);B=a(241);A=a(379);C=a(12);D=a(380);E=a(381);G=a(27);F=a(242);L=a(382);O=a(34);c.prototype.NO=function(K,I,M,H,J,N){return this.uc.get(C.xc)().cha?new w.wWa(this.uc.get(f.jb),this.uc.get(u.gla),this.uc.get(x.Oz),this.uc.get(y.jd),this.uc.get(z.rH),this.uc.get(h.fja),this.uc.get(B.ika),this.uc.get(A.FMa),this.uc.get(D.aTa),this.uc.get(E.Nla),this.uc.get(E.Nla),this.uc.get(G.Hh),this.uc.get(L.bU),this.uc.get(F.rja),this.uc.get(O.uj),H,M):new p.VNa(this.uc.get(m.Di),this.uc.get(d.Ug),this.uc.get(f.jb),this.uc.get(h.fja),this.uc.get(k.Fla),this.uc.get(q.Qka),this.uc.get(v.eja),this.uc.get(t.LRa),this.uc.get(n.IKa),K,I,M,H,J,N);};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.SNa))],a);b.uWa=a;},function(r,b,a){var l,g,m,d,f,h;function c(k,n,p,q,v,t,w,u,x,y,z,B,A,C,D){var E;E=this;this.Re=k;this.Ib=n;this.Pb=q;this.ww=t;this.bX=w;this.V7a=u;this.config=y;this.Si=B;this.G=A;this.j=z.create(A.L,A.nj,x,C,D,A.Gb,A.id,A.ba);this.j.background=!0;this.log=p.cb("VideoPlayer",this.j);this.vhb=[];this.ended=!1;this.dM();this.j.state.addListener(function(G){G.newValue === g.ic.Se && E.Bb(g.Pa.Wxa,{movieId:A.L});});this.j.lb.ji && (this.xO=v.JNb(this,this.j),this.j.addEventListener(g.ka.pL,function(G){G=G.position.segmentId;E.m3b !== G && (E.m3b=G,E.Bb(g.Pa.Jec,{segmentId:G}));}));}Object.defineProperty(b,"__esModule",{value:!0});b.VNa=void 0;l=a(4);g=a(16);m=a(5);d=a(14);f=a(88);h=a(23);c.prototype.isReady=function(){return this.j.state.value === g.ic.Se;};c.prototype.G9a=function(){return this.j.L;};c.prototype.Vv=function(){return this.j.sa;};c.prototype.kp=function(){return this.j.lm;};c.prototype.Zr=function(){return this.j.oj.value;};c.prototype.fw=function(){return this.j.paused.value;};c.prototype.Axa=function(){return this.ended;};c.prototype.Li=function(){var k;k=this.j.rqa.value;return k?{networkStalled:!!k.wu,stalled:!!k.wu,progress:k.progress,progressRollback:!!k.nbc}:null;};c.prototype.getError=function(){var k;k=this.j.Ki;return k?k.i2():null;};c.prototype.wq=function(){var k;return null === (k=this.j.wq()) || void 0 === k?void 0:k.DSb;};c.prototype.Un=function(){return this.j.Kd;};c.prototype.fF=function(){return this.Un().ta?this.Un().Oaa():this.Kt();};c.prototype.Kt=function(){return this.j.mediaTime.value;};c.prototype.k8a=function(){var k;k=(this.jaa() || 0) + this.j.j8a();return Math.min(k,this.Qua());};c.prototype.jaa=function(){return this.Un().ta?this.Un().Oaa():this.j.lF();};c.prototype.Qua=function(){return this.Un().ta?this.Un().q9a():this.j.kB.ia(m.va);};c.prototype.B$a=function(){var k;k=this.j.SG.value;return k?{width:k.width,height:k.height}:null;};c.prototype.kaa=function(){return this.j.kaa();};c.prototype.U7a=function(k){var n,p;return (null === (n=this.j.ba) || void 0 === n?0:n.Kj.JP("generateScreenshots"))?this.V7a.tq(this.log,this.j.ba.Kj,k):(n=null === (p=this.j.lb) || void 0 === p?void 0:p.zp)?this.V7a.Sf(this.log,Object.assign({packageId:n},k)):Promise.reject("Unknown packageId");};c.prototype.E8a=function(){return this.HWb(this.j.e5a);};c.prototype.b8a=function(){var k;k=this;return this.j.Ej.map(function(n){return k.Tr(n);});};c.prototype.A9a=function(){var k;return this.JY(this.j.Ej,null === (k=this.j.ba) || void 0 === k?void 0:k.Ra.qeb);};c.prototype.cwa=function(k){var n;n=this;return this.QY(k).map(function(p){return n.Tr(p);});};c.prototype.rva=function(k){var n;return this.JY(this.QY(k),null === (n=this.j.ba) || void 0 === n?void 0:n.Ra.reb);};c.prototype.Lxa=function(){return this.j.muted.value;};c.prototype.C$a=function(){return this.j.volume.value;};c.prototype.a8a=function(){var k,n;n=(null === (k=this.Oy) || void 0 === k?void 0:k.Gc) || this.j.Gc.value;return n && this.Tr(n);};c.prototype.bwa=function(){var k,n;n=(null === (k=this.Oy) || void 0 === k?void 0:k.Z1) || this.j.Ob.value;return n && this.Tr(n);};c.prototype.ubb=function(){return !!this.j.background;};c.prototype.Clb=function(k){this.j.muted.set(!!k);};c.prototype.Slb=function(k){this.j.volume.set(this.E7b(k));};c.prototype.Elb=function(k){this.j.playbackRate.set(k);};c.prototype.Jt=function(){return this.j.playbackRate.value;};c.prototype.mlb=function(k){var n,p,q,v,t;n=this;q=this.iY(k);if(q){if(q.Mh)return (this.j.Gc.set(q),Promise.resolve());v=(k=(null === (p=this.Oy) || void 0 === p?void 0:p.Z1) || this.j.Ob.value) && this.fcb(q,k)?k:q.wi[0];p=q.trackId;t=v.trackId;this.Oy={Gc:q,Z1:v};this.Bb(g.Pa.Fn);this.Bb(g.Pa.Nw);v !== k && this.Bb(g.Pa.cn);return this.j.vab(p,t).then(function(w){w=w.Gc;n.Oy=void 0;n.j.Gc.set(w);}).catch(function(w){n.Oy=void 0;w=n.Re.mf(w);n.log.error(w);n.close(n.Si(l.aa.AM,{Ca:l.Y.aka,Ub:w,UJ:{p0b:q.trackId,wab:q.Of,q0b:v.trackId,xab:v.Of}}));});}this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};c.prototype.CEa=function(k){var n,p,q,v;n=this;q=(null === (p=this.Oy) || void 0 === p?void 0:p.Gc) || this.j.Gc.value;if(null !== q){v=q.wi;p={};for(var t=0;t < v.length;(p={Ou:p.Ou},t++)){p.Ou=v[t];if(!k && null === p.Ou)return (this.j.Ob.set(null),Promise.resolve());if(this.Tr(p.Ou) === k){if(p.Ou.Mh)return (this.log.info("Setting Timed Text, profile: " + p.Ou.profile),this.j.Ob.set(p.Ou),Promise.resolve());k=q.trackId;v=p.Ou.trackId;this.Oy={Gc:q,Z1:p.Ou};this.Bb(g.Pa.cn);return this.j.vab(k,v).then(function(w){w=w.Z1;n.Oy=void 0;n.j.Ob.set(w);}).catch((function(w){return function(u){n.Oy=void 0;u=n.Re.mf(u);n.log.error(u);n.close(n.Si(l.aa.AM,{Ca:l.Y.aka,Ub:u,UJ:{p0b:q.trackId,wab:q.Of,q0b:w.Ou.trackId,xab:w.Ou.Of}}));};})(p));}}}this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};c.prototype.qEa=function(k){this.j.background=k;};c.prototype.mS=function(){this.j.mS();};c.prototype.Xga=function(k){this.j.Xga(k);};c.prototype.Hj=function(k){return this.j.Hj(k);};c.prototype.S9a=function(){return this.j.lb;};c.prototype.Ly=function(){this.j.Ly();};c.prototype.IK=function(k){this.j.IK(k);};c.prototype.ZY=function(k,n,p){return this.j.ZY(k,n,p);};c.prototype.fpa=function(k,n){this.j.addEventListener(k,n,void 0);};c.prototype.addEventListener=function(k,n,p){this.Pb.addListener(k,n,p);};c.prototype.removeEventListener=function(k,n){this.Pb.removeListener(k,n);};c.prototype.ZK=function(){};c.prototype.load=function(){var k;k=this;this.loaded || (this.loaded=!0,this.j.load(function(n,p){try{k.Bb(g.Pa.odb,void 0,!0);n.ba && (n.ba.Ra.nqb && k.Bb(g.Pa.Xlc,n.ba.Ra.nqb,!0),n.ba.Ra.So && k.Bb(g.Pa.Iec,{segmentMap:n.ba.Ra.So},!0));p({ja:!0});}catch(q){p({Ca:l.Y.ln,Ub:k.Re.mf(q)});}}));};c.prototype.close=function(k){var n;n=this;this.J2a || (this.J2a=new Promise(function(p){k?n.j.RI(k,p):n.j.close(p);}));return this.J2a;};c.prototype.play=function(){this.j.fj?this.j.fireEvent(g.ka.Fkb):(this.load(),this.j.paused.value && (this.j.paused.set(!1),this.j.fireEvent(g.ka.Jpb)));};c.prototype.pause=function(){this.load();this.j.paused.value || (this.j.paused.set(!0),this.j.fireEvent(g.ka.Ipb));};c.prototype.seek=function(k,n,p,q){n=void 0 === n?g.Fd.ED:n;this.j.SJb() && (this.Un().ta && this.Un().kcb(this.Un().vkb(k))?this.Un().ZDa():this.j.pf?(this.Un().ta && (k=this.Un().vkb(k)),this.j.pf.seek(k,n,p,q)):(this.Un().ta && (k=this.Un().pva(k).Gn),this.j.Gn=k));};c.prototype.Ghb=function(k){return this.xO?(this.log.trace("Playing a segment",k),this.xO.play(k)):Promise.resolve();};c.prototype.Pib=function(k){return this.xO?(this.log.trace("Queueing a segment",k),this.xO.lu(k)):Promise.resolve();};c.prototype.Ek=function(k,n){return this.xO?(this.log.trace("Updating next segment weights",k,n),this.xO.Ek(k,n)):Promise.resolve();};c.prototype.TY=function(){var k;k=this.j.Fp.TY();return {bounds:k.NW,margins:k.Zt,size:k.size,visibility:k.visibility};};c.prototype.dS=function(k){var n,p,q;n=k.bounds;p=k.margins;q=k.size;k=k.visibility;this.j.e2 && (n && this.j.e2.DEa(n),p && this.j.e2.EEa(p),"boolean" === typeof k && this.j.e2.FEa(k));this.j.Fp && q && this.j.Fp.Rfc(q);};c.prototype.GEa=function(k){this.j.wo=k;};c.prototype.y$a=function(k){return this.j.XC && this.j.XC.dXb(k) || null;};c.prototype.Z7a=function(){return this.Re.TF({playerver:this.config.version,jssid:this.config.R2b,groupName:this.config.gXb(),xid:this.j.sa,pbi:this.j.index},this.config.o$b,{prefix:"pi_"});};c.prototype.Qab=function(k){this.j.Sd(l.aa.uLa,l.Y.Fo,k);};c.prototype.kdb=function(k,n,p,q){if(!this.Ib.e0a(k))throw Error("invalid url");this.vhb.push({url:k,name:n,eIb:p,options:q});this.zib();};c.prototype.Tva=function(){var k,n,p,q,v,t,w,u;k={};n=this.j.H1;try{if((this.j.Ki && (k.errorCode=this.j.Ki.V9,k.errorType=n?"endplay":"startplay"),k.playdelay=(0,h.rg)(this.j.VW()),k.xid=this.j.sa,this.j.ba && this.Ib.Dr(this.j.ba.Ra.zp) && (k.packageId=Number(this.j.ba.Ra.zp)),k.auth=this.j.ZVb(),n)){k.totaltime=this.j.Tm?this.Sn(this.j.Tm.Sr("content")):0;k.abrdel=this.j.Tm?this.j.Tm.Iua():0;p=this.j.pf;q=p?p.GJ():null;this.Ib.Ol(q) && (k.totdfr=q);q=p?p.BY():null;this.Ib.Ol(q) && (k.totcfr=q);v=p?p.sXb():null;v && (k.rbfrs_decoder=v.F9,k.rbfrs_network=v.uda);k.rbfrs_delay=this.j.Tm?this.j.Tm.vxa:0;k.init_vbr=this.j.Dba;t=this.NJ();this.Ib.cJ(t) && (k.pdltime=t);w=this.j.Pe.value;u=w && w.stream;u && (k.vbr=u.bitrate,k.vdlid=u.Tb);k.bufferedTime=this.j.j8a();}}catch(x){this.log.error("error capturing session summary",x);}return k;};c.prototype.lP=function(k){this.j.lb.no && (this.j.lb.no.userEngageAction=1);return this.Ib.Ol(this.j.mediaTime.value)?(k=Object.assign(Object.assign({},this.ww.create(this.j)),{action:k}),this.bX(f.ar.lP).tq(this.log,this.j.ba.Kj,k).then(function(){return {success:!0};}).catch(function(n){return {success:!1,errorCode:n.code,errorSubCode:n.wc,errorExternalCode:n.vd,errorData:n.data,errorDetails:n.details};})):Promise.resolve({success:!1});};c.prototype.HWb=function(k){return {register:k.register.bind(k),notifyUpdated:k.ggb.bind(k),getModel:k.TXb.bind(k),getGroups:k.HY.bind(k),addEventListener:k.addEventListener.bind(k),removeEventListener:k.removeEventListener.bind(k),getTime:k.getTime.bind(k)};};c.prototype.Tr=function(k){var n;n=k.yCa=k.yCa || ({trackId:k.trackId,bcp47:k.Of,displayName:k.displayName,trackType:k.Vi,rawTrackType:k.pG,channels:k.channels});this.Qxa(k) && (n.isNative=k.isNative,n.surroundFormatLabel=k.S1);this.Rxa(k) && (n.isNoneTrack=k.Fq(),n.isForcedNarrative=k.qp(),n.isImageBased=k.Zl);n.subType=k.HL;n.variant=k.variant;return n;};c.prototype.Qxa=function(k){return "undefined" !== typeof k.isNative;};c.prototype.Rxa=function(k){return "undefined" !== typeof k.Fq && "undefined" !== typeof k.qp;};c.prototype.iY=function(k){var n;n=this;return k && this.j.Ej.find(function(p){return n.Tr(p) === k;});};c.prototype.QY=function(k){var n,p;k=this.iY(k) || (null === (n=this.Oy) || void 0 === n?void 0:n.Gc) || this.j.Gc.value;return null !== (p=null === k || void 0 === k?void 0:k.wi) && void 0 !== p?p:[];};c.prototype.JY=function(k,n){var p;p=k.length - 1;if("number" !== typeof n)return p;k=k.findIndex(function(q){return q.vc > n;});return -1 === k?p:k - 1;};c.prototype.fcb=function(k,n){return 0 <= k.wi.indexOf(n);};c.prototype.E7b=function(k){return 0 <= k?1 >= k?k:1:0;};c.prototype.Sn=function(k){return this.Ib.Ol(k)?(k / 1E3).toFixed(0):"";};c.prototype.Bb=function(k,n,p){n=n || ({});n.target=this;this.Pb.Zc(k,n,!p);};c.prototype.dM=function(){var k;k=this;this.j.addEventListener(g.ka.NFa,function(){k.Bb(g.Pa.oq);});this.j.SG.addListener(function(){k.Bb(g.Pa.VGa);});this.j.addEventListener(g.ka.Mob,function(){k.Bb(g.Pa.Lob);});this.j.addEventListener(g.ka.Sca,function(){k.Bb(g.Pa.Q8);});this.j.addEventListener(g.ka.pl,function(){k.Bb(g.Pa.Q8);});this.j.addEventListener(g.ka.bQ,function(n){k.Bb(g.Pa.bQ,{errorCode:n});});this.j.addEventListener(g.ka.Opa,function(){k.Bb(g.Pa.T0a);});this.j.addEventListener(g.ka.fj,function(n){k.Bb(g.Pa.F8,n);});this.j.addEventListener(g.ka.lob,function(){k.Bb(g.Pa.C8);k.Bb(g.Pa.Nw);});this.j.oj.addListener(function(){k.Bb(g.Pa.VBa);});this.j.paused.addListener(function(){k.Bb(g.Pa.phb);});this.j.muted.addListener(function(){k.Bb(g.Pa.wfb);});this.j.volume.addListener(function(){k.Bb(g.Pa.fqb);});this.j.Db.addListener(function(){k.Wob();});this.j.state.addListener(function(){k.Wob();});this.j.rqa.addListener(function(n){k.h4b || k.j.state.value != g.ic.Se || n.newValue || (k.h4b=!0,k.Bb(g.Pa.loaded),setTimeout(function(){k.log.debug.bind(k.log,"summary ",k.Tva());}));k.Bb(g.Pa.zO);});this.j.Gc.addListener(function(){k.Bb(g.Pa.Fn);k.Bb(g.Pa.Nw);setTimeout(function(){var n,p;n=k.j.Gc.value;p=k.j.Ob.value;null === n || null === p || k.fcb(n,p) || (k.log.info("Changing timed text track to match audio track"),k.j.Ob.set(n.wi[0]));},0);});this.j.Ob.addListener(function(n){n.oldValue && n.newValue && n.oldValue.trackId == n.newValue.trackId || k.Bb(g.Pa.cn);});this.j.addEventListener(g.ka.Nw,function(){k.Bb(g.Pa.Nw);});this.j.addEventListener(g.ka.k2,function(){k.Bb(g.Pa.k2);});this.j.state.addListener(function(n){switch(n.newValue){case g.ic.Se:k.Bb(g.Pa.Ssa);k.Bb(g.Pa.VGa);k.Bb(g.Pa.C8);k.Bb(g.Pa.Nw);k.Bb(g.Pa.ndb);k.zib();k.bmc();break;case g.ic.CLOSING:k.j.Ki && k.Bb(g.Pa.nbb,k.j.Ki);break;case g.ic.CLOSED:(k.Bb(g.Pa.closed),k.Pb.Ji());}});this.j.addEventListener(g.ka.pK,function(){k.Bb(g.Pa.pK);k.Bb(g.Pa.oq);k.Bb(g.Pa.Q8);k.Bb(g.Pa.Ssa);});};c.prototype.bmc=function(){var k;k=this;this.j.Fp.addEventListener("showsubtitle",function(n){k.Bb(g.Pa.NEa,n,!0);});this.j.Fp.addEventListener("removesubtitle",function(n){k.Bb(g.Pa.XCa,n,!0);});this.j.wq().Dn.addListener(function(){k.Bb(g.Pa.HGb);});};c.prototype.zib=function(){if(this.j.state.value == g.ic.Se){for(var k,n,p;n=this.vhb.shift();){k=this.j.Fp.Woa(n.url,n.name,n.options);n.eIb && (p=k);}p && this.j.Ob.set(p);}};c.prototype.Wob=function(){var k;k=this.j.state.value == g.ic.Se && this.j.Db.value == g.nb.Ks;this.ended !== k && (this.ended=k,this.j.wI("Ended changed: " + k),(k || this.j.state.value === g.ic.CLOSING) && this.Bb(g.Pa.q6a));};c.prototype.NJ=function(){var k,n;try{k=/playercore.*js/;n=d.gx.getEntriesByType("resource").filter(function(p){return null !== k.exec(p.name);});if(n && 0 < n.length)return JSON.stringify(Math.round(n[0].duration));}catch(p){}};b.VNa=c;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w;function c(u,x,y,z,B,A,C,D,E,G,F,L,O,K,I,M,H){var J,N,P;J=this;this.n0=x;this.MB=y;this.Ia=z;this.xk=B;this.Pb=A;this.i_=C;this.N$b=D;this.Lhb=E;this.mha=G;this.B8=F;this.za=L;this.zQ=O;this.config=K;this.sE=I;this.G=M;this.Si=H;this.YZ=new n.ec(!0);this.oj=new n.ec(!1);this.wu=new n.ec(!1);this.ended=new n.ec(!1);this.T8=new n.ec(0);this.Db=new n.ec(l.nb.Cg);this.JR=new n.ec(void 0);this.loaded=this.H1=this.closed=!1;this.mib=function(W,V){return function(S){var U,fa,qa,za,Aa;U=S.newValue;fa=U.Ro;S=U.Jn;qa=U.stream;U=W.value;za=U.streams.find(function(Qa){return Qa.bitrate === qa.stream.bitrate;});Aa=J.Fa.th.find(function(Qa){return Qa.id === fa;});J.log.info("Presenting " + za.type + " request with bitrate " + za.bitrate + ", track " + (U.trackId + " [" + S.startTime + "..." + S.endTime + "]"));V.set({stream:za,Jn:S,Cc:Aa});};};this.Xmb=function(W,V,S){return function(U){var fa,qa;fa=W.value;qa=fa.streams.find(function(za){return za.bitrate === U.newValue.stream.bitrate;});J.log.info("Streaming " + qa.type + " stream with bitrate " + qa.bitrate + ", track " + fa.trackId);V.set(qa,{OI:U.ij.OI,LW:void 0});fa=J.Fa.th.filter(function(za){return za.id === U.ij.Ro;})[0];S.set(fa);};};this.l7a=new Set();this.log=u.cb("HLSVideoPlayer");this.ea=(0,g.createElement)("VIDEO","position:absolute;width:100%;height:100%");this.ea.playsInline=this.config.Xhb;this.Fa=this.n0(m.BD.index++,M.L,M.id,null !== (N=M.Gb) && void 0 !== N?N:{},this.MB.nB(),this.Ia.Rb(),!1,void 0,function(){return J.Kt();});this.Fa.mediaTime.set(null !== (P=this.Fa.Gn) && void 0 !== P?P:0);this.dM();this.SBb=this.zQ.create(this);this.SBb;this.load();}Object.defineProperty(b,"__esModule",{value:!0});b.wWa=void 0;l=a(16);g=a(44);m=a(64);d=a(101);f=a(57);h=a(4);k=a(56);n=a(74);p=a(5);q=a(15);v=a(81);t=a(23);w=a(48);c.prototype.eic=function(){return !!this.ea.canPlayType && ("" !== this.ea.canPlayType("application/vnd.apple.mpegURL") || "" !== this.ea.canPlayType("audio/mpegurl"));};c.prototype.dM=function(){var u;u=this;this.ea.addEventListener("loadedmetadata",function(){u.Bb(l.Pa.odb);u.Bb(l.Pa.ndb);u.Bb(l.Pa.Fn);u.Bb(l.Pa.C8);u.Bb(l.Pa.cn);u.Bb(l.Pa.Nw);});this.ea.addEventListener("error",function(x){x=u.Si(h.aa.lRa,x);u.close(x);});this.ea.addEventListener("timeupdate",function(){u.ended.set(!1);u.Fa.mediaTime.set(u.Kt());u.Asa();u.Bb(l.Pa.oq);u.Bb(l.Pa.Lob);});this.ea.addEventListener("durationchange",function(){u.Bb(l.Pa.Ssa);});this.ea.addEventListener("resize",function(){u.Bb(l.Pa.VGa);});this.ea.addEventListener("playing",function(){u.Asa();u.wu.set(!1);u.oj.set(!0);u.ended.set(!1);u.Db.set(l.nb.Xc);});this.ea.addEventListener("pause",function(){u.oj.set(!1);u.wu.set(!1);u.Db.set(l.nb.aj);});this.ea.addEventListener("waiting",function(){u.Db.set(l.nb.Cg);});this.ea.addEventListener("stalled",function(){u.wu.set(!0);});this.ea.addEventListener("seeking",function(){u.wu.set(!1);u.JR.set(u.Fa.mediaTime.value);u.Db.set(l.nb.Cg);});this.ea.addEventListener("seeked",function(){void 0 !== u.JR.value && (u.Fa.Tm.zAa(u.JR.value,u.Kt()),u.JR.set(void 0));u.Db.set(u.Zr()?l.nb.Xc:l.nb.aj);});this.ea.addEventListener("progress",function(){u.Bb(l.Pa.Q8);u.ckc();});this.ea.addEventListener("ended",function(){u.Db.set(l.nb.Ks);u.wu.set(!1);u.oj.set(!1);u.ended.set(!0);});this.ea.addEventListener("volumechange",function(){u.Bb(l.Pa.fqb);u.Bb(l.Pa.wfb);});this.oj.addListener(function(){u.Bb(l.Pa.VBa);u.Bb(l.Pa.phb);u.HO();});this.T8.addListener(function(){u.Bb(l.Pa.zO);});this.wu.addListener(function(){u.Bb(l.Pa.zO);});this.YZ.addListener(function(){u.HO();});this.ended.addListener(function(){u.Bb(l.Pa.q6a);});this.Fa.playbackRate.addListener(function(x){u.ea.playbackRate=x.newValue;});};c.prototype.HO=function(){!this.Zr() || this.YZ.value || this.H1 || this.S0a || (this.H1=!0,this.Fa.SB=this.za.sL,this.Lhb.zl(this,this.Fa));};c.prototype.VW=function(){return this.m0 - (this.Fa.nj.ia(p.va) + this.Ia.XB.ia(p.va));};c.prototype.AJ=function(){var u;u=this.Fa.lb.KS;return (0,q.Qa)(u)?u:this.Fa.nj.ia(p.va) + this.Ia.XB.ia(p.va);};c.prototype.Aqa=function(){return this.za.lf.ia(p.va) - this.AJ();};c.prototype.Eqa=function(){return this.m0 - this.AJ();};c.prototype.ckc=function(){var u;u=this.ea.readyState <= k.Co.MT.HAVE_METADATA?0:this.ea.readyState <= k.Co.MT.HAVE_CURRENT_DATA?.5:1;1 === u && (this.m0=this.za.lf.ia(p.va),this.YZ.set(!1),this.Yta(l.Pa.loaded));this.T8.set(u);};c.prototype.Asa=function(){var u;u=this.Kt();this.mha.plb(u);this.B8.plb(u);};c.prototype.l1=function(){var u;u=this;this.Fa.Ze("ats");return this.xk.JJ({sa:this.Fa.sa,lb:this.Fa.lb,P:this.Fa.L,hy:d.Lp.C5,Og:f.$i.gr}).then(function(x){var z;function y(B){var A;A=B;B && B.Fq() && !B.qp() && (A=null);u.Fa.Cj.set(A);}u.Fa.Ze("at");z=u.i_.create({}).khb(x);u.Fa.ba=x;u.Fa.Rc=z;u.ea.audioTracks.addEventListener("addtrack",function(){u.ipb(u.Fa.Gc.value);});u.ea.audioTracks.addEventListener("change",function(){for(var B,A,C={},D=oa(u.ea.audioTracks),E=D.next();!E.done;(C={$S:C.$S},E=D.next())){C.$S=E.value;C.$S.enabled && C.$S.label !== (null === (B=u.Fa.Gc.value) || void 0 === B?void 0:B.displayName) && (!1,E=null !== (A=u.Fa.Ej.find((function(G){return function(F){return F.displayName === G.$S.label;};})(C))) && void 0 !== A?A:null,u.Fa.Gc.set(E));}});u.Fa.Gc.addListener(function(B){u.ipb(B.newValue);u.Bb(l.Pa.Fn);u.Bb(l.Pa.Nw);});u.ea.textTracks.addEventListener("addtrack",function(){u.jpb(u.Fa.Ob.value);});u.ea.textTracks.addEventListener("change",function(){var G;for(var B,A,C=u.ea.textTracks,D={},E=0;E < C.length;(D={aT:D.aT},E++)){if((D.aT=C[E],"showing" === D.aT.mode && D.aT.label !== (null === (B=u.Fa.Ob.value) || void 0 === B?void 0:B.displayName))){!1;G=null !== (A=u.Fa.wi.find((function(F){return function(L){return L.displayName === F.aT.label;};})(D))) && void 0 !== A?A:null;u.Fa.Ob.set(G);y(G);}}});u.Fa.Ob.set(z.AX);y(z.AX);u.Fa.Ob.addListener(function(B){u.jpb(B.newValue);u.Bb(l.Pa.cn);});return u.N$b.hj(x,function(B){return u.Fa.Ze(B);});}).then(function(x){var y,z,B,A,C,D,E,G,F,L,O,K,I,M,H,J;y=x.S4b;z=x.bKb;x=x.yhc;B=x.audio;A=x.I4a;C=x.video;D=u.Fa;E=D.bi;G=D.Gc;F=D.Ej;L=D.Hf;O=D.Uh;x=D.Gn;K=D.Pe;I=D.eg;M=D.Tm;D=D.Rc;D.Ej=F.filter(function(N){return B.find(function(P){return P.track.wg === N.trackId;});});O.set(D.N9);G.set(F.find(function(N){return N.trackId === A;}));D=C[0];H=D.stream;F=B.find(function(N){return N.track.wg === A;});J=F.stream;u.qZ=H.bitrate;u.mha.dCa.addListener(u.mib(O,K));u.mha.yFa.addListener(u.Xmb(O,L,u.Fa.Cc[w.u.J]));L=z.get(H.ap).wR.Kh;u.mha.oa(C,D,L);u.B8.dCa.addListener(u.mib(G,I));u.B8.yFa.addListener(u.Xmb(G,E,u.Fa.Cc[w.u.T]));z=z.get(J.ap).wR.Kh;u.B8.oa(B,F,z);u.ea.src=y;u.ea.currentTime=(null !== x && void 0 !== x?x:0) / 1E3;u.ea.load();M.zAa(0,x && 0 < x?x:1);}).catch(function(x){var y,z;if(x instanceof Error){z=(0,t.mf)(x);u.log.error("uncaught exception",x,z);}u.close(u.Si(null !== (y=x.code) && void 0 !== y?y:h.aa.fWa,x));});};c.prototype.jpb=function(u){var z;for(var x=this.ea.textTracks,y=0;y < x.length;y++){z=x[y];z.label === u.displayName && "showing" !== z.mode && (!1,z.mode="showing");z.label !== u.displayName && "showing" === z.mode && (!1,z.mode="hidden");}};c.prototype.ipb=function(u){for(var x=oa(this.ea.audioTracks),y=x.next();!y.done;y=x.next()){y=y.value;y.label !== u.displayName || y.enabled || (!1,y.enabled=!0);y.label !== u.displayName && y.enabled && (!1,y.enabled=!1);}};c.prototype.wq=function(){};c.prototype.Un=function(){};c.prototype.Kt=function(){return Math.floor(1E3 * this.ea.currentTime);};c.prototype.jaa=function(){return this.Kt();};c.prototype.fF=function(){return this.Kt();};c.prototype.Qua=function(){return Math.floor(1E3 * this.ea.duration);};c.prototype.G9a=function(){return this.G.L;};c.prototype.Vv=function(){return this.Fa.sa;};c.prototype.kp=function(){return this.ea;};c.prototype.isReady=function(){return null === this.Li();};c.prototype.Zr=function(){return this.oj.value;};c.prototype.fw=function(){return !this.oj.value;};c.prototype.Axa=function(){return this.ea.ended;};c.prototype.Li=function(){return 1 !== this.T8.value?{stalled:this.wu.value,progress:this.T8.value,progressRollback:!1}:null;};c.prototype.getError=function(){var u,x;return null !== (x=null === (u=this.Ki) || void 0 === u?void 0:u.i2()) && void 0 !== x?x:null;};c.prototype.k8a=function(){return 1 === this.ea.buffered.length?1E3 * this.ea.buffered.end(0):null;};c.prototype.B$a=function(){return {width:this.ea.videoWidth,height:this.ea.videoHeight};};c.prototype.Lxa=function(){return this.ea.muted;};c.prototype.C$a=function(){return this.ea.volume;};c.prototype.Clb=function(u){this.ea.muted=u;};c.prototype.Slb=function(u){this.ea.volume=u;};c.prototype.addEventListener=function(u,x,y){this.Pb.addListener(u,x,y);};c.prototype.removeEventListener=function(u,x){this.Pb.removeListener(u,x);};c.prototype.load=function(){var u;u=this;this.loaded || (this.loaded=!0,this.sE.XZ(function(x){u.eic()?x.ja?u.l1():u.close(u.Si(x.errorCode || h.aa.yja,x)):u.close(u.Si(h.aa.Gub));}));};c.prototype.close=function(u){if(this.closed)return Promise.resolve();this.Fa.mediaTime.set(this.Kt());this.Asa();this.Fa.jX=this.jaa();this.closed=!0;this.ea.removeAttribute("src");this.ea.load();null === u || void 0 === u?void 0:u.Glb(!this.YZ.value);(this.Ki=u) && this.Bb(l.Pa.error,u.i2());this.Bb(l.Pa.closed);return this.Lhb.K1(this.Fa);};c.prototype.play=function(){var u,x;u=this;x=this.ea.play();this.S0a=!1;x && x.then(function(){u.Yta(l.Pa.T0a);}).catch(function(y){u.Bb(l.Pa.zO);"NotAllowedError" === y.name && (u.log.warn("Playback is blocked by the browser settings",y),u.S0a=!0,u.fj=!0,u.Yta(l.Pa.F8,{player:{play:function(){return u.play();}}}));});};c.prototype.Bb=function(u,x,y){x=x || ({});x.target=this;this.Pb.Zc(u,x,!y);};c.prototype.Yta=function(u,x){this.l7a.has(u) || (this.l7a.add(u),this.Bb(u,x,void 0));};c.prototype.pause=function(){this.ea.pause();};c.prototype.seek=function(u){this.ea.currentTime=u / 1E3;};c.prototype.Qab=function(u){this.close(this.Si(h.aa.uLa,h.Y.Fo,u));};c.prototype.Jt=function(){return this.Fa.playbackRate.value;};c.prototype.Elb=function(u){this.Fa.playbackRate.set(u);};c.prototype.b8a=function(){var u;u=this;return this.Fa.Ej.map(function(x){return u.Tr(x);});};c.prototype.cwa=function(u){var x;x=this;return this.QY(u).map(function(y){return x.Tr(y);});};c.prototype.a8a=function(){var u;u=this.Fa.Gc.value;return u && this.Tr(u);};c.prototype.bwa=function(){var u;u=this.Fa.Ob.value;return u && this.Tr(u);};c.prototype.mlb=function(u){if((u=this.iY(u)) && u.Mh)return (this.Fa.Gc.set(u),Promise.resolve());this.log.error("Invalid setAudioTrack call");return Promise.reject(Error("Invalid setAudioTrack call"));};c.prototype.CEa=function(u){var x,y;x=this;y=this.Fa.wi.find(function(z){return x.Tr(z) === u;});if(y && y.Mh)return (this.Fa.Ob.set(y),this.Fa.Cj.set(y),Promise.resolve());this.log.error("Invalid setTextTrack call");return Promise.reject(Error("Invalid setTextTrack call"));};c.prototype.A9a=function(){var u;return this.JY(this.Fa.Ej,null === (u=this.Fa.ba) || void 0 === u?void 0:u.Ra.qeb);};c.prototype.rva=function(u){var x;return this.JY(this.QY(u),null === (x=this.Fa.ba) || void 0 === x?void 0:x.Ra.reb);};c.prototype.Tr=function(u){var x;x=u.yCa=u.yCa || ({trackId:u.trackId,bcp47:u.Of,displayName:u.displayName,trackType:u.Vi,rawTrackType:u.pG,channels:u.channels});this.Qxa(u) && (x.isNative=u.isNative,x.surroundFormatLabel=u.S1);this.Rxa(u) && (x.isNoneTrack=u.Fq(),x.isForcedNarrative=u.qp(),x.isImageBased=u.Zl);x.subType=u.HL;x.variant=u.variant;return x;};c.prototype.Qxa=function(u){return "undefined" !== typeof u.isNative;};c.prototype.Rxa=function(u){return "undefined" !== typeof u.Fq && "undefined" !== typeof u.qp;};c.prototype.iY=function(u){var x;x=this;return u && this.Fa.Ej.find(function(y){return x.Tr(y) === u;});};c.prototype.QY=function(u){var x;u=this.iY(u) || this.Fa.Gc.value;return null !== (x=null === u || void 0 === u?void 0:u.wi) && void 0 !== x?x:[];};c.prototype.JY=function(u,x){var y;y=u.length - 1;if("number" !== typeof x)return y;u=u.findIndex(function(z){return z.vc > x;});return -1 === u?y:u - 1;};c.prototype.Xga=function(u){this.Fa.lb=(0,v.Zca)(this.Fa.lb,u);};c.prototype.Hj=function(u){if(u !== this.Fa.S)throw (!1,Error("Unknown segmentId " + u));return this.Fa;};c.prototype.S9a=function(){return this.Fa.lb;};c.prototype.fpa=function(){!1;};c.prototype.Ly=function(){!1;};c.prototype.IK=function(){!1;};c.prototype.ZY=function(){!1;return Promise.reject();};c.prototype.Tva=function(){return {};};c.prototype.kaa=function(){};c.prototype.Z7a=function(){return {};};c.prototype.qEa=function(){};c.prototype.mS=function(){};c.prototype.ubb=function(){return !1;};c.prototype.E8a=function(){return {addEventListener:function(){},removeEventListener:function(){},getGroups:function(){return [];},register:function(){},notifyUpdated:function(){},getModel:function(){},getTime:function(){return 0;}};};c.prototype.lP=function(){!1;return Promise.resolve({success:!0});};c.prototype.y$a=function(){!1;};c.prototype.TY=function(){!1;};c.prototype.dS=function(){!1;};c.prototype.GEa=function(){!1;};c.prototype.kdb=function(){!1;};c.prototype.U7a=function(){!1;return Promise.reject();};c.prototype.Ghb=function(){!1;return Promise.reject();};c.prototype.Pib=function(){!1;return Promise.reject();};c.prototype.Ek=function(){!1;return Promise.reject();};c.prototype.ZK=function(){!1;};b.wWa=c;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A;Object.defineProperty(b,"__esModule",{value:!0});b.rab=void 0;r=a(1);c=a(383);l=a(798);g=a(385);m=a(799);d=a(379);f=a(843);h=a(393);k=a(844);n=a(380);p=a(845);q=a(381);v=a(846);t=a(484);w=a(242);u=a(1197);x=a(394);y=a(1198);z=a(1199);B=a(382);A=a(1201);b.rab=new r.Ed(function(C){C(c.SMa).to(l.RMa).la();C(g.WMa).to(m.VMa).la();C(d.FMa).to(f.EMa).la();C(h.HMa).to(k.GMa).la();C(x.FJa).to(y.EJa).la();C(n.aTa).to(p.$Sa).la();C(q.Nla).to(v.mVa);C(t.ZT).to(z.YT);C(B.bU).to(A.aU);C(w.rja).to(u.ZMa);});},function(r,b,a){var l,g,m,d;function c(f,h){this.j0b=f;this.log=h.cb("HeaderFetcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.RMa=void 0;r=a(0);l=a(1);g=a(7);m=a(384);d=a(65);c.prototype.download=function(f){var k,n,p,q,v;function h(t){if(v < n.length - 1)return (!1,v++,k.y5a(n[v].url,p,q).catch(h));throw t;}k=this;n=f.urls;p=f.offset;q=f.length;v=0;return this.y5a(n[v].url,p,q).catch(h);};c.prototype.y5a=function(f,h,k){return this.j0b.download({url:f,withCredentials:!1,responseType:d.ResponseType.Krb,PE:"hls_headers",Gu:!0,offset:h,length:k,uu:d.pU},{ueb:1});};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.bNa)),r.__param(1,(0,l.l)(g.jb))],a);b.RMa=a;},function(r,b,a){var l,g,m;function c(d){this.qa=d.cb("HeaderParserImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.VMa=void 0;r=a(0);l=a(1);g=a(75);a=a(7);c.prototype.parse=function(d,f,h){d=new g.Zu(this.qa,{mediaType:d},f,["sidx"]).parse();if(d.rw && d.ma)return this.b8(d.ma,h);};c.prototype.b8=function(d,f){var h,k,n,p,q;h=0;k=0;n=0;p=d.offset;q=[];d.ye.forEach(function(v,t){k+=v;n+=d.sizes[t];if(1E3 * k / d.W >= f || t === d.ye.length - 1)(q.push({duration:k / d.W,ca:h / d.W,byteOffset:p,bJb:n}),h+=k,k=0,p+=n,n=0);});return q;};m=c;m=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.jb))],m);b.VMa=m;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(){this.Rh();this.fd=1 === this.version?this.Yy([{creationTime:"int64"},{modificationTime:"int64"},{W:"int32"},{duration:"int64"}]):this.Yy([{creationTime:"int32"},{modificationTime:"int32"},{W:"int32"},{duration:"int32"}]);return !0;};g.xf="mvhd";g.wd=!1;return g;})(a(24).Ag);b.default=r;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(179);r=(function(g){function m(){return null !== g && g.apply(this,arguments) || this;}c.__extends(m,g);m.prototype.sJ=function(d){var f;if(d && d.da && !d.a9b){f=this.Vq("mdia");f && (f=f.Vq("mdhd")) && f.W !== d.da.W && (d.da=new l.N(d.da).Yf(f.W));}return !0;};m.xf="trak";m.wd=!0;return m;})(a(24).Ag);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(m){var d;this.Rh();d=1 === this.version?[{creationTime:"int64"},{modificationTime:"int64"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{creationTime:"int32"},{modificationTime:"int32"},{trackId:"int32"},{offset:32,type:"offset"},{duration:"int32"}];d=d.concat({offset:64,type:"offset"},{hvc:"int16"},{lsc:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.fd=this.Yy(d);this.fd.Sxc=!!(this.flags & 1);this.fd.Txc=!!(this.flags & 2);this.fd.Uxc=!!(this.flags & 4);this.fd.Vxc=!!(this.flags & 8);this.R.console.trace("Finished parsing track box");if(null === m || void 0 === m?0:m.Ff)(m.Ff.width=this.fd.width,m.Ff.height=this.fd.height);m && m.Cl && (m.Cl[this.fd.trackId]={});return !0;};g.xf="tkhd";g.wd=!1;return g;})(a(24).Ag);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(){this.Rh();this.fd=this.Yy(1 === this.version?[{I7a:"int64"}]:[{I7a:"int32"}]);return !0;};g.xf="mehd";g.wd=!1;return g;})(a(24).Ag);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(m){this.fd=this.Yy([{a0b:"int32"},{wlc:"int32"}]);if(null === m || void 0 === m?0:m.Ff)(m.Ff.Buc=this.fd.a0b,m.Ff.gyc=this.fd.wlc);return !0;};g.xf="pasp";g.wd=!1;return g;})(a(24).Ag);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(){this.fd=this.Yy([{Gsc:"int32"},{maxBitrate:"int32"},{H8:"int32"}]);return !0;};g.xf="btrt";g.wd=!1;return g;})(a(24).Ag);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(){this.R.BC();this.R.BC();for(this.wra=[];this.R.offset <= this.byteOffset + this.byteLength - 4;){this.wra.push(this.R.BC());}return !0;};g.xf="ftyp";g.wd=!1;return g;})(a(24).Ag);b.default=r;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(89);r=(function(g){function m(){return null !== g && g.apply(this,arguments) || this;}c.__extends(m,g);m.prototype.parse=function(d){var f,h,k,n,p;this.Rh();this.fd=this.Yy([{uwc:"int32"},{qwa:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.fd.qwa=l.sN(this.fd.qwa);if(d && d.Cl){p=null === (n=null === (k=null === (h=null === (f=this.parent) || void 0 === f?void 0:f.parent) || void 0 === h?void 0:h.vq("tkhd")) || void 0 === k?void 0:k.fd) || void 0 === n?void 0:n.trackId;"number" === typeof p && d.Cl[p] && (d.Cl[p].py=this.fd.qwa);}return !0;};m.xf="hdlr";m.wd=!1;return m;})(a(24).Ag);b.default=r;},function(r,b,a){var c,l,g,m,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(103);g=a(179);m=a(180);r=a(24);d=a(90);a=(function(f){function h(){return null !== f && f.apply(this,arguments) || this;}c.__extends(h,f);h.prototype.parse=function(){this.Rh();this.oP=this.R.jc();return !0;};h.prototype.sJ=function(k){var n;n=Object.keys(this.ve);n.length && (n=n[0],this.ve[n].length && (n=this.ve[n][0],n instanceof m.default?this.da=new g.N(n.xJ,n.samplerate):n instanceof d.default && (n=n.ve[l.ska]) && n.length && (n=n[0].fd,1E3 !== n.Hv && 1001 !== n.Hv || 0 !== n.qw % 1E3?this.R.console.warn("Unexpected frame rate in NetflixFrameRateBox: " + n.qw + "/" + n.Hv):this.da=new g.N(n.Hv,n.qw)),k && this.da && (k.da=this.da)));return !0;};h.prototype.Jjb=function(k){void 0 !== this.ve[k] && 0 !== this.ve[k].length && (this.Xb.Sw(this.oP - 1,this.byteOffset + 12),k=this.ve[k][0],this.jo(k.byteLength,k.byteOffset));};h.xf="stsd";h.wd=!0;return h;})(r.Ag);b.default=a;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(){this.uVb=this.R.Nd(2);this.NIb=this.R.Nd(5);this.OIb=this.R.Nd(3);this.qFb=this.R.Nd(3);this.R.Nd(1);this.R.Nd(5);this.R.Nd(5);return !0;};g.xf="dac3";return g;})(a(24).Ag);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(m){var d,f;d=this.R.Dh();this.u4a=d >> 3;this.D7b=d & 7;this.Qhc=[];for(d=0;d < this.D7b;d++){f={uVb:this.R.Nd(2),NIb:this.R.Nd(5),OIb:this.R.Nd(5),qFb:this.R.Nd(3),jvc:this.R.Nd(1),C7b:this.R.Nd(4)};0 < f.C7b?f.Qsc=this.R.Nd(9):this.R.Nd(1);this.Qhc.push(f);}m && m.wRb && (m.wRb.u4a=this.u4a);return !0;};g.xf="dec3";return g;})(a(24).Ag);b.default=r;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(24);r=(function(g){function m(){return null !== g && g.apply(this,arguments) || this;}c.__extends(m,g);m.prototype.parse=function(d){this.Rh();this.TDa=this.R.BC();l.M && this.R.console.trace("SchemeTypeBoxTranslator: " + this.TDa);if("cenc" === this.TDa){if((this.R.offset-=4,l.M && this.R.console.trace("SchemeTypeBoxTranslator: writing type piff at offset " + this.R.offset),this.Xb.tqb("piff"),null === d || void 0 === d?0:d.Ff))d.Ff.GSb="piff";}else if(null === d || void 0 === d?0:d.Ff)d.Ff.GSb=this.TDa;this.R.jc();return !0;};m.xf="schm";m.wd=!1;return m;})(l.Ag);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(m){var d;this.R.Md();this.hrb=this.R.Md();this.R.Md();this.R.Md();this.R.Md();this.gga=this.goa(this.R.Md() & 31);this.bib=this.goa(this.R.Md());this.yR=this.gga.length?this.gga[0][1]:this.hrb;this.jZa=this.R.offset;this.startOffset + this.length < this.R.offset && (100 === this.yR || 110 === this.yR || 122 === this.yR || 144 === this.yR) && (this.R.Md(),this.R.Md(),this.goa(this.R.Md()));d=this.startOffset + this.length - this.jZa;0 < d && this.jo(d,this.jZa);m && m.Spa && (m.Spa.gga=this.gga,m.Spa.bib=this.bib,m.Spa.yR=this.yR);return !0;};g.prototype.goa=function(m){var h;for(var d=[],f=0;f < m;++f){h=this.R.Dh();d.push(this.R.Qea(h));}return d;};g.xf="avcC";g.wd=!1;return g;})(a(24).Ag);b.default=r;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(m){this.R.Nd(1);this.R.Nd(7);this.dlb=this.R.Nd(3);this.clb=this.R.Nd(5);this.elb=this.R.Nd(1);this.oab=this.R.Nd(1);this.Aob=this.R.Nd(1);this.nfb=this.R.Nd(1);this.s2a=this.R.Nd(1);this.t2a=this.R.Nd(1);this.r2a=this.R.Nd(2);this.R.Nd(3);(this.pxa=this.R.Nd(1))?this.Zab=this.R.Nd(4):this.R.Nd(4);m && (m.tsc={dlb:this.dlb,clb:this.clb,elb:this.elb,oab:this.oab,Aob:this.Aob,nfb:this.nfb,s2a:this.s2a,t2a:this.t2a,r2a:this.r2a,pxa:this.pxa,Zab:this.Zab});return !0;};g.xf="av1C";return g;})(a(24).Ag);b.default=r;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(102);r=(function(g){function m(){return null !== g && g.apply(this,arguments) || this;}c.__extends(m,g);m.prototype.sJ=function(){var d;d=this.vq("esds");if(d=d && d.lub.vq(5))(l.assert(this.samplerate),this.xJ=d.xJ * this.samplerate / d.yfa);return !0;};m.xf="mp4a";m.wd=!0;return m;})(a(180).default);b.default=r;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(245);r=(function(g){function m(){return null !== g && g.apply(this,arguments) || this;}c.__extends(m,g);m.prototype.parse=function(d){this.Rh();this.lub=l.oLa.Zib(this.R,d);return !0;};m.xf="esds";m.wd=!1;return m;})(a(24).Ag);b.default=r;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=a(103);a=a(24);l=r.ska;a=(function(g){function m(){return null !== g && g.apply(this,arguments) || this;}c.__extends(m,g);m.prototype.parse=function(){this.Rh();this.fd=this.Yy([{qw:"int32"},{Hv:"int16"}]);return !0;};m.xf=l;m.wd=!1;return m;})(a.Ag);b.default=a;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(m){var d,f,h,k,n;this.Rh();d=this.Yy([{HS:"int32"},{ssa:"int32"},{$x:"int32"},{sB:"int32"},{rB:"int32"}]);f=d.HS;h=d.ssa;k=d.$x;n=d.rB;d=d.sB;this.fd={trackId:f,otc:h,L9:k,ptc:n,qtc:d};(null === m || void 0 === m?0:m.Cl) && m.Cl[f] && (m.Cl[f].ssa=h,m.Cl[f].$x=k,m.Cl[f].rB=n,m.Cl[f].sB=d);this.HS=f;this.ssa=h;this.$x=k;this.sB=d;this.rB=n;return !0;};g.xf="trex";g.wd=!1;return g;})(a(24).Ag);b.default=r;},function(r,b,a){var c,l,g,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(819);g=a(102);m=a(390);r=(function(d){function f(h,k,n,p,q){h=d.call(this,h,k,n,p,q) || this;h.PX=!1;return h;}c.__extends(f,d);Object.defineProperties(f.prototype,{t4a:{get:function(){return !!(this.flags & 1);},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{K$:{get:function(){return !!(this.flags & 4);},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{vfa:{get:function(){return !!(this.flags & 256);},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{xfa:{get:function(){return !!(this.flags & 512);},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{HDa:{get:function(){return !!(this.flags & 1024);},enumerable:!0,configurable:!0}});Object.defineProperties(f.prototype,{GDa:{get:function(){return !!(this.flags & 2048);},enumerable:!0,configurable:!0}});f.prototype.parse=function(h){var k,n,p;this.Rh();this.bqa=this.R.offset;this.Xd=this.R.jc();this.Yo=this.t4a?this.R.Tea():0;this.MUb=this.K$?this.R.jc():void 0;this.FDa=(this.vfa?4:0) + (this.xfa?4:0) + (this.HDa?4:0) + (this.GDa?4:0);this.yP=this.R.offset;g.assert(this.t4a,"Expected data offset to be present in Track Run");g.assert(this.length - (this.R.offset - this.startOffset) === this.Xd * this.FDa,"Expected remaining data in box to be sample information");if(h && h.pa){h.pa.Yo=this.Yo;h.pa.Xd=this.Xd;this.ul=[];p=null === (n=null === (k=this.parent) || void 0 === k?void 0:k.vq("tfhd")) || void 0 === n?void 0:n.HS;for(k=0;k < this.Xd;k++){n={};this.vfa?n.ufa=this.R.jc():h.pa.$x?n.ufa=h.pa.$x:p && h.Cl && h.Cl[p] && (n.ufa=h.Cl[p].$x);this.xfa?n.nL=this.R.jc():h.pa?n.nL=h.pa.sB:p && h.Cl && h.Cl[p] && (n.nL=h.Cl[p].sB);this.HDa?n.wfa=this.R.jc():h.pa?n.wfa=h.pa.rB:p && h.Cl && h.Cl[p] && (n.wfa=h.Cl[p].rB);this.GDa && (n.Uwc=0 === this.version?this.R.jc():this.R.Tea());0 === k && this.K$ && (n.wfa=this.MUb);this.ul.push(n);}h.pa.ul=this.ul;if(h.pa.mL)for((g.assert(h.pa.mL.length === h.pa.ul.length,"num fragment samples: " + h.pa.ul.length + ", num samples in auxiliary info: " + h.pa.mL.length),p=0);p < h.pa.ul.length;p++){h.pa.ul[p].Bja=h.pa.mL[p].Bja;h.pa.ul[p].zFa=h.pa.mL[p].zFa;}}return !0;};f.prototype.d7=function(h,k,n){var p,q,v;p=this.vfa?this.R.jc():h.$x;q=this.xfa?this.R.jc():h.sB;h=this.HDa?this.R.jc():h.rB;v=this.GDa?0 === this.version?this.R.jc():this.R.Tea():0;return {eec:v,wfa:h,nL:q,ufa:p,wwc:(n || 0) + v - (void 0 !== k?k:v)};};f.prototype.Ka=function(h,k,n,p,q,v,t){var w,u,x,y;g.assert(void 0 !== this.Yo);g.assert(void 0 !== this.yP);g.assert(void 0 !== this.bqa);g.assert(void 0 !== this.Xd);g.assert(void 0 !== h.ot);w=0;u=0;this.Xb.offset=this.yP;for(p=0;p < q;++p){x=this.d7(k,y,u);if(0 === p)y=x.eec;w+=x.nL;u+=x.ufa;}p=q;q=this.R.offset;x=this.d7(k,y,u);this.YCa=t;this.gS=p;this.omb=u;if(t){if((this.HR=this.Yo + w,this.us=0,p === this.Xd))return !0;}else if((this.HR=this.Yo,this.us=w,0 === p))return !0;if(0 === p || p === this.Xd)return !1;this.PX=!0;if(t){this.us+=x.nL;for(t=p + 1;t < this.Xd;++t){x=this.d7(k,y,u);this.us+=x.nL;}this.Xb.offset=this.bqa;this.Xd=p;this.Xb.Sw(this.Xd);this.Xb.eHa(v);this.K$ && (this.R.offset+=4);this.jo(this.length - (q - this.startOffset),q);}else (k=q - this.yP,this.yP=q,this.Xb.offset=this.bqa,this.Xd-=p,this.Xb.Sw(this.Xd),this.Yo+=w,this.Xb.eHa(v,this.Yo),this.K$ && (this.R.offset+=4),this.jo(k,this.Xb.offset));n.jo(this.us,h.ot + this.HR);return !0;};f.prototype.C6b=function(h,k,n,p,q,v,t,w){var u,y,z,B,A;void 0 === t && (t=!1);g.assert(void 0 !== this.Yo);g.assert(void 0 !== this.yP);g.assert(void 0 !== this.Xd);g.assert(void 0 !== this.FDa);g.assert(void 0 !== h.ot);for(var x=p.length;x < this.Xd;++x){p[x]=p[x - 1];}p.some(function(C){return 0 >= C;}) && (y=null === (u=this.bBb(q,v)) || void 0 === u?void 0:u.bga);this.R.offset=this.yP;h=h.ot + this.Yo;q=-1 !== q.indexOf("heaac")?"aac":"ddp";v=new Uint8Array(this.R.view.buffer,this.R.view.byteOffset,this.R.view.byteLength);for(x=0;x < this.Xd;++x){u=this.d7(k).nL;if(-Infinity === p[x]){if(y && this.xfa){n.ffa(u,y,h);z=this.FDa - (this.vfa?4:0);this.Xb.offset-=z;this.Xb.Sw(y.byteLength);this.Xb.offset+=z - 4;}}else if(0 > p[x])try{B=v.subarray(h,h + u);A=l.aF({fe:q,frame:B,RA:p[x],kL:t,tK:w}).fVb;A !== u && this.R.console.error("TrackRunBoxEditor: parse frame size error " + A + " should be " + u);}catch(C){this.R.console.error("TrackRunBoxEditor: fadeFrame error: " + C.message + " " + C.stack);}h+=u;}};f.prototype.bBb=function(h,k){if("string" === typeof k)return (g.assert("reset" !== k && "standard" !== k),m.DW[k]);if(void 0 !== h)return k?m.DW.reset[h] || m.DW.standard[h]:m.DW.standard[h];};f.xf="trun";f.wd=!1;return f;})(a(24).Ag);b.Xyb=r;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(0).__exportStar(a(820),b);},function(r,b,a){var c,l,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.aF=void 0;c=a(249);l=a(821);b.aF=function(){var h,k,n,p;for(var d=[],f=0;f < arguments.length;f++){d[f]=arguments[f];}h="string" === typeof d[0]?{fe:d[0],frame:d[1],RA:d[2],nLb:d[3],tK:d[4]}:d[0];k=h.fe;d=h.frame;f=h.RA;n=h.nLb;p=h.tK;h=h.kL;h=void 0 === h?!1:h;switch(k){case "aac":void 0 === g && (g=a(822).aF);k=6;n && (n=new c.g3(n),k=l.ghb(n).zfa);d=g(d,f,h,{zfa:k}).eBa;break;case "ddp":void 0 === m && (m=a(831).aF);d=m(d,f,{tK:p}).eBa;break;default:throw Error("Unrecognized codec in fadeFrame: " + k);}return {fVb:d};};},function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.ghb=void 0;a=[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350];b.ghb=function(c){var l,g,m,d;l=c.read(5);g=c.read(4);if(15 === g){m=c.read(24);g=a.indexOf(m);}else m=a[g];d=c.read(4);switch(l){case 1:case 2:case 4:if(c.read(1))throw Error("frameLengthFlag not supported");break;default:throw Error("AAC profile " + l + " not supported.");}return {Gr:l,sampleRate:m,zfa:g,Rsc:d,eVb:1024};};},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.aF=void 0;c=a(249);l=a(823);b.aF=function(g,m,d,f){var h;h=new c.g3(g);m=l.uib(h,{RA:m,kL:d},f && f.zfa);h=h.offset;return {frame:g.subarray(0,h),eBa:h,fyc:m};};},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.uib=void 0;c=a(250);l=a(824);b.uib=function(g,m,d){var f,h,k;if(4095 === g.read(12)){g.advance(3);f=!!g.read(1);h=g.read(2) + 1;d=g.read(4);g.advance(8);k=g.read(13);g.advance(13 + (f?0:16));f={Gr:h,zfa:d,eVb:k};}else g.reverse(12);c.assert(void 0 !== d);l.Aib(g,d,m);return f;};},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Aib=void 0;c=a(825);l=a(830);b.Aib=function(g,m,d){var h;for(var f;7 !== (f=g.read(3));){h=g.read(4);switch(f){case 1:c.rib(g,m,d);break;case 6:l.tib(g,h,d);break;default:throw Error("Unsupported AAC element " + f);}}g.aJb();};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.rib=void 0;c=a(826);b.rib=function(l,g,m){var d,f;d=l.read(1);if(d){f=new c.GNa(l,d,g);1 === l.read(2) && l.advance(f.aR * f.n_);}c.pCa(l,g,f,m);c.pCa(l,g,f,m);};},function(r,b,a){var c,l,g,m,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.GNa=b.pCa=void 0;c=a(250);l=a(827);g=a(829);b.pCa=function(h,k,n,p){var q,v,t;q=h.read(8);p=Math.max(0,Math.ceil(q + 4 * Math.log(Math.pow(10,p.RA / 20)) / Math.log(2)));h.reverse(8);h.write(8,p);n || (n=new f(h,0,k));q=n;v=2 === q.bHa?3:5;t=(1 << v) - 1;k=[];p=[];for(var w=[],u=0;u < q.aR;++u){for(var x=0,y=0;x < q.n_;){for(var z=h.read(4),B=0,A;(A=h.read(v)) === t;){B+=A;}B+=A;x+=B;k.push(z);p.push(B);++y;}w.push(y);}q=!0;for(v=0;v < k.length;++v){0 !== k[v] && (13 === k[v] && q?(h.advance(9),q=!1,l.K4.mmb(h,p[v] - 1)):l.K4.mmb(h,p[v]));}h.read(1) && h.advance(6 + 9 * (h.read(2) + 1));if(h.read(1))for((q=n,v=2 === q.bHa?m:d,t=0);t < q.ngb;++t){if(w=h.read(v[0]))for((u=h.read(1),x=0);x < w;++x){if((h.advance(v[1]),y=h.read(v[2])))(h.advance(1),z=h.read(1),h.advance(y * (u + 3 - z)));}}c.assert(!h.read(1));q=n.aR;v=n.n_;t=n.rnb;n=n.uha;for(u=w=0;u < q;++u){for((x=n[u],y=0);y < v;++w){if((z=k[w],B=p[w],0 === z || 13 === z || 15 === z || 14 === z))y+=B;else {A=5 <= z?2:4;for(var C=0;C < B;(++C,++y)){for(var D=x * (t[y + 1] - t[y]) / A,E=0;E < D;++E){l.K4.Mgc(h,z);}}}}}};m=[1,4,3];d=[2,6,5];f=(function(){return function(h,k,n){var p;this.uha=[];this.aR=1;this.uha[0]=1;h.advance(1);this.bHa=h.read(2);h.read(1);if(2 === this.bHa){this.ngb=8;this.n_=h.read(4);for(k=0;7 > k;++k){h.read(1)?this.uha[this.aR - 1]++:(this.aR++,this.uha[this.aR - 1]=1);}this.rnb=g.wUa[n];}else {this.ngb=1;this.n_=h.read(6);if(h.read(1)){p=14 + Math.min(this.n_,40);h.read(1) && h.advance(p);k && h.read(1) && h.advance(p);}this.rnb=g.vUa[n];}};})();b.GNa=f;},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});b.K4=void 0;c=a(828);l=[c.qMa,c.tMa,c.uMa,c.vMa,c.wMa,c.xMa,c.yMa,c.zMa,c.AMa,c.rMa,c.sMa];g=[!1,!1,!0,!0,!1,!1,!0,!0,!0,!0,!0];b.K4=(function(){function m(){}m.c7a=function(d,f){var h,q,v;h=f.table;f=f.width;for(var k=0,n=h[0],p=d.read(n);p !== h[k + 1];){k+=f;q=h[k];v=q - n;n=q;p<<=v;p|=d.read(v);}return k;};m.lmb=function(d){for(var f=4;d.read(1);){++f;}d.advance(f);};m.mmb=function(d,f){for(;f--;){m.c7a(d,c.BMa);}};m.Mgc=function(d,f){var h,k;h=l[f - 1];k=h.table;h=this.c7a(d,h);if(11 > f)g[f - 1] && (f=k[h + 2]) && d.advance(f);else if(11 === f || 15 < f)(h+=2,(f=k[h]) && d.advance(f),(k=k[h + 1]) && this.lmb(d),1 < k && this.lmb(d));else throw Error("Huffman: unknown spectral codebook: " + f);};return m;})();},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.BMa=b.sMa=b.rMa=b.AMa=b.zMa=b.yMa=b.xMa=b.wMa=b.vMa=b.uMa=b.tMa=b.qMa=void 0;b.qMa={width:2,table:new Uint16Array([1,0,5,16,5,17,5,18,5,19,5,20,5,21,5,22,5,23,7,96,7,97,7,98,7,99,7,100,7,101,7,102,7,103,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,7,115,7,116,7,117,7,118,7,119,9,480,9,481,9,482,9,483,9,484,9,485,9,486,9,487,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,9,500,9,501,9,502,9,503,10,1008,10,1009,10,1010,10,1011,10,1012,10,1013,10,1014,10,1015,11,2032,11,2033,11,2034,11,2035,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,11,2042,11,2043,11,2044,11,2045,11,2046,11,2047])};b.tMa={width:2,table:new Uint16Array([3,0,4,2,5,6,5,7,5,8,5,9,5,10,5,11,5,12,6,26,6,27,6,28,6,29,6,30,6,31,6,32,6,33,6,34,6,35,6,36,6,37,6,38,6,39,6,40,6,41,6,42,6,43,6,44,6,45,6,46,6,47,6,48,6,49,7,100,7,101,7,102,7,103,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,8,230,8,231,8,232,8,233,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,8,242,8,243,8,244,8,245,8,246,8,247,8,248,9,498,9,499,9,500,9,501,9,502,9,503,9,504,9,505,9,506,9,507,9,508,9,509,9,510,9,511])};b.uMa={width:3,table:new Uint16Array([1,0,0,4,8,1,4,9,1,4,10,1,4,11,1,5,24,2,5,25,2,6,52,2,6,53,2,6,54,2,6,55,3,6,56,2,6,57,3,7,116,4,7,117,3,7,118,3,8,238,1,8,239,1,8,240,2,8,241,2,8,242,3,9,486,2,9,487,3,9,488,2,9,489,3,9,490,3,9,491,1,9,492,2,9,493,2,9,494,1,9,495,2,9,496,2,9,497,4,9,498,3,9,499,3,9,500,4,10,1002,3,10,1003,2,10,1004,3,10,1005,2,10,1006,4,10,1007,4,10,1008,3,10,1009,3,10,1010,2,10,1011,3,10,1012,3,10,1013,3,10,1014,2,10,1015,2,10,1016,3,11,2034,2,11,2035,4,11,2036,3,11,2037,3,11,2038,4,11,2039,4,11,2040,2,11,2041,3,12,4084,3,12,4085,3,12,4086,3,12,4087,3,12,4088,3,12,4089,4,12,4090,4,12,4091,4,12,4092,4,13,8186,2,13,8187,2,13,8188,3,14,16378,3,14,16379,4,14,16380,3,15,32762,4,15,32763,4,15,32764,4,15,32765,3,15,32766,2,16,65534,3,16,65535,3])};b.vMa={width:3,table:new Uint16Array([4,0,4,4,1,3,4,2,3,4,3,3,4,4,3,4,5,1,4,6,2,4,7,0,4,8,2,4,9,2,5,20,2,5,21,2,5,22,1,5,23,2,5,24,1,5,25,1,7,104,4,7,105,4,7,106,4,7,107,4,7,108,3,7,109,3,7,110,3,7,111,3,7,112,3,8,226,3,8,227,3,8,228,3,8,229,3,8,230,3,8,231,3,8,232,3,8,233,2,8,234,2,8,235,2,8,236,2,8,237,2,8,238,2,8,239,2,8,240,2,8,241,2,8,242,2,8,243,2,8,244,2,8,245,1,8,246,1,9,494,1,9,495,1,9,496,4,9,497,4,9,498,4,9,499,4,9,500,4,9,501,4,10,1004,3,10,1005,3,10,1006,3,10,1007,3,10,1008,3,10,1009,3,10,1010,3,10,1011,3,10,1012,3,10,1013,4,10,1014,3,10,1015,3,10,1016,3,10,1017,4,11,2036,4,11,2037,4,11,2038,2,11,2039,2,11,2040,2,11,2041,2,11,2042,2,11,2043,2,11,2044,4,11,2045,3,11,2046,3,12,4094,3,12,4095,3])};b.wMa={width:2,table:new Uint16Array([1,0,4,8,4,9,4,10,4,11,5,24,5,25,5,26,5,27,7,112,7,113,7,114,7,115,8,232,8,233,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,8,242,8,243,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,10,1E3,10,1001,10,1002,10,1003,10,1004,10,1005,10,1006,10,1007,10,1008,10,1009,10,1010,10,1011,11,2024,11,2025,11,2026,11,2027,11,2028,11,2029,11,2030,11,2031,11,2032,11,2033,11,2034,11,2035,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,12,4084,12,4085,12,4086,12,4087,12,4088,12,4089,12,4090,12,4091,12,4092,12,4093,13,8188,13,8189,13,8190,13,8191])};b.xMa={width:2,table:new Uint16Array([4,0,4,1,4,2,4,3,4,4,4,5,4,6,4,7,4,8,6,36,6,37,6,38,6,39,6,40,6,41,6,42,6,43,6,44,6,45,6,46,6,47,6,48,6,49,6,50,6,51,7,104,7,105,7,106,7,107,7,108,7,109,7,110,7,111,7,112,7,113,7,114,7,115,7,116,8,234,8,235,8,236,8,237,8,238,8,239,8,240,8,241,9,484,9,485,9,486,9,487,9,488,9,489,9,490,9,491,9,492,9,493,9,494,9,495,9,496,9,497,9,498,9,499,9,500,9,501,9,502,9,503,9,504,9,505,9,506,10,1014,10,1015,10,1016,10,1017,10,1018,10,1019,10,1020,10,1021,11,2044,11,2045,11,2046,11,2047])};b.yMa={width:3,table:new Uint16Array([1,0,0,3,4,1,3,5,1,4,12,2,6,52,2,6,53,2,6,54,1,6,55,1,7,112,2,7,113,2,7,114,2,7,115,1,7,116,1,8,234,2,8,235,2,8,236,2,8,237,2,8,238,2,8,239,2,8,240,2,8,241,2,8,242,1,8,243,1,9,488,2,9,489,2,9,490,2,9,491,1,9,492,2,9,493,1,9,494,2,9,495,2,9,496,2,9,497,2,9,498,2,9,499,2,9,500,2,9,501,2,10,1004,2,10,1005,1,10,1006,1,10,1007,2,10,1008,2,10,1009,2,10,1010,2,10,1011,2,10,1012,2,10,1013,2,10,1014,2,10,1015,2,10,1016,2,10,1017,2,10,1018,2,11,2038,1,11,2039,1,11,2040,2,11,2041,2,11,2042,2,11,2043,2,11,2044,2,11,2045,2,12,4092,2,12,4093,2,12,4094,2,12,4095,2])};b.zMa={width:3,table:new Uint16Array([3,0,2,4,2,2,4,3,1,4,4,2,4,5,1,4,6,2,5,14,0,5,15,1,5,16,1,5,17,2,5,18,2,5,19,2,5,20,2,6,42,2,6,43,2,6,44,2,6,45,2,6,46,2,6,47,1,6,48,1,6,49,2,6,50,2,6,51,2,7,104,2,7,105,2,7,106,2,7,107,2,7,108,2,7,109,2,7,110,2,7,111,1,7,112,2,7,113,1,7,114,2,7,115,2,7,116,2,7,117,2,8,236,2,8,237,2,8,238,2,8,239,1,8,240,2,8,241,1,8,242,2,8,243,2,8,244,2,8,245,2,8,246,2,8,247,2,8,248,2,8,249,2,8,250,2,9,502,2,9,503,2,9,504,1,9,505,2,9,506,1,9,507,2,9,508,2,9,509,2,10,1020,2,10,1021,1,10,1022,1,10,1023,2])};b.AMa={width:3,table:new Uint16Array([1,0,0,3,4,1,3,5,1,4,12,2,6,52,2,6,53,2,6,54,1,6,55,1,7,112,2,7,113,2,7,114,2,8,230,1,8,231,1,8,232,2,8,233,2,8,234,2,8,235,2,8,236,2,8,237,2,9,476,2,9,477,2,9,478,1,9,479,1,9,480,2,9,481,2,9,482,2,9,483,2,9,484,2,9,485,2,9,486,2,10,974,1,10,975,2,10,976,1,10,977,2,10,978,2,10,979,2,10,980,2,10,981,2,10,982,2,10,983,2,10,984,2,10,985,1,10,986,2,10,987,2,10,988,2,10,989,2,10,990,2,10,991,2,10,992,2,10,993,2,11,1988,1,11,1989,2,11,1990,2,11,1991,2,11,1992,1,11,1993,2,11,1994,2,11,1995,2,11,1996,2,11,1997,1,11,1998,2,11,1999,2,11,2E3,2,11,2001,2,11,2002,1,11,2003,1,11,2004,2,11,2005,2,11,2006,2,11,2007,2,11,2008,2,11,2009,2,11,2010,2,11,2011,2,11,2012,2,11,2013,2,11,2014,2,11,2015,2,11,2016,2,11,2017,1,11,2018,2,12,4038,2,12,4039,2,12,4040,1,12,4041,2,12,4042,2,12,4043,2,12,4044,2,12,4045,2,12,4046,2,12,4047,2,12,4048,2,12,4049,2,12,4050,2,12,4051,2,12,4052,2,12,4053,2,12,4054,2,12,4055,2,12,4056,2,12,4057,2,12,4058,2,12,4059,2,12,4060,2,12,4061,1,12,4062,2,12,4063,2,12,4064,1,12,4065,2,12,4066,2,12,4067,2,12,4068,2,12,4069,2,12,4070,2,12,4071,2,12,4072,1,12,4073,2,12,4074,2,12,4075,2,13,8152,2,13,8153,2,13,8154,2,13,8155,2,13,8156,2,13,8157,2,13,8158,2,13,8159,2,13,8160,2,13,8161,2,13,8162,2,13,8163,2,13,8164,1,13,8165,2,13,8166,2,13,8167,1,13,8168,2,13,8169,2,13,8170,2,13,8171,2,13,8172,1,13,8173,2,13,8174,2,13,8175,2,13,8176,2,13,8177,2,13,8178,2,13,8179,2,13,8180,2,13,8181,2,13,8182,2,13,8183,2,14,16368,2,14,16369,2,14,16370,2,14,16371,2,14,16372,2,14,16373,2,14,16374,2,14,16375,2,14,16376,2,14,16377,2,14,16378,2,14,16379,2,14,16380,2,14,16381,2,15,32764,2,15,32765,2,15,32766,2,15,32767,2])};b.rMa={width:3,table:new Uint16Array([4,0,2,4,1,2,4,2,2,5,6,2,5,7,1,5,8,1,5,9,2,5,10,2,5,11,2,5,12,2,5,13,2,6,28,1,6,29,1,6,30,2,6,31,2,6,32,2,6,33,2,6,34,0,6,35,2,6,36,2,6,37,1,6,38,1,6,39,2,6,40,2,6,41,2,7,84,2,7,85,2,7,86,2,7,87,2,7,88,2,7,89,2,7,90,2,7,91,2,7,92,2,7,93,1,7,94,2,7,95,1,7,96,2,7,97,2,7,98,2,7,99,2,7,100,2,8,202,2,8,203,2,8,204,2,8,205,2,8,206,2,8,207,2,8,208,2,8,209,1,8,210,2,8,211,1,8,212,2,8,213,2,8,214,2,8,215,2,8,216,2,8,217,2,8,218,2,8,219,2,8,220,2,8,221,2,8,222,2,8,223,2,8,224,2,8,225,2,8,226,2,9,454,2,9,455,2,9,456,2,9,457,1,9,458,2,9,459,2,9,460,2,9,461,2,9,462,2,9,463,1,9,464,2,9,465,2,9,466,2,9,467,2,9,468,2,9,469,2,9,470,2,9,471,2,9,472,2,9,473,2,9,474,2,9,475,2,9,476,2,9,477,2,9,478,2,9,479,2,9,480,2,9,481,1,9,482,2,9,483,1,9,484,2,10,970,2,10,971,2,10,972,2,10,973,2,10,974,2,10,975,2,10,976,1,10,977,2,10,978,2,10,979,2,10,980,2,10,981,2,10,982,2,10,983,1,10,984,2,10,985,2,10,986,2,10,987,2,10,988,2,10,989,2,10,990,2,10,991,2,10,992,2,10,993,2,10,994,2,10,995,2,10,996,2,10,997,2,10,998,2,10,999,2,10,1E3,2,10,1001,1,10,1002,2,10,1003,1,10,1004,2,10,1005,1,10,1006,2,10,1007,2,10,1008,2,10,1009,2,10,1010,2,11,2022,2,11,2023,2,11,2024,2,11,2025,2,11,2026,2,11,2027,2,11,2028,2,11,2029,2,11,2030,2,11,2031,2,11,2032,1,11,2033,2,11,2034,1,11,2035,2,11,2036,2,11,2037,2,11,2038,1,11,2039,2,11,2040,2,11,2041,2,11,2042,1,11,2043,2,12,4088,2,12,4089,2,12,4090,2,12,4091,2,12,4092,2,12,4093,1,12,4094,2,12,4095,2])};b.sMa={width:4,table:new Uint16Array([4,0,0,0,4,1,2,0,5,4,2,2,5,5,1,0,5,6,1,0,5,7,2,0,5,8,2,0,5,9,2,0,6,20,2,0,6,21,2,0,6,22,2,0,6,23,1,0,6,24,2,0,6,25,1,0,6,26,2,0,7,54,2,0,7,55,2,0,7,56,2,0,7,57,2,0,7,58,2,0,7,59,2,0,7,60,1,0,7,61,1,0,7,62,2,0,7,63,2,0,7,64,2,0,7,65,2,0,7,66,2,0,7,67,2,0,7,68,2,0,7,69,2,0,8,140,2,0,8,141,2,0,8,142,2,0,8,143,2,0,8,144,2,0,8,145,2,0,8,146,2,0,8,147,2,1,8,148,2,1,8,149,2,1,8,150,2,1,8,151,2,1,8,152,2,0,8,153,2,1,8,154,1,0,8,155,2,0,8,156,1,0,8,157,2,1,8,158,2,0,8,159,2,1,8,160,2,1,8,161,2,1,8,162,2,1,8,163,2,0,8,164,2,0,8,165,2,0,8,166,2,0,8,167,2,0,8,168,2,1,8,169,2,1,8,170,2,0,8,171,2,0,8,172,2,1,8,173,2,1,8,174,2,1,8,175,2,0,8,176,2,0,8,177,2,1,8,178,2,0,8,179,2,1,8,180,2,1,8,181,2,1,8,182,2,0,8,183,2,1,8,184,2,0,8,185,2,0,8,186,2,1,8,187,2,1,8,188,2,0,8,189,2,0,8,190,2,0,8,191,1,0,8,192,2,1,8,193,2,1,8,194,2,0,8,195,2,0,8,196,2,0,8,197,2,0,8,198,1,0,9,398,2,0,9,399,2,1,9,400,2,1,9,401,2,0,9,402,2,0,9,403,2,1,9,404,2,0,9,405,2,1,9,406,2,0,9,407,2,0,9,408,2,0,9,409,2,0,9,410,2,0,9,411,2,0,9,412,2,0,9,413,2,1,9,414,2,0,9,415,2,0,9,416,1,0,9,417,2,0,9,418,2,0,9,419,2,0,9,420,2,0,9,421,2,0,9,422,2,0,9,423,1,0,9,424,2,0,9,425,2,0,9,426,2,0,9,427,2,0,9,428,2,0,9,429,2,0,9,430,2,0,9,431,2,0,9,432,2,0,9,433,2,0,9,434,2,0,9,435,2,0,9,436,2,0,9,437,2,0,9,438,1,0,9,439,2,0,9,440,2,0,9,441,2,0,9,442,2,0,9,443,2,0,9,444,2,0,9,445,2,0,9,446,2,0,9,447,2,0,9,448,2,0,9,449,2,0,9,450,1,1,9,451,2,0,9,452,2,0,10,906,2,0,10,907,2,0,10,908,2,0,10,909,2,0,10,910,1,1,10,911,2,0,10,912,1,0,10,913,2,0,10,914,2,0,10,915,2,0,10,916,2,0,10,917,2,0,10,918,2,0,10,919,2,0,10,920,2,0,10,921,2,0,10,922,2,0,10,923,2,0,10,924,2,0,10,925,2,0,10,926,2,0,10,927,2,0,10,928,2,0,10,929,2,0,10,930,2,0,10,931,2,0,10,932,2,0,10,933,2,0,10,934,2,0,10,935,2,0,10,936,2,0,10,937,2,0,10,938,2,0,10,939,2,0,10,940,2,0,10,941,2,0,10,942,2,0,10,943,1,0,10,944,2,0,10,945,2,0,10,946,2,0,10,947,2,0,10,948,2,0,10,949,2,0,10,950,2,0,10,951,2,0,10,952,2,0,10,953,2,0,10,954,2,0,10,955,2,0,10,956,2,0,10,957,2,0,10,958,2,0,10,959,2,0,10,960,2,0,10,961,2,0,10,962,1,0,10,963,2,0,10,964,2,0,10,965,2,0,10,966,2,0,10,967,2,0,10,968,2,0,10,969,2,0,10,970,2,0,10,971,2,0,10,972,2,0,10,973,2,0,10,974,2,0,10,975,2,0,10,976,2,0,10,977,2,0,10,978,2,0,10,979,2,0,10,980,2,0,10,981,2,0,10,982,2,0,10,983,2,0,10,984,2,0,10,985,2,0,10,986,2,0,10,987,2,0,10,988,2,0,10,989,2,0,10,990,1,0,10,991,1,0,10,992,2,0,10,993,2,0,10,994,2,0,10,995,2,0,10,996,2,0,10,997,2,0,10,998,2,0,10,999,2,0,10,1E3,2,0,11,2002,2,0,11,2003,2,0,11,2004,2,0,11,2005,2,0,11,2006,2,0,11,2007,2,0,11,2008,2,0,11,2009,2,0,11,2010,2,0,11,2011,2,0,11,2012,2,0,11,2013,2,0,11,2014,2,0,11,2015,2,0,11,2016,2,0,11,2017,2,0,11,2018,2,0,11,2019,1,0,11,2020,2,0,11,2021,2,0,11,2022,1,0,11,2023,2,0,11,2024,1,0,11,2025,2,0,11,2026,2,0,11,2027,2,0,11,2028,1,0,11,2029,2,0,11,2030,2,0,11,2031,2,0,11,2032,2,0,11,2033,2,0,11,2034,1,0,11,2035,1,0,11,2036,2,0,11,2037,2,0,11,2038,2,0,11,2039,2,0,11,2040,1,0,11,2041,2,0,11,2042,2,0,11,2043,1,0,11,2044,2,0,12,4090,1,0,12,4091,1,0,12,4092,2,0,12,4093,1,0,12,4094,1,0,12,4095,2,0])};b.BMa={width:2,table:new Uint32Array([1,0,3,4,4,10,4,11,4,12,5,26,5,27,6,56,6,57,6,58,6,59,7,120,7,121,7,122,8,246,8,247,8,248,8,249,8,250,9,502,9,503,9,504,9,505,10,1012,10,1013,10,1014,10,1015,10,1016,10,1017,11,2036,11,2037,11,2038,11,2039,11,2040,11,2041,12,4084,12,4085,12,4086,12,4087,12,4088,12,4089,13,8180,13,8181,13,8182,13,8183,13,8184,14,16370,14,16371,14,16372,14,16373,14,16374,14,16375,14,16376,14,16377,15,32756,15,32757,15,32758,15,32759,16,65520,16,65521,16,65522,16,65523,16,65524,16,65525,16,65526,17,131054,17,131055,17,131056,18,262114,18,262115,18,262116,18,262117,18,262118,18,262119,18,262120,19,524242,19,524243,19,524244,19,524245,19,524246,19,524247,19,524248,19,524249,19,524250,19,524251,19,524252,19,524253,19,524254,19,524255,19,524256,19,524257,19,524258,19,524259,19,524260,19,524261,19,524262,19,524263,19,524264,19,524265,19,524266,19,524267,19,524268,19,524269,19,524270,19,524271,19,524272,19,524273,19,524274,19,524275,19,524276,19,524277,19,524278,19,524279,19,524280,19,524281,19,524282,19,524283,19,524284,19,524285,19,524286,19,524287])};},function(r,b){var a,c,l,g,m,d,f,h,k,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.iyb=b.Dvb=b.kyb=b.Fyb=b.Gyb=b.wUa=b.vUa=void 0;r=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,64,72,80,88,96,108,120,132,144,156,172,188,212,240,276,320,384,448,512,576,640,704,768,832,896,960,1024]);a=new Uint16Array([0,4,8,12,16,20,24,32,40,48,64,92,128]);c=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,64,72,80,88,100,112,124,140,156,172,192,216,240,268,304,344,384,424,464,504,544,584,624,664,704,744,784,824,864,904,944,984,1024]);l=new Uint16Array([0,4,8,12,16,20,24,32,40,48,64,92,128]);g=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,48,56,64,72,80,88,96,108,120,132,144,160,176,196,216,240,264,292,320,352,384,416,448,480,512,544,576,608,640,672,704,736,768,800,832,864,896,928,1024]);m=new Uint16Array([0,4,8,12,16,20,28,36,44,56,68,80,96,112,128]);d=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,48,56,64,72,80,88,96,108,120,132,144,160,176,196,216,240,264,292,320,352,384,416,448,480,512,544,576,608,640,672,704,736,768,800,832,864,896,928,960,992,1024]);f=new Uint16Array([0,4,8,12,16,20,24,28,32,36,40,44,52,60,68,76,84,92,100,108,116,124,136,148,160,172,188,204,220,240,260,284,308,336,364,396,432,468,508,552,600,652,704,768,832,896,960,1024]);h=new Uint16Array([0,4,8,12,16,20,24,28,36,44,52,64,76,92,108,128]);k=new Uint16Array([0,8,16,24,32,40,48,56,64,72,80,88,100,112,124,136,148,160,172,184,196,212,228,244,260,280,300,320,344,368,396,424,456,492,532,572,616,664,716,772,832,896,960,1024]);n=new Uint16Array([0,4,8,12,16,20,24,28,32,40,48,60,72,88,108,128]);p=new Uint16Array([0,12,24,36,48,60,72,84,96,108,120,132,144,156,172,188,204,220,236,252,268,288,308,328,348,372,396,420,448,476,508,544,580,620,664,712,764,820,880,944,1024]);q=new Uint16Array([0,4,8,12,16,20,24,28,36,44,52,60,72,88,108,128]);b.vUa=[r,r,c,g,g,d,f,f,k,k,k,p];b.wUa=[a,a,l,m,m,m,h,h,n,n,n,q];b.Gyb=new Uint8Array([12,12,12,14,14,14,15,15,15,15,15,15]);b.Fyb=new Uint8Array([41,41,47,49,49,51,47,47,43,43,43,40]);b.kyb=(function(){for(var v=new Float32Array(428),t=0;428 > t;t++){v[t]=Math.pow(2,(t - 200) / 4);}return v;})();b.Dvb=(function(){for(var v=new Float32Array(8191),t=4 / 3,w=0;8191 > w;w++){v[w]=Math.pow(w,t);}return v;})();b.iyb=new Int32Array([96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350]);},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.tib=void 0;b.tib=function(a,c,l){15 === c && (c+=a.read(8) - 1);0 < c && 1 !== l.RA && !l.kL?(a.write(4,0),a.advance(8 * c - 4)):a.advance(8 * c);};},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.aF=void 0;c=a(249);l=a(832);b.aF=function(g,m,d){var f;f=new c.g3(g);m=l.q0a(f,m,null === d || void 0 === d?void 0:d.tK).gVb;g=g.subarray(0,m);l.Olb(g);return {frame:g,eBa:m};};},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Olb=b.q0a=void 0;c=a(250);l=a(833);b.q0a=function(g,m,d){var f,h;f=g.read(16);c.assert(2935 === f);f=2 * ((g.read(16) & 2047) + 1);g.advance(13);h=g.read(5);g.reverse(5);d && (m*=-h / d);g.write(5,Math.min(31,Math.max(1,Math.floor(h + m))));return {gVb:f};};b.Olb=function(g){var m;m=l.B3a(g.subarray(2,g.length - 2));g[g.length - 2]=m >> 8;g[g.length - 1]=m & 255;};},function(r,b){var a;Object.defineProperty(b,"__esModule",{value:!0});b.B3a=void 0;a=new Uint16Array([0,32773,32783,10,32795,30,20,32785,32819,54,60,32825,40,32813,32807,34,32867,102,108,32873,120,32893,32887,114,80,32853,32863,90,32843,78,68,32833,32963,198,204,32969,216,32989,32983,210,240,33013,33023,250,33003,238,228,32993,160,32933,32943,170,32955,190,180,32945,32915,150,156,32921,136,32909,32903,130,33155,390,396,33161,408,33181,33175,402,432,33205,33215,442,33195,430,420,33185,480,33253,33263,490,33275,510,500,33265,33235,470,476,33241,456,33229,33223,450,320,33093,33103,330,33115,350,340,33105,33139,374,380,33145,360,33133,33127,354,33059,294,300,33065,312,33085,33079,306,272,33045,33055,282,33035,270,260,33025,33539,774,780,33545,792,33565,33559,786,816,33589,33599,826,33579,814,804,33569,864,33637,33647,874,33659,894,884,33649,33619,854,860,33625,840,33613,33607,834,960,33733,33743,970,33755,990,980,33745,33779,1014,1020,33785,1E3,33773,33767,994,33699,934,940,33705,952,33725,33719,946,912,33685,33695,922,33675,910,900,33665,640,33413,33423,650,33435,670,660,33425,33459,694,700,33465,680,33453,33447,674,33507,742,748,33513,760,33533,33527,754,720,33493,33503,730,33483,718,708,33473,33347,582,588,33353,600,33373,33367,594,624,33397,33407,634,33387,622,612,33377,544,33317,33327,554,33339,574,564,33329,33299,534,540,33305,520,33293,33287,514]);b.B3a=function(c,l){void 0 === l && (l=0);l=~~l;for(var g=0;g < c.length;g++){l=(a[(l >> 8 ^ c[g]) & 255] ^ l << 8) & 65535;}return l;};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=(function(l){function g(){return null !== l && l.apply(this,arguments) || this;}c.__extends(g,l);g.prototype.parse=function(m){this.ePb=this.R.BC();m && m.Ff && (m.Ff.cec=this.ePb);return !0;};g.xf="frma";return g;})(a(24).Ag);b.default=r;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(836);g=a(251);m=a(102);d=a(179);f=a(24);r=a(388);h=a(389);k=a(391);n=a(149);p=a(243);q=a(103);v=a(392);t=a(839);a=(function(){function w(u,x,y,z,B,A){this.console=u;this.stream=x;this.Gw=z;this.wGb=B;this.view=y instanceof ArrayBuffer?new DataView(y):new DataView(y.data,y.offset,y.length);this.config=A || ({});this.y_b=n.IWb();}w.path=function(u,x){return x.reduce(function(y,z){return y && y.ve[z] && y.ve[z][0];},u);};w.QXb=function(u){return u && u.wra && -1 !== u.wra.indexOf("mcl0")?"mcl0":void 0;};w.qUb=function(u,x){var y,z;m.assert("mcl0" === u,"Unsupported McClearen brand");y=x.ma;u=y.ye;x=new d.N(120,1).Yf(y.W).Ea;z=0;for(y=y.qo;z < u.length && y < x;){y+=u[z++];}return z;};w.prototype.parse=function(u){var x;x=this.qec();if(!x.done){if(x.Afb)return {rw:!1,xGb:x.Afb};this.console.error("Scan error: " + x.error);return {rw:!1,parseError:x.error || "unknown mp4 scan error"};}if(null === u || void 0 === u?0:u.da)u.a9b=u.da;this.view=new DataView(this.view.buffer,this.view.byteOffset,x.offset);u=this.x9b(u);return u.done?this.QLb():(this.console.error("Parse error: " + u.error),{rw:!1,parseError:u.error || "unknown mp4 parse error"});};w.prototype.zB=function(u){return f.Ag.zB(this,u);};w.prototype.vq=function(u){return f.Ag.vq(this,u);};w.prototype.qec=function(){var u,x;u=new v.Nub(this.Gw,this.wGb?[q.V4,q.U4]:[],this.config && this.config.Gxc || ["moof",q.tQa],this.config && this.config.pBa);x=c.__assign(c.__assign({},this.config),{oBa:!1});return new k.nia(w.MDa,u,this.view,this.console,x).parse();};w.prototype.x9b=function(u){var x,y,z;x=new v.zKa(this.view.byteLength);y=Object.create(p.TQ.ve);this.config && ((this.config.nBa || this.config.qob || this.config.fga) && l(p.TQ.EDa,y),this.config.bGa && l(p.TQ.ujc,y),this.config.qob && l(p.TQ.rob,y));z=c.__assign(c.__assign({},this.config),{oBa:!0});this.xg=new k.nia(y,x,this.view,this.console,z);u=this.xg.parse(u);u.done && (this.ve=this.xg.ve);return u;};w.prototype.QLb=function(){var u,x,y,z,B,A,C,D;u={rw:!0};x=w.path(this,["moov"]);y=null === x || void 0 === x?void 0:x.zB("trak");if(1 === (null === y || void 0 === y?void 0:y.length)){z=y[0].Vq("tkhd");z && (u.trackId=z.fd.trackId);}z=w.path(x,["trak","mdia","minf","stbl","stsd"]);if(this.config.nBa)if(z)(u.da=z.da,u.Twc=z.ve);else return {rw:!1,parseError:"Missing sample descriptions"};B=w.path(z,["encv","sinf","schi"]);B && (B=w.path(B,["tenc"]) || w.path(B,[q.eRa])) && (u.FSb={ctc:B.Gq,hya:B.hya,dvc:!1});if(B=w.path(x,["trak","mdia","mdhd"]))u.W=B.W;if(B=w.path(x,["mvex","trex"]))u.L9=B && B.fd.L9;u.L9 && u.W && (u.da=new d.N(u.L9,u.W));if(B=w.path(this,["sidx"])){A=w.path(this,[q.V4]);A=A && A.F5b;C=w.path(this,[q.U4]);C=C && C.Xk;u.ma=B.ma;u.SQ=A;u.Xk=C;}if(A=this.ve.vmaf && this.ve.vmaf[0])u.wz=A.wz;if(this.config.bDa && (A=w.path(x,["mvex"])) && y && y.length){D=y.reduce(function(E,G){return G.byteOffset > E.byteOffset?G:E;});D.byteOffset > A.byteOffset && (y=new Uint8Array(this.view.buffer,this.view.byteOffset,this.view.byteLength),C=t.Cob(y,A.byteOffset,A.byteOffset + A.byteLength),D=t.Cob(y,A.byteOffset + A.byteLength,D.byteOffset + D.byteLength),y.set(D,A.byteOffset),y.set(C,A.byteOffset + D.byteLength));}if(this.config.ukb)if(x)(this.trim(x.byteOffset + x.byteLength),this.config.fga && z && 1 < z.oP && B && (u.dh=this.fga(z,B)),void 0 === u.dh && (x=this.xg.PX?g.concat(this.xg.Ka()):this.view.buffer,u.dh=[{ze:0,data:x}]));else return {rw:!1,parseError:"Missing movie box"};u.rw=!0;u.fea=this.xg.offset;return u;};w.prototype.trim=function(u){var x;x=this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + Math.min(u,this.view.byteLength));this.xg.trim(u);this.view=new DataView(x);};w.prototype.fga=function(u,x){var y,z,B;y=Object.keys(u.ve);z=y.filter(function(A){return "encv" !== A;});if(!(2 > y.length || z.length === y.length || 0 === z.length)){y=w.path(this,["ftyp"]);B=w.QXb(y);if(B)return (y=[],this.xg.wbc(),u.Jjb("encv"),y.push({ze:0,Im:!1,data:g.concat(this.xg.Ka())}),this.xg.S$b(),u.Jjb(z[0]),u=w.qUb(B,x),y.push({ze:u,Im:!0,data:g.concat(this.xg.Ka())}),y);}};w.MDa={};return w;})();b.Zu=a;a.MDa[q.tka]=r.default;a.MDa[q.uka]=h.default;},function(r){r.exports=function l(a,c){var g;a.__proto__ && a.__proto__ !== Object.prototype && l(a.__proto__,c);Object.getOwnPropertyNames(a).forEach(function(m){g=Object.getOwnPropertyDescriptor(a,m);void 0 !== g && Object.defineProperty(c,m,g);});};},function(r,b,a){var c,l,g,m,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(102);g=a(251);m=a(89);r=a(838);d=(function(){function f(h){h?(this.Rq=h.Rq.slice(),this.Lu=h.Lu.slice(),this.Qi=h.Qi.slice(),this.trim=h.trim):(this.Rq=[],this.Lu=[],this.Qi=[]);}Object.defineProperties(f.prototype,{empty:{get:function(){return 0 === this.Rq.length && 0 === this.Lu.length && 0 === this.Qi.length;},enumerable:!0,configurable:!0}});return f;})();r=(function(f){function h(k,n,p){k=f.call(this,k,n,p) || this;k.M5a=[];k.Me=new d();return k;}c.__extends(h,f);h.eHb=function(k,n){if(n.offset + n.size <= k.byteLength)switch(n.size){case 1:k.setUint8(n.offset,n.value);break;case 2:n.y1?k.setInt16(n.offset,n.value):k.setUint16(n.offset,n.value);break;case 4:n.y1?k.setInt32(n.offset,n.value):k.setUint32(n.offset,n.value);break;case 8:l.assert(!n.y1);k.setUint32(n.offset,Math.floor(n.value / 4294967296));k.setUint32(n.offset + 4,n.value & 4294967295);break;default:l.assert(!1);}};Object.defineProperties(h.prototype,{PX:{get:function(){return !this.Me.empty;},enumerable:!0,configurable:!0}});h.prototype.wha=function(k,n){this.Me.Lu.push({offset:void 0 !== n?n:this.offset,value:k,size:1});void 0 === n && (this.offset+=1);};h.prototype.jmc=function(k){this.Me.Lu.push({offset:!1,value:k,size:2,y1:!1});};h.prototype.Sw=function(k,n){this.Me.Lu.push({offset:void 0 !== n?n:this.offset,value:k,size:4,y1:!1});void 0 === n && (this.offset+=4);};h.prototype.kmc=function(k,n){this.Me.Lu.push({offset:void 0 !== n?n:this.offset,value:k,size:8,y1:!1});void 0 === n && (this.offset+=8);};h.prototype.tqb=function(k){this.Sw(m.jXa(k));};h.prototype.eHa=function(k,n){this.Me.Qi.push({offset:this.offset,Hr:k,value:n});this.offset+=4;};h.prototype.jo=function(k,n,p){this.Me.Rq.push({offset:n,remove:k,yb:p});};h.prototype.ffa=function(k,n,p,q){this.Me.Rq.push({offset:p,remove:k,replace:n,yb:q});};h.prototype.trim=function(k){this.Me.trim=k;};h.prototype.wbc=function(){this.M5a.push(new d(this.Me));};h.prototype.S$b=function(){this.Me=this.M5a.pop() || new d();};h.prototype.Ka=function(){var k,n,p,q,v,t,w,u,x;k=this;if(0 === this.Me.Rq.length && 0 === this.Me.Lu.length && 0 === this.Me.Qi.length)return [void 0 === this.Me.trim?this.view.buffer:this.view.buffer.slice(0,this.Me.trim)];this.Me.Rq.sort(function(y,z){return y.offset - z.offset;});this.Me.Lu.sort(function(y,z){return y.offset - z.offset;});this.Gdc();n=this.hUb();p=new Uint8Array(this.view.buffer.slice(this.view.byteOffset,this.view.byteOffset + n));q=new DataView(p.buffer,p.byteOffset,p.byteLength);this.Me.Lu.forEach(h.eHb.bind(void 0,q));this.fkc(q);this.ekc(q);v=[];t=void 0 !== this.Me.trim?Math.min(this.Me.trim,this.view.byteLength):this.view.byteLength;w=0;u=!0;this.Me.Rq.filter(function(y){return y.offset <= t;}).forEach(function(y){y.offset > w && (v.push(p.subarray(w,y.offset)),u && y.offset > n && (u=!1,p=new Uint8Array(k.view.buffer,k.view.byteOffset,k.view.byteLength),v.push(p.subarray(n,y.offset))));y.replace && v.push(new Uint8Array(y.replace));w=y.offset + y.remove;});w < n && v.push(p.subarray(w));w < t && (q=Math.max(n,w),v.push(new Uint8Array(this.view.buffer,this.view.byteOffset + q,t - q)));q=v.reduce(function(y,z){return y + z.byteLength;},0);x=new Uint8Array(q);v.reduce(function(y,z){x.set(z,y);return y + z.byteLength;},0);return [x.buffer];};h.prototype.hUb=function(){var k,n,p;k=[];n=this.Me.Lu[this.Me.Lu.length - 1];p=this.Me.Qi[this.Me.Qi.length - 1];n && k.push(n.offset + n.size);p && k.push(p.offset + 4);this.Me.Rq.filter(function(q){return q.yb;}).forEach(function(q){return k.push(q.yb.byteOffset + 4);});n=Math.max.apply(void 0,k);return void 0 !== this.Me.trim?Math.min(n,this.Me.trim):n;};h.prototype.Gdc=function(){this.Me.Rq=this.Me.Rq.reduce(function(k,n){var p,q;if(0 === k.length)return (k.push(n),k);p=k[k.length - 1];q=p.offset + p.remove;n.offset >= q?k.push(n):n.offset + n.remove > q && (l.assert(p.yb === n.yb),p.remove+=n.offset + n.remove - q,n.replace && (p.replace=p.replace?g.concat(p.replace,n.replace):n.replace));return k;},[]);};h.prototype.fkc=function(k){var n;n=this;this.Me.Qi.forEach(function(p){var q,v,t,w;q=k;v=p.offset;n.Me.Rq.some(function(u){return u.offset <= p.offset && u.replace && u.offset + u.replace.byteLength >= p.offset + 4?(q=new DataView(u.replace),v=p.offset - u.offset,!0):!1;});t=p.Hr + (void 0 !== p.value?p.value:q.getInt32(v));w=n.Me.Rq.reduce(function(u,x){return x.offset > p.Hr && x.offset < t?u + (x.remove - (x.replace?x.replace.byteLength:0)):u;},0);q.setInt32(v,t - p.Hr - w);});};h.prototype.ekc=function(k){this.Me.Rq.forEach(function(n){var p;p=(n.remove || 0) - (n.replace?n.replace.byteLength:0);if(0 !== p)for(n=n.yb;n;){k.setUint32(n.byteOffset,k.getUint32(n.byteOffset) - p);n=n.parent;}});};return h;})(r.fzb);b.ezb=r;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(149);a(149);l=a(89);r=(function(){function g(m,d,f){this.view=m;this.console=d;this.config=f;this.view=m;this.console=d;this.Vd=this.pt=this.offset=0;}g.prototype.C8a=function(m){return new DataView(this.view.buffer,this.view.byteOffset + this.offset,m);};g.prototype.Nd=function(m){for(;this.Vd < m;){this.pt=(this.pt << 8) + this.Md();this.Vd+=8;}this.Vd-=m;return this.pt >>> this.Vd & (1 << m) - 1;};g.prototype.Md=function(){var m;m=this.view.getUint8(this.offset);this.offset+=1;return m;};g.prototype.Dh=function(m){m=this.view.getUint16(this.offset,m);this.offset+=2;return m;};g.prototype.jc=function(m){m=this.view.getUint32(this.offset,m);this.offset+=4;return m;};g.prototype.Tea=function(){var m;m=this.view.getInt32(this.offset,void 0);this.offset+=4;return m;};g.prototype.V9b=function(m,d){var f;f=this.view.getUint32(this.offset + (m?4:0),m);m=this.view.getUint32(this.offset + (m?0:4),m);d || 0 === (f & 4278190080) || this.console.warn("Warning: read unsigned value > 56 bits");return 4294967296 * f + m;};g.prototype.im=function(m,d){m=this.V9b(m,d);this.offset+=8;return m;};g.prototype.X9b=function(){var m,d;m=this.view.getInt32(this.offset + 0,void 0);d=this.view.getUint32(this.offset + 4,void 0);0 === ((0 < m?m:-m) & 4278190080) || this.console.warn("Warning: read signed value > 56 bits");return 4294967296 * m + d;};g.prototype.Mbc=function(){var m;m=this.X9b();this.offset+=8;return m;};g.prototype.BC=function(){return l.sN(this.jc());};g.prototype.Uea=function(){var d,f,h,k,n,p;function m(q,v){return ("000000" + q.toString(16)).slice(2 * -v);}d=this.jc(!0);f=this.Dh(!0);h=this.Dh(!0);k=this.Dh();n=this.Dh();p=this.jc();return [m(d,4),m(f,2),m(h,2),m(k,2),m(n,2) + m(p,4)].join("-");};g.prototype.Rea=function(m){var d;d=this.view.byteOffset + this.offset;d=this.view.buffer.slice(d,d + m);this.offset+=m;return d;};g.prototype.Gbc=function(m){var d;d=[];if(0 === m)return "";m=m || Number.MAX_SAFE_INTEGER;for(var f=this.Md();0 !== f && 0 <= --m;){d.push(f);f=this.Md();}return String.fromCharCode.apply(null,d);};g.prototype.Qea=function(m){var d,f;void 0 === d && (d=1);void 0 === f && (f=!0);return this.ol(this.config.MS && c.EZb || c.UP,1,m,d,f);};g.prototype.Fbc=function(m){var d,f,h;d=10;f=!1;void 0 === d && (d=2);void 0 === f && (f=!0);void 0 === h && (h=!1);return this.ol(this.config.MS && c.CZb || c.Paa,2,m,d,f,h);};g.prototype.Pea=function(m,d,f){var h;void 0 === d && (d=4);void 0 === f && (f=!0);void 0 === h && (h=!1);return this.ol(this.config.MS && c.DZb || c.VY,4,m,d,f,h);};g.prototype.Ibc=function(){for(var m=this.Md(),d=m & 127;m & 128;){m=this.Md();d=d << 7 | m & 127;}return d;};g.prototype.ol=function(m,d,f,h,k,n){void 0 === k && (k=!0);void 0 === n && (n=!1);m=m(this.view,this.offset,f,h,n);this.offset=k || !h || h === d?this.offset + f * (h || d):this.offset + d;return m;};return g;})();b.fzb=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Cob=function(a,c,l){var g,m,d;g=Uint8Array;if(null !== a && void 0 !== a && a.slice)return a.slice(c,l);m=Math.min(a.length,l);d=Math.min(a.length,c);for(l=new g(Math.max(l - c,0));d < m;d++){l[d - c]=a[d];}return l;};},function(r,b,a){var l,g,m,d,f;function c(h){return "number" === typeof h[0] || void 0 === h[0]?{rj:h[0],W:h[1],RA:h[2],qDa:h[3],kL:h[4]}:h[0];}Object.defineProperty(b,"__esModule",{value:!0});l=a(0);g=a(103);r=a(252);m=a(89);d=a(102);f=a(24);a=(function(h){function k(n,p,q){return h.call(this,n,p,q) || this;}l.__extends(k,h);k.prototype.Ejb=function(){for(var n=[],p=0;p < arguments.length;p++){n[p]=arguments[p];}return this.Ka(l.__assign(l.__assign({},c(n)),{YCa:!1}));};k.prototype.Ljb=function(){for(var n=[],p=0;p < arguments.length;p++){n[p]=arguments[p];}return this.Ka(l.__assign(l.__assign({},c(n)),{YCa:!0}));};k.prototype.Ka=function(n){var q,v,t,w,u,x,y,z,B,A,C,D,E,G,F,L,O,K,I,M,H;function p(P){z=y[P];B=z.Vq("traf");if(void 0 === B || void 0 === B.ot)return !1;E=B.Vq("tfdt");if(void 0 === E)return !1;A=B.Vq("trun");return void 0 === A?!1:!0;}q=n.rj;v=n.W;t=n.YCa;w=n.RA;u=n.qDa;u=void 0 === u?!1:u;x=n.kL;x=void 0 === x?!1:x;n=n.tK;if(!this.parse().done)return !1;y=this.ve.moof;if(!y || 0 === y.length)return !1;if(void 0 !== q){C=q;for(q=0;q < y.length;++q){if(!p(q,this.xg.console.trace))return !1;d.assert(z && B && E && A && void 0 !== A.Xd);if(A.Xd > C || t && A.Xd === C)break;C-=A.Xd;}d.assert(z && B && E && A);}else if((q=t?y.length - 1:0,!p(q,this.xg.console.trace)))return !1;d.assert(z && B && E && A);if(t && q < y.length - 1){D=y[q + 1];this.xg.jo(this.view.byteOffset - D.startOffset,D.startOffset);}else !t && 0 < q && this.xg.jo(z.startOffset,0);D=B.Vq("tfhd");if(void 0 === D)return !1;E=B.Vq("tfdt");G=A.Xd;F=B.Vq("saiz");L=B.Vq("saio");O=B.Vq(g.dRa);K=B.Vq("sbgp");if(!(!F && !L || F && L))return !1;I=B.Vq("sdtp");M=f.Ag.zB(this,"mdat");if(M && q < M.length)H=M[q];else if(q !== y.length - 1)return !1;void 0 === C && (C=t?A.Xd:0);if("number" === typeof w && 0 < w){M=t?C:A.Xd - C;for(var J=Array(M),N=0;N < M;++N){J[N]=t?N >= M - w?-Infinity:0:N < w?-Infinity:0;}w=J;}if(A.Ka(B,D,H || this.xg,v,C,B.ot,t))A.PX && (d.assert(void 0 !== A.omb),d.assert(void 0 !== A.gS),!t && E && E.Ka(A.omb),F && L && (F.Ka(A.gS,t),L.Ka(O?0:F.DDa,B.ot)),O && O.Ka(A.gS,t),I && I.Ka(A.gS,G,t),K && K.Ka(A.gS,t));else if(!t){if(q === y.length - 1)return !1;this.xg.jo(y[q + 1].startOffset - z.startOffset,z.startOffset);}else if(0 === A.gS)return !1;Array.isArray(w) && H && this.stream.profile && void 0 !== u && A.C6b(B,D,H,w,this.stream.profile,u,x,n);v=this.xg.Ka();t=v.reduce(function(P,W){return P + W.byteLength;},0);v={pa:v,length:t,OK:this.xg.view.byteLength};A.PX && !H && (v.HR=B.ot + A.HR,v.us=A.us);return v;};return k;})((function(h){function k(n,p,q){return h.call(this,n,p,q) || this;}l.__extends(k,h);return k;})(r.tH));b.Uz=a;b.AQ=function(h){var k,n;k=new ArrayBuffer(8);n=new DataView(k);n.setUint32(0,h + 8);n.setUint32(4,m.jXa("mdat"));return k;};},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);r=a(252);l=a(251);a=(function(g){function m(){return null !== g && g.apply(this,arguments) || this;}c.__extends(m,g);m.prototype.Ka=function(d){var f,h,k,n;f=this;if(!this.parse().done)return !1;h=this.ve.moov;if(!h || 0 === h.length)return !1;k=h[0].vq("tenc");if(!k)return !1;n=new Uint8Array(k.Gq);d.forEach(function(p){for(var q=p.from,v=!0,t=0;t < q.length;t++){if(n[t] !== q[t]){v=!1;break;}}v && f.xg.ffa(p.from.length,p.to,k.hya);});return l.concat(this.xg.Ka());};return m;})(r.tH);b.Jja=a;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(48);b.u=r.u;},function(r,b,a){var d,f,h,k,n,p,q,v,t,w,u,x;function c(y,z,B){this.BX=z;this.gd=y.filter(function(A){return A.jGa[p.qn.U5];}).map(function(A){return {track:A,stream:A.jGa[p.qn.U5],id:A.C5a[p.qn.U5]};});B || (this.gd=this.gd.filter(function(A){return A.track.wg === z;}));}function l(y,z,B){var A;this.KL=z;this.ow=B;A=y[0];this.VL=A.streams.map(function(C){return {track:A,ZP:C.zmb,stream:C};});}function g(y,z,B,A,C){function D(E,G){return E.bitrate > G.bitrate?E:G;}this.log=y;this.KL=B;this.BX=A;this.VL=z.map(function(E){var G;G=E.streams.reduce(D);return {track:E,ZP:G.QC?G.QC.offset + G.QC.size:void 0,stream:G};});C || (this.VL=this.VL.filter(function(E){return E.track.wg === A;}));}function m(y,z,B,A,C,D){this.L_b=y;this.M_b=z;this.O$b=B;this.ZJb=A;this.SJ=C;this.ug=D;this.qa=D.cb("HLSPlaylistBuilderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.Tyb=b.dzb=b.rrb=b.EMa=void 0;r=a(0);d=a(1);f=a(383);h=a(385);k=a(4);n=a(36);p=a(42);q=a(393);v=a(394);t=a(242);w=a(7);u=a(253);x=a(48);m.prototype.hj=function(y,z){var B,A,C,D,E,G;B=this;D=y.Ra;y=this.WVb(D,z);E=this.LZb(D,z);G=null !== (C=null === (A=D.K0) || void 0 === A?void 0:A.BS) && void 0 !== C?C:D.CS.find(function(F){var L;return F.id === (null === (L=D.M9) || void 0 === L?void 0:L[0].gnb);}).wg;A=new c(D.CS,G,this.SJ.qpa);return Promise.all([y,E,A]).then(function(F){var L,O;L=oa(F);F=L.next().value;O=L.next().value;L=L.next().value;F={audio:F.getMetadata(),video:O.getMetadata(),text:L.getMetadata(),I4a:F.Tua(),LPb:L.Tua(),duration:D.duration,om:D.om};O=B.ZJb.qWb(F);z("h_s");return {S4b:B.O$b.transform(F,O),bKb:O,yhc:F};});};m.prototype.LZb=function(y,z){var B;B=new l(y.Rw,this.SJ.sab,this.SJ.ow);return this.w5a(B.VL,x.u.J,z).then(function(A){B.sEa(A);return B;});};m.prototype.WVb=function(y,z){var B,A,C,D;C=null !== (A=null === (B=y.K0) || void 0 === B?void 0:B.iq) && void 0 !== A?A:y.vv.find(function(E){var G;return E.id === (null === (G=y.M9) || void 0 === G?void 0:G[0].iq);}).wg;D=new g(this.qa,y.vv,this.SJ.Hy,C,this.SJ.qpa);return this.w5a(D.VL,x.u.T,z).then(function(E){D.sEa(E);return D;});};m.prototype.lBa=function(y,z,B,A){if(y=this.M_b.parse(z,y,B))return y;this.qa.error("Failed to parse headers",{type:z === x.u.T?"audio":"video",downloadableId:A.stream.ap});};m.prototype.w5a=function(y,z,B){var A;A=this;return Promise.all(y.map(function(C,D){if(C.ZP)return A.L_b.download({urls:C.stream.urls,offset:0,length:C.ZP}).then(function(E){B("h_" + (0 === z?"A":"V") + "_" + D + "_s");return A.lBa(E,z,z == x.u.T?A.SJ.Hy:A.SJ.jC,C);}).catch(function(){B("h_" + C.track.Vi[0] + "_" + D + "_f");A.qa.warn("Failed to download and parse headers for " + C.stream.ap);});A.qa.warn("Stream data offset is missing",{downloadableId:C.stream.ap});}));};a=m;a=r.__decorate([(0,d.$)(),r.__param(0,(0,d.l)(f.SMa)),r.__param(1,(0,d.l)(h.WMa)),r.__param(2,(0,d.l)(q.HMa)),r.__param(3,(0,d.l)(v.FJa)),r.__param(4,(0,d.l)(t.rja)),r.__param(5,(0,d.l)(w.jb))],a);b.EMa=a;g.prototype.sEa=function(y){var z;z=this;if(!y.find(function(B){return void 0 !== B;}))throw n.rd.qqb(k.aa.BNa,k.Y.fka);this.gd=this.VL.map(function(B,A){if(A=y[A])return {track:B.track,stream:B.stream,ma:A,KL:z.KL};}).filter(u.Txa);};g.prototype.getMetadata=function(){return this.gd;};g.prototype.Tua=function(){var y,z;y=this;if(!this.gd.find(function(B){return B.track.wg === y.BX;}) && 0 < this.gd.length){z=this.gd[0].track.wg;this.log.warn("Did not find metadata for audio track " + this.BX + ", falling back to " + z);return z;}return this.BX;};b.rrb=g;l.prototype.sEa=function(y){var z,B;z=this;if(!y.find(function(A){return void 0 !== A;}))throw n.rd.qqb(k.aa.BNa,k.Y.gka);B=this.VL.map(function(A,C){if(C=y[C])return {track:A.track,stream:A.stream,ma:C,KL:z.KL};}).filter(u.Txa);this.gd=this.lYb(B);};l.prototype.getMetadata=function(){return this.gd;};l.prototype.lYb=function(y){var z,B,A;z=this;y.sort(function(C){return C.stream.bitrate;});B=y.findIndex(function(C){var D;return (null !== (D=C.stream.gb) && void 0 !== D?D:0) >= z.ow;});if(-1 !== B && B !== y.length - 1){A=y[B];y.splice(B,1);y.push(A);}y.reverse();return y;};b.dzb=l;c.prototype.Tua=function(){return this.BX;};c.prototype.getMetadata=function(){return this.gd;};b.Tyb=c;},function(r,b,a){var l,g,m,d,f,h;function c(k){this.qa=k.cb("HLSPlaylistTransformerImpl");this.Ilc=d.E3.yt();this.UHb=f.Sia.yt();}Object.defineProperty(b,"__esModule",{value:!0});b.GMa=void 0;r=a(0);l=a(1);g=a(7);m=a(130);d=a(254);f=a(395);h=[0,1];c.prototype.transform=function(k,n){var p,q,v,t,w,u,x,y,z;p=this;q=["#EXTM3U","#EXT-X-VERSION:8","#EXT-X-INDEPENDENT-SEGMENTS"];v=k.text;t=k.audio;w=k.video;u=k.duration;x=k.I4a;y=k.LPb;v.forEach(function(B){h.forEach(function(A){var C,D,E,G;C=0 === A;D=B.stream;E=B.track;G=n.get(B.id);C=C?G.wR:G.Bfa;D=p.tZb({url:C.url,duration:u / 1E3,size:D.size,Mn:"Manifest for subtitles " + E.language + ' stream "' + E.IF + '", ' + E.wg + ", cdn " + C.Kh});p.qa.trace("Text variant manifest",D.join("\n"));A=p.uZb({groupId:A,name:E.IF,yxa:E.wg === y,qp:E.Qba,E1b:E.Vi === m.hr.Gha,language:E.language,uri:p.Dca(D)});q.push(A);});});t.forEach(function(B){h.forEach(function(A){var C,D,E,G,F,L;C=0 === A;D=B.stream;E=B.track;G=B.ma;F=B.KL;L=n.get(D.ap);C=C?L.wR:L.Bfa;D=p.E9a({url:C.url,ZP:D.QC.offset + D.QC.size,ma:G,wnb:Math.floor(F / 1E3),Mn:"Manifest for audio " + E.language + ' stream "' + E.IF + '", ' + E.wg + ", cdn " + C.Kh});p.qa.trace("Audio variant manifest",D.join("\n"));A=p.XVb({groupId:A,language:E.language,name:E.IF,yxa:E.wg === x,uri:p.Dca(D)});q.push(A);});});z=this.UHb[t[0].track.profile];w.forEach(function(B){h.forEach(function(A){var C,D,E,G,F,L;C=0 === A;D=B.stream;E=B.track;G=B.ma;F=B.KL;L=n.get(D.ap);L=C?L.wR:L.Bfa;C=0 < v.length;E=p.E9a({url:L.url,ZP:D.QC?D.QC.offset + D.QC.size:D.zmb,ma:G,wnb:Math.floor(F / 1E3),Mn:"Manifest for video bitrate " + D.bitrate + ", stream " + E.wg + ", cdn " + L.Kh});p.qa.trace("Video variant manifest",E.join("\n"));A=p.MZb({groupId:A,LW:1E3 * D.bitrate,gIb:1E3 * D.bitrate,l2b:0 <= D.IE.indexOf("-hdr-") || 0 <= D.IE.indexOf("-dv5-"),framerate:(D.P7a / D.O7a).toFixed(3),km:D.nDa + "x" + D.ekb,Blc:p.Ilc[D.IE],KHb:z,Aic:C});q.push(A);A=p.Dca(E);q.push("" + A);});});this.qa.trace("Primary manifest",q.join("\n"));return this.Dca(q);};c.prototype.XVb=function(k){var n;n=k.yxa;return ["#EXT-X-MEDIA:TYPE=AUDIO",'GROUP-ID="group_' + k.groupId + '"','CHANNELS="2"','LANGUAGE="' + k.language + '"','NAME="' + k.name + '"',"DEFAULT=" + (n?"YES":"NO"),"AUTOSELECT=" + (n?"YES":"NO"),'URI="' + k.uri + '"'].join(", ");};c.prototype.E9a=function(k){var n;n=["#EXTM3U","# " + k.Mn,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + k.wnb,"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + k.url + '"','#EXT-X-MAP:URI="{$U}",BYTERANGE="' + k.ZP + '@0"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00"];k.ma.forEach(function(p,q){n.push("#EXTINF:" + p.duration.toFixed(3) + "," + p.ca.toFixed(3));n.push("#EXT-X-BYTERANGE:" + p.bJb + "@" + p.byteOffset);n.push("{$U}&fi=" + q);});n.push("#EXT-X-ENDLIST");return n;};c.prototype.MZb=function(k){var n,p;n=k.groupId;p=["#EXT-X-STREAM-INF:BANDWIDTH=" + k.LW,"AVERAGE-BANDWIDTH=" + k.gIb,"VIDEO-RANGE=" + (k.l2b?"PQ":"SDR"),"FRAME-RATE=" + k.framerate,'AUDIO="group_' + n + '"',"RESOLUTION=" + k.km,'CODECS="' + k.Blc + "," + k.KHb + '"'];k.Aic && p.push('SUBTITLES="subs_' + n + '"');return p.join(", ");};c.prototype.tZb=function(k){var n;n=k.duration;return ["#EXTM3U","# " + k.Mn,"#EXT-X-VERSION:8","#EXT-X-TARGETDURATION:" + Math.floor(n),"#EXT-X-MEDIA-SEQUENCE:0","#EXT-X-PLAYLIST-TYPE:VOD",'#EXT-X-DEFINE:NAME="U", VALUE="' + k.url + '"','#EXT-X-MAP:URI="{$U}"',"#EXT-X-PROGRAM-DATE-TIME:2021-07-20T08:19:00.000-07:00","#EXTINF:" + n.toFixed(3),"#EXT-X-BYTERANGE:" + k.size + "@0","{$U}","#EXT-X-ENDLIST"];};c.prototype.uZb=function(k){var n,p,q;n=k.yxa;p=k.language;q=k.uri;n=["#EXT-X-MEDIA:TYPE=SUBTITLES",'GROUP-ID="subs_' + k.groupId + '"','NAME="' + k.name + '"',"DEFAULT=" + (n?"YES":"NO"),"AUTOSELECT=" + (n?"YES":"NO"),"FORCED=" + (k.qp?"YES":"NO")];k.E1b && n.push('CHARACTERISTICS="public.accessibility.transcribes-spoken-dialog,public.accessibility.describes-music-and-sound"');n.push('LANGUAGE="' + p + '"');n.push('URI="' + q + '"');return n.join(", ");};c.prototype.Dca=function(k){return "data:application/vnd.apple.mpegurl;charset=utf-8," + encodeURIComponent(k.join("\n"));};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.jb))],a);b.GMa=a;},function(r,b,a){var l,g,m,d,f;function c(h,k){var p;function n(){p.vBa.then(function(q){p.qa.trace("Unloading PBO Playdata Services");q.close();});d.Xe.removeListener(d.Lm,n);}p=this;this.thb=k;this.vBa=k();this.qa=h.cb("PlayerPlaydataMonitorImpl");d.Xe.addListener(d.Lm,n);}Object.defineProperty(b,"__esModule",{value:!0});b.$Sa=void 0;r=a(0);l=a(1);g=a(7);m=a(151);d=a(58);f=a(16);c.prototype.zl=function(h,k){this.vBa.then(function(n){n.zl(k,!0,function(p){return h.close(p);});n.iFa(k);h.addEventListener(f.Pa.VBa,function(){h.Zr() && n.$kb(k).catch(function(p){(p=p.oR) && h.close(p);});});h.addEventListener(f.Pa.cn,function(){n.Kfa(k).catch(function(p){(p=p.oR) && h.close(p);});});h.addEventListener(f.Pa.Fn,function(){n.Kfa(k).catch(function(p){(p=p.oR) && h.close(p);});});});};c.prototype.K1=function(h){return this.vBa.then(function(k){k.Nmb();return k.K1(h).catch();});};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.jb)),r.__param(1,(0,l.l)(m.uU))],a);b.$Sa=a;},function(r,b,a){var l,g,m,d;function c(f){this.Sza={};this.vba={};this.kca=-1;this.yFa=new m.ec(null);this.dCa=new m.ec(null);this.qa=f.cb("StreamChangeDetector");}Object.defineProperty(b,"__esModule",{value:!0});b.mVa=void 0;r=a(0);l=a(1);g=a(60);m=a(74);a=a(7);c.prototype.oa=function(f,h,k){var n;n=this;f.forEach(function(p){p.stream.urls.forEach(function(q){n.Sza[q.url]=[p,q.Kh];});});this.rsa=h;this.GPb=k;new PerformanceObserver(function(p){n.jkc(p.getEntries());}).observe({entryTypes:["resource"],buffered:!1});};c.prototype.plb=function(f){var h,k,n;if(this.rsa){k=this.qaa(f);if(k !== this.kca){for(this.kca=k;0 <= k && !this.vba[k];){k--;}n=oa(null !== (h=this.vba[k]) && void 0 !== h?h:[this.rsa,this.GPb]);h=n.next().value;n=n.next().value;this.qa.debug("Setting time to " + f + ", using metadata from fragment " + k + " for " + ((0,g.Meb)(h.track.type) + " track with bitrate ") + (h.stream.bitrate + " from cdn " + n));f=h.ma[this.kca];k=f.ca;this.dCa.set({stream:h,Jn:{startTime:Math.floor(1E3 * k),endTime:Math.floor(1E3 * (k + f.duration))},Ro:n});}}};c.prototype.qaa=function(f){var h,k,n,p,q;h=this.rsa.ma;f/=1E3;k=0;n=h.length - 1;if(f >= h[n].ca)return n;for(;n >= k;){p=k + Math.floor((n - k) / 2);q=h[p];if(f < q.ca)n=p - 1;else if(f >= q.ca + q.duration)k=p + 1;else return p;}return h.length - 1;};c.prototype.jkc=function(f){var h;h=this;f.filter(function(k){return "video" === k.initiatorType;}).forEach(function(k){var n,p,q;n=k.name.indexOf("&fi=");if(0 < n){p=k.name.substring(0,n);n=Number(k.name.substring(n + 4));if(h.Sza[p]){q=oa(h.Sza[p]);k=q.next().value;q=q.next().value;p && !Number.isNaN(n) && k && (h.vba[n] && (h.kca=-1),h.vba[n]=[k,q],p=k.ma[n].ca,!1,h.yFa.set(k,{OI:Math.floor(1E3 * p),Ro:q}));}}});};d=c;d=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.jb))],d);b.mVa=d;},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(848),b);r.__exportStar(a(849),b);r.__exportStar(a(850),b);r.__exportStar(a(851),b);r.__exportStar(a(852),b);r.__exportStar(a(396),b);r.__exportStar(a(853),b);r.__exportStar(a(854),b);r.__exportStar(a(855),b);r.__exportStar(a(856),b);r.__exportStar(a(857),b);r.__exportStar(a(858),b);r.__exportStar(a(862),b);r.__exportStar(a(255),b);r.__exportStar(a(863),b);r.__exportStar(a(76),b);r.__exportStar(a(864),b);r.__exportStar(a(865),b);r.__exportStar(a(866),b);r.__exportStar(a(867),b);r.__exportStar(a(868),b);r.__exportStar(a(869),b);r.__exportStar(a(870),b);r.__exportStar(a(871),b);r.__exportStar(a(872),b);r.__exportStar(a(873),b);r.__exportStar(a(874),b);r.__exportStar(a(875),b);r.__exportStar(a(876),b);r.__exportStar(a(877),b);r.__exportStar(a(878),b);r.__exportStar(a(879),b);r.__exportStar(a(880),b);r.__exportStar(a(881),b);r.__exportStar(a(882),b);r.__exportStar(a(891),b);r.__exportStar(a(894),b);r.__exportStar(a(895),b);r.__exportStar(a(896),b);r.__exportStar(a(897),b);r.__exportStar(a(898),b);r.__exportStar(a(899),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(859),b);r.__exportStar(a(860),b);r.__exportStar(a(861),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(76);},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});a(76);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.zD=void 0;r=b.zD || (b.zD={});r[r.HAVE_NOTHING=0]="HAVE_NOTHING";r[r.qD=1]="HAVE_SOMETHING";r[r.pD=2]="HAVE_MINIMUM";r[r.IT=3]="HAVE_ENOUGH";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.La=b.uea=void 0;c=a(396);(function(g){g[g.Yh=0]="STARTING";g[g.Yd=1]="BUFFERING";g[g.Vg=2]="REBUFFERING";g[g.Xc=3]="PLAYING";g[g.GD=4]="STOPPING";g[g.vm=5]="STOPPED";g[g.aj=6]="PAUSED";})(l || (l={}));b.La=l;b.uea=function(g){return g === c.bd.Yd?l.Yd:g === c.bd.Vg?l.Vg:g === c.bd.EU?l.Yd:g === c.bd.wm?l.Xc:l.Yh;};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.zT=void 0;r=b.zT || (b.zT={});r[r.po=0]="skipped";r[r.EGb=1]="adjustment";},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(883),b);r.__exportStar(a(884),b);r.__exportStar(a(885),b);r.__exportStar(a(886),b);r.__exportStar(a(887),b);r.__exportStar(a(888),b);r.__exportStar(a(889),b);r.__exportStar(a(890),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(892),b);r.__exportStar(a(893),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.bv=void 0;r=b.bv || (b.bv={});r[r.pxb=0]="PLAYGRAPH_CHANGED";r[r.qxb=1]="PLAYGRAPH_UNCHANGED";r[r.zwb=2]="NO_MATCHING_SEGMENT_FOUND";r[r.nyb=3]="SEGMENT_ALREADY_APPENDED_REMOVAL_NOT_SUPPORTED";r[r.oub=4]="EXISTING_SEGMENT_VIEWABLE_ID_MISMATCHED";r[r.nub=5]="EXISTING_SEGMENT_START_TIME_MISMATCHED";r[r.oyb=6]="SEGMENT_EXTENSION_NOT_SUPPORTED";r[r.Lqb=7]="APPENDED_PAST_TRUNCATION_POINT";r[r.Lvb=8]="LOSS_OF_POSITION";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.qIa=void 0;c=a(6);r=(function(){function l(g){this.config=g;}l.prototype.Rn=function(g,m){return this.config.M1 || m !== c.bd.wm?g.filter(function(d){return d.Ov;}):g;};return l;})();b.qIa=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.ZM=void 0;r=a(0);c=a(10);l=r.__importDefault(a(3));g=a(397);a=(function(){function m(d){this.console=d;this.J4a=[];this.i1a={};this.f5a=!1;}m.prototype.Kw=function(d,f){this.J4a=d;void 0 !== f?this.i1a[f]=d:this.f5a || (this.console.warn("StreamFilters: Bitrate filters received with undefined viewable id"),this.f5a=!0);};m.prototype.Rn=function(d){var f,h,k,n,p;f=this;if(0 === d.length)return d;n=d[0].P;if(void 0 === n)return (this.console.error("StreamFilters: Stream has undefined viewable id"),d);try{null === (h=l.default.Cv) || void 0 === h?void 0:h.call(l.default,n);}catch(q){return (this.console.error("StreamFilters: createFilteredVideoStreamList: " + q),d);}p=null !== (k=this.i1a[n]) && void 0 !== k?k:this.J4a;c.M && this.console.trace(("VideoBitrateRangesFilter: filtering ").concat(d.length," streams with ").concat(JSON.stringify(p)));d=d.filter(function(q){return (0,g.zpa)(q.profile,q.bitrate,p,f.console).inRange;});c.M && this.console.trace(("VideoBitrateRangesFilter: ... ").concat(d.length," streams in range"));return d;};return m;})();b.ZM=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.sIa=void 0;r=(function(){function a(c){var l;l=this;c.rS && c.rS.enabled && c.rS.profiles && c.rS.profiles.length && "keepLowest" === c.rS.action && (this.Acb={},c.rS.profiles.forEach(function(g){return l.Acb[g]=!0;}));}a.prototype.Rn=function(c){var l,g;l={};g=this.Acb;return void 0 === g?c:c.filter(function(m){return !g[m.profile] || (l[m.profile]?!1:l[m.profile]=!0);});};return a;})();b.sIa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.pIa=void 0;r=(function(){function a(c){this.config=c;}a.prototype.Rn=function(c){var l;l=this.config;return c.filter(function(g){return !(void 0 !== g.gb && (g.gb < l.AK || g.gb > l.aeb) || (void 0 === g.gb || 0 >= l.AK) && g.bitrate < l.Xza || (void 0 === g.gb || Infinity === l.aeb) && g.bitrate > l.f5b);});};return a;})();b.pIa=r;},function(r,b,a){var l;function c(g,m){m=Math.max(g,m);return isNaN(m)?g || -Infinity:m;}Object.defineProperties(b,{__esModule:{value:!0}});b.bIa=void 0;l=a(6);r=(function(){function g(m){this.config=m;this.Wea=0;this.state=l.bd.vm;this.ifb=c(m.Xza,m.ada);this.cAa=c(m.AK,m.v_);}g.prototype.Rn=function(m,d){var f;f=this;if(d !== this.state){this.state=d;if(d === l.bd.Yd || d === l.bd.EU)return m;d === l.bd.Vg && this.ijb();}return m.filter(function(h){return !(void 0 !== h.gb && h.gb < f.cAa || (void 0 === h.gb || 0 > f.cAa) && h.bitrate < f.ifb);});};g.prototype.ijb=function(){++this.Wea;this.cAa=c(this.config.AK,this.config.v_ - this.config.e6b * this.Wea);this.ifb=this.config.Xza || -Infinity;};return g;})();b.bIa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.oIa=void 0;c=a(21);r=(function(){function l(g){this.config=g;}l.prototype.jgc=function(g){return g % 100 + 1 <= this.config.ABa;};l.prototype.Rn=function(g){var m,d,f,h,k,n,p,q,v,t,w;p=Number(null === (m=g[0]) || void 0 === m?void 0:m.L);if(!(this.config.k$ && this.jgc(p) && 0 < this.config.nfa.length))return g;m=g.length;q=null !== (d=g[m - 1].mfa) && void 0 !== d?d:0;if(d=(0,c.Qc)(this.config.nfa,function(u){return u.Hwc >= q && u.mkb <= q;})){for(p=0;p < m;p++){v=g[Math.max(p - 1,0)];t=g[p];if(!((null !== (f=t.mfa) && void 0 !== f?f:0) < d.mkb || (null !== (h=v.mfa) && void 0 !== h?h:0) < d.mkb)){w=null !== (k=t.gb) && void 0 !== k?k:Infinity;v=null !== (n=v.gb) && void 0 !== n?n:Infinity;if(!(v < d.Uvc || v < d.Tvc && t.bitrate < d.maxBitrate || !w && t.bitrate < d.vvc))break;}}return g.slice(0,p);}return g;};return l;})();b.oIa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Xja=b.eia=void 0;c=a(21);b.eia={Rn:function(l){return l.filter(function(g){return g.Xr && !g.KB;});}};b.Xja={Rn:function(l){return (l=(0,c.Qc)(l,function(g){return !!g.Xr && !g.KB;}))?[l]:[];}};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Yja=void 0;b.Yja={Rn:function(a){return a.length?[a[0]]:[];}};},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.YI=b.XI=void 0;c=a(399);l=a(116);b.XI=function(g,m){m && (null === g || void 0 === g?0:g.Aab) && (m=new l.ox(m).or(l.wH));return new l.ox(l.eia).and(null !== m && void 0 !== m?m:l.wH).or(l.Xja,c.TM.rJ).or(l.Yja,c.TM.rJ);};b.YI=function(g,m){m && g.Aab && (m=new l.ox(m).or(l.wH));return new l.ox(l.eia).and(new l.qIa(g)).and(new l.pIa(g)).and(new l.bIa(g)).and(new l.sIa(g)).and(g.k$?new l.oIa(g):l.wH).and(null !== m && void 0 !== m?m:l.wH).or(l.Xja,c.TM.rJ).or(l.Yja,c.TM.rJ);};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w,u,x;function c(y){var z,B,A,C,D,E;z=y.za;B=y.Bv;A=y.mqb;C=y.vo;y=y.priority;D=void 0 === y?0:y;(0,f.assert)(z.pk,("Current time: ").concat(n.default.time.fa()," cr: ").concat(z.currentTime));(0,f.assert)(z.currentTime.isFinite());y=A.Ga(z.currentTime);y=Math.max(Math.ceil(y.xC / z.speed),0);E=null !== C && void 0 !== C?C:{id:void 0,W4a:y,igb:0,Z8b:y};E.id=(0,p.Ufa)(function(){A.Ga(z.currentTime).JF(m.N.Oa)?B():(E.igb++,c({za:z,Bv:B,mqb:A,vo:E,priority:D}));},y,D);E.W4a=y;return E;}Object.defineProperties(b,{__esModule:{value:!0}});b.sha=b.FU=void 0;l=a(0);g=a(13);m=a(20);d=a(183);f=a(2);h=a(10);k=a(917);n=l.__importDefault(a(3));p=a(918);q=a(182);v=a(403);t=a(404);w=a(152);u=(function(){function y(){this.complete();}Object.defineProperties(y.prototype,{PL:{get:function(){return this.Boa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Kfb:{get:function(){return this.qCb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{VOb:{get:function(){return this.nAb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ODa:{get:function(){return this.fEb;},enumerable:!1,configurable:!0}});y.prototype.set=function(z,B,A){this.nAb=B === x.YQ?0:n.default.time.fa();this.qCb=z;this.fEb=B;h.M && (0,f.assert)(!this.Boa,"Invalid replacement of timeout value");this.Boa=A;};y.prototype.complete=function(){this.Boa=void 0;this.set(m.N.Qt,x.YQ);};return y;})();(function(y){y[y.YQ=0]="none";y[y.Qeb=1]="microTask";y[y.setTimeout=2]="setTimeout";})(x || (x={}));r=(function(y){function z(B,A,C,D){var E;void 0 === C && (C="unknown");void 0 === D && (D=0);E=y.call(this) || this;E.za=B;E.console=A;E.name=C;E.priority=D;E.oCb=0;E.N6=!1;E.Nma=!1;E.Nl=new u();E.t$=new g.ef();E.bk=new d.lU([],(0,k.d3a)(function(G,F){return G.iL.Fm(F.iL);},function(G,F){return F.pm.priority - G.pm.priority;},function(G,F){return G.pm.id > F.pm.id?1:G.pm.id < F.pm.id?-1:0;}));E.E0a(B);return E;}l.__extends(z,y);Object.defineProperties(z.prototype,{lgc:{get:function(){return this.za.pk;},enumerable:!1,configurable:!0}});z.prototype.d4a=function(B,A){B=new (B.bind.apply(B,l.__spreadArray([void 0],l.__read(A),!1)))();B.id=this.oCb++;B.zHb(this);this.ipa(B);return B;};z.prototype.oB=function(){for(var B=[],A=0;A < arguments.length;A++){B[A]=arguments[A];}return this.d4a(v.$Na,B);};z.prototype.jy=function(){var B;B={hasSchedule:!!this.Nl.PL,schedule:this.Nl.PL && ({sleepTime:this.Nl.PL.W4a,originalSleepTime:this.Nl.PL.Z8b,clockSkewAdjustments:this.Nl.PL.igb}),nextWakeup:this.Nl.Kfb.Z,timeScheduled:this.Nl.VOb,scheduleType:x[this.Nl.ODa],numTasks:this.bk.length,clock:{ir:this.za.pk,ct:this.za.currentTime.Z,sp:this.za.speed}};h.M && this.trace("audit",B);return B;};z.prototype.OO=function(){for(var B=[],A=0;A < arguments.length;A++){B[A]=arguments[A];}return this.d4a(t.UUa,B);};z.prototype.L3a=function(B,A,C){return this.oB(function(){return l.__generator(this,function(D){switch(D.label){case 0:return [4,w.bj.UG(A)];case 1:return (D.zb(),B(),[3,0]);case 2:return [2];}});},C);};z.prototype.E0a=function(B){var A;A=this;this.cB();this.t$.clear();this.za=B;this.t$.on(B,"stopStart",function(){return A.DR();});this.t$.on(B,"clockAdjusted",function(){return A.O_();});this.t$.on(B,"speedChanged",function(){return A.K8b();});this.O_();this.emit("clockChanged");};z.prototype.K8b=function(){this.cB();this.DR();};z.prototype.Wa=function(){this.reset();this.N6 && (this.Nma=!0);};z.prototype.reset=function(){var B;this.cB();B=this.bk.Bl();this.bk.clear();B.forEach(function(A){return A.pm.Wa();});};z.prototype.yg=function(){var B;this.cB();B=this.bk.Bl();this.bk.clear();B.forEach(function(A){return A.pm.yg();});};z.prototype.O_=function(){var B,A;B=this;A=this.bk.map(function(C){return C.pm;});this.cB();this.bk.clear();A.forEach(function(C){return B.ipa(C,!1);});this.DR();};z.prototype.ipa=function(B,A){var C,D;void 0 === A && (A=!0);C=B.zda();D=this.Ynb(C);C={pm:B,iL:D,hfa:C};h.M && this.trace(("Adding task ").concat(B.name," for ").concat(D.Z));(0,f.assert)(!this.bk.contains(C));this.bk.push(C);A && this.DR();};z.prototype.DR=function(){var B,A,C,D,E;B=this;h.M && this.trace("recheck schedule task count:" + this.bk.length);if(this.lgc){if(this.N6)h.M && this.trace("already executing, bailing");else {C=this.Nl.Kfb;D=this.bk.Mq();E=null !== (A=null === D || void 0 === D?void 0:D.iL) && void 0 !== A?A:m.N.Qt;E.isFinite() && E.Dda(C)?(this.cB(!1),this.za.currentTime.mk(E)?(this.Nl.set(E,x.Qeb),Promise.resolve().then(function(){B.Nl.ODa === x.Qeb && (B.Nl.complete(),B.Ckb());})):(h.M && this.trace("scheduling next wake up for",{myc:E.Z,pm:null === D || void 0 === D?void 0:D.pm.name}),A=c({za:this.za,Bv:function(){B.Nl.complete();B.Ckb();},mqb:E,priority:this.priority}),this.Nl.set(E,x.setTimeout,A))):E.isFinite() || this.Nl.ODa !== x.setTimeout || this.cB(!1);}}else (h.M && this.trace("should check schedule is false, stopping"),this.cB());};z.prototype.Ckb=function(){var B,A,C;A=0;C=null === (B=this.bk.Mq()) || void 0 === B?void 0:B.hfa;try{for(this.N6=!0;1E4 > A++ && this.Hjc();){;}}finally{this.N6=!1;this.cB();1E4 < A && !this.F_b(C)?this.error(("Task scheduler executed more than ").concat(1E4) + " iterations in same tick"):(h.M && this.trace("Next tasks",this.bk.map(function(D){return {name:D.pm.name,nyc:D.iL.Z};})),this.DR());}};z.prototype.F_b=function(B){var A,C;C=null === (A=this.bk.Mq()) || void 0 === A?void 0:A.hfa;return B && C && B.timestamp.equal(C.timestamp) && B.type === C.type?!1:!0;};z.prototype.Hjc=function(){var B,A,C;C=null !== (A=null === (B=this.bk.Mq()) || void 0 === B?void 0:B.iL) && void 0 !== A?A:m.N.Qt;h.M && this.trace(("tryExecuteNextTask @").concat(this.za.currentTime.Z,", next wakeup at ").concat(C));if(this.za.currentTime.mk(C) && (B=this.bk.pop())){A=B.pm;h.M && this.trace("Running a task @" + this.za.currentTime.Z + ", scheduled for time:" + C.Z + ("Name:").concat(A.name));try{A.dz();B.hfa=A.zda();B.iL=this.Ynb(B.hfa);}catch(D){throw (this.error(("Unhandled error from a task ").concat(A.name," occurred.") + " Removing the task from future executions:" + D,{stack:D.stack}),A.Wa(),D);}finally{this.Nma?(A.Wa(),this.Nma=!1):B.iL !== m.N.Qt && A.state === q.xm.tfa && ((0,f.assert)(!this.bk.contains(B)),this.bk.push(B));}return !0;}};z.prototype.wDa=function(B){(0,f.assert)(B.Ee === this);this.cfa(B,!1);this.ipa(B);};z.prototype.cfa=function(B,A){var C;void 0 === A && (A=!0);C=this.bk.find(function(D){return D.pm === B;});C && this.Scc(C,A);};z.prototype.Scc=function(B,A){this.bk.remove(B);A && this.DR();};z.prototype.cB=function(B){void 0 === B && (B=!0);this.Nl.PL && (B && this.emit("stopping"),B=this.Nl.PL,(0,p.d9)(B.id),this.Nl.complete());};z.prototype.Ynb=function(B){return B.type === w.G5.absolute?B.timestamp:B.timestamp.add(this.za.currentTime);};z.prototype.trace=function(){for(var B,A=[],C=0;C < arguments.length;C++){A[C]=arguments[C];}null === (B=this.console) || void 0 === B?void 0:B.trace.apply(B,l.__spreadArray([("TaskScheduler(").concat(this.name,"):")],l.__read(A),!1));};z.prototype.error=function(){for(var B,A=[],C=0;C < arguments.length;C++){A[C]=arguments[C];}null === (B=this.console) || void 0 === B?void 0:B.error.apply(B,l.__spreadArray([("TaskScheduler(").concat(this.name,"):")],l.__read(A),!1));};return z;})(g.EventEmitter);b.FU=r;b.sha=function(y,z,B){var A;A=void 0;return (B || y.za.pk) && y.za.currentTime.mk(z)?{promise:Promise.resolve()}:{promise:new Promise(function(C){A=y.OO(w.bj.dD(z),C);}),pm:A};};},function(r){function b(c,l,g,m){c.trace(":",g,":",m);l(m);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addListener=function(c,l,g,m){g=m?g.bind(m):g;if(c){this.console && (g=b.bind(null,this.console,g,l));if("function" === typeof c.addListener)c.addListener(l,g);else if("function" === typeof c.addEventListener)c.addEventListener(l,g);else throw Error("Emitter does not have a function to add listeners for '" + l + "'");this.listeners.push([c,l,g]);}return this;};a.prototype.on=a.prototype.addListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(l){var g,m;g=l[0];m=l[1];l=l[2];"function" === typeof g.removeEventListener?g.removeEventListener(m,l):"function" === typeof g.removeListener && g.removeListener(m,l);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.d3a=void 0;c=a(0);l=a(10);g=a(2);b.d3a=function(){for(var m=[],d=0;d < arguments.length;d++){m[d]=arguments[d];}l.M && (0,g.assert)(m.length);return function(f,h){var k,q,v;try{for(var n=c.__values(m),p=n.next();!p.done;p=n.next()){q=p.value;v=q(f,h);if(0 !== v)return v;}}catch(w){var t;t={error:w};}finally{try{p && !p.done && (k=n.return) && k.call(n);}finally{if(t)throw t.error;}}return 0;};};},function(r,b,a){var l,g,m,d,f;function c(h,k){return h.time - k.time || h.priority - k.priority || h.id - k.id;}Object.defineProperties(b,{__esModule:{value:!0}});b.$Db=b.d9=b.Ufa=void 0;r=a(0);l=a(10);g=r.__importDefault(a(3));m=a(2);d=a(183);f=(function(){function h(){var k;k=this;this.Tq=new d.lU([],c);this.UFa=0;this.console=new g.default.Console("SETTIMEOUT");this.hTb=function(){var n,p;n=g.default.time.fa();k.V1=void 0;l.M && k.console.trace(("[").concat(n,"] Wake"));try{for(;!k.Tq.empty && k.Tq.Mq().time <= n;){p=k.Tq.pop();l.M && k.console.trace(("[").concat(g.default.time.fa(),"] Executing p").concat(p.priority," timer ").concat(p.id," scheduled for ").concat(p.time));p.Bv();}}finally{k.NDa();}};}Object.defineProperties(h,{instance:{get:function(){return h.mv || (h.mv=new h());},enumerable:!1,configurable:!0}});h.loa=function(){(0,m.assert)(void 0 === h.mv || h.mv.Tq.empty,"Singleton SetTimeoutWithPriority reset with pending timers");h.mv=void 0;};h.prototype.Ufa=function(k,n,p){var q,v,t;(0,m.assert)(isFinite(n) && 0 <= n);q=this.Tq;v=g.default.time.fa();t=v + n;q.push({id:++this.UFa,time:t,priority:p,Bv:k});l.M && this.console.trace(("[").concat(v,"] New p").concat(p," timer ").concat(this.UFa," scheduled for ").concat(t," in ").concat(n,"ms"));this.NDa();return this.UFa;};h.prototype.d9=function(k){var n,p,q;n=this.Tq;p=n.find(function(v){return v.id === k;});if(p){q=n.Mq().time;n.remove(p);l.M && this.console.trace(("[").concat(g.default.time.fa(),"] Removing timer ").concat(p.id," scheduled for ").concat(p.time));(n.empty || n.Mq().time > q) && this.NDa();}};h.prototype.D2a=function(){this.V1 && (clearTimeout(this.V1.id),l.M && this.console.trace(("[").concat(g.default.time.fa(),"] Clearing wake timer")),this.V1=void 0);};h.prototype.NDa=function(){var k,n;n=this.Tq;n.empty?this.D2a():(n=n.Mq().time,n !== (null === (k=this.V1) || void 0 === k?void 0:k.time) && (this.D2a(),k=Math.max(0,n - g.default.time.fa()),l.M && this.console.trace(("[").concat(g.default.time.fa(),"] Setting wake timer for ").concat(n," in ").concat(k,"ms")),this.V1={id:setTimeout(this.hTb,k),time:n}));};return h;})();b.Ufa=function(h,k,n){return f.instance.Ufa(h,k,n);};b.d9=function(h){f.instance.d9(h);};b.$Db=function(){f.loa();};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(0);r.__exportStar(a(923),b);r.__exportStar(a(409),b);},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.hM=void 0;r=b.hM || (b.hM={});r[r.start=0]="start";r[r.end=1]="end";},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});},function(r,b,a){var l;function c(g,m){var d;void 0 === m && (m=c);d="";g.sP && (d=null === g || void 0 === g?void 0:g.sP.map(m).reduce(function(f,h){return ("").concat(f,",").concat(h);}));return ("").concat(null === g || void 0 === g?void 0:g.name,"::").concat(null === g || void 0 === g?void 0:g.message,"::{").concat(null === g || void 0 === g?void 0:g.stack,"}[").concat(d,"]");}Object.defineProperties(b,{__esModule:{value:!0}});b.Qha=void 0;l=a(0);r=(function(g){function m(d,f){d=g.call(this,m.AVb(d,f)) || this;d.GAb=f;d.name="AggregateError";return d;}l.__extends(m,g);m.AVb=function(d,f){return f.reduce(function(h,k){return ("").concat(h,"\n").concat(k);},d);};m.stringify=function(d){return c(d);};Object.defineProperties(m.prototype,{sP:{get:function(){return this.GAb;},enumerable:!1,configurable:!0}});return m;})(Error);b.Qha=r;},function(r,b,a){var c,l,g,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.qPa=void 0;c=a(0);l=a(13);g=a(258);m=a(988);d=["prebuffstats","discardedBytes","flushedBytes","cacheEvict","mediacache"];r=(function(f){function h(k,n){var p;p=f.call(this) || this;p.K=k;p.qk=new m.oOa(k,n);p.Oh=new l.ef();d.forEach(function(q){p.Oh.on(p.qk,q,function(v){return p.emit(q,v);});});return p;}c.__extends(h,f);Object.defineProperties(h.prototype,{Ac:{get:function(){return this.qk.Ac;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{fu:{get:function(){return this.qk.fu;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Jw:{get:function(){return this.qk.Jw;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{A1:{get:function(){return this.qk.A1;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{aya:{get:function(){return this.qk.aya;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{ega:{get:function(){return this.qk.ega;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{sg:{get:function(){return this.qk.sg;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{tk:{get:function(){return this.qk.tk;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Rwa:{get:function(){return this.qk.Rwa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{a_:{get:function(){return this.qk.a_.bind(this.qk);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Fua:{get:function(){return this.qk.Fua.bind(this.qk);},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{vqa:{get:function(){var k;k=this;return function(){k.qk.vqa();};},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{U8:{get:function(){var k;k=this;return function(){k.qk.U8();};},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{zI:{get:function(){var k;k=this;return function(n,p,q){var v;null === (v=k.sg) || void 0 === v?void 0:v.zI(n,p,q);};},enumerable:!1,configurable:!0}});h.prototype.oa=function(k,n,p,q,v,t){this.qk.oa(k,n,p,q,v,t);};h.prototype.createSession=function(k,n,p,q,v,t,w,u,x,y){u || (u=this.qk.config);return this.qk.createSession(k,n,p,q,v,t,w,u,x,y);};h.prototype.ZL=function(){throw Error("Update viewable not supported in legacy.");};h.prototype.addEventListener=function(k,n){this.addListener(k,n);return !0;};h.prototype.removeEventListener=function(k,n){this.removeListener(k,n);return !0;};h.prototype.Wa=function(){this.Oh.clear();this.qk.Wa();g.lM.reset();};return h;})(l.EventEmitter);b.qPa=r;},function(r,b,a){r.exports={byb:a(932),tnc:a(933)};},function(r,b,a){function c(f){this.data=f;this.right=this.left=null;this.red=!0;}function l(f){this.Lf=null;this.Ho=f;this.size=0;}function g(f){return null !== f && f.red;}function m(f,h){var k;k=f.hi(!h);f.Bs(!h,k.hi(h));k.Bs(h,f);f.red=!0;k.red=!1;return k;}function d(f,h){f.Bs(!h,m(f.hi(!h),!h));return m(f,h);}b=a(414);c.prototype.hi=function(f){return f?this.right:this.left;};c.prototype.Bs=function(f,h){f?this.right=h:this.left=h;};l.prototype=new b();l.prototype.pp=function(f){var h,k,n,p,q,v,t,w,u;h=!1;if(null === this.Lf)(this.Lf=new c(f),h=!0,this.size++);else {k=new c(void 0);n=0;p=0;q=null;v=k;t=null;w=this.Lf;for(v.right=this.Lf;;){null === w?(w=new c(f),t.Bs(n,w),h=!0,this.size++):g(w.left) && g(w.right) && (w.red=!0,w.left.red=!1,w.right.red=!1);if(g(w) && g(t)){u=v.right === q;w === t.hi(p)?v.Bs(u,m(q,!p)):v.Bs(u,d(q,!p));}u=this.Ho(w.data,f);if(0 === u)break;p=n;n=0 > u;null !== q && (v=q);q=t;t=w;w=w.hi(n);}this.Lf=k.right;}this.Lf.red=!1;return h;};l.prototype.remove=function(f){var h,k,t,w,u;if(null === this.Lf)return !1;h=new c(void 0);k=h;k.right=this.Lf;for(var n=null,p,q=null,v=1;null !== k.hi(v);){t=v;p=n;n=k;k=k.hi(v);w=this.Ho(f,k.data);v=0 < w;0 === w && (q=k);if(!g(k) && !g(k.hi(v)))if(g(k.hi(!v)))(p=m(k,v),n.Bs(t,p),n=p);else if(!g(k.hi(!v)) && (w=n.hi(!t),null !== w))if(g(w.hi(!t)) || g(w.hi(t))){u=p.right === n;g(w.hi(t))?p.Bs(u,d(n,t)):g(w.hi(!t)) && p.Bs(u,m(n,t));t=p.hi(u);t.red=!0;k.red=!0;t.left.red=!1;t.right.red=!1;}else (n.red=!1,w.red=!0,k.red=!0);}null !== q && (q.data=k.data,n.Bs(n.right === k,k.hi(null === k.left)),this.size--);this.Lf=h.right;null !== this.Lf && (this.Lf.red=!1);return null !== q;};r.exports=l;},function(r,b,a){function c(g){this.data=g;this.right=this.left=null;}function l(g){this.Lf=null;this.Ho=g;this.size=0;}b=a(414);c.prototype.hi=function(g){return g?this.right:this.left;};c.prototype.Bs=function(g,m){g?this.right=m:this.left=m;};l.prototype=new b();l.prototype.pp=function(g){if(null === this.Lf)return (this.Lf=new c(g),this.size++,!0);for(var m=0,d=null,f=this.Lf;;){if(null === f)return (f=new c(g),d.Bs(m,f),ret=!0,this.size++,!0);if(0 === this.Ho(f.data,g))return !1;m=0 > this.Ho(f.data,g);d=f;f=f.hi(m);}};l.prototype.remove=function(g){var m,d,n;if(null === this.Lf)return !1;m=new c(void 0);d=m;d.right=this.Lf;for(var f=null,h=null,k=1;null !== d.hi(k);){f=d;d=d.hi(k);n=this.Ho(g,d.data);k=0 < n;0 === n && (h=d);}return null !== h?(h.data=d.data,f.Bs(f.right === d,d.hi(null === d.left)),this.Lf=m.right,this.size--,!0):!1;};r.exports=l;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.sQa=void 0;c=a(21);l=a(2);r=(function(){function g(){this.data={};}Object.defineProperties(g.prototype,{empty:{get:function(){return 0 === Object.keys(this.data).length;},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{size:{get:function(){var m;m=this;return Object.keys(this.data).reduce(function(d,f){return d + m.data[f].length;},0);},enumerable:!1,configurable:!0}});g.prototype.get=function(m){var d;return null !== (d=this.data[m]) && void 0 !== d?d:[];};g.prototype.has=function(m,d){return (m=this.data[m])?void 0 === d?!0:-1 !== m.indexOf(d):!1;};g.prototype.count=function(m){return (m=this.data[m])?m.length:0;};g.prototype.keys=function(){return Object.keys(this.data);};g.prototype.values=function(){var m;m=this;return (0,c.flatten)(this.keys().map(function(d){return m.data[d];}));};g.prototype.set=function(m,d){(this.data[m] || (this.data[m]=[])).push(d);return this;};g.prototype.clear=function(){this.data={};};g.prototype.delete=function(m,d){var f,h;f=this.data[m];if(void 0 === f)return !1;if(void 0 === d)return ((0,l.assert)(1 === arguments.length),delete this.data[m],!0);h=f.indexOf(d);if(-1 === h)return !1;1 === f.length?delete this.data[m]:f.splice(h,1);return !0;};g.prototype.forEach=function(m,d){var f;f=this;m=void 0 !== d?m.bind(d):m;this.keys().forEach(function(h){return f.data[h].forEach(function(k){return m(k,h,f);});});};g.prototype.reduce=function(m,d,f){var h,k;h=this;m=void 0 !== f?m.bind(f):m;k=d;this.forEach(function(n,p){k=m(k,n,p,h);});return k;};g.prototype.map=function(m,d){var f;f=this;m=void 0 !== d?m.bind(d):m;return (0,c.flatten)(this.keys().map(function(h){return f.data[h].map(function(k){return m(k,h,f);});}));};g.prototype.filter=function(m,d){var f;f=this;m=void 0 !== d?m.bind(d):m;return (0,c.flatten)(this.keys().map(function(h){return f.data[h].filter(function(k){return m(k,h,f);});}));};return g;})();b.sQa=r;},function(r,b,a){var l,g;function c(m,d,f){var h;void 0 === f && (f={});h=l.__assign(l.__assign({},g),f);return m.filter(function(k){var n;n=k.Vc;k=k.Ld;return !!k && k.JF(d) && (!h.X2a || n.mk(d));});}Object.defineProperties(b,{__esModule:{value:!0}});b.Nta=b.eUb=b.Xta=void 0;l=a(0);g={X2a:!1};b.Xta=function(m,d,f){void 0 === f && (f={});return c(m,d,f).pop();};b.eUb=c;b.Nta=function(m,d,f){return m.filter(function(h){var k;k=h.Vc;h=h.Ld;return !!h && !!k && (h.mk(d) && h.JF(f) || k.mk(d) && k.JF(f) || h.JF(d) && k.mk(f));});};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.SUa=b.RUa=void 0;c=a(21);r=(function(){function l(g){this.Va=g;this.listeners=[];this.Y_=[];}Object.defineProperties(l.prototype,{value:{get:function(){return this.Va;},enumerable:!1,configurable:!0}});l.prototype.set=function(g){var m;this.Va=g;m=this.Y_;this.Y_=[];this.listeners.forEach(function(d){return d(g);});m.forEach(function(d){return d(g);});};l.prototype.lkb=function(){this.Va=void 0;};l.prototype.on=function(g){this.listeners=this.listeners.concat([g]);void 0 !== this.Va && g(this.Va);};l.prototype.once=function(g){void 0 !== this.Va?g(this.Va):this.Y_.push(g);};l.prototype.Jy=function(g){this.listeners=this.listeners.filter(function(m){return m !== g;});this.Y_=this.Y_.filter(function(m){return m !== g;});};return l;})();b.RUa=r;r=(function(){function l(){this.listeners=[];}l.prototype.on=function(g,m){this.listeners.push({signal:g,listener:m});g.on(m);};l.prototype.once=function(g,m){var d,f;d=this;if(void 0 === g.value){f=function(h){d.remove(g,m);m(h);};this.listeners.push({signal:g,listener:m,sqb:f});g.once(f);}else g.once(m);};l.prototype.Jy=function(g,m){var d,f;f=(0,c.Qc)(this.listeners,function(h){return h.signal === g && h.listener === m;});void 0 !== f && g.Jy(null !== (d=f.sqb) && void 0 !== d?d:f.listener);this.remove(g,m);};l.prototype.removeAllListeners=function(){this.listeners.forEach(function(g){var m,d;m=g.listener;d=g.sqb;return g.signal.Jy(null !== d && void 0 !== d?d:m);});this.listeners=[];};l.prototype.remove=function(g,m){this.listeners=this.listeners.filter(function(d){return d.signal !== g || d.listener !== m;});};return l;})();b.SUa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.oD=b.Vxa=void 0;b.Vxa=function(a){return "function" === typeof (null === a || void 0 === a?void 0:a.then);};r=(function(){function a(){var c;c=this;this.AZa=!1;this.promise=new Promise(function(l){c.yZa=l;});}Object.defineProperties(a.prototype,{then:{get:function(){return this.promise.then.bind(this.promise);},enumerable:!1,configurable:!0}});Object.defineProperties(a.prototype,{tDa:{get:function(){return this.AZa;},enumerable:!1,configurable:!0}});a.prototype.resolve=function(c){var l;this.AZa=!0;null === (l=this.yZa) || void 0 === l?void 0:l.call(this,c);this.yZa=void 0;};return a;})();b.oD=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.H4a=void 0;b.H4a=function(a){return JSON.parse(JSON.stringify(a));};},function(r,b,a){var l;function c(g,m,d){var f,k,n;if(g === m || !d.so && g == m)return !0;if(typeof g !== typeof m)return !1;if(g && "object" === typeof g){for(var h in g){if(!c(g[h],m[h],d))return !1;}if(!d.rKb){k=Object.keys(g);n=Object.keys(m).filter(function(t){return 0 > k.indexOf(t);});try{for(var p=l.__values(n),q=p.next();!q.done;q=p.next()){if((h=q.value,!c(g[h],m[h],d)))return !1;}}catch(t){var v;v={error:t};}finally{try{q && !q.done && (f=p.return) && f.call(p);}finally{if(v)throw v.error;}}}return !0;}return !1;}Object.defineProperties(b,{__esModule:{value:!0}});b.I9=void 0;l=a(0);b.I9=function(g,m,d){void 0 === d && (d={});d=l.__assign({so:!1,rKb:!1},d);return c(g,m,d);};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.EH=void 0;r=(function(){function a(){this.count=0;this.max=this.min=this.xa=NaN;}Object.defineProperties(a.prototype,{ou:{get:function(){return this.max - this.min;},enumerable:!1,configurable:!0}});a.prototype.push=function(c){this.count++;1 === this.count?this.xa=this.min=this.max=c:(this.min=Math.min(c,this.min),this.max=Math.max(c,this.max),this.xa+=(c - this.xa) / this.count);};a.prototype.toJSON=function(){return {min:this.min,max:this.max,average:this.xa,count:this.count};};return a;})();b.EH=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});c=a(416);r=(function(){function l(g,m){this.xa=g;this.He=m;}l.prototype.Z1a=function(g){return .5 * (0,c.qP)(-(g - this.xa) / Math.sqrt(2 * this.He));};l.prototype.Ry=function(g){return this.xa - Math.sqrt(2 * this.He) * (0,c.zab)(2 * g);};return l;})();b.default=r;},function(r,b,a){r.exports={Xtc:a(418),rxc:a(260),wnc:a(943),Tia:a(261),vnc:a(419),xnc:a(420),xub:a(421)};},function(r,b,a){var g,m,d,f;function c(h,k,n){g.call(this,h,k,n);}function l(h,k){m.call(this,new c(h,k,!1));}g=a(944);m=a(945);d=a(104).$Vb;f=a(104).IZb;c.prototype=Object.create(g.prototype);c.prototype.xa=function(){return Math.floor(8 * d(this.oe) / this.ce);};c.prototype.He=function(){return Math.floor(64 * f(this.oe) / (this.ce * this.ce));};c.prototype.get=function(){return {xa:this.xa(),He:this.He(),Fsc:this.oe.length};};c.prototype.toString=function(){return "bsw(" + this.fO + "," + this.ce + "," + this.Wk + ")";};l.prototype=Object.create(m.prototype);l.prototype.setInterval=function(h){this.rN.setInterval(h);};r.exports=l;},function(r){function b(a,c,l){this.fO=a;this.Wk=Math.floor((a + c - 1) / c);this.ce=c;this.KDb=l;this.reset();}b.prototype.shift=function(){this.oe.shift();this.ej.shift();};b.prototype.update=function(a,c){this.oe[a]+=c;};b.prototype.push=function(a){this.oe.push(0);this.ej.push(a?a:0);this.Ab+=this.ce;};b.prototype.add=function(a,c,l,g){var m,d;if(null === this.Ab){m=Math.max(Math.floor((l - c + this.ce - 1) / this.ce),1);for(this.Ab=c;this.oe.length < m;){this.push(g);}}for(;this.Ab < l;){if((this.push(g),this.KDb))for(;1 < this.oe.length && l + g - (this.Ab - this.ce * this.oe.length + this.ej[0]) > this.fO;){this.shift();}else this.oe.length > this.Wk && this.shift();}if(c > this.Ab - this.ce)this.update(this.oe.length - 1,a);else if(c == l)(g=this.oe.length - Math.max(Math.ceil((this.Ab - l) / this.ce),1),0 <= g && this.update(g,a));else for(g=1;g <= this.oe.length;++g){m=this.Ab - g * this.ce;d=m + this.ce;if(!(m > l)){if(d < c)break;this.update(this.oe.length - g,Math.round(a * (Math.min(d,l) - Math.max(m,c)) / (l - c)));}}for(;this.oe.length > this.Wk;){this.shift();}};b.prototype.reset=function(){this.oe=[];this.ej=[];this.Ab=null;};b.prototype.setInterval=function(a){this.Wk=Math.floor((a + this.ce - 1) / this.ce);};r.exports=b;},function(r){function b(a){this.rN=a;this.Lb=0;this.aO=null;}b.prototype.add=function(a,c,l){null !== this.aO && c > this.aO && (this.Lb+=c - this.aO,this.aO=null);this.rN.add(a,c - this.Lb,l - this.Lb,this.Lb);};b.prototype.stop=function(a){null === this.aO && (this.aO=a);};b.prototype.ZBa=function(a,c){return this.rN.ZBa(a,c);};b.prototype.get=function(){return this.rN.get();};b.prototype.reset=function(){this.rN.reset();};b.prototype.toString=function(){return this.rN.toString();};r.exports=b;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.O4=void 0;c=a(416);r=(function(){function l(g,m){this.hAa=g;this.He=m;0 < m?(this.Fcb=m=Math.pow(g,3) / m,g=2 * m / g,500 >= g && (this.Bta=Math.exp(g))):this.Bta=0;}l.prototype.Z1a=function(g){var m,d,f;m=this.hAa;d=this.Bta;if(d && 0 < g){f=Math.sqrt(this.Fcb / (2 * g));m=g / m;g=(0,c.qP)(f * (m - 1));f=(0,c.qP)(f * (m + 1));return Math.max((2 - g + d * f) / 2,0);}return g < m?0:g > m?1:.5;};l.prototype.Ry=function(g,m,d){for(var f=0,h=this.hAa + 5 * Math.sqrt(this.He),k=1,n=0;Math.abs(k) > m && d--;){n=(f + h) / 2;k=this.Z1a(n);k=g - k;0 > k?h=n:f=n;}return n;};l.prototype.XJb=function(g){var m,d,f,h;m=this.hAa;d=this.Bta;if(d && 0 < g){f=Math.sqrt(this.Fcb / (2 * g));h=g / m;g=2 - (0,c.qP)(f * (h - 1));d*=(0,c.qP)(f * (h + 1));return [Math.max((g + d) / 2,0),Math.max(m * (g - d) / 2,0)];}return g < m?[0,0]:g > m?[1,m]:[.5,m / 2];};return l;})();b.O4=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.PJa=void 0;c=a(0);l=a(185);new (c.__importDefault(a(3)).default.Console)("ASEJS_TDIGEST_FILTER","media|asejs");r=(function(){function g(m){this.config=m;this.Bra=m.c;this.zza=m.Fvc;this.b_=m.b_;this.fZ=m.fZ;this.Cba=m.Cba;this.ngc=m.ltc;this.RJ=m.RJ;this.deb=m.deb;this.reset();}g.prototype.reset=function(){this.jh=new l.Sla(this.Bra,this.zza);this.Ab=null;};g.prototype.add=function(m,d,f){var h,k,n,v;f=Math.max(f - d,1);m=8 * m / f;if(this.ngc){null === this.Ab && (this.Ab=d);k=Math.pow(2,(d - this.Ab) / this.RJ);n=f * k;if(k >= this.deb){n=new l.Sla(this.Bra,this.zza);try{for(var p=c.__values(this.jh.Bl()),q=p.next();!q.done;q=p.next()){v=q.value;n.push(v.vg,v.n / k);}}catch(w){var t;t={error:w};}finally{try{q && !q.done && (h=p.return) && h.call(p);}finally{if(t)throw t.error;}}this.jh=n;n=f;this.Ab=d;}this.jh.push(m,n);}else this.jh.push(m,f);};g.prototype.get=function(){var m;m=this.jh.Qj([this.b_,this.fZ,this.Cba]);return {low:m[0] || 0,high:m[1] || 0,initial:m[2] || 0};};g.prototype.Hi=function(){var m,d,f,n;d=new g(this.config);f=new l.Sla(this.Bra,this.zza);try{for(var h=c.__values(this.jh.Bl()),k=h.next();!k.done;k=h.next()){n=k.value;f.push(n.vg,n.n);}}catch(q){var p;p={error:q};}finally{try{k && !k.done && (m=h.return) && m.call(h);}finally{if(p)throw p.error;}}d.jh=f;return d;};g.prototype.flush=function(){};g.prototype.start=function(){};g.prototype.stop=function(){};return g;})();b.PJa=r;},function(r,b,a){var l;function c(){this.Tk=void 0;this.dE=0;}l=a(11);c.prototype.start=function(){};c.prototype.stop=function(){};c.prototype.add=function(){};c.prototype.getState=function(){return 0 !== this.dE && this.Tk?{p25:this.Tk.dm,p50:this.Tk.zk,p75:this.Tk.em,c:this.dE}:null;};c.prototype.Od=function(g){if(!(!l.ub(g) && l.has(g,"p25") && l.has(g,"p50") && l.has(g,"p75") && l.has(g,"c") && l.isFinite(g.p25) && l.isFinite(g.p50) && l.isFinite(g.p75) && l.isFinite(g.c)))return (this.Tk=void 0,this.dE=0,!1);this.Tk={dm:g.p25,zk:g.p50,em:g.p75};this.dE=g.c;};c.prototype.get=function(){return {kea:this.Tk,ul:this.dE};};c.prototype.set=function(g,m){this.Tk=g;this.dE=m;};c.prototype.reset=function(){this.Tk=void 0;this.dE=0;};c.prototype.toString=function(){return "IQRHist(" + this.Tk + "," + this.dE + ")";};r.exports=c;},function(r,b,a){var l;function c(g){var m,d;m=g.sw;d=g.mw;this.eO=m;this.tma={uhd:g.uhdl,hd:g.hdl};this.Wk=Math.max(Math.ceil(1 * m / d),1);this.iCb=g.mins || 1;l.call(this,m,d);this.reset();}l=a(153);new (a(3).default.Console)("ASEJS_NETWORK_ENTROPY","media|asejs");c.prototype=Object.create(l.prototype);c.prototype.flush=function(){this.oe.map(function(g,m){this.N_a(g,this.zua(m));},this);};c.prototype.nJb=function(){var g,m,d,f,h,k,n,t;g=this.tma;for(m in g){if(g.hasOwnProperty(m)){d=g[m];f=this.Doa[m];h=this.Coa[m];if(f.first){k=f.first;n=f.bL;void 0 !== n && (h[k][n]+=1);f.first=void 0;}f=[];k=0;d=n=d.length + 1;for(var p=0;p < n;p++){for(var q=0,v=0;v < d;v++){q+=h[v][p];}k+=q;f.push(q);}q=-1;if(k > this.iCb){for(p=q=0;p < n;p++){if(0 < f[p])for(v=0;v < d;v++){t=h[v][p];0 < t && (q-=t * Math.log(1 * t / f[p]));}}q/=k * Math.log(2);}this.Wma[m]=q;}}return this.Wma;};c.prototype.N_a=function(g,m){var k,n;for(var d=this.Wk,f=this.tma;this.A6.length >= d;){this.A6.shift();}for(;this.B6.length >= d;){this.B6.shift();}this.A6.push(g);this.B6.push(m);g=this.A6.reduce(function(p,q){return p + q;},0);m=this.B6.reduce(function(p,q){return p + q;},0);if(0 < m){g=8 * g / m;for(var h in f){if(f.hasOwnProperty(h)){m=this.Doa[h];d=this.Coa[h];k=this.xbc(g,f[h]);n=m.bL;void 0 !== n?d[k][n]+=1:m.first=k;m.bL=k;}}}};c.prototype.xbc=function(g,m){for(var d=0;d < m.length && g > m[d];){d+=1;}return d;};c.prototype.shift=function(){this.N_a(this.oe[0],this.zua(0));l.prototype.shift.call(this);};c.prototype.reset=function(){var g,m,d,f,h,k,n;this.Doa={};this.A6=[];this.B6=[];this.Coa={};this.Wma={};g=this.tma;for(m in g){if(g.hasOwnProperty(m)){d=this.Coa;f=m;k=void 0;n=Array(k);k=h=g[m].length + 1;for(var p=0;p < k;p++){n[p]=Array(h);for(var q=0;q < h;q++){n[p][q]=0;}}d[f]=n;this.Doa[m]={first:void 0,bL:void 0};this.Wma[m]=0;}}l.prototype.reset.call(this);};r.exports=c;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.bTa=void 0;r=(function(){function a(c,l){this.Bj=0;this.filter=c;this.wea=l;this.Bj=0;}a.prototype.j_=function(c){return 0 < this.wea.filter(function(l){var g;return l === (null === (g=c.LC) || void 0 === g?void 0:g.qf);}).length;};a.prototype.add=function(c,l,g,m){this.j_(m) && this.filter.add(c,l,g,m);};a.prototype.start=function(c,l){this.filter.start && this.j_(l) && this.filter.start(c);};a.prototype.stop=function(c,l){this.filter.stop && this.j_(l) && this.filter.stop(c);};a.prototype.get=function(c){if(this.filter.get)return this.filter.get(c);};a.prototype.flush=function(){this.filter.flush && this.filter.flush();};a.prototype.reset=function(){this.Bj=0;this.filter.reset && this.filter.reset();};a.prototype.Fw=function(c,l){this.j_(l) && (this.Bj+=1,this.filter.Fw && this.filter.Fw(c,l));};a.prototype.$y=function(c,l,g){this.j_(g) && (this.Bj=Math.max(this.Bj - 1,0),0 === this.Bj && this.stop(c,g),this.filter.$y && this.filter.$y(c,g));};return a;})();b.bTa=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.PHa=void 0;c=a(0);l=a(952);r=(function(){function g(m,d){this.fm=m;this.filter=d;this.geb=Math.max(m.max_n || 10,0);this.reset();}g.prototype.reset=function(){this.J0=[];this.offset=0;this.nz=this.HG=null;this.filter.reset();this.f2=null;};g.prototype.add=function(m,d,f){var h;h=this.nz;null !== h && f > h && (this.offset+=Math.max(d - h,0),this.nz=null);for((0,l.gbb)(this.J0,[d - this.offset,f - this.offset,m]);this.J0 && this.J0.length > this.geb;){m=c.__read(this.J0.shift(),3);this.filter.add(m[2],m[0],m[1]);}this.f2=null;};g.prototype.get=function(m,d){var f,n;if(!this.f2){this.f2=this.filter.Hi();try{for(var h=c.__values(this.J0),k=h.next();!k.done;k=h.next()){n=c.__read(k.value,3);this.f2.add(n[2],n[0],n[1]);}}catch(q){var p;p={error:q};}finally{try{k && !k.done && (f=h.return) && f.call(h);}finally{if(p)throw p.error;}}}p=this.nz;return this.f2.get((null === p?m:p) - this.offset,d);};g.prototype.Hi=function(){var m;m=new g(this.fm,this.filter.Hi());m.nz=this.nz;m.offset=this.offset;return m;};g.prototype.start=function(m){var d;d=this.nz;null !== d && m > d && (this.offset+=m - d,this.nz=null);this.filter.start(m - this.offset);};g.prototype.stop=function(m){this.nz=null === this.nz?m:Math.min(this.nz,m);this.filter.stop(m - this.offset);};g.prototype.flush=function(){this.filter.flush();};g.prototype.toString=function(){return "AggregatingFilter(" + this.geb + ", " + this.filter.toString() + ")";};return g;})();b.PHa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.gbb=void 0;c=a(0);b.gbb=function(l,g){var h,k,n,p,q,v,t,x,y,z,B,A,C,D;for(var m,d,f=0;f < l.length;f++){h=c.__read(g,3);k=h[0];n=h[1];p=h[2];q=c.__read(l[f],3);v=q[0];h=q[1];t=q[2];if(!(k >= h)){k=[k,Math.min(h,n),v,h].filter(function(E,G,F){return F.indexOf(E) === G;}).sort(function(E,G){return E - G;});v=k.length - 1;q=Array(v);p+=t;try{for(var w=(m=void 0,c.__values([g,l[f]])),u=w.next();!u.done;u=w.next()){x=c.__read(u.value,3);y=x[0];z=x[1];B=x[2];t=z - y;for(g=0;g < v;g++){A=k[g + 1];C=Math.min(A,z) - Math.max(k[g],y);if(0 < C){D=C * B / t;p-=D;q[g]=q[g]?q[g] + D:D;}if(z <= A)break;}}}catch(E){m={error:E};}finally{try{u && !u.done && (d=w.return) && d.call(w);}finally{if(m)throw m.error;}}t=[];for(g=0;g < v;g++){B=q[g];0 < B && t.push([k[g],k[g + 1],B]);}l.splice.apply(l,c.__spreadArray([f,1],c.__read(t),!1));if(h < n)g=[h,n,p];else return;}}g && 0 < g[2] && l.splice(l.length,0,g);};},function(r,b,a){var l,g;function c(m){this.K=m;this.uV();}l=a(11);g=a(3).default;new g.Console("ASEJS_NETWORK_HISTORY","media|asejs");c.prototype.save=function(){var m;m=this.getState();g.storage.set("nh",m);};c.prototype.lhc=function(){this.qI || (this.qI=!0,this.AA=g.time.fa());};c.prototype.shc=function(){var m;if(this.qI){m=g.time.fa();this.DA+=m - this.AA;this.AA=m;this.qI=!1;this.sV=null;}};c.prototype.obb=function(m,d){this.qI && (d > this.AA && (this.DA+=d - this.AA,this.AA=d),null === this.sV || m > this.sV) && (m=d - m,this.FN.push([this.DA - m,m]),this.NEb(),this.sV=d);};c.prototype.NEb=function(){var m;m=this.DA - this.K.T6b;this.FN=this.FN.filter(function(d){return d[0] > m;});};c.prototype.uV=function(){var m;m=g.storage.get("nh");this.roa(m) || (this.AA=g.time.fa(),this.DA=0,this.qI=!1,this.sV=null,this.FN=[]);};c.prototype.roa=function(m){if(!(m && l.has(m,"t") && l.has(m,"s") && l.has(m,"i") && l.Qa(m.t) && l.Qa(m.s) && l.isArray(m.i)))return !1;this.AA=g.time.AAa(1E3 * m.t);this.DA=1E3 * m.s;this.qI=!1;this.FN=m.i.map(function(d){return [1E3 * d[0],d[1]];});this.sV=null;return !0;};c.prototype.getState=function(){return this.qI?{t:g.time.now() / 1E3 | 0,s:(this.DA + (g.time.fa() - this.AA)) / 1E3 | 0,i:this.FN.map(function(m){return [m[0] / 1E3 | 0,m[1]];})}:{t:g.time.eAa(this.AA) / 1E3 | 0,s:this.DA / 1E3 | 0,i:this.FN.map(function(m){return [m[0] / 1E3 | 0,m[1]];})};};r.exports=c;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.zQa=void 0;r=a(0).__importDefault(a(3));c=a(6);new r.default.Console("ASEJS_NETWORK_CONFIDENCE","media|asejs");a=(function(){function l(g,m){this.config=g;this.Qda=m;this.reset();}l.prototype.reset=function(){this.confidence=c.zD.HAVE_NOTHING;this.startTime=this.ga=0;};l.prototype.Hi=function(){var g;g=new l(this.config,this.Qda);g.confidence=this.confidence;g.ga=this.ga;g.startTime=this.startTime;return g;};l.prototype.add=function(g,m,d){0 === this.startTime && (this.startTime=m,this.ga=0);this.ga+=g;g=d - this.startTime;this.confidence=Math.max(this.confidence,c.zD.qD);this.confidence < c.zD.pD && (g > this.config.hCb || this.ga > this.config.gCb) && (this.confidence=c.zD.pD);this.confidence < c.zD.IT && (g > this.config.BDb || this.ga > this.config.ADb) && (this.confidence=c.zD.IT,this.Qda());};l.prototype.get=function(){return this.confidence;};l.prototype.start=function(){};l.prototype.stop=function(){};l.prototype.flush=function(){};return l;})();b.zQa=a;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.cja=void 0;r=a(0);c=a(956);l=a(6);new (r.__importDefault(a(3)).default.Console)("ASEJS_ENDPOINT_ACTIVITY","media|asejs");a=(function(){var j1v;j1v=2;for(;j1v !== 7;){switch(j1v){case 4:g.prototype.pE=function(m,d,f,h){var y9B;y9B=2;for(;y9B !== 1;){switch(y9B){case 2:h.fl && (this.$wa?this.IG.add(m,d,f,h.fl):this.iW === h.fl && this.IG.add(m,d,f,h.fl));y9B=1;break;}}};g.prototype.mp=function(){var U3B;U3B=2;for(;U3B !== 1;){switch(U3B){case 4:return this.IG.get();break;case 2:return this.IG.get();break;}}};g.prototype.Pob=function(m){var A49,d,f;A49=2;for(;A49 !== 5;){switch(A49){case 2:(d=Object.keys(this.xB).map(function(h){var x$V;x$V=2;for(;x$V !== 1;){switch(x$V){case 2:return parseInt(h);break;}}}),f=this.xB[d[0]]);1 === d.length && !1 === f.E$?(this.IG.start(m,f.fl),this.iW=f.fl):1 < d.length && this.iW && (d=this.xB[this.iW],this.IG.stop(m,this.iW),d.E$=!1,this.iW=void 0);A49=5;break;}}};return g;break;case 2:g.prototype.reset=function(){var d5r;d5r=2;for(;d5r !== 1;){switch(d5r){case 4:this.IG=new c.BJa();d5r=0;break;case 2:this.IG=new c.BJa();d5r=1;break;}}};g.prototype.Fw=function(m,d){var i2e;i2e=2;for(;i2e !== 1;){switch(i2e){case 2:d.fl && (this.$wa?this.IG.start(m,d.fl):d.type === l.u.J && (this.xB[d.fl]?this.xB[d.fl].F2+=1:this.xB[d.fl]={fl:d.fl,F2:1,E$:!1},this.Pob(m)));i2e=1;break;}}};g.prototype.$y=function(m,d){var u0X,f;u0X=2;for(;u0X !== 9;){switch(u0X){case 1:u0X=this.$wa?5:4;break;case 7:u0X=d.fl?5:10;break;case 2:u0X=d.fl?1:9;break;case 5:this.IG.stop(m,d.fl);u0X=9;break;case 4:f=this.xB[d.fl];d.type === l.u.J && f && (--f.F2,0 === f.F2 && (f.E$ && this.IG.stop(m,d.fl),f.E$=!1,delete this.xB[d.fl]),this.Pob(m));u0X=9;break;}}};j1v=4;break;}}function g(m){var q70;q70=2;for(;q70 !== 4;){switch(q70){case 2:var S2$="1SIYb";S2$+="Z";S2$+="rNJCp";S2$+="9";this.$wa=m;this.xB={};S2$;q70=4;break;}}}})();b.cja=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.BJa=void 0;c=a(0).__importDefault(a(262));r=(function(){var q6r;q6r=2;for(;q6r !== 9;){switch(q6r){case 2:l.prototype.add=function(g,m,d,f){var Q2Y,h;Q2Y=2;for(;Q2Y !== 4;){switch(Q2Y){case 2:h=this.e7;void 0 === h[f] && (h[f]=new c.default());h[f].add(g,m,d);Q2Y=4;break;}}};l.prototype.start=function(g,m){var p0D,d;p0D=2;for(;p0D !== 4;){switch(p0D){case 2:d=this.e7;void 0 === d[m] && (d[m]=new c.default());d[m].start(g);p0D=4;break;}}};l.prototype.stop=function(g,m){var D9n,d;D9n=2;for(;D9n !== 5;){switch(D9n){case 2:d=this.e7;void 0 !== d[m] && d[m].stop(g);D9n=5;break;}}};l.prototype.get=function(){var J5f,h,k,g,m,d,f;J5f=2;for(;J5f !== 8;){switch(J5f){case 9:return d;break;case 5:(h=m[f],k=g[h].get());k && d.push({cdnid:h,avtp:k.xa,tm:k.X9});J5f=3;break;case 3:f++;J5f=1;break;case 1:J5f=f < m.length?5:9;break;case 2:(g=this.e7,m=Object.keys(g).map(function(n){var W2B;W2B=2;for(;W2B !== 1;){switch(W2B){case 4:return parseInt(n);break;case 2:return parseInt(n);break;}}}),d=[],f=0);J5f=1;break;}}};return l;break;}}function l(){var t2s;t2s=2;for(;t2s !== 5;){switch(t2s){case 3:this.e7={};"";t2s=6;break;case 2:var O6h="1";O6h+="SIY";O6h+="bZ";O6h+="rNJCp9";this.e7={};O6h;t2s=5;break;}}}})();b.BJa=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.qRa=void 0;r=a(0);c=a(6);l=r.__importDefault(a(262));a=(function(){var O1T;O1T=2;for(;O1T !== 3;){switch(O1T){case 2:g.prototype.reset=function(){var r6J;r6J=2;for(;r6J !== 4;){switch(r6J){case 2:this.Z0=[0,0];this.Rg=[0,0];this.c0=[0,0];r6J=4;break;}}};g.prototype.pE=function(m,d,f,h){var M9O,k,n;M9O=2;for(;M9O !== 8;){switch(M9O){case 5:M9O=(null === (k=h.$0) || void 0 === k?0:k.Uba())?4:3;break;case 2:this.Rg[h.type]+=m;M9O=5;break;case 4:(this.Z0[h.type]+=m,this.ahb.add(m,d,f),this.gBa[h.type].add(m,d,f));M9O=3;break;case 9:this.c0[h.type]+=m;M9O=8;break;case 3:M9O=(null === (n=h.$0) || void 0 === n?0:n.uza(m,d,f,this.d0))?9:8;break;}}};g.prototype.Baa=function(){var y7A;y7A=2;for(;y7A !== 1;){switch(y7A){case 2:return {bytesRequestedPacingVideo:this.Z0[c.u.J],bytesRequestedPacingAudio:this.Z0[c.u.T],estimatedBytesPacedVideo:this.c0[c.u.J],estimatedBytesPacedAudio:this.c0[c.u.T],bytestotalVideo:this.Rg[c.u.J],bytestotalAudio:this.Rg[c.u.T],pacedAvtpVideo:this.gBa[c.u.J].get().xa,pacedAvtpAudio:this.gBa[c.u.T].get().xa,pacedAvtp:this.ahb.get().xa};break;}}};return g;break;}}function g(m){var y35;y35=2;for(;y35 !== 7;){switch(y35){case 8:this.ahb=new l.default();y35=7;break;case 2:var t$h="1";t$h+="SIY";t$h+="bZrNJCp9";this.Z0=[0,0];this.Rg=[0,0];this.c0=[0,0];t$h;this.d0=m.d0;this.gBa=[new l.default(),new l.default()];y35=8;break;}}}})();b.qRa=a;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(0);r.__exportStar(a(959),b);r.__exportStar(a(263),b);},function(r,b,a){var l,g,m,d,f,h,k;function c(n){if(-1 !== m.B2.indexOf(n))return n;for(var p,q=0;q < m.B2.length;++q){if(-1 !== n.indexOf(m.B2[q])){p=m.B2[q];break;}}f.assert(p);return p;}Object.defineProperty(b,"__esModule",{value:!0});b.hVa=void 0;l=a(0);g=a(960);m=a(985);d=a(263);f=a(425);h=a(986);k=a(987);r=(function(){function n(p,q){this.atob=p;this.console=q;this.DO=1;this.A2=[];this.zW=[];}n.prototype.iZb=function(p,q,v,t,w){var u,z;void 0 === t && (t={w:16,Ur:9});void 0 === w && (w=1);q=c(q);u=h.Qc(d.TGa,function(B){return d.N7a(v,d.M7a[B]);});f.assert(u);f.assert(16 === t.w && 9 === t.Ur || 4 === t.w && 3 === t.Ur);t=16 === t.w?"16:9":"4:3";for(var x=0,y=this.A2;x < y.length;x++){z=y[x];if(z.type === p && z.Px === t && z.fe === q && z.frameRate === u && z.trackId === w)return z;}p=this.zPb(p,t,q,u,w);this.A2.unshift(p);this.A2.length > this.DO && this.A2.splice(this.DO,this.A2.length - this.DO);return p;};n.prototype.hZb=function(p,q,v){var x;void 0 === v && (v=1);for(var t,w=0,u=this.zW;w < u.length;w++){x=u[w];"silence" === x.type && x.fe === p && x.bitrate === q && x.trackId === v && (t=x);}void 0 === t && (t=this.pPb(p,q,v),this.zW.unshift(t),this.zW.length > this.DO && this.zW.splice(this.DO,this.zW.length - this.DO));return t;};n.prototype.zPb=function(p,q,v,t,w){var u;u=g.Vpb[p][q][v][t]();return l.__assign(l.__assign({},this.decode(u,w)),{type:p,Px:q,fe:v,frameRate:t,width:u.width,height:u.height,zd:u.zd,Ad:u.Ad});};n.prototype.pPb=function(p,q,v){var t;t=g.L0a.silence[p][q];f.assert(t);t=t();return l.__assign(l.__assign({},this.decode(t,v)),{type:"silence",fe:p,bitrate:q,channels:t.channels});};n.prototype.decode=function(p,q){var v,t,w,u;v=p.Zb?this.F4a(p.oa,p.Cf,p.Ef,p.Df):this.atob(p.oa);t=p.Yb?this.F4a(p.pa,p.yf,p.Af,p.zf):this.atob(p.pa);if(1 !== q){w=new DataView(v);u=new DataView(t);p.qc.forEach(function(x){return w.setUint32(x,q);});p.pc.forEach(function(x){return u.setUint32(x,q);});}return l.__assign(l.__assign({},p),{oa:v,pa:t,trackId:q});};n.prototype.F4a=function(p,q,v,t){p=void 0 === q?k.Cca(p):t?k.Cca(q + p):k.Cca(p,new Uint8Array(this.atob(q)));return p.buffer.slice(p.byteOffset + (v || 0),p.byteOffset + p.byteLength);};return n;})();b.hVa=r;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.L0a=b.Vpb=void 0;b.Vpb={padding:{"16:9":{h264hpl:{23976:function(){return a(155);},24:function(){return a(961);},25:function(){return a(962);},2997:function(){return a(963);},30:function(){return a(964);}},h264:{23976:function(){return a(156);},24:function(){return a(965);},25:function(){return a(966);},2997:function(){return a(967);},30:function(){return a(968);}}},"4:3":{h264hpl:{23976:function(){return a(157);},24:function(){return a(969);},25:function(){return a(970);},2997:function(){return a(971);},30:function(){return a(972);}},h264:{23976:function(){return a(158);},24:function(){return a(973);},25:function(){return a(974);},2997:function(){return a(975);},30:function(){return a(976);}}}}};b.L0a={silence:{heaac:{64:function(){return a(977);},96:function(){return a(978);},128:function(){return a(979);}},ddp:{192:function(){return a(980);},256:function(){return a(981);},384:function(){return a(982);},448:function(){return a(983);},640:function(){return a(984);}}}};},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Ad=b.zd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=b.Af=b.Yb=b.pa=b.Ef=b.Zb=b.oa=b.zf=b.yf=b.Df=b.Cf=void 0;r=a(155);b.Cf=r.oa;b.Df=r.Zb;b.yf=r.pa;b.zf=r.Yb;b.oa="hdwhDRhdxxAlhdx9DQhdwFCdhdxSBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLhZgAgAgCgAoAheAphJ4BgAYDheBXgO4CheASDogBoG";b.Zb=!0;b.Ef=751;b.pa="h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/pBg9AAh/sP";b.Yb=!0;b.Af=1022;b.da={Ea:1E3,W:24E3};b.duration={Ea:6E3,W:24E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.zd=4;b.Ad=3;b.qc=[176,733];b.pc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Ad=b.zd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=b.Af=b.Yb=b.pa=b.Ef=b.Zb=b.oa=b.zf=b.yf=b.Df=b.Cf=void 0;r=a(155);b.Cf=r.oa;b.Df=r.Zb;b.yf=r.pa;b.zf=r.Yb;b.oa="hdwhDRhdwYBhCohdxVAlhdx9DQhdwFCdhdwYgfYEhdwyBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLhZgAgAgCADAgheApBehKABgAYCheBWAbBYheAVDogBoG";b.Zb=!0;b.Ef=751;b.pa="gCoBDDh/oVCrh/oZDoh/oRgvQAh/oIAHgAYBDLh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFALC4gC4NATiBIMAagCwBBWiBX/iBQug/4AiBTHdDP/6eAQhgYAh1QCiBQrBmiBQEAUDwCviBQHgEYBCFgEYF";b.Yb=!0;b.Af=1022;b.da={Ea:1E3,W:25E3};b.duration={Ea:7E3,W:25E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.zd=4;b.Ad=3;b.qc=[176,733];b.pc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Ad=b.zd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=b.Af=b.Yb=b.pa=b.Ef=b.Zb=b.oa=b.zf=b.yf=b.Df=b.Cf=void 0;r=a(155);b.Cf=r.oa;b.Df=r.Zb;b.yf=r.pa;b.zf=r.Yb;b.oa="hdw8B1Awhdz4gfYEhdz9AOCmhdwqBkDogAYEhdxWAfgbYChdwb";b.Zb=!0;b.Ef=751;b.pa="gCoBDQh/oVC4h/othkQAh/oIAIgAYBDYh/pEAPCkgHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Yb=!0;b.Af=1022;b.da={Ea:1001,W:3E4};b.duration={Ea:8008,W:3E4};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.zd=4;b.Ad=3;b.qc=[176,731];b.pc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Ad=b.zd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=b.Af=b.Yb=b.pa=b.Ef=b.Zb=b.oa=b.zf=b.yf=b.Df=b.Cf=void 0;r=a(155);b.Cf=r.oa;b.Df=r.Zb;b.yf=r.pa;b.zf=r.Yb;b.oa="hdwhDRhdwYB1AwhdxVAlhdx9DQhdwFCdhdwYgfYEhdwyBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLhZgAgAgCADDAheApgi4CgjYDheBVAfg8YCheASDogBoG";b.Zb=!0;b.Ef=751;b.pa="gCoBDQh/oVC4h/oZDoh/oRhkQAh/oIAIgAYBDYh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFAPCggHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Yb=!0;b.Af=1022;b.da={Ea:1E3,W:3E4};b.duration={Ea:8E3,W:3E4};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.zd=4;b.Ad=3;b.qc=[176,733];b.pc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Ad=b.zd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=b.Af=b.Yb=b.pa=b.Ef=b.Zb=b.oa=b.zf=b.yf=b.Df=b.Cf=void 0;r=a(156);b.Cf=r.oa;b.Df=r.Zb;b.yf=r.pa;b.zf=r.Yb;b.oa="hdghDPhdhxAjhdh9DQhdgFCbhdhSBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKhZYAgAgCABCAhdwohJoBgAYDhdxXgO4ChdwSDogBoG";b.Zb=!0;b.Ef=749;b.pa="h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/pBg9AAh/sP";b.Yb=!0;b.Af=1022;b.da={Ea:1E3,W:24E3};b.duration={Ea:6E3,W:24E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.zd=4;b.Ad=3;b.qc=[176,731];b.pc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Ad=b.zd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=b.Af=b.Yb=b.pa=b.Ef=b.Zb=b.oa=b.zf=b.yf=b.Df=b.Cf=void 0;r=a(156);b.Cf=r.oa;b.Df=r.Zb;b.yf=r.pa;b.zf=r.Yb;b.oa="hdghDPhdgYBhCohdhVAjhdh9DQhdgFCbhdgYgfYEhdgyBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKhZYAgAgCABCQhdwoBehJwBgAYChdxWAbBYhdwVDogBoG";b.Zb=!0;b.Ef=749;b.pa="gCoBDDh/oVCrh/oZDoh/oRgvQAh/oIAHgAYBDLh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFALC4gC4NATiBIMAagCwBBWiBX/iBQug/4AiBTHdDP/6eAQhgYAh1QCiBQrBmiBQEAUDwCviBQHgEYBCFgEYF";b.Yb=!0;b.Af=1022;b.da={Ea:1E3,W:25E3};b.duration={Ea:7E3,W:25E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.zd=4;b.Ad=3;b.qc=[176,731];b.pc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Ad=b.zd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=b.Af=b.Yb=b.pa=b.Ef=b.Zb=b.oa=b.zf=b.yf=b.Df=b.Cf=void 0;r=a(156);b.Cf=r.oa;b.Df=r.Zb;b.yf=r.pa;b.zf=r.Yb;b.oa="hdg8B1Awhdj4gfYEhdj8AHBThdgpBkDogAYEhdhWgR4Bhdgd";b.Zb=!0;b.Ef=749;b.pa="gCoBDQh/oVC4h/othkQAh/oIAIgAYBDYh/pEAPCkgHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Yb=!0;b.Af=1022;b.da={Ea:1001,W:3E4};b.duration={Ea:8008,W:3E4};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.zd=4;b.Ad=3;b.qc=[176,729];b.pc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Ad=b.zd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=b.Af=b.Yb=b.pa=b.Ef=b.Zb=b.oa=b.zf=b.yf=b.Df=b.Cf=void 0;r=a(156);b.Cf=r.oa;b.Df=r.Zb;b.yf=r.pa;b.zf=r.Yb;b.oa="hdghDPhdgYB1AwhdhVAjhdh9DQhdgFCbhdgYgfYEhdgyBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKhZYAgAgCABDghdwogioCgjIDhdxVAfg8IChdwSDogBoG";b.Zb=!0;b.Ef=749;b.pa="gCoBDQh/oVC4h/oZDoh/oRhkQAh/oIAIgAYBDYh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFAPCggHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Yb=!0;b.Af=1022;b.da={Ea:1E3,W:3E4};b.duration={Ea:8E3,W:3E4};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.zd=4;b.Ad=3;b.qc=[176,731];b.pc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Ad=b.zd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=b.Af=b.Yb=b.pa=b.Ef=b.Zb=b.oa=b.zf=b.yf=b.Df=b.Cf=void 0;r=a(157);b.Cf=r.oa;b.Df=r.Zb;b.yf=r.pa;b.zf=r.Yb;b.oa="hdwhDRhdxxAlhdx9DQhdwFCdhdxSBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLADhNQAgAgBgAoAheAphJ4BgAYDheBXgO4CheASDogBoG";b.Zb=!0;b.Ef=751;b.pa="h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/pBg9AAh/sP";b.Yb=!0;b.Af=1022;b.da={Ea:1E3,W:24E3};b.duration={Ea:6E3,W:24E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.zd=1;b.Ad=1;b.qc=[176,733];b.pc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Ad=b.zd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=b.Af=b.Yb=b.pa=b.Ef=b.Zb=b.oa=b.zf=b.yf=b.Df=b.Cf=void 0;r=a(157);b.Cf=r.oa;b.Df=r.Zb;b.yf=r.pa;b.zf=r.Yb;b.oa="hdwhDRhdwYBhCohdxVAlhdx9DQhdwFCdhdwYgfYEhdwyBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLADhNQAgAgBADAgheApBehKABgAYCheBWAbBYheAVDogBoG";b.Zb=!0;b.Ef=751;b.pa="gCoBDDh/oVCrh/oZDoh/oRgvQAh/oIAHgAYBDLh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFALC4gC4NATiBIMAagCwBBWiBX/iBQug/4AiBTHdDP/6eAQhgYAh1QCiBQrBmiBQEAUDwCviBQHgEYBCFgEYF";b.Yb=!0;b.Af=1022;b.da={Ea:1E3,W:25E3};b.duration={Ea:7E3,W:25E3};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.zd=1;b.Ad=1;b.qc=[176,733];b.pc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Ad=b.zd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=b.Af=b.Yb=b.pa=b.Ef=b.Zb=b.oa=b.zf=b.yf=b.Df=b.Cf=void 0;r=a(157);b.Cf=r.oa;b.Df=r.Zb;b.yf=r.pa;b.zf=r.Yb;b.oa="hdw8B1Awhdz4gfYEhdz9AOCmhdwqBkDogAYEhdxWAfgbYChdwb";b.Zb=!0;b.Ef=751;b.pa="gCoBDQh/oVC4h/othkQAh/oIAIgAYBDYh/pEAPCkgHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Yb=!0;b.Af=1022;b.da={Ea:1001,W:3E4};b.duration={Ea:8008,W:3E4};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.zd=1;b.Ad=1;b.qc=[176,731];b.pc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Ad=b.zd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=b.Af=b.Yb=b.pa=b.Ef=b.Zb=b.oa=b.zf=b.yf=b.Df=b.Cf=void 0;r=a(157);b.Cf=r.oa;b.Df=r.Zb;b.yf=r.pa;b.zf=r.Yb;b.oa="hdwhDRhdwYB1AwhdxVAlhdx9DQhdwFCdhdwYgfYEhdwyBIhdw9AIhdwFC8hdwNCshdxTAyhdwJAZhdwLADhNQAgAgBADDAheApgi4CgjYDheBVAfg7wCheASDogBoG";b.Zb=!0;b.Ef=751;b.pa="gCoBDQh/oVC4h/oZDoh/oRhkQAh/oIAIgAYBDYh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFAPCggHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Yb=!0;b.Af=1022;b.da={Ea:1E3,W:3E4};b.duration={Ea:8E3,W:3E4};b.profile="playready-h264hpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.zd=1;b.Ad=1;b.qc=[176,733];b.pc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Ad=b.zd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=b.Af=b.Yb=b.pa=b.Ef=b.Zb=b.oa=b.zf=b.yf=b.Df=b.Cf=void 0;r=a(158);b.Cf=r.oa;b.Df=r.Zb;b.yf=r.pa;b.zf=r.Yb;b.oa="hdghDPhdhxAjhdh9DQhdgFCbhdhSBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKADAAAIgAgBABCAhdwohJoBgAYDhdxXgO4ChdwSDogBoG";b.Zb=!0;b.Ef=749;b.pa="h/o1Doh/otDQh/oJCIh/oJgC4Ch/oSgL4Ch/oGgEYCh/v/h/pBg9AAh/sP";b.Yb=!0;b.Af=1022;b.da={Ea:1E3,W:24E3};b.duration={Ea:6E3,W:24E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.zd=1;b.Ad=1;b.qc=[176,731];b.pc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Ad=b.zd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=b.Af=b.Yb=b.pa=b.Ef=b.Zb=b.oa=b.zf=b.yf=b.Df=b.Cf=void 0;r=a(158);b.Cf=r.oa;b.Df=r.Zb;b.yf=r.pa;b.zf=r.Yb;b.oa="hdghDPhdgYBhCohdhVAjhdh9DQhdgFCbhdgYgfYEhdgyBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKADAAAIgAgBABCQhdwoBehJwBgAYChdxWAbBYhdwVDogBoG";b.Zb=!0;b.Ef=749;b.pa="gCoBDDh/oVCrh/oZDoh/oRgvQAh/oIAHgAYBDLh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFALC4gC4NATiBIMAagCwBBWiBX/iBQug/4AiBTHdDP/6eAQhgYAh1QCiBQrBmiBQEAUDwCviBQHgEYBCFgEYF";b.Yb=!0;b.Af=1022;b.da={Ea:1E3,W:25E3};b.duration={Ea:7E3,W:25E3};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.zd=1;b.Ad=1;b.qc=[176,731];b.pc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Ad=b.zd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=b.Af=b.Yb=b.pa=b.Ef=b.Zb=b.oa=b.zf=b.yf=b.Df=b.Cf=void 0;r=a(158);b.Cf=r.oa;b.Df=r.Zb;b.yf=r.pa;b.zf=r.Yb;b.oa="hdg8B1Awhdj4gfYEhdj8AHBThdgpBkDogAYEhdhWgR4Bhdgd";b.Zb=!0;b.Ef=749;b.pa="gCoBDQh/oVC4h/othkQAh/oIAIgAYBDYh/pEAPCkgHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Yb=!0;b.Af=1022;b.da={Ea:1001,W:3E4};b.duration={Ea:8008,W:3E4};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.zd=1;b.Ad=1;b.qc=[176,729];b.pc=[44];},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.Ad=b.zd=b.height=b.width=b.bitrate=b.profile=b.duration=b.da=b.Af=b.Yb=b.pa=b.Ef=b.Zb=b.oa=b.zf=b.yf=b.Df=b.Cf=void 0;r=a(158);b.Cf=r.oa;b.Df=r.Zb;b.yf=r.pa;b.zf=r.Yb;b.oa="hdghDPhdgYB1AwhdhVAjhdh9DQhdgFCbhdgYgfYEhdgyBGhdg9AGhdgFC6hdgNCqhdhTAwhdgJAYhdgKADAAAIgAgBABDghdwogioCgjIDhdxVAfg7gChdwSDogBoG";b.Zb=!0;b.Ef=749;b.pa="gCoBDQh/oVC4h/oZDoh/oRhkQAh/oIAIgAYBDYh/oJDQh/oJCIh/oJgC4Ch/oSgL4Ch/oFAPCggHYIgC4DgEYKAUiCoMgAYAgC4BBmiC//iC4ug/4AiC6JAziC4BDsC+iC4AAUDIiC4BcsxdpKBwA+AqCkGAB3A0DAhlwAcW5YhODXD+DzDeDPCABpgBoAcKgHlYBoAkA0CnARCRDmDoBxiC4XB/h/YFiC4EgBoBDpiC4IgBoCiC4FBniC4FdP//3xgCAAAfDhgJ4DCeCFBFgQIAAriLIBgIIGCmgGYF";b.Yb=!0;b.Af=1022;b.da={Ea:1E3,W:3E4};b.duration={Ea:8E3,W:3E4};b.profile="playready-h264mpl30-dash";b.bitrate=64;b.width=320;b.height=240;b.zd=1;b.Ad=1;b.qc=[176,731];b.pc=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.channels=b.profile=b.bitrate=b.duration=b.da=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACCtBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABefdHJhBrgBYBBcB0BrgOYDADgLoZgCYDgCgDgO4rcBO21kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBTgB4BBkBIBhgAYABsBlgEYDfmbWluBmgA4BAQgoIAgKgLAkgNYAgC4DccZHJlgA4CgTwGcMdXJsAggBYFeqc3RiBsgA4BBegA4ABzgHYGgC4CdObXA0gVACgaQMgkwAAQgwQJAqBlgGQABzgBACADAcgAgBcEFEAVgAoAAXgAQAAFBYge4CEFcTEFblAAAGABgrQBgTIBF0gFIDgAAFgB4BBzBjgB4JAUgB4BB6gpANgEYBBjBvgB4JA4hBQABlB4gC4CBtBlgcoGA0gAgCAgg2wAgC4DgVIGgAYBAEg6YGgAACdidWR0gZICBagG4AgA4DgAACAhgrwKgyQBg/AAFwggoCgAAHAtBpBsgPwAgA4BAlCpB0hRAAgA4BAdhS4AgHgDghQDdMYXZmA1A5AuAyA3AuAxEw";b.Zb=!0;b.pa="IAB8BtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdkdHJhgC4CAcB0gC4CACAAAqgC4FgAYBAEgBwBgAADAQgDYAgEwAgGYFgAACAwgGYAB1BugAwAACgE4CAHgAYBCEgAYBAXgAYBAGgAYVdDbWRhB0DegJgAdMYXZjA1A5AuAzA3AuAxEwcAQiAIDBAYA4AhAQAEBgCMAcgAoc";b.Yb=!0;b.da={Ea:1024,W:24E3};b.duration={Ea:7168,W:24E3};b.bitrate=64;b.profile="heaac-2-dash";b.channels="2.0";b.qc=[176,599];b.pc=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.channels=b.profile=b.bitrate=b.duration=b.da=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACCtBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABefdHJhBrgBYBBcB0BrgOYDADgLoZgCYDgCgDgO4rcBO21kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBTgB4BBkBIBhgAYABsBlgEYDfmbWluBmgA4BAQgoIAgKgLAkgNYAgC4DccZHJlgA4CgTwGcMdXJsAggBYFeqc3RiBsgA4BBegA4ABzgHYGgC4CdObXA0gVACgaQMgkwAAQgwQJAqBlgGQABzgBACADAcgAgBcEFEAVgAoAAXgAQAAFBYgBoBBgEFcTEFblAAAGABgrQBgTIBF0gFIDgAAFgB4BBzBjgB4JAUgB4BB6gpANgEYBBjBvgB4JA4hBQABlB4gC4CBtBlgcoGA0gAgCAgg2wAgC4DgVIGgAYBAEg6YGgAACdidWR0gZICBagG4AgA4DgAACAhgrwKgyQBg/AAFwggoCgAAHAtBpBsgPwAgA4BAlCpB0hRAAgA4BAdhS4AgHgDghQDdMYXZmA1A5AuAyA3AuAxEw";b.Zb=!0;b.pa="IAB8BtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdkdHJhgC4CAcB0gC4CACAAAqgC4FgAYBAEgBwBgAADAQgDYAgEwAgGYFgAACAwgGYAB1BugAwAACgE4CAHgAYBCEgAYBAXgAYBAGgAYVdDbWRhB0DegJgAdMYXZjA1A5AuAzA3AuAxEwcAQiAIDBAYA4AhAQAEBgCMAcgAoc";b.Yb=!0;b.da={Ea:1024,W:24E3};b.duration={Ea:7168,W:24E3};b.bitrate=96;b.profile="heaac-2-dash";b.channels="2,0";b.qc=[176,599];b.pc=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.channels=b.profile=b.bitrate=b.duration=b.da=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACCtBtFvB2gDYBdsbXZoBkgA4BgAAJBdDAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABefdHJhBrgBYBBcB0BrgOYDADgLoZgCYDgCgDgO4rcBO21kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBTgB4BBkBIBhgAYABsBlgEYDfmbWluBmgA4BAQgoIAgKgLAkgNYAgC4DccZHJlgA4CgTwGcMdXJsAggBYFeqc3RiBsgA4BBegA4ABzgHYGgC4CdObXA0gVACgaQMgkwAAQgwQJAqBlgGQABzgBACADAcgAgBcEFEAVgAoAAXgAQAAFBYgBoBCAEFcTEFblAAAGABgrQBgTIBF0gFIDgAAFgB4BBzBjgB4JAUgB4BB6gpANgEYBBjBvgB4JA4hBQABlB4gC4CBtBlgcoGA0gAgCAgg2wAgC4DgVIGgAYBAEg6YGgAACdidWR0gZICBagG4AgA4DgAACAhgrwKgyQBg/AAFwggoCgAAHAtBpBsgPwAgA4BAlCpB0hRAAgA4BAdhS4AgHgDghQDdMYXZmA1A5AuAyA3AuAxEw";b.Zb=!0;b.pa="IAB8BtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdkdHJhgC4CAcB0gC4CACAAAqgC4FgAYBAEgBwBgAADAQgDYAgEwAgGYFgAACAwgGYAB1BugAwAACgE4CAHgAYBCEgAYBAXgAYBAGgAYVdDbWRhB0DegJgAdMYXZjA1A5AuAzA3AuAxEwcAQiAIDBAYA4AhAQAEBgCMAcgAoc";b.Yb=!0;b.da={Ea:1024,W:24E3};b.duration={Ea:7168,W:24E3};b.bitrate=128;b.profile="heaac-2hq-dash";b.channels="2.0";b.qc=[176,599];b.pc=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.channels=b.profile=b.bitrate=b.duration=b.da=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzgCQAAgAPgBgCAUBignwAB0gAwAADgpYBDugB4CDAgSADF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgRQAg5QFAA";b.Zb=!0;b.pa="IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBADgCQBgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgAQAcYCG1kBhB0ALB3ABB/A/CHDAgKAAgCgBgHYCAEBIAfgAYAgAAAIBAAJAIQgBgBcY+fPnDPCfA+B8gAwBDfDzCrgBQGDHD8DqgC4Gfx/zq+gCQCgBgCB/DOCvgD4EgBgAAfgFgLgQwCcDxtttC2DbDHCPAeA7G7C4gB4BcNa1rWC1CggBABAbgCwBdvHjx4LuDggWQFB4gFQCd48ePHJ3gCQFADgCIBBtgCAACPAdHdDcgCQFAPgHIRgbgBgdIBDjgFgMAGC1CtgNgADQgOYCgCwBC3gQIAA8gKwBBwgGAFA8gFQCC8gNYBgSoAC7CAgtgFgCIBC2gPgBCOgK4BgEoFAHCNgHIQA2gAoDDxgFgMADgagBCtBogOYCgdoMgAACAeA2gCYBDegVwADxgSoADdguoAgAAEgdARgk4NgAACAbgioSABgagBDWC0gjQogdARgk4NgAACANgDYDgioOgagBgNgAgjQpgdAQgk4NgAACAGgDYDgioOhCwCCtgjQphHokBghiAJgAAEBIA4hf//hf//hf//hf//hf//hf//hf//hf//hf//hf//hf70";b.Yb=!0;b.da={Ea:1536,W:48E3};b.duration={Ea:12288,W:48E3};b.bitrate=192;b.profile="ddplus-5.1-dash";b.channels="5.1";b.qc=[176,590];b.pc=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.channels=b.profile=b.bitrate=b.duration=b.da=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzAIgZYAAPgBgCAUBignwAB0gAwAAEgAQAADDogGYGgSAAF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgToAg5QFAA";b.Zb=!0;b.pa="IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBAEgCQBgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgIQBcIbWRhB0ALB3ABD/A/CHDAgBoAgCgBgHYCcD+B9lEEEBAAFAEQgBAAcY+fPnDPCfA+B9D/A6C+B8gBQEgAwUB/DOCvgDQWgAwDAfDzCrgHgYgAwBDHD8DqgLwaD5DxgQAgCggXoBd3zWtagCAABtC2DbgAQJe1rWtAgDIdBfA+gDAMDWgDIABogDAAAOD5gD4AgDIvDIgoYCC+gNYADXDPCbgD4LgNYBBagDIegXIxgDIVB2gAYBcAHfNaDWgmgAgDgKgAQAgNYBDQgDIdgXIygDIVCyhPQCDvCagjQADzDmgNgMgDoADWCAgDIdgXIxgDIWCQgQoBAHB8gNYAhUQAA2gD4LgNYBC0gDIegXIxgDIVDsgAYBAAA7DmgjQAhWQAg2ILDbgDoAC1hXYBgDIbgXIygDIViJoGgAADBABZh///h///h///h///h///h///h///h///h///h///h///h///h///h//x";b.Yb=!0;b.da={Ea:1536,W:48E3};b.duration={Ea:12288,W:48E3};b.bitrate=256;b.profile="ddplus-5.1hq-dash";b.channels="5.1";b.qc=[176,590];b.pc=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.channels=b.profile=b.bitrate=b.duration=b.da=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzAMgZYAAPgBgCAUBignwAB0gEICAAAFDcgGYCgEQCgSAAF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgPYBg5QEAA";b.Zb=!0;b.pa="IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBgAYAgCQAgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgAQAcwCG1kBhB0ALB3ACD/A/CHDAgKAAgCgBgHYCcEEB+6EEEBAAFAEQgBAAcY+fPnDPCfA+B9D/A6C+B8gBQEgAwlDHD8DqgF4rgAwAAfDzCrgF4rgAwAB/DOCvgF4rD5DxgYwygnwCA2gGwCdttttvAeA8B4DxDjDHCPgAwDgB4AgCYAda1rWtBrgAgCBogEoBBvgGYBDbgEoBgD4FgAwCgBoADfA+gD4DgAgDgEYBANgLQBCbgEYBgIwIgAwAcbbbfPCagEYGBrBAgEgAADBrgP4BA2gJQBgEgbgSQBDmgEYBDegSQJB2gB4AgCYAgEYGBaDQgN4BDZgXwCgJ4SAegB4AgV4AA1gFQGDWCAhHgBgd4BDNgTIABtC8gJ4IDGgJ4PgZwAgOwAgEYBC3gcQIgAwAgB4AgCYAgJAHC0glwVgEgPA3gsQBgEYBBtgSQJA3glwQCQgv3/gvz/gABZBYAGi///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i///i///iQH/i//q";b.Yb=!0;b.da={Ea:1536,W:48E3};b.duration={Ea:12288,W:48E3};b.bitrate=384;b.profile="ddplus-5.1hq-dash";b.channels="5.1";b.qc=[176,590];b.pc=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.channels=b.profile=b.bitrate=b.duration=b.da=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzAOgZYAAPgBgCAUBignwAB0gAwAAHgEgBDWgGYCDAgSADF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgToAg5QFAA";b.Zb=!0;b.pa="IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBAHgCQBgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgAQAc4CG1kBhB0ALB3ADB/A/CHDAgKAAgCgBgHYCcEKB/MAEgEoAdAEAQYD5DzDnDPCfA+B8gAwBDfDzCrgBQGgAwoDHD8DqgF4rgAwDfx/zq+gMwsgAwCB/DOCvgTougAwAAfgag1gpwCcb5tttC2gAQAe3jx48R3gAACd48ePHCPAbgCYAfPmta1CtBrBagAgEC0gFgLA7S7gAABC8gFgCCNgCgADnDNgFAGgAgCgFYBANDzgFQCgAQAgJIAgFgrAdTdgAABDeA8gFgBDGgCgADzDmgQYIgAgAgFYBAGD5gFQDBtgUYBgFgMB2gFgSDwgcgCgRZwgFgcCOTugAABDvguoAgFgBgCgAgx4AgQYJDWCAgFYAADB8gFQDC2gUYBgFgMC7gFgSB4gcgCgRZwgFgdhJ4HhLYBgFgAgCgAhOoAgQYJBrBAh4QBC+gtIEgxICgFgLDdgFgSC8gcgCgRZwgFgdhJwGC7hLYBgFgAgCgAh+YAgQYJC1CggWQBDfA2gQoDhN4CgFgLBugFgSDeijwDgRZvgFgdhJwGDdhLYBgFgAgCgADfA+hmYKDQgFYBBvCbgQoDhN4CgFgLA3gFgTi5ADgRZvgFgdhJwGDuifoCAegN4ABvCfA1gtQJBogFYBA3DNgtIDBvgUYBgFgLAbgCYBgFgQhQABgABpBhBJjf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf//jf7m";b.Yb=!0;b.da={Ea:1536,W:48E3};b.duration={Ea:12288,W:48E3};b.bitrate=448;b.profile="ddplus-5.1hq-dash";b.channels="5.1";b.qc=[176,590];b.pc=[44];},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.pc=b.qc=b.channels=b.profile=b.bitrate=b.duration=b.da=void 0;b.oa="IAcgZnR5BwBpBzBvA2gBYBABgA4CBkBzBtgAIBdpeGRhBzBogCQAACBCBtFvB2gDYBdsbXZoBkgA4BgAAJC7CAgAwDABgAQDgAAIgBgLgB4QBAgDwNgAANACgGABeWdHJhBrgBYBBcB0BrgOYDgIIKgLoOgCYDgCgDgO4rcBMm1kBpBhgf4CgA4Aga4UBVDEgBgDAtgDoABsBygDIGgjwAB1BugFIKBNBlgIgBBIBhBugEQABlgEYDfdbWluBmgA4BAQgoIAgKgLAkgEwAgC4DccZHJlgA4CgTwGcMdXJsAggBYFehc3RiBsgO4CgA4ABzgHYGgC4CdFZWMtAzgaQPAGgMYAgwQJANBkgEgAAzAUgZYAAPgBgCAUBignwAB0gAwAAKgAQAAJgYQCACgEQCgSAAF0BzgSAJgB4BBzBjgB4JAUgB4BB6gn4NgEYBBjBvgB4JA4hAIABlB4gC4CBtBlgbgGAwgAgCAggNwAgC4DgUAGgAYBgToAg5QFAA";b.Zb=!0;b.pa="IABkBtFvBmgA4BcQbWZoBkgA4BgAACABgAYBdMdHJhgC4CAgB0gC4CACAAA6gC4FgAYBAGgAwBAKgCQBgAADAQgD4ABkB0gG4FgAACAUgG4AB1BugFYFAIgAYBBsgAQAdQCG1kBhB0ALB3AED/A/CHDAgEgDBAgAYBeOBhhhCGAfDzCrDnDPCfA+B8D5DzgAw0B/DOCvgHo5f58f86C+gHo4gAwADHD8DqgHo5gAwAgfxACggtQCfePHjxPdgrgEgAAQADK7dtttttgdYAfWta1rBagIYMgEACc7x48eA7gEgBC4gIAVAAJ3gIACC3DPCagIICBfgQ4LCAgD4BAHgQAADjDHgEgBB3gIAWAOHuDtgIABC2gGAABagIICgZYLDwgEACDvAegYgAgEYAgAAADggIAVABgb4BgIACDfA+gYAAgIIBghAMgEACAdgQAACPAdgEgBDcgQQWgcABgIACDbDnDNgIIChG4MgnICADC8glYDC8gZQBghQBC7gawCgAASAHgcgAB2gIwCgGwAgpQBgI4AgpYLD4glYDgpYAA8ghQCBwgRAWgcoBgIACBvCfA1gIIChQAMglYDgpYBCOghYCgIAWgcwBgIACBtDzDmg5wCDXhC4Lgn4ChCCDglYDhCzDhCCAghQDhCzEhCCAgHIDhCzDhCCBgHIDjH0FhCA/gHIWgADBAXBQk///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k///k//c";b.Yb=!0;b.da={Ea:1536,W:48E3};b.duration={Ea:12288,W:48E3};b.bitrate=640;b.profile="ddplus-5.1hq-dash";b.channels="5.1";b.qc=[176,590];b.pc=[44];},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.QHb=b.OHb=b.RHb=b.NHb=b.PHb=b.SHb=b.Flc=b.ylc=b.B2=b.Hlc=void 0;c=a(263);Object.defineProperty(b,"videoMediaFrameRatesList",{enumerable:!0,get:function(){return c.TGa;}});b.Hlc=["padding"];b.B2=["h264hpl","h264"];b.ylc=["16:9","4:3"];b.Flc={h264:"playready-h264mpl30-dash",h264hpl:"playready-h264hpl30-dash"};b.SHb=["silence"];b.PHb=["heaac","ddp"];b.NHb={heaac:[64,96,128],ddp:[192,256,384,448,640]};b.RHb={heaac:{64:"heaac-2-dash",96:"heaac-2-dash",128:"heaac-2hq-dash"},ddp:{192:"ddplus-5.1-dash",256:"ddplus-5.1hq-dash",384:"ddplus-5.1hq-dash",448:"ddplus-5.1hq-dash",640:"ddplus-5.1hq-dash"}};b.OHb={heaac:{64:"2.0",96:"2,0",128:"2.0"},ddp:{192:"5.1",256:"5.1",384:"5.1",448:"5.1",640:"5.1"}};b.QHb={heaac:{Ea:1024,W:24E3},ddp:{Ea:1536,W:48E3}};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Qc=void 0;b.Qc=function(a,c){for(var l=0;l < a.length;l++){if(c(a[l],l,a))return a[l];}};},function(r,b,a){var d;function c(f){return ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=")[f >> 6] + ("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=")[f & 63];}function l(f,h){d.assert(0 < h && 8 > h);return c((h - 1 << 8) + f);}function g(f){return c(1792 + f[0]) + c((f[1] << 4) + (f[2] >>> 4)) + c((f[2] << 8 & 3840) + f[3]);}function m(f){return 43 === f?62:47 === f?63:58 > f?f - 48 + 52:91 > f?f - 65:f - 71;}Object.defineProperty(b,"__esModule",{value:!0});b.Cca=b.D4b=void 0;d=a(425);b.D4b=function(f,h){var p,q,v,t,w,u;function k(x,y){var z;z=p;x=q - y - x;d.assert(1 <= x);d.assert(16384 > x - 1);d.assert(2 <= y && 512 > y - 2);y=c(2048 + (x - 1 >>> 3)) + c(((x - 1 & 7) << 9) + (y - 2));p=z + y;v=q;t=0;}function n(x,y,z){return f.subarray(x,x + z).every(function(B,A){return B === f[y + A];});}p="";q=h || 0;v=q;t=0;for(h=0;q < f.byteLength;){w=v;u=t;if(0 !== t && 513 > t && f[q] === f[v + t])(++t,++q);else if(513 === t)(k(w,u),h=0);else {for(--v;0 <= v && v >= q - t - 16384 && (f[w] !== f[v] || 0 < t && !n(q - t,v,t + 1));){--v;}if(0 <= v && v >= q - t - 16384)(++t,++q);else if(w === q || 1 === u){q-=u;for(w=1;5 > w && f[q + w] === f[q];){++w;}p+=l(f[q],w);q+=w;h=1 < w?0:h + 1;4 === h && (p=p.slice(0,p.length - 8),p+=g(f.subarray(q - 4,q)));v=q;t=0;}else (k(w,u),h=0);}}1 === t?p+=l(f[v],1):1 < t && k(v,t);return p;};b.Cca=function(f,h){var t;function k(u,x){var y;if(v + x > p.byteLength){y=new Uint8Array(2 * p.byteLength);y.set(p,0);p=y;}if(u + x <= v)p.set(p.subarray(u,u + x),v);else for(y=0;y < x;++y){p[v + y]=p[u + y];}v+=x;}function n(){var u;u=f.slice(q,q+=2);return (m(u.charCodeAt(0)) << 6) + m(u.charCodeAt(1));}for(var p=h || new Uint8Array(4096),q=0,v=h?h.byteLength:0;q < f.length;){t=n();if(t & 2048)(h=n(),k(v - (((t & 2047) << 3) + (h >>> 9) + 1),(h & 511) + 2));else if(1792 === (t & 3840))(p[v++]=t & 255,h=n(),t=n(),p[v++]=h >>> 4,p[v++]=(h << 4 & 240) + (t >>> 8),p[v++]=t & 255);else {h=t & 255;t=(t >>> 8) + 1;for(var w=0;w < t;++w){p[v++]=h;}}}return p.subarray(0,v);};},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t,w;Object.defineProperties(b,{__esModule:{value:!0}});b.oOa=void 0;c=a(0);l=c.__importStar(a(11));r=a(13);g=c.__importDefault(a(29));m=c.__importDefault(a(989));d=c.__importDefault(a(3));f=a(181);h=a(258);c.__importDefault(a(259));k=c.__importDefault(a(990));a(426);n=a(2);p=a(993);q=a(1077);v=new d.default.Console("ASEJS","media|asejs");t=v.trace.bind(v);w=v.warn.bind(v);r=(function(u){var n_O;function x(y,z){var b41,B;b41=2;for(;b41 !== 13;){switch(b41){case 5:var i8H="D";i8H+="EB";i8H+="U";i8H+="G";i8H+=":";var G2g="nf-a";G2g+="se";G2g+=" ";G2g+="vers";G2g+="ion:";B.b2=z;y=a(1092);t(G2g,y,i8H,!1);b41=9;break;case 9:var e$o="1S";e$o+="IYb";e$o+="ZrNJC";e$o+="p9";B.vna=!1;B.rDb=!1;B.kI=[];e$o;b41=14;break;case 14:return B;break;case 2:B=u.call(this) || this;B.config=y;b41=5;break;}}}n_O=2;for(;n_O !== 15;){switch(n_O){case 4:Object.defineProperties(x.prototype,{Jw:{get:function(){var m6r;m6r=2;for(;m6r !== 1;){switch(m6r){case 2:return this.ooa;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{A1:{get:function(){var h4e;h4e=2;for(;h4e !== 1;){switch(h4e){case 2:return this.voa;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{aya:{get:function(){var X1q;X1q=2;for(;X1q !== 1;){switch(X1q){case 2:return !l.wa(this.DEb);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{ega:{get:function(){var F_I;F_I=2;for(;F_I !== 1;){switch(F_I){case 2:return this.tEb;break;case 4:return this.tEb;break;}}},enumerable:!1,configurable:!0}});n_O=7;break;case 2:c.__extends(x,u);Object.defineProperties(x.prototype,{Ac:{get:function(){var Y0k;Y0k=2;for(;Y0k !== 1;){switch(Y0k){case 2:return this.k6.Ac;break;case 4:return this.k6.Ac;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{fu:{get:function(){var S4f;S4f=2;for(;S4f !== 1;){switch(S4f){case 2:return this.k6.fu;break;}}},enumerable:!1,configurable:!0}});n_O=4;break;case 18:x.prototype.U8=function(){var T11,y;T11=2;for(;T11 !== 5;){switch(T11){case 2:null === (y=this.rA) || void 0 === y?void 0:y.vQb();T11=5;break;}}};x.prototype.Wa=function(){var S9v;S9v=2;for(;S9v !== 6;){switch(S9v){case 4:delete this.ooa;delete this.b2;this.U8();delete this.rA;S9v=7;break;case 7:h.lM.reset();S9v=6;break;case 2:var W7u="Attempted to destruct Manager b";W7u+="e";W7u+="fore";W7u+=" all Sessions removed";(0,n.assert)(0 === this.kI.length,W7u);this.vna=!1;delete this.k6;S9v=4;break;}}};return x;break;case 20:x.prototype.Fua=function(y,z,B){var Y8A;Y8A=2;for(;Y8A !== 1;){switch(Y8A){case 4:return (4,f.sva)(y,z,B);break;case 2:return (0,f.sva)(y,z,B);break;}}};x.prototype.vqa=function(){var s7J,y;s7J=2;for(;s7J !== 5;){switch(s7J){case 2:null === (y=this.rA) || void 0 === y?void 0:y.s7a();s7J=5;break;}}};n_O=18;break;case 7:Object.defineProperties(x.prototype,{sg:{get:function(){var j1V;j1V=2;for(;j1V !== 1;){switch(j1V){case 2:return this.rA;break;case 4:return this.rA;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{tk:{get:function(){var B$Z;B$Z=2;for(;B$Z !== 1;){switch(B$Z){case 4:return this.k6.tk;break;case 2:return this.k6.tk;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{Rwa:{get:function(){var p8j;p8j=2;for(;p8j !== 1;){switch(p8j){case 2:return this.rDb;break;}}},enumerable:!1,configurable:!0}});x.prototype.oa=function(y,z,B,A,C,D){var i8S,E,G;i8S=2;for(;i8S !== 11;){switch(i8S){case 13:var r5n="me";r5n+="diaca";r5n+="c";r5n+="he";var N7V="ca";N7V+="che";N7V+="E";N7V+="vi";N7V+="ct";var B7o="flu";B7o+="s";B7o+="hedByte";B7o+="s";var E54="discar";E54+="ded";E54+="Byte";E54+="s";var h8G="pr";h8G+="ebuf";h8G+="f";h8G+="s";h8G+="tats";(z=new q.QMa(this,G,B,D),y=function(F){var M4L;M4L=2;for(;M4L !== 1;){switch(M4L){case 4:E.emit(F.type,F);M4L=3;break;case 2:E.emit(F.type,F);M4L=1;break;}}},z.addListener(h8G,y),z.addListener(E54,y),z.addListener(B7o,y),z.addListener(N7V,y),(G.MGa || G.LGa) && z.addListener(r5n,function(F){var b69;b69=2;for(;b69 !== 1;){switch(b69){case 2:var o0q="m";o0q+="ediac";o0q+="a";o0q+="che";E.emit(o0q,F);b69=1;break;case 4:E.emit("",F);b69=2;break;}}}),this.rA=z);i8S=12;break;case 14:i8S=G.wpb || G.IGa?13:12;break;case 12:this.vna=!0;i8S=11;break;case 9:this.tEb=C;(0,m.default)(G);this.k6=h.lM.Aaa(G,v,this.b2);this.ooa=new k.default(G);i8S=14;break;case 2:(E=this,G=this.config);h.lM.reset();0 < G.bu && (!l.wa(y) && y > G.bu && (y=G.bu),z > G.bu && (z=G.bu));l.wa(y) && (this.DEb=z);this.voa=A;i8S=9;break;}}};x.prototype.createSession=function(y,z,B,A,C,D,E,G,F,L){var c9H;c9H=2;for(;c9H !== 4;){switch(c9H){case 2:c9H=this.vna?1:5;break;case 1:return (G=G || this.config,this.Ac.reset(),this.fu.lhc(),this.ooa.reset(),void 0 === D && (D=this.Fua(y,z)),l.wa(this.voa) && (this.voa=d.default.zq()[g.default.$d.J] <= G.o6b?0:G.a1),y=new p.PUa(this,y,L,z,B,A,C,D,E,G,F),this.kI.push(y),y);break;case 5:var T8m="open: s";T8m+="trea";T8m+="mingManager not initted";w(T8m);c9H=4;break;}}};x.prototype.a_=function(y,z){var j$8;j$8=2;for(;j$8 !== 1;){switch(j$8){case 2:return this.rA && (y=this.rA.a_(y,z))?y:!1;break;}}};x.prototype.PDb=function(y){var y1J,z;y1J=2;for(;y1J !== 4;){switch(y1J){case 2:var c2s="can't find session in ";c2s+="array, mo";c2s+="vieId:";this.Ac.s1(null);z=this.kI.indexOf(y);l.wa(z)?w(c2s,y.Qf.O.L):(this.kI.splice(z,1),0 === this.kI.length && this.fu.shc(),this.fu.save(),this.tk.save());y1J=4;break;}}};n_O=20;break;}}})(r.EventEmitter);b.oOa=r;},function(r,b,a){var l,g,m,d;function c(f){var h;h=nrdp.al.uxc.match(/android-(\d*)/);h?23 < h[1]?f.DFa=!1:(h=nrdp.al.Mqc.mq.platform.platformVersion.match(/(\d*)\.(\d*).(\d*)/),f.DFa=h?6 < h[1] || 6 == h[1] && 1 < h[2] || 6 == h[1] && 1 == h[2] && 1 <= h[3]?!0:!1:!1):f.DFa=!1;f.$hc=!1;}l=a(2).assert;a(186);g=a(3).default;m=g.dr;d=g.nwb;r.exports=function(){var f,h,k,n;f=new g.Console("ASEJSMONKEY","media|asejs");if(!g.dr.Yc){h=function(p){this.bCb=p;};k=d.prototype.appendBuffer;g.MediaSource.Yc || (g.MediaSource.Yc={});"undefined" !== typeof nrdp && nrdp.g8 && (c(g.MediaSource.Yc,f),g.MediaSource.Yc.L2a=!1,g.MediaSource.Yc.vfb=!1);g.dr.Yc={PR:{Nqb:!0,SM:!0,xwb:!0}};Object.defineProperty(m.prototype,"_response",{get:function(){return this.BEb || this.rAb;},set:function(p){this.rAb=p;}});n=m.prototype.open;m.prototype.open=function(p,q,v,t,w,u,x){1 === v && (this.BEb=new h(this));return n.call(this,p,q,v,t,w,u,x);};m.prototype.FR=function(){this.XN=void 0;};d.prototype.appendBuffer=function(p){if(p instanceof ArrayBuffer)return k.call(this,p);if(p instanceof h)return this.k8(p.bCb);l(!1);};}};},function(r,b,a){var g,m;function c(){this.vA=this.ZU=this.E6=this.T6=this.C6=null;}function l(d){this.K=d;this.fE=[];this.Ss=new c();this.uV();}g=a(11);a(29);a(8);m=a(3).default;new m.Console("ASEJS_SESSION_HISTORY","media|asejs");c.prototype.Od=function(d){var f;f=!1;d && g.has(d,"ens") && g.has(d,"lns") && g.has(d,"fns") && g.has(d,"d") && g.has(d,"t") && (this.C6=d.ens,this.T6=d.lns,this.E6=d.fns,this.ZU=d.d,this.vA=d.t,f=!0);return f;};c.prototype.getState=function(){var d;if(g.ub(this.C6) || g.ub(this.T6) || g.ub(this.E6) || g.ub(this.ZU) || g.ub(this.vA))return null;d={d:this.ZU,t:this.vA};d.ens=this.C6;d.lns=this.T6;d.fns=this.E6;return d;};c.prototype.get=function(){var d,f;d=this.getState();if(d){f=new Date(this.vA);d.dateint=1E4 * f.getFullYear() + 100 * (f.getMonth() + 1) + f.getDate();d.hour=f.getHours();}return d;};l.prototype.uV=function(){var d;d=m.storage.get("sth");d && this.Od(d);};l.prototype.Od=function(d){var f,h;f=null;h=this.K;d.forEach(function(k){var n;n=new c();n.Od(k)?(f=!0,this.fE.push(n)):g.ub(f) && (f=!1);},this);this.fE=this.fE.filter(function(k){return k.ZU >= h.jda;});this.fE.sort(function(k,n){return k.vA - n.vA;});return g.ub(f)?!0:f;};l.prototype.kna=function(){var d;d=[];this.fE.forEach(function(f){d.push(f.getState());},this);return d;};l.prototype.save=function(){var d,f,h;d=this.kna();f=this.K;h=this.Ss.getState();h && h.d >= f.jda && (d.push(h),this.fE.push(this.Ss));d.length > f.Lca && (d=d.slice(d.length - f.Lca,d.length));this.Ss=new c();d && m.storage.set("sth",d);};l.prototype.reset=function(){this.Ss=new c();};l.prototype.AWb=function(){return this.Ss.get();};l.prototype.$Yb=function(){return this.fE.length + 1;};l.prototype.NFb=function(d){this.Ss.C6=d;this.Ss.vA=m.time.fa();};l.prototype.ZFb=function(d){this.Ss.T6=d;this.Ss.vA=m.time.fa();};l.prototype.SFb=function(d,f){this.Ss.E6=d;this.Ss.vA=m.time.fa();this.Ss.ZU=f;};r.exports=l;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.cPa=void 0;r=(function(){function a(c,l,g){this.HEb=l;this.Mzb=g;this.H=c;}a.prototype.ZBa=function(c){c=this.m1b(c,this.HEb) + this.Mzb;return this.doa=isNaN(c)?NaN:this.QEa(c);};a.prototype.RKb=function(c){return isNaN(this.doa)?0:this.doa > c?1:0;};a.prototype.m1b=function(c,l){var g;g=0;if(c.length !== l.length)g=NaN;else for(var m=0;m < c.length;m++){g+=c[m] * l[m];}return g;};a.prototype.QEa=function(c){return 1 / (1 + Math.exp(-c));};return a;})();b.cPa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.vU=void 0;r=(function(){function a(c){this.Tk={};this.Mna=c;this.Yg=[];this.Zs=!1;this.nI=void 0;}a.prototype.W7=function(c){this.Yg.length === this.Mna && this.Yg.shift();Array.isArray(c)?this.Yg=this.Yg.concat(c):this.Yg.push(c);this.Zs=!0;};a.prototype.OP=function(){return this.Yg.length;};a.prototype.Dqa=function(){var c;c=this.Yg;return 0 < c.length?c.reduce(function(l,g){return l + g;},0) / this.Yg.length:void 0;};a.prototype.X8=function(){var c,l;c=this.Yg;l=this.Dqa();if(0 < c.length && "undefined" !== typeof l)return (c=c.reduce(function(g,m){return g + m * m;},0) / c.length,Math.sqrt(c - l * l));};a.prototype.Av=function(c){var l,g,m;if(this.Zs || void 0 === this.nI)(this.nI=this.Yg.slice(0).sort(function(d,f){return d - f;}),this.Zs=!1);if(void 0 === this.Tk[c]){l=this.nI;g=Math.floor(c / 100 * (l.length - 1) + 1) - 1;m=(c / 100 * (l.length - 1) + 1) % 1;this.Tk[c]=g === l.length - 1?l[g]:l[g] + m * (l[g + 1] - l[g]);}return this.Tk[c];};return a;})();b.vU=r;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A,C,D,E,G,F,L,O,K,I;Object.defineProperties(b,{__esModule:{value:!0}});b.PUa=void 0;r=a(0);c=a(13);l=r.__importStar(a(11));a(117);g=a(994);m=a(181);d=a(6);f=a(76);h=a(268);k=a(1016);n=a(1017);p=r.__importDefault(a(3));q=p.default.MediaSource;v=a(8);t=a(2);w=a(184);u=a(440);x=a(1019);y=a(1020);z=a(159);r=a(35);B=a(1021);A=a(1022);C=a(441);D=a(1057);E=a(451);G=a(1067);F=a(455);L=a(1073);O=a(1074);K=a(1075);I=a(1076);a=(function(){function M(H,J,N,P,W,V,S,U,fa,qa,za){var Y2A,Aa,Qa,la,T,Z;Y2A=2;for(;Y2A !== 76;){switch(Y2A){case 39:var a9E="managerdeb";a9E+="u";a9E+="g";a9E+="even";a9E+="t";this.ak.on(this.Mc.sg,a9E,function(sa){var z8E;z8E=2;for(;z8E !== 1;){switch(z8E){case 2:(0,v.kb)(Aa,sa.type,sa);z8E=1;break;}}});Y2A=38;break;case 2:var l0G="m";l0G+="edia";l0G+="|";l0G+="asejs";var e$P="A";e$P+="SE";e$P+="JS";var l3Z="1S";l3Z+="IYbZr";l3Z+="NJCp";l3Z+="9";Aa=this;this.LD=new z.v5();this.cXa=[];this.sF={Bx:[Object.create(null),Object.create(null)]};l3Z;this.H=new p.default.Console(e$P,l0G,"(" + S.sessionId + ")");Y2A=8;break;case 38:Y2A=(qa.MGa || qa.LGa) && this.Mc.sg?37:36;break;case 28:this.hoa=0;this.ak=new c.ef();this.Cp=new L.EUa(this,this.H,this.zc.bind(this),Qa);this.xh=new O.RKa(this,this.H,this.zc.bind(this));this.b$=new x.QKa(this,this.H,Qa);Y2A=40;break;case 61:this.Zh.vGa(this.K);Y2A=60;break;case 31:this.x7=!1;this.kV=void 0;this.Q6=-1;Y2A=28;break;case 8:this.Il=this.H.error.bind(this.H);this.ac=this.H.warn.bind(this.H);this.dk=this.H.trace.bind(this.H);Qa=new I.JQa(this,this.H);Y2A=13;break;case 55:this.X.addListener(function(sa){var O4L,d7$;O4L=2;for(;O4L !== 1;){switch(O4L){case 2:try{d7$=2;for(;d7$ !== 1;){switch(d7$){case 2:la.Qb.ukc.bind(la.Qb)(sa);d7$=1;break;}}}catch(R){var Q9Y="Hindsight:";Q9Y+=" Error when adding update";Q9Y+="PlaySegmen";Q9Y+="t Listener: ";R7xOY.f4w(7);la.Kb.vp(R7xOY.a2W(R,Q9Y));}O4L=1;break;}}});Y2A=77;break;case 64:Y2A=qa.$sa && this.Zh.Rba?63:60;break;case 36:T && qa.hP && !qa.MRb && (qa.set?qa.set({enableAdaptiveParallelStreaming:!1}):qa.hP=!1);0 === Math.floor(1E6 * Math.random()) % qa.sO && (this.WDb=new k.bUa(qa));Y2A=53;break;case 20:this.Et=Z.Et;this.bz=qa.bz;this.Pg=new K.xOa(this,this.H,this.zc.bind(this),Z);this.EEb=[!V.D2,!V.Kpa,!1];Y2A=16;break;case 37:var k32="m";k32+="e";k32+="d";k32+="ia";k32+="cache";this.ak.on(this.Mc.sg,k32,function(sa){var t_B;t_B=2;for(;t_B !== 1;){switch(t_B){case 4:(1,v.kb)(Aa,"",sa);t_B=3;break;case 2:var x7W="mediac";x7W+="ac";x7W+="h";x7W+="e";(0,v.kb)(Aa,x7W,sa);t_B=1;break;}}});Y2A=36;break;case 56:la=this;Y2A=55;break;case 77:za && this.Qb.Kw(za,J.P);Y2A=76;break;case 35:this.X=new y.fIa(fa);this.Oo=W || 0;this.xV=0;this.YWa=U;Y2A=31;break;case 13:var C6N="b";C6N+="ran";C6N+="c";C6N+="hin";C6N+="g";this.Kb=Qa;this.t3a=new u.YJa(this.H);(T=!(!J || !J.choiceMap || C6N !== J.choiceMap.type),Z=T?{SX:!1,Et:!1}:(0,n.d9a)(qa));this.SX=Z.SX;Y2A=20;break;case 46:this.ue=[J];Y2A=45;break;case 24:this.c_a=!!V.wpb;this.ZEb=!!V.IGa;this.LN=V.aza;this.j7=void 0;Y2A=35;break;case 63:qa=qa.U_b;for(var Q in qa){N=qa[Q];qa.hasOwnProperty(Q) && N && (this.K[Q]=N);}Y2A=61;break;case 57:Y2A=this.Et?56:77;break;case 16:this.zc(f.u.T) && this.zc(f.u.J);this.Mc=H;this.un=S;this.K=qa=this.t3a.Dzb(J,qa);this.c7=V.p0;Y2A=24;break;case 40:Y2A=qa.jj && this.Mc.sg?39:38;break;case 45:J=J.O;this.Zh=new G.QHa(this,this.H,J.uk.jZb(),this.Mc.Ac,qa,this.CQ(),H,this.zc.bind(this),Z);Y2A=64;break;case 53:this.Ex=[];this.$h=[];H=null;qa.VX && (H=this.Mc.Jw.fE);w.Dz.instance().reset();J=g.hka.create({Vb:0,ba:J,Oq:N,Ykb:P,qg:!!V.qg,Kbb:!1,Rl:!!V.Rl,Wf:(0,f.Oza)(!!V.Kpa,!!V.D2),ca:0,Ta:V.Ta,Kb:this.Kb,Mt:this.WXa.bind(this),kc:this,config:this.K,H:this.H,xh:this.xh,Cp:this.Cp,sg:this.c_a?this.Mc.sg:void 0,sF:this.sF});J.vW=!0;Y2A=46;break;case 60:this.ab=new E.pia(this,this.Kb,this.H,this.soa.bind(this),J,this.Oo,this.K,this.xh,this.X,this.wY.bind(this));Q={aza:this.aza,Ym:this.Ym,yo:this.yo,p0:this.p0};this.Qb=new F.gVa(this.H,this.Zh,this.K,this.zc.bind(this),this.X,Q,this.Mc.Ac,this.Kb,this.xh,this.ab,Z);Y2A=57;break;}}}var E3u;E3u=2;for(;E3u !== 94;){switch(E3u){case 32:M.prototype.Khb=function(){};M.prototype.close=function(){var n$G;n$G=2;for(;n$G !== 5;){switch(n$G){case 2:this.ue.forEach(function(H){var I87;I87=2;for(;I87 !== 1;){switch(I87){case 2:H.close();I87=1;break;case 4:H.close();I87=2;break;}}});this.Pg.close();n$G=5;break;}}};M.prototype.Rcc=function(){var S8n;S8n=2;for(;S8n !== 1;){switch(S8n){case 2:this.Mc.PDb(this);S8n=1;break;}}};M.prototype.ud=function(){var X5z,H;X5z=2;for(;X5z !== 20;){switch(X5z){case 2:this.Zh.f8b();X5z=5;break;case 12:var F_y="Error on Medi";F_y+="aSo";F_y+="urce destroy: ";H=this.Gg;this.Gg=void 0;l.wa(H) || H.Bt() || this.ac(F_y,H.error);X5z=20;break;case 5:this.g6();this.ab.Wa();X5z=3;break;case 3:this.b$.wAb();null === (H=this.jA) || void 0 === H?void 0:H.reset();this.Ex.forEach(function(J){var C$S;C$S=2;for(;C$S !== 1;){switch(C$S){case 2:J.reset();C$S=1;break;case 4:J.reset();C$S=2;break;}}});this.X.Od(d.La.vm);this.ue.forEach(function(J){var S3w;S3w=2;for(;S3w !== 1;){switch(S3w){case 4:J.ud();S3w=8;break;case 2:J.ud();S3w=1;break;}}});this.ue=[];this.ak.clear();X5z=12;break;}}};M.prototype.suspend=function(){var r3h;r3h=2;for(;r3h !== 1;){switch(r3h){case 2:this.Pg.suspend();r3h=1;break;}}};M.prototype.resume=function(){var e2z;e2z=2;for(;e2z !== 1;){switch(e2z){case 2:this.Pg.resume();e2z=1;break;}}};M.prototype.Jo=function(){var m4n;m4n=2;for(;m4n !== 1;){switch(m4n){case 4:return this.Pg.Jo();break;case 2:return this.Pg.Jo();break;}}};M.prototype.rEb=function(){var u2n,H;u2n=2;for(;u2n !== 8;){switch(u2n){case 4:this.e6 || (this.e6=setInterval(this.Kb.QYa.bind(this.Kb),H.PW));this.y7 || (this.y7=setInterval(this.Kb.UCb.bind(this.Kb),H.xFa));this.Ym && !this.b6 && (this.b6=setInterval(this.Kb.PYa.bind(this.Kb),H.r8));u2n=8;break;case 2:H=this.K;this.iE && clearTimeout(this.iE);this.iE=setTimeout(this.bW.bind(this),H.Zga);u2n=4;break;}}};M.prototype.g6=function(){var G6u;G6u=2;for(;G6u !== 7;){switch(G6u){case 2:this.iE && (clearTimeout(this.iE),this.iE=void 0);this.e6 && (clearInterval(this.e6),this.e6=void 0);this.y7 && (clearInterval(this.y7),this.y7=void 0);G6u=4;break;case 4:this.b6 && (clearInterval(this.b6),this.b6=void 0);this.lN && (clearTimeout(this.lN),this.lN=void 0);this.Uma && (clearTimeout(this.Uma),this.Uma=void 0);this.xh.g6();G6u=7;break;}}};M.prototype.play=function(){var j3X;j3X=2;for(;j3X !== 1;){switch(j3X){case 2:this.Pg.play();j3X=1;break;}}};E3u=39;break;case 13:Object.defineProperties(M.prototype,{Jw:{get:function(){var r9F;r9F=2;for(;r9F !== 1;){switch(r9F){case 2:return this.Mc.Jw;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{Ym:{get:function(){var c3x;c3x=2;for(;c3x !== 1;){switch(c3x){case 2:return this.WDb;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{aza:{get:function(){var m$r;m$r=2;for(;m$r !== 1;){switch(m$r){case 2:return this.LN;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{p0:{get:function(){var k12;k12=2;for(;k12 !== 1;){switch(k12){case 2:return this.c7;break;}}},enumerable:!1,configurable:!0}});M.prototype.zc=function(H){var e3q;e3q=2;for(;e3q !== 1;){switch(e3q){case 2:return this.EEb[H];break;}}};M.prototype.wY=function(){var o16;o16=2;for(;o16 !== 1;){switch(o16){case 2:return p.default.time.fa() - this.vma;break;case 4:return p.default.time.fa() % this.vma;break;}}};M.prototype.x9a=function(){var i0$;i0$=2;for(;i0$ !== 1;){switch(i0$){case 2:return (this.ue || []).reduce(function(H,J){var M$9,N;M$9=2;for(;M$9 !== 4;){switch(M$9){case 2:N=J.O;f.hg.forEach(function(P){var I5h;I5h=2;for(;I5h !== 1;){switch(I5h){case 2:N.$t[P] > H[P] && (H[P]=N.$t[P]);I5h=1;break;}}});return H;break;}}},[0,0]);break;}}};M.prototype.CQ=function(){var D3h,H;D3h=2;for(;D3h !== 4;){switch(D3h){case 2:H=0;l.forEach(this.Qf.O.ba.audio_tracks,function(J){var y9p;y9p=2;for(;y9p !== 1;){switch(y9p){case 2:l.forEach(J.streams,function(N){var F98;F98=2;for(;F98 !== 1;){switch(F98){case 2:H=Math.max(H,N.bitrate);F98=1;break;}}});y9p=1;break;}}});return H;break;}}};M.prototype.gi=function(H){var e50;e50=2;for(;e50 !== 1;){switch(e50){case 2:return this.ue[H];break;}}};M.prototype.qXb=function(){var Y5k,H;Y5k=2;for(;Y5k !== 5;){switch(Y5k){case 2:H=this.ue[0];return H.O.Vf.qg?this.ue[1]:H;break;}}};E3u=27;break;case 87:M.prototype.K$a=function(H){var b4v;b4v=2;for(;b4v !== 1;){switch(b4v){case 2:this.Mk && (this.Mk.b5b(H),this.f2a());b4v=1;break;}}};M.prototype.Waa=function(H){var t0Z;t0Z=2;for(;t0Z !== 1;){switch(t0Z){case 2:this.Mk && (this.Mk.a5b(H),this.f2a());t0Z=1;break;}}};M.prototype.f2a=function(){var I5r,H;I5r=2;for(;I5r !== 4;){switch(I5r){case 1:var W7l="allC";W7l+="omplete";W7l+="d";H=this.K;this.Mk.XP() || (this.Mk=void 0,H.oO || this.LD.NA || this.J7(W7l));I5r=4;break;case 9:I5r=this.Mk?2:6;break;case 2:I5r=this.Mk?1:4;break;}}};M.prototype.bW=function(){var J59,H,J,N,P,W,V,S,U;J59=2;for(;J59 !== 7;){switch(J59){case 3:U=Math.max(U,1);this.iE && clearTimeout(this.iE);this.iE=setTimeout(this.bW.bind(this),U);J59=7;break;case 2:(H=this,J=this.K,N=this.x0,P=this.ue[N],W=this.ab.md,V=this.X.cg() || 0,S=this.lB(N,V),U=J.Zga);this.Mc.sg && void 0 !== P.HK && P.HK - V <= J.Xeb && this.Mc.sg.zI(!0,this.un.sessionId);this.X.getState() === d.La.Xc && ([f.u.J,f.u.T].forEach(function(fa){var d$M,Q,Qa,T,Z,za,Aa,qa;d$M=2;for(;d$M !== 35;){switch(d$M){case 24:l.wa(Aa) || Aa == qa.Ihb || (qa.Ihb=Aa);d$M=23;break;case 11:d$M=!H.yo || fa === f.u.J?10:15;break;case 20:H.Q6=Z;Q=0 < Z?Z - 1:null;H.Kb.GCb(T,V,Aa.Dw,null !== Q?H.ue[Q].O.L:null,Q);d$M=17;break;case 12:za=Aa.Xa;d$M=11;break;case 6:za=Aa.Xf - V;za < U && (U=za);(Qa=H.Qb.Gy[fa],T=Aa.O,Z=T.Vb);d$M=12;break;case 21:var I7$="Unable to find request p";I7$+="resenting at playerPts";I7$+=":";qa.ac(I7$,V);d$M=23;break;case 4:za=qa.Xa;qa.IO(V);(Aa=H.ab.ey(V,W,fa)) && !Aa.de && (Aa=H.$h[fa].b3b);d$M=7;break;case 23:H.HDb(za,V);H.ab.qbc();d$M=35;break;case 17:S=H.lB(Z,V);d$M=15;break;case 15:Qa.l3b=Aa.Dw;T=Aa.Sa;T != Qa.uya && (Qa.uya=T,fa=H.ue[Z].O.oy(fa,T),Z=H.lB(Z,Aa.Bd),H.Kb.QCb(fa,Aa.Bd,Z,fa.O.Vb));Aa=Aa.bitrate;d$M=24;break;case 10:d$M=(H.ab.s7b(Aa,Aa.Dw),Z > H.Q6)?20:16;break;case 5:d$M=qa?4:35;break;case 16:H.LN && Aa.Dw != Qa.l3b && H.Kb.VCb(Aa.Dw);d$M=15;break;case 1:qa=W.fb(fa);d$M=5;break;case 7:d$M=Aa?6:21;break;case 2:d$M=H.zc(fa)?1:35;break;}}}),this.ab.Fu(V,S));this.xh.Ml();J59=3;break;}}};M.prototype.m6=function(H){var g5X;g5X=2;for(;g5X !== 1;){switch(g5X){case 4:return this.xh.m6(H);break;case 2:return this.xh.m6(H);break;}}};M.prototype.Ml=function(){var l2s;l2s=2;for(;l2s !== 1;){switch(l2s){case 2:return this.xh.Ml();break;case 4:return this.xh.Ml();break;}}};M.prototype.iO=function(H,J){var U4i,P,N;U4i=2;for(;U4i !== 13;){switch(U4i){case 5:P=H.mediaType;H.abort();H.ud();U4i=9;break;case 1:U4i=N?5:14;break;case 2:N=H.Xa;U4i=1;break;case 14:var q9O="abortRe";q9O+="q";q9O+="uest with no requestManaga";q9O+="er:";this.ac(q9O,H);U4i=13;break;case 9:H.ak && H.ak.clear();N.V0(H);this.$h[P].V0(H);U4i=6;break;case 6:!0 === J && this.xh.Ml();U4i=13;break;}}};M.prototype.wEb=function(H){var J7S,J,N;J7S=2;for(;J7S !== 5;){switch(J7S){case 2:var L_I="no new";L_I+="Audi";L_I+="oTrac";L_I+="k se";L_I+="t";(J=H.mediaType,N=this.Qb.hh[J]);l.wa(N.Efb)?H.ac(L_I):(this.$h[J].pause(),N.J2=!0,H=this.Qf.Rv(f.u.T),N=this.Qf.O.getTrackById(N.Efb.trackId),this.Kb.vCb(H,N));J7S=5;break;}}};M.prototype.HDb=function(H,J){var I5Z,N;I5Z=2;for(;I5Z !== 4;){switch(I5Z){case 2:N=this.$h[H.mediaType];H=this.ab.E0(H.hb,H.mediaType,J,this.Mc.A1 || 0,function(P){var P2B;P2B=2;for(;P2B !== 1;){switch(P2B){case 2:N.V0(P);P2B=1;break;}}});l.wa(H) || this.xh.Ml();I5Z=4;break;}}};M.prototype.gBb=function(H){var X_O,J,N,P;X_O=2;for(;X_O !== 8;){switch(X_O){case 2:(J=H.mediaType,N=H.manifestIndex,P=H.streamId);H=this.ab.md.fb(J);J=this.ue[N].O.oy(J,P);this.pEb(H,J);this.K=this.t3a.Ezb(J.kf,this.K);this.ue.forEach(function(W,V){var U02,S;U02=2;for(;U02 !== 5;){switch(U02){case 2:S=W.O;S.iba || 0 === V || S.LR([W.Rv(f.u.T),W.Rv(f.u.J)]);U02=5;break;}}});X_O=8;break;}}};E3u=104;break;case 48:M.prototype.uwa=function(){var z4_;z4_=2;for(;z4_ !== 1;){switch(z4_){case 2:return this.X.Yr(this.Qf.O);break;}}};M.prototype.iXa=function(H){var q__,J,N,P;q__=2;for(;q__ !== 11;){switch(q__){case 8:q__=!(H === this.xV + 1 && N.Vf.replace || J && P) || !this.X.Yr(N)?7:6;break;case 2:q__=H >= this.ue.length?1:5;break;case 1:return !1;break;case 7:return !1;break;case 5:(J=this.ab.md.Ae(f.u.T),N=this.ab.md.Ae(f.u.J));J=!J || J.Zi;P=!N || N.Zi;N=this.ue[H].O;q__=8;break;case 6:H=N.lj[f.u.T];J=N.lj[f.u.J];J=!this.yo || J && J.stream.pe;return (!this.jt || H && H.stream.pe) && J?!0:!1;break;}}};M.prototype.I7=function(){var i1y;i1y=2;for(;i1y !== 1;){switch(i1y){case 2:this.H7(this.xV + 1);i1y=1;break;}}};M.prototype.H7=function(H){var h$o,J;h$o=2;for(;h$o !== 6;){switch(h$o){case 1:return !1;break;case 5:J=this.ue[H];h$o=4;break;case 3:return !1;break;case 4:h$o=J.zTb || !J.O.Vf.replace?3:9;break;case 2:h$o=!this.iXa(H)?1:5;break;case 9:this.FEb(H);this.xh.Ml();return !0;break;}}};M.prototype.FEb=function(H){var q8c,J,N,P,W,V,S;q8c=2;for(;q8c !== 20;){switch(q8c){case 2:(J=this.ue[H],N=this.K,P=this.ab.md,W=P.fb(f.u.T));W=W?W.Ec:void 0;V=P.fb(f.u.J);V=V?V.Ec:void 0;q8c=3;break;case 11:this.Cp.bna();this.xh.Ml();q8c=20;break;case 3:var D_q=",";D_q+=" ";var D7e=",";D7e+=" strea";D7e+="mingPt";D7e+="s:";D7e+=" ";var H_o="switchManife";H_o+="st ";H_o+="manif";H_o+="estInde";H_o+="x: ";N.jj && this.Kb.bo(H_o + H + D7e + W + D_q + V);N=this.Qf;W=N.O.Vf.qg;S=[];q8c=6;break;case 6:[f.u.J,f.u.T].forEach(function(U){var L58;L58=2;for(;L58 !== 1;){switch(L58){case 2:J.O.zc(U) && (S[U]=J.Rv(U));L58=1;break;}}});W?this.ab.Vcc(N.O,J.O,S):P.Rlb(J.O,S);this.wYa(H);J.uAa();q8c=11;break;}}};M.prototype.JFa=function(H){var i8o,N,J,V,P,W;i8o=2;for(;i8o !== 35;){switch(i8o){case 7:N=this.Qb.hh[f.u.T];i8o=6;break;case 25:var P2N=" t";P2N+="o:";P2N+=" ";var M3x="swi";M3x+="tchTracks current";M3x+=": ";J.jj && this.Kb.bo(M3x + V + P2N + W.trackId);N.Efb={trackId:H};J=P.fb(f.u.T);i8o=22;break;case 16:var Z5E="swi";Z5E+="tchTracks can't find tr";Z5E+="ackId:";return (this.ac(Z5E,H),!1);break;case 9:i8o=this.X.Uf()?8:7;break;case 6:i8o=N.J2?14:13;break;case 10:i8o=W < J.dda?20:19;break;case 14:var s4Q="switchTr";s4Q+="acks re";s4Q+="jected, previous switch still wai";s4Q+="ting to start";return (this.ac(s4Q),!1);break;case 2:J=this.K;i8o=1;break;case 15:V=this.Qf.Rv(f.u.T).trackId;i8o=27;break;case 26:return !1;break;case 13:P=this.ab.md;i8o=12;break;case 27:i8o=V === W.trackId?26:25;break;case 20:var R1g="s";R1g+="witchT";R1g+="rac";R1g+="ks rejected, bufferLev";R1g+="elMs";return (this.ac(R1g,W,"<",J.dda),!1);break;case 17:i8o=!W?16:15;break;case 1:i8o=!this.jt?5:4;break;case 8:var O5n="s";O5n+="witc";O5n+="hTrack";O5n+="s ";O5n+="rejected, buffering";return (this.ac(O5n),!1);break;case 12:i8o=this.X.getState() === d.La.Xc?11:19;break;case 22:this.wEb(J);return !0;break;case 5:var e6W="switchTracks rejected,";e6W+=" audio disable";e6W+="d";return (this.ac(e6W),!1);break;case 19:H=H.iq;W=this.Qf.O.getTrackById(H);i8o=17;break;case 3:var z6M="switchTracks rejected, pre";z6M+="vious switch still in";z6M+=" progress: ";return (this.ac(z6M + JSON.stringify(this.Qb.DI)),!1);break;case 4:i8o=this.Qb.DI?3:9;break;case 11:W=this.ab.Tx(P,f.u.J);i8o=10;break;}}};M.prototype.Kw=function(H,J){var u7o;u7o=2;for(;u7o !== 1;){switch(u7o){case 4:this.Qb.Kw(H,J);u7o=2;break;case 2:this.Qb.Kw(H,J);u7o=1;break;}}};M.prototype.ey=function(H,J,N){var G8q;G8q=2;for(;G8q !== 1;){switch(G8q){case 2:return this.ab.ey(H,this.ab.oi,J,N);break;}}};M.prototype.ci=function(H){var S8h;S8h=2;for(;S8h !== 1;){switch(S8h){case 2:return this.Cp.ci(H);break;}}};M.prototype.pta=function(H,J){var L7z,j92,N,P;L7z=2;for(;L7z !== 6;){switch(L7z){case 9:N.oDa();L7z=6;break;case 8:J=P.lWb();try{j92=2;for(;j92 !== 1;){switch(j92){case 2:this.Kb.DCb(J);j92=1;break;}}}catch(W){var N6c="]";N6c+=" ";N6c+="[";var S$p="ex";S$p+="ce";S$p+="ption";S$p+=":";S$p+=" [";this.H.error(S$p.concat(W.message,N6c).concat(W.wxc,"]"));}L7z=6;break;case 2:N=this.Qb;H=N.Mta(H,J);P=this.Zh.CCa;H && !H.qO && P.ota(H);L7z=3;break;case 3:L7z=J?9:8;break;}}};E3u=59;break;case 39:M.prototype.stop=function(){var n3W;n3W=2;for(;n3W !== 1;){switch(n3W){case 4:this.Pg.stop();n3W=5;break;case 2:this.Pg.stop();n3W=1;break;}}};M.prototype.oL=function(H,J){var S7K;S7K=2;for(;S7K !== 1;){switch(S7K){case 4:return this.Cp.oL(H,J);break;case 2:return this.Cp.oL(H,J);break;}}};M.prototype.seek=function(H,J){var Z15;Z15=2;for(;Z15 !== 1;){switch(Z15){case 4:return this.Cp.seek(H,J);break;case 2:return this.Cp.seek(H,J);break;}}};M.prototype.hn=function(H){var O29,J,N,P,W,V,L1M;O29=2;for(;O29 !== 18;){switch(O29){case 2:var e_G="branch";e_G+="O";e_G+="ffset:";var a2h="entry.";a2h+="manife";a2h+="stOffs";a2h+="et:";var J_S="c";J_S+="o";J_S+="ntentP";J_S+="t";J_S+="s:";var F2T="underflow";F2T+=": g";F2T+="oing to BUFFERING at pla";F2T+="yer pts:";(J=this,N=this.K,P=this.lB(this.x0,H));this.ac(F2T,H,J_S,P,a2h,this.Qf.Ay,e_G,this.ab.mg);W=N.jw;this.$h.forEach(function(S){var f3N;f3N=2;for(;f3N !== 1;){switch(f3N){case 2:W=Math.max(0,Math.min(W,S.ova - H));f3N=1;break;}}});this.hoa+=1;O29=9;break;case 9:var B6l="u";B6l+="nd";B6l+="erflow";V=this.ab.md;f.hg.forEach(function(S){var G$s,qa,za,U,fa;G$s=2;for(;G$s !== 6;){switch(G$s){case 5:G$s=N.jj?4:9;break;case 1:G$s=fa?5:6;break;case 9:N.jj && J.Kb.bo(qa);fa.hra();null === (U=fa.Th) || void 0 === U?void 0:U.edc();G$s=6;break;case 4:(qa=J.$h[S],za=J.ab.LI(V,S));G$s=3;break;case 3:var Z$o=",";Z$o+=" t";Z$o+="oAppend:";Z$o+=" ";var g9V=",";g9V+=" fr";g9V+="ag";g9V+="ment";g9V+="s: ";var t24=", complet";t24+="eSt";t24+="reamingPts: ";var w1E=", st";w1E+="re";w1E+="amingP";w1E+="ts";w1E+=": ";var r37=", par";r37+="tial";r37+="s: ";var c9C=", ";c9C+="com";c9C+="pl";c9C+="etedBytes: ";var N3N=", ";N3N+="comple";N3N+="te";N3N+="dMs: ";var U4T=", me";U4T+="d";U4T+="iaT";U4T+="yp";U4T+="e: ";var B1f="un";B1f+="d";B1f+="erflow: ";qa=B1f + H + U4T + S + N3N + fa.LO + c9C + za + r37 + fa.Xa.aG + w1E + fa.Ec + t24 + fa.ut + g9V + JSON.stringify(fa.Xa.ma) + Z$o + (qa && qa.Mfa());G$s=9;break;case 2:fa=V.Ae(S);G$s=1;break;}}});this.Qf.O.li();this.emit(B6l);this.q7(2);this.xh.Ml();O29=12;break;case 10:P=this.Mc.Ac.get();P=P.confidence?P.Ya.xa:0;W > N.CTb && P > N.BTb && this.soa();O29=18;break;case 12:O29=this.Et?11:10;break;case 11:try{L1M=2;for(;L1M !== 1;){switch(L1M){case 4:this.pta(d.La.Yd);L1M=5;break;case 2:this.pta(d.La.Yd);L1M=1;break;}}}catch(S){var Z84="Hindsight: Error w";Z84+="hen evaluating";Z84+=" QoE at Buffering: ";R7xOY.f4w(7);this.Kb.vp(R7xOY.L7v(S,Z84));}O29=10;break;}}};M.prototype.po=function(H){var t_p;t_p=2;for(;t_p !== 1;){switch(t_p){case 2:return this.Cp.po(H);break;}}};M.prototype.Vx=function(H,J,N){var F2P;F2P=2;for(;F2P !== 1;){switch(F2P){case 2:return this.Cp.Vx(H,J,N);break;case 4:return this.Cp.Vx(H,J,N);break;}}};M.prototype.wYa=function(H){var l8M,J;l8M=2;for(;l8M !== 3;){switch(l8M){case 2:this.xV=H;J=this.ue[H];this.Kb.ICb(H,J);this.Kb.SYa(J.O.$t);l8M=3;break;}}};M.prototype.pW=function(H,J,N){var J6B,V,S,qa,U,fa,P,W;J6B=2;for(;J6B !== 34;){switch(J6B){case 1:J6B=this.Jo()?5:4;break;case 5:var y57="addMa";y57+="nifest";y57+=":";y57+=" pi";y57+="pelines already shutdown";this.ac(y57);J6B=34;break;case 4:J || (J={});(V=this.ab.md.Ae(f.u.T),S=this.ab.md.Ae(f.u.J));J6B=9;break;case 26:this.ue[V]=H;H.L1a();J.replace || this.ab.jGb(fa,S,U);J=this.Qb.Gy[f.u.T].nK;J6B=22;break;case 8:var r6n="addManifest igno";r6n+="red, pipelines a";r6n+="lr";r6n+="ead";r6n+="y set EOS:";this.ac(r6n,V.Ls,S.Ls);J6B=34;break;case 19:var F4G="v";F4G+="ideo_t";F4G+="racks";var p_v="audi";p_v+="o";p_v+="_";p_v+="track";p_v+="s";N=[p_v,F4G];qa=this.x9a();J.replace && N.forEach(function(za,Aa){var c_Z,Qa,T;c_Z=2;for(;c_Z !== 3;){switch(c_Z){case 1:c_Z=Qa?5:3;break;case 2:Qa=fa.HB(Aa);c_Z=1;break;case 8:Qa=fa.HB(Aa);c_Z=2;break;case 5:T=P.ue[0].O;Object.keys(Qa).forEach(function(Z){var J$h,Q;J$h=2;for(;J$h !== 5;){switch(J$h){case 2:Q=T.oy(Aa,Z);Q && Q.pe && (Qa[Z].q9(Q),Z=fa.$t,Z[Aa] > qa[Aa] && (qa[Aa]=Z[Aa]));J$h=5;break;}}});c_Z=3;break;case 7:c_Z=Qa?2:0;break;}}});J6B=16;break;case 12:U=J.Ta;H=g.hka.create({Vb:V,ba:H,Oq:N,Ykb:J.NG || [this.Qf.laa(f.u.T),this.Qf.laa(f.u.J)],qg:!1,Kbb:!!J.replace,Rl:!!J.Rl,Wf:(0,f.Oza)(!!J.Kpa,!!J.D2),ca:S,Ta:U,Kb:this.Kb,Mt:this.WXa.bind(this),kc:this,config:this.K,H:this.H,xh:this.xh,Cp:this.Cp,sg:this.c_a?this.Mc.sg:void 0,sF:this.sF});fa=H.O;(J.AIb || this.cXa) && this.Qb.Kw(J.AIb || this.cXa,fa.P);J6B=19;break;case 2:(P=this,W=this.K);J6B=1;break;case 9:J6B=!J.Suc && (this.jt && V.Ls || this.yo && S.Ls)?8:7;break;case 7:var C1Q="addManifest i";C1Q+="n fastplay but not";C1Q+=" drm manifest, leaving space for it";J.p0 && (this.c7=!0);V=this.ue.length;J.replace && 1 !== V?V=1:this.Qf.O.Vf.qg && !J.replace && 1 === V && (this.ac(C1Q),V=this.ue[0].clone(),this.ue.push(V),V=this.ue.length);S=J.ca || 0;J6B=12;break;case 22:var J9$=",";J9$+=" ";var S8D=") lastStreamAppe";S8D+="n";S8D+="ded:";S8D+=" ";S8D+="(";var Y$j=",";Y$j+=" ";var Z6D=" s";Z6D+="tre";Z6D+="am";Z6D+="Coun";Z6D+="t: (";var d83=" play";d83+="er";d83+="St";d83+="ate: ";var u3A="a";u3A+="ddManifest, cur";u3A+="ren";u3A+="tPts: ";N=this.Qb.Gy[f.u.J].nK;W.jj && this.Kb.bo(u3A + this.X.cg() + d83 + this.X.getState() + Z6D + H.Rv(f.u.T).Pc.length + Y$j + H.Rv(f.u.J).Pc.length + S8D + J + J9$ + N + ")");this.jt && l.wa(J) || this.yo && l.wa(N) || (H.O.LR([H.Rv(f.u.T),H.Rv(f.u.J)]),this.I7());J6B=34;break;case 16:var z1D="b";z1D+="o";z1D+="o";z1D+="lean";N.forEach(function(za,Aa){var R85,Qa;R85=2;for(;R85 !== 5;){switch(R85){case 2:Qa=fa.HB(Aa);Qa && Object.keys(Qa).forEach(function(T){var X0F;X0F=2;for(;X0F !== 1;){switch(X0F){case 2:Qa[T].Sob(p.default.zq()[Aa],fa.ty()?W.jeb:0);X0F=1;break;}}});R85=5;break;}}});H.vW=z1D === typeof J.dIb?J.dIb:!0;this.ue[V] && this.ue[V].ud();J6B=26;break;}}};M.prototype.Q7=function(H){var G1z;G1z=2;for(;G1z !== 1;){switch(G1z){case 4:return this.Cp.Q7(H);break;case 2:return this.Cp.Q7(H);break;}}};M.prototype.kJ=function(H){var I6S,J,N,P,W,V;I6S=2;for(;I6S !== 7;){switch(I6S){case 9:var h9c="dr";h9c+="mR";h9c+="ea";h9c+="dy";R7xOY.x9d(7);this.X.Sfa(R7xOY.L7v("",H),J);J && (this.$h.forEach(function(S){var F2B;F2B=2;for(;F2B !== 5;){switch(F2B){case 2:P.P$ && S.x7a();S.kJ();F2B=5;break;}}}),P.qha && this.i7(),this.Qf.O.Vf.qg && this.H7(this.Cp.XD?this.Cp.XD.Vb:this.xV + 1),P.oO || (null === (N=this.Mk) || void 0 === N?0:N.XP()) || this.LD.NA || this.J7(h9c),this.Cp.bna());I6S=7;break;case 2:P=this.K;I6S=1;break;case 1:I6S=!this.Jo()?5:7;break;case 5:var s$0=" readyS";s$0+="tat";s$0+="e";s$0+=": ";var t2G=" fo";t2G+="r ";t2G+="mov";t2G+="ieI";t2G+="d: ";var y55=",";y55+=" ";var v5O="drmReady at";v5O+=" str";v5O+="eaming pts: ";l.wa(J) && (J=!0);(W=this.ab.md.Ae(f.u.T),V=this.ab.md.Ae(f.u.J));P.jj && this.Kb.bo(v5O + (W?W.Ec:null) + y55 + (V?V.Ec:null) + t2G + H + s$0 + J);I6S=9;break;}}};E3u=48;break;case 72:M.prototype.J7=function(H){var m7A,J;m7A=2;for(;m7A !== 3;){switch(m7A){case 2:var m9g="Ado";m9g+="ptingData still";m9g+=" h";m9g+="as l";m9g+="ock:";var G8C="wipeHeaderCa";G8C+="c";G8C+="he:";R7xOY.x9d(7);H=R7xOY.L7v(H,G8C);this.LD.NA && this.Il(m9g + H);J=this.K;m7A=4;break;case 4:J.wda || (J.jj && this.Kb.bo(H),this.Mc.U8(),this.Mk && (this.Mk=void 0));m7A=3;break;}}};M.prototype.hXa=function(H){function J(S,U){var E2y,Aa,Qa,T,Z,fa,qa,za;E2y=2;for(;E2y !== 10;){switch(E2y){case 12:U.U7(qa.header,!U.Vf.qg && !U.Rl && fa === f.u.J,!0) && (void 0 !== S.RK && S.bS(S.RK),za=U.Rr(fa,Aa).stream.ma.ip(S.Ec,void 0,!0),U=Qa.Xl(za),Qa=U.ca,(U=U.Wta(S.Ec)) && 0 < U.re && (Qa=U.re),S.Ec !== Qa && (S.wL(Qa,za),N.poa(fa,Qa)),za=N.xzb(S,qa.data).then(function(){var J2n;J2n=2;for(;J2n !== 1;){switch(J2n){case 2:return Aa;break;}}}),T.GUb=!0,S=N.Zh,qa=qa.header.bitrate,fa === f.u.T?S.MC(qa):S.yL(qa));E2y=11;break;case 9:Z.gy=U.gy;E2y=8;break;case 13:U=N.Qf.O;E2y=12;break;case 5:(Aa=qa.Sa,Qa=qa.header.stream,T=N.Qb.hh[fa],Z=N.Qb.SC[fa]);l.wa(U.tF) || N.Zh.xlb(U.tF,U.Cq,U.Dq);Z.QB=U.QB;E2y=9;break;case 1:E2y=qa?5:11;break;case 6:E2y=!qa.header?14:13;break;case 14:var X5B="adoptPipeli";X5B+="ne no header for str";X5B+="eamI";X5B+="d:";return (S.Il(X5B,Aa),za);break;case 7:return za;break;case 11:return za;break;case 8:E2y=!S.tlc(Aa)?7:6;break;case 2:(fa=S.mediaType,qa=U[fa],za=Promise.resolve(void 0));E2y=1;break;}}}var I14,N,P,W,V;I14=2;for(;I14 !== 13;){switch(I14){case 2:var b6u="Previously ";b6u+="adopted request list sti";b6u+="ll re";b6u+="tained was unexpected";N=this;(null === (P=this.Mk) || void 0 === P?0:P.XP()) && this.Il(b6u);this.Mk=void 0;W=this.K;I14=3;break;case 8:var g8M="c";g8M+="heck";g8M+="ForH";g8M+="c";g8M+="dStart";this.Kb.wn(g8M);this.ue.forEach(function(S){var P1g;P1g=2;for(;P1g !== 1;){switch(P1g){case 2:S.O.L === H && (V=S);P1g=1;break;}}});return this.Mc.sg.A4b(H,V?V.O:void 0).then(function(S){var K6s,U,fa;K6s=2;for(;K6s !== 8;){switch(K6s){case 2:var A0Q="c";A0Q+="h";A0Q+="ec";A0Q+="kFo";A0Q+="rHcdEnd";N.Kb.wn(A0Q);K6s=1;break;case 1:K6s=l.wa(S)?5:4;break;case 5:var P25="he";P25+="aderCacheDataNo";P25+="tFound";return (W.oO || N.LD.NA || N.J7(P25),Promise.resolve());break;case 4:var s$X="a";s$X+="dopt";s$X+="HcdStart";(U=N.ab.md.Ae(f.u.T),fa=N.ab.md.Ae(f.u.J));N.Kb.wn(s$X);return N.LD.vha(function(){var n8D,qa,za;n8D=2;for(;n8D !== 7;){switch(n8D){case 3:var q1s="ad";q1s+="optHcdEn";q1s+="d";N.$Xa=S;N.Kb.wn(q1s);return Promise.all([qa,za]);break;case 2:qa=Promise.resolve();N.yo && (qa=J(fa,S));za=Promise.resolve();!N.jt || W.hab && !qa || (za=W.hab?qa.then(function(Aa){var O2D;O2D=2;for(;O2D !== 1;){switch(O2D){case 4:return Aa?J(U,S):Promise.resolve();break;case 2:return Aa?J(U,S):Promise.resolve();break;}}}):J(U,S));n8D=3;break;}}});break;}}}).then(function(){var h7F,S;h7F=2;for(;h7F !== 5;){switch(h7F){case 2:var u8B="adop";u8B+="tedCom";u8B+="pletedRequests";W.oO || (null === (S=N.Mk) || void 0 === S?0:S.XP()) || N.LD.NA || !N.X.Yr(N.Qf.O) || N.J7(u8B);h7F=5;break;}}}).catch(function(S){var Y3S;Y3S=2;for(;Y3S !== 1;){switch(Y3S){case 4:N.ac("",S);Y3S=4;break;case 2:var Z4i="header";Z4i+="Cache:lo";Z4i+="okupDataPromise caught error:";N.ac(Z4i,S);Y3S=1;break;}}});break;case 3:I14=!this.ZEb || !this.Mc.sg?9:8;break;case 9:return (this.Mc.vqa(),Promise.resolve());break;}}};M.prototype.xzb=function(H,J){var X3q,P,W,V,S,U,fa,N;X3q=2;for(;X3q !== 9;){switch(X3q){case 4:(P=H.pca,W=P.G,V=Math.min(this.ue[0].Ta || Infinity,P.Nc || Infinity),S=H.mediaType,U=this.Qb.hh[S]);return this.LD.vha(function(){var L8d,za;L8d=2;for(;L8d !== 3;){switch(L8d){case 7:L8d=1 >= J.length?2:8;break;case 1:L8d=0 < J.length?5:4;break;case 5:qa();L8d=1;break;case 14:return Promise.all(za);break;case 4:return Promise.all(za);break;case 2:za=[];L8d=1;break;}}function qa(){var v5D,Aa;v5D=2;for(;v5D !== 5;){switch(v5D){case 2:var f9Y="ado";f9Y+="ptData, not ad";f9Y+="opting failed med";f9Y+="iaR";f9Y+="equest:";var C_S="adoptData, n";C_S+="ot";C_S+=" ado";C_S+="pting aborted mediaRequest:";Aa=J.shift();7 === Aa.readyState?H.ac(C_S,Aa.toString()):6 === Aa.readyState?(H.ac(f9Y,Aa.toString()),N.iO(Aa,!1)):H.Ec >= Aa.Td && H.Ec < Aa.Nc && (H.Ec < V || !l.Qa(V))?(za.push(N.yzb(H,Aa).then(function(){var p7p;p7p=2;for(;p7p !== 1;){switch(p7p){case 2:Aa.complete && N.K$a(Aa);p7p=1;break;case 4:Aa.complete || N.K$a(Aa);p7p=5;break;}}})),H.Bfc(Aa.Nc),l.Qa(V) && H.Ec >= V && N.Kb.Rna(W,Aa.Nc),S === f.u.T && N.Zh.MC(Aa.bitrate),Aa.complete?(U.yw+=Aa.duration,Aa.i4b && (U.q0+=Aa.duration),fa=Aa):(N.Mk || (N.Mk=new A.OHa(N.H)),N.Mk.push(Aa))):N.iO(Aa,!1);v5D=5;break;}}}}).then(function(){var a5A,za,qa;a5A=2;for(;a5A !== 8;){switch(a5A){case 4:qa=N.ue[P.O.Vb];za=H.Pta(H.Ec);void 0 !== za?(H.Sm=za,H.pd=qa.O.lj[S].stream.Xl(H.Sm)):H.Sm=H.Ud?H.Ud.index + 1:H.Sm + 1;a5A=8;break;case 2:fa && H.L$a(fa);a5A=5;break;case 5:a5A=fa || (null === (qa=N.Mk) || void 0 === qa?0:qa.XP())?4:8;break;}}});break;case 14:return Promise.resolve();break;case 5:return Promise.resolve();break;case 1:X3q=0 === J.length?5:4;break;case 2:N=this;X3q=1;break;}}};M.prototype.yzb=function(H,J){var Y0T,N,P;Y0T=2;for(;Y0T !== 3;){switch(Y0T){case 2:var X0f=", ";X0f+="p";X0f+="t";X0f+="s: ";var D5n=", ";D5n+="sta";D5n+="te:";D5n+=" ";var E7u="adoptMediaR";E7u+="equ";E7u+="est";E7u+=": type: ";(N=this,P=H.mediaType);this.K.jj && this.Kb.bo(E7u + P + D5n + J.readyState + X0f + J.Td);this.poa(P,J.Td);Y0T=4;break;case 4:return H.Xa.GGb(J).catch(function(W){var W4Y;W4Y=2;for(;W4Y !== 1;){switch(W4Y){case 4:N.Il("",W);W4Y=2;break;case 2:var t2E="Er";t2E+="ror ad";t2E+="opting req";t2E+="uest";t2E+="s";N.Il(t2E,W);W4Y=1;break;}}});break;}}};M.prototype.wZa=function(H,J){var e9p,N;e9p=2;for(;e9p !== 9;){switch(e9p){case 2:N=this;void 0 === J && (J=C.y5.Upa);this.ab.md.rDa(H,J);this.jA.reset();(void 0 === H?f.hg:[H]).forEach(function(P){var a1f;a1f=2;for(;a1f !== 1;){switch(a1f){case 2:N.zc(P) && (N.Ex[P].reset(),N.aEb(P),N.Zh.w8b(P));a1f=1;break;}}});e9p=9;break;}}};M.prototype.Lmb=function(){var L5Q,H;L5Q=2;for(;L5Q !== 5;){switch(L5Q){case 2:H=this;f.hg.forEach(function(J){var A$e,N;A$e=2;for(;A$e !== 5;){switch(A$e){case 2:null === (N=H.Ex[J]) || void 0 === N?void 0:N.stop();A$e=5;break;}}});L5Q=5;break;}}};M.prototype.F1=function(H){var w2q,J;w2q=2;for(;w2q !== 4;){switch(w2q){case 2:J=this;(void 0 === H?f.hg:[H]).forEach(function(N){var X$Z,P;X$Z=2;for(;X$Z !== 5;){switch(X$Z){case 2:null === (P=J.Ex[N]) || void 0 === P?void 0:P.resume();X$Z=5;break;}}});return Promise.resolve();break;}}};M.prototype.i7=function(){var U_8,H,J,N;U_8=2;for(;U_8 !== 4;){switch(U_8){case 2:(H=this,N=f.hg);null === (J=this.jA) || void 0 === J?void 0:J.reset();N.forEach(function(P){var Q6r,W;Q6r=2;for(;Q6r !== 5;){switch(Q6r){case 2:null === (W=H.Ex[P]) || void 0 === W?void 0:W.resume();Q6r=5;break;}}});U_8=4;break;}}};M.prototype.aEb=function(H){var t7o,J;t7o=2;for(;t7o !== 3;){switch(t7o){case 2:J=this.Qb.hh[H];this.Qb.Gy[H].uya=void 0;J.yw=0;t7o=4;break;case 4:J.q0=0;t7o=3;break;case 14:J.q0=3;t7o=9;break;}}};M.prototype.poa=function(H,J){var r6r,N,P,W;r6r=2;for(;r6r !== 9;){switch(r6r){case 2:N=this.ab.md;r6r=1;break;case 7:N=this.ab.md;r6r=4;break;case 1:r6r=N.fb(H)?5:9;break;case 6:r6r=N.fb(H)?1:2;break;case 5:var d8l="pt";d8l+="sch";d8l+="an";d8l+="g";d8l+="ed";(P=this.Qb.hh[H],W=this.Qb.SC[H]);l.wa(P.hq) && (P.hq=J,H === f.u.J && this.jt && (H=this.Qb.hh[f.u.T],l.wa(H.hq) && (N=N.fb(f.u.T),N.bS(J)),this.emit(d8l,J)));l.wa(W.TW) && (W.TW=J);r6r=9;break;}}};E3u=87;break;case 104:M.prototype.jBb=function(H){var A01,J,N;A01=2;for(;A01 !== 8;){switch(A01){case 2:J=H.request;H=H.mediaType;N=J.Xa.hb;N.Z4b(H);A01=3;break;case 3:J.Pr && this.Kb.ACb(J);J.Nm && this.Kb.OCb(H,J.O.Vb,N.G);A01=8;break;}}};M.prototype.pEb=function(H,J){var X9Z;X9Z=2;for(;X9Z !== 1;){switch(X9Z){case 2:this.Qb.Gy[H.mediaType].nK={id:J.Sa,index:J.zg,bitrate:J.bitrate,Ya:J.Nb && J.Nb.confidence && J.Nb.Ya?J.Nb.Ya.xa:0,location:J.location};X9Z=1;break;}}};M.prototype.uxa=function(H){var w9t,fa,qa,za,J,N,P,W,V,S,U;w9t=2;for(;w9t !== 11;){switch(w9t){case 12:return V;break;case 5:(fa=U.md,qa=fa.Ae(f.u.T),za=fa.Ae(f.u.J));V.vspts=null !== (J=null === za || void 0 === za?void 0:za.Ec) && void 0 !== J?J:0;V.aspts=null !== (N=null === qa || void 0 === qa?void 0:qa.Ec) && void 0 !== N?N:0;V.vbuflbytes=null !== (P=null === za || void 0 === za?void 0:za.Wo.ga) && void 0 !== P?P:0;w9t=8;break;case 2:(V={},S=this.$h,U=this.ab);w9t=1;break;case 6:V.abuflmsec=U.Tx(fa,f.u.T);H && (V.a=null === qa || void 0 === qa?void 0:qa.Xa.ma.toJSON(),V.v=null === za || void 0 === za?void 0:za.Xa.ma.toJSON());w9t=13;break;case 1:w9t=!U.md.bg?5:12;break;case 13:H && S && (H=S[f.u.J],S=S[f.u.T],V.atoappend=null === H || void 0 === H?void 0:H.Mfa(),V.vtoappend=null === S || void 0 === S?void 0:S.Mfa());w9t=12;break;case 8:V.abuflbytes=null !== (W=null === qa || void 0 === qa?void 0:qa.Wo.ga) && void 0 !== W?W:0;V.vbuflmsec=U.Tx(fa,f.u.J);w9t=6;break;}}};M.prototype.pZb=function(H){var W$J,P,W,V,S,J,N;W$J=2;for(;W$J !== 8;){switch(W$J){case 5:(P=this.Qb.Gy[H],W=this.ab.LI(J,H));P=P.nK?P.nK.bitrate:0;(V=N.Xa.qBa,S=this.ab.mg);return {type:H,availableMediaBuffer:p.default.zq()[H] - W,completeBuffer:J.Lh(H),incompleteBuffer:V,playbackBitrate:N.Ihb,streamingBitrate:P,streamingTime:N.Ec + S,usedMediaBuffer:W,toappend:N.Slc};break;case 2:(J=this.ab.md,N=J.fb(H));W$J=1;break;case 1:W$J=N?5:8;break;}}};M.prototype.ldc=function(){var D$p,H;D$p=2;for(;D$p !== 5;){switch(D$p){case 2:var B0N="re";B0N+="questGarbage";B0N+="C";B0N+="ollec";B0N+="tion";H={type:B0N,time:p.default.time.fa()};(0,v.kb)(this,H.type,H);D$p=5;break;}}};M.prototype.yr=function(H,J,N,P,W,V,S){var g7O;g7O=2;for(;g7O !== 5;){switch(g7O){case 2:var r2Z="N";r2Z+="FErr_";r2Z+="MC_St";r2Z+="reamingFa";r2Z+="ilure";void 0 === S && (S=!1);this.x7 || (l.wa(N) && (N=r2Z),this.x7=!0,this.Kb.SCb(N,H,P,W,V,void 0 !== J?J:this.x0,S));g7O=5;break;}}};M.prototype.WXa=function(){var R4s;R4s=2;for(;R4s !== 5;){switch(R4s){case 2:var F$o="Net";F$o+="work";F$o+=" failures r";F$o+="eset!";this.ac(F$o);this.xh.Ml();R4s=5;break;}}};M.prototype.kBb=function(H,J){var e20;e20=2;for(;e20 !== 5;){switch(e20){case 2:J=(0,m.B9a)(J);this.YWa[H.mediaType]=J;e20=5;break;}}};Object.defineProperties(M.prototype,{DI:{set:function(H){var x_3;x_3=2;for(;x_3 !== 1;){switch(x_3){case 2:this.Qb.DI=H;x_3=1;break;}}},enumerable:!1,configurable:!0}});return M;break;case 59:M.prototype.P1a=function(H,J){var g6O;g6O=2;for(;g6O !== 5;){switch(g6O){case 2:R7xOY.f4w(8);(0,t.assert)(R7xOY.a2W(0,J));return this.ue[J].GJb(f.u.J,H);break;}}};M.prototype.lB=function(H,J){var O54,P,N;O54=2;for(;O54 !== 7;){switch(O54){case 4:P=N.mg;O54=3;break;case 5:O54=N?4:8;break;case 2:void 0 === H && (H=this.x0);N=this.ab.gUb(J,H);O54=5;break;case 3:l.Qa(P) || (P=this.ue[H].Ay);R7xOY.x9d(0);return R7xOY.a2W(P,J);break;case 8:(N=this.ab.Ota(H),0 < N.length && (N=N[0],P=N.mg));O54=3;break;}}};M.prototype.lX=function(H,J){var f6H,N,P;f6H=2;for(;f6H !== 7;){switch(f6H){case 2:void 0 === H && (H=this.x0);N=this.ab.fUb(J,H);f6H=5;break;case 4:P=N.mg;f6H=3;break;case 3:l.Qa(P) || (P=this.ue[H].Ay);R7xOY.f4w(7);return R7xOY.L7v(P,J);break;case 5:f6H=N?4:8;break;case 8:(N=this.ab.Ota(H),0 < N.length && (N=N[0],P=N.mg));f6H=3;break;}}};M.prototype.ZN=function(){var J92,H;J92=2;for(;J92 !== 4;){switch(J92){case 8:J92=H && this.Qb.DI?4:9;break;case 2:H=this.X.Uf();J92=1;break;case 1:J92=H || this.Qb.DI?5:4;break;case 5:(H && this.Kb.Qna(),this.bW(),this.X.Od(d.La.Xc),this.xh.Ml());J92=4;break;}}};M.prototype.soa=function(){var c8D,H,J;c8D=2;for(;c8D !== 3;){switch(c8D){case 2:(H=this,J=this.X.Uf());this.ab.md.Pfa(J,function(N){var d9p;d9p=2;for(;d9p !== 1;){switch(d9p){case 2:return H.$h[N]?H.$h[N].Mfa():"";break;}}});this.lN && (clearTimeout(this.lN),this.lN=void 0);this.jA.d5b();c8D=3;break;}}};M.prototype.FZa=function(H){var y4g,J,U_E;y4g=2;for(;y4g !== 7;){switch(y4g){case 2:H.Zi=!0;H.Ls=!1;J=this.X.cg() || 0;y4g=4;break;case 8:try{U_E=2;for(;U_E !== 1;){switch(U_E){case 2:this.pta(d.La.GD,{Ta:H.Nc});U_E=1;break;}}}catch(N){var T8X="Hindsight: Error ev";T8X+="alu";T8X+="ating QoE a";T8X+="t endOfStream: ";R7xOY.f4w(7);this.Kb.vp(R7xOY.L7v(N,T8X));}y4g=7;break;case 4:H.IO(J);this.Qb.lA();y4g=9;break;case 9:y4g=this.Et && H.mediaType === f.u.J?8:7;break;}}};M.prototype.SDb=function(){var b3F,H;b3F=2;for(;b3F !== 5;){switch(b3F){case 2:H=this.Mc.Ac;H && (H=H.get()) && H.avtp && this.Jw.NFb({avtp:H.avtp.xa});b3F=5;break;}}};M.prototype.yEb=function(){var w2S,H,J,N;w2S=2;for(;w2S !== 4;){switch(w2S){case 2:this.X.Od(d.La.Yh);(H=this.ab.md,J=H.Ae(f.u.T),N=H.Ae(f.u.J));w2S=5;break;case 5:var v2f="startu";v2f+="p, ";v2f+="playerState n";v2f+="o longer ";v2f+="STARTING:";var Z83="failed to star";Z83+="t aud";Z83+="io pipeline";var O5M="failed to star";O5M+="t ";O5M+="vide";O5M+="o pipeline";this.yo && !this.LZa(N)?this.ac(O5M):this.jt && !this.LZa(J)?this.ac(Z83):(this.bZa=!0,this.ue[0].O.iba=!0,J=this.Qb.hh[f.u.J],N=this.Qb.hh[f.u.T],(J && 0 < J.yw || N && 0 < N.yw) && this.Kb.BCb(String(H.O.L),N?N.yw:0,J?J.yw:0,N?N.q0:0,J?J.q0:0),this.X.bcb()?(this.q7(0),this.jt && (H=this.Qf.laa(f.u.T),J=this.Qf.Rv(f.u.T).trackId,this.Kb.ECb(H,J))):this.ac(v2f,this.X.getState()));w2S=4;break;}}};M.prototype.LZa=function(H){var r6g,J,N;r6g=2;for(;r6g !== 14;){switch(r6g){case 2:(J=H.mediaType,N=this.Qb.ZYb(H));r6g=1;break;case 6:return !0;break;case 9:return !0;break;case 8:N=this.Qf.O;H.O.K3a(H,{offset:0,SE:!N.Vf.qg && !N.Rl && J === f.u.J,fy:!this.Qb.hh[J].GUb});r6g=6;break;case 4:H=H.track.Pc[N];r6g=3;break;case 3:r6g=H.Rr()?9:8;break;case 1:r6g=l.wa(N)?5:4;break;case 5:var o9v="NFErr_MC_Str";o9v+="eami";o9v+="ngInitFailure";var H1_="s";H1_+="tartPi";H1_+="peline fa";H1_+="i";H1_+="led";return (this.Jo() || this.yr(H1_,H.hb.O.Vb,o9v),!1);break;}}};M.prototype.q7=function(H,J){var f_7,N,P,W,V,S;f_7=2;for(;f_7 !== 19;){switch(f_7){case 2:(N=this,P=this.K,W=this.Qb.hh[f.u.T] || ({}),V=this.Qb.hh[f.u.J] || ({}),S=this.Qb.SC[f.u.J] || ({}));(this.Qb.SC[f.u.T] || ({})).TW=void 0;S.TW=void 0;this.X.Od(2 === H?d.La.Vg:d.La.Yd);f_7=3;break;case 7:var V1W="s";V1W+="tartBuffe";V1W+="r";V1W+="in";V1W+="g";this.emit(V1W);f.hg.forEach(function(U){var m0C;m0C=2;for(;m0C !== 5;){switch(m0C){case 1:(U.lqa=0,U.seeking=0 === H || 1 === H,U.hra());m0C=5;break;case 2:m0C=(U=N.ab.md.Ae(U))?1:5;break;}}});this.vma=p.default.time.fa();f_7=13;break;case 3:this.Kb.yCb(J);f_7=9;break;case 10:this.X.Uf() && (this.lN=setTimeout(function(){var e$t;e$t=2;for(;e$t !== 1;){switch(e$t){case 2:N.Qb.lA();e$t=1;break;}}},P.wC));this.xh.Ml();f_7=19;break;case 9:this.jA.reset();this.Qf.O.KAa();f_7=7;break;case 13:W.Em=V.Em=this.vma;0 === H && (!this.yo || 0 < V.yw) && (!this.jt || 0 < W.yw) && this.Qb.lA();P.VX && (this.Uma=setTimeout(function(){var p3Q;p3Q=2;for(;p3Q !== 1;){switch(p3Q){case 4:N.SDb();p3Q=7;break;case 2:N.SDb();p3Q=1;break;}}},P.Vsa));f_7=10;break;}}};E3u=72;break;case 2:Object.defineProperties(M.prototype,{addEventListener:{get:function(){var m0L;m0L=2;for(;m0L !== 1;){switch(m0L){case 2:return this.addListener.bind(this);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{removeEventListener:{get:function(){var H0S;H0S=2;for(;H0S !== 1;){switch(H0S){case 4:return this.removeListener.bind(this);break;case 2:return this.removeListener.bind(this);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{M5b:{get:function(){var p97;p97=2;for(;p97 !== 1;){switch(p97){case 2:return this.Gg.Yc;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{mediaSourceId:{get:function(){var H2t;H2t=2;for(;H2t !== 1;){switch(H2t){case 2:return this.Gg?this.Gg.vxc:void 0;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{jt:{get:function(){var E3m;E3m=2;for(;E3m !== 1;){switch(E3m){case 2:return this.zc(f.u.T);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{yo:{get:function(){var Y8I;Y8I=2;for(;Y8I !== 1;){switch(Y8I){case 2:return this.zc(f.u.J);break;case 4:return this.zc(f.u.J);break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{attributes:{get:function(){var u3V;u3V=2;for(;u3V !== 1;){switch(u3V){case 4:return this.YWa;break;case 2:return this.YWa;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{Oh:{get:function(){var I27;I27=2;for(;I27 !== 1;){switch(I27){case 2:return this.ak;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{x0:{get:function(){var X5I;X5I=2;for(;X5I !== 1;){switch(X5I){case 2:return 0 <= this.Q6?this.Q6:0;break;case 4:return 3 < this.Q6?this.Q6:1;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(M.prototype,{Qf:{get:function(){var N1I;N1I=2;for(;N1I !== 1;){switch(N1I){case 2:return this.ue[this.xV];break;}}},enumerable:!1,configurable:!0}});E3u=13;break;case 27:M.prototype.KP=function(){var Q2_;Q2_=2;for(;Q2_ !== 1;){switch(Q2_){case 2:return this.ue.length;break;case 4:return this.ue.length;break;}}};M.prototype.Bxa=function(H,J){var M$B;M$B=2;for(;M$B !== 9;){switch(M$B){case 1:return !0;break;case 7:M$B=H != J?8:1;break;case 2:M$B=H === J?1:5;break;case 5:H=this.ue[H];J=this.ue[J];return H.O.Vf.qg && J.O.Vf.p_ || J.O.Vf.qg && H.O.Vf.p_;break;}}};M.prototype.Oua=function(H){var Z0O;Z0O=2;for(;Z0O !== 5;){switch(Z0O){case 1:return {id:H.G.id,mg:H.mg,Bd:H.RBa,Xf:H.Xf,Td:H.Gfa,Nc:H.Nc};break;case 2:Z0O=(H=this.ab.oi.children[H])?1:5;break;}}};M.prototype.Wn=function(){var v3H,H;v3H=2;for(;v3H !== 5;){switch(v3H){case 2:H=this.ab.oi;return {id:H.G.id,mg:H.mg,Bd:H.RBa,Xf:H.Xf,Td:H.Gfa,Nc:H.Nc};break;}}};M.prototype.Uga=function(H,J){var c5R;c5R=2;for(;c5R !== 1;){switch(c5R){case 4:return this.ab.Uga(H,J);break;case 2:return this.ab.Uga(H,J);break;}}};M.prototype.open=function(){var j1c,U,J,N,P,W,V,S,fa,qa,H;j1c=2;for(;j1c !== 33;){switch(j1c){case 5:var A1B="NFErr_";A1B+="M";A1B+="C_StreamingInitFa";A1B+="ilure";var Y8D="startPts ";Y8D+="must be a p";Y8D+="ositive";Y8D+=" numbe";Y8D+="r, not ";this.yr(Y8D + this.Oo,void 0,A1B);j1c=33;break;case 6:this.Mc.sg && this.Mc.sg.zI(S,this.un.sessionId);U=this.b$.iAb(V,N);j1c=13;break;case 15:fa.sourceBuffers.forEach(function(za){var Q$1,Aa,Qa;Q$1=2;for(;Q$1 !== 13;){switch(Q$1){case 7:var z2y="m";z2y+="anagerde";z2y+="bu";z2y+="g";z2y+="event";J.jj && za.addListener(z2y,function(T){var D6S;D6S=2;for(;D6S !== 1;){switch(D6S){case 2:(0,v.kb)(H,T.type,T);D6S=1;break;}}});H.$h[Aa]=za;H.Ex[Aa]=Qa;Q$1=13;break;case 2:var q1D="log";q1D+="da";q1D+="ta";var P70="err";P70+="o";P70+="r";var o6Q="requestA";o6Q+="ppende";o6Q+="d";var b4l="he";b4l+="aderA";b4l+="ppended";(Aa=za.mediaType,Qa=H.Qb.hh[Aa]);za=new h.qia(Aa,fa,za,J,!1,H.X,void 0,H.gi.bind(H));Qa=new D.jOa(za,Aa,H.ab,H.K,Qa.H);za.addListener(b4l,H.gBb.bind(H));za.addListener(o6Q,H.jBb.bind(H));za.addListener(P70,function(T){var L0p;L0p=2;for(;L0p !== 1;){switch(L0p){case 2:var i0y="NFErr_MC_S";i0y+="trea";i0y+="mingFailure";H.yr(T.errorstr,void 0,i0y);L0p=1;break;}}});za.addListener(q1D,function(T){var f_y;f_y=2;for(;f_y !== 1;){switch(f_y){case 2:(0,v.kb)(H,T.type,T);f_y=1;break;}}});Q$1=7;break;}}});this.jA=new B.VSa(this.Ex,this.ZN.bind(this),this.X.cg.bind(this.X));this.Ym && this.Kb.tCb();N=this.x9a();j1c=24;break;case 4:var B6p="h";B6p+="ea";B6p+="d";B6p+="ers";(J=this.K,N=this.Qf.O,P=N.L,W=[],V=[B6p]);this.yo && (W.push(f.u.J),V.push(f.u.J));this.jt && (W.push(f.u.T),V.push(f.u.T));this.b$.yBb();S=J.oO;j1c=6;break;case 20:var P9K="creat";P9K+="eM";P9K+="ediaSourceEnd";this.Kb.wn(P9K);fa.Yc || (fa.Yc=q.Yc);this.Gg=fa;j1c=17;break;case 17:j1c=!fa.X7(W)?16:15;break;case 34:var y72="NFErr_M";y72+="C_";y72+="Str";y72+="eamingIn";y72+="itFailure";var a9S="exce";a9S+="pt";a9S+="ion in init";var k2q="E";k2q+="rro";k2q+="r:";(this.dk(k2q,fa.error),this.yr(a9S,void 0,y72));j1c=33;break;case 22:var G4B="s";G4B+="ta";G4B+="rtp";G4B+="la";G4B+="y";var K7g="l";K7g+="o";K7g+="gd";K7g+="a";K7g+="ta";J.YPb?setTimeout(function(){var R8Q;R8Q=2;for(;R8Q !== 1;){switch(R8Q){case 2:H.hXa(P).then(qa);R8Q=1;break;case 4:H.hXa(P).then(qa);R8Q=4;break;}}},0):this.hXa(P).then(function(){var o84;o84=2;for(;o84 !== 1;){switch(o84){case 2:setTimeout(qa,0);o84=1;break;}}});N={type:K7g,target:G4B,fields:{audiogapconfig:J.NQ,audiogapdpi:this.Gg.Yc && this.Gg.Yc.NQ,aseApiVersion:this.j8}};this.emit(N.type,N);j1c=33;break;case 13:var E02="creat";E02+="eMe";E02+="dia";E02+="SourceStart";V.forEach(function(za,Aa){var P5J;P5J=2;for(;P5J !== 1;){switch(P5J){case 2:var m2A="h";m2A+="e";m2A+="aders";m2A === za?H.kV=U[Aa]:H.Qb.hh[za].af=U[Aa];P5J=1;break;}}});this.Kb.wn(E02);fa=new q(this.X.QI);j1c=10;break;case 24:this.Kb.SYa(N);qa=function(){var K1u;K1u=2;for(;K1u !== 5;){switch(K1u){case 2:var P3x="shutdow";P3x+="n detected befor";P3x+="e s";P3x+="tartReques";P3x+="ts";H.Kb.LCb();H.Jo()?H.ac(P3x):H.yEb();K1u=5;break;}}};j1c=22;break;case 10:j1c=1 === fa.readyState?20:34;break;case 16:var v7N="Er";v7N+="ror";v7N+=":";throw (this.dk(v7N,fa.error),fa.error);j1c=15;break;case 1:j1c=!l.Qa(this.Oo) || 0 > this.Oo?5:4;break;case 2:H=this;j1c=1;break;}}};Object.defineProperties(M.prototype,{j8:{get:function(){var s1G;s1G=2;for(;s1G !== 1;){switch(s1G){case 2:var h0$="1";h0$+=".";h0$+="0";return h0$;break;}}},enumerable:!1,configurable:!0}});M.prototype.Iva=function(){};M.prototype.flush=function(){var R_I;R_I=2;for(;R_I !== 1;){switch(R_I){case 2:this.Pg.flush();R_I=1;break;case 4:this.Pg.flush();R_I=8;break;}}};M.prototype.paused=function(){var g_P;g_P=2;for(;g_P !== 1;){switch(g_P){case 2:this.X.paused();g_P=1;break;case 4:this.X.paused();g_P=6;break;}}};E3u=32;break;}}})();b.PUa=a;(0,r.cf)(c.EventEmitter,a);},function(r,b,a){var c,l,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.hka=void 0;c=a(13);l=a(6);g=a(8);m=a(264);r=(function(){function d(f,h,k,n,p,q,v,t,w,u,x,y){void 0 === k && (k=0);this.Ke=f;this.n7=h;this.ca=k;this.Ta=n;this.daa=p;this.gi=q;this.KP=v;this.config=t;this.H=w;this.Kb=u;this.zTb=x;this.Oh=y;this.Ay=0;}d.create=function(f){var k,n,p,q,v,t,w,u,x,y,z,B,A,C,D;function h(E){(0,g.kb)(u,E.type,E);}k=f.Vb;n=f.ba;p=f.Ykb;q=f.ca;v=f.Ta;t=f.Mt;w=f.Kb;u=f.kc;x=f.config;y=f.H;z=f.xh;B=f.Cp;A=f.sg;C=f.sF;D=new m.cia(Number(n.movieId),{Vb:k,ba:n,Oq:f.Oq,Ceb:{Cxa:f.qg,Zbb:!!f.Kbb},Rl:f.Rl,Wf:f.Wf,config:x,iab:{vl:z.Ml.bind(z),sg:A,sF:C,nC:h,Lba:function(E){return E === u.ab.md.O;},SY:function(E,G,F,L,O){E=u.Qb.hh[E];return !G || F || L || O?u.kV:E.af;},kF:function(E){return u.Qb.Gy[E];},gi:u.gi.bind(u)},K_:function(E){u.emit("requestComplete",{type:"requestComplete",timestamp:E.tg,mediaRequest:E});},caa:function(){return u.Zh;},Ac:u.Mc.Ac,tk:u.Mc.tk,x6a:{Mt:t,fg:function(E,G,F,L,O,K){void 0 === K && (K=!1);return !K || u.X.Uf()?(u.yr(E,k,G,F,L,O,K),!0):!1;},rp:function(){return u.x7;},nC:h},MR:void 0,BG:{Z:u.Mc.A1,ga:u.Mc.ega}});x.VE && D.xL({Ap:u.un.Ap,sa:u.un.sa,IX:u.un.IX,vp:w.vp.bind(w)});f=new c.ef();f.addListener(D.events,"onHeaderFragments",function(E){var G,F,L,O,K;G=E.mediaType;F=E.Sa;L=E.stream.ma;O=u.gi(k);if(O){if(D.lj[G] && E !== D.lj[G])E.fy && (O=D.lj[G],E=E.stream,K=O && O.stream,y.warn("first header received for non-current track (trackId " + E.trackId + "streamId " + E.Sa + "), expected track " + (K && K.trackId) + ", stream " + (K && K.Sa) + ", " + O));else {D.lj[G]=E;E=u.ab.md;if(0 === k){K=D.zc(l.u.J)?E.fb(l.u.J).Ec:E.fb(l.u.T).Ec;E.W8(K,D);}O.ECa=!1;O.Cqa();u.I7();}B.bna();w.MCb(k,G,F,D.L,L);z.Ml();}else y.warn("addFragments for stale manifestIndex:",k);});f.addListener(D.events,"onHeaderRequestComplete",function(E){var G,F;E.Im?u.I7():E.SE && (y.warn("drm header header:",E.toString(),"but no headers seen, marking pipeline drmReady"),u.kJ(E.L));G=E.mediaType;F=Object.getOwnPropertyNames(C.Bx[G]);u.$h[G].$fb(E.stream,1 === F.length && F[0] === E.Sa);z.yXa();u.ldc();});f.addListener(D.events,"onHeaderFromCache",function(E){var G;G=E.header;E=E.HUb;G.Im && u.I7();E && w.CCb(G.L,G.Sa);});return new d(D,p,q,v,function(){return u.ab;},u.gi.bind(u),u.KP.bind(u),x,y,w,!1,f);};Object.defineProperties(d.prototype,{O:{get:function(){return this.Ke;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Vb:{get:function(){return this.O.Vb;},enumerable:!1,configurable:!0}});d.prototype.Rv=function(f){return this.Ke.zZb(f,this.laa(f));};d.prototype.laa=function(f){return this.n7[f];};d.prototype.close=function(){this.Oh.clear();this.O.close();};d.prototype.ud=function(){this.Ke.ud();delete this.Ke;};d.prototype.clone=function(){return new d(this.O,this.n7,this.ca,this.Ta,this.daa,this.gi,this.KP,this.config,this.H,this.Kb,!0,this.Oh);};d.prototype.Qob=function(f){this.H.trace("updateAudioTrack:",this.n7[l.u.T],"->",f);this.n7[l.u.T]=f;};d.prototype.k9a=function(){return void 0 !== this.HK?this.HK:this.Ta?this.Ta:this.Ke.duration;};d.prototype.GJb=function(f,h){var k;k=this.Ke.lj[f];if(k && k.stream.pe){if(this.BB && this.BB[f] && this.BB[f].ca <= h && this.BB[f].Ta > h)return this.BB[f].Bd;f=k.stream.ma;h=f.ip(h,void 0,!0);k=void 0;void 0 === k && (k=f.Al(h));return k;}};d.prototype.Cqa=function(){var f,h;if(!this.ECa && this.X$a()){this.uAa();f=[0,0];if(0 !== this.Vb && !this.Ke.Vf.p_ && !this.Ke.Vf.replace){h=this.gi(this.Vb - 1);h=this.Ke.L === h.Ke.L;f=this.daa().md;h=f.W8(this.ca,this.O,f,h);f=h.zR;}this.ca=f[l.u.J];this.zR=f;this.BB=h && h.BB;this.L1a();h=this.Ke.zc(l.u.J)?this.Ke.lj[l.u.J].stream.ma.Ta:this.Ke.lj[l.u.T].stream.ma.Ta;this.Kb.HCb(this.Vb,this.Ay,this.ca,this.HK,h);this.ECa=!0;for(h=this.Vb + 1;h < this.KP();++h){f=this.gi(h);f.ECa=!1;f.Cqa();}}};d.prototype.L1a=function(){var f;if(0 === this.Vb || this.Ke.Vf.replace)this.Ay=0;else {f=this.gi(this.Vb - 1);this.Ay=f.Ay + f.k9a() - this.ca;}};d.prototype.uAa=function(){var f,h,k,n,p,q,v,t;if(this.X$a()){p=this.daa().md;q=this.Ta || Infinity;v=this.Ke.zc(l.u.J);t=p.hY(q,this.O);this.HK=v?t[l.u.J].Ta:t[l.u.T].Ta;p=v?this.Ke.lj[l.u.J].stream.ma.Ta:this.Ke.lj[l.u.T].stream.ma.Ta;v=Math.min(null !== (h=null === (f=t[l.u.J]) || void 0 === f?void 0:f.Ta) && void 0 !== h?h:Infinity,null !== (n=null === (k=t[l.u.T]) || void 0 === k?void 0:k.Ta) && void 0 !== n?n:Infinity);this.Kb.JCb(this.Vb,this.HK,p,v);f=this.daa().Ota(this.Vb);0 < f.length && f.forEach(function(w){w.lkc(t,q);});}};d.prototype.X$a=function(){var f,h,k,n;f=this.Ke.zc(l.u.T);h=this.Ke.zc(l.u.J);k=this.Ke.lj[l.u.T];n=this.Ke.lj[l.u.J];k=k && k.stream.pe;n=n && n.stream.pe;return (!f || k) && (!h || n);};return d;})();b.hka=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.QUa=void 0;r=a(0);c=a(8);a=r.__importDefault(a(3));l=a.default.dr;new a.default.Console("ASEJS_SIDECHANNEL","media|asejs");a=(function(){function g(m,d,f){this.vp=f;this.iFb=new c.ima(m);this.sa=d.sa;this.Pzb=1E3 * d.E5b / d.PIb;this.UQb=d.IX;this.v0a=!1;}g.prototype.Dv=function(m){var d,f;d={s_xid:this.sa,dl:this.UQb?1:0};m.zE && (d.bs=(0,c.a9)(Math.floor(m.zE / this.Pzb) + 1,1,5));m.Ada && (d.limit_rate=m.Ada);m.j1a && (d.bb_reason=m.j1a);m.Xnb && (d.tm=m.Xnb);if(m.mX){f=m.mX.Uba();if(f || !f && this.v0a)(d.cpr_ss=m.mX.PC,d.cpr_ca=m.mX.jB,d.cpr_rec=m.mX.DC,this.v0a=f);}m.cqa && (d.br="" + m.cqa.start + "+" + m.cqa.size);return this.YCb(d);};g.prototype.fEa=function(m,d){var f,h;try{f=new l(void 0,"notification");h=this.Dv({j1a:m});d && h && f.open(d,void 0,2,void 0,void 0,void 0,h);}catch(k){this.vp("SideChannel: Error when sending sendBlackBoxNotification. Error: " + k);}};g.prototype.YCb=function(m){var d;try{d=this.mEb(m);return this.iFb.encrypt(d);}catch(f){this.vp("SideChannel: Error when obfuscating msg. Error: " + f);}};g.prototype.mEb=function(m){return Object.keys(m).map(function(d){return encodeURIComponent(d) + "=" + encodeURIComponent(JSON.stringify(m[d]));}).join("&");};return g;})();b.QUa=a;},function(r,b,a){var c,l,g,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.nVa=b.Lyb=void 0;c=a(0);a(75);l=a(2);r=c.__importDefault(a(3));g=a(430);a=a(428);m=new r.default.Console("FRAGMENTS","media|asejs");try{new Float64Array(8);d=!0;}catch(h){d=!1;}f=(function(h){function k(n,p){p=h.call(this,n.Uq,p) || this;p.pI=n;return p;}c.__extends(k,h);Object.defineProperties(k.prototype,{ga:{get:function(){return this.pI.kmb(this.Je);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{offset:{get:function(){return this.pI.Qi(this.Je);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{fAa:{get:function(){return this.pI.SQ && this.pI.SQ[this.Je];},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Xk:{get:function(){return this.pI.QVb(this.Je);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{gb:{get:function(){return this.pI.wz && this.pI.wz[this.Je];},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{aqa:{get:function(){return 8 * this.ga / (1E3 * this.Iv / this.W);},enumerable:!1,configurable:!0}});k.prototype.toJSON=function(){return {index:this.index,contentStartTicks:this.bb,contentEndTicks:this.sb,durationTicks:this.Iv,timescale:this.W,startPts:this.ca,endPts:this.Ta,duration:this.duration,additionalSAPs:this.Xk};};return k;})(a.QVa);b.Lyb=f;r=(function(){function h(k,n,p,q,v,t,w){this.PN=128;this.ed=n;this.Lb=p.offset;this.No=p.sizes;this.v7=k;this.mN=this.TU=this.ej=this.Br=this.uoa=void 0;this.kCb=q;this.nma=v && v.Qi;this.Ioa=t;this.Zf=Math.min(this.ed.length,this.No.length);k=this.wJb();this.XBb=k.maxBitrate;this.YBb=k.Iq;this.Uq.Ts.length !== this.No.length && m.trace("Mis-matched stream duration (" + this.Uq.Ts.length + "," + this.No.length + ") for movie id " + w);this.Uq.Y7 && !this.nma && m.error("Mis-matched additional SAPs information for movie id " + w);}Object.defineProperties(h.prototype,{mediaType:{get:function(){return this.ed.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{length:{get:function(){return this.Zf;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{qo:{get:function(){return this.ed.qo;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{fta:{get:function(){return this.ed.fta;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{ca:{get:function(){return this.ed.ca;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ta:{get:function(){return this.ed.Ta;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{yza:{get:function(){return this.ed.yza;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ey:{get:function(){return this.XBb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Iq:{get:function(){return this.YBb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{da:{get:function(){return this.ed.da;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{W:{get:function(){return this.ed.W;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Rg:{get:function(){return this.Br || this.xma();},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{SQ:{get:function(){return this.kCb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{mpa:{get:function(){return this.nma;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{wz:{get:function(){return this.Ioa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Uq:{get:function(){return this.ed;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{z1:{get:function(){return this.uoa || this.jAb();},enumerable:!1,configurable:!0}});h.prototype.kmb=function(k){if(this.No)return this.No[k];m.error("sizesByIndex _sizes is undefined");return -1;};h.prototype.Al=function(k){return this.ed.Al(k);};h.prototype.XX=function(k){return this.ed.Al(k) + this.ed.ye(k);};h.prototype.Qi=function(k){var n,p,q;if(this.TU !== k || void 0 === this.mN){if(0 === k)return this.Lb;if(this.TU === k - 1 && void 0 !== this.mN)(this.mN+=this.No[this.TU],++this.TU);else {n=this.ej || this.Uzb();p=Math.floor(k / this.PN);q=p * this.PN;for(n=n[p];q < k;++q){n+=this.No[q];}this.TU=k;this.mN=n;}}return this.mN;};h.prototype.ye=function(k){return this.ed.ye(k);};h.prototype.get=function(k){return new f(this,k);};h.prototype.QVb=function(k){var n,p,q,v,t;(0,l.assert)(0 <= k);n=this.Uq.Y7;p=this.Uq.R_a;q=this.nma;if(!q || !n || !p || k >= n.length)return [];v=[];t=k === n.length - 1?p.length:n[k + 1];for(n=n[k];n < t;++n){v.push({rj:p[n],re:this.Al(k) + this.da.Iy(p[n]).Z,offset:q[n]});}return v;};h.prototype.ip=function(k,n,p){return this.ed.ip(k,n,p);};h.prototype.G$=function(k,n,p){return this.ed.G$(k,n,p);};h.prototype.r9=function(k,n){return this.ed.r9(k,n);};h.prototype.tJb=function(k,n,p,q,v){var t,w,u,x,y,z,B,A,C;t=!0;w=0;u=this.ed.Ts;x=this.No;k=Math.floor(k * this.W / 1E3);y=Math.floor(p * this.W / 1E3);z=0;B=0;A=0;if(this.ed.oGa && this.ed.nGa)for(w=this.ed.oGa;w <= this.ed.nGa;++w){z+=u[w];B+=x[w];}if(B > n)t=!1;else for(;w < this.length && (!v || w < v);){C=x[w];p=u[w];if(B + C > n){for(;1 < w - A && B + C > n && (z - u[A] >= y || B - x[A] > q);){z-=u[A];B-=x[A];++A;}if(z < k || B + C > n){t=!1;this.ed.oGa=A;this.ed.nGa=w;break;}}z+=p;B+=C;++w;}return t;};h.prototype.subarray=function(k,n){(0,l.assert)(void 0 === k || 0 <= k && k < this.length);(0,l.assert)(void 0 === n || n > k && n <= this.length);return new h(this.v7,this.ed.subarray(k,n),{offset:this.Qi(k),sizes:this.No.subarray(k,n)},this.SQ && this.SQ.subarray(k,n),this.mpa && ({Qi:this.mpa}),this.Ioa && this.Ioa.subarray(k,n));};h.prototype.forEach=function(k){for(var n=0;n < this.length;++n){k(this.get(n),n,this);}};h.prototype.map=function(k){for(var n=[],p=0;p < this.length;++p){n.push(k(this.get(p),p,this));}return n;};h.prototype.reduce=function(k,n){for(var p=0;p < this.length;++p){n=k(n,this.get(p),p,this);}return n;};h.prototype.toJSON=function(){return {length:this.length};};h.prototype.dump=function(){var n;m.trace("StreamFragments: " + this.length);for(var k=0;k < this.length;++k){n=this.get(k);m.trace(("StreamFragments: ").concat(k,": [").concat(n.ca,"-").concat(n.Ta,"] @ ").concat(n.offset,", ").concat(n.ga," bytes"));}};h.prototype.wJb=function(){var k,n,p,q,v,t,x;k=0;n=0;p=this.ed.heb;q=this.ed.ieb;v=this.ed.Ts;t=this.No;if(void 0 === p || p >= this.length || void 0 === q || q >= this.length){for(var w=0,u=this.length;w < u;++w){x=t[w];x > n && (n=x,q=w);x/=v[w];x > k && (k=x,p=w);}void 0 === this.ed.heb && (this.ed.heb=p);void 0 === this.ed.ieb && (this.ed.ieb=q);}else (k=t[p] / v[p],n=t[q]);return {maxBitrate:Math.floor(k * this.W / 125),Iq:n};};h.prototype.xma=function(){for(var k=0,n=0;n < this.length;++n){k+=this.No[n];}return this.Br=k;};h.prototype.jAb=function(){return this.uoa=new g.Hla(this.ed.Ts,this.No,this.ed.W);};h.prototype.Uzb=function(){if(!this.ej){for(var k=d?new Float64Array(Math.ceil(this.length / this.PN)):Array(Math.ceil(this.length / this.PN)),n=this.Lb,p=0;p < k.length;++p){k[p]=n;for(var q=0;q < this.PN;++q){n+=this.No[p * this.PN + q];}}this.ej=k;}return this.ej;};return h;})();b.nVa=r;r.prototype.Gmb=(0,a.yy)(r.prototype.Al);(0,a.yy)(r.prototype.XX);(0,a.yy)(r.prototype.ye);(0,a.yy)(r.prototype.Qi);(0,a.yy)(r.prototype.kmb);(0,a.yy)(r.prototype.get);},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z;Object.defineProperties(b,{__esModule:{value:!0}});b.HLa=void 0;c=a(0);l=a(13);g=c.__importStar(a(11));m=c.__importDefault(a(3));d=new m.default.Console("ASEJS_ERROR_DIRECTOR","asejs");f=c.__importDefault(a(29));h=a(998);k=a(159);n=m.default.dr;p=n.J3;q={};v={};r=[f.default.Wh.Vz,!1];a=[f.default.Wh.Vz,!0];t=[f.default.Wh.DH,!1];w=[f.default.Wh.DH,!0];u=[f.default.Wh.URL,!0];x=[f.default.Wh.URL,!1];y=[-1,!1];z=[f.default.Wh.DH,!1];q[p.Nmc]=t;q[p.UNKNOWN_ERROR]=t;q[p.Rpc]=t;q[p.ptb]=t;q[p.jKa]=t;q[p.Btb]=t;q[p.ttb]=w;q[p.ssb]=w;q[p.qJa]=z;q[p.oJa]=z;q[p.tsb]=y;q[p.usb]=z;q[p.wsb]=z;q[p.psb]=t;q[p.rsb]=t;q[p.pJa]=r;q[p.qsb]=t;q[p.osb]=z;q[p.Enc]=w;q[p.Jub]=z;q[p.MMa]=z;q[p.LMa]=z;q[p.IMa]=z;q[p.JMa]=z;q[p.Iub]=u;q[p.sja]=w;q[p.G4]=u;q[p.tja]=a;q[p.uja]=w;q[p.Lub]=u;q[p.H4]=z;q[p.NMa]=w;q[p.Kub]=w;q[p.wtb]=w;q[p.qtb]=t;q[p.vyb]=t;q[p.gtb]=t;q[p.htb]=t;q[p.itb]=t;q[p.jtb]=t;q[p.ktb]=t;q[p.ltb]=t;q[p.mtb]=t;q[p.ntb]=t;q[p.otb]=t;q[p.rtb]=t;q[p.stb]=t;q[p.utb]=t;q[p.vtb]=t;q[p.xtb]=t;q[p.ytb]=t;q[p.ztb]=t;q[p.Atb]=t;q[p.Ctb]=t;q[p.Dtb]=t;q[p.uyb]=z;q[p.TIMEOUT]=r;v[p.qJa]=!0;v[p.MMa]=!0;v[p.LMa]=!0;v[p.JMa]=!0;v[p.jKa]=!0;r=(function(){function B(A,C,D,E){var j5E;j5E=2;for(;j5E !== 20;){switch(j5E){case 2:this.uk=A;this.config=C;this.pwa=D;this.Mt=E;this.events=new l.EventEmitter();this.Oh=new l.ef();j5E=8;break;case 8:var g$q="1SIYb";g$q+="ZrNJC";g$q+="p9";g$q;this.v2a=new k.v5();j5E=6;break;case 12:this.vS=this.Ev=0;this.OFa={};this.lCa=new h.KTa(A,E,C);j5E=20;break;case 6:var g_6="ne";g_6+="two";g_6+="rk";g_6+="Fa";g_6+="iled";q[p.IMa]=C.k0b?w:z;this.Oh.addListener(this.uk,g_6,this.c_b.bind(this));this.tQ=m.default.time.fa();j5E=12;break;}}}var I7X;I7X=2;for(;I7X !== 12;){switch(I7X){case 13:return B;break;case 2:B.prototype.Wa=function(){var l4G;l4G=2;for(;l4G !== 1;){switch(l4G){case 2:this.Oh.clear();l4G=1;break;case 4:this.Oh.clear();l4G=7;break;}}};B.prototype.xL=function(A){var e7i;e7i=2;for(;e7i !== 1;){switch(e7i){case 4:this.aga=A;e7i=2;break;case 2:this.aga=A;e7i=1;break;}}};B.prototype.pu=function(A,C,D,E,G){var b6U,J,N,W5J,Z,Q,F2y,C_X,P0G,F,L,O,K,I,M,H,a83,U,fa,qa,za,Aa,Qa,V,S,j04,f6w,a4N,P,W;b6U=2;for(;b6U !== 25;){switch(b6U){case 11:C=H.j$a(A).map(function(sa){var K_G;K_G=2;for(;K_G !== 1;){switch(K_G){case 2:return {url:A.url,$c:sa.id,bc:sa,stream:N,urls:sa.urls,S:A.up};break;}}});b6U=10;break;case 9:var W7I="criticalN";W7I+="et";W7I+="wo";W7I+="rkErr";W7I+="or";var i1U="criti";i1U+="cal";i1U+="Ne";i1U+="twork";i1U+="Error";J=q[E];H.ta && A && (this.config.d6a && E === p.G4 && 404 === D && this.vS < this.config.Iya?J=x:E === p.uja && A.w_b && (J=t));this.WB={TJ:D,Ah:E,L6a:I,Nj:G};v[E] && (++this.Ev,this.events.emit(i1U,{type:W7I,Ah:E}));b6U=14;break;case 12:N=H.f9a(A.az);b6U=11;break;case 15:var I1k="In";I1k+="v";I1k+="a";I1k+="lid affected for network";I1k+=" failure";d.error(I1k);b6U=27;break;case 3:b6U=E && g.isArray(q[E])?9:26;break;case 18:try{W5J=2;for(;W5J !== 13;){switch(W5J){case 2:(Z=c.__values(C),Q=Z.next());W5J=1;break;case 14:Q=Z.next();W5J=1;break;case 1:W5J=!Q.done?5:13;break;case 5:U=Q.value;za=U.$c;fa=U.urls;qa=U.url;W5J=8;break;case 8:W5J=J === z && !this.bdc(za)?13:7;break;case 7:var p2Y="e";p2Y+="rro";p2Y+="r";fa.some(function(sa){var o21;o21=2;for(;o21 !== 5;){switch(o21){case 2:H.pu(P,W,sa.url);return P === f.default.Wh.DH;break;}}});!this.aga || 0 !== D && void 0 !== D || this.aga.fEa(p2Y,qa);W5J=14;break;}}}catch(sa){var la;la={error:sa};}finally{F2y=2;for(;F2y !== 1;){switch(F2y){case 2:try{C_X=2;for(;C_X !== 1;){switch(C_X){case 2:Q && !Q.done && (L=Z.return) && L.call(Z);C_X=1;break;}}}finally{P0G=2;for(;P0G !== 5;){switch(P0G){case 2:P0G=la?1:5;break;case 9:throw la.error;P0G=2;break;case 1:throw la.error;P0G=5;break;}}}F2y=1;break;}}}b6U=25;break;case 17:b6U=C?16:15;break;case 13:b6U=A?12:17;break;case 27:return;break;case 26:var g$m="Unmappe";g$m+="d";g$m+=" ";g$m+="failure code in JSASE error director : ";R7xOY.f4w(7);d.error(R7xOY.a2W(E,g$m));b6U=25;break;case 2:var B7i=" : cr";B7i+="it";B7i+="ic";B7i+="al error count = ";var I_y=" ";I_y+="o";I_y+="n";I_y+=" ";var B2C=" ";B2C+="httpC";B2C+="ode ";var c$5="Fa";c$5+="ilu";c$5+="re";c$5+=" ";I=n.J3.name;I=E?I[E]:void 0;(M=this.config,H=this.uk);d.warn(c$5 + I + B2C + D + I_y + JSON.stringify(A?A:C) + B7i + this.Ev);b6U=3;break;case 14:b6U=J !== y?13:25;break;case 16:C=H.bfc(C.host,C.port).map(function(sa){var G2e;G2e=2;for(;G2e !== 1;){switch(G2e){case 2:return {url:sa.url.url,$c:sa.bc.id,bc:sa.bc,stream:sa.url.stream,urls:sa.bc.urls};break;}}});b6U=10;break;case 19:try{a83=2;for(;a83 !== 8;){switch(a83){case 9:S=V.next();a83=1;break;case 5:var W_p="e";W_p+="r";W_p+="r";W_p+="o";W_p+="r";(U=S.value,fa=U.urls,qa=U.url,za=U.$c,Aa=U.stream,Qa=U.bc);J === z || J === t?this.lCa.Qac(U,{W_a:za,m2:J,TJ:D,Ah:E,L6a:I,Nj:G}):this.config.d6a && J === x && (null === (O=null === Aa || void 0 === Aa?void 0:Aa.rE) || void 0 === O?0:O.ta) && (null === (K=null === Aa || void 0 === Aa?void 0:Aa.rE) || void 0 === K?void 0:K.bc) === Qa.id && A?(this.vS++,Aa.rE.JFb(A.up || 0)):(fa.some(function(sa){var A7M;A7M=2;for(;A7M !== 5;){switch(A7M){case 2:H.pu(P,W,sa.url);return P === f.default.Wh.DH;break;}}}),H.ta && this.vS === this.config.Iya && J === u && (this.vS=0));!this.aga || 0 !== D && void 0 !== D || this.aga.fEa(W_p,qa);a83=9;break;case 1:a83=!S.done?5:8;break;case 2:(V=c.__values(C),S=V.next());a83=1;break;}}}catch(sa){var T;T={error:sa};}finally{j04=2;for(;j04 !== 1;){switch(j04){case 2:try{f6w=2;for(;f6w !== 1;){switch(f6w){case 2:S && !S.done && (F=V.return) && F.call(V);f6w=1;break;}}}finally{a4N=2;for(;a4N !== 5;){switch(a4N){case 1:throw T.error;a4N=5;break;case 2:a4N=T?1:5;break;}}}j04=1;break;}}}b6U=25;break;case 20:b6U=M.Aw?19:18;break;case 10:(P=J[0],W=J[1]);b6U=20;break;}}};I7X=4;break;case 4:B.prototype.bdc=function(A){var n_t,C,D,E;n_t=2;for(;n_t !== 7;){switch(n_t){case 3:n_t=!(E.eh >= C - D.Aga || E.GC || (E.eh=C,++E.count,E.count < D.Nca))?9:7;break;case 8:this.OFa[A]={eh:C,count:1};n_t=7;break;case 4:(E.eh=C,E.count=1);n_t=7;break;case 2:(C=m.default.time.fa(),D=this.config,E=this.OFa[A]);n_t=1;break;case 1:n_t=E?5:8;break;case 9:return E.GC=!0;break;case 5:n_t=E.eh < this.tQ?4:3;break;}}};B.prototype.c_b=function(A){var D8s,C,D,E,G,F,L,O;D8s=2;for(;D8s !== 7;){switch(D8s){case 2:var B94=" ms";B94+=" a";B94+="go";var f_E=" last s";f_E+="uccess wa";f_E+="s ";var W9o="tem";W9o+="porari";W9o+="ly";var e5d="pe";e5d+="rma";e5d+="nen";e5d+="tly";var T2y="Net";T2y+="wo";T2y+="r";T2y+="k has fail";T2y+="ed ";(C=this,D=m.default.time.fa() - this.tQ,E=A,G=this.config);R7xOY.x9d(9);d.warn(R7xOY.L7v(T2y,A?e5d:W9o,f_E,B94,D));!A && D > G.iAa && (E=!0);D8s=4;break;case 4:D8s=this.WB?3:9;break;case 9:var x6X="tempor";x6X+="ar";x6X+="yNetworkE";x6X+="rror";var x9F="temp";x9F+="or";x9F+="aryNetwork";x9F+="Erro";x9F+="r";A || this.events.emit(x9F,{type:x6X,errorCode:F,httpCode:L,nativeCode:O});E?(this.OR && (clearTimeout(this.OR),this.OR=void 0),this.F2a(),this.lCa.reset(),this.pwa({m2b:A,$8b:F,b9b:L,c9b:O})):this.OR || (this.OR=setTimeout(function(){var Z76;Z76=2;for(;Z76 !== 5;){switch(Z76){case 2:C.OR=void 0;C.kfa();Z76=5;break;}}},G.jAa));D8s=7;break;case 3:(F=this.WB.Ah,L=this.WB.TJ,O=this.WB.Nj);D8s=9;break;}}};I7X=9;break;case 9:B.prototype.kfa=function(){var g1D,A;g1D=2;for(;g1D !== 5;){switch(g1D){case 2:A=this;this.v2a.NA || this.v2a.vha(function(){var G5G;G5G=2;for(;G5G !== 1;){switch(G5G){case 2:A.OR || (A.uk.kfa(),A.OFa={},A.Mt());G5G=1;break;}}});g1D=5;break;}}};B.prototype.Vga=function(A){var g6M,C;g6M=2;for(;g6M !== 8;){switch(g6M){case 2:C=this.config;this.tQ=Math.max(A.tg || m.default.time.fa(),this.tQ);this.F2a();g6M=4;break;case 4:var Y3o="up";Y3o+="da";Y3o+="tin";Y3o+="gLastSuccessEvent";var T86="updatingL";T86+="astSucce";T86+="ssEve";T86+="nt";this.uk.ta && void 0 !== A.up && !A.az.uCa(A.up) && (this.uk.f9a(A.az).rE.Hcc(A.up),this.vS=0);C.Aw && this.lCa.Vga(A);this.events.emit(T86,{type:Y3o});g6M=8;break;}}};I7X=7;break;case 7:B.prototype.KAa=function(){var v$C;v$C=2;for(;v$C !== 1;){switch(v$C){case 4:this.Ev=7;v$C=6;break;case 2:this.Ev=0;v$C=1;break;}}};B.prototype.li=function(){var n0y,A,C,D;n0y=2;for(;n0y !== 4;){switch(n0y){case 2:var L8g="m";L8g+="s";var t1V="Settin";t1V+="g un";t1V+="derflow timeout in ";(A=this,C=this.config,D=C.Gca);this.tQ=Math.max(m.default.time.fa(),this.tQ);!C.spb || this.o2 || C.dha && C.j$ && C.c7b || (d.info(t1V + D + L8g),this.o2=setTimeout(function(){var D$4;D$4=2;for(;D$4 !== 4;){switch(D$4){case 2:var S5K="ms, s";S5K+="ince under";S5K+="flow ";S5K+="with no ";S5K+="success";var G6f="Forcing p";G6f+="e";G6f+="rmanent network failure after ";R7xOY.f4w(10);d.info(R7xOY.L7v(G6f,S5K,D));A.o2=void 0;A.uk.pu(f.default.Wh.Vz,!0);D$4=4;break;}}},D));n0y=4;break;}}};B.prototype.F2a=function(){var m4v;m4v=2;for(;m4v !== 1;){switch(m4v){case 2:var u7D="Clea";u7D+="red";u7D+=" underfl";u7D+="ow timeout";this.o2 && (clearTimeout(this.o2),this.o2=void 0,d.info(u7D));m4v=1;break;}}};I7X=13;break;}}})();b.HLa=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.KTa=void 0;c=a(2);l=a(999);g=a(3).default;new g.Console("ASEJS_PROBE_MANAGER","asejs");r=(function(){function m(d,f,h){this.vV=d;this.Mt=f;this.config=h;this.Nv={};this.kG={};this.mI=!0;this.groupId=1;}m.prototype.Qac=function(d,f){var h,k,n,p,q,v,t,w,u,x;h=this;k=this.config;n=d.$c;p=d.stream;q=d.bc.location;(0,c.assert)(p,"Failing url should have an associated stream");(0,c.assert)(q,"Failing url should have an associated location");v=[];t=p.Lj[0];w=!1;u=this.Nv[n];x=g.time.fa();if(!u)u=this.cgc(n,x,f,d);else if(u.eh >= x - k.Aga)return;u.GC || (t && q.id === t.id && (d.isPrimary=!0),u.eh=x,u.GC=!1,u.error=f,++u.count,p && p.urls && 0 !== p.urls.length && (p.urls.forEach(function(y){var z,B,A,C,D;A=y.bc.id;C=A + "-" + n;D=h.kG[C];if(void 0 === D || void 0 === D.Hea)(D && D.vo && clearTimeout(D.vo),y=(null === (B=null === (z=d.stream) || void 0 === z?void 0:z.rE) || void 0 === B?0:B.ta)?h.DXb(d.stream.rE,d.S,y.url):y.url,(0,c.assert)(y,("Unexpected probeUrl: ").concat(y)),z=h.S3a(y,d,A),h.kG[C]={ja:!1,count:0,Hea:z.Mi()},v.push(z.Mi()),w=!0);-1 === u.oEa.indexOf(A) && u.oEa.push(A);}),0 < v.length && (k={ts:g.time.fa(),es:f.W_a,fc:f.Ah,fn:f.L6a,nc:f.Nj,pb:v,gid:this.groupId},f.TJ && (k.hc=f.TJ),this.qK(k,"errpb")),w && this.groupId++));};m.prototype.S3a=function(d,f,h){var k,n;k=new l.mIa(this);n="random=" + parseInt(("").concat(1E7 * Math.random()));k.T8b(d + (-1 !== d.indexOf("?")?"&":"?") + n,f,h);return k;};m.prototype.cgc=function(d,f,h,k){var n;n=this.Nv[d];k=k.bc.location;n || (n=this.Nv[d]={count:0,eh:f,GC:!1,error:h,oEa:[],nCa:{},location:k,S:h.S,Stc:h});return n;};m.prototype.getState=function(d){return this.Nv[d];};m.prototype.ZKb=function(d){this.Nv[d]=void 0;};m.prototype.qK=function(d,f){var h;if(this.mI){h={type:"logdata",target:"endplay",fields:{}};h.fields[f]={type:"array",value:d,adjust:["ts"]};this.vV.nC(h);}};m.prototype.DXb=function(d,f,h){var k;k=void 0 === f || f === d.xq().BL;return d.Iaa(k,k?void 0:f - 1,h);};m.prototype.Rac=function(d,f){var h,k,n,p,q,v,t,w,u,x,y,z;h=this;p=this.vV;q=this.config;v=f.$c;t=this.Nv[v];if(t){w=d.url;u=this.kG[d.$c + "-" + v];if(u){x=t.error;u && u.vo && clearTimeout(u.vo);u.ja=!0;u.count=0;u.Hea=void 0;t.nCa[d.$c]=!0;u=this.Nv[d.$c];if((null === u || void 0 === u?0:u.GC) && q.MA){p.kkb(d.$c,u.error.m2[1]);if(this.mI){y={ts:g.time.fa(),id:d.requestId,servid:f.$c,gid:d.groupId?d.groupId:-1};this.qK(y,"errst");}this.Nv[d.$c]=void 0;this.Mt();}if(w !== f.url){z=this.kG[v + "-" + v];z && z.ja || (v=null === u || void 0 === u?void 0:u.location,q=Math.min((null === (n=null === (k=null === v || void 0 === v?void 0:v.Nb) || void 0 === k?void 0:k.$P) || void 0 === n?void 0:n.xa) || Math.random() * q.Hca,q.Hca),setTimeout(function(){var B;if(!(!1 !== t.GC || z && z.ja) && (t.GC=!0,p.pu(x.m2[0],x.m2[1],f.stream.rE.url,x),h.mI)){B={ts:g.time.fa(),id:d.requestId,servid:f.$c,gid:d.groupId?d.groupId:-1};h.qK(B,"erep");}},q));}this.mI && (y={ts:g.time.fa(),id:d.requestId,result:1,servid:d.$c,gid:d.groupId?d.groupId:-1},this.qK(y,"pbres"));}}};m.prototype.Oac=function(d,f){var h,k,n,p,q,v,t,w,u,x,y,z,B;h=this;p=this.vV;q=this.config;v=f.$c;t=this.Nv[v];w=d.$c;u=this.kG[w + "-" + v];if(u && t){x=0;u.ja=!1;u.Hea=void 0;t.nCa[w]=!1;y=t.oEa;if(q.MA && w === v && f.isPrimary){z=t.location;z=(null === (n=null === (k=null === z || void 0 === z?void 0:z.Nb) || void 0 === k?void 0:k.$P) || void 0 === n?void 0:n.xa) || 300 * Math.random();k=Math.min(z * Math.pow(2,u.count),12E4);k+=Math.random() * (1E4 > k?100:1E4);u.vo=setTimeout(function(){var A;u.vo=void 0;A=h.S3a(d.url,f,w);A.vfc(d.groupId);u.Hea=A.Mi();},k);}++u.count;if(w === v && (x=0,y.forEach(function(A){!1 === t.nCa[A] && x++;}),y.length === x && t.count >= q.Nca)){B=t.error;t.GC=!0;q=f.stream;(0,c.assert)(q,"Probe failed url should have an associated stream");q.urls.forEach(function(A){p.pu(B.m2[0],B.m2[1],A.url,B);h.mI && (A={ts:g.time.fa(),id:-1,servid:A.bc.id},h.qK(A,"erep"));});}this.mI && (q={ts:g.time.fa(),id:d.requestId,result:0,servid:d.$c,gid:d.groupId?d.groupId:-1},this.qK(q,"pbres"));}};m.prototype.Vga=function(d){var f,h,k;if(d.url){h=this.vV;k=h.Zec(d.url);k || (k=null === (f=this.vV.j$a(d)[0]) || void 0 === f?void 0:f.id);k && (d=this.Nv[k]) && d.GC && this.config.MA && (h.kkb(d.error.W_a,!1),this.mI && (h={ts:g.time.fa(),id:-1,servid:k},this.qK(h,"errst")),this.ZKb(k),(k=this.kG[k + "-" + k]) && k.vo && clearTimeout(k.vo));}};m.prototype.reset=function(){var d,f,h;d=this.kG;for(h in d){d.hasOwnProperty(h) && (f=d[h + "-" + h]) && f.vo && clearTimeout(f.vo);}this.kG={};this.Nv={};};return m;})();b.KTa=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.mIa=void 0;c=a(0);l=a(13);g=c.__importDefault(a(3)).default.jx;r=(function(m){function d(f){var h;h=m.call(this) || this;h.hZa=f;h.G6=f.groupId;h.ak=new l.ef();h.ak.on(h,g.df.qU,h.Una);h.ak.on(h,g.df.xH,h.AV);return h;}c.__extends(d,m);d.prototype.T8b=function(f,h,k){g.prototype.open.call(this,f,h,k);};d.prototype.vfc=function(f){this.G6=f;};Object.defineProperties(d.prototype,{groupId:{get:function(){return this.G6;},enumerable:!1,configurable:!0}});d.prototype.ud=function(){this.ak && this.ak.clear();g.prototype.ud.call(this);};d.prototype.Una=function(f){this.hZa.Rac(f.probed,f.affected);this.ud();};d.prototype.AV=function(f){this.hZa.Oac(f.probed,f.affected);this.ud();};return d;})(g);b.mIa=r;},function(r,b,a){var c,l,g,m,d,f,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.TMa=void 0;c=a(0);l=a(117);g=a(433);m=a(6);d=c.__importDefault(a(3));r=a(91);f=a(436);h=a(2);k=a(118);a=(function(n){function p(q,v,t,w,u,x,y,z,B,A,C){var D;D=n.call(this,q) || this;D.Ke=q;D.H=v;D.K=t;D.nC=w;D.kF=x;D.Lba=y;D.rA=z;D.CZa=B;D.gi=A;D.kYa=[void 0,void 0];D.jV=null !== C && void 0 !== C?C:{Bx:[Object.create(null),Object.create(null)]};u?D.SY=u:(D.Te=k.Bo.instance.zt("headers","" + D.Ke.P,!0,!1,{},D.K),D.Te.oa());return D;}c.__extends(p,n);Object.defineProperties(p.prototype,{Bx:{get:function(){return this.jV.Bx;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{PD:{get:function(){return this.jV.PD;},set:function(q){this.jV.PD=q;},enumerable:!1,configurable:!0}});Object.defineProperties(p.prototype,{uN:{get:function(){return this.jV.uN;},set:function(q){this.jV.uN=q;},enumerable:!1,configurable:!0}});p.prototype.ud=function(){var q;q=this;this.Bx.forEach(function(v,t){for(var w in v){v[w].ud();q.xsa(t,w);}});this.Te && k.Bo.instance.dJ(this.Te);this.Te=void 0;};p.prototype.Rr=function(q,v){return this.Bx[q][v];};p.prototype.bba=function(){return !(!this.PD || !this.PD.length);};p.prototype.jra=function(){this.PD=void 0;};p.prototype.aS=function(q){this.PD=q;};p.prototype.iGa=function(){var q,v,t;if(!this.bba() || this.uN)return !1;q=m.u.J;for(l.jn.yq(q);0 < this.PD.length;){v=this.PD.shift();t=this.Ke.oy(q,v);if(t && !this.u_b(q,v) && t.gw)return (this.uN=v,this.Pga(t,{offset:0,jS:!0}));}return !1;};p.prototype.BGa=function(q,v){var t;t=this;v.forEach(function(w){var u;u=t.Rr(q,w.Sa);u && !w.pe && (u.stream.pe?w.q9(u.stream):(u.a0 || (u.a0=[]),u.a0.push(t.Ke)));});};p.prototype.LR=function(q,v,t){var w,u,x;w=this;x=this.Ke;m.hg.forEach(function(y){var z,B,A,C,D;if(x.zc(y) && (void 0 === t || y === t)){C=q[y];(0,h.assert)(C && x.getTrackById(C.trackId) === C);C=C.Pc;if(x.jl)w.H.warn("requestHeadersFromManifest, shutdown detected");else if(x.uk.r2(x.P,C)){D=null !== (A=null === (B=null === (z=w.kF(y)) || void 0 === z?void 0:z.nK) || void 0 === B?void 0:B.bitrate) && void 0 !== A?A:0;z=(0,f.Rta)(C,D);void 0 === z && w.H.warn(("Unable to find stream for bitrate ").concat(D));z=C[z];(B=x.Rr(y,z.Sa)) && B.stream.ma?x.hkc(y,B):(y={offset:0,jS:!1,SE:y === m.u.J,fy:!0,UQ:!w.Lba(x)},x.K3a(z,y,v));}else w.H.warn("requestHeadersFromManifest, unable to update urls");}});x.iba=!0;null === (u=this.gi) || void 0 === u?void 0:u.call(this,x.Vb).Cqa();};p.prototype.OG=function(q,v){var t,w,u,x;t=this.K;w=this.Rr(q.mediaType,q.Sa);if(w)return (w.stream.ma || w.jS && this.B2a(w),!1);w=this.JBb;u=this.KBb;if(void 0 !== t.$za && void 0 !== w && void 0 !== u){x=d.default.time.fa();if(x - w < t.$za || x - u < t.$za)return !1;}q=this.Pga(q,{offset:0},void 0,void 0,v);this.KBb=d.default.time.fa();return q;};p.prototype.Pga=function(q,v,t,w,u){var x,y,z,B,A;B=q.mediaType;l.jn.yq(B);A=q.Sa;if(this.Xzb(A,!!v.fy))return (null === (x=this.CZa) || void 0 === x?void 0:x.call(this),!1);if(x=this.Rr(B,A))q=!1;else {x=(A=this.K.jnb && q.ta)?0:v.offset;A=A?0:null !== (y=v.ga) && void 0 !== y?y:this.HAb(q);y=c.__assign(c.__assign({},v),{offset:x,ga:A});x=!!y.SE;A=!!y.UQ;this.SY?u=this.SY(B,!!y.fy,x,A,!!t):u || (u=this.Te);(0,h.assert)(u);q.url && (this.kF(B).zya=q.Iaa(!0));x=q=this.kXa(q,u,y);if(!q.MK())return (this.Ke.fg("MediaRequest open failed (2)","NFErr_MC_StreamingFailure"),!1);q=!0;}v.fy && w && (this.Ke.lj[B]=x);null === (z=this.CZa) || void 0 === z?void 0:z.call(this);return q;};p.prototype.rm=function(){var q,v;q=this;v=[];this.Bx.forEach(function(t,w){var x;l.jn.yq(w);for(var u in t){w=t[u];x=w.CGa();1 === x?v.push(w):2 === x && q.Ke.fg("swapUrl failure");}});return v;};p.prototype.nl=function(q){var v,t;v=q.mediaType;t=l.jn.yq(v);this.Ke.jl?t.warn("header onrequestcomplete ignored, session shutdown:",q.toString()):(this.nC({type:"logdata",target:"startplay",fd:{usedNativeDataView:q.elc}}),q.fea > q.X8b && (this.kYa[v]=q.fea),q.jS && this.B2a(q),this.iBb(q),this.JBb=d.default.time.fa(),this.Ke.events.emit("onHeaderRequestComplete",q));this.Pv(q);};p.prototype.U7=function(q,v,t){var w;w=q.mediaType;l.jn.yq(w);w=this.Ke.oy(w,q.Sa);if(v !== !!q.Im)return !1;this.x_a(q);q.FGb(w);this.SWa(q);this.Ke.events.emit("onHeaderFromCache",{header:q,HUb:t});return !0;};p.prototype.hO=function(q,v){var t,w,u,x;t=[];w=this.Bx[q];for(u in w){x=w[u];x && !x.stream.ma && x.lu === v && (this.xsa(q,u),t.push({stream:x.stream,offset:x.offset,ga:x.ga,SE:x.SE,fy:x.fy,UQ:x.UQ,rBa:x.rBa}),x.ud());}return t;};p.prototype.xDa=function(q){var v;v=this;q.forEach(function(t){v.Pga(t.stream,t);});};p.prototype.x_a=function(q){this.Bx[q.mediaType][q.Sa]=q;};p.prototype.u_b=function(q,v){return !!this.Rr(q,v);};p.prototype.iBb=function(q){var v,t,w,x;v=this.K;t=l.jn.yq(q.mediaType);w=q.stream.ma;if(v.jsa){v=w.length;t.trace("fragment count:",v);for(var u=0;u < v;++u){x=w.get(u);t.trace("fragment: " + u + ", startPts: " + x.ca + ", duration: " + x.duration + ", offset: " + x.offset);}}this.SWa(q);};p.prototype.SWa=function(q){var v,t;v=q.mediaType;t=q.Sa;l.jn.yq(v);q.a0 && (q.a0.forEach(function(w){(w=w.oy(v,t)) && w !== q.stream && !w.pe && w.q9(q.stream);}),q.a0=void 0);this.Ke.$Zb(q);};p.prototype.kXa=function(q,v,t){var w,u;w=this;u=l.jn.yq(q.mediaType);q=new g.Vha(q,this.K,v,t,this,!1,u);q.addListener("headerRequestCancelled",function(x){w.hBb(x.request);});q.oa(void 0);this.x_a(q);return q;};p.prototype.Xzb=function(q,v){return this.rA && (q=this.rA.a_(this.Ke.L,q)) && this.U7(q,!1,v)?!0:!1;};p.prototype.HAb=function(q){var v,t,w,u;v=q.gz;t=q.O;w=t.duration;u=this.K;return q.ta?512:t.Vf.qg?u.O6a?u.O6a:u.hba:u.blc && v?v.offset + v.size:(q=this.kYa[q.mediaType])?q + 128:u.nta?2292 + 12 * Math.ceil(w / 2E3):u.hba;};p.prototype.hBb=function(q){this.xsa(q.mediaType,q.Sa);};p.prototype.xsa=function(q,v){delete this.Bx[q][v];};p.prototype.B2a=function(q){this.uN === q.Sa && (this.uN=void 0);};return p;})(r.Vw);b.TMa=a;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.fyb=void 0;c=a(0).__importDefault(a(3));l=a(117);g=["",""];r=(function(){function m(d){this.zr=d;this.complete=this.append=this.L$=this.Mya=this.open=0;}Object.defineProperties(m.prototype,{console:{get:function(){return l.jn.yq(this.zr.mediaType);},enumerable:!1,configurable:!0}});m.prototype.v8b=function(){this.open=c.default.time.fa();};m.prototype.o8b=function(){this.Mya=c.default.time.fa();this.dk();};m.prototype.k8b=function(){this.L$=c.default.time.fa();this.dk();};m.prototype.$7b=function(){this.append=c.default.time.fa();this.dk();};m.prototype.P_=function(){this.complete=c.default.time.fa();this.dk();};m.prototype.dk=function(){var d;d=("RequestLedger ID: ").concat(this.zr.Mi());d+=(" load-open: ").concat(this.Mya - this.open);0 < this.L$ && (" firstbyte-load: ").concat(this.L$ - this.Mya);0 < this.append && (" append-firstbyte: ").concat(this.append - this.L$);0 < this.complete && ((" complete-open: ").concat(this.complete - this.open),d=this.zr.mediaType,this.complete - this.open > this.zr.duration?((" duration: ").concat(this.zr.duration),g[d]+="X"):g[d]+=".",10 < g[d].length && (g[d]=g[d].slice(1)));};return m;})();b.fyb=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.jUa=void 0;c=a(0);l=a(13);r=(function(g){function m(d,f,h,k){var n;n=g.call(this) || this;n.H=d;n.track=f;n.Nn=!1;n.una=!1;n.Oh=new l.ef();n.Oh.on(f,"networkfailing",function(){n.emit("networkfailing");});n.Oh.on(f,"error",function(){n.H.warn("requestQueue got error");n.emit("error");});if(h)(n.Nn=!0,Promise.resolve().then(function(){return n.emit("created");}));else n.Oh.on(f,"created",function(){n.Nn=!0;n.emit("created");});n.una=k;return n;}c.__extends(m,g);Object.defineProperties(m.prototype,{z$:{get:function(){return this.track.z$;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Ah:{get:function(){return this.track.Ah;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{Nj:{get:function(){return this.track.Nj;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{eY:{get:function(){return this.track.eY;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{config:{get:function(){return this.track.config;},enumerable:!1,configurable:!0}});m.prototype.oa=function(){var d,f;this.una || (null === (f=(d=this.track).oa) || void 0 === f?void 0:f.call(d),this.una=!0);};m.prototype.ew=function(){return this.track.ew();};m.prototype.toString=function(){return this.track.toString();};m.prototype.toJSON=function(){return this.track;};m.prototype.Bt=function(){this.Oh.clear();};return m;})(l.EventEmitter);b.jUa=r;},function(r,b,a){var f,h,k,n,p,q,v,t,w;function c(u){var x,y,z;u=u.parent;x=!1;if(u && u.children){y={};y[t.nn]=[];y[t.um]=[];y[t.TEMPORARY]=[];z=u.children;z.forEach(function(B){B && y[B.Tf].push(B);});0 < y[t.nn].length || (y[t.um].length === z.length?u.Tf !== t.um && (u.Tf=t.um,v.error("PERM failing :",n.default.Wh.name[u.fp] + " " + u.id),x=!0):(u.Tf === t.nn && (u.Tf=t.TEMPORARY,v.error("TEMP failing :",n.default.Wh.name[u.fp] + " " + u.id),x=!0),y[t.TEMPORARY].forEach(function(B){B.Tf=t.nn;})),x && c(u));}}function l(u){var x;if((u=u.parent) && 0 < u.children.length && u.Tf !== t.nn){x={};x[t.nn]=[];x[t.um]=[];x[t.TEMPORARY]=[];u.children.forEach(function(y){y && x[y.Tf].push(y);});0 < x[t.nn].length && (u.Tf=t.nn,l(u));}}function g(u){return u.Tf !== t.nn;}function m(u){switch(u.Tf){case t.nn:return "OK";case t.um:return "FAILED PERMANENTLY";case t.TEMPORARY:return "FAILED TEMPORARILY";default:return "INVALID";}}function d(u,x){if(u.Tf === t.TEMPORARY || u.Tf === t.um && x)u.Tf=t.nn;u.children && u.children.forEach(function(y){y && d(y,x);});}Object.defineProperties(b,{__esModule:{value:!0}});b.IOa=void 0;f=a(0);h=f.__importStar(a(11));r=a(13);k=a(6);n=f.__importDefault(a(29));p=f.__importDefault(a(3));q=a(2);v=new p.default.Console("ASEJS_LOCATION_SELECTOR","media|asejs");(function(u){u[u.nn=0]="OK";u[u.TEMPORARY=1]="TEMPORARY";u[u.um=2]="PERMANENT";})(t || (t={}));(function(u){u[u.nx=0]="STARTUP";u[u.cyb=1]="REBUFFER";})(w || (w={}));a=(function(u){var N0L;N0L=2;for(;N0L !== 22;){switch(N0L){case 2:f.__extends(x,u);x.prototype.jZb=function(){var a_y;a_y=2;for(;a_y !== 1;){switch(a_y){case 4:return this.lC[5].Nb;break;case 2:return this.lC[0].Nb;break;}}};x.prototype.Mv=function(){var R4Y;R4Y=2;for(;R4Y !== 1;){switch(R4Y){case 2:return g(this.Lq);break;}}};N0L=4;break;case 4:x.prototype.Zec=function(y){var Z4M;Z4M=2;for(;Z4M !== 5;){switch(Z4M){case 2:Z4M=(y=this.urls[y]) && y.parent?1:5;break;case 1:return y.parent.id;break;}}};x.prototype.j$a=function(y){var L1s,z,B,g3K,D,A,C,I5D,A7X,W03;L1s=2;for(;L1s !== 4;){switch(L1s){case 2:B=[];try{g3K=2;for(;g3K !== 9;){switch(g3K){case 3:C=A.next();g3K=1;break;case 5:D=this.urls[C.value];D.url === y.az.url && B.push(D.bc);g3K=3;break;case 1:g3K=!C.done?5:9;break;case 2:(A=f.__values(Object.keys(this.urls)),C=A.next());g3K=1;break;}}}catch(G){var E;E={error:G};}finally{I5D=2;for(;I5D !== 1;){switch(I5D){case 2:try{A7X=2;for(;A7X !== 1;){switch(A7X){case 2:C && !C.done && (z=A.return) && z.call(A);A7X=1;break;}}}finally{W03=2;for(;W03 !== 5;){switch(W03){case 2:W03=E?1:5;break;case 3:W03=E?4:6;break;case 1:throw E.error;W03=5;break;}}}I5D=1;break;}}}return B;break;}}};x.prototype.f9a=function(y){var b9X;b9X=2;for(;b9X !== 1;){switch(b9X){case 2:for(var z in this.streams){if(this.streams[z].rE === y){return this.streams[z];}}b9X=1;break;}}};x.prototype.pW=function(y,z,B){var O$p,D,E,A,C,G;O$p=2;for(;O$p !== 26;){switch(O$p){case 9:y.servers.forEach(function(F){var I6V,L,K,O;I6V=2;for(;I6V !== 14;){switch(I6V){case 1:I6V=A.om[L]?5:4;break;case 2:L=F.id;I6V=1;break;case 9:K=[];F={id:L,fp:n.default.Wh.DH,Tf:t.nn,Ty:void 0,parent:O,children:K,urls:K,name:F.name,type:F.type,vc:F.rank,location:O};A.om[F.id]=F;O.children.push(F);I6V=14;break;case 4:O=A.Lj[F.key];I6V=3;break;case 5:A.om[L].vc=F.rank;I6V=14;break;case 3:I6V=O?9:14;break;}}});(D=y.ih,E=y.ll);O$p=7;break;case 20:y=this.lC.filter(function(F){var O9L,L;O9L=2;for(;O9L !== 4;){switch(O9L){case 2:L=F.om.every(function(O){var j08;j08=2;for(;j08 !== 1;){switch(j08){case 2:return 0 === O.urls.length;break;}}});L && (F.om.forEach(function(O){var D2I;D2I=2;for(;D2I !== 1;){switch(D2I){case 2:A.om[O.id]=void 0;D2I=1;break;}}}),A.Lj[F.id]=void 0,F.parent=void 0,F.children.length=0,F.streams={});return !L;break;}}});y.forEach(function(F){var l6k;l6k=2;for(;l6k !== 1;){switch(l6k){case 2:F.om.sort(function(L,O){var q4u;q4u=2;for(;q4u !== 1;){switch(q4u){case 2:return L.vc - O.vc;break;}}});l6k=1;break;}}});O$p=18;break;case 18:this.lC=y;this.Lq.children=y;this.yG=null;this.ZR=B;this.dump();O$p=26;break;case 2:A=this;void 0 === B && (B=n.default.lx.Ovb);y.locations.forEach(function(F){var i19,O,K,I,L;i19=2;for(;i19 !== 7;){switch(i19){case 4:(O=[],K=A.tk.get(L),I=A.Lq);F={id:L,fp:n.default.Wh.LOCATION,Tf:t.nn,vc:F.rank,level:F.level,weight:F.weight,Ty:void 0,parent:I,children:O,om:O,streams:{},Nb:K};A.Lj[F.id]=F;I.children.push(F);i19=7;break;case 5:(A.Lj[L].vc=F.rank,A.Lj[L].level=F.level,A.Lj[L].weight=F.weight);i19=7;break;case 1:i19=A.Lj[L]?5:4;break;case 2:L=F.key;i19=1;break;}}});this.U6=p.default.time.fa();this.lC.sort(function(F,L){var K6p;K6p=2;for(;K6p !== 1;){switch(K6p){case 2:return F.level - L.level || F.vc - L.vc;break;}}});O$p=9;break;case 7:var n19="L";n19+="I";n19+="V";n19+="E";var G8v="LI";G8v+="V";G8v+="E";(0,q.assert)(this.ta && G8v === D && !!E || !this.ta && n19 !== D && !E);this.ta && (this.W3b=E.P7b);G=!0;z && (G=!1,this.fbc(z));y.audio_tracks.forEach(function(F){var k_w;k_w=2;for(;k_w !== 1;){switch(k_w){case 2:A.vib(k.u.T,F,G);k_w=1;break;}}});y.video_tracks.forEach(function(F){var L52;L52=2;for(;L52 !== 1;){switch(L52){case 2:A.vib(k.u.J,F,G);L52=1;break;}}});null === (C=y.timedtexttracks) || void 0 === C?void 0:C.forEach(function(F){var o_4;o_4=2;for(;o_4 !== 1;){switch(o_4){case 2:A.Yac(F,G);o_4=1;break;}}});O$p=20;break;}}};x.prototype.r2=function(y,z,B){var U8c,A,C,D,E,G,L,F;U8c=2;for(;U8c !== 17;){switch(U8c){case 2:(A=this,C=this.config,D=this.ta && void 0 !== B);D && (this.yG=null);(E=this.Ac.get(),G=0);U8c=4;break;case 4:p.default.Cv && p.default.Cv(y);U8c=3;break;case 3:U8c=g(this.Lq)?9:8;break;case 11:L=this.yG;U8c=10;break;case 9:return !1;break;case 10:U8c=!L.length?20:19;break;case 14:h.ub(this.yG) && (this.yG=this.pkc());U8c=13;break;case 20:return (this.pu(n.default.Wh.Vz,!1),!1);break;case 13:U8c=!this.yG?12:11;break;case 8:F=n.default.Yj.qD;C.E_ && (F=n.default.Yj.pD);this.Ac.location && E.confidence >= F && (y=this.Lj[this.Ac.location]) && (y.Nb=E);U8c=14;break;case 19:var R7i="(empty s";R7i+="tr";R7i+="eam li";R7i+="st)";var u1s="Did";u1s+=" not fin";u1s+="d ";u1s+="a URL for ANY stream";u1s+="...";var Q_I="network";Q_I+="Fa";Q_I+="iled";var t8M="Network has failed,";t8M+=" not";t8M+=" updating stream sel";t8M+="ection";z.forEach(function(O,K){var y_T,I;y_T=2;for(;y_T !== 5;){switch(y_T){case 2:var s4K=" ";s4K+="K";s4K+="bps";s4K+=")";var w3M=" ";w3M+="(";var y6V="]";y6V+=" ";var i6q="Failing str";i6q+="ea";i6q+="m";i6q+=" [";I=O.id;L.some(function(M){var D_E,J,H;D_E=2;for(;D_E !== 8;){switch(D_E){case 1:D_E=!H?5:4;break;case 4:J=H.Lj[0];void 0 === O.Fea && (O.Fea=J.id,O.kCa=H.LS[J.id][0].bc.id);return H.LS[M.id].some(function(N){var K3E,P;K3E=2;for(;K3E !== 10;){switch(K3E){case 3:var G3M="loca";G3M+="ti";G3M+="onfailove";G3M+="r";var l14="serve";l14+="rfa";l14+="i";l14+="l";l14+="over";var K3q="pe";K3q+="r";K3q+="f";K3q+="o";K3q+="rmance";var n1i="unk";n1i+="n";n1i+="ow";n1i+="n";P=n1i;O.location !== M.id && (C.Aw?O.cya=M.id === J.id:P=M !== L[0] && D && H.Jya !== B?"" + n.default.lx.Hyb:M !== L[0]?"" + n.default.lx.hia:void 0 === O.location?"" + n.default.lx.nx:h.wa(O.Lcb) || O.Lcb === M.id?h.wa(O.Pcb) || O.Pcb === N.bc.id?K3q:l14:G3M,O.location=M.id,O.Pya=M.level,O.tu=P);O.url=N.url;O.bc=N.bc.id;O.tL=N.bc.name;O.uu=N.bc.type;K3E=13;break;case 4:return !1;break;case 13:D && (H.Jya=B);O.Nb=C.$pa?M.Nb.confidence >= n.default.Yj.pD || E.confidence < F?M.Nb:E:E.confidence === n.default.Yj.HAVE_NOTHING || M.Nb.confidence >= n.default.Yj.pD?M.Nb:E;return !0;break;case 2:K3E=g(N.bc)?1:5;break;case 1:return (N.bc.Tf === t.TEMPORARY && (O.Tf=t.TEMPORARY),C.Aw && O.bc === N.bc.id && N.bc.Ty && (O.Ty=N.bc.Ty),!1);break;case 5:K3E=g(N) || D && !N.tca.some(function(W){var H_n;H_n=2;for(;H_n !== 1;){switch(H_n){case 2:R7xOY.x9d(11);return R7xOY.a2W(W,B);break;}}})?4:3;break;}}});break;case 2:H=M.streams[I];D_E=1;break;case 5:return !1;break;}}})?(O.KB=!1,O.Tf=void 0,O.Xr && ++G):O.Tf && O.Tf === t.TEMPORARY?A.Lq.Tf=t.TEMPORARY:O.KB || (v.warn(i6q + K + y6V + I + w3M + O.bitrate + s4K),O.aLb(),O.KB=!0);y_T=5;break;}}});return g(this.Lq)?(v.warn(t8M),this.tda=!0,this.emit(Q_I,this.Lq.Tf === t.um),!1):G?!0:(v.warn(u1s + (z.length?"":R7i)),this.pu(n.default.Wh.Vz,!0),!1);break;case 12:return (this.pu(n.default.Wh.Vz,!1),!1);break;}}};N0L=6;break;case 6:x.prototype.bfc=function(y,z){var g3y,B,A;g3y=2;for(;g3y !== 4;){switch(g3y){case 7:return B;break;case 5:return B;break;case 2:(B=[],A=/^http(s?):\/\/([^\/:]+):?([0-9]*)/);h.forEach(this.urls,function(C,D){var f2E,G,F,E,L;f2E=2;for(;f2E !== 13;){switch(f2E){case 8:f2E=h.Ng(F) && h.Ng(E) && F === y && E == z?7:13;break;case 4:var x$L="8";x$L+="0";var z9Y="4";z9Y+="4";z9Y+="3";(G="s" === E[1],F=E[2]);E=E[3];E.length || (E=G?z9Y:x$L);f2E=8;break;case 5:f2E=E && 4 === E.length?4:13;break;case 2:C=C.bc;E=D.match(A);f2E=5;break;case 7:C.urls.some(function(O){var h0s;h0s=2;for(;h0s !== 5;){switch(h0s){case 2:h0s=O.url === D?1:5;break;case 3:h0s=O.url != D?3:1;break;case 1:return (L=O,!0);break;}}});L && B.push({url:L,bc:C});f2E=13;break;}}});g3y=5;break;}}};x.prototype.pu=function(y,z,B,A){var P5k,C,D,E,L,z1Q,S5_,G,F;P5k=2;for(;P5k !== 42;){switch(P5k){case 2:(C=y !== n.default.Wh.Vz && B?this.urls[B]:this.Lq,D=this.Lq.Tf,E=z?t.um:t.TEMPORARY);P5k=1;break;case 1:P5k=C && C.parent && C.fp !== y?5:4;break;case 20:z.unshift(L.id + "(" + L.name + ")");P5k=19;break;case 10:L=F;P5k=20;break;case 11:z1Q=F.fp;P5k=z1Q === n.default.Wh.DH?10:18;break;case 29:P5k=S5_ === t.nn?24:28;break;case 26:S5_=C.Tf;P5k=S5_ === t.um?25:30;break;case 5:C=C.parent;P5k=1;break;case 18:P5k=z1Q === n.default.Wh.LOCATION?17:16;break;case 19:F=F.parent;P5k=12;break;case 12:P5k=F?11:27;break;case 13:F=C;P5k=12;break;case 4:P5k=C?3:43;break;case 3:P5k=E !== C.Tf?9:42;break;case 9:var l65=" ";l65+="a";l65+="t";l65+=" ";var h3K=" fai";h3K+="lure rep";h3K+="or";h3K+="ted for ";var u8h="T";u8h+="E";u8h+="M";u8h+="P";var n61="P";n61+="E";n61+="RM";B=v;G=B.warn;y=(z?n61:u8h) + h3K + n.default.Wh.name[y] + l65;z=[];P5k=14;break;case 24:C.Tf=E;c(C);this.tda=this.tda || g(this.Lq);E=this.Lq.Tf;P5k=35;break;case 44:var l_A="Inva";l_A+="lid fail";l_A+="ure sta";l_A+="te";throw Error(l_A);P5k=24;break;case 25:return;break;case 17:z.unshift(F.id);P5k=19;break;case 16:P5k=z1Q === n.default.Wh.URL?15:19;break;case 35:var y2v="net";y2v+="w";y2v+="o";y2v+="rkFaile";y2v+="d";var f3D="Emitting netw";f3D+="orkFailed, pe";f3D+="rmanent =";E > D && (v.warn(f3D,E === t.um),this.emit(y2v,E === t.um));this.yG=null;this.ZR=n.default.lx.Bg;A && (this.ZR=n.default.lx.Jxb,C.Ty=A);this.dump();P5k=42;break;case 27:var J9z=" ";J9z+=": ";J9z+="w";J9z+="as ";G.call(B,y + (z.length?"/" + z.join("/"):"") + J9z + m(C));P5k=26;break;case 28:P5k=44;break;case 43:var m4c="Unable to find failure enti";m4c+="ty for";m4c+=" UR";m4c+="L ";R7xOY.f4w(7);v.warn(R7xOY.L7v(B,m4c));P5k=42;break;case 30:P5k=S5_ === t.TEMPORARY?24:29;break;case 15:var E$J="<ur";E$J+="l fo";E$J+="r";E$J+=" ";z.unshift(E$J + F.stream.bitrate + ">");P5k=19;break;case 14:P5k=13;break;}}};x.prototype.kkb=function(y,z){var v6e;v6e=2;for(;v6e !== 3;){switch(v6e){case 2:v6e=(y=this.om[y])?1:5;break;case 5:this.yG=null;this.ZR=n.default.lx.Ika;v6e=3;break;case 1:(d(y,z),l(y));v6e=5;break;}}};x.prototype.kfa=function(){var z49;z49=2;for(;z49 !== 1;){switch(z49){case 2:d(this.Lq,!1);z49=1;break;}}};N0L=11;break;case 11:x.prototype.nC=function(y){var D_w,z;D_w=2;for(;D_w !== 5;){switch(D_w){case 2:null === (z=this.FCb) || void 0 === z?void 0:z.call(this,y);D_w=5;break;}}};x.prototype.li=function(){var v62;v62=2;for(;v62 !== 1;){switch(v62){case 4:this.hdc(w.cyb);v62=8;break;case 2:this.hdc(w.cyb);v62=1;break;}}};x.prototype.Wa=function(){var x0s;x0s=2;for(;x0s !== 1;){switch(x0s){case 2:this.config.m4b && this.e$b();x0s=1;break;}}};x.prototype.fbc=function(y){function z(F){var m1H;m1H=2;for(;m1H !== 1;){switch(m1H){case 2:Object.keys(F).forEach(function(L){var z7T,K,O;z7T=2;for(;z7T !== 9;){switch(z7T){case 4:var E2e="L";E2e+="I";E2e+="V";E2e+="E";K=A.streams[L];A.streams[L]=K?f.__assign(f.__assign({},K),O):{id:L,bitrate:O.bitrate,gb:null,type:O.mediaType,clear:O.Ij?!1:!0,Xr:!0,urls:[],LS:{},Lj:[],rE:O,Jya:A.ta?E2e:void 0};z7T=9;break;case 5:z7T=O?4:9;break;case 6:C.add(L);z7T=7;break;case 1:C.add(L);z7T=5;break;case 2:O=F[L];z7T=1;break;}}});m1H=1;break;}}}var w$4,B,A,C,R4x,D,E,Z_G,s4P,q7F;w$4=2;for(;w$4 !== 4;){switch(w$4){case 2:(A=this,C=new Set());try{R4x=2;for(;R4x !== 3;){switch(R4x){case 1:R4x=!E.done?5:3;break;case 7:R4x=-E.done?7:1;break;case 4:E=D.next();R4x=1;break;case 5:z(E.value);R4x=4;break;case 2:(D=f.__values(y),E=D.next());R4x=1;break;case 6:z(E.value);R4x=6;break;}}}catch(F){var G;G={error:F};}finally{Z_G=2;for(;Z_G !== 1;){switch(Z_G){case 2:try{s4P=2;for(;s4P !== 1;){switch(s4P){case 2:E && !E.done && (B=D.return) && B.call(D);s4P=1;break;}}}finally{q7F=2;for(;q7F !== 5;){switch(q7F){case 9:throw G.error;q7F=8;break;case 1:throw G.error;q7F=5;break;case 3:q7F=G?7:6;break;case 2:q7F=G?1:5;break;}}}Z_G=1;break;}}}Object.keys(this.streams).forEach(function(F){var N_V;N_V=2;for(;N_V !== 1;){switch(N_V){case 2:C.has(F) || delete A.streams[F];N_V=1;break;}}});w$4=4;break;}}};x.prototype.vib=function(y,z,B){var Z25,A;Z25=2;for(;Z25 !== 5;){switch(Z25){case 2:A=this;z.streams.forEach(function(C){var p_V;p_V=2;for(;p_V !== 1;){switch(p_V){case 2:A.wib(y,C.downloadable_id,C,B);p_V=1;break;}}});Z25=5;break;}}};x.prototype.Yac=function(y,z){var t83,B;t83=2;for(;t83 !== 4;){switch(t83){case 1:var p2t="i";p2t+="m";p2t+="sc";p2t+="1";p2t+=".1";var s_7="i";s_7+="m";s_7+="sc1.";s_7+="1";B=y.ttDownloadables[s_7];B && this.wib(k.u.Za,y.downloadableIds[p2t],B,z);t83=4;break;case 2:var E45="n";E45+="o";E45+="n";E45+="e";t83=E45 !== y.id?1:4;break;}}};x.prototype.wib=function(y,z,B,A){var y3L,C,D;y3L=2;for(;y3L !== 10;){switch(y3L){case 13:C.Lj=C.Lj.sort(function(E,G){var F9T;F9T=2;for(;F9T !== 1;){switch(F9T){case 2:return E.level - G.level || E.vc - G.vc;break;}}});y3L=10;break;case 11:return;break;case 2:C=this.streams[z];y3L=1;break;case 1:y3L=h.wa(C) && A?5:12;break;case 5:var P1M="LI";P1M+="V";P1M+="E";var g4U="n";g4U+="one";g4U+="-";A="";C=0;D=null;y !== k.u.Za && (A=B.content_profile,C=B.bitrate,y === k.u.J && (D=B.vmaf));C={id:z,bitrate:C,gb:D,type:y,profile:A,clear:0 === A.indexOf(g4U),Xr:!0,urls:[],LS:{},Lj:[],Jya:this.ta?P1M:void 0};y3L=7;break;case 12:y3L=!C && !A?11:6;break;case 7:this.streams[C.id]=C;y3L=6;break;case 6:this.Zac(C,B.urls);h.pg(C.LS,function(E){var n7x;n7x=2;for(;n7x !== 1;){switch(n7x){case 2:E.sort(function(G,F){var D8k;D8k=2;for(;D8k !== 1;){switch(D8k){case 2:return G.bc.vc - F.bc.vc;break;case 4:return G.bc.vc % F.bc.vc;break;}}});n7x=1;break;}}});y3L=13;break;}}};N0L=15;break;case 15:x.prototype.Zac=function(y,z){var R1h,B;R1h=2;for(;R1h !== 5;){switch(R1h){case 2:B=this;z.forEach(function(A){var d_C,F,C,D,E,G;d_C=2;for(;d_C !== 14;){switch(d_C){case 4:h.wa(D) && (D={id:C,fp:n.default.Wh.URL,Tf:t.nn,Ty:void 0,parent:E,children:[],url:C,bc:E,stream:y,tca:G},B.urls[C]=D,E.children.push(D));F=E.location;y.urls.push(D);0 === y.Lj.filter(function(L){var l3B;l3B=2;for(;l3B !== 1;){switch(l3B){case 2:return L.id === F.id;break;}}}).length && y.Lj.push(F);d_C=7;break;case 5:d_C=E?4:14;break;case 7:F.streams[y.id]=y;(A=y.LS[F.id])?A.push(D):y.LS[F.id]=[D];d_C=14;break;case 2:(C=A.url,D=B.urls[C],E=B.om[A.cdn_id]);B.ta && (G=A.liveOcaCapabilities);d_C=5;break;}}});R1h=5;break;}}};x.prototype.pkc=function(){var R9X,A,y,z,B;R9X=2;for(;R9X !== 6;){switch(R9X){case 4:A=p.default.time.fa();R9X=3;break;case 5:return null;break;case 9:(B.forEach(function(C){var e8u;e8u=2;for(;e8u !== 1;){switch(e8u){case 2:C.id !== y.Ac.location && (C.Nb=y.tk.get(C.id));e8u=1;break;}}}),this.U6=A);R9X=8;break;case 3:R9X=null === this.U6 || this.U6 + z.Oya < A?9:8;break;case 1:R9X=0 === B.length?5:4;break;case 8:B.sort(function(C,D){var j7d;j7d=2;for(;j7d !== 1;){switch(j7d){case 2:return C.level - D.level || C.vc - D.vc;break;}}});return B;break;case 2:(y=this,z=this.config,B=this.lC.filter(function(C){var w3R;w3R=2;for(;w3R !== 1;){switch(w3R){case 2:return !g(C) && 0 !== C.level;break;case 4:return +g(C) || 2 == C.level;break;}}}));R9X=1;break;}}};x.prototype.hdc=function(y){var a$6,z;a$6=2;for(;a$6 !== 4;){switch(a$6){case 2:z=this.Ac.location;this.Uac=y;this.lC.forEach(function(B){var t6t;t6t=2;for(;t6t !== 1;){switch(t6t){case 2:B.id !== z && B.Nb && B.Nb.confidence > n.default.Yj.qD && (B.Nb.confidence=n.default.Yj.qD);t6t=1;break;}}});a$6=4;break;}}};x.prototype.e$b=function(){var B2u,y;B2u=2;for(;B2u !== 5;){switch(B2u){case 2:y=this;B2u=1;break;case 3:y=this;B2u=7;break;case 1:this.tda || this.lC.forEach(function(z){var m0s;m0s=2;for(;m0s !== 1;){switch(m0s){case 2:z.Tf === t.TEMPORARY && y.tk.fail(z.id,p.default.time.fa());m0s=1;break;}}});B2u=5;break;}}};x.prototype.dump=function(){};return x;break;}}function x(y,z,B,A,C,D){var E4T,E;E4T=2;for(;E4T !== 26;){switch(E4T){case 12:var K4O="n";K4O+="etw";K4O+="ork";E.tda=!1;E.Lq={id:K4O,fp:n.default.Wh.Vz,Tf:t.nn,Ty:void 0,parent:void 0,children:E.lC};E4T=10;break;case 7:E.om={};E.urls={};E.streams={};E.lC=[];E4T=12;break;case 15:var a07="1SIY";a07+="b";a07+="Zr";a07+="NJC";a07+="p9";a07;return E;break;case 2:E=u.call(this) || this;E.Ac=B;E.tk=A;E.config=C;E.FCb=D;E.Uac=w.nx;E.Lj={};E4T=7;break;case 18:var a3n="L";a3n+="I";a3n+="VE";B=y.ll;E.ta=a3n === y.ih && !!B;E.pW(y,z,n.default.lx.nx);E4T=15;break;case 10:E.U6=null;E.yG=null;E.ZR=n.default.lx.nx;E4T=18;break;}}}})(r.EventEmitter);b.IOa=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.tIa=void 0;c=a(21);r=(function(){function l(g){this.config=g;}l.prototype.gbc=function(g){var m,d,f;m=this.config;d=[];f=[];g.forEach(function(q,v){void 0 === q.gb?f.push(v):d.push(v);});if(0 !== f.length)for(var h=-1,k=-1,n=function(q){var v,t,w,u,x,y;v=f[q];t=g[v];if(0 === q || v !== f[q - 1] + 1)(h=d[(0,c.Cpa)(d,function(z){return z < v;})] || -1,k=d[(0,c.ht)(d,function(z){return z > v;})] || -1);w=0;u=m.y5b;q=0;x=m.z5b;-1 < k && (u=g[k].bitrate,x=g[k].gb);-1 < h && (q=g[h].gb,w=g[h].bitrate);u=Math.log(u);w=0 === w?0:Math.log(w);y=Math.log(t.bitrate);t.q$=Math.max(0,Math.min(110,Math.round((q * (u - y) + x * (y - w)) / (u - w) * 100) / 100));},p=0;p < f.length;p++){n(p);}};return l;})();b.tIa=r;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t;Object.defineProperties(b,{__esModule:{value:!0}});b.bQa=void 0;c=a(6);l=a(20);g=a(2);m=a(1006);d=a(1007);f=a(1008);h=a(1009);k=a(1010);n=a(1011);p=a(1012);q=a(1013);v=a(1014);t=a(1015);r=(function(){function w(u,x,y,z){this.config=u;this.mediaType=x;this.Yc=y;this.console=z;}w.prototype.append=function(u,x){var y,z,B,A;void 0 === this.track?this.gQ(u.stream):this.track !== u.stream.track && ((0,g.assert)(this.track.da),(0,g.assert)(u.stream.track.da),this.track=u.stream.track);(0,g.assert)(void 0 !== this.mq);z={pa:u,offset:null !== (y=u.xCa) && void 0 !== y?y:l.N.Oa,Qe:this.config.UR,Gj:!1};z=this.mq.reduce(function(C,D){return D.append(C,x);},z);B=z.pa;y=z.offset;A=z.Gj;z=z.Mj;z=void 0 === z?[]:z;B.Ka && ((0,g.assert)(u.Ka,"Fragments must be marked for edit at request time"),u.sj(B.Ka));if(A || !this.Heb)return {offset:y,Gj:A};A=this.Heb.Ka(u);u=A.ja;B=A.Mj;A=A.response;Array.prototype.push.apply(z,void 0 === B?[]:B);return {offset:y,Gj:!u,Mj:z,response:A};};w.prototype.reset=function(){this.mq=this.track=void 0;};w.prototype.gQ=function(u){var x,y;this.track=u.track;this.Heb=new v.OPa(this.console,this.config,this.mediaType,u.profile);this.mq=[];if(this.mediaType === c.u.T){this.config.UR && this.mq.push(new f.zUa(this.config,u.track,this.console));y=this.Fqa(u);y.equal(l.N.Oa)?this.config.Dm && u.Gf && this.txa(u.O.P) && this.mq.push(new n.TNa(this.config)):this.mq.push(new m.rla(y));this.config.s_ || (this.console.log(("MediaSplicer: NegativePtsGuard: ").concat(y.Fb(),", ") + ("").concat(null === (x=u.Gf) || void 0 === x?void 0:x.Fb())),this.mq.push(new h.yQa(this.config,u,this.console)));this.k2b()?(this.config.Th || this.mq.push(new p.xIa(u,this.config,this.Yc,this.console)),this.config.UR && this.mq.push(new t.dia(this.console)),this.mq.push(new d.KQa(this.config,u,this.console)),this.vgc(u) && ((0,g.assert)(u.da),this.mq.push(this.RLb(u.Gf || l.N.Oa,u.da,y)))):(this.mq.push(new q.yIa(this.console)),this.config.UR && this.mq.push(new t.dia(this.console)));}};w.prototype.txa=function(u){return this.config.txa || this.config.jbb && -1 !== this.config.jbb.indexOf(u);};w.prototype.Fqa=function(u){return m.rla.Fqa(this.config,u.Gf,this.Yc,this.console);};w.prototype.k2b=function(){return !this.config.hL;};w.prototype.vgc=function(u){return this.config.Djc && this.config.Dm && !!u.Gf;};w.prototype.RLb=function(u,x,y){return new k.bWa(u.Ga(y),x,this.console);};return w;})();b.bQa=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.rla=void 0;c=a(20);l=a(10);r=(function(){function g(m){this.Gf=m;}g.Fqa=function(m,d,f,h){var k;k=c.N.Oa;d && (f=null === f || void 0 === f?void 0:f.wtc,m.Ukc && void 0 !== f && 0 <= f?(m=new c.N(f,48E3),k=d.add(m),l.M && h.trace(("Adjusting profile timestamp offset of ").concat(d) + (" by DPI assumed delay of ").concat(m) + (" for ASE applied offset of ").concat(k,"."))):m.AI && (k=d));return k;};g.prototype.append=function(m){var d,f,h;d=m.Qe;f=m.Gj;h=m.Mj;return {pa:m.pa,offset:m.offset.add(this.Gf),Qe:d,Gj:f,Mj:h};};return g;})();b.rla=r;},function(r,b,a){var l,g,m,d;function c(f){return ("").concat(f.toString()," (nrdp: ").concat(f.lL,"ms)");}Object.defineProperties(b,{__esModule:{value:!0}});b.KQa=void 0;l=a(20);g=a(268);m=a(10);d=a(2);r=(function(){function f(h,k,n){this.console=n;this.offset=l.N.Oa;this.Gf=h.Dm?k.Gf:void 0;(0,d.assert)(k.da);this.da=k.da;}f.prototype.append=function(h){var k,n,p,q;if(h.Gj)return h;k=h.pa;n=h.offset;p=h.Qe;q=h.Mj;void 0 !== this.Icb && ((0,d.assert)(void 0 !== this.mya),k.oc.add(h.offset).equal(this.Icb)?(h=this.AJb(k,n.add(this.offset)).Z - this.mya,0 > h?this.offset=this.offset.add(l.N.oC):0 === h?this.offset.lessThan(l.N.Oa) && (this.offset=this.offset.add(l.N.oC)):1 === h?this.offset.greaterThan(l.N.Oa) && (this.offset=this.offset.Ga(l.N.oC)):this.offset=this.offset.Ga(l.N.oC)):this.offset=l.N.Oa);this.mya=this.zJb(k,n.add(this.offset)).Z;this.Icb=k.Jd.add(n);return {pa:k,offset:n.add(this.offset),Qe:p,Gj:!1,Mj:q};};f.prototype.AJb=function(h,k){var n,p;h=this.T_a(h.oc);n=(0,g.pw)(h).add((0,g.pw)(k));p=h.add(k).Ga(n);m.M && this.console.trace("NrdpRounding: content start " + c(h) + ", timestamp offset: " + c(k) + ", start rounding error: " + (0,g.pw)(h).toString() + ", offset rounding error: " + (0,g.pw)(k).toString() + ", total error: " + n.toString() + ", expected nrdp value:" + p.Fb() + ", (" + h.lL + k.lL + "ms), last fragment end nrdp: " + this.mya);return p;};f.prototype.zJb=function(h,k){var n,p,q;n=this.da;h=this.T_a(h.Jd);p=(0,g.pw)(h.Ga(n)).add((0,g.pw)(n)).add((0,g.pw)(k));q=h.add(k).Ga(p);m.M && this.console.trace("NrdpRounding: content end: start of last frame:" + c(h.Ga(n)) + ", frame duration: " + c(n) + ", offset: " + c(k) + ", timestamp rounding error: " + (0,g.pw)(h.Ga(n)).toString() + ", frame duration rouding error: " + (0,g.pw)(n).toString() + ", offset rounding error: " + (0,g.pw)(k).toString() + ", total rounding error: " + p.toString() + ", expected nrdp value: " + q.Fb() + ", (" + h.Ga(n).lL + n.lL + k.lL + "ms)");return q;};f.prototype.T_a=function(h){return this.Gf?h.Ga(this.Gf):h;};return f;})();b.KQa=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.zUa=void 0;c=a(20);l=a(2);g=a(10);r=(function(){function m(d,f,h){this.config=d;this.console=h;this.Rx=c.N.Oa;(0,l.assert)(f.da);this.da=f.da;d=f.Pc[0].profile;this.lda=this.SXb(d,this.da);this.Qca=this.PXb(d,this.da);}m.prototype.append=function(d,f){var h,k,n,p,q;if(d.Gj)return d;h=d.pa;k=d.offset;n=d.Mj;n=void 0 === n?[]:n;d=d.Qe;p=f.JQ;f=f.lAa;if(this.zBa){q=this.A6b(h,this.zBa);h.Ka && this.Qpa(q)?(g.M && this.console.trace("SeamlessAudio: dropping first frame"),h.Psa(1),this.Rx=q):(this.Rx=q.add(this.da),this.X0a(this.Rx) || (g.M && this.console.trace("SeamlessAudio: cannot maintain seamlessness at " + h.Ld.Fb() + " error would be " + this.Rx.Fb() + " (editing " + (h.Ka?"":"not ") + "allowed)"),n.push({type:"logdata",target:"endplay",fields:{avsyncreset:{type:"array",value:{id:h.Sa,pts:h.oc.Z}}}}),this.Rx=c.N.Oa,d=!1));this.zBa=void 0;}if(h.Nm || h.wy)((0,l.assert)(p,"SeamlessAudio.append(): mediaSplicePlayerTimestamp is undefined"),!h.Ka || !f && h.wy || (q=this.B6b(h,p,f),q.mk(c.N.Oa) && (g.M && this.console.trace("SeamlessAudio: dropping last frame"),h.Qsa(1))),this.zBa=p);(0,l.assert)(this.X0a(this.Rx));this.sQ=h.Vc;return {pa:h,offset:k.add(this.Rx),Qe:d,Gj:!1,Mj:n.length?n:void 0};};m.prototype.B6b=function(d,f,h){var k;if(h)k=this.Rx.add(d.Vc.Ga(h)).Ga(this.da);else (k=d.Vc.Ga(f),k=this.Rx.add(k).Ga(this.da));g.M && this.console.trace("SeamlessAudio: fragment end: " + d.Vc.Fb() + ", splice " + f.Fb() + ", next start " + (null === h || void 0 === h?void 0:h.Fb()) + ", error " + k.add(this.da).Fb() + ", error with frame drop " + k.Fb() + ", is" + (this.Qpa(k)?"":" not") + " within bounds of [" + this.lda.Fb() + " and " + this.Qca.Fb() + ")");return k;};m.prototype.A6b=function(d,f){var h;(0,l.assert)(this.sQ);h=this.Rx.add(this.sQ.Ga(d.Ld)).Ga(this.da);g.M && this.console.trace("SeamlessAudio: fragment start: " + d.Ld.Fb() + ", splice " + f.Fb() + ", last fragment end: " + this.sQ.Fb() + ", error " + h.add(this.da).Fb() + ", error with frame drop " + h.Fb() + ", is" + (this.Qpa(h)?"":" not") + " within bounds of [" + this.lda.Fb() + " and " + this.Qca.Fb() + ")");return h;};m.prototype.Qpa=function(d){return d.lessThan(this.Qca) && d.mk(this.lda);};m.prototype.X0a=function(d){return d.lessThan(this.Qca.add(c.N.oC)) && d.mk(this.lda.Ga(c.N.oC));};m.prototype.PXb=function(d,f){return "object" === typeof this.config.UDa && void 0 !== this.config.UDa[d]?(d=new c.N(this.config.UDa[d],1E3).Yf(f.W).add(new c.N(1,f.W)),c.N.min(f,d)):f;};m.prototype.SXb=function(d,f){var h;if("object" === typeof this.config.VDa && void 0 !== this.config.VDa[d]){h=f.kk(-2);d=new c.N(this.config.VDa[d],1E3).Yf(f.W).Ga(new c.N(1,f.W));return c.N.max(h,d);}return new c.N(-12,1E3);};return m;})();b.zUa=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.yQa=void 0;c=a(20);l=a(2);g=a(10);r=(function(){function m(d,f,h){var k;this.console=h;this.Y0=!1;(0,l.assert)(f.da,"NegativePtsGuard: stream.frameDuration must exist.");this.da=f.da;this.Dm=d.Dm;this.Gf=null !== (k=f.Gf) && void 0 !== k?k:c.N.Oa;}m.prototype.append=function(d){var f,h,k,n,p;if(this.Y0 || d.Gj)return d;f=d.pa;h=d.offset;k=d.Qe;d=d.Mj;if(f.Ka){n=f.oc.Ga(this.Dm?this.Gf:c.N.Oa).add(h);if(n.lessThan(c.N.Oa)){p=Math.ceil(n.Iy(-1).kk(this.da));g.M && this.console.trace(("NegativePtsGuard: dropping ").concat(p," frames on first fragment to avoid nagative pts, ") + ("profile offset ").concat(this.Gf.Fb(),", ") + ("request content start ").concat(f.oc.Fb(),", ") + ("current timestamp offset ").concat(h.Fb()," => ") + ("firstPlatformTimestamp ").concat(n.Fb(),"."));f.Psa(p);}}this.Y0=!0;return {pa:f,offset:h,Qe:k,Gj:!1,Mj:d};};return m;})();b.yQa=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.bWa=void 0;c=a(20);l=a(10);r=(function(){function g(m,d,f){this.Gf=m;this.da=d;this.console=f;}g.prototype.append=function(m,d){var f,h,k,n,p,q;f=m.pa;h=m.offset;k=m.Qe;n=m.Mj;m=m.Gj;if(!m){p=d.endOfStream;d=d.JQ;if(p && d){p=f.oc.Ga(this.Gf).add(h);q=f.Jd.Ga(this.Gf).add(h);d=d.Ga(c.N.oC);l.M && this.console.trace("TruncateEndOfStreamAudio: last fragment has adjusted times " + p.Fb() + "-" + q.Fb() + " vs media splice point at " + d.Fb());p.add(this.da).mk(d)?(l.M && this.console.trace("TruncateEndOfStreamAudio: dropping whole fragment"),m=!0):q.mk(d) && (d=Math.ceil(q.Ga(d).kk(this.da)),f.Ka?(l.M && this.console.trace(("TruncateEndOfStreamAudio: drop ").concat(d," frames")),f.Qsa(d)):(l.M && this.console.trace("TruncateEndOfStreamAudio: fragment.edit is false, dropping whole fragment"),m=!0));}else p && l.M && this.console.trace("TruncateEndOfStreamAudio: last fragment has no media splice point");}return {pa:f,offset:h,Qe:k,Gj:m,Mj:n};};return g;})();b.bWa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.TNa=void 0;r=(function(){function a(c){this.Y0=!1;this.Dgc=c.o1b;}a.prototype.append=function(c){c.pa.Ka && (c.pa.Mfc(this.Y0?0:this.Dgc),this.Y0=!0);return c;};return a;})();b.TNa=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.xIa=void 0;c=a(438);l=a(8);r=(function(){function g(m,d,f,h){this.config=d;this.Yc=f;this.console=h;this.da=m.da;}g.prototype.append=function(m,d){var f,h,k,n,p,q,v,t,w,u,x,y,z;if(m.Gj)return m;h=!1;k=(0,c.xva)(this.config,this.Yc);n=m.pa;p=m.offset;q=m.Qe;v=m.Mj;t=n.Vc;w=n.Ld;u=n.wy;u=n.Nm || u;if(!m.pa.Ka || !u || q)return m;x=n.Jd.Ga(n.oc);u=Math.floor(x.kk(this.da));y=null !== (f=d.lAa) && void 0 !== f?f:t.Ga(this.da.Iy(2));t=y.Ga(w);f=u;z=!1;d.lAa && (d=this.O1a(x,t,t),f=d.ul,z=d.Ofb);k=y.Ga(l.N.Na(k));w=l.N.max(k.Ga(w),l.N.Oa);z || (w=this.O1a(x,w,t),f=w.ul,w.Ofb && (--f,this.da.Iy(f)));f < (this.config.v6b || 1)?h=!0:0 < u - f && m.pa.Qsa(u - f);return {pa:n,offset:p,Qe:q,Gj:h,Mj:v};};g.prototype.O1a=function(m,d,f){var h;m=l.N.min(m,d);m=Math.floor(m.kk(this.da));d=this.da.Iy(m);f=f.Ga(d);h=0 < m && f.lessThan(l.N.oC);return {ul:m,Wwc:d,luc:f,Ofb:h};};return g;})();b.xIa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.yIa=void 0;c=a(10);r=(function(){function l(g){this.console=g;}l.prototype.append=function(g,m){var d,f,h,k,n,p,q;if(g.Gj)return g;d=!1;f=g.pa;h=g.offset;k=g.Qe;g=g.Mj;m=m.JQ;n=f.Vc;if(this.ho && n.lessThan(this.ho.Vc)){p=this.ho.JQ.Ga(f.Ld);q=f.Vc.Ga(this.ho.JQ);q.lessThan(p) && (c.M && this.console.trace(("AudioOverlapGuard: skipping append of ").concat(f) + (", current error: ").concat(p.Fb()) + (", discard error: ").concat(q.Fb())),d=!0);}this.ho=(f.Nm || f.wy) && m?{JQ:m,Vc:n}:void 0;return {pa:f,offset:h,Qe:k,Gj:d,Mj:g};};return l;})();b.yIa=r;},function(r,b,a){var g,m,d,f,h;function c(k,n,p,q,v){var t,w,u,x,y,z,B,A;if(void 0 !== k.cga || void 0 !== k.TEa || k.Kv || k.Lv){t=k.end - k.start;w=Array(t);u=k.Kv;x=k.Lv;y=k.I6a?k.I6a - 1:0;z=k.J6a?k.J6a - 1:0;B=Math.min(t,Math.max(k.cga || 0,v && u && !y?1:0));k=Math.min(t - B,Math.max(k.TEa || 0,v && x && !z?1:0));v=Math.floor(p.kk(n));n=Math.max(0,Math.min(t - B - k,u?Math.max(0,v - y):0));A=Math.max(0,Math.min(t - B - k - n,x?Math.max(0,v - z):0));n=B + n;p=t - k - A;z=z?0:Math.max(0,v + 1 - A);v=(1 - q) / (v + 1);for(A=0;A < t;++A){w[A]=A < B?-Infinity:A >= t - k?-Infinity:u && A < n?l(q + (A - B + y) * v):x && A >= p?l(1 - (A - p + z + 1) * v):0;}return w;}}function l(k){return 20 * Math.log(k) / Math.log(10);}Object.defineProperties(b,{__esModule:{value:!0}});b.OPa=void 0;r=a(0);g=a(75);m=a(8);d=a(2);f=a(6);h=r.__importDefault(a(3));a=(function(){var B93;B93=2;for(;B93 !== 3;){switch(B93){case 5:k.prototype.CRb=function(n,p,q){var g_L,v,t;g_L=2;for(;g_L !== 7;){switch(g_L){case 4:g_L=n.Ka.end === n.iy && !v && !n.Ka.Kv && !n.Ka.Lv?3:9;break;case 2:void 0 === q && (q=0);(0,d.assert)(n.Ka);v=n.Ka.TEa;g_L=4;break;case 3:return {ja:!0};break;case 9:var U7J=" ed";U7J+="it";U7J+=" failed";var H2x="]";H2x+=":";H2x+=" ";var h6H="Me";h6H+="d";h6H+="iaFragment";h6H+="Editor [";t=c(n.Ka,n.da,this.Efa,this.FQ,this.config.hbb);return (p=new g.Uz(this.rfb,n.stream,p).Ljb({rj:n.Ka.end - q,W:n.DK,RA:t,qDa:!1,kL:this.config.ofa,tK:l(this.FQ)}))?{ja:!0,vk:n.eDa(v),data:p.pa}:(this.console.error(h6H.concat(n.mediaType,H2x).concat(n.toString(),U7J)),{ja:!1});break;}}};return k;break;case 2:k.prototype.Ka=function(n){var P0p,p,q,v,t;P0p=2;for(;P0p !== 21;){switch(P0p){case 18:P0p=n.Ka.end !== n.iy || n.Ka.TEa || n.Ka.Lv?17:22;break;case 17:n=this.CRb(n,v?(0,m.iB)(v):n.response,t);v=n.ja;t=n.vk;q=n.data;P0p=26;break;case 23:v=q;P0p=22;break;case 11:return {ja:v};break;case 26:P0p=!v?25:24;break;case 6:P0p=0 < n.Ka.start || n.Ka.cga || n.Ka.Kv?14:18;break;case 10:t && p.push(t);v=q;P0p=19;break;case 2:var M2d="Me";M2d+="diaFragmentEditor [${fragment.mediaType}]: Attem";M2d+="pt to edit a";M2d+="ppended fragment";p=[];(0,d.assert)(!n.de,M2d);P0p=5;break;case 7:return {ja:!0};break;case 5:P0p=!n.Ka?4:3;break;case 3:P0p=0 >= n.duration?9:8;break;case 8:P0p=!(n.response instanceof ArrayBuffer)?7:6;break;case 19:t=n.Ka.start;P0p=18;break;case 24:t && p.push(t);P0p=23;break;case 14:(q=this.BRb(n,n.response),v=q.ja,t=q.vk);q=q.data;P0p=12;break;case 12:P0p=!v?11:10;break;case 9:return {ja:!1};break;case 4:return {ja:!0};break;case 25:return {ja:v};break;case 22:return {ja:!0,Mj:p,response:v};break;}}};k.prototype.BRb=function(n,p){var o1T,v,q;o1T=2;for(;o1T !== 8;){switch(o1T){case 5:o1T=!(n.Ka.start || q || n.Ka.Kv || n.Ka.Lv)?4:3;break;case 3:var Q7M=" ";Q7M+="ed";Q7M+="i";Q7M+="t failed";var N1V="]";N1V+=":";N1V+=" ";var D62="M";D62+="ed";D62+="iaFragmentEd";D62+="itor [";v=c(n.Ka,n.da,this.Dfa,this.FQ,this.config.hbb);return (p=new g.Uz(this.rfb,n.stream,p).Ejb({rj:n.Ka.start,W:n.DK,RA:v,qDa:!1,kL:this.config.ofa,tK:l(this.FQ)}))?{ja:!0,vk:n.eDa(q),data:p.pa}:(this.console.error(D62.concat(n.mediaType,N1V).concat(n.toString(),Q7M)),{ja:!1});break;case 2:(0,d.assert)(n.Ka);q=n.Ka.cga;o1T=5;break;case 4:return {ja:!0};break;}}};B93=5;break;}}function k(n,p,q,v){var j77;j77=2;for(;j77 !== 9;){switch(j77){case 2:var f19="m";f19+="edia|";f19+="a";f19+="sejs";var W12="M";W12+="P";W12+="4";var F7G="1SIY";F7G+="bZr";F7G+="NJCp9";this.console=n;this.config=p;F7G;this.rfb=new h.default.Console(W12,f19);q === f.u.T && (this.Dfa=m.N.Na(0 <= p.Dfa?p.Dfa:p.KC),this.Efa=m.N.Na(0 <= p.Efa?p.Efa:p.KC),this.FQ=Math.pow(10,(p.FQ[v] || -44) / 20));j77=9;break;}}}})();b.OPa=a;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.dia=void 0;c=a(10);l=a(20);r=(function(){function g(m){this.console=m;}g.prototype.append=function(m){var d,f,h,k,n,p;if(m.Gj)return m;d=m.pa;f=m.offset;h=m.Mj;k=d.oc;n=d.Jd;p=k.add(f);f=n.add(f);p=this.sQ && p.Ga(this.sQ);this.sQ=f;if(void 0 === p || p.equal(l.N.Oa))return m;m.Mj=h || [];d={stream:d.Sa,pts:k.Z,gap:p.Z};m.Mj.push({type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:d}}});c.M && this.console.log(("Audio discontinuity: ").concat(JSON.stringify(d)));return m;};return g;})();b.dia=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.bUa=void 0;r=a(0);c=r.__importDefault(a(29));l=r.__importDefault(a(439));a=(function(){function g(m){this.z7=[];this.z7[c.default.$d.J]=new l.default(m,c.default.$d.J);this.z7[c.default.$d.T]=new l.default(m,c.default.$d.T);}g.prototype.nGb=function(m,d,f){this.z7[m].add(d,f);};g.prototype.Xva=function(){var m;m=[];this.z7.forEach(function(d){var f;if(d){f=d.get();f && 0 < f.length && f.forEach(function(h){m.push(h);});d.reset(!0);}});return m;};g.prototype.OTb=function(m){var d;d=this.Xva();m.strmsel=d;return 0 < d.length;};return g;})();b.bUa=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.d9a=void 0;b.d9a=function(a){var c,l,g;c=Math.floor(1E6 * Math.random());l=a.Hwa;g=a.lba;a=0 === c % a.Iwa && 0 < g.length;return {Et:a,SX:a && 0 === c % l};};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.s3a=void 0;b.s3a=function(a,c){var l;if(!Array.isArray(a.p3a))return a;l=a.Hi?a.Hi():Object.create(a);a.p3a.forEach(function(g){if(void 0 !== g.t6b && c.duration >= g.t6b && g.config)for(var m in g.config){l[m]=g.config[m];}});return l;};},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.QKa=void 0;c=a(0).__importStar(a(11));l=a(118);g=a(2);r=(function(){function m(d,f,h){var o2g;o2g=2;for(;o2g !== 3;){switch(o2g){case 2:var K9o="1SIY";K9o+="bZrNJC";K9o+="p9";this.Pn=d;this.H=f;this.zj=h;K9o;o2g=3;break;}}}var P6S;P6S=2;for(;P6S !== 7;){switch(P6S){case 2:m.prototype.iAb=function(d,f){var x_T,h,k;x_T=2;for(;x_T !== 8;){switch(x_T){case 4:d=d.map(function(n){var O2L;O2L=2;for(;O2L !== 1;){switch(O2L){case 2:return h.lXa(n,f.L,f.ty(),h.Pn.un,k);break;}}});l.Bo.instance.Sf();return d;break;case 2:var A9n="c";A9n+="reateDlTr";A9n+="ac";A9n+="ksSta";A9n+="rt";(h=this,k=this.Pn.K);0 === this.hI && this.Pn.Kb.wn(A9n);this.hI+=d.length;x_T=4;break;}}};m.prototype.wAb=function(){var n9V,d,f;n9V=2;for(;n9V !== 3;){switch(n9V){case 2:(d=this,f=[]);this.Pn.Qb.hh.forEach(function(h){var t7e;t7e=2;for(;t7e !== 5;){switch(t7e){case 2:c.wa(h.af) || f.push(h.af);h.af=void 0;t7e=5;break;}}});this.Pn.kV && (f.push(this.Pn.kV),this.Pn.kV=void 0);f.forEach(function(h){var z8x;z8x=2;for(;z8x !== 5;){switch(z8x){case 2:h.Nn || --d.hI;l.Bo.instance.dJ(h);z8x=5;break;}}});n9V=3;break;}}};m.prototype.yBb=function(){var l_M;l_M=2;for(;l_M !== 1;){switch(l_M){case 2:this.hI=0;l_M=1;break;case 4:this.hI=6;l_M=6;break;}}};m.prototype.MDb=function(d,f){var C_t,h,k;C_t=2;for(;C_t !== 5;){switch(C_t){case 2:(h=this.Pn.Qb.hh[d],k=h.af);k && (k=f.hO(d,k),this.vAb(d),h.af=this.lXa(d,f.L,f.ty(),this.Pn.un,this.Pn.K),f.xDa(k));C_t=5;break;}}};m.prototype.lXa=function(d,f,h,k,n){var C_B,p,q;C_B=2;for(;C_B !== 6;){switch(C_B){case 2:var E$g="net";E$g+="wor";E$g+="k";E$g+="f";E$g+="ailing";var T_t="cre";T_t+="at";T_t+="ed";(p=this,q=l.Bo.instance.zt(d,f,!0,h,k,n));q.Oh.on(q,T_t,function(){var k14;k14=2;for(;k14 !== 5;){switch(k14){case 2:var B7S="create";B7S+="Dl";B7S+="Tracks";B7S+="E";B7S+="nd";--p.hI;0 === p.hI && p.Pn.Kb.wn(B7S);k14=5;break;}}});q.Oh.on(q,E$g,function(){var E7y,v;E7y=2;for(;E7y !== 8;){switch(E7y){case 2:var B13="reportN";B13+="etw";B13+="orkFa";B13+="il";B13+="ing: ";n.jj && p.zj.bo(B13 + q);E7y=1;break;case 5:(0,g.assert)(q.eY);v=p.Pn.Qf.O;v.qq.pu(void 0,q.eY,void 0,q.Ah,q.Nj);E7y=9;break;case 9:v.rm();E7y=8;break;case 1:E7y=q.z$?5:8;break;}}});C_B=4;break;case 4:var n2o="me";n2o+="di";n2o+="aRequ";n2o+="estComple";n2o+="te";var w0Y="transportr";w0Y+="epo";w0Y+="rt";var o8Y="e";o8Y+="r";o8Y+="r";o8Y+="o";o8Y+="r";q.Oh.on(q,o8Y,function(){var a9m;a9m=2;for(;a9m !== 5;){switch(a9m){case 2:var e70="NFErr_M";e70+="C_";e70+="StreamingFailure";var R5m="Dow";R5m+="n";R5m+="loadTrac";R5m+="k fatal error";var z_V="DownloadTrack fatal";z_V+=" ";z_V+="e";z_V+="rror";n.jj && p.zj.bo(z_V);p.Pn.yr(R5m,void 0,e70,q.Ah,0,q.Nj);a9m=5;break;}}});q.on(w0Y,function(v){var h$G;h$G=2;for(;h$G !== 1;){switch(h$G){case 4:p.Pn.emit("",v);h$G=7;break;case 2:var T$1="trans";T$1+="p";T$1+="ortreport";p.Pn.emit(T$1,v);h$G=1;break;}}});q.on(n2o,function(v){var Y_K;Y_K=2;for(;Y_K !== 1;){switch(Y_K){case 2:var s7i="me";s7i+="diaRequestComplet";s7i+="e";p.Pn.emit(s7i,v);Y_K=1;break;}}});q.oa();return q;break;}}};m.prototype.vAb=function(d){var t8K,f;t8K=2;for(;t8K !== 9;){switch(t8K){case 2:d=this.Pn.Qb.hh[d];f=d.af;f.Nn || --this.hI;l.Bo.instance.dJ(f);d.af=void 0;t8K=9;break;}}};return m;break;}}})();b.QKa=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.fIa=void 0;c=a(6);l=a(8);r=(function(){function g(m){this.QI=m;this.state=new l.Yz(c.La.Yh);this.sk={};}g.prototype.getState=function(){return this.state.value;};g.prototype.Od=function(m){this.state.set(m);};g.prototype.addListener=function(m){this.state.addListener(m);};g.prototype.paused=function(){this.state.value === c.La.Xc && this.state.set(c.La.aj);};g.prototype.bcb=function(){return this.state.value === c.La.Yh;};g.prototype.Zr=function(){return "function" === typeof this.QI.Zr?this.QI.Zr():this.state.value === c.La.Xc;};g.prototype.Uf=function(){return this.state.value === c.La.Yd || this.state.value === c.La.Vg;};g.prototype.ccb=function(){return this.state.value === c.La.vm;};g.prototype.dcb=function(){return this.state.value === c.La.GD;};g.prototype.cg=function(){return this.QI.cg();};g.prototype.Jt=function(){return "function" === typeof this.QI.Jt?this.QI.Jt():1;};g.prototype.tva=function(){return this.QI.tva();};g.prototype.Sfa=function(m,d){this.sk[m]=d;};g.prototype.Yr=function(m){return !!this.sk[m.L] || m.Rl;};return g;})();b.fIa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.VSa=void 0;c=a(6);r=(function(){function l(g,m,d){var f;this.lHb=g;this.Qna=m;this.oAb=d;this.$ma=(f={},f[c.u.T]=!1,f[c.u.J]=!1,f[c.u.Za]=!1,f);this.reset();}l.prototype.aB=function(){var g,m;g=this;m=this.lHb.filter(function(d){return !d.ybb(g.oAb());});0 === m.length && this.Bna?this.xCb():m.forEach(function(d){g.$ma[d.mediaType] || (d.once("requestAppended",function(){g.$ma[d.mediaType]=!1;g.aB();}),g.$ma[d.mediaType]=!0);});};l.prototype.reset=function(){var g;g=this;this.Bna=!1;new Promise(function(m){g.xCb=m;}).then(function(){return g.Qna();});};l.prototype.d5b=function(){this.Bna || (this.Bna=!0,this.aB());};return l;})();b.VSa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.OHa=void 0;c=a(10);r=(function(){function l(g){this.console=g;this.SN=[];this.RN=[];c.M && this.console.trace(("Received pending adoption ").concat(this.Zm.length));}Object.defineProperties(l.prototype,{length:{get:function(){return this.SN.length;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{Zm:{get:function(){return this.RN;},enumerable:!1,configurable:!0}});l.prototype.a5b=function(g){g=this.RN.indexOf(g);-1 !== g && (c.M && this.console.trace("Marking request attached"),this.SN[g].tbb=!0,this.yob(g));};l.prototype.b5b=function(g){g=this.RN.indexOf(g);-1 !== g && (c.M && this.console.trace("Marking request completed"),this.SN[g].St=!0,this.yob(g));};l.prototype.push=function(g){this.RN.push(g);this.SN.push({tbb:!1,St:!1});c.M && this.console.trace(("Pushing pending request, ").concat(this.length," total"));};l.prototype.XP=function(){return 0 < this.length;};l.prototype.yob=function(g){var m;m=this.SN[g];m.tbb && m.St && (m=this.RN[g],this.RN.splice(g,1),this.SN.splice(g,1),c.M && this.console.trace(("Removing request, ").concat(this.length," left")),0 === this.length && c.M && this.console.trace(("Removing last request, contentEndPts: ").concat(m.Nc)));};return l;})();b.OHa=r;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q;function c(v,t){return (v.mediaType === d.u.J?0:1) - (t.mediaType === d.u.J?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.pOa=b.Uka=b.Oxb=void 0;l=a(0);g=a(91);m=a(132);d=a(6);f=a(8);h=a(2);k=a(20);n=l.__importDefault(a(3));r=a(78);p=a(35);q=(function(v){function t(){return null !== v && v.apply(this,arguments) || this;}l.__extends(t,v);return t;})(a(270).DM);b.Oxb=q;b.Uka={QG:c};a=(function(v){function t(w,u,x,y,z,B,A,C,D,E,G,F,L,O,K,I){var M;z=v.call(this) || this;z.Bxc=w;z.K=u;z.O=y;z.bq=B;z.taa=A;z.nr=E;z.gV=G;z.yj=L;z.kA=O;z.events=K;z.Fx=I;z.jf=new q([]);z.tn=!1;z.rV=0;z.RU=z.LAa.bind(z);w=B.id && B.id.length?"{" + B.id + "}":"";z.H=(0,f.Oi)(n.default,x,w);z.Il=z.H.error.bind(z.H);z.ac=z.H.warn.bind(z.H);z.dk=z.H.trace.bind(z.H);z.Yn=null !== D && void 0 !== D?D:k.N.Na(z.G.ca);z.Zna=null === F || void 0 === F?void 0:F.Vc;null === (M=z.kA) || void 0 === M?void 0:M.addListener(z.RU);y && C && z.c1b(y,C);return z;}l.__extends(t,v);Object.defineProperties(t.prototype,{bg:{get:function(){return this.tn;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{G:{get:function(){return this.bq;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{hw:{get:function(){return this.jf.every(function(w){return w.hw;});},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Dj:{get:function(){return this.jf.every(function(w){return w.Dj;});},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{et:{get:function(){return this.Km().reduce(function(w,u){return w + u.et;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Nh:{get:function(){return this.Km().every(function(w){return w.Nh();});},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Fe:{get:function(){return this.Km().map(function(w){return w.track;});},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{W:{get:function(){return this.Gx.W;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{bb:{get:function(){return this.Gx.bb;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{sb:{get:function(){return this.Gx.sb;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Tj:{get:function(){return this.Rd.Yf(this.W).Ea;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Rt:{get:function(){return this.Yn.add(this.Rd);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{ls:{get:function(){return this.G.sf.add(this.Rd);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{fG:{get:function(){return this.G.yh.add(this.Rd);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{tJ:{get:function(){var w,u;u=null === (w=this.G.G.uq) || void 0 === w?void 0:w[0];return u && this.oc?k.N.Na(Math.max(0,u[0] - this.oc.Z - this.G.sf.Z)):void 0;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{MZ:{get:function(){return this.jf.reduce(function(w,u){return w && u.Vc?k.N.max(w,u.Vc):u.Vc?u.Vc:w;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{mxa:{get:function(){return this.Rt.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{mg:{get:function(){return this.Rd.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Wq:{get:function(){return this.Gx.Wq;},enumerable:!1,configurable:!0}});Object.defineProperties(t.prototype,{Rd:{get:function(){return this.nr;},enumerable:!1,configurable:!0}});t.prototype.Xq=function(w){this.Rd.equal(w) || (this.nr=w);};t.prototype.ny=function(w){return (w=this.fb(w))?Promise.resolve(w.ny()):Promise.resolve(m.AsyncIterator.M8a());};t.prototype.WE=function(){this.Km().forEach(function(w){return w.WE();});};t.prototype.reset=function(){this.jf.forEach(function(w){w.reset();});};t.prototype.ee=function(){var w,u;this.tn || (this.tn=!0,null === (w=this.YD) || void 0 === w?void 0:w.ud(),this.YD=void 0,this.jf.forEach(function(x){x.ee();}),null === (u=this.kA) || void 0 === u?void 0:u.removeListener(this.RU),this.events.removeAllListeners());};t.prototype.hQ=function(){return !0;};t.prototype.fb=function(w){return this.jf.get(w);};t.prototype.Km=function(w){void 0 === w && (w=c);return this.jf.items.slice().sort(w);};t.prototype.KY=function(){return this.jf.items;};t.prototype.KJ=function(w){return this.fb(w);};t.prototype.Lh=function(w,u){w=this.fb(w);if(!w)return 0;if(u)return w.ko;u=w.ut;if(void 0 === u)return 0;w=this.gV();return u - w;};t.prototype.CB=function(){var w,u,x,y,z,B,A;A=null === (w=this.fb(d.u.T)) || void 0 === w?void 0:w.Wo;w=null === (u=this.fb(d.u.J)) || void 0 === u?void 0:u.Wo;return {Ip:null !== (x=null === w || void 0 === w?void 0:w.Z) && void 0 !== x?x:0,$s:null !== (y=null === A || void 0 === A?void 0:A.Z) && void 0 !== y?y:0,Iu:null !== (z=null === w || void 0 === w?void 0:w.ga) && void 0 !== z?z:0,lE:null !== (B=null === A || void 0 === A?void 0:A.ga) && void 0 !== B?B:0};};t.prototype.rm=function(w){w=this.fb(w);(0,h.assert)(w);return w.rm();};t.prototype.LAa=function(w){w=w.newValue;(0,d.Eq)(w) && this.Vs();};t.prototype.HE=function(w){return this.jf.every(function(u){return u.HE(w);});};t.prototype.CY=function(w){var u,x;return null !== (x=null === (u=this.jf.get(w)) || void 0 === u?void 0:u.m4a) && void 0 !== x?x:k.N.Oa;};t.prototype.nl=function(w){this.tn || (w.a8 || (0,h.assert)(!w.Hc),this.Vs(),this.Dj && this.Wna());this.Pv(w);};t.prototype.JK=function(w){this.K.i$ && this.Vs(!0);this.wJ(w);};t.prototype.pC=function(w){this.K.i$ && this.Vs(!0);this.dF(w);};t.prototype.IEa=function(w){var u;return (0,d.Eq)((null === (u=this.kA) || void 0 === u?void 0:u.value) || d.bd.wm) && (!w || this.rV + this.K.eda < n.default.time.fa());};t.prototype.Vs=function(w){void 0 === w && (w=!1);this.IEa(w) && (this.rV=n.default.time.fa(),w={type:"checkBufferingProgress"},this.events.emit(w.type,w));};t.prototype.Wna=function(){var w;w={type:"branchStreamingComplete"};this.events.emit(w.type,w);};t.prototype.c1b=function(w,u){var x;this.yEa(w);(0,h.assert)(w.P === this.G.P || isNaN(w.P) && isNaN(this.G.P));w=null !== u && void 0 !== u?u:null === (x=this.taa) || void 0 === x?void 0:x.call(this,w);(0,h.assert)(w,"tracks need to exist upon initialization");};t.prototype.toJSON=function(){var w,u;return {segment:this.G.id,branchOffset:this.mg,viewableId:this.bq.P,contentStartPts:null === (w=this.oc) || void 0 === w?void 0:w.Z,contentEndPts:null === (u=this.Jd) || void 0 === u?void 0:u.Z};};return t;})(g.Vw);b.pOa=a;(0,p.cf)(r.Pu,a);(0,p.cf)(r.Bz,a);},function(r,b,a){var c,l,g,m,d,f,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.pSa=void 0;r=a(0);c=r.__importDefault(a(29));l=c.default.$d;g=c.default.lx;m=a(6);d=a(8);f=a(20);h=r.__importDefault(a(154));k=r.__importDefault(a(3));a=(function(){function n(p,q,v,t,w){this.gu=p;this.Dt=q;this.K=v;this.H=t;this.ig=w;}n.prototype.r7b=function(p){p={type:"requestCreated",request:p};(0,d.kb)(this.Dt,p.type,p);};n.prototype.q7b=function(p){var q;q=p.Xa.hb.G;p={type:"updateStreamingPts",mediaType:p.mediaType,position:{S:q.id,offset:f.N.Na(this.gu.yra - q.ca)},completePlayerStreamingTimestamp:f.N.Na(this.gu.ut),trackIndex:p.stream.track.IA};(0,d.kb)(this.Dt,p.type,p);};n.prototype.egb=function(p,q,v){var t,w,u;w=this.ig;u=this.gu.Wj.De;u.Llb(p);w === m.u.J && this.K.Afa && (void 0 === u.tya?u.Nlb(k.default.time.fa()):k.default.time.fa() - u.tya > this.K.Afa && (p.bitrate !== u.Qcb && (k.default.storage.set("vb",p.bitrate),u.Ofc(p.bitrate)),u.Nlb(k.default.time.fa())));u.JZ && u.JZ === p || (this.gu.Wj.Ahc(q,u.JZ,p),u.Cfc(p),q=0,p.Nb && p.Nb.confidence && p.Nb.Ya && (q=p.Nb.Ya.xa),u={S:this.gu.hb.G.id,offset:f.N.Na(v - this.gu.hb.G.ca)},p={type:"streamSelected",nativetime:k.default.time.fa(),mediaType:w,streamId:p.id,manifestIndex:p.O.Vb,trackIndex:p.track.IA,streamIndex:p.zg,movieTime:v,bandwidth:q,longtermBw:q,rebuffer:0,position:u,stream:p,manifest:null === (t=p.O) || void 0 === t?void 0:t.ba},(0,d.kb)(this.Dt,p.type,p));};n.prototype.m7b=function(p,q,v){var t,w,u,x,y;t=q.O;w=t.uk;u=this.gu.Wj.De;x=t.C2b(q);y=x.cya;x=x.D2b;v && q.bc && !u.KZ?(x=g.nx,q.tu=g.name[x],this.dgb(p,q.bc,q.tu,q.location,q.bitrate),u.KZ=q.bc):!v && q.bc && q.bc !== u.KZ && (x=x?void 0 === u.KZ?g.nx:w.ZR === g.Ika?g.qyb:g.hia:g.pyb,q.tu=g.name[x],this.dgb(p,q.bc,q.tu,q.location,q.bitrate),u.KZ=q.bc);u.rQ || (x={type:"logdata",target:"startplay",fields:{}},this.ig === l.T?x.fields.alocid=q.location:this.ig === l.J && (x.fields.locid=q.location),(0,d.kb)(this.Dt,x.type,x));v && q.location && !u.rQ?(x=g.nx,q.tu=g.name[x],this.bgb(t.Vb,p,q.location,q.Pya,q.bc,q.tL,q.tu,q.Ty),u.rQ=q.location):!v && q.location && q.location !== u.rQ && (x=y?void 0 === u.rQ?g.nx:w.ZR === g.Ika?g.Jvb:g.hia:g.Ivb,q.tu=g.name[x],this.bgb(t.Vb,p,q.location,q.Pya,q.bc,q.tL,q.tu,q.Ty),q.Ty=void 0,u.rQ=q.location);this.K.Aw || (q.Lcb=q.location,q.Pcb=q.bc);};n.prototype.Ida=function(p){p={type:"requestsPruned",requests:p};(0,d.kb)(this.Dt,p.type,p);};n.prototype.dgb=function(p,q,v,t,w){var u,x;if(this.ig === l.Za)this.H.warn("notifyServerSwitch ignored for MediaType.TEXT");else {x=(u={},u[m.u.T]="audio",u[m.u.J]="video",u[m.u.Za]="subtitle",u)[this.ig];u=h.default.instance().get();p={type:"serverSwitch",segmentId:p,mediatype:x,server:q,reason:v,location:t,bitrate:w,confidence:u.confidence};u.confidence && (p.throughput=u.Ya.xa);this.gu.Wj.De.KZ && (p.oldserver=q);(0,d.kb)(this.Dt,p.type,p);}};n.prototype.bgb=function(p,q,v,t,w,u,x,y){var z,B;if(this.ig === l.Za)this.H.warn("notifyServerSwitch ignored for MediaType.TEXT");else {B=(z={},z[m.u.T]="audio",z[m.u.J]="video",z[m.u.Za]="subtitle",z)[this.ig];p={type:"locationSelected",manifestIndex:p,segmentId:q,mediatype:B,location:v,locationlv:t,serverid:w,servername:u,selreason:x,seldetail:y};(0,d.kb)(this.Dt,"locationSelected",p);}};n.prototype.Rna=function(p,q){q={type:"lastSegmentPts",segmentId:p.id,pts:Math.floor(q)};p.hG || (0,d.kb)(this.Dt,q.type,q);};n.prototype.bo=function(p){p={type:"managerdebugevent",message:"@" + k.default.time.fa() + ", " + p};(0,d.kb)(this.Dt,p.type,p);};n.prototype.aVb=function(p){(0,d.kb)(this.Dt,"transportReport",p);};n.prototype.$Ub=function(p){(0,d.kb)(this.Dt,"mediaRequestComplete",p);};return n;})();b.pSa=a;},function(r,b,a){var c,l,g,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.HQa=b.yub=void 0;c=a(0);l=c.__importDefault(a(3));g=a(76);m=a(10);d=a(1026);f=a(8);r=(function(){return function(h,k,n,p){this.K=k;this.gu=p;p="[" + h + "]";n=(0,f.Oi)(l.default,n,p);this.bfb=h === g.u.J?k.kda:k.bda;p=l.default.zq()[h];this.l_=h === g.u.J?k.B5b:k.h5b;this.l_=Math.min(k.q5b * p,this.l_);m.M && n.trace("This pipeline's buffer size ",p,this.l_);this.gda=(h === g.u.J?k.jC:k.Hy) || k.gda;this.Kca=(h === g.u.J?k.A5b:k.g5b) || k.Kca;this.ppa=k.ppa;};})();b.yub=r;r=(function(h){function k(n,p,q,v){return h.call(this,n,p,q,v) || this;}c.__extends(k,h);k.prototype.X8a=function(n,p,q,v){var t,w,u,x,y,z,B,A,C;void 0 === q && (q=!1);void 0 === v && (v=!1);u=this.gu;x=n.O.ty();y=u.pd.index;z=u.Ud.index;B=p === y;A=p === z;if(!A || B && u.pd.Ka){if(B){C=n.P8a(u.pd);C.cS(u.pd.kz);A && (u.pd.Ka || u.Ud.Ka) && C.sj({start:null === (t=C.Ka) || void 0 === t?void 0:t.start,end:null === (w=u.Ud.Ka) || void 0 === w?void 0:w.end});}else C=n.Xl(p);}else (C=n.P8a(u.Ud),C.cS(u.Ud.kz));C.VQ=p + 1;if(t=(0,d.$9a)(u,u.Ec))(m.M && u.dk("getFragmentForRequest pts:",u.Ec,"in region:",t,"previous region:",u.nya),w=void 0 === u.nya || u.nya !== t.region,(0,d.L5a)(u.H,C,t,{T1b:B,$1b:A,j2b:w}));A && (C.Xdb(),C.Lfc(u.hb.G));B && C.rza(!0);B=n.ma.z1;if(!(C.VQ === p || null !== B && void 0 !== B && B.Fbb(p) || x || !this.ppa && C.Ka || q && !(p > y + 1) || v && !(p < z - 2)))for((q=v?z - 1:z,++p);p < n.ma.length && p < q && (C.ga < this.bfb || C.duration < this.gda) && (1 === C.stream.dh.length || this.LJb(n,p));++p){v=n.Xl(p);if(null === B || void 0 === B?0:B.Fbb(p))break;if((0,d.Ebb)(u,v))break;if(C.duration + v.duration > this.Kca)break;if(C.ga + v.ga > this.l_)break;C.b8(v);C.VQ=p + 1;m.M && u.dk("getFragmentForRequest: extended fragment startPts:",C.ca,"to duration:",C.duration,"size:",C.ga,"min request size:",this.bfb,"max request size:",this.l_,"min request duration:",this.gda,"max request duration:",this.Kca,"edit:",C.Ka);}m.M && u.dk("getFragmentForRequest(" + p + ") returning:",C,"stream:",C.stream,"firstRequestInRegion:",C.gua,"lastRequestInRegion:",C.wy,"nextIndex:",C.VQ);return C;};k.prototype.LJb=function(n,p){return !n.dh.some(function(q){return p === q.ze;});};return k;})(r);b.HQa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.L5a=b.V1b=b.Ebb=b.$9a=void 0;c=a(21);b.$9a=function(l,g){if((l=l.hb.G.Zy) && 0 !== l.length)return (0,c.Qc)(l,function(m){return m.oc.Z <= g && g < m.Jd.Z;});};b.Ebb=function(l,g){return g.index === l.pd.index?!0:(l=l.hb.G.Zy) && 0 !== l.length?l.some(function(m){m=m.oc;return g.oc.JF(m) && m.lessThan(g.Jd);}):!1;};b.V1b=function(l,g){return g.index === l.Ud.index?!0:(l=l.hb.G.Zy) && 0 !== l.length?l.some(function(m){m=m.Jd;return g.oc.lessThan(m) && m.JF(g.Jd);}):!1;};b.L5a=function(l,g,m,d){var f,h,k,n,p,q,v,t;l=null === (f=g.Ka) || void 0 === f?void 0:f.start;f=null === (h=g.Ka) || void 0 === h?void 0:h.end;t=h=!1;if((null === d || void 0 === d?0:d.j2b) || (null === d || void 0 === d || !d.T1b) && g.oc.lessThan(m.oc)){if(v=g.Vta(m.oc.Z))(v=(null !== (n=null === (k=g.Ka) || void 0 === k?void 0:k.start) && void 0 !== n?n:0) + v.rj,l=Math.max(null !== l && void 0 !== l?l:0,v));v=m.oc.Z;h=!0;}if((null === d || void 0 === d || !d.$1b) && g.Jd.greaterThan(m.Jd)){if(v=g.Vta(m.Jd.Z))(v=(null !== (q=null === (p=g.Ka) || void 0 === p?void 0:p.start) && void 0 !== q?q:0) + v.rj,f=Math.min(null !== f && void 0 !== f?f:Infinity,v),g.VQ=g.index);v=m.Jd.Z;t=!0;}if(void 0 !== l || void 0 !== f)(g.sj({start:l,end:f}),void 0 !== v && (!g.kz || v > g.kz) && g.cS(v));g.Ifc(m.region,h,t);};},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v;Object.defineProperties(b,{__esModule:{value:!0}});b.hUa=void 0;c=a(0);l=c.__importStar(a(11));g=a(189);m=a(1029);d=a(444);f=a(1032);r=a(91);h=a(6);k=a(2);n=a(191);p=a(8);q=a(61);v=a(133);a=(function(t){function w(u,x,y,z,B,A,C,D){var E;E=t.call(this,u) || this;E.K=x;E.H=y;E.Am=z;E.ae=B;E.ig=A;E.zaa=D;E.rpb=!0;E.Te=new n.XG(E.H);E.Il=E.H.error.bind(E.H);E.ac=E.H.warn.bind(E.H);E.dk=E.H.trace.bind(E.H);E.xZa();E.wr=null === C || void 0 === C?void 0:C.oB(function(){return E.ndc();},"pruner");return E;}c.__extends(w,t);Object.defineProperties(w.prototype,{console:{get:function(){return this.H;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{mediaType:{get:function(){return this.ig;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{hb:{get:function(){return this.ae;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{jz:{get:function(){return 0 < this.IC;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{hFa:{get:function(){return !this.AN;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{IC:{get:function(){return this.Ma.length;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Eu:{get:function(){return this.Ma.Eu;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{zbc:{get:function(){return this.Te.count;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{nO:{get:function(){return this.Te.St;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{dX:{get:function(){return this.Ma.complete.Vc;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{ut:{get:function(){return this.Ma.$2a;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{yra:{get:function(){return this.Ma.Z2a;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{TC:{get:function(){return this.Ma.Vc;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{ko:{get:function(){return void 0 === this.Ma.Bd?0:this.Ma.Xf - this.Ma.Bd;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Wo:{get:function(){return {ga:this.Ma.GE,Z:Math.max(this.Ma.$2a - this.Ma.Bd,0) || 0};},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{LO:{get:function(){return this.Ma.xLb;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{GE:{get:function(){return this.Ma.GE;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{et:{get:function(){return this.Ma.ga;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{aG:{get:function(){return this.aBb();},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{qBa:{get:function(){return this.Ma.L0b;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{cba:{get:function(){return this.Ma.length > this.Ma.Eu;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Bj:{get:function(){return this.Ma.Bj;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{k3b:{get:function(){return this.Ma.N9b;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{Gcb:{get:function(){return this.iYa;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{uhb:{get:function(){return this.Ma.length - this.vn;},enumerable:!1,configurable:!0}});Object.defineProperties(w.prototype,{ma:{get:function(){return this.Ma;},enumerable:!1,configurable:!0}});w.prototype.ee=function(u){var y,z;function x(){return z.forEach(function(B){B.abort();B.ud();});}z=this.Ma;u?setTimeout(x,1):x();this.xZa();this.Te.mP();null === (y=this.wr) || void 0 === y?void 0:y.Wa();};w.prototype.reset=function(){this.ee();this.Te.ikb();};w.prototype.close=function(){this.Te.mP();};w.prototype.llb=function(){this.WWa=!0;};w.prototype.Iva=function(){return {endMarked:void 0 !== this.Te.count,queueCount:this.Te.count,isComplete:this.Te.St,itemCount:this.Te.a3a,continuousEndPts:this.Te.Bl().reduce(function(u,x){return x && !x.done && (x=x.value,100 > Math.abs(x.tua - u) || -1 === u)?x.cVb:u;},-1),sentinelItemCount:this.Te.Bl().filter(function(u){return u && u.done;}).length,processedCount:this.Te.kQb,rc:this.IC};};w.prototype.W3a=function(u,x,y){var z,B,A,C;z=this.K;(0,k.assert)(!u.header);if(y.ta){A=this.ae;C=A.v$a();A=A.lz;this.K.jnb?y.mediaType === h.u.J && void 0 !== C && (B=new d.Wha(y,z,x.track,u,this.Ma,this.H,C,A)):B=new f.iIa(y,z,x.track,u,this.Ma,this.H,C,A);}B || (B=g.iT.create(y,z,x.track,u,this.Ma,!1,this.H,this.zaa));B.oa(this);this.tv(B);return B;};w.prototype.GGb=function(u){var x;u.oa(this);u.a8=!0;this.tv(u);x=Promise.resolve();u.complete?(this.Bma(u),this.Am.egb(u.stream,u.Bd,u.Td),x=this.Qga(),this.Pv(u)):(u.active && this.BP(u),u.NCa && this.dF(u));return x;};w.prototype.tv=function(u){var x,y;this.Ma.pp(u);(null === (x=this.wr) || void 0 === x?void 0:x.state) === q.xm.complete && (null === (y=this.wr) || void 0 === y?void 0:y.yg());this.Bma(u);u.Nm && (this.AN=!1);};w.prototype.ny=function(){return this.Te.Hua();};w.prototype.Rqa=function(){this.vn === this.Ma.length && this.WWa && this.Te.mP();};w.prototype.Qga=function(){var u,x,y,z,D;u=this;y=Promise.resolve();z=this.ae;if(!z.hQ(this.ig) || this.vn === this.Ma.length)return y;for(var B=this.K.t5b,A=0,C=[];this.vn < this.Ma.length;){if(x=this.Ma.get(this.vn)){if(this.Ma.q7a && this.Ma.q7a.bb < x.bb)break;if(!x.Mm())break;C.push(x);++A;l.Qa(this.Bd) || (this.Bd=x.Bd);}++this.vn;if(!l.wa(B) && A >= B)break;}if(C.length){void 0 !== this.Te.count && (this.Il("tryToAtach() but requestQueue has sentinel:",this.Te.count),this.Te.ikb());if(this.rpb)y=Promise.all(C.map(function(E){return u.Te.enqueue(E).then(function(){return u.Waa(E);});}));else for(x=0;x < C.length;x++){try{D=C[x];z.wYb(this.mediaType).HQb(D);this.Waa(D);}catch(E){return (this.vn-=C.length - x,Promise.reject(E));}}this.Rqa();}return y;};w.prototype.Waa=function(u){this.iYa=u;this.C7a(u);};w.prototype.eW=function(u,x){var y,z,B;y=this;z=[];if(0 !== this.Ma.Eu){B=this.Ma.nhb;this.Ma.Vjc.bFa(function(A){if(!l.wa(u) && A.O.Vb !== u || A.Nm || B > A.Bd)return !0;A.Pr && (y.AN=!1);if(!y.Y5(A))return (y.ac("request abort failed:",A.toString()),!0);z.unshift(A);});this.eoa();z.length && "function" === typeof x && x(z);}};w.prototype.V0=function(){this.eoa();};w.prototype.ndc=function(){var u,x,y,z,B,A;return c.__generator(this,function(C){switch(C.label){case 0:C.label=1;case 1:if(!this.Ma.length)return [3,3];u=this.Ma.get(0);x=p.N.Na(null !== (A=null === (B=this.K.fS) || void 0 === B?void 0:B.Z) && void 0 !== A?A:0);y=x.add(u.Vc);return [4,q.bj.dD(y)];case 2:C.zb();if(1 >= this.Ma.complete.length && !u.Nm)return [3,3];(0,k.assert)(u === this.Ma.get(0));u.de || this.Y5(u);z=this.Ma.splice(0,1);0 < this.vn && this.vn--;this.Am.Ida(z);z=void 0;return [3,1];case 3:return [2];}});};w.prototype.E0=function(u,x){var y,z,B,A,C,D;y=this;z=this.K;B=!1;A=0;C=this.Ma.some(function(E){if(u < E.Xf)return (B && y.Bma(E),!0);++A;E.de || (y.ac("pruning unappended request:",E && E.toString()),z.jj && y.Am.bo(("prune pts:").concat(u," unappended request:").concat(E && E.toString())),E.Pr && (y.AN=!1,B=!0),y.Y5(E,x) || y.Il("MediaRequest.abort error:",E.Ah));});if(0 < A){D=this.Ma.splice(0,A);this.vn-=Math.min(A,this.vn);this.Am.Ida(D);}return C;};w.prototype.Gaa=function(u){var x,y,z;void 0 === u && (u={eX:null,pR:null,Bd:null,Pj:0,Bp:0,Rg:0,ma:[]});x=this.K;y=this.Ma;l.Qa(y.Bd) && (null === u.Bd || y.Bd < u.Bd) && (u.Bd=y.Bd);z=this.ut;void 0 !== z && null === u.eX && (u.eX=z);z=y.Xf;void 0 !== z && (null === u.pR || z > u.pR) && (u.pR=z);u.Pj+=y.Pj;u.Bp+=y.Bp;u.Rg=x.WEa?u.Rg + y.ljb:u.Rg + y.GE;Array.prototype.unshift.apply(u.ma,y.zb.ma);return u;};w.prototype.ey=function(u){if(this.Ma.length && (u=this.Ma.$6a(u)))return u;};w.prototype.mFb=function(u){var x,y,z;y=u.Jd;u=u.Td;(0,k.assert)(y,"expected contentEndTimestamp to be defined");(0,k.assert)(void 0 !== u,"expected contentStartPts to be defined");u=this.Ma.Qta(u);z=this.Ma.get(u);(0,k.assert)(z && void 0 !== z.Td && void 0 !== z.Nc && void 0 !== z.index,"expected existing request to be defined with properties");if(null === (x=z.Jd) || void 0 === x?0:x.equal(y))return (this.j_a(u),[z.Nc,z.index + 1]);this.j_a(u - 1);return [z.Td,z.index];};w.prototype.rm=function(u){var x,y;x=this;y=[];this.Ma.forEach(function(z){var B;B=z.CGa(u);1 === B?y.push(z):2 === B && x.hb.O.fg("swapUrl failure");});return y;};w.prototype.pC=function(u){u.CF && u.Mm() && this.Qga();this.dF(u);};w.prototype.nl=function(u){var x,y;u.CF && !u.de && this.Qga();(null === (x=this.wr) || void 0 === x?void 0:x.state) === q.xm.complete && (null === (y=this.wr) || void 0 === y?void 0:y.yg());this.Pv(u);};w.prototype.tpa=function(u){var x,y,z;x=this.ig === h.u.J?"v_":"a_";y=this.Ma;z=y.xP(u);u=0 <= z?y.get(z):void 0;return (y=0 <= z && z + 1 < y.length?y.get(z + 1):void 0) && u?u.Xf !== y.Bd?x + "rg":u.complete && y.complete?x + "uk":x + "fd":x + "rm";};w.prototype.aBb=function(){return this.Ma.Bj + this.Ma.Eu;};w.prototype.xZa=function(){var u,x,y;x=void 0 !== this.Ma && 0 < this.Ma.length;y=this.Ma;this.Ma=new m.cIa(this.H,this);this.vn=0;this.Te.clear();this.iYa=void 0;this.Bd=null;null === (u=this.wr) || void 0 === u?void 0:u.yg();this.WWa=this.AN=!1;x && (u=y.map(function(z){return z;}),this.Am.Ida(u));};w.prototype.Bma=function(u){this.AN?u.Pr && u.rza(!1):(u.Pr || u.rza(!0),this.AN=!0);};w.prototype.j_a=function(u){var x;for(u+=1;u < this.IC;u++){x=this.Ma.get(u);(0,k.assert)(x,"expected request to exist");this.Te.remove(x);x.aborted || (this.Y5(x),x.ud());}this.eoa();};w.prototype.Y5=function(u,x){if(!u.abort())return !1;"function" === typeof x && x(u);return !0;};w.prototype.eoa=function(){var u,x,y,z;u=this;if(0 !== this.Ma.length){y=[];z=0;this.Ma.pbc(function(B,A){A < u.vn && ++z;y.push(B);});this.vn-=z;null === (x=this.wr) || void 0 === x?void 0:x.yg();this.Am.Ida(y);}};return w=c.__decorate([v.zJ],w);})(r.Vw);b.hUa=a;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p;Object.defineProperties(b,{__esModule:{value:!0}});b.$Ha=void 0;c=a(0);l=a(75);g=c.__importDefault(a(29));r=c.__importDefault(a(3));m=a(8);d=a(2);f=a(190);h=a(77);k=a(267);n=a(106);p=r.default.dr;a=(function(q){function v(t,w,u,x,y,z,B,A){var C;x=q.call(this,t,u,x,z,B,A) || this;y=h.Gl.prototype.toString.call(x) + (y?"(cache)":"");A={offset:u.offset,ga:u.fAa + 8,responseType:0};x.push(new k.jT(t,w,y + "(moof)",A,x,z,B));A={offset:u.offset + A.ga,ga:u.ga - A.ga,responseType:p.Yc && !p.Yc.PR.SM?0:1};if(x.mediaType === g.default.$d.J && x.Ka){if(0 < x.Ka.start){C=x.g7a(x.Ka.start);C && (A.offset=u.offset + C,A.ga=u.ga - C);}x.Ka.end < x.iy && (C=x.g7a(x.Ka.end)) && (A.ga-=u.ga - C);}x.push(new k.jT(t,w,y + "(mdat)",A,x,z,B));return x;}c.__extends(v,q);v.prototype.Mm=function(){return !this.de && !!this.Ma.length && this.Ma.every(function(t){return t.Mm();});};v.prototype.OA=function(t,w){var u,x,y,z,B,A,C;if(this.de)return {status:n.Gh.Js};if(!this.Mm())return {status:n.Gh.Bg};t=!1;u=this.Ma[0].response;x=u.slice(0,u.byteLength - 8);y=new DataView(u);u=y.getUint32(x.byteLength);(0,d.assert)("mdat" === (0,l.sN)(y.getUint32(x.byteLength + 4)));z=this.Ka && 0 < this.Ka.start;y=this.Ka && this.Ka.end < this.iy;if(this.Ka && (z || y)){if(z)(B=new l.Uz(this.H,this.stream,x),A=B.Ejb(this.Ka.start,this.W));if(y && !1 !== A){B=new l.Uz(this.H,this.stream,A?(0,m.iB)(A.pa):x);C=B.Ljb(this.Ka.end - this.Ka.start,this.W);}if(B=y?C:A)(t=w.appendBuffer((0,m.iB)(B.pa),(0,m.zy)(this)),A && ((0,d.assert)(void 0 !== A.us),(0,d.assert)(void 0 !== A.HR),u-=A.us),C && ((0,d.assert)(void 0 !== C.us),(0,d.assert)(void 0 !== C.HR),u-=C.us,A && (0,d.assert)(void 0 !== A.us)));B=this.eDa();}else t=w.appendBuffer(x,(0,m.zy)(this));t && (t=w.appendBuffer((0,l.AQ)(u - 8),(0,m.zy)(this))) && (t=w.appendBuffer(this.Ma[1].response,(0,m.zy)(this)));this.de=t;this.Ccc();return {status:t?n.Gh.Js:n.Gh.Bg,vk:B};};v.prototype.toString=function(){return "ID: " + this.Mi() + ":" + q.prototype.toString.call(this);};return v;})(f.Uw);b.$Ha=a;},function(r,b,a){var c,l,g,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.cIa=void 0;c=a(0);a(2);l=a(1030);r=a(35);g=a(1031);m=a(78);d=a(91);f=a(265);a=(function(h){function k(n,p){var q,v;q=this;v=[new g.c3(n),new g.c3(n),new g.c3(n)];q=h.call(this,v,function(t){return t.complete?q.empty || t.bb <= q.yLb?0:1:t.active?1:2;}) || this;v=c.__read(v,3);q.cj=v[0];q.gf=v[1];q.qv=v[2];q.xr=0;q.mma=0;q.H=n;q.me=p;return q;}c.__extends(k,h);Object.defineProperties(k.prototype,{ga:{get:function(){return this.cj.ga + this.gf.ga + this.qv.ga;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Vjc:{get:function(){return this.qv;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{active:{get:function(){return this.gf;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{complete:{get:function(){return this.cj;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{ljb:{get:function(){return this.xr;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{GE:{get:function(){return this.cj.ga;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Pj:{get:function(){return this.cj.ga + this.gf.ga - this.xr;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Wjc:{get:function(){return this.qv.ga;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Bp:{get:function(){return this.ga - this.xr;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{first:{get:function(){return this.tVb();},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{eh:{get:function(){return this.jIb();},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Usa:{get:function(){return !this.cj.empty || this.qv.empty || this.gf.empty?this.first:this.gf.bb < this.qv.bb?this.gf.first:this.qv.first;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Vcb:{get:function(){return this.qv.empty || this.gf.empty?this.eh:this.gf.sb < this.qv.sb?this.qv.eh:this.gf.eh;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{q7a:{get:function(){return this.qv.first;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{W:{get:function(){return this.first && this.first.W;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{bb:{get:function(){return this.Usa && this.Usa.bb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{sb:{get:function(){return this.Vcb && this.Vcb.sb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Tj:{get:function(){return this.first && this.first.Tj;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{xLb:{get:function(){return this.cj.duration;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{L0b:{get:function(){return this.Nc - this.Z2a || 0;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{yLb:{get:function(){return this.cj.empty?this.bb:this.cj.sb;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Z2a:{get:function(){return this.cj.empty?this.Td:this.cj.Nc;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{$2a:{get:function(){return this.cj.empty?this.Bd:this.cj.Xf;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{N9b:{get:function(){return this.gf.eh || this.cj.eh;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{nhb:{get:function(){return this.gf.Xf || this.cj.Xf;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Eu:{get:function(){return this.qv.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{Bj:{get:function(){return this.gf.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{b3a:{get:function(){return this.cj.length;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{zb:{get:function(){return this.cj.concat(this.gf);},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{xt:{get:function(){return this.ph;},enumerable:!1,configurable:!0}});k.prototype.dN=function(n){var p;n.aborted?++this.mma:this.xr+=n.bytesReceived || 0;if(this.empty)this.ph=new f.jD(this,{});else if(n.bb !== this.sb)if(n.bb > this.ph.sb)this.ph.r1(this.ph.sb);else if(n.bb < this.bb || n.bb === this.ph.sb){p=n.sb;this.PUb(function(q,v){return q.bb - v.bb;},function(q){p=q.bb === p?q.sb:p;});p === Math.max(this.sb,n.sb)?this.ph.ira():this.ph.r1(p);}n.yEa(this);};k.prototype.BA=function(n){n.aborted?--this.mma:this.xr-=n.bytesReceived;this.empty?this.ph=void 0:n.bb !== this.sb && n.sb <= this.ph.sb && n.bb > this.ph.bb && this.ph.r1(n.bb);n.A2a();};k.prototype.push=function(n){this.dN(n);return h.prototype.push.call(this,n);};k.prototype.shift=function(){var n;n=h.prototype.shift.call(this);n && this.BA(n);return n;};k.prototype.pop=function(){var n;n=h.prototype.pop.call(this);n && this.BA(n);return n;};k.prototype.unshift=function(n){this.dN(n);return h.prototype.unshift.call(this,n);};k.prototype.pp=function(n){this.dN(n);h.prototype.pp.call(this,n);};k.prototype.remove=function(n){if(!h.prototype.remove.call(this,n))return !1;this.BA(n);return !0;};k.prototype.splice=function(n,p){for(var q=[],v=2;v < arguments.length;v++){q[v - 2]=arguments[v];}v=h.prototype.splice.apply(this,c.__spreadArray([n,p],c.__read(q),!1));q.forEach(this.dN.bind(this));v.forEach(this.BA.bind(this));return v;};k.prototype.pbc=function(n){var p;p=this;this.reduce(function(q,v,t){v.aborted && (n && n(v,t,p),0 === q.length || q[0].end !== t?q.unshift({start:t,end:t + 1}):q[0].end+=1);return q;},[]).forEach(function(q){return p.splice(q.start,q.end - q.start);});};k.prototype.Qta=function(n){return this.a7a(function(p){return p.Qta(n);});};k.prototype.xP=function(n){return this.a7a(function(p){return p.xP(n);});};k.prototype.$6a=function(n){n=this.xP(n);return -1 !== n?this.get(n):void 0;};k.prototype.Kec=function(n){var q;for(var p=[];n < this.length;){q=this.get(n);q && p.push(q);n++;}return p;};k.prototype.qC=function(n){this.move(n);this.BP(n);};k.prototype.JK=function(n){this.xr+=n.bytesReceived - n.ju;this.wJ(n);};k.prototype.nl=function(n){for(this.xr+=n.bytesReceived - n.ju;this.gf.first && this.gf.first.complete && (this.cj.empty?this.gf.first === this.Usa:this.gf.first.bb === this.cj.sb);){this.ggc();}this.Pv(n);};k.prototype.Z_=function(n,p,q){this.xr-=n.bytesReceived;++this.mma;this.AP(n,p,q);};k.prototype.KK=function(n,p,q){this.gf.dkc(p - q);this.U$(n,p,q);};return k;})(l.OJa);b.cIa=a;(0,r.cf)(d.Vw,a,!1);(0,r.cf)(m.Pu,a);(0,r.cf)(m.Bz,a);},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.OJa=void 0;c=a(0);a(2);r=(function(){function l(g,m){this.Cd=g;this.oN=m;this.uA();}Object.defineProperties(l.prototype,{length:{get:function(){return this.Zf;},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{empty:{get:function(){return 0 === this.Zf;},enumerable:!1,configurable:!0}});l.prototype.tVb=function(){return this.Jh && this.Jh.get(0);};l.prototype.jIb=function(){return this.kN && this.kN.get(this.kN.length - 1);};l.prototype.get=function(g){0 > g && (g+=this.length);for(var m=0;m < this.Cd.length;++m){if(this.ej[m + 1] > g)return this.Cd[m].get(g - this.ej[m]);}};l.prototype.push=function(g){this.Cd[this.oN(g)].push(g);this.uA();return this.Zf;};l.prototype.shift=function(){var g;if(this.Jh){g=this.Jh.shift();this.uA();return g;}};l.prototype.pop=function(){var g;if(this.kN){g=this.kN.pop();this.uA();return g;}};l.prototype.unshift=function(g){this.Cd[this.oN(g)].unshift(g);this.uA();return this.Zf;};l.prototype.pp=function(g){var m;m=this.oN(g);this.Cd[m].pp(g);this.uA();};l.prototype.remove=function(g){var m;m=this.Cd.some(function(d){return d.remove(g);});m && this.uA();return m;};l.prototype.splice=function(g,m){var q,v,t,w;for(var d,f=[],h=2;h < arguments.length;h++){f[h - 2]=arguments[h];}h=[];for(var k,n=g + Math.max(0,m),p=0;p < this.Cd.length;++p){q=this.Cd[p];v=this.ej[p];t=this.ej[p + 1];if(g < t){w=g - v;v=Math.min(n - v,q.length);void 0 === k && 0 < w && v < q.length?Array.prototype.push.apply(h,q.splice.apply(q,c.__spreadArray([w,v - w],c.__read(f),!1))):(Array.prototype.push.apply(h,q.splice(w,v - w)),void 0 === k && (k=0 < p && 0 === w?p - 1:p));g=t;if(g >= n)break;}}if(f.length && void 0 !== k){for(n=this.oN(f[0]);0 < k && n < k && this.Cd[k].empty;){--k;}for(;f.length && n === k;){this.Cd[k].push(f.shift());if(!f.length)break;n=this.oN(f[0]);}for(;f.length && ++k < this.Cd.length && this.Cd[k].empty;){for(;f.length && n === k;){this.Cd[k].push(f.shift());if(!f.length)break;n=this.oN(f[0]);}}f.length && (d=this.Cd[k]).splice.apply(d,c.__spreadArray([0,0],c.__read(f),!1));}this.uA();return h;};l.prototype.find=function(g){var m,d;m=this;return this.Cd.some(function(f,h){d=f.find(m.jE(g,h));return void 0 !== d;})?d:void 0;};l.prototype.findIndex=function(g){var d;for(var m=0;m < this.Cd.length;++m){d=this.Cd[m].findIndex(this.jE(g,m));if(-1 !== d)return d + this.ej[m];}return -1;};l.prototype.indexOf=function(g){var d;for(var m=0;m < this.Cd.length;++m){d=this.Cd[m].indexOf(g);if(-1 !== d)return d + this.ej[m];}return -1;};l.prototype.map=function(g){var m,d;m=this;d=this.Cd.map(function(f,h){return f.map(m.jE(g,h));});return Array.prototype.concat.apply([],d);};l.prototype.reduce=function(g,m){var d;d=this;return this.Cd.reduce(function(f,h,k){return h.reduce(d.hFb(g,k),f);},m);};l.prototype.forEach=function(g){var m;m=this;this.Cd.forEach(function(d,f){d.forEach(m.jE(g,f));});};l.prototype.O$=function(g){for(var m=this.Cd.length - 1;0 <= m;--m){this.Cd[m].O$(this.jE(g,m));}};l.prototype.some=function(g){var m;m=this;return this.Cd.some(function(d,f){return d.some(m.jE(g,f));});};l.prototype.bFa=function(g){for(var m=this.Cd.length - 1;0 <= m;--m){if(this.Cd[m].bFa(this.jE(g,m)))return !0;}return !1;};l.prototype.every=function(g){var m;m=this;return this.Cd.every(function(d,f){return d.every(m.jE(g,f));});};l.prototype.PUb=function(g,m){var n,p;function d(q){return q.reduce(function(v,t,w,u){return void 0 === t?v:void 0 === v?w:0 > g(t,u[v])?w:v;},void 0);}for(var f=this,h=this.Cd.map(function(){return 0;}),k=this.Cd.filter(function(q){return q.empty;}).length;k < this.Cd.length;){n=h.map(function(q,v){return q < f.Cd[v].length?f.Cd[v].get(q):void 0;});p=d(n);m(n[p],this.ej[p] + h[p],this);++h[p];h[p] === this.Cd[p].length && ++k;}};l.prototype.move=function(g){return this.remove(g)?(this.pp(g),!0):!1;};l.prototype.ggc=function(){var g;if(this.Cd[1].length){g=this.Cd[1].shift();this.Cd[0].push(g);this.uA();}};l.prototype.a7a=function(g){for(var m=-1,d=0;d < this.Cd.length;++d){if((m=g(this.Cd[d]),-1 !== m)){m+=this.ej[d];break;}}return m;};l.prototype.toJSON=function(){return this.map(function(g){return g.toJSON();});};l.prototype.uA=function(){var m;this.Zf=0;this.ej=[0];this.kN=this.Jh=void 0;for(var g=0;g < this.Cd.length;++g){m=this.Cd[g];this.Zf+=m.length;this.ej.push(this.ej[this.ej.length - 1] + m.length);!this.Jh && m.length && (this.Jh=m);m.length && (this.kN=m);}};l.prototype.jE=function(g,m){var d,f;d=this;f=this.ej[m];return function(h,k){return g(h,f + k,d);};};l.prototype.hFb=function(g,m){var d,f;d=this;f=this.ej[m];return function(h,k,n){return g(h,k,f + n,d);};};return l;})();b.OJa=r;},function(r,b,a){var c,l,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.c3=void 0;c=a(0);l=a(2);r=a(35);g=a(265);a=a(78);m=(function(){function d(f,h){this.$a=[];this.ph=void 0;this.kd=0;this.H=f;h && h.length && (Array.isArray(h)?(this.$a=h.slice(),this.NU(0,this.$a.length)):h instanceof d && (this.$a=h.$a.slice(),this.NU(0,this.$a.length)));}Object.defineProperties(d.prototype,{length:{get:function(){return this.$a.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{empty:{get:function(){return 0 === this.$a.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{first:{get:function(){return this.$a[0];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{eh:{get:function(){return this.$a[this.$a.length - 1];},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{bb:{get:function(){return this.first && this.first.bb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{sb:{get:function(){return this.eh && this.eh.sb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{xt:{get:function(){return this.ph;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ga:{get:function(){return this.kd;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{W:{get:function(){return this.first && this.first.W;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Tj:{get:function(){return this.first && this.first.Tj;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ma:{get:function(){return this.$a;},enumerable:!1,configurable:!0}});d.prototype.dkc=function(f){this.kd+=f;};d.prototype.ZHb=function(){var f;if(0 === this.$a.length)((0,l.assert)(void 0 === this.ph),(0,l.assert)(0 === this.kd));else {(0,l.assert)(this.ph instanceof g.jD);(0,l.assert)("number" === typeof this.kd);(0,l.assert)(void 0 !== this.xt && this.xt.bb === this.bb);f=this.$a.reduce(function(h,k,n){return 0 === n || k.bb === h?k.sb:h;},0);(0,l.assert)(this.xt.sb === f);(0,l.assert)(this.$a.reduce(function(h,k,n){return 0 === n || k.bb === h?k.sb:h;},0) === this.xt.sb);(0,l.assert)(this.$a.reduce(function(h,k){return h + k.ga;},0) === this.kd);}};d.prototype.get=function(f){0 > f && (f+=this.$a.length);return this.$a[f];};d.prototype.push=function(f){this.$a.push(f);this.NU(this.$a.length - 1);return this.length;};d.prototype.unshift=function(f){this.$a.unshift(f);this.NU(0,1);return this.length;};d.prototype.pop=function(){if(0 !== this.$a.length)return (this.ioa(this.$a.length - 1),this.$a.pop());};d.prototype.shift=function(){if(0 !== this.$a.length)return (this.ioa(0),this.$a.shift());};d.prototype.splice=function(f,h){for(var k,n=[],p=2;p < arguments.length;p++){n[p - 2]=arguments[p];}0 > f && (f+=this.$a.length);0 > f && (f=0);f > this.$a.length && (f=this.$a.length);if(void 0 === h || 0 > h)h=0;h=Math.min(h,this.$a.length - f);0 < h && this.ioa(f,f + h);p=(k=this.$a).splice.apply(k,c.__spreadArray([f,h],c.__read(n),!1));0 < n.length && this.NU(f,f + arguments.length - 2);return p;};d.prototype.slice=function(f,h){void 0 === f && (f=0);void 0 === h && (h=this.$a.length);0 > f && (f+=this.$a.length);if(f >= this.$a.length)return new d(this.H);h > this.$a.length && (h=this.$a.length);0 > h && (h+=this.$a.length);return new d(this.H,this.$a.slice(f,h));};d.prototype.pp=function(f){if(0 === this.$a.length || f.bb >= this.sb)this.push(f);else if(f.sb <= this.bb)this.unshift(f);else {for(var h=0,k=this.$a.length - 1,n;h < k - 1;){n=Math.floor((k + h) / 2);(0,l.assert)(n !== k && n !== h);f.bb >= this.$a[n].sb?h=n:k=n;}(0,l.assert)(h !== k);(0,l.assert)(this.$a[h].sb <= f.bb && this.$a[k].bb >= f.sb);this.splice(k,0,f);}};d.prototype.remove=function(f){f=this.$a.indexOf(f);if(0 > f)return !1;this.splice(f,1);return !0;};d.prototype.concat=function(){for(var f=[],h=0;h < arguments.length;h++){f[h]=arguments[h];}f=f.map(function(k){return k.$a;});return new d(this.H,Array.prototype.concat.apply(this.$a,f));};d.prototype.forEach=function(f){var h;h=this;this.$a.forEach(function(k,n){return f(k,n,h);});};d.prototype.some=function(f){var h;h=this;return this.$a.some(function(k,n){return f(k,n,h);});};d.prototype.every=function(f){var h;h=this;return this.$a.every(function(k,n){return f(k,n,h);});};d.prototype.map=function(f){var h;h=this;return this.$a.map(function(k,n){return f(k,n,h);});};d.prototype.reduce=function(f,h){var k;k=this;return this.$a.reduce(function(n,p,q){return f(n,p,q,k);},h);};d.prototype.indexOf=function(f){return this.$a.indexOf(f);};d.prototype.find=function(f){var h,k;h=this;return this.$a.some(function(n,p){k=p;return f(n,p,h);})?this.$a[k]:void 0;};d.prototype.findIndex=function(f){var h,k;h=this;return this.$a.some(function(n,p){k=p;return f(n,p,h);})?k:-1;};d.prototype.filter=function(f){var h;h=this;return new d(this.H,this.$a.filter(function(k,n){return f(k,n,h);}));};d.prototype.O$=function(f){for(var h=this.$a.length - 1;0 <= h;--h){f(this.$a[h],h,this);}};d.prototype.bFa=function(f){for(var h=this.$a.length - 1;0 <= h;--h){if(f(this.$a[h],h,this))return !0;}return !1;};d.prototype.Qta=function(f){if(this.empty || f < this.Td || f >= this.Nc)return -1;for(var h=0,k=this.$a.length - 1,n;k > h;){n=Math.floor((k + h) / 2);if(f >= this.$a[n].Td && f < this.$a[n].Nc){k=n;break;}f < this.$a[n].Nc?k=n - 1:h=n + 1;}return k;};d.prototype.xP=function(f){if(this.empty || f < this.Bd || f >= this.Xf)return -1;for(var h=0,k=this.$a.length - 1,n;k > h;){n=Math.floor((k + h) / 2);if(f >= this.$a[n].Bd && f < this.$a[n].Xf){k=n;break;}f < this.$a[n].Xf?k=n - 1:h=n + 1;}return k;};d.prototype.$6a=function(f){f=this.xP(f);return 0 <= f?this.$a[f]:void 0;};d.prototype.K7=function(f){var h;h=this.$a[f].sb;for(f+=1;f < this.$a.length && h === this.$a[f].bb;++f){h=this.$a[f].sb;}f < this.$a.length?void 0 === this.ph?this.ph=new g.jD(this,{sb:h}):this.ph.r1(h):void 0 === this.ph?this.ph=new g.jD(this,{}):this.ph.ira();};d.prototype.dN=function(f,h){for(var k=f;k < h;++k){this.kd+=this.$a[k].ga;}void 0 === this.ph || 0 === f?this.K7(0):this.ph.sb === this.sb?this.K7(f - 1):this.$a[f].bb === this.ph.sb && this.K7(f);};d.prototype.BA=function(f,h){var k;if(0 === f)(this.ph=void 0,h < this.length && this.K7(h));else {k=this.ph;k.sb > this.$a[f - 1].sb && (h < this.length?k.r1(this.$a[f - 1].sb):k.ira());}for(;f < h;++f){this.kd-=this.$a[f].ga;}};d.prototype.NU=function(f,h){void 0 === h && (h=f + 1);this.dN(f,h);};d.prototype.ioa=function(f,h){void 0 === h && (h=f + 1);this.BA(f,h);};return d;})();b.c3=m;(0,r.cf)(a.Pu,m);(0,r.cf)(a.Bz,m);},function(r,b,a){var c,l,g,m,d,f,h,k,n;Object.defineProperties(b,{__esModule:{value:!0}});b.iIa=void 0;c=a(0);c.__importDefault(a(3));l=a(6);g=a(8);m=a(2);d=a(190);f=a(77);h=a(267);k=a(106);(function(p){p[p.INIT=0]="INIT";p[p.m5=1]="READY";p[p.DONE=2]="DONE";})(n || (n={}));r=(function(p){function q(v,t,w,u,x,y,z,B){x=p.call(this,v,u,x,t,y) || this;x.NAb=0;x.SZa=0;x.YV=n.INIT;x.Sma=w;x.Xrc=u.offset;x.IN=f.Gl.prototype.toString.call(x) + " multiple";x.uBb=("AseMultiFragmentMediaRequest(").concat(x.Td,"-").concat(x.Nc,")");x.up=u.up;t=t.T3b;x.g7=t;x.pv(x.IN,u.offset,t,1,x.Sma,x.Tc);z && B && v.mediaType === l.u.J?(x.TZa=z.Pc[0],x.Aoa=B.track,x.pv("TEXT",0,40,0,x.Aoa,x.TZa)):x.YV=n.DONE;return x;}c.__extends(q,p);Object.defineProperties(q.prototype,{ga:{get:function(){return this.g7;},enumerable:!1,configurable:!0}});q.prototype.pC=function(v){var t,w;if(0 === v.offset){t=this.Szb(v);if(void 0 === t)1 > this.NAb++?(this.ss(v),v.abort(),this.pv(this.IN,0,v.ga,v.responseType,v.mediaType === l.u.Za?this.Aoa:this.Sma,v.stream)):this.H.error("Missing content-range from url: " + v.url);else {w=t - (v.offset + v.ga);v.mediaType === l.u.Za && (this.SZa=t);0 < w && (v.mediaType === l.u.Za?this.pv(this.IN,v.offset + v.ga,w,0,this.Aoa,this.TZa):(this.pv(this.IN,v.offset + v.ga,w,1,this.Sma,this.Tc),w=this.g7,this.g7=t,d.Uw.prototype.KK.call(this,this,this.g7,w)));}}d.Uw.prototype.pC.call(this,v);};q.prototype.nl=function(v){0 === v.responseType && ((0,m.assert)(v.mediaType === l.u.Za),this.lBb(v),v.FR());d.Uw.prototype.nl.call(this,v);};q.prototype.Mm=function(){return this.Nm?!this.de && !!this.Ma.length && this.Ma.every(function(v){return v.Mm();}):p.prototype.Mm.call(this);};q.prototype.OA=function(v,t,w){var u;if(this.de)return {status:k.Gh.Js};if(!this.Mm())return {status:k.Gh.Bg};this.WV && this.YV === n.m5 && (this.oma(v),this.YV=n.DONE);u=k.Gh.wQa;(this.de=this.Ma.every(function(x){if(1 !== x.responseType || x.de)return !0;if(!x.Mm())return !1;u=x.OA(v,t,w,(0,g.zy)(x)).status;return u === k.Gh.Js;}) && this.YV === n.DONE) || (u=k.Gh.Bka);return {status:u};};q.prototype.pv=function(v,t,w,u,x,y){v=new h.jT(y,x,v + " (" + this.Ma.length + ")",{L:this.L,mediaType:y.mediaType,Sa:y.id,bitrate:this.bitrate,offset:t,ga:w,location:this.location,$c:this.$c,responseType:u,up:this.up},this,this.Le,this.H);this.push(v);};q.prototype.lBb=function(v){v.mediaType === l.u.Za && (v=v.response,this.WV=this.WV?(0,g.iB)(this.WV,v):v,this.WV.byteLength === this.SZa && (this.YV=n.m5));};q.prototype.oma=function(v){var w,u;function t(){return v.sourceBuffers.some(function(x){if(x.mediaType === l.u.Za)return (x.Vfa(w.Bd,1E3),x.appendBuffer(w.WV),!0);});}w=this;u=t();u || (v.addSourceBuffer(l.u.Za),u=t());};q.prototype.Szb=function(v){var t;if(v=v.getResponseHeader("content-range",!1)){t=v.indexOf("/");(0,m.assert)(-1 !== t,"unable to parse content-range: " + v);t=v.slice(t + 1);t=parseInt(t);(0,m.assert)(0 < t,"unable to parse content-range: " + v);return t;}};return q;})(d.Uw);b.iIa=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.bVa=void 0;c=a(438);l=a(6);g=a(20);r=(function(){function m(d,f){this.Th=d;this.console=f;this.bI=Infinity;this.WU=this.h7=0;this.ZZa=!1;}m.prototype.edc=function(){this.ZZa=!0;};m.prototype.kUb=function(d,f,h,k,n){var p;if(this.Th){p=d.ma;if(p){if(h === l.u.J)(h=p.ip(Math.ceil(this.Th * d.da.xC),void 0,!0),p=d.Xl(h),d=p.Ct.kk(d.da),p.sj({start:0,end:this.Th - h * d}),this.bI=this.Th);else {void 0 !== k.ymb?(f=k.ymb,h=f * d.da.Z):(h=(0,c.xva)(k,n) + Math.ceil(k.THb * d.da.xC),g.N.Na(h).kk(d.da),h=f + h,f=Math.ceil(h / d.da.xC));h=p.ip(h,void 0,!0);for(n=k=0;n < h;++n){p=d.Xl(n);k+=p.Ct.kk(d.da);}k=f - k;p=d.Xl(h);p.sj({end:k});this.bI=f;}p.Xdb();return p;}}};m.prototype.M0b=function(d){this.WU+=d.bkb;this.console.warn(("StallAtFrameCount, adding frames: ").concat(d.bkb),("total frames: ").concat(this.WU),("needed frames: ").concat(this.bI));};m.prototype.t_b=function(){this.console.trace("stallAtFrameCount.hasEnoughRequestedFrames:",("requested: ").concat(this.h7),("needed: ").concat(this.bI));return this.h7 >= this.bI;};m.prototype.s_b=function(){return this.WU >= this.bI;};m.prototype.O0b=function(d,f){this.h7+=this.my(d,f);};m.prototype.KSb=function(d,f,h){d.bkb=this.my(f,h);};m.prototype.my=function(d,f){return d.Ct.kk(f.da);};m.prototype.aB=function(){if(!this.s_b())return !1;if(this.ZZa)return (this.console.warn("StallAtFrameCount underflow reported, bufferingComplete = false"),!1);this.console.warn("StallAtFrameCount bufferingComplete = true:",("").concat(this.WU," >= ").concat(this.bI));return !0;};return m;})();b.bVa=r;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v;Object.defineProperties(b,{__esModule:{value:!0}});b.Ola=void 0;r=a(0);c=r.__importStar(a(11));l=r.__importDefault(a(29));g=r.__importDefault(a(3));m=a(21);d=a(6);f=a(269);h=a(1035);k=new g.default.Console("ASEJS_STREAM_SELECTOR","media|asejs");n=[d.La[d.La.Yh],d.La[d.La.Yd],d.La[d.La.Vg],d.La[d.La.Xc],d.La[d.La.aj],"checkBuffering"];p=a(1037);q={first:function(){return a(1038);},random:function(){return a(1039);},optimized:function(){return a(193).default;},roundrobin:function(){return a(1043);},selectaudio:function(){return a(446);},selectaudioadaptive:function(){return a(1044);},"default":function(){return a(193).default;},lowest:function(){return a(1045);},highest:function(){return a(1046);},throughputthreshold:function(){return a(1047);},replay:function(){return a(1048).default;},checkdefault:function(){return a(1050);},livesimple:function(){return a(1051).default;},testscript:function(){return p;}};v={STARTING:"default",BUFFERING:"default",REBUFFERING:"default",PLAYING:"default",PAUSED:"default",checkBuffering:"checkdefault"};r=(function(){var f46;f46=2;function t(w,u,x,y){var v4Y,z;v4Y=2;for(;v4Y !== 6;){switch(v4Y){case 2:z=this;v4Y=1;break;case 1:this.j1=w;this.K=u;this.De=x;v4Y=3;break;case 3:var M8x="1SI";M8x+="Yb";M8x+="ZrNJCp";M8x+="9";M8x;w=w || this.K.rFa;this.Zh=n.reduce(function(B,A){var I29,C;I29=2;for(;I29 !== 4;){switch(I29){case 2:C=(q[w] || q[v[A]])()[A] || q[v[A]]()[A];B[A]=C.bind(z);return B;break;}}},{});y && (this.$gb=new h.rRa(u));v4Y=6;break;}}}for(;f46 !== 6;){switch(f46){case 8:Object.defineProperties(t.prototype,{yya:{get:function(){var K7c;K7c=2;for(;K7c !== 1;){switch(K7c){case 2:return this.Ina;break;case 4:return this.Ina;break;}}},enumerable:!1,configurable:!0}});return t;break;case 2:t.prototype.eEa=function(w,u,x,y,z,B,A){var J6z=R7xOY;var J8S,n4j,C,D,E,G,F,L,O,K,I,M,J,N,H,U,V,S,P,W;J8S=2;for(;J8S !== 70;){switch(J8S){case 11:u.w7a(function(fa,qa){var N_y,za;N_y=2;for(;N_y !== 4;){switch(N_y){case 2:za=(0,m.ht)(fa,function(Aa){var l_p;l_p=2;for(;l_p !== 1;){switch(l_p){case 4:return Aa.bitrate <= W;break;case 2:return Aa.bitrate > W;break;}}});fa=0 < za?za - 1:0 === za?0:fa.length - 1;0 === qa && (I=fa);N_y=4;break;}}});J8S=10;break;case 31:J8S=!x?30:43;break;case 74:J8S=n4j === d.La.Xc?27:73;break;case 42:J8S=!V || null === V.Ce?41:40;break;case 60:V.A1a=F.Rg;V.G$b=null !== (G=null === (E=null === (D=g.default.uuc) || void 0 === D?void 0:D.call(g.default)) || void 0 === E?void 0:E[w.mediaType === d.u.J?1:0]) && void 0 !== G?G:-1;V.Bj=w && w.Bj;J8S=57;break;case 34:J8S=y < K.length?33:31;break;case 76:this.De.wlb(l.default.p4.Yh);J8S=27;break;case 77:J8S=n4j === d.La.Yd?76:75;break;case 17:n4j=w.state;J8S=n4j === d.La.Yh?16:77;break;case 4:J8S=c.wa(I) && w.state === d.La.Xc && (M=!0,void 0 !== this.De.kl)?3:8;break;case 55:return V;break;case 15:this.De.wlb(l.default.p4.Yh);J8S=27;break;case 46:V.dac=U;J8S=45;break;case 9:u.w7a(function(fa,qa){var F3x,za;F3x=2;for(;F3x !== 3;){switch(F3x){case 2:za=(0,m.ht)(fa,function(Aa){var g$2;g$2=2;for(;g$2 !== 1;){switch(g$2){case 2:return Aa.bitrate > H;break;}}});fa=0 < za?za - 1:0 === za?0:fa.length - 1;u.Ckc(qa,fa);0 === qa && (I=fa,C.De.t1(I));F3x=3;break;}}});J8S=8;break;case 35:J6z.f4w(12);var X18=J6z.a2W(17,0,18);y=V.Ce + X18;J8S=34;break;case 2:(C=this,F=null === w || void 0 === w?void 0:w.buffer,L=g.default.time.fa(),O=this.K,K=u.first,I=this.De.Ocb,M=!1);c.Qa(I) && w.state === d.La.Yh && (this.De.t1(void 0),I=void 0);c.Qa(I) && I >= K.length && (this.De.t1(void 0),I=void 0);J8S=4;break;case 41:return null;break;case 29:J8S=0 <= y?28:43;break;case 56:V.HG=g.default.time.fa();J8S=55;break;case 8:(J=F.ma,N=J.length);J8S=7;break;case 3:H=this.De.kl.bitrate;J8S=9;break;case 28:M=K[y];J8S=44;break;case 75:J8S=n4j === d.La.Vg?76:74;break;case 49:J8S=S && B && 0 < B.length?48:45;break;case 48:U=[];B.forEach(function(fa){var n$y,qa;n$y=2;for(;n$y !== 4;){switch(n$y){case 2:qa=fa.stat;qa=(fa=S[fa.filter]) && fa[qa];U.push(isNaN(qa)?-1:qa);n$y=4;break;}}});J8S=46;break;case 52:J8S=w.fP?51:55;break;case 18:w.state !== d.La.Yh && void 0 === I && (w.state=d.La.Yh);J8S=17;break;case 25:J8S=V.Sh && (V.tB=[],K.forEach(function(fa,qa){var S_T;S_T=2;for(;S_T !== 5;){switch(S_T){case 2:fa === V.Sh?V.Ce=qa:(O.QRb && (!fa.ma || !fa.ma.length) || fa.sFa) && V.tB.push(fa.Sa);fa.sFa=!1;S_T=5;break;}}}),!V.tB.length)?24:42;break;case 16:this.Ina=this.Dna=void 0;J8S=15;break;case 45:V.Ec=F.Ec;B=w && w.ze;z=x.ma;V.$k=z && void 0 !== B && !isNaN(B) && 0 <= B && B < z.length?z.Al(B):F.Ec;V.J7b=S && S.Ya && S.Ya.xa || 0;V.oqa=F.ik - F.Oc;J8S=60;break;case 13:J8S=!(0 <= I)?12:10;break;case 72:J8S=71;break;case 27:V=this.Zh[d.La[w.state]].call(this,O,w,u,I,y,!!z,M,x);J8S=26;break;case 32:M.ma && M.ma.length || (x=!0,V.tB.push(M.Sa));J8S=31;break;case 40:var S5S="p";S5S+="lay";S5S+="in";S5S+="g";var b2s="min_fragme";b2s+="nt";b2s+="_vmaf";void 0 === V.j6b?this.De.t1(V.Ce):this.De.t1(V.j6b);x=K[V.Ce];V.t0=x.Ya || 0;V.reason && (x.tu=V.reason,b2s !== V.reason && (x.dEa=V.$v,x.PB=V.PB,x.Cq=V.Cq,x.Dq=V.Dq));this.$gb && (V.Ny=this.$gb.nYb({zE:F.ik - F.Oc,RIb:F.Rg || 0,QIb:F.st || 0,Oc:F.Oc,C4b:K[0],Sh:x,Qkc:K[V.Ce + 1] || x,gjc:K[K.length - 1],qf:w.state,playbackRate:w.playbackRate,ze:w.ze,W$:A,mj:z}));c.Qa(I) && x.bitrate < K[I].bitrate && (this.Dna=F.Ec);w.state !== d.La.Xc && w.state !== d.La.aj?(z=(0,f.vea)(w.state),B=this.aB(w.buffer,z,w.playbackRate,x,B),(V.Jg=B.complete)?V.N8=B.reason:(V.Jg=!1,V.tG=B.tG,V.NF=B.NF,V.progress=B.progress)):(V.Jg=!0,V.N8=S5S);J8S=52;break;case 51:S=x.Nb;B=O.uZa;J8S=49;break;case 24:y=F.ik - F.Oc;M=void 0;x=!1;J8S=21;break;case 43:x || (V.tB=void 0);J8S=42;break;case 73:J8S=n4j === d.La.aj?27:72;break;case 6:P=J[N - 1].Sa;I=(0,m.ht)(K,function(fa){var u$g;u$g=2;for(;u$g !== 1;){switch(u$g){case 2:return fa.Sa === P;break;}}});J8S=13;break;case 26:V.qf=w.state;J8S=25;break;case 57:V.Du=L;J8S=56;break;case 10:c.wa(I) && (I=this.De.Ocb);void 0 !== y && this.$Ba(K,!!w.Vt,w.state,w.buffer,y);w.state === d.La.Yh && c.Qa(I) && (w.state=d.La.Yd);J8S=18;break;case 71:var g8q="Str";g8q+="eam selector ca";g8q+="lled with invalid player stat";g8q+="e ";return (k.error(g8q + d.La[w.state]),null);break;case 12:W=J[N - 1].bitrate;J8S=11;break;case 21:J8S=O.pmb && y > O.w_?35:43;break;case 7:J8S=0 < N?6:10;break;case 33:M=K[y];J8S=32;break;case 30:J6z.x9d(13);var w7D=J6z.L7v(3,9,9,7);y=V.Ce - w7D;J8S=29;break;case 44:M.ma && M.ma.length || (x=!0,V.tB.push(M.Sa));J8S=43;break;}}};t.prototype.aB=function(w,u,x,y,z){var C5t;C5t=2;for(;C5t !== 1;){switch(C5t){case 2:return this.Zh.checkBuffering.call(this,w,u,x,y,z,this.K);break;}}};t.prototype.Ahc=function(w,u,x){var G93;G93=2;for(;G93 !== 1;){switch(G93){case 2:c.wa(u)?this.Dna=this.Ina=void 0:u.bitrate < x.bitrate && (this.Ina=w);G93=1;break;}}};t.prototype.$Ba=function(w,u,x,y,z){var J61,B,A;J61=2;for(;J61 !== 5;){switch(J61){case 2:this.O$(w,function(C){var G0S;G0S=2;for(;G0S !== 1;){switch(G0S){case 2:C.gw && C.Nb && C.Nb.confidence?(B !== C.Nb && (B=C.Nb,u && C.Nb && (C.Nb.Vt=!0),A=z(C.Nb,y,x,C.track.O.$t[d.u.T])),C.Ya=Math.floor(A.lower) || 1,C.Mic=Math.floor(A.upper || 1) || 1):C.Ya=void 0;G0S=1;break;}}});J61=5;break;}}};t.prototype.O$=function(w,u){var o$Z=R7xOY;var x$8,x;x$8=2;for(;x$8 !== 3;){switch(x$8){case 6:u(w[x],x,w);x$8=7;break;case 14:++x;x$8=5;break;case 1:x$8=0 <= x?5:3;break;case 4:--x;x$8=1;break;case 8:o$Z.f4w(14);var W$Y=o$Z.L7v(14,5,13);x=w.length + W$Y;x$8=3;break;case 2:o$Z.f4w(15);var u_d=o$Z.a2W(14,7,12739,13,10);x=w.length - u_d;x$8=1;break;case 5:u(w[x],x,w);x$8=4;break;}}};Object.defineProperties(t.prototype,{qQ:{get:function(){var g4S;g4S=2;for(;g4S !== 1;){switch(g4S){case 2:return this.Dna;break;case 4:return this.Dna;break;}}},enumerable:!1,configurable:!0}});f46=8;break;}}})();b.Ola=r;},function(r,b,a){var v,t,w;function c(u){return h(u.Sh);}function l(u,x){var y,z;y=u.ric;y=p(x) + y * q(x);x=x.Ya || 0;z=0;0 < x && (z=y / x - 1);return u.n6b + u.qic * Math.max(0,z);}function g(u,x){var y,z,B,A;if(!x || "object" !== typeof x)return 0;y=u.Sh;z=u.Qkc;B=u.gjc;A={selectedFragmentBitrate:f(u.W$,y,u.ze) * u.playbackRate,selectedPeakBitrate:(y.Ey || k(y) || 0) * u.playbackRate,upswitchPeakBitrate:(z.Ey || k(z) || 0) * u.playbackRate,maxPeakBitrate:(B.Ey || k(B) || 0) * u.playbackRate,selectedAverageBitrate:k(y) * u.playbackRate,upswitchAverageBitrate:k(z) * u.playbackRate,maxAverageBitrate:h(y) * u.playbackRate,bufferLevelMs:u.zE,observedThroughput:n(u.Sh) || 0,averagetp:p(u.Sh) || 0,stddevtp:q(u.Sh) || 0};u=x.offset || 0;return Object.keys(A).reduce(function(C,D){return C + (x[D] || 0) * A[D];},u);}function m(u,x,y){var B;function z(A,C){return void 0 !== A && 0 < A.filter(function(D){return D === C;}).length;}B=u.filter(function(A){return z(A.wea,x);});0 === B.length && (B=u.filter(function(A){return !A.wea || 0 === A.wea.length;}));u=B.filter(function(A){return z(A.Bfb,y);});0 === u.length && (u=B.filter(function(A){return !A.Bfb || 0 === A.Bfb.length;}));return u.sort(function(A,C){return A.O8 - C.O8;});}function d(u,x){var y,A,C;y=m(x.ycc,u.qf,u.Sh.Nb.confidence);if(0 === y.length)return 0;a:switch(x.s9b){case "implicit":x=l(x,u.Sh);x=u.zE / x;break a;case "capacityPercentage":x=Math.max(u.RIb / u.QIb || 0,u.zE / x.jw);break a;default:x=0;}for(var z=-1,B=0;B < y.length;B++){if(y[B].O8 >= x){z=B;break;}}if(-1 === z)return g(u,y[y.length - 1].rra);if(0 === z)return g(u,y[0].rra);A=y[z - 1].O8;B=g(u,y[z - 1].rra);C=y[z].O8;u=g(u,y[z].rra);y=Math.min((x - A) / (C - A),1);return (1 - y) * B + y * u;}function f(u,x,y){var z;return void 0 !== y && x.ma?(void 0 === u?null === (z=x.ma) || void 0 === z?void 0:z.get(y).aqa:u.X8a(x,y).aqa) || x.Ey || 0:x.Ey || 0;}function h(u){var x,y;y=null === (x=null === u || void 0 === u?void 0:u.O) || void 0 === x?void 0:x.$t;return y?y[u.mediaType] || 0:0;}function k(u){return (null === u || void 0 === u?void 0:u.bitrate) || 0;}function n(u){var x;u=u.Nb;return (null === (x=null === u || void 0 === u?void 0:u.Ya) || void 0 === x?void 0:x.xa) || 0;}function p(u){var x;u=u.Nb;return (null === (x=null === u || void 0 === u?void 0:u.Zo) || void 0 === x?void 0:x.vO) || 0;}function q(u){var x;u=u.Nb;return Math.sqrt(null === (x=null === u || void 0 === u?void 0:u.Zo) || void 0 === x?void 0:x.QS) || 0;}Object.defineProperties(b,{__esModule:{value:!0}});b.hYb=b.uWb=b.oXb=b.rRa=void 0;r=a(0).__importDefault(a(3));v=a(6);t=a(1036);new r.default.Console("ASEJS_PACERATE_SELECTOR","media|asejs");w={maxStreamBitrate:c,"static":function(u,x){return x.Kmb;},none:function(){return 0;},regression:d,epsGreedy:function(u,x){return Math.min(d(u,x) || 0,n(u.Sh));},"default":c};a=(function(){var i9r;i9r=2;function u(x){var j6q;j6q=2;for(;j6q !== 4;){switch(j6q){case 2:var P5G="def";P5G+="au";P5G+="lt";var e5l="1S";e5l+="I";e5l+="Y";e5l+="bZ";e5l+="rNJCp9";this.K=x;e5l;this.algorithm=(w[this.K.p9b] || w[P5G]).bind(this);j6q=4;break;}}}for(;i9r !== 3;){switch(i9r){case 2:u.prototype.mYb=function(x){var g3w,y,z;g3w=2;for(;g3w !== 9;){switch(g3w){case 4:var X8G="s";X8G+="tat";X8G+="ic";y=X8G === this.K.q9b?this.K.Kmb:h(x.Sh);g3w=3;break;case 5:g3w=z === v.u.T && this.K.f$ && this.K.URb || z === v.u.J && this.K.g$ && this.K.VRb?4:3;break;case 3:return y;break;case 2:z=null === (y=x.Sh) || void 0 === y?void 0:y.mediaType;y=0;g3w=5;break;}}};u.prototype.Wua=function(x,y,z){var p5m,B;p5m=2;for(;p5m !== 8;){switch(p5m){case 4:R7xOY.x9d(16);y=Math.ceil(R7xOY.a2W(y,z));x=(this.K.G2a.mvc || 0) * ((null === (B=x.C4b) || void 0 === B?void 0:B.Ey) || 0);return y < x?0:y;break;case 5:return 0;break;case 1:p5m=!z?5:4;break;case 2:p5m=1;break;}}};u.prototype.nYb=function(x){var D_u,y,z,B;D_u=2;for(;D_u !== 6;){switch(D_u){case 2:(y=new t.Lka({PC:0,jB:0,DC:0}),z=this.K.G2a);D_u=1;break;case 1:D_u=!z?5:4;break;case 3:D_u=B && x.ze && 0 === x.ze % B || x.zE < z.SF?9:8;break;case 9:return y;break;case 5:return y;break;case 4:B=this.K.Ujc;D_u=3;break;case 8:y=x.mj?this.algorithm(x,this.K):this.mYb(x);return new t.Lka({PC:this.Wua(x,y,z.Tib[0]),DC:this.Wua(x,y,z.Tib[2]),jB:this.Wua(x,y,z.Tib[1])});break;}}};return u;break;}}})();b.rRa=a;b.oXb=l;b.uWb=m;b.hYb=n;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Lka=void 0;c=a(0);r=(function(){function l(g){this.PC=g.PC;this.jB=g.jB;this.DC=g.DC;}Object.defineProperties(l.prototype,{Uib:{get:function(){return [this.PC,this.jB,this.DC];},enumerable:!1,configurable:!0}});l.prototype.cfb=function(){return Math.min(this.PC,this.jB,this.DC);};l.prototype.Uba=function(){return this.Uib.some(function(g){return 0 < g;});};l.prototype.LDa=function(g){return new l({PC:g * this.PC,jB:g * this.jB,DC:g * this.DC});};l.prototype.uza=function(g,m,d,f){var h;h=8 * g / Math.max(d - m,1);if(!this.Uba())return !1;g=this.Uib.map(function(k){return Math.abs(h - k) / k;});return Math.min.apply(Math,c.__spreadArray([],c.__read(g),!1)) < f;};return l;})();b.Lka=r;},function(r,b,a){var l,g,m,d,f,h;function c(k,n,p){var q;q=p.first;f=q;h=q.map(function(v,t){return t;});if(null === d)return (k=g(q),d=q[k].bitrate,new m(k));if(!q.length)return null;k=h.filter(function(v){return q[v].bitrate == d;})[0];return void 0 === k?(l.log("Defaulting to first stream due to unvalid bitrate requested: " + d),new m(h[0])):new m(k);}b=a(32);a=a(3).default;l=b.console;g=b.$ta;m=b.Qp;d=null;f=null;h=null;a.eKb && (a.eKb.Wj={oa:function(){h=f=d=null;},eEa:function(k){d=k;},xuc:function(){return {all:f,qpb:h};}});r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var l,g,m,d;function c(f,h,k,n){f=k.first;if(l.wa(n))n=g(f);else if(!m(f[n]) && (n=g(f,n),0 > n))return null;return new d(n);}l=a(11);b=a(32);g=b.$ta;m=b.gK;d=b.Qp;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var l;function c(g,m,d){g=d.first.map(function(f,h){return f.gw?h:null;}).filter(function(f){return null !== f;});return g.length?new l(g[Math.floor(Math.random() * g.length)]):null;}l=a(32).Qp;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var c,l,g,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.Ifa=void 0;r=a(0);c=r.__importStar(a(11));l=a(21);r=r.__importDefault(a(32));g=a(445);m=r.default.assert;d=r.default.Qp;b.Ifa=f;(function(){var e1d;e1d=2;for(;e1d !== 5;){switch(e1d){case 2:var n5E="1SIY";n5E+="bZr";n5E+="NJC";n5E+="p9";b.Ifa=f=function(k,n,p,q,v,t,w){var F$p;F$p=2;for(;F$p !== 1;){switch(F$p){case 2:var L57="pl";L57+="a";L57+="yi";L57+="n";L57+="g";return L57 === k.mqa?g.mo.call(this,k,n,p,q,v,t,w):h.call(this,k,n,p,q);break;}}};n5E;e1d=5;break;}}function h(k,n,p,q){function v(z){var M4P,B;M4P=2;for(;M4P !== 8;){switch(M4P){case 2:B=z.Ya;M4P=1;break;case 1:M4P=!B || (z.bitrate > u?k.Pkc:1) * z.bitrate * n.playbackRate > B?5:4;break;case 5:return !1;break;case 4:var X3e="bu";X3e+="ff_lt";X3e+="_";X3e+="h";X3e+="ist";x=X3e;y=B;return !0;break;}}}var Y1Q,y,t,w,u,x;Y1Q=2;for(;Y1Q !== 19;){switch(Y1Q){case 14:y=null === w || void 0 === w?void 0:w.Ya;Y1Q=12;break;case 2:var l$j="Must have at least one";l$j+=" selecte";l$j+="d stre";l$j+="am";m(!c.wa(q),l$j);(t=p.first,w=t[q],u=w.bitrate);p=w;Y1Q=4;break;case 10:p !== w && (q.reason=x,q.$v=y);return q;break;case 8:Y1Q=void 0 === w?7:13;break;case 12:q=new d();q.Sh=w;Y1Q=10;break;case 6:var k0$="f";k0$+="allback_lowe";k0$+="st_acceptable_st";k0$+="ream";x=k0$;Y1Q=14;break;case 13:var d65="sele";d65+="ct_fe";d65+="asible_bu";d65+="fferin";d65+="g";x=d65;Y1Q=14;break;case 4:Y1Q=w.Ya?3:12;break;case 7:w=t[0];Y1Q=6;break;case 3:q=Math.min(q + (k.QGb?2:1),t.length);w=(0,l.Qc)(t.slice(0,q).reverse(),v);Y1Q=8;break;}}}})();},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});c=a(0);c.__importStar(a(11));l=a(32);b.default=function(g){var f48=R7xOY;var W3e,O,A,C,D,E,G,F,L,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B;W3e=2;for(;W3e !== 54;){switch(W3e){case 38:W3e=(m=Math.max(p - f,0),m < x && m < G)?37:31;break;case 29:w-=E;W3e=28;break;case 27:f48.f4w(1);D*=f48.a2W(1E3,B);W3e=26;break;case 15:f48.x9d(1);x*=f48.a2W(1E3,B);W3e=27;break;case 37:return (g && n.push(m / (B / 1E3)),c.__assign({result:!1,c_:Math.min(m,h) / (B / 1E3),Ov:!0},g && ({P8:n})));break;case 26:W3e=q < d?25:36;break;case 39:h=Math.min(m,h);W3e=26;break;case 36:return c.__assign({result:!0,c_:h / (B / 1E3),Ov:!0},g && ({P8:n}));break;case 21:W3e=w < G?35:34;break;case 32:f48.x9d(0);m=f48.L7v(f,p);W3e=31;break;case 25:E=C[q];O=A[q];W3e=23;break;case 31:f48.x9d(17);f+=f48.a2W(E,u,L,0);p+=O;W3e=29;break;case 44:(w+=C[F],++F,k+=A[F]);W3e=28;break;case 34:W3e=!z && (m=p - f,m < y)?33:32;break;case 3:d=Math.min(m.length,d);(A=m.ye,C=m.sizes,D=h - f,E=8 * n / u | 0);n=[];h=Infinity;W3e=6;break;case 42:W3e=q >= v && m > D?36:41;break;case 22:G=Math.max(E,t);W3e=21;break;case 6:var V41=" ";V41+=">=";V41+=" fragmentsLength: ";var V0M="Stream";V0M+="ing";V0M+="In";V0M+="de";V0M+="x: ";(G=0,F=0);m=m.ye[0];f48.f4w(18);k=f48.a2W(1E3,k,B,m);f48.x9d(19);u=f48.a2W(0,u,8);f48.x9d(1);L=f48.a2W(1E3,B);q >= d && l.console.error(V0M + q + V41 + d);f+=E;W3e=19;break;case 35:(f=k,w+=C[F],++F,m=A[F],k+=m);W3e=21;break;case 19:0 === p && (f=0);f48.f4w(1);f*=f48.L7v(1E3,B);f48.f4w(1);p*=f48.L7v(1E3,B);W3e=16;break;case 43:++q;W3e=42;break;case 16:f48.f4w(1);y*=f48.a2W(1E3,B);W3e=15;break;case 33:return (g && n.push(m / (B / 1E3)),c.__assign({result:!1,c_:m / (B / 1E3),Ov:!1},g && ({P8:n})));break;case 23:W3e=w < E?22:38;break;case 28:W3e=k < f && F < q?44:43;break;case 2:var S_A="1";S_A+="SI";S_A+="YbZrN";S_A+="JCp";S_A+="9";(m=g.ma,d=g.blocks,f=g.Oc,h=g.ik,k=g.Lgc,n=g.Pj,p=g.Ec,q=g.ze,v=g.EUb,t=g.LX,w=g.Q7a,u=g.Ya,x=g.cda,y=g.SF,z=g.E2b);g=g.SRb;S_A;B=m.W;W3e=3;break;case 41:g && n.push(m / (B / 1E3));G=m;W3e=39;break;}}};},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q;Object.defineProperties(b,{__esModule:{value:!0}});b.S1b=b.Vkb=void 0;c=a(0);l=c.__importDefault(a(92));g=c.__importStar(a(11));m=a(21);d=a(423);f=c.__importDefault(a(3));r=c.__importDefault(a(104));a=c.__importDefault(a(32));h=a.default.H6b;k=a.default.cJb;n=a.default.a9;p=a.default.Qp;q=r.default.QEa;a=(function(){var Y$e;function t(A,C,D){var P24;P24=2;for(;P24 !== 5;){switch(P24){case 2:A=k(D.yk,A * D.Wca);return h(A,C);break;}}}function w(A,C){var V7e,D,E;V7e=2;for(;V7e !== 13;){switch(V7e){case 5:V7e=0 === E?4:3;break;case 3:V7e=-1 === E?9:8;break;case 6:return Math.floor(A.d + (D.d - A.d) * (C - A.r) / (D.r - A.r));break;case 9:return D[D.length - 1].d;break;case 1:(D=A.yba,E=(0,m.ht)(D,function(G){var M4g;M4g=2;for(;M4g !== 1;){switch(M4g){case 2:return C <= G.r;break;case 4:return C >= G.r;break;}}}));V7e=5;break;case 14:return A.au;break;case 4:return D[0].d;break;case 8:R7xOY.f4w(0);A=D[R7xOY.L7v(1,E)];D=D[E];V7e=6;break;case 2:V7e=A.yba?1:14;break;}}}Y$e=2;for(;Y$e !== 5;){switch(Y$e){case 2:var G0r="1SIY";G0r+="bZr";G0r+="NJCp9";G0r;return {iEb:function(A,C,D,E){var U_y;U_y=2;for(;U_y !== 5;){switch(U_y){case 2:var J8W="h";J8W+="isto";J8W+="ri";J8W+="cal";D=D.first;return D.some(function(G){var G_C;G_C=2;for(;G_C !== 1;){switch(G_C){case 2:return G.ta;break;case 4:return G.ta;break;}}})?z(A,C,D,E):J8W === A.ixa?B(A,C,D,E):A.hW?x(A,C,D,E):z(A,C,D,E);break;}}},CBb:y};break;}}function B(A,C,D,E){var m2x,G;m2x=2;for(;m2x !== 7;){switch(m2x){case 4:var o$v="hi";o$v+="s";o$v+="t_";o$v+="bitrate";A=new p();A.Sh=(0,m.Qc)(D.slice().reverse(),function(F){var O27;O27=2;for(;O27 !== 1;){switch(O27){case 2:return F.bitrate <= G;break;case 4:return F.bitrate < G;break;}}}) || D[0];A.reason=o$v;m2x=8;break;case 5:return A.hW?x(A,C,D,E):z(A,C,D,E);break;case 1:var r3P="n";r3P+="um";r3P+="be";r3P+="r";m2x=r3P !== typeof G?5:4;break;case 8:return A;break;case 2:var R7R="v";R7R+="b";G=f.default.storage.get(R7R);m2x=1;break;}}}function u(A,C){var V8f=R7xOY;var G$9,D;G$9=2;for(;G$9 !== 9;){switch(G$9){case 1:var z52="l";z52+="o";z52+="g";G$9=0 === C.WR.lastIndexOf(z52,0)?5:3;break;case 7:V8f.x9d(20);var C4K=V8f.a2W(11,8,8,17);V8f.x9d(21);var S04=V8f.a2W(4032,11,1,10,39874);V8f.f4w(22);var O7v=V8f.a2W(698,9786,1,4,39144);A=n(A,C4K,S04) * O7v;G$9=4;break;case 4:return (D=C.Wkb[D]) && 2 === D.length?1E3 * (D[0] + D[1] * Math.log(1 + A)):C.au;break;case 5:D=C.WR;G$9=4;break;case 2:V8f.x9d(23);var T0D=V8f.L7v(9,100005,5,19);V8f.x9d(24);var Q8y=V8f.L7v(125,5,6,220);A=n(A,0,T0D) / Q8y;G$9=1;break;case 3:var b$$="sigm";b$$+="o";b$$+="i";b$$+="d";return 0 === C.WR.lastIndexOf(b$$,0)?(D=C.WR,(D=C.Wkb[D]) && 2 === D.length?1E3 * (D[0] + D[1] * q(A)):C.au):C.au;break;}}}function y(A,C,D,E,G,F){var d6j;d6j=2;for(;d6j !== 5;){switch(d6j){case 2:var S7S="no";S7S+="_valid_B";S7S+="i";S7S+="tra";S7S+="te";var D4L="no_v";D4L+="al";D4L+="id_";D4L+="V";D4L+="MAF";var R$5="no_va";R$5+="lid_";R$5+="D";R$5+="elayTarget";A=D?A.gb >= F.ow && A.gb <= F.xeb:A.bitrate >= F.nw && A.bitrate <= F.eC;return (E=E < G && A)?{B$:E}:{B$:E,reason:A?R$5:D?D4L:S7S};break;}}}function v(A,C){var B1J,E,D;B1J=2;for(;B1J !== 12;){switch(B1J){case 8:B1J=7;break;case 7:B1J=(E=g.Qa(C.Jfa) && 0 <= C.Jfa && 100 >= C.Jfa && !g.wa(A) && !g.ub(A))?6:14;break;case 5:A=D.Sh.Nb || ({});D.Dq=A.En && A.jh;D.Cq=A.En?A.En:0;A=(0,l.default)(D.Dq,{});B1J=8;break;case 14:var F57="hist";F57+="_thr";F57+="o";F57+="ughp";F57+="ut";var H$I="his";H$I+="t_td";H$I+="ig";H$I+="e";H$I+="st";E?(C=A.Qj(C.Jfa / 100) || D.Sh.Ya,D.$v=C,D.reason=H$I):D.Sh.Ya && (C=D.Sh.Ya,D.$v=C,D.reason=F57);return D;break;case 6:(E=d.AVa.qYb(A),g.qd(E)?(A.Qj=E,E=!0):E=!1);B1J=14;break;case 2:D=new p();D.Sh=A;B1J=5;break;}}}function z(A,C,D){var y0K,E,G;y0K=2;for(;y0K !== 4;){switch(y0K){case 2:(E=new p(),G=Math.max(A.nw,A.ada,C.Exa?A.Yza:-Infinity));E.Sh=(0,m.Qc)(D.filter(function(F){var G6R;G6R=2;for(;G6R !== 1;){switch(G6R){case 2:return F.bitrate <= A.eC;break;}}}).reverse(),function(F){var T8n,O,L,K;T8n=2;for(;T8n !== 13;){switch(T8n){case 6:L=!1;T8n=7;break;case 1:T8n=F.bitrate > G?5:14;break;case 5:F=F.bitrate * C.playbackRate;O=L.Ya;T8n=3;break;case 8:var s3I="h";s3I+="ist_";s3I+="bu";s3I+="ffti";s3I+="me";t(F,O,A) <= K?(E.$v=O,L && (E.Cq=L.En?L.En:0,E.Dq=L.En && L.jh),E.reason=s3I,L=!0):L=!1;T8n=7;break;case 3:T8n=O?9:6;break;case 2:L={Ya:F.Ya,En:F.Nb && F.Nb.En,jh:F.Nb && F.Nb.jh};T8n=1;break;case 9:K=w(A,F);T8n=8;break;case 7:return L;break;case 14:var f8O="no_histori";f8O+="cal_lte_minb";f8O+="itr";f8O+="ate";var A$h="hist_tput";A$h+="_lt";A$h+="_minbitrate";var o0S="lt_hist_";o0S+="l";o0S+="te_";o0S+="minbitrat";o0S+="e";(O=L.Ya,F.bitrate * C.playbackRate <= O?(E.$v=O,L && (E.Cq=L.En?L.En:0,E.Dq=L.En?L.jh:void 0),E.reason=o0S,L=!0):O?(E.$v=O,L && (E.Cq=L.En?L.En:0,E.Dq=L.En?L.jh:void 0),E.reason=A$h,L=!1):(E.reason=f8O,L=!0));T8n=7;break;}}}) || D[0];return E;break;}}}function x(A,C,D){var w7B,L,O,K,E,G,F;w7B=2;for(;w7B !== 19;){switch(w7B){case 12:F--;w7B=1;break;case 11:var d6D="fallback_no";d6D+="_accept";d6D+="able_strea";d6D+="m";var d3x="below_m";d3x+="in";d3x+="InitVideoBitrate";g.ub(G) && D[F].bitrate < A.nw && (G=v(D[F],A),G.reason=d3x);g.ub(G) && (G=v(D[0],A),G.reason=d6D);return G;break;case 7:K=K.reason;G.PB=O;w7B=14;break;case 5:L=D[F];G=v(L,A);(O=t(L.bitrate * C.playbackRate,G.$v,A),K=u(G.$v,A));K=y(L,G.$v,E,O,K,A);L=K.B$;w7B=7;break;case 1:w7B=0 <= F && (E?D[F].gb >= A.ow:D[F].bitrate >= A.nw)?5:11;break;case 2:(E=!!A.ow && !!A.xeb && D.every(function(I){var a5C;a5C=2;for(;a5C !== 1;){switch(a5C){case 4:return I.gb || 486 < I.gb;break;case 2:return I.gb && 110 >= I.gb;break;}}}),G=null,F=D.length - 1);w7B=1;break;case 14:w7B=L?11:13;break;case 13:G.reason=K;w7B=12;break;}}}})();r=a.CBb;b.Vkb=a.iEb;b.S1b=r;},function(r,b,a){var l,g,m,d;function c(f,h,k){var n,p;n=k.first;k=this.Gna;h=h.buffer.Ec;p="forward" === f.Wdc;if(l.wa(k))return (k=p?g(n):g(n,n.length),this.Hna=h,this.Gna=k,new d(k));m(n[k]) || (k=g(n,k),this.Hna=h,this.Gna=k);if(0 > k)return null;if(h > this.Hna + f.Pic){f=n.map(function(q,v){return q.gw?v:null;}).filter(function(q){return null !== q;});if(!f.length)return null;p?k=(f.indexOf(k) + 1) % f.length:(k=f.indexOf(k) - 1,0 > k && (k=f.length - 1));this.Gna=f[k];this.Hna=h;return new d(f[k]);}return new d(k);}l=a(11);b=a(32);g=b.$ta;m=b.gK;d=b.Qp;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){(function(){var E8s,g,m,d,f,h,k,n,p,q,v;function c(t,w){var x48,u;x48=2;for(;x48 !== 4;){switch(x48){case 2:u=void 0;w.some(function(x){var b9u,y;b9u=2;for(;b9u !== 4;){switch(b9u){case 2:y=x.profiles;(y=y && 0 <= y.indexOf(t)) && (u=x.override);return y;break;}}});return u;break;}}}E8s=2;for(;E8s !== 4;){switch(E8s){case 2:var x$j="1";x$j+="SIYb";x$j+="ZrN";x$j+="J";x$j+="Cp9";(g=a(11),m=a(32),d=m.console,f=m.debug,h=m.assert,k=a(92),n=m.gK,p=m.Qp,q=a(446),v=a(6).La);r.exports={STARTING:function(t,w,u,x){var N5Y,y,z,B;N5Y=2;for(;N5Y !== 7;){switch(N5Y){case 8:return t;break;case 2:(y=t,z=u.first,B=z[x || 0].kf);N5Y=1;break;case 1:N5Y=(B=t && t.uS && 0 <= t.uS.indexOf(B)?c(B,t.tnb):c(B,t.WHb))?5:4;break;case 5:var n4d="selectAudioStreamStarting: o";n4d+="verriding ";n4d+="confi";n4d+="g with ";(y={minInitAudioBitrate:t.z_,minHCInitAudioBitrate:t.x_,maxInitAudioBitrate:t.k_,minRequiredAudioBuffer:t.ida},f && d.log(n4d + JSON.stringify(B)),k(B,y));N5Y=4;break;case 4:var S4T=" kbp";S4T+="s";S4T+=", profi";S4T+="le";S4T+=" :";var M3n="selectAudioSt";M3n+="reamStarting: selected str";M3n+="eam :";t=q[v[v.Yh]](y,w,u,x);z=z[t.Ce];f && d.log(M3n + z.bitrate + S4T + z.kf);N5Y=8;break;}}},BUFFERING:l,REBUFFERING:l,PLAYING:l,PAUSED:l};x$j;E8s=4;break;}}function l(t,w,u,x){var J$y,A,C,D,E,G,B,y,z,F,L,O;J$y=2;for(;J$y !== 30;){switch(J$y){case 12:u=0;J$y=34;break;case 14:(A=y[x],C=A.bitrate,D=B.indexOf(x),E=A.Ya,G=t.XHb);J$y=13;break;case 22:J$y=(C=B[D],F=y[C],n(F) && E > G.Nob * F.bitrate * w.playbackRate)?21:23;break;case 17:J$y=n(F) && (0 == D || F.bitrate * w.playbackRate * G.v5a < E)?16:15;break;case 20:J$y=0 <= D?19:34;break;case 11:J$y=D && E < G.v5a * C * w.playbackRate?10:27;break;case 31:return new p(u);break;case 6:J$y=B && 1 < B.length?14:34;break;case 25:J$y=w.Zr && F > G.$B && (void 0 === O || Number(L) > O || C.Ec - O > G.$Z)?24:35;break;case 9:u=x;t.tnb.some(function(K){var o4l,H,J,N,P,I,M;o4l=2;for(;o4l !== 9;){switch(o4l){case 3:return M;break;case 4:B=y.filter(function(W){var Z2J,V;Z2J=2;for(;Z2J !== 5;){switch(Z2J){case 2:V=W.bitrate;return V >= J && V <= N && 0 <= I.indexOf(W.kf) && V * H / 8 < P;break;}}}).map(function(W){var Q_7;Q_7=2;for(;Q_7 !== 1;){switch(Q_7){case 2:return W.zg;break;case 4:return W.zg;break;}}});o4l=3;break;case 5:(H=(K=K.b0) && K.ida || t.ida,J=K && K.Mvc || -Infinity,N=K && K.CQ || Infinity,P=w.buffer.st);o4l=4;break;case 1:o4l=M?5:3;break;case 2:(I=K.profiles,M=I && 0 <= I.indexOf(z));o4l=1;break;}}});J$y=6;break;case 34:var c9z="kbp";c9z+="s, streamingPt";c9z+="s :";var b7z=", ";b7z+="aud";b7z+="io throu";b7z+="g";b7z+="hput:";var X9v=" ";X9v+="kbps, ";X9v+="pro";X9v+="file :";var G5M="sele";G5M+="c";G5M+="tAu";G5M+="dioStream: ";G5M+="selected stream :";var c4f=" ";c4f+="k";c4f+="b";c4f+="ps";var s7r=" k";s7r+="bps";s7r+=", ";s7r+="to";s7r+=" ";var R6z="sw";R6z+="itc";R6z+="hing a";R6z+="u";R6z+="dio from ";var e3I="d";e3I+="o";e3I+="w";e3I+="n";var K_2="u";K_2+="p";E=y[u];u !== x && f && d.log((u > x?K_2:e3I) + R6z + A.bitrate + s7r + E.bitrate + c4f);f && d.log(G5M + E.bitrate + X9v + z + b7z + E.Ya + c9z + w.buffer.Ec);J$y=31;break;case 13:J$y=0 > D?12:11;break;case 2:var W3L="M";W3L+="ust have ";W3L+="at least one ";W3L+="selected stream";y=u.first;h(!g.wa(x),W3L);z=y[x].kf;J$y=4;break;case 19:C=B[D];F=y[C];J$y=17;break;case 10:var c8S=" ";c8S+="kbps, t";c8S+="ry to downswi";c8S+="tch";var L5O=" ";L5O+="kb";L5O+="ps ";L5O+="<";L5O+=" ";var a9V="throug";a9V+="hp";a9V+="ut for audio ";(f && d.log(a9V + E + L5O + G.v5a + "*" + C + c8S),--D);J$y=20;break;case 16:u=C;J$y=34;break;case 26:(L=this.yya,O=this.qQ);J$y=25;break;case 3:return new p(x);break;case 4:J$y=!(t && t.uS && 0 <= t.uS.indexOf(z))?3:9;break;case 35:var a32="m";a32+="s";var x5D=", buff";x5D+="e";x5D+="r level ";x5D+="= ";var I7s=", lastU";I7s+="pswitchPts";I7s+=" = ";var I3j="  Up";I3j+="s";I3j+="wi";I3j+="tch not allowed. lastD";I3j+="ownswitchPts = ";f && d.log(I3j + O + I7s + L + x5D + F + a32);J$y=34;break;case 24:var r2D=", strea";r2D+="min";r2D+="g";r2D+="P";r2D+="ts = ";var w91=", la";w91+="stUpswitch";w91+="Pts = ";var B1h="  Upswit";B1h+="ch allowed.";B1h+=" lastDownswitchPts = ";f && d.log(B1h + O + w91 + L + r2D + C.Ec);J$y=23;break;case 27:var I$$=" ";I$$+="kb";I$$+="ps";var w_v=" ";w_v+="k";w_v+="bp";w_v+="s";w_v+=" > ";var I8v="through";I8v+="put ";I8v+="for audio ";J$y=D < B.length - 1 && E > G.Nob * C * w.playbackRate && (f && d.log(I8v + E + w_v + G.Nob + "*" + C + I$$),C=w.buffer,F=C.ik - C.Oc,A.ma && A.ma.length)?26:34;break;case 23:J$y=++D < B.length?22:34;break;case 15:D--;J$y=20;break;case 21:u=C;J$y=34;break;}}}})();},function(r,b,a){var l;function c(){return new l(0);}a(11);l=a(32).Qp;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){var l;function c(g,m,d){return new l(d.first.length - 1);}a(11);l=a(32).Qp;r.exports={STARTING:c,BUFFERING:c,REBUFFERING:c,PLAYING:c,PAUSED:c};},function(r,b,a){(function(){var w6z,m,d,l,g;w6z=2;for(;w6z !== 6;){switch(w6z){case 4:var i92="1S";i92+="IYbZrN";i92+="JCp";i92+="9";a(3);(m=g.assert,d=g.Qp);g=a(193).default;r.exports={STARTING:g.STARTING,BUFFERING:g.BUFFERING,REBUFFERING:g.REBUFFERING,PLAYING:c,PAUSED:c};i92;w6z=6;break;case 2:l=a(11);a(29);g=a(32);w6z=4;break;}}function c(f,h,k,n){var L7Q,p;L7Q=2;for(;L7Q !== 11;){switch(L7Q){case 2:var e8k="player missi";e8k+="ng f";e8k+="ragme";e8k+="n";e8k+="tIndex";var K96="Must have at l";K96+="east ";K96+="o";K96+="ne s";K96+="elected stream";m(!l.wa(n),K96);m(l.Qa(h.ze),e8k);h=d(n);L7Q=4;break;case 4:k=k.first;L7Q=3;break;case 3:R7xOY.f4w(25);var B4A=R7xOY.a2W(20,3,17,15,231);n=k.length - B4A;L7Q=9;break;case 13:h.Ce=0;return h;break;case 7:L7Q=p.Nb && p.Nb.Ya && p.bitrate < p.Nb.Ya.xa - f.Kic?6:14;break;case 8:p=k[n];L7Q=7;break;case 9:L7Q=-1 < n?8:13;break;case 14:--n;L7Q=9;break;case 6:return (h.Ce=n,h);break;}}}})();},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(1049);b.default={PLAYING:r.mo,PAUSED:r.mo};},function(r,b,a){var c,l,g,m,d,f,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.mo=void 0;r=a(0);c=r.__importStar(a(11));l=r.__importDefault(a(32));g=r.__importDefault(a(193));m=a(77);d=r.__importDefault(a(3));f=l.default.assert;h=l.default.Qp;b.mo=k;(function(){var m9o;m9o=2;for(;m9o !== 5;){switch(m9o){case 2:var h9H="1SIYbZ";h9H+="r";h9H+="NJCp9";b.mo=k=function(n,p,q,v,t,w,u){var X6R,H,J,L,E,G,F,K,I,M,D,y,z,B,A,C,O,x;X6R=2;for(;X6R !== 90;){switch(X6R){case 20:X6R=void 0 !== A?19:58;break;case 22:y=z[v];X6R=21;break;case 70:X6R=0 <= C?69:72;break;case 37:O=void 0;X6R=36;break;case 34:C=z[x];A=x <= v?!0:!1;D=void 0;X6R=31;break;case 64:I=void 0;p.RW && (I=d.default.time.fa() - p.RW);q.push({ze:p.ze,Oxc:I,Cvc:M,vsc:D,Lxc:L,Nxc:O,oqa:t,Q7a:w,Vsc:K,fvc:u.bitrate,gvc:null !== (E=u.gb) && void 0 !== E?E:0,ftc:C.bitrate,gtc:null !== (G=C.gb) && void 0 !== G?G:0,exc:y.bitrate,fxc:null !== (F=y.gb) && void 0 !== F?F:0,Ut:A});X6R=61;break;case 77:X6R=C < y.length?76:72;break;case 71:--C;X6R=70;break;case 61:x++;X6R=35;break;case 52:H=p.ze;X6R=51;break;case 50:J=I.get(H);K.push({d:J.duration,b:J.ga});X6R=48;break;case 56:X6R=D < A?55:71;break;case 45:M+=I.get(H).duration;X6R=65;break;case 7:return g.default.PLAYING.call(this,n,p,q,v,t,w,u);break;case 31:L=[];C.Nb && C.Nb.throughput && (D=C.Nb.throughput.xa);X6R=29;break;case 18:B.Sh=z[B.Ce];X6R=17;break;case 19:B.Ce=y[A].bec;X6R=18;break;case 17:X6R=n.qSb?16:59;break;case 75:x=C;X6R=72;break;case 66:C--;X6R=70;break;case 76:X6R=y[C].f === A?75:74;break;case 59:return B;break;case 67:X6R=y[C].f < A?72:66;break;case 11:X6R=D === A?10:57;break;case 69:X6R=y[C].f === A?68:67;break;case 60:B.P0a=q;X6R=59;break;case 51:X6R=H < Math.min(H + n.$Hb,I.length)?50:47;break;case 55:C+=1;X6R=77;break;case 10:A=C;X6R=20;break;case 8:X6R=A < x || A > C?7:6;break;case 16:q=[];t=p.buffer;X6R=26;break;case 26:t=t.ik - t.Oc;w=m.Gl.Z3a(p.buffer.ma);w=p.buffer.st - w.ga;u=z[v];X6R=22;break;case 58:return g.default.PLAYING.call(this,n,p,q,v,t,w,u);break;case 65:H++;X6R=46;break;case 53:X6R=void 0 !== I?52:64;break;case 36:C.Nb && C.Nb.tputTrace && (O=C.Nb.tputTrace);(K=[],I=C.ma,M=0);X6R=53;break;case 35:X6R=x < z.length?34:60;break;case 48:H++;X6R=51;break;case 73:C++;X6R=77;break;case 74:X6R=y[C].f > A?72:73;break;case 21:x=0;X6R=35;break;case 6:R7xOY.x9d(0);C=R7xOY.L7v(x,A);0 > C && (C=0);C >= y.length && (C=y.length - 1);D=y[C].f;X6R=11;break;case 57:x=void 0;X6R=56;break;case 4:(y=n.Bhc,z=q.first,B=new h(v),A=null !== (x=p.ze) && void 0 !== x?x:-1);x=y[0].f;C=y[y.length - 1].f;X6R=8;break;case 29:X6R=C.Nb && C.Nb.tdigest?28:37;break;case 68:x=C;X6R=72;break;case 72:A=x;X6R=20;break;case 28:O=C.Nb.tdigest;L.push(O.min);L.push(O.bea);X6R=42;break;case 42:L.push(O.dm);L.push(O.zk);L.push(O.em);L.push(O.cea);X6R=38;break;case 38:L.push(O.max);X6R=37;break;case 47:H=p.ze;X6R=46;break;case 46:X6R=H < I.length?45:64;break;case 2:var m5P="p";m5P+="layer mis";m5P+="sing";m5P+=" fragmentIndex";var s76="Must have at least on";s76+="e sele";s76+="c";s76+="ted stream";f(!c.wa(v),s76);f(c.Qa(p.ze),m5P);X6R=4;break;}}};h9H;m9o=5;break;}}})();},function(r,b,a){(function(){var K_m,c;K_m=2;for(;K_m !== 8;){switch(K_m){case 9:var N6C="1S";N6C+="IYbZ";N6C+="r";N6C+="NJCp9";N6C;K_m=8;break;case 4:c=a(6).bd;r.exports={checkBuffering:function(l,g,m,d,f,h){var b0G=R7xOY;var d0l,n,p,q,v,w,t,u;d0l=2;function k(x){var r8I;r8I=2;for(;r8I !== 5;){switch(r8I){case 2:x=d.ma.G$(l.Oc + x,void 0,!0);return (t - l.Pj) / (t + (x.offset + x.ga) - w);break;}}}for(;d0l !== 54;){switch(d0l){case 37:0 < g && g < p && (q=Math.min(v,Math.max(h.I0 * (p / g - 1),q)));return {complete:!1,tG:q,progress:k(q)};break;case 2:(n=l.ik - l.Oc,p=g === c.Vg);g=d.Ya || 0;(q=0,v=h.KGa && !p?h.QF:h.Dza);d0l=4;break;case 9:var Z8H="ma";Z8H+="xs";Z8H+="i";Z8H+="z";Z8H+="e";return {complete:!0,reason:Z8H};break;case 34:var V4g="hi";V4g+="gh";V4g+="tp";return {complete:!0,reason:V4g};break;case 6:b0G.x9d(13);var r4e=b0G.L7v(1,1,8,8);q=h.yk * (p?h.MCa:r4e);!d.ta && h.lSb && d.Nb && d.Nb.rl && d.Nb.rl.xa > h.$ya && (q+=h.kpa + d.Nb.rl.xa * h.xBa);d0l=13;break;case 10:var M1o="no";M1o+="t";M1o+="hro";M1o+="ugh";M1o+="put";return {complete:!1,tG:q,reason:M1o};break;case 44:p=d.ma.get(h);b0G.f4w(26);var u8s=b0G.a2W(2,1,6);u=u8s * u * m / g - p.ca - q;d0l=42;break;case 11:d0l=!g?10:20;break;case 40:u=p.offset;d0l=39;break;case 7:var p5l="l";p5l+="o";p5l+="wTh";p5l+="ro";p5l+="ughput";return {complete:!1,NF:!0,reason:p5l};break;case 21:d0l=n >= q?35:37;break;case 25:f=d.ma.ip(l.Ec);d0l=24;break;case 42:d0l=0 < u?41:40;break;case 4:v=Math.min(h.jw,v);d0l=3;break;case 13:f && !d.ta && (q+=f.Ev * h.lpa);q=v?Math.min(v,q):q;d0l=11;break;case 26:return (g < p && (q=Math.min(v,Math.max(h.I0 * (p / g - 1),q))),{complete:!1,tG:q,progress:0});break;case 41:return (q=Math.min(v,n + u),{complete:!1,tG:q,progress:k(q)});break;case 15:var x8T="lo";x8T+="wLi";x8T+="veBuf";x8T+="fe";x8T+="r";var V3u="l";V3u+="iv";V3u+="e";V3u+="Buf";V3u+="ferLevel";return g > p && n > q?{complete:!0,reason:V3u}:{complete:!1,tG:q,Ya:g,bitrate:p,reason:x8T};break;case 27:d0l=!d.ma || !d.ma.length?26:25;break;case 38:var q3B="no";q3B+="r";q3B+="ebu";q3B+="f";q3B+="f";return {complete:!0,reason:q3B};break;case 39:--h;d0l=28;break;case 22:w=d.ma.Qi(f);d0l=21;break;case 24:d0l=-1 === f?23:22;break;case 8:d0l=g <= h.fza && (0 < g || !h.zta)?7:6;break;case 28:d0l=h > f?44:38;break;case 16:d0l=d.ta?15:27;break;case 20:t=0;d0l=19;break;case 29:--h;d0l=28;break;case 3:d0l=n >= v?9:8;break;case 23:var C35="o";C35+="ut";C35+="ofrange";return {complete:!0,reason:C35};break;case 35:d0l=g > p * h.A$?34:33;break;case 33:q=d.ma.ye(f);h=Math.min(f + Math.floor(h.I0 / q),d.ma.length - 1);u=d.ma.Qi(h);b0G.f4w(27);var F36=b0G.L7v(2,44,4,15);q=F36 * w * m / g - l.Oc;d0l=29;break;case 19:l.ma.forEach(function(x){var X_M;X_M=2;for(;X_M !== 1;){switch(X_M){case 2:t+=x.ca + x.duration > l.Oc?x.ga:0;X_M=1;break;}}});m=Math.max(m,1);p=m * d.bitrate;d0l=16;break;}}}};K_m=9;break;case 2:a(11);a(29);a(32);K_m=4;break;}}})();},function(r,b,a){Object.defineProperties(b,{__esModule:{value:!0}});r=a(1052);b.default={PLAYING:r.mo,PAUSED:r.mo};},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.mo=void 0;r=a(0).__importDefault(a(32));c=r.default.console;l=r.default.Qp;b.mo=g;(function(){var Z26;Z26=2;for(;Z26 !== 5;){switch(Z26){case 2:var n_i="1";n_i+="SIY";n_i+="bZrNJCp9";b.mo=g=function(m,d,f,h){var Q33,k,n,p,q,v;Q33=2;for(;Q33 !== 10;){switch(Q33){case 2:(n=new l(h),p=d.buffer.Ec);f=f.first;R7xOY.x9d(7);var g_J=R7xOY.a2W(1,0);q=m.Fic * Math.pow(Math.min(g_J,(d.buffer.ik - d.buffer.Oc) / m.WZ),m.Eic);m=void 0 === this.qQ || p - this.qQ > m.$Z?f.length - 1:h;Q33=3;break;case 3:n.Ce=0;Q33=9;break;case 9:Q33=-1 < m?8:11;break;case 8:v=f[m];Q33=7;break;case 7:Q33=v.Nb && v.Nb.Ya?6:12;break;case 14:n.Ce=m;Q33=11;break;case 13:--m;Q33=9;break;case 11:return n;break;case 6:Q33=(h=v.Nb.Ya.xa,p=v.bitrate,v=v.uCa(null !== (k=d.ze) && void 0 !== k?k:-1),p < h * q && v)?14:13;break;case 12:var u6X="Str";u6X+="ea";u6X+="m has no ";u6X+="throughput statistics";c.warn(u6X);Q33=13;break;}}};n_i;Z26=5;break;}}})();},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.TUa=void 0;c=a(0);r=c.__importDefault(a(3));l=a(160);g=a(449);new r.default.Console("ASEJS_PREDICTOR","media|asejs");a=(function(m){function d(f,h){var p$s,k;p$s=2;for(;p$s !== 3;){switch(p$s){case 2:var J5T="1SIY";J5T+="bZr";J5T+="NJCp9";k=m.call(this,f,h) || this;k.YK=function(n,p,q,v){var t1X,t;t1X=2;for(;t1X !== 8;){switch(t1X){case 2:v=null !== v && void 0 !== v?v:k.CQ;t=k.mp(n,q);n=k.wgc(n,q);p=t?t * (100 - k.aWb(p,n)) / 100 | 0:0;t1X=3;break;case 3:p=k.j5a(p,v);return {lower:p,upper:p * k.config.FGa};break;}}};J5T;return k;break;}}}var v5u;v5u=2;for(;v5u !== 3;){switch(v5u){case 2:c.__extends(d,m);d.prototype.aWb=function(f,h){var Z7D,k,n;Z7D=2;for(;Z7D !== 3;){switch(Z7D){case 2:(k=this.config,n=h?k.Fra:k.Vpa);h=h?k.Gra:k.Xpa;Array.isArray(h) && (n=(0,g.A6a)(h,f.ik - f.Oc,k.Wpa));return n;break;}}};d.prototype.wgc=function(f,h){var x0d;x0d=2;for(;x0d !== 3;){switch(x0d){case 2:h=this.mp(f,h);f=!!f.Vt;this.config.GFa && h < this.config.gX && (f=!0);return f;break;}}};return d;break;}}})(l.kD);b.TUa=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.iVa=void 0;c=a(0);r=a(160);r=(function(l){function g(m,d){var J$n,f;J$n=2;for(;J$n !== 3;){switch(J$n){case 2:var X6I="1SI";X6I+="YbZrNJC";X6I+="p";X6I+="9";f=l.call(this,m,d) || this;f.YK=function(h){var O3I,k,m7W;O3I=2;for(;O3I !== 10;){switch(O3I){case 8:O3I=!h.Zo || !h.Zo.vO?4:7;break;case 2:k={lower:h.Ya.xa,upper:void 0};O3I=1;break;case 1:var X02="delive";X02+="ryti";X02+="me";m7W=f.config.phc;O3I=m7W === X02?5:12;break;case 14:O3I=h.Zo && h.Zo.QS?13:4;break;case 3:k=Math.sqrt(h.Zo.He || 0);O3I=9;break;case 5:O3I=!h.Zo || !h.Zo.xa?4:3;break;case 6:return {lower:h.Zo.vO + f.config.mFa * k,upper:h.Zo.vO + f.config.nFa * k};break;case 4:return k;break;case 13:return (k=Math.sqrt(h.Zo.QS || 0),{lower:h.Ya.xa + f.config.mFa * k,upper:h.Ya.xa + f.config.nFa * k});break;case 9:return {lower:8 / (h.Zo.xa + f.config.mFa * k),upper:8 / (h.Zo.xa - f.config.nFa * k)};break;case 7:k=Math.sqrt(h.Zo.QS || 0);O3I=6;break;case 12:var Z3u="ave";Z3u+="r";Z3u+="age";Z3u+="t";Z3u+="p";O3I=m7W === Z3u?8:11;break;case 11:var O2P="e";O2P+="w";O2P+="m";O2P+="a";O3I=m7W === O2P?14:4;break;}}};X6I;return f;break;}}}var D9o;D9o=2;for(;D9o !== 5;){switch(D9o){case 2:c.__extends(g,l);D9o=1;break;case 1:return g;break;}}})(r.kD);b.iVa=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.QJa=void 0;c=a(0);l=a(6);r=a(160);g=a(448);a=(function(m){var m$g;m$g=2;function d(f,h){var C4r,k;C4r=2;for(;C4r !== 9;){switch(C4r){case 5:var j2y="1SI";j2y+="Y";j2y+="b";j2y+="ZrNJCp9";k.T4b=new g.jka(f,h);j2y;return k;break;case 2:k=m.call(this,f,h) || this;k.YK=function(n,p,q,v){var P9y,l86;P9y=2;for(;P9y !== 11;){switch(P9y){case 3:v=k.config.FGa * n.Ya.xa;P9y=9;break;case 12:var e7K="thr";e7K+="oug";e7K+="h";e7K+="put-ci";p=n[e7K];P9y=3;break;case 8:return {lower:(null === p || void 0 === p?void 0:p.initial) || n.Ya.xa,upper:(null === p || void 0 === p?void 0:p.high) || v};break;case 7:return {lower:(null === p || void 0 === p?void 0:p.low) || n.Ya.xa,upper:(null === p || void 0 === p?void 0:p.high) || v};break;case 2:P9y=k.MEa(q)?1:5;break;case 13:P9y=12;break;case 1:return k.T4b.YK(n,p,q,v);break;case 5:var r9p="delive";r9p+="rytime-c";r9p+="i";l86=k.config.cra;P9y=l86 === r9p?4:13;break;case 6:P9y=q === l.La.Yd?8:14;break;case 14:P9y=7;break;case 4:var E7x="de";E7x+="live";E7x+="rytime";E7x+="-";E7x+="ci";p=n[E7x];P9y=3;break;case 9:P9y=q === l.La.Yh?8:6;break;}}};C4r=5;break;}}}for(;m$g !== 5;){switch(m$g){case 2:c.__extends(d,m);return d;break;}}})(r.kD);b.QJa=a;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.lOa=void 0;r=(function(){function a(c,l,g,m,d,f,h,k){this.hb=c;this.s1a=l;this.config=g;this.console=m;this.mediaType=d;this.Kb=f;this.Xa=h;this.kc=k;this.Ls=this.Zi=!1;}a.prototype.IO=function(c,l){!this.hb.G.zu || this.kc.LN || this.kc.c7 || (c-=this.hb.mg,this.Zi && !this.Ls && c + this.config.Mnb >= l && 0 === this.Xa.aG && 0 === this.Xa.Eu && 0 === this.Xa.zbc && (l=this.kc.Qf.O.Vb,c=this.kc.KP(),l + 1 < c || (this.s1a[this.mediaType].knb || this.Kb.zCb(this.mediaType),this.Ls=!0,this.s1a[this.mediaType].J_())));};return a;})();b.lOa=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.jOa=void 0;c=a(0);l=a(10);r=a(450);g=a(442);a=(function(m){function d(){return null !== m && m.apply(this,arguments) || this;}c.__extends(d,m);d.prototype.HQb=function(f){m.prototype.eca.call(this,{value:f});};d.prototype.ybb=function(){return !0;};d.prototype.eFa=function(){};d.prototype.eca=function(f){m.prototype.eca.call(this,f);f.done && (f=this.Ys.qX,l.M && this.H.trace("Requests drained",{wsc:f && f.G.id}),(f=f && f.fb(this.ig)) && f instanceof g.Qja && f.IO(this.Dg.ova() || 0));};return d;})(r.$ha);b.jOa=a;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.UIa=void 0;c=a(0);l=a(132);g=a(10);r=(function(){function m(d,f,h){this.H=d;this.Ozb=f;this.ig=h;this.t6=0;this.P6=!1;this.OU=[];this.SH=void 0;g.M && d.trace(("BranchRequestIterator [").concat(this.ig,"]: created"));}Object.defineProperties(m.prototype,{$Ob:{get:function(){return this.t6;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{qX:{get:function(){return this.nXa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{pk:{get:function(){return this.P6;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{o4a:{get:function(){return this.zm?this.zm.St?"Complete":this.zm.sCa?"WaitingForBranch":void 0 !== this.SH && 0 !== this.SH?("In Policy ").concat(this.OU[this.SH].name):"WaitingForRequest":("Uninitialized;Prior:").concat(this.oYa);},enumerable:!1,configurable:!0}});m.prototype.next=function(){return c.__awaiter(this,void 0,void 0,function(){var d,f,h,k;return c.__generator(this,function(n){switch(n.label){case 0:d=this.zm;if(!d)return [3,6];this.SH=void 0;return [4,d.next()];case 1:(f=n.zb(),h=0,n.label=2);case 2:if(!(h < this.OU.length))return [3,5];this.SH=h;k=this.OU[h];return [4,k.process(f)];case 3:(f=n.zb(),n.label=4);case 4:return (h++,[3,2]);case 5:this.SH=void 0;if(f.done || this.zm !== d)return [2,{done:!0}];this.t6++;f.value.k_a();return [2,{done:!1,value:f.value.value}];case 6:return [2,l.AsyncIterator.awa()];}});});};m.prototype.Mdc=function(){this.Mmb();this.Wbc();};m.prototype.Mmb=function(){var d;if(this.zm){this.oYa=this.o4a;d=this.zm;d && d.Ji();this.OU.forEach(function(f){return f.reset();});d && g.M && this.H.trace(("BranchRequestIterator [").concat(this.ig,"]: Disposing iterator that was on branch "),this.qX && this.qX.G.id);this.P6=!1;this.SH=this.zm=void 0;}};m.prototype.V7=function(d){this.OU.push(d);};m.prototype.Wbc=function(){var d,f,h,k;d=this;if(!this.P6){f=this.H;h=this.Ozb;k=this.ig;this.t6=0;this.oYa=this.nXa=void 0;this.zm=(0,l.flatten)((0,l.map)(h.i$a(),function(n){return c.__awaiter(d,void 0,void 0,function(){var p;return c.__generator(this,function(q){switch(q.label){case 0:return (this.nXa=n,this.t6=0,g.M && f.trace(("BranchRequestIterator [").concat(this.ig,"]: new branch ").concat(n.G.id)),[4,n.ny(k)]);case 1:if(p=q.zb())return [2,{value:p}];g.M && f.error(("BranchRequestIterator [").concat(this.ig,"]: skipping branch ").concat(n.G.id));return [2,{value:[]}];}});});},f),f);this.P6=!0;}};return m;})();b.UIa=r;},function(r,b,a){var c,l,g,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.ITa=void 0;c=a(0);l=a(6);g=a(21);m=a(1060);d=a(1061);r=(function(){function f(h,k,n,p,q,v,t,w){this.mediaType=h;this.console=k;this.Hb=n;this.l8=p;this.sq=q;this.OBa=v;this.Ee=t;this.hE=[];this.mediaType === l.u.J && this.hE.push(new d.NUa(h,k,n,p,q,v,t,w,2));this.hE.push(new m.oVa(h,k,n,p,q,v,t,"stream",1,null === w || void 0 === w?void 0:w.Cab()));}f.prototype.Qx=function(h,k,n){this.Hb=h;this.Ee=k;this.l8=n;this.WL.forEach(function(p){return p.Qx(h,k,n);});};f.prototype.qGb=function(h){this.hE.push(h);};f.prototype.uUb=function(h){return (0,g.Qc)(this.hE,function(k){return k instanceof h;});};f.prototype.reset=function(){this.hE.forEach(function(h){return h.reset();});};f.prototype.close=function(){this.hE.forEach(function(h){return h.close();});};f.prototype.ci=function(h){return c.__read(this.hE,1)[0].ci(h);};Object.defineProperties(f.prototype,{WL:{get:function(){return this.hE;},enumerable:!1,configurable:!0}});return f;})();b.ITa=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.oVa=void 0;c=a(0);l=a(10);g=a(2);r=(function(m){function d(){return null !== m && m.apply(this,arguments) || this;}c.__extends(d,m);d.prototype.cu=function(f){var h,k,n;h=f.stream;k=f.Ld;n=f.Vc;f=f.oc;(0,g.assert)(void 0 !== k,"playerStartTimestamp undefined at media append");(0,g.assert)(void 0 !== f,"contentStartTimestamp undefined at media append");this.bpa({stream:h,oc:f},k,n) && l.M && this.trace(("stream ").concat(h.id,", ").concat(h.bitrate,"kbit/s @ ").concat(k.Z,"ms"));};d.prototype.bca=function(f,h){return f.stream === h.stream;};d.prototype.Ysa=function(f,h){var k,n,p,q;p=f.Cu.stream;q=this.Hb.Vm(h);(0,g.assert)(void 0 !== q);l.M && this.trace(("emitStreamPresentingEvent @ ").concat(f.timestamp.Z,"ms for ").concat(null === p || void 0 === p?void 0:p.id,", ") + ("").concat(null === p || void 0 === p?void 0:p.bitrate,"kbit/s"));this.events.emit("streamPresenting",{type:"streamPresenting",mediaType:p.mediaType,playerTimestamp:h,position:q,trackIndex:null === (k=null === p || void 0 === p?void 0:p.track) || void 0 === k?void 0:k.IA,streamIndex:null === p || void 0 === p?void 0:p.zg,stream:p,manifest:null === (n=p.O) || void 0 === n?void 0:n.ba,contentStartTimestamp:f.Cu.oc});};d.prototype.dca=function(f){return ("").concat(f.stream.Sa,"@").concat(f.oc.Fb());};return d;})(a(272).k5);b.oVa=r;},function(r,b,a){var c,l,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.NUa=void 0;c=a(0);l=a(10);g=a(2);m=a(8);r=(function(d){function f(h,k,n,p,q,v,t,w,u){h=d.call(this,h,k,n,p,q,v,t,"segment",u,null === w || void 0 === w?void 0:w.Cab()) || this;h.Gp=w;return h;}c.__extends(f,d);f.prototype.cu=function(h){var k,n,p,q,v,t,w,u,x;q=h.Ld;v=h.Vc;t=h.oc;w=h.bitrate;u=h.gb;(0,g.assert)(void 0 !== q);x=null === (k=this.Hb.Vm(q)) || void 0 === k?void 0:k.S;(0,g.assert)(void 0 !== x);this.mca=h={S:x,IUb:h.Pr,oc:t,Opb:w,gb:u,Iac:null === (n=this.mca) || void 0 === n?void 0:n.Opb,Jac:null === (p=this.mca) || void 0 === p?void 0:p.gb};this.bpa(h,q,v) && l.M && this.trace(("segment ").concat(x," @ ").concat(q.Z,"ms"));};f.prototype.bca=function(h,k){return h.S === k.S && !k.IUb;};f.prototype.Ysa=function(h,k,n){var p,q,v,t,w,u;p=h.Cu;q=p.S;v=p.Opb;t=p.Iac;w=p.gb;p=p.Jac;u=this.Hb.Vm(k);(0,g.assert)(void 0 !== u);l.M && this.trace(("emitSegmentPresentingEvent @ ").concat(h.timestamp.Z,"ms for segment ").concat(q));u.S !== q && (l.M && this.console.warn("player position:",u,"not equal to trackedElement:",q),u={S:q,offset:m.N.Oa});h={type:"segmentPresenting",playerTimestamp:k,position:u,seek:n};if(this.Gp){if(q=this.Gp.wva(q))(q.destvbitrate=v,q.destvmaf=w,q.srcvbitrate=t,q.srcvmaf=p);h.metrics=q;}l.M && this.trace(("segmentPresenting: ").concat(JSON.stringify(h)));this.events.emit(h.type,h);};f.prototype.reset=function(){d.prototype.reset.call(this);this.mca=void 0;};f.prototype.close=function(){d.prototype.close.call(this);this.mca=void 0;};f.prototype.dca=function(h){return h.S;};return f;})(a(272).k5);b.NUa=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.PLa=void 0;c=a(0);l=a(10);g=a(61);r=(function(){function m(d,f,h){this.Ee=d;this.f6b=f;this.H=h;}Object.defineProperties(m.prototype,{name:{get:function(){return "ExitZone";},enumerable:!1,configurable:!0}});m.prototype.waitUntil=function(d){var f;d=(0,g.sha)(this.Ee,d,!0);f=d.promise;this.gFb=d.pm;return f;};m.prototype.process=function(d){return c.__awaiter(this,void 0,void 0,function(){var f,h;return c.__generator(this,function(k){switch(k.label){case 0:if(d.done)return [3,2];f=d.value.value;if(!f.gua)return [3,2];h=f.Ld.Ga(this.f6b);l.M && this.H.trace(("[").concat(f.mediaType,"] JIT: waiting until playertime >= ").concat(h.Z),("to append next request ").concat(f.toString()));return [4,this.waitUntil(h)];case 1:(k.zb(),l.M && this.H.trace(("[").concat(f.mediaType,"] JIT: now appending request ").concat(f.toString())),k.label=2);case 2:return [2,d];}});});};m.prototype.reset=function(){var d;null === (d=this.gFb) || void 0 === d?void 0:d.Wa();};return m;})();b.PLa=r;},function(r,b,a){var c,l,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.sRa=void 0;c=a(0);l=a(10);g=a(2);m=a(61);r=(function(){function d(f,h,k,n){var p;p=this;this.Ee=f;this.r9b=h;this.hBa=k;this.H=n;f.za.on("stopStart",function(){return p.hLb();});l.M && this.H.trace(("PacingThrottler: pacingFactory=").concat(h,", pacingThreshold=").concat(k.Fb()));}Object.defineProperties(d.prototype,{name:{get:function(){return "Pacing";},enumerable:!1,configurable:!0}});d.prototype.hLb=function(){var f,h;h=this.Ee.za;this.KO=h.pk?h.currentTime:void 0;this.uW=this.kY=void 0;l.M && this.H.trace(("PacingThrottler: clock reset ").concat(null === (f=this.KO) || void 0 === f?void 0:f.Z));};d.prototype.waitUntil=function(f){var h;f=(0,m.sha)(this.Ee,f,!0);h=f.promise;this.Plc=f.pm;return h;};d.prototype.process=function(f){return c.__awaiter(this,void 0,void 0,function(){var h,k,n,p;return c.__generator(this,function(q){switch(q.label){case 0:if(f.done)return [3,11];h=f.value.value;(0,g.assert)(h.Ld);k=this.Ee.za;if(!this.kY || !this.uW)return [3,10];if(!this.uW.greaterThan(this.hBa))return [3,8];if(!this.KO)return [3,5];n=h.Ld.Ga(this.KO).Ga(this.hBa);p=this.KO.add(n.kk(this.r9b));if(!p.lessThan(h.Ld))return [3,3];if(!p.greaterThan(k.currentTime))return [3,2];l.M && this.H.trace(("PacingThrottler: waiting until ").concat(p.Fb()," for mediaRequest @") + ("").concat(h.Ld.Fb(),", ") + ("current time ").concat(k.currentTime.Fb(),", ") + ("clock start time ").concat(this.KO.Fb(),", ") + ("distance ").concat(n.Fb()));return [4,this.waitUntil(p)];case 1:(q.zb(),q.label=2);case 2:return [3,4];case 3:(l.M && this.H.warn("PacingThrottler: invalid schedule time " + ("").concat(p.Fb()," for mediaRequest ") + ("@").concat(h.Ld.Fb(),", ") + ("current time ").concat(k.currentTime.Fb(),", ") + ("clock start time ").concat(this.KO.Fb(),", ") + ("distance ").concat(n.Fb())),q.label=4);case 4:return [3,7];case 5:n=h.Ld.Ga(this.kY);if(!n.greaterThan(this.hBa))return [3,7];l.M && this.H.trace(("PacingThrottler: (buffering) waiting until ").concat(this.kY.Z,"ms") + (" for mediaRequest @").concat(h.Ld.Z,"ms, ") + ("current time ").concat(k.currentTime.Z));return [4,this.waitUntil(this.kY)];case 6:(q.zb(),q.label=7);case 7:return [3,9];case 8:(this.uW=this.uW.add(h.Ct),q.label=9);case 9:return [3,11];case 10:(this.kY=h.Ld,this.uW=h.Ct,q.label=11);case 11:return [2,f];}});});};d.prototype.reset=function(){var f;null === (f=this.Plc) || void 0 === f?void 0:f.Wa();};return d;})();b.sRa=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.BUa=void 0;c=a(0);l=a(10);r=(function(){function g(m,d){this.ez=m;this.H=d;}Object.defineProperties(g.prototype,{name:{get:function(){return "Transition";},enumerable:!1,configurable:!0}});g.prototype.process=function(m){var d,f,h,k;return c.__awaiter(this,void 0,void 0,function(){var n;return c.__generator(this,function(p){switch(p.label){case 0:if(m.done)return [3,3];n=m.value.value;if(!this.ov || !n.Pr || this.ov.Ld === n.Ld && this.ov.mdc === n.index)return [3,2];l.M && this.H.trace(("Seamless Throttler: Waiting on request [").concat(n.mediaType,"]"),n.index,"in",null === (d=n.Xa) || void 0 === d?void 0:d.hb.G.id);return [4,this.ez.Qlc({mediaType:n.mediaType,to:{stream:n.stream,S:null === (f=n.Xa) || void 0 === f?void 0:f.hb.G.id},from:{stream:this.ov.stream,S:this.ov.S},timestamp:n.Ld,Lac:null === (h=this.ov) || void 0 === h?void 0:h.Ld})];case 1:(p.zb(),p.label=2);case 2:(this.ov={mdc:n.index,stream:n.stream,Ld:n.Ld,S:null === (k=n.Xa) || void 0 === k?void 0:k.hb.G.id},p.label=3);case 3:return [2,m];}});});};g.prototype.r8b=function(m,d){void 0 === m && (m=[]);void 0 === d && (d=[]);(null === m || void 0 === m?0:m.length) && m.length !== d.length && (this.ov=void 0);};g.prototype.reset=function(){};return g;})();b.BUa=r;},function(r,b,a){var c,l,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.COa=void 0;c=a(0);l=a(75);g=a(444);m=a(8);r=(function(){function d(f){this.H=f;}Object.defineProperties(d.prototype,{name:{get:function(){return "LiveRequestLogger";},enumerable:!1,configurable:!0}});d.prototype.process=function(f){var h;return c.__awaiter(this,void 0,void 0,function(){var k,n,p,q,v,t,w,u,x,y,z,B,A,C,D;return c.__generator(this,function(){f.done || (n=k=f.value.value,p=null !== (h=k.response) && void 0 !== h?h:this.c2b(n)?n.Ldc()[0]:void 0,p instanceof ArrayBuffer && (q=new l.Zu(this.H,k.stream,p,["moof"],!0,{pBa:!0}),v=q.parse(),v.rw && (t=q.vq("moof"),w=t.vq("traf"),u=w.vq("trun"),x=w.vq("tfdt"),y=k.stream.xq().cCa,z=u.Xd,B=x.GI,A=v.ma.W,C=new m.N(B,A),D=this.ov?C.Ga(this.ov.sIb):void 0,this.H.trace(("Live Request Logger: processing request [").concat(k.mediaType,"]"),{baseMediaDecodeTime:B,timescale:A,baseMediaDecodeMs:C.Z,ptsOffsetMs:y.Z,mediaTimestampMs:C.Ga(y).Z,offsetFromPriorMs:null === D || void 0 === D?void 0:D.Z,sampleCount:z,url:k.url}),this.ov={sIb:C})));return [2,f];});});};d.prototype.c2b=function(f){return f instanceof g.Wha;};d.prototype.reset=function(){this.ov=void 0;};return d;})();b.COa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.FUa=void 0;r=(function(){function a(c,l,g,m,d,f,h,k,n,p){var q;q=this;this.id=c;this.O=l;this.ca=g;this.zX=d;this.Gm=f;this.zu=h;this.uq=k;this.Oq=n;this.Ge=p;this.TP=function(v){var t,w;return (null === (w=null === (t=q.Gm) || void 0 === t?void 0:t[v]) || void 0 === w?void 0:w.sjc) || q.Ge;};this.Ta=m || Infinity;}Object.defineProperties(a.prototype,{P:{get:function(){return this.O.P;},enumerable:!1,configurable:!0}});a.prototype.Uua=function(){var c,l,g;c=this;g=Object.keys(this.Gm || ({})).filter(function(m){var d,f;return !(null === (f=null === (d=c.Gm) || void 0 === d?void 0:d[m]) || void 0 === f || !f.weight);});return g.length?null !== (l=g.map(this.TP).reduce(function(m,d){return m === d?d:void 0;})) && void 0 !== l?l:this.Ge:this.Ge;};a.prototype.toString=function(){return "segmentId: " + this.id + " playlistSegmentId: " + this.Oq + " viewableId: " + this.O.P + " pts: " + this.ca + "-" + this.Ta + " defaultKey: " + this.zX + " dests: " + JSON.stringify(this.Gm) + " terminal: " + !!this.zu;};a.prototype.toJSON=function(){return {id:this.id,viewable:this.O.P,"startPts:":this.ca,endPts:this.Ta,defaultKey:this.zX,"dests:":this.Gm,terminal:!!this.zu,playlistSegmentId:this.Oq};};return a;})();b.FUa=r;},function(r,b,a){var c,l,g,m,d,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.QHa=void 0;r=a(0);c=r.__importStar(a(11));l=a(194);g=a(76);m=r.__importDefault(a(1068));d=a(426);f=r.__importDefault(a(29));h=r.__importDefault(a(3));a=(function(){function k(n,p,q,v,t,w,u,x,y){var T1e,v$W,S6t,B,z;T1e=2;for(;T1e !== 31;){switch(T1e){case 24:var Y70="basel";Y70+="i";Y70+="ne";v$W=t.T_b;T1e=v$W === Y70?23:21;break;case 25:T1e=u && 1 < u.length && t.$sa?24:32;break;case 27:try{S6t=2;for(;S6t !== 4;){switch(S6t){case 2:B=new m.default(n,this.H,{bufferSize:h.default.zq()},t);this.Xp.RFb(B);this.lZa=B;S6t=4;break;}}}catch(A){var E6J="Hindsight: Error when creating QoEEvaluato";E6J+="r:";E6J+=" ";R7xOY.f4w(7);n.Kb.vp(R7xOY.L7v(A,E6J));}T1e=26;break;case 3:var x2c="1SIYbZ";x2c+="rN";x2c+="J";x2c+="Cp9";x2c;this.Eb=n;this.ac=this.H.warn.bind(this.H);T1e=7;break;case 2:this.H=p;this.Xp=v;this.zc=x;this.gI=y;T1e=3;break;case 22:this.xna=this.EN.Rba();T1e=32;break;case 32:t.rha && (this.l7=this.k7=!1);T1e=31;break;case 35:this.EN=new d.XMa(u,t,this.H);T1e=22;break;case 14:this.e_a=this.ZWa=null;R7xOY.x9d(28);var v8i=R7xOY.L7v(1000012,13000168,14);this.tYa=0 === Math.floor(v8i * Math.random()) % t.iqa;this.tF=this.pab=this.qab=this.l9=this.Vt=void 0;this.IFa=this.hmb=this.imb=this.HFa=this.ehb=this.fhb=0;this.HV=(0,l.MP)(t,w);p=this.QXa(q);T1e=18;break;case 23:this.EN=new d.wja(u,t,this.H);T1e=22;break;case 7:this.dk=this.H.trace.bind(this.H);this.K=t;T1e=14;break;case 33:this.EN=new d.wja(u,t,this.H);T1e=22;break;case 34:T1e=33;break;case 18:void 0 !== p && void 0 !== p.dm && void 0 !== p.zk && void 0 !== p.em && (z=(p.em - p.dm) / p.zk);v=t.E_?f.default.Yj.pD:f.default.Yj.qD;q && q.confidence >= v && q.Ya && z && this.zBb(q,p,z);T1e=15;break;case 15:T1e=this.gI.Et?27:26;break;case 21:var X1E="L";X1E+="R";T1e=v$W === X1E?35:34;break;case 26:this.xna=!1;T1e=25;break;}}}var B5p;B5p=2;for(;B5p !== 24;){switch(B5p){case 14:k.prototype.WY=function(){var G$k;G$k=2;for(;G$k !== 1;){switch(G$k){case 4:return this.e_a;break;case 2:return this.e_a;break;}}};k.prototype.GFb=function(n,p,q,v,t,w){var F8C,u;F8C=2;for(;F8C !== 5;){switch(F8C){case 2:u=this.K;u.rha && this.qDb(p) || !q || !v || !(q=w?Math.min(q,v,w):Math.min(q,v)) || (this.Xp.get(),v=this.Eb.ab,n=v.Tx(v.md,n),p.track.ew() && n > u.hqa && q === t?(u.set?(u.set({pipelineEnabled:!0}),u.set({maxParallelConnections:1}),u.set({maxActiveRequestsPerSession:2}),u.set({maxPendingBufferLen:500})):(u.mj=!0,u.DQ=1,u.Dy=2,u.Mca=500),p.track.L0({type:p.track.config.type,connections:1,openRange:!1,pipeline:!0,socketBufferSize:u.RS,minRequestSize:u.BK}),this.HFa++,u.rha && (this.k7=!0)):u.mj && !p.ew() && (n < u.gqa || q !== t) && (u.set?(u.set({pipelineEnabled:!0}),u.set({maxParallelConnections:3}),u.set({maxActiveRequestsPerSession:3}),u.set({maxPendingBufferLen:12E3})):(u.mj=!0,u.DQ=3,u.Dy=3,u.Mca=12E3),p.track.L0({type:p.config.type,connections:3,openRange:!1,pipeline:!0,socketBufferSize:u.RS,minRequestSize:u.BK}),this.IFa++,u.rha && (this.l7=!0)));F8C=5;break;}}};k.prototype.KFb=function(n,p){var s3Q,q,v,t;s3Q=2;for(;s3Q !== 6;){switch(s3Q){case 2:q=this.K;s3Q=1;break;case 1:s3Q=this.tYa?5:6;break;case 8:(this.Go.AW[t]=n,this.Go.C2[t]=p);s3Q=7;break;case 5:void 0 === this.Go && (this.Go={startTime:h.default.time.fa(),AW:[],C2:[],vya:void 0,pya:void 0});q=Math.floor((h.default.time.fa() - this.Go.startTime) / q.PW);s3Q=3;break;case 3:(v=this.Go.pya,t=this.Go.vya?q - this.Go.vya - 1:q);s3Q=9;break;case 7:this.Go.pya=q;s3Q=6;break;case 9:s3Q=void 0 === v || q > v?8:7;break;}}};k.prototype.f8b=function(){var m7z,n,R1l;m7z=2;for(;m7z !== 4;){switch(m7z){case 2:n=this.Eb;m7z=1;break;case 1:m7z=this.gI.Et?5:4;break;case 5:try{R1l=2;for(;R1l !== 1;){switch(R1l){case 2:(this.Xp.Lcc(),this.lZa.ud());R1l=1;break;}}}catch(p){var w4x="Hindsig";w4x+="ht: Error durin";w4x+="g clean up: ";R7xOY.x9d(7);n.Kb.vp(R7xOY.a2W(p,w4x));}m7z=4;break;case 8:m7z=this.gI.Et?6:6;break;}}};k.prototype.w8b=function(n){var F9M;F9M=2;for(;F9M !== 1;){switch(F9M){case 2:this.K.hP && n === f.default.$d.J && (this.IFa=this.HFa=this.hmb=this.imb=this.ehb=this.fhb=0);F9M=1;break;}}};k.prototype.t8b=function(n,p){var h2C;h2C=2;for(;h2C !== 1;){switch(h2C){case 2:n === f.default.$d.J && (this.Elc=p);h2C=1;break;}}};k.prototype.uKb=function(n){var N6H,v,w,p,q,t;N6H=2;for(;N6H !== 6;){switch(N6H){case 1:var J23="n";J23+="o";J23+="n";J23+="e";N6H=J23 !== p.GG && !0 !== this.Vt && n.state <= p.Cza?5:6;break;case 5:v=this.Xp.get();N6H=4;break;case 8:w=p.E_?f.default.Yj.pD:f.default.Yj.qD;v && v.confidence >= w && this.zna(p.GG,v,t,q) && (this.Vt=!0,this.l9=n.state);N6H=6;break;case 2:p=this.K;N6H=1;break;case 3:t=this.QXa(v);N6H=9;break;case 4:var y7h="i";y7h+="q";y7h+="r";N6H=y7h === p.GG?3:8;break;case 9:void 0 !== t && void 0 !== t.dm && void 0 !== t.zk && void 0 !== t.em && (q=(t.em - t.dm) / t.zk);N6H=8;break;}}};B5p=18;break;case 15:k.prototype.qDb=function(n){var C0f,p;C0f=2;for(;C0f !== 6;){switch(C0f){case 2:p=this.K;C0f=1;break;case 9:return !0;break;case 3:C0f=this.l7 && p.mj && !n.ew()?9:8;break;case 1:C0f=this.k7 && n.ew()?5:4;break;case 8:this.l7 && (this.l7=!1);return !1;break;case 4:this.k7 && (this.k7=!1);C0f=3;break;case 5:return !0;break;}}};k.prototype.QXa=function(n){var C8C,q45;C8C=2;for(;C8C !== 4;){switch(C8C){case 2:var p2n="t";p2n+="di";p2n+="g";p2n+="es";p2n+="t";q45=this.K.Jwa;C8C=q45 === p2n?1:3;break;case 1:n=n.jh;C8C=5;break;case 5:return n;break;case 3:C8C=9;break;case 9:n=n.cw && n.cw.kea;C8C=5;break;}}};k.prototype.zBb=function(n,p,q){var w10,v;w10=2;for(;w10 !== 3;){switch(w10){case 2:v=this.K;this.zna(v.GG,n,p,q)?this.Vt=!0:this.Vt=!1;this.l9=0;this.zna(v.cza,n,p,q) && (this.d2b=!0);w10=3;break;}}};return k;break;case 4:k.prototype.vGa=function(n){var B2U;B2U=2;for(;B2U !== 5;){switch(B2U){case 1:this.HV.vGa(n);B2U=5;break;case 2:this.K=n;B2U=1;break;}}};k.prototype.zna=function(n,p,q,v){var T0P,t;T0P=2;for(;T0P !== 7;){switch(T0P){case 4:return !!(p.Ya && q && c.Qa(v) && p.Ya.xa < t.gX && v > t.Aja);break;case 1:var Y4y="i";Y4y+="q";Y4y+="r";T0P=n === Y4y?5:9;break;case 3:return !1;break;case 8:return p.Ya?p.Ya.xa < t.gX:!0;break;case 2:t=this.K;T0P=1;break;case 5:T0P=void 0 !== v?4:3;break;case 9:var X4c="a";X4c+="v";X4c+="g";T0P=n === X4c?8:3;break;}}};k.prototype.MP=function(n){var s_U;s_U=2;for(;s_U !== 1;){switch(s_U){case 2:return n === g.u.J?this.HV.YK:this.HV.s0;break;}}};k.prototype.MC=function(n){var j1$;j1$=2;for(;j1$ !== 5;){switch(j1$){case 2:this.HV.MC(n);this.ZWa=n;j1$=5;break;}}};k.prototype.tY=function(){var A$8;A$8=2;for(;A$8 !== 1;){switch(A$8){case 2:return this.ZWa;break;case 4:return this.ZWa;break;}}};k.prototype.yL=function(n){var A_R;A_R=2;for(;A_R !== 5;){switch(A_R){case 2:this.HV.yL(n);this.e_a=n;A_R=5;break;}}};B5p=14;break;case 18:k.prototype.iGb=function(n){var d4w;d4w=2;for(;d4w !== 1;){switch(d4w){case 2:n.Vt=this.Vt;d4w=1;break;case 4:n.Vt=this.Vt;d4w=5;break;}}};k.prototype.PTb=function(n){var X6o,u,x,y,p,q,v,t,w;X6o=2;for(;X6o !== 25;){switch(X6o){case 6:p.isLowEnd=this.d2b;p.histdiscbw=this.tF;u=this.pab;X6o=12;break;case 19:u=c.isArray(u.Fj) && u.Fj.reduce(function(z,B){var o6E,A;o6E=2;for(;o6E !== 3;){switch(o6E){case 2:A=x(B.vg || void 0);B=x(B.n || void 0);-1 < A && -1 < B && z.push({mean:A,n:B});return z;break;}}},y);p.histtdc=u;X6o=17;break;case 11:x=function(z){var y8B;y8B=2;for(;y8B !== 1;){switch(y8B){case 2:return c.Qa(z)?Number(z).toFixed(2):-1;break;}}};w=[x(u.min || void 0),x(u.bea || void 0),x(u.dm || void 0),x(u.zk || void 0),x(u.em || void 0),x(u.cea || void 0),x(u.max || void 0)];y=[];X6o=19;break;case 17:p.histtd=w;X6o=16;break;case 3:w && w.Ya && (w=w.Ya.xa);p.actualbw=w;p.isConserv=this.Vt;p.ccs=this.l9;X6o=6;break;case 16:p.histage=this.qab;q.$sa && this.EN && (p.ishighstable=this.xna,p.avg_avtp=this.EN.fIb,p.avg_ne=Number(this.EN.hIb).toFixed(4));v.Mc && (q=h.default.zq(),p.maxAudioBufferAllowedBytes=q[f.default.$d.T],p.maxVideoBufferAllowedBytes=q[f.default.$d.J]);v.emit(t.type,t);X6o=25;break;case 12:X6o=u?11:16;break;case 2:var j_J="sta";j_J+="r";j_J+="t";j_J+="pl";j_J+="ay";var W$V="l";W$V+="o";W$V+="g";W$V+="da";W$V+="ta";(p={},q=this.K,v=this.Eb,t={type:W$V,target:j_J,fields:{}});t.fields=p;Object.keys(n).forEach(function(z){var W6D;W6D=2;for(;W6D !== 1;){switch(W6D){case 2:p[z]=n[z];W6D=1;break;}}});w=this.Xp.get();X6o=3;break;}}};k.prototype.QTb=function(n){var B90,w,u,x,p,q,v,t;B90=2;for(;B90 !== 6;){switch(B90){case 4:(w=0,u=0,x=0);v.confidence && (w=v.Ya?v.Ya.xa:0,u=v.rl?v.rl.xa:0,x=v.$P?v.$P.xa:0);n.location={responseTime:u,httpResponseTime:x,bandwidth:w,confidence:v.confidence,name:this.Elc};this.tYa && (n.bt={startTime:this.Go.startTime,audioMs:this.Go.AW,videoMs:this.Go.C2},this.Go.AW=[],this.Go.C2=[],this.Go.vya=this.Go.pya);B90=7;break;case 2:(p=this,q=this.K,v=this.Xp.get(),t=[]);[f.default.$d.J,f.default.$d.T].forEach(function(y){var q_r,z;q_r=2;for(;q_r !== 4;){switch(q_r){case 1:z=p.Eb.pZb(y);void 0 !== z && (y === f.default.$d.J && (q.hP && (z.parallelDownloadMs=p.fhb,z.parallelDownloadBytes=p.ehb,z.singleDownloadMs=p.imb,z.singleDownloadBytes=p.hmb,z.switchFromParallelToSingle=p.HFa,z.switchFromSingleToParallel=p.IFa),v && v.confidence && v.Ya && (z.asetput=v.Ya,z.aseiqr=v.cw,z.tdigest=v.jh && v.jh.FB() || void 0),v && v.avtp && (z.avtp=v.avtp.xa)),t.push(z));q_r=4;break;case 2:q_r=p.zc(y)?1:4;break;}}});n.stat=t;B90=4;break;case 7:var d0O="n";d0O+="on";d0O+="e";d0O !== q.GG && (n.isConserv=this.Vt,n.ccs=this.l9);B90=6;break;}}};B5p=15;break;case 2:Object.defineProperties(k.prototype,{Rba:{get:function(){var S29;S29=2;for(;S29 !== 1;){switch(S29){case 2:return this.xna;break;}}},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{CCa:{get:function(){var m57;m57=2;for(;m57 !== 1;){switch(m57){case 4:return this.lZa;break;case 2:return this.lZa;break;}}},enumerable:!1,configurable:!0}});k.prototype.xlb=function(n,p,q){var H6t;H6t=2;for(;H6t !== 4;){switch(H6t){case 2:this.tF=n;c.wa(p) || (this.qab=p);c.wa(q) || (this.pab=q);H6t=4;break;}}};B5p=4;break;}}})();b.QHa=a;},function(r,b,a){var l,g,m;function c(d,f,h,k){this.Eb=d;this.H=f;this.Il=this.H.error.bind(this.H);this.ac=this.H.warn.bind(this.H);this.dk=this.H.trace.bind(this.H);this.Eg=this.H.log.bind(this.H);this.zzb=new g();this.K=k;this.b7=[];this.s7=void 0;d=k.mba;l.call(this,d.numB * d.bSizeMs,d.bSizeMs);this.qna=!0;}a(29);b=a(3).default;l=a(153);a(452);g=a(1069);new b.Console("ASEJS_QOE_EVAL","media|asejs");m=a(134).LTa || a(134);c.prototype=Object.create(l.prototype);c.prototype.add=function(d,f,h){this.s7 || (this.s7=f);l.prototype.add.call(this,d,f,h);};c.prototype.lWb=function(){var d;if(0 !== this.b7.length){d=[];this.b7.forEach(function(f){f && f.qO && d.push(f.FB());});return d;}};c.prototype.ud=function(){this.b7=[];};c.prototype.wZb=function(){var d,f,h;d=this.get(this.K.mba.fillS);if(0 === d[0] || null === d[0]){d.some(function(n,p){if(n)return (f=n,h=p,!0);});if(f)for(var k=0;k < h;k++){d[k]=f;}}d={trace:d,timestamp:this.s7,TA:this.ce};this.qna=!1;l.prototype.reset.call(this);this.qna=!0;this.s7=void 0;return d;};c.prototype.ota=function(d){var f,h,k,n,p,q;if(d && !d.qO){h=d.Jv.Xbb;h && (d.LCa=this.tpa(d),d.Vea=!1);if((f=this.wZb()) && f.trace && f.trace.length){k=d.Ck.gG;n=f.timestamp;if(n > k){p=f.TA;q=f.trace[0];k=Math.ceil((n - k) / p);f.timestamp=n - k * p;for(n=0;n < k;n++){f.trace.splice(0,0,q);}}f.trace.length && f.trace.pop();}d.WC=f;f.trace && 0 === f.trace.length || void 0 === f.timestamp || (f=this.pJb(d),d.Igb=f,h && f && (d.Vea=f.Ut),d.qO=!0,this.b7.push(d));}};c.prototype.pJb=function(d){var p,q,v,t;function f(w){var y;for(var u,x=0;x < w.length;x++){y=w[x].reduce(function(z,B){return B.gb?z + 1:z;},0);if(void 0 === u)u=y;else if(y !== u)throw Error("length of per-fragment vmafs mismatch across streams [ceil(log2(delta))=" + Math.ceil(Math.log(y > u?y - u:u - y) * Math.LOG2E) + "]");}}for(var h=this.K.lba,k={Ut:!1,Fba:!1,ERb:0},n=0;n < h.length;n++){p=h[n];q=this.zzb.create(p);if(q){v=m.now();t={};try{f(d.qz);t=q(d);}catch(w){t.tP=w;}t.JGb=m.now() - v;k[p]=t;k.Ut=k.Ut || t.Ut;k.Fba=k.Fba || t.Fba;k.tP=k.tP || t.tP;}}return k;};c.prototype.tpa=function(d){var f;d=d.Jv;f="";1E3 > d.Ip && (f+=d.gqb);1E3 > d.$s && (f=f + ("" !== f?",":"") + d.u0a);1E3 <= d.Ip && 1E3 <= d.$s && (f="media");return f;};r.exports=c;},function(r,b,a){var g;function c(){}function l(m,d,f){return function(h){h.zs=d;h.compare=f;return m(h);};}g=a(1070);c.prototype.constructor=c;c.prototype.create=function(m){var d;switch(m){case "htwbr":break;case "htwbr-dlvmaf":d=l(g.cZ,!1,g.V2a);break;case "htwbr-segvmaf":d=l(g.cZ,!0,g.V2a);break;case "hvmafgr":d=l(g.cZ,!1,g.vra);break;case "hvmafgr-dlvmaf":d=l(g.cZ,!1,g.vra);break;case "hvmafgr-segvmaf":d=l(g.cZ,!0,g.vra);break;case "hvmafdp":d=l(g.dp,!1);break;case "hvmafdp-dlvmaf":d=l(g.dp,!1);break;case "hvmafdp-segvmaf":d=l(g.dp,!0);break;default:throw Error("Unrecognized hindsight algorithm");}return d;};r.exports=c;},function(r,b,a){var q,v,t,w,u,x,y,z,B,A,C;function c(D){var E,G,F;E=D.WC;G=D.Ck;F=D.Jv.Ta - G.ca;E.timestamp > G.gG && A.error("expect playSegment.tput.timestamp <= playSegment.startState.playingStartTime but has " + E.timestamp + " and " + G.gG);D=[];for(var L,O=E.timestamp,K=0;K < E.trace.length;K++){O >= G.gG && (D.push(E.trace[K]),L=E.trace[K]);O+=E.TA;F-=E.TA;}for(;0 < F;){D.push(L);F-=E.TA;}G=E.TA;E=D.length;if(0 === E)E=[];else {for(G=[G / 1E3];2 * G.length <= E;){G=G.concat(G);}G.length < E && (G=G.concat(G.slice(0,E - G.length)));E=G;}return new x(D,E,!1);}function l(D,E,G){E=D.qz[E][G];return E.ga + D.Ck.IW * E.duration / 8;}function g(D){var E,G,F,L,O,K,I,M,H;E=D.Ck;G=E.ro;F=D.Jv;L=F.by;K=[];for(F=L=Math.min(F.vK,L);F >= G;F--){C.update("backward step loop");I=O=D.qz[0][F].ca - D.Ck.ca;F < L && (q(void 0 !== K[F + 1],"expect solution[(fragIndex + 1)] !== undefined"),I=Math.min(K[F + 1].startTime,I));M=l(D,0,F);H=p(M,I,D.WC,E.gG);if(0 > H)throw Error("Infeasible: reason throughput at min bitrate");M={startTime:H,endTime:I,B9:I,aRb:O,YR:M,Ce:0};M.G7a=F;K[F]=M;}E=0;for(F=G;F <= L;F++){E+=K[F].YR;K[F].Hsa=E;}if(!m(D,K,G,L))throw Error("Infeasible: reason buffer capacity at min bitrate");return {Ut:!0,qAa:0 == K.length,Cs:K};}function m(D,E,G,F){var L,O,K,I,M,H,J,N,P,W;for(;G <= F;G++){C.update("checkBuffer");L=D;O=E;K=G;C.update("check buffer vacancy");I=L.Ck;M=L.qz[I.oZ];H=L.r1a;J=!0;L=L.sUb(Math.floor(O[K].startTime) + I.ca);N=I.Iu + O[K].Hsa;P=0;W=0;if(L.index < I.ro){for(var V=0,S=I.RC;S < L.index;S++){V+=M[S].ga;}P+=V;V=0;for(S=I.RC;S < L.index;S++){V+=M[S].duration;}W+=V;}else (P+=I.Iu,W+=I.Ip);V=0;for(S=I.ro;S < L.index;S++){V+=O[S].YR;}P+=V;V=0;for(S=I.ro;S < L.index;S++){V+=M[O[S].G7a].duration;}W+=V;L=N - P;I=M[K].ca + M[K].duration - I.ca - W;if(I >= H.jw || L >= H.Ppb)J=!1;O[K].A1a=L;O[K].oqa=I;if(!J)return !1;}return !0;}function d(D){D=D.Ck.ma;for(var E=[],G,F=0;F < D.length;F++){C.update("get prebuffered chunks loop");G=D[F];q(void 0 !== G.gb,"expect frag.vmaf !== undefined");G=new t(G.ga,G.duration / 1E3,G.gb);E.push(G);}return E;}function f(D){var E,G,F,L,O,K,H;E=D.qz;G=D.Ck;F=D.Jv;L=F.by;O=D.Pc;K=[];L=Math.min(F.vK,L);for(var I=0;I < E.length;I++){F=[];for(var M=G.ro;M <= L;M++){C.update("get chunk map from play segment");H=E[I][M];H=new t(H.ga,H.duration / 1E3,D.zs && void 0 !== H.gb?H.gb:O[I].gb);F.push(H);}K.push(F);}return new w(K,!1);}function h(D,E,G){q(D.WP() >= E.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var F=0,L=0,O,K,I=0;I < E.length;I++){C.update("calculate twvmaf");q(E[I].yab === I,"expect stream_choices[idx].i_epoch === idx");K=D.Kn[E[I].pba][I];O=void 0 !== G?G(K.quality):K.quality;K=K.lo;F+=O * K;L+=K;}return {q5a:F / L,p5a:1E3 * L};}function k(D,E,G){q(D.WP() >= E.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var F=0,L=0,O=G.Ck.IW,K,I=0,M=0,H=0;H < E.length;H++){C.update("calculate Bytes");q(E[H].yab === H,"expect stream_choices[idx].i_epoch === idx");K=D.Kn[E[H].pba][H];F+=K.ga;L+=O * K.lo * 1E3 / 8;I+=K.lo * G.Pc[E[H].pba].bitrate;M+=K.lo;}return {o5a:F,l5a:L,n5a:0 < M?1 * I / M:0};}function n(D,E,G){E=Math.min(D.length - 1,E);E=Math.max(0,E);return D[E] * G / 8;}function p(D,E,G,F){var L,O,K,I,M;L=G.trace;O=1 * G.TA;K=E + F - G.timestamp;I=Math.floor(1 * K / O);E=(K - I * O) / O * n(L,I,O);if(E >= D)M=K - 1 * D / E * (K - I * O);else for(K=I;E < D;){C.update("find download start time");--K;if(0 > K)return -1;I=n(L,K,O);if(E + I >= D){D=(D - E) / I * O;M=(K + 1) * O - D;break;}E+=I;}return M + G.timestamp - F;}q=a(2).assert;v=a(1071);t=a(453).Esb;w=a(453).Fsb;u=a(1072).Wtb;x=a(454).Vyb;y=a(273).$Ia;z=a(183).lU;B=a(92).default;A=new (a(3).default.Console)("ASEJS_QOE_EVAL","media|asejs");C=a(134).LTa || a(134);r.exports={cZ:function(D){var E,G,F,L,O,K,I,M,H,J,N,P,W,V,S,U,fa,qa,za,Aa,Qa,Q,la,sa,R,ha,wa,va;A.debug("greedy DEBUG false");C.rEa("greedy-" + (D.zs?"segvmaf":"dlvmaf") + ": ");try{D.sK=[];E=D.qz;G=D.Ck;F=D.Jv;L=F.by;O=D.Pc;L=Math.min(F.vK,L);for(I=G.ro;I <= L;I++){M=new v();D.sK[I]=M;E[0][I].uqa=E[0][I].ga;for(K=1;K < E.length;K++){E[K][I].uqa=E[K][I].ga;}K=0;H=E[K][I];H.OF=Infinity;H.zg=K;for(K=1;K < E.length;K++){H=E[K][I];H.zg=K;J=M.Nba()?E[0][I]:M.W9b();N=8 * H.uqa / H.duration;P=8 * J.uqa / J.duration;if(D.zs && void 0 !== H.gb)(W=H.gb,V=J.gb);else (W=O[K].gb,V=O[J.zg].gb);H.iw=N - P;H.OF=(W - V) / H.iw;isFinite(H.OF) && (0 < H.OF || K == E.length - 1) && 0 < H.iw && M.enqueue(H);}}for(I=G.ro;I <= L;I++){G=[];S=[];U=[];fa=D.sK[I].Bl();for(E=0;E < fa.length;E++){H=fa[E];G.push(H.iw.toFixed(2));D.zs && void 0 !== H.gb?S.push(H.gb):S.push(O[H.zg].gb);U.push(H.OF.toFixed(4));}}qa=g(D);if(qa.qAa)return qa;za=D.Ck;Aa=D.Jv;Qa=Aa.by;Qa=Math.min(Aa.vK,Qa);U=[];for(var T=za.ro;T <= Qa;T++){D.sK[T].Nba() || U.push(D.sK[T].WO());}q(void 0 !== D.compare,"playSegment.compare required for greedy");for(var Z=new z(U,D.compare);0 < Z.length;){C.update("upgrade frags");Q=Z.pop();a:{Qa=za=void 0;T=D;U=qa;S=Q;la=T.Ck;sa=T.Jv;R=Math.min(sa.vK,sa.by);ha=JSON.parse(JSON.stringify(U.Cs));q(S && ha[S.index].Ce < S.zg,"expect solution[targetFrag.index].selectedStreamIndex < targetFrag.streamIndex");Qa=S.index;za=ha[Qa];za.Ce=S.zg;za.YR=l(T,za.Ce,Qa);za.startTime=p(za.YR,za.B9,T.WC,la.gG);ha[Qa]=za;if(0 > za.startTime)wa=!1;else {for(Qa=S.index - 1;Qa >= la.ro;Qa--){za=ha[Qa];va=ha[Qa + 1].startTime;if(za.B9 <= va)break;za.B9=va;za.startTime=p(za.YR,za.B9,T.WC,la.gG);ha[Qa]=za;if(0 > za.startTime){wa=!1;break a;}}for(var Ea=S.index + 1;Ea <= R;Ea++){ha[Ea].Hsa=ha[Ea].YR + (Ea > T.Ck.ro?ha[Ea - 1].Hsa:0);}for(var Ya=S.index + 1;Ya <= R;Ya++){if(ha[Ya].startTime > ha[S.index].aRb){R=Ya - 1;break;}}m(T,ha,S,Math.min(Qa + 1,S.index),R)?(U.Cs=ha,wa=!0):wa=!1;}}wa && (D.sK[Q.index].Nba() || Z.push(D.sK[Q.index].WO()));}}finally{delete D.sK;}for(R=sa=la=wa=Q=Z=0;R < qa.Cs.length;R++){if(ha=qa.Cs[R])(va=D.qz[ha.Ce][ha.G7a],Z+=(va.gb?va.gb:D.Pc[ha.Ce].gb) * va.duration,Q+=va.duration,wa+=va.ga,la+=D.Ck.IW * va.duration / 8,sa+=va.duration * D.Pc[ha.Ce].bitrate);}qa.q5a=0 < Q?1 * Z / Q:0;qa.p5a=Q;qa.o5a=wa;qa.l5a=la;qa.n5a=0 < Q?1 * sa / Q:0;qa.dC=C.y9a();A.debug("Max heap used: " + Math.round(qa.dC / 1024 / 1024) + " MB");return qa;},vra:function(D,E){if(D.OF < E.OF)return 1;if(D.OF > E.OF)return -1;if(D.iw > E.iw)return 1;if(D.iw < E.iw)return -1;if(D.index > E.index)return 1;if(D.index < E.index)return -1;throw Error("Invalid frag comparison");},V2a:function(D,E){if(D.iw > E.iw)return 1;if(D.iw < E.iw)return -1;if(D.index > E.index)return 1;if(D.index < E.index)return -1;throw Error("Invalid frag comparison");},dp:function(D){var E,G,F,L,O,K;C.rEa("dp-" + (D.zs?"segvmaf":"dlvmaf") + ": ");E=g(D);if(!1 === E.Ut || !0 === E.qAa)return E;G=f(D);F=new u(G);L=d(D);L={Snb:c(D),N0a:D.Ck.IW,ffb:0,Beb:240,Aeb:8 * D.r1a.Ppb / 1E3,x1a:.5,e1a:new y(L),p6a:0,Auc:void 0,I$a:void 0,Mib:void 0,b0a:!0};F=F.dz(L);L=h(G,F,void 0);G=k(G,F,D);O=[];K=D.Ck.ro;F.forEach(function(I){O[K]={Ce:I.pba};K++;});B(L,E);B(G,E);E.Cs=O;E.dC=C.y9a();A.debug("Max heap used: " + Math.round(E.dC / 1024 / 1024) + " MB");return E;}};},function(r){var c;function b(l){this.Wg=a(l);this.Jh=this.Zf=0;if(c(l)){for(var g=l.length,m=0;m < g;++m){this[m]=l[m];}this.Zf=g;}}function a(l){if("number" !== typeof l)if(c(l))l=l.length;else return 16;l=Math.min(Math.max(16,l),1073741824);l=(l >>> 0) - 1;l|=l >> 1;l|=l >> 2;l|=l >> 4;l|=l >> 8;return (l | l >> 16) + 1;}b.prototype.Bl=function(){for(var l=this.Zf,g=Array(l),m=this.Jh,d=this.Wg,f=0;f < l;++f){g[f]=this[m + f & d - 1];}return g;};b.prototype.push=function(l){var g,m,d,h;g=arguments.length;m=this.Zf;if(1 < g){d=this.Wg;if(m + g > d){for(var f=0;f < g;++f){this.f6(m + 1);h=this.Jh + m & this.Wg - 1;this[h]=arguments[f];m++;this.Zf=m;}return m;}h=this.Jh;for(f=0;f < g;++f){this[h + m & d - 1]=arguments[f];h++;}this.Zf=m + g;return m + g;}if(0 === g)return m;this.f6(m + 1);f=this.Jh + m & this.Wg - 1;this[f]=l;this.Zf=m + 1;return m + 1;};b.prototype.pop=function(){var l,g,m;l=this.Zf;if(0 !== l){g=this.Jh + l - 1 & this.Wg - 1;m=this[g];this[g]=void 0;this.Zf=l - 1;return m;}};b.prototype.shift=function(){var l,g,m;l=this.Zf;if(0 !== l){g=this.Jh;m=this[g];this[g]=void 0;this.Jh=g + 1 & this.Wg - 1;this.Zf=l - 1;return m;}};b.prototype.unshift=function(l){var g,m,d,h;g=this.Zf;m=arguments.length;if(1 < m){d=this.Wg;if(g + m > d){for(var f=m - 1;0 <= f;f--){this.f6(g + 1);d=this.Wg;h=(this.Jh - 1 & d - 1 ^ d) - d;this[h]=arguments[f];g++;this.Zf=g;this.Jh=h;}return g;}h=this.Jh;for(f=m - 1;0 <= f;f--){h=(h - 1 & d - 1 ^ d) - d;this[h]=arguments[f];}this.Jh=h;this.Zf=g + m;return g + m;}if(0 === m)return g;this.f6(g + 1);d=this.Wg;f=(this.Jh - 1 & d - 1 ^ d) - d;this[f]=l;this.Zf=g + 1;this.Jh=f;return g + 1;};b.prototype.W9b=function(){var l;l=this.Zf;if(0 !== l)return this[this.Jh + l - 1 & this.Wg - 1];};b.prototype.get=function(l){var g;if(l === (l | 0)){g=this.Zf;0 > l && (l+=g);if(!(0 > l || l >= g))return this[this.Jh + l & this.Wg - 1];}};b.prototype.Nba=function(){return 0 === this.Zf;};b.prototype.clear=function(){for(var l=this.Zf,g=this.Jh,m=this.Wg,d=0;d < l;++d){this[g + d & m - 1]=void 0;}this.Jh=this.Zf=0;};b.prototype.toString=function(){return this.Bl().toString();};b.prototype.valueOf=b.prototype.toString;b.prototype.enqueue=b.prototype.push;b.prototype.WO=b.prototype.shift;b.prototype.toJSON=b.prototype.Bl;Object.defineProperty(b.prototype,"length",{get:function(){return this.Zf;},set:function(){throw new RangeError("");}});b.prototype.f6=function(l){this.Wg < l && this.bEb(a(1.5 * this.Wg + 16));};b.prototype.bEb=function(l){var g,m;g=this.Wg;this.Wg=l;l=this.Jh;m=this.Zf;if(l + m > g)for((l=l + m & g - 1,m=0);m < l;++m){this[m + g]=this[m + 0];this[m + 0]=void 0;}};c=Array.isArray;r.exports=b;},function(r,b,a){var q,v,t,w,u;function c(x,y,z){this.h1a=this.dAb(x,y,z);}function l(){}function g(){}function m(){}function d(x){this.IKb=x;}function f(){}function h(){}function k(){}function n(){this.Dsa={};}function p(x,y){return Array.apply(0,Array(y)).map(function(z,B){return B + x;});}q=a(0);v=a(2).assert;b=a(273).$Ia;t=a(454).Wyb;w=a(273).fsb;new (a(3).default.Console)("ASEJS_QOE_EVAL","media|asejs");u=a(134).LTa || a(134);c.prototype.constructor=c;c.prototype.dAb=function(x,y,z){v(x < y,"expect min_buffer_sec < max_buffer_sec but got " + x + " and " + y);v(0 < z,"expect buffer_step_sec > 0. but got " + z);for(var B=[];x < y;x+=z){B.push(x);}B[B.length - 1] < y && B.push(y);return B;};c.prototype.oF=function(x){return this.fBb(x,this.h1a);};c.prototype.fBb=function(x,y){x=this.EQb(x,y);if(0 === x)throw new l();if(x === y.length)throw new g();return x;};c.prototype.EQb=function(x,y){v(0 < y.length,"expect bins.length > 0 but got " + y.length);if(x < y[0])return 0;if(x >= y[y.length - 1])return y.length;for(var z=1;z < y.length;z++){if(y[z - 1] <= x && x < y[z])return z;}v(!1,"expect not coming here in digitize()");};c.prototype.Saa=function(){return p(1,this.h1a.length - 1);};l.prototype=Error();g.prototype=Error();m.prototype=Error();d.prototype.constructor=d;d.prototype.VERSION="0.5";d.prototype.Zsb=-20;d.prototype.Ysb=20;d.prototype.Xsb=void 0;d.prototype.Ssb=new b(void 0);d.prototype.Usb=0;d.prototype.Tsb=1;d.prototype.btb=!1;d.prototype.Wsb=!0;d.prototype.Vsb=!0;d.prototype.$sb=void 0;d.prototype.Qsb=!0;d.prototype.Rsb=0;d.prototype.dz=function(x){v(void 0 !== x.Snb,"expect recipe.time_varying_bandwidth !== undefined");return this.dEb(this.IKb,x.Snb,void 0 !== x.ffb?x.ffb:this.Zsb,void 0 !== x.Beb?x.Beb:this.Ysb,void 0 !== x.Aeb?x.Aeb:this.Xsb,void 0 !== x.e1a?x.e1a:this.Ssb,void 0 !== x.p6a?x.p6a:this.Usb,void 0 !== x.x1a?x.x1a:this.Tsb,void 0 !== x.Ngc?x.Ngc:this.btb,void 0 !== x.VZb?x.VZb:this.Wsb,void 0 !== x.I$a?x.I$a:this.Vsb,void 0 !== x.Mib?x.Mib:this.$sb,void 0 !== x.b0a?x.b0a:this.Qsb,void 0 !== x.N0a?x.N0a:this.Rsb);};d.prototype.dEb=function(x,y,z,B,A,C,D,E,G,F,L,O,K,I){var H,J,N,P,W,za,la,sa,R,ha,wa,va,Ea,Ya,wb,nb,zb,Oa,Za,Xa,hb;function M(sb){return sb[W];}u.rEa("dp: ");v(z <= C.yi,"expect min_buffer_sec <= bgn_buffer_queue.total_remain_sec");v(C.yi <= B,"expect bgn_buffer_queue.total_remain_sec <= max_buffer_sec");v(z <= D,"expect min_buffer_sec <= end_buffer_sec");v(D <= B,"expect end_buffer_sec <= max_buffer_sec");void 0 !== A && v(C.en <= A,"Need bgn_buffer_queue.total_remain_kb <= max_buffer_kb but has got " + C.en + " and " + A);J=new c(z,B,E);E=new n();N=0;P=C;E.put([0,J.oF(C.yi)],[N,P,void 0,void 0,y,void 0,void 0,void 0]);y=P=0;C=x.RZb();v(x.WP() == C.length,"expect chunk_map.get_n_epoch() == durations_sec.length");W=-1;try{for(var V=q.__values(C),S=V.next();!S.done;S=V.next()){W+=1;C=!0;for(var U=x.Kn.map(M),fa=J.Saa(),qa=0;qa < fa.length;qa++){za=fa[qa];if(E.gya([W,za]))for(var Aa=E.get([W,za]),Qa=Aa[0],T=Aa[1],Z=Aa[4],Q=0;Q < U.length;Q++){la=U[Q];u.update("epoch-ibuf-chunk loop");sa=void 0 !== O?O(la.quality):la.quality;R=Z.Hi();try{Aa=this.JAb(T,la,R,I);ha=Aa[0];wa=Aa[1];va=Aa[2];Ea=Aa[3];Ya=Aa[4];wb=Aa[5];}catch(sb){if(sb instanceof t)continue;else if(sb instanceof l){P+=1;continue;}else throw sb;}nb=!1;zb=!1;try{Oa=J.oF(Ea.yi);F && J.oF(ha);L && J.oF(wa);if(void 0 !== A)if(L){if(va.en > A)throw new m();}else if(Ea.en > A)throw new m();}catch(sb){if(sb instanceof l)(Oa=void 0,P+=1);else if(sb instanceof g)(K?nb=!0:y+=1,Oa=void 0);else if(sb instanceof m)(K?zb=nb=!0:y+=1,Oa=void 0);else throw sb;}try{if(nb && zb){v(void 0 !== A,"expect max_buffer_kb !== undefined");Za=L?va.en - A:Ea.en - A;v(0 <= Za,"pause dlnd kb cannot be -ve but is " + Za);try{Xa=Ea.s$b(Za);}catch(sb){if(sb instanceof w)throw new l();throw sb;}R.ohb(Xa);Ya+=Xa;v(Ea.yi < B,"expect cur_buffer_queue.total_remain_sec < max_buffer_sec");Oa=J.oF(Ea.yi);}else if(nb && !zb){Xa=L?va.yi - B + 1E-8:Ea.yi - B + 1E-8;v(0 <= Xa,"pause dlnd kb cannot be -ve but is " + Xa);try{Ea.Hhb(Xa);}catch(sb){if(sb instanceof w)throw new l();throw sb;}R.ohb(Xa);Ya+=Xa;v(z <= Ea.yi,"expect min_buffer_sec <= cur_buffer_queue.total_remain_sec");v(Ea.yi < B,"cur_buffer_queue.total_remain_sec < max_buffer_sec");Oa=J.oF(Ea.yi);}else Xa=0;}catch(sb){if(sb instanceof l)(Oa=void 0,P+=1,Xa=void 0);else if(sb instanceof t)continue;else throw sb;}N=E.gya([W + 1,Oa])?E.get([W + 1,Oa])[0]:-Infinity;this.XEb(Ea,Oa,la,sa,za,W + 1,N,E,Qa,Q,R,Ya,wb,Xa) && (C=!1);}}if(C){--W;break;}}}catch(sb){var cb;cb={error:sb};}finally{try{S && !S.done && (H=V.return) && H.call(V);}finally{if(cb)throw cb.error;}}try{hb=this.GXa(W + 1,J.oF(D),E,G,J);}catch(sb){if(sb instanceof f)try{hb=this.GXa(W + 1,J.oF(D),E,!G,J);}catch(Hb){if(Hb instanceof f){if(P > y)throw new h();throw new k();}throw Hb;}else throw sb;}za=hb;for(z=[];-1 < W;W--){Aa=E.get([W + 1,za]);N=Aa[0];P=Aa[1];za=Aa[3];B=Aa[5];A=Aa[6];D=Aa[7];Aa=Aa[2];la=x.Kn[Aa][W];G=la.IB();sa=la.quality;z.unshift({yab:W,pba:Aa,info:{Bsc:G,quality:sa,kqa:P.yi,jqa:P.en,N5a:B,Ya:A,tBa:D}});}return z;};d.prototype.GXa=function(x,y,z,B,A){var C,D;C=!1;D=A.Saa()[0];for(A=A.Saa()[A.Saa().length - 1];;){if(y < D || y > A){C=!0;break;}if(z.gya([x,y]))break;else y=B?y - 1:y + 1;}if(C)throw new f("backtrack fails to find a solution");return y;};d.prototype.XEb=function(x,y,z,B,A,C,D,E,G,F,L,O,K,I){z=G + B * z.lo;return void 0 !== y && z > D?(E.put([C,y],[z,x,F,A,L,O,K,I]),!0):!1;};d.prototype.JAb=function(x,y,z,B){var A,C,D;B=(y.IB() + B) * y.lo;z=z.iRb(B);B/=z;A=x.yi - z;C=x.yi + y.lo;D=x.Hi();D.add(y,void 0);x=x.Hi();x.add(y,void 0);try{x.Hhb(z);}catch(E){if(E instanceof w)throw new l();throw E;}return [A,C,D,x,z,B];};f.prototype=Error();h.prototype=new f();k.prototype=new f();n.prototype={kGa:function(x){return x.join(",");},put:function(x,y){this.Dsa[this.kGa(x)]=y;},get:function(x){return this.Dsa[this.kGa(x)];},gya:function(x){return (this.kGa(x) in this.Dsa);}};r.exports={Wtb:d,ync:c,Xmc:l,Ymc:g};},function(r,b,a){var c,l,g,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.EUa=void 0;r=a(0);c=r.__importStar(a(11));l=a(6);g=a(6);m=r.__importDefault(a(3));d=a(413);f=a(451);a=(function(){function h(k,n,p,q){var O4A;O4A=2;for(;O4A !== 9;){switch(O4A){case 2:this.mb=k;this.H=n;this.zc=p;this.zj=q;O4A=3;break;case 3:var u66="1SIYb";u66+="Z";u66+="rNJCp";u66+="9";u66;O4A=9;break;}}}var Y_I;Y_I=2;for(;Y_I !== 13;){switch(Y_I){case 2:h.prototype.oL=function(k,n){var K4m,w,u,x,p,q,v,t;K4m=2;for(;K4m !== 50;){switch(K4m){case 23:K4m=k > t?22:31;break;case 16:return;break;case 51:var R_$="se";R_$+="ek";R_$+="Fa";R_$+="iled";var G65="seek, no manife";G65+="st at";G65+=" manifestInd";G65+="e";G65+="x:";(this.H.warn(G65,n),this.mb.emit(R_$));K4m=50;break;case 27:return;break;case 4:var z0w=" ";z0w+="p";z0w+="layerState";z0w+=":";z0w+=" ";var o3A=" media.cur";o3A+="r";o3A+="e";o3A+="ntPts:";o3A+=" ";var G3V=" current mani";G3V+="fes";G3V+="t: ";var q_6=" ";q_6+="manife";q_6+="stIndex: ";var R1$="s";R1$+="eek";R1$+=":";R1$+=" ";q=k;v.jj && this.zj.bo(R1$ + k + q_6 + n + G3V + this.mb.Qf.O.Vb + o3A + t + z0w + this.mb.X.getState());c.wa(n) && (n=this.mb.Qf.O.Vb);this.mb.ab.jkb();K4m=7;break;case 53:this.mb.i7();K4m=43;break;case 21:K4m=!this.mb.H7(v.O.Vb + 1)?35:31;break;case 11:n < t.O.Vb && v.O.Vf.replace && (v.O.Vf.replace=!1);w=this.mb.ab.md;g.hg.forEach(function(y){var x_G;x_G=2;for(;x_G !== 1;){switch(x_G){case 2:(y=w.Ae(y)) && p.mb.FZa(y);x_G=1;break;}}});K4m=19;break;case 26:t=this.mb.ab.md.hY(v.Ta || Infinity,v.O);K4m=25;break;case 24:t=this.mb.jt?this.mb.yo?Math.min(t[g.u.T].ca,t[g.u.J].ca):t[g.u.T].ca:t[g.u.J].ca;K4m=23;break;case 33:return;break;case 35:var W6S="seek";W6S+="De";W6S+="lay";W6S+="e";W6S+="d";this.XD={Vb:v.O.Vb + 1,$k:k};this.mb.emit(W6S);K4m=33;break;case 39:this.mb.wZa();u=this.mb.ab.md.W8(k).zR;v.uAa();x=this.mb.ab.md;g.hg.forEach(function(y){var F0E,z;F0E=2;for(;F0E !== 5;){switch(F0E){case 2:z=x.Ae(y);p.zc(y) && p.EDb(z,u[y]);F0E=5;break;}}});K4m=53;break;case 22:K4m=v.O.Vf.qg?21:32;break;case 43:K4m=this.mb.X.bcb()?42:41;break;case 25:K4m=t.length?24:52;break;case 2:p=this;null === (q=this.pYa) || void 0 === q?void 0:q.cancel();(v=this.mb.K,t=this.mb.X.cg());K4m=4;break;case 28:K4m=(t=this.mb.Qf.O.Vb === n && !this.EBb(n) && k === v.ca)?44:39;break;case 32:(k=t,q=k + this.mb.ab.mg);K4m=31;break;case 15:K4m=this.Vx(f.pia.yua(n),!1,!0)?27:26;break;case 7:K4m=(v=this.mb.gi(n))?6:51;break;case 42:var h2_="s";h2_+="e";h2_+="e";h2_+="k";var C_n="pts";C_n+="change";C_n+="d";return (this.mb.emit(C_n,q),this.mb.emit(h2_),this.Q7(n),k=t && this.mb.Qb.lA()?100:0,this.mb.q7(1,k),this.mb.Ml(),q);break;case 18:var l28="seek";l28+="D";l28+="elay";l28+="ed";this.XD={Vb:n,$k:k};this.mb.emit(l28);K4m=16;break;case 12:K4m=n != t.O.Vb?11:26;break;case 6:!v.O.Vf.p_ && 0 < n && (q=this.mb.lX(n,k));this.mb.X.Od(l.La.vm);t=this.mb.Qf;K4m=12;break;case 52:var A2R="s";A2R+="e";A2R+="ekDel";A2R+="ayed";(this.XD={Vb:n,$k:k},this.mb.emit(A2R));K4m=50;break;case 19:K4m=!this.mb.iXa(n)?18:15;break;case 31:this.mb.X.Od(l.La.Yh);this.mb.Lmb();this.mb.ab.iic(k,n);K4m=28;break;case 44:g.hg.forEach(function(y){var t9x;t9x=2;for(;t9x !== 1;){switch(t9x){case 2:p.mb.Ex[y].yg(!0);t9x=1;break;}}});K4m=43;break;case 41:var o5Y="se";o5Y+="ek";o5Y+="Failed";var D4o="af";D4o+="ter ";D4o+="seeking, playerState no longer STARTING: ";this.H.warn(D4o + this.mb.X.getState());this.mb.emit(o5Y);K4m=50;break;}}};h.prototype.seek=function(k,n){var y0x,p;y0x=2;for(;y0x !== 9;){switch(y0x){case 4:this.mb.gi(n).O.Vf.p_ || this.mb.LN || (p=this.mb.lB(n,k));return this.oL(p,n);break;case 2:p=k;c.wa(n) && (n=this.mb.Qf.O.Vb);this.mb.ab.jkb();y0x=4;break;}}};h.prototype.Vx=function(k,n,p){var I_h,q,v;I_h=2;for(;I_h !== 9;){switch(I_h){case 2:v=this.mb.ab.Vx(k,n);I_h=1;break;case 1:I_h=n?5:4;break;case 5:return v;break;case 4:var u8M="s";u8M+="e";u8M+="ek";var h1E="pts";h1E+="c";h1E+="hange";h1E+="d";v?(this.mb.X.Od(l.La.vm),(k=this.mb.ab.oi.children[k]) && this.mb.emit(h1E,null !== (q=k.Bd) && void 0 !== q?q:k.mxa),this.mb.X.Od(l.La.Yh),this.mb.emit(u8M),k && this.Q7(k.O.Vb),this.mb.q7(1),this.mb.Ml(),this.mb.Qb.lA()):p || (q=this.mb.ab.XYb(k),this.oL(q));return v;break;}}};h.prototype.EBb=function(k){var Z$x;Z$x=2;for(;Z$x !== 1;){switch(Z$x){case 2:return !!this.mb.gi(k).vW;break;}}};Y_I=3;break;case 3:h.prototype.Q7=function(k){var N8S,n;N8S=2;for(;N8S !== 4;){switch(N8S){case 2:n=this;k=this.mb.gi(k);k.vW || (k.vW=!0,g.hg.forEach(function(p){var b_O;b_O=2;for(;b_O !== 1;){switch(b_O){case 2:n.mb.$h[p].resume();b_O=1;break;}}}),this.mb.i7());N8S=4;break;}}};h.prototype.EDb=function(k,n){var A0q,p,q,v;A0q=2;for(;A0q !== 8;){switch(A0q){case 2:(p=this,v=k.mediaType);k.bS(n);k.Adc();A0q=4;break;case 4:A0q=(null === (q=this.mb.Mk) || void 0 === q?0:q.XP())?3:9;break;case 3:(this.mb.Mk.Zm.forEach(function(t){var d6e;d6e=2;for(;d6e !== 1;){switch(d6e){case 2:p.mb.iO(t,!1);d6e=1;break;}}}),this.mb.Mk=void 0);A0q=9;break;case 9:this.mb.b$.MDb(v,k.hb.O);A0q=8;break;}}};h.prototype.bna=function(){var V$u,k,n;V$u=2;for(;V$u !== 4;){switch(V$u){case 2:V$u=this.XD?1:4;break;case 9:V$u=this.XD?8:3;break;case 1:(k=this.XD.$k,n=this.XD.Vb);this.mb.gi(n) && (this.XD=void 0,this.oL(k,n));V$u=4;break;}}};Y_I=7;break;case 7:h.prototype.po=function(k){var M7h,p,q;M7h=2;for(;M7h !== 7;){switch(M7h){case 2:p=this;null === (q=this.pYa) || void 0 === q?void 0:q.cancel();M7h=5;break;case 5:this.mb.Lmb();this.mb.ab.oi.po(k);g.hg.forEach(function(v){var n0M,t;n0M=2;for(;n0M !== 9;){switch(n0M){case 1:var x6E="skip: no";x6E+="t ";x6E+="resuming buf";x6E+="ferManager, audio track switch in progress";t=p.mb.Qb.hh[v];p.mb.Et && (t.aFa=m.default.time.fa());t.J2?t.ac(x6E):p.mb.$h[v].resume();n(p.mb.ab.md,v);n0M=9;break;case 2:n0M=p.zc(v)?1:9;break;}}});M7h=9;break;case 9:this.pYa=k=new d.XM(this.mb.F1());return k.P_(function(){var l2y;l2y=2;for(;l2y !== 5;){switch(l2y){case 2:p.mb.X.Od(l.La.Xc);p.mb.bW();l2y=5;break;}}}).skb;break;}}function n(v,t){var l26;l26=2;for(;l26 !== 5;){switch(l26){case 2:var O5R="skip: unexpected behaviour - a non-presenting branch doesn";O5R+="'t";O5R+=" have a previous";O5R+=" branch";v !== p.mb.ab.oi && (v.pj?n(v.pj,t):p.H.error(O5R));(v=v.Ae(t)) && v.po();l26=5;break;}}}};h.prototype.ci=function(k){var a2R,n,p,q;a2R=2;for(;a2R !== 8;){switch(a2R){case 1:a2R=k < (null !== (n=p.Bd) && void 0 !== n?n:p.mxa) || k >= q?5:4;break;case 5:return !1;break;case 2:(p=this.mb.ab.oi,q=0 < Object.keys(p.G && p.G.Gm || ({})).length && !p.Tl?p.Xf - this.mb.K.OQ:p.Xf);a2R=1;break;case 4:n=this.mb.ey(k,g.u.T,!0);k=this.mb.ey(k,g.u.J,!0);return void 0 !== n && void 0 !== k && n.complete && k.complete;break;}}};return h;break;}}})();b.EUa=a;},function(r,b,a){var c,l,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.RKa=void 0;r=a(0);c=r.__importStar(a(11));l=a(6);g=a(6);m=r.__importDefault(a(3));a=(function(){var B_f;B_f=2;for(;B_f !== 18;){switch(B_f){case 2:d.prototype.g6=function(){var L0i;L0i=2;for(;L0i !== 1;){switch(L0i){case 2:this.LH && (clearTimeout(this.LH),this.LH=void 0);L0i=1;break;}}};d.prototype.yXa=function(){var I32,f,h,k,n;I32=2;for(;I32 !== 6;){switch(I32){case 2:I32=!this.ib.Pg.zoa && !this.ib.Jo()?1:6;break;case 1:var b5r="firs";b5r+="tDr";b5r+="iveStrea";b5r+="min";b5r+="g";void 0 === this.ib.xAb && (this.ib.xAb=!0,this.ib.Kb.wn(b5r));(f=this.ib.ab,h=f.md.Ae(g.u.T),k=f.md.Ae(g.u.J),n=!k || k.Zi);(!h || h.Zi) && n && this.ib.LN && f.iLb(k?k.Nc:h.Nc);k=!k || k.Ls;h && !h.Ls || !k || this.ib.LN || (this.ib.Mc.sg && this.ib.Mc.sg.zI(!0,this.ib.un.sessionId),this.ib.Kb.fgb());this.vXa(f.md);this.OEb();I32=6;break;}}};d.prototype.OZa=function(){var E0E;E0E=2;for(;E0E !== 1;){switch(E0E){case 2:return this.ib.Jo() || this.ib.X.dcb() || this.ib.X.ccb()?!0:!1;break;}}};d.prototype.m6=function(f){var I5t;I5t=2;for(;I5t !== 1;){switch(I5t){case 2:return this.OZa() || this.ib.Qb.hh[f.mediaType].J2 || this.ib.LD.NA?!1:!0;break;}}};d.prototype.Ml=function(){var F$3,f,h;F$3=2;for(;F$3 !== 5;){switch(F$3){case 2:(f=this,h=this.ib.K);!this.ib.bZa || this.ib.j7 || this.ib.x7 || (this.ib.j7=setTimeout(function(){var j9_;j9_=2;for(;j9_ !== 4;){switch(j9_){case 2:clearTimeout(f.ib.j7);f.ib.j7=void 0;f.yXa();j9_=4;break;}}},h.FBa),h.hP && this.ib.yo && (this.LH || (this.LH=setTimeout(function(){var Q24,k;Q24=2;for(;Q24 !== 3;){switch(Q24){case 2:clearTimeout(f.LH);f.LH=void 0;k=f.ib.ab.md.Ae(g.u.J);k && f.QWa(k);Q24=3;break;}}},h.HFb))));F$3=5;break;}}};B_f=9;break;case 14:d.prototype.Dkc=function(f,h,k){var m_M;m_M=2;for(;m_M !== 4;){switch(m_M){case 2:h.sya=f.bc;c.Qa(k.gy) || (k.zkc(f.tu,f.PB || -1,f.bitrate),c.wa(f.dEa) || this.ib.Zh.xlb(f.dEa,f.Cq,f.Dq));m_M=5;break;case 5:f.url && (h.zya=f.url);m_M=4;break;}}};d.prototype.Yzb=function(f,h){var r3e,k;r3e=2;for(;r3e !== 5;){switch(r3e){case 2:k=this.ib.Qb.Gy[f.mediaType];return this.ib.bZa && h.bc && k.sya && h.bc !== k.sya && (0 < f.Xa.aG || 0 < f.Xa.Eu)?!0:!1;break;}}};d.prototype.Zzb=function(f,h){var i1q,y,k,n,p,q,v,t,w,u,x;i1q=2;for(;i1q !== 32;){switch(i1q){case 6:k=this.ib.Qf.O;i1q=14;break;case 19:i1q=this.ib.Mc.aya?18:17;break;case 26:i1q=this.dBb(p) >= n.seb?25:24;break;case 8:i1q=v >= n.Mca?7:6;break;case 3:return !1;break;case 9:v=f.Xa.qBa;i1q=8;break;case 7:return !1;break;case 14:y=this.ib.X.Yr(k);i1q=13;break;case 33:return 0 < n.bu && !q && t + (h?y:0) > n.bu || void 0 !== this.eXa && w > this.eXa || p === g.u.J && k.Vf.qg && w > n.Ica && (h=this.ib.Mc.Ac.get(),h.confidence && h.Ya && h.Ya.xa * f.LO > n.xza)?!1:!0;break;case 15:i1q=void 0 === u || u < n.i5b?27:26;break;case 25:return !1;break;case 21:i1q=(q=this.ib.X.Uf())?35:33;break;case 35:i1q=(v=1,f.lqa < n.fC && (v=n.fC),f.Xa.aG >= v)?34:33;break;case 34:return !1;break;case 12:return !1;break;case 27:return !1;break;case 24:u=this.ib.ab.ijc();i1q=23;break;case 2:var U2j="floored";U2j+=" to ";U2j+="0";var f93="negative s";f93+="cheduledBu";f93+="ff";f93+="erLevel";f93+=":";(n=this.ib.K,p=f.mediaType,q=f.pca,v=this.ib.X.cg(),t=this.ib.X.getState(),w=this.ib.ab.Tx(q,p),u=f.Ec + q.mg - v);0 > u && (f.ac(f93,u,U2j),u=0);x=h?h.Ec:0;i1q=4;break;case 20:i1q=h && (y=this.ib.ab.LI(q,h.mediaType),x=f.Ec - x,this.zc(h.mediaType) && !h.Zi && x >= n.Eza && u > n.yk)?19:26;break;case 23:i1q=!c.wa(n.Dy) && u >= n.Dy || f.LO + v >= Math.max(n.jw,this.ib.Mc.A1 + n.CAa * q.O.m5b[p])?22:21;break;case 13:i1q=t === l.La.Xc && w > n.vza && !k.Vf.qg && !y && !k.o_ || w && v > Math.max(w * n.Aza / 100,n.m6b)?12:11;break;case 22:return !1;break;case 4:i1q=(null === (k=f.Th) || void 0 === k?0:k.t_b())?3:9;break;case 17:u=void 0;h && (u=h.mediaType,x=m.default.zq()[u],u=n.Skc?this.ib.ab.Ldb(q,u).Rg / x:y / x);i1q=15;break;case 18:return !1;break;case 11:t=this.ib.ab.LI(q,p);y=0;i1q=20;break;}}};d.prototype.dBb=function(f){var I1V;I1V=2;for(;I1V !== 1;){switch(I1V){case 2:return this.ib.ab.eb.reduce(function(h,k){var w2_;w2_=2;for(;w2_ !== 1;){switch(w2_){case 2:return h + k.QYb(f);break;}}},0);break;}}};B_f=10;break;case 9:d.prototype.QWa=function(f,h){var b7v,k,n,p,q;b7v=2;for(;b7v !== 3;){switch(b7v){case 2:(k=f.mediaType,n=this.ib.Qb.Gy[k].nK,p=f.De.JZ);b7v=1;break;case 1:b7v=n && p?5:3;break;case 5:q=this.ib.Qb.hh[k].af;q && (this.ib.X.Uf() || this.ib.Zh.GFb(k,q,n.bitrate,p.bitrate,f.V_b.bitrate,h));b7v=3;break;}}};d.prototype.vXa=function(f,h){var V73,k,n,p,q,v;V73=2;for(;V73 !== 7;){switch(V73){case 4:V73=(this.ib.yo && this.wXa(f,n,p),this.ib.jt && this.wXa(f,p,n),q=!p || p.Zi,v=!n || n.Zi,!v || !q)?3:9;break;case 3:return;break;case 5:V73=!v || !q?4:9;break;case 9:var i6v="Still in bufferi";i6v+="ng state wh";i6v+="i";i6v+="le pipel";i6v+="ine's are done";this.ib.X.Uf() && (this.H.warn(i6v),this.ib.Qb.lA());h || k.zu || f.O.Vf.qg || !this.nKb(f) || ((h=this.ib.X.Uf()) && this.ib.K.lsa && (this.ib.soa(),h=!1),f.S$ || this.ib.ab.Z_b(f,h),f.uO(),f.pKb() && (h=Object.keys(f.children),this.ib.K.e$ && 1 === h.length && !f.children[h[0]].active && this.ib.ab.Kdb(f,h[0]),this.AAb(f,k)));V73=7;break;case 2:(k=f.G,n=f.Ae(g.u.J),p=f.Ae(g.u.T),q=!p || p.Zi,v=!n || n.Zi);k.bm || this.ib.ab.Bda(f,k,f.O.Vf.qg && 0 === f.O.Vb);V73=5;break;}}};d.prototype.AAb=function(f,h){var d_G,w,u,v,t,p,q,n,k;d_G=2;for(;d_G !== 23;){switch(d_G){case 27:f.Cma=p.ko;d_G=26;break;case 12:p=t.reduce(function(x,y){var q71;q71=2;for(;q71 !== 4;){switch(q71){case 2:y.ko=y.hb.ko;y.cda=Math.min(y.ko[0],y.ko[1]);R7xOY.x9d(29);var i6m=R7xOY.L7v(1,17,18);return [x[0] + y.weight,x[i6m] + y.cda];break;}}},[0,0]);(w=p[0],u=p[1]);d_G=10;break;case 7:(v=[],t=[]);c.pg(f.children,function(x,y){var p1Y;p1Y=2;for(;p1Y !== 5;){switch(p1Y){case 2:y=h.Gm[y].weight;0 !== y && (y={weight:y,hb:x},x.Wqa(!0,!0) || t.push(y),v.push(y));p1Y=5;break;}}});0 === t.length?t=v:2 < t.length && (t.sort(function(x,y){var g3s;g3s=2;for(;g3s !== 1;){switch(g3s){case 2:return y.weight - x.weight;break;}}}),t.length=2);d_G=13;break;case 26:p.Ne || (p.Ne={zba:m.default.time.fa(),IC:0});p.Ne.weight=q;this.vXa(p,!0);d_G=23;break;case 8:d_G=!p?7:26;break;case 9:(p=f.nN,q=h.Gm[p.G.id].weight);d_G=8;break;case 3:f.nN=void 0;d_G=8;break;case 4:d_G=Math.min(n[0] - f.Cma[0],n[1] - f.Cma[1]) >= k.HKb?3:9;break;case 5:n=f.nN.ko;d_G=4;break;case 1:d_G=this.ib.Mc.Rwa && f.nN && f.Cma?5:8;break;case 10:0 !== w && 0 !== u?(c.pg(t,function(x){var H7P;H7P=2;for(;H7P !== 4;){switch(H7P){case 2:x.Zlc=x.weight / w;x.SIb=x.cda / u;x.usage=x.SIb - x.Zlc;H7P=4;break;}}}),t.sort(function(x,y){var i85;i85=2;for(;i85 !== 1;){switch(i85){case 2:return x.usage - y.usage;break;case 4:return x.usage / y.usage;break;}}})):t.sort(function(x,y){var F77;F77=2;for(;F77 !== 4;){switch(F77){case 2:x=Math.min.apply(null,x.hb.ko);y=Math.min.apply(null,y.hb.ko);R7xOY.f4w(0);return R7xOY.a2W(y,x);break;}}});d_G=20;break;case 17:p=t[0].hb;q=t[0].weight;f.nN=p;d_G=27;break;case 18:return;break;case 13:d_G=1 < t.length?12:20;break;case 2:k=this.ib.K;d_G=1;break;case 20:d_G=0 === t.length?19:17;break;case 19:var y7E="No sub";y7E+="branch c";y7E+="andidates";y7E+=" to drive";this.H.warn(y7E);d_G=18;break;}}};d.prototype.wXa=function(f,h,k){var w56,q,v,t,n,p,w;w56=2;for(;w56 !== 8;){switch(w56){case 9:var V$e="S";V$e+="till in buffering state while pipeline does not hav";V$e+="e vacancy";var t75="drivePipeline, delaying aud";t75+="io until video actualStar";t75+="tP";t75+="ts determine";t75+="d";c.wa(w.HK) || (n.hL && p === g.u.T && c.wa(this.ib.Qb.hh[g.u.J].hq)?h.ac(t75):(c.wa(h.Sm) && (h.Sm=h.pd?h.pd.index:h.Pta(h.Ec)),h.Ud && h.Sm > h.Ud.index?f.O.Vf.qg && c.wa(w.Ta) && c.wa(f.Nc) || (h.Zi || this.ib.FZa(h),f=this.ib.Qf.O.Vb,f < this.ib.KP() - 1 && this.ib.H7(f + 1)):this.m6(h) && (n.nSb && !this.ib.X.Uf() && 0 >= h.xK?h.qkc(n.L5b):this.Zzb(h,k)?(h.n3b=m.default.time.fa(),k=this.ib.Qb.Wva(h),n=k.zg,c.wa(n) || (n=h.track.Pc[n],this.Yzb(h,n) || ((p=n.saa())?(h.e3b=n.bitrate,h.O4b(n,p,this.ib.X.Uf(),q.af,k.Ny),this.Dkc(n,t,v),f.Ne && ++f.Ne.IC):n.OG()))):this.ib.X.Uf() && (h.dk(V$e),this.ib.Qb.lA()))));w56=8;break;case 5:(q=this.ib.Qb.hh[p],v=this.ib.Qb.SC[p],t=this.ib.Qb.Gy[p]);w56=4;break;case 1:w56=!h.Zi?5:8;break;case 4:w56=q.af && (void 0 === h.RK || (h.bS(h.RK,h.Y9b),void 0 === h.RK))?3:8;break;case 2:(n=this.ib.K,p=h.mediaType);w56=1;break;case 3:w=this.ib.Qf;w56=9;break;}}};B_f=14;break;case 10:d.prototype.nKb=function(f){var n36,h,k,n;n36=2;for(;n36 !== 4;){switch(n36){case 2:(h=this,k=this.ib.ab,n=!0);c.pg(f.G.Gm,function(p,q){var D0Y,v;D0Y=2;for(;D0Y !== 7;){switch(D0Y){case 1:q=p.O;p=q.lj[g.u.T];v=q.lj[g.u.J];D0Y=3;break;case 3:p && v && p.stream.pe && v.stream.pe || (n=!1);h.ib.X.Yr(q) || (n=!1);D0Y=7;break;case 8:var m8J="in";m8J+=" d";m8J+="e";m8J+="sts";m8J+=":";var L3K="in";L3K+="val";L3K+="id s";L3K+="egment:";f.ac(L3K,q,m8J,f.G.Gm);D0Y=7;break;case 2:D0Y=(p=k.Be(q))?1:8;break;}}});return n;break;}}};d.prototype.OEb=function(){var q3U,f,h,k;q3U=2;for(;q3U !== 5;){switch(q3U){case 2:(f=this.ib.K,h=this.ib.ab,k=h.md);this.ib.X.Uf() || h.Tx(k,g.u.J) < f.w_ || k.O.iGa();q3U=5;break;}}};return d;break;}}function d(f,h,k){var N68;N68=2;for(;N68 !== 9;){switch(N68){case 2:this.ib=f;this.H=h;this.zc=k;N68=4;break;case 4:var M7X="1";M7X+="SIYbZrNJC";M7X+="p9";M7X;this.eXa=this.LH=void 0;N68=9;break;}}}})();b.RKa=a;},function(r,b,a){var c,l,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.xOa=void 0;c=a(184);l=a(6);g=a(6);m=a(8);r=(function(){var W7c;function d(f,h,k,n){var i_S;i_S=2;for(;i_S !== 8;){switch(i_S){case 2:this.kc=f;this.H=h;this.zc=k;this.gI=n;this.ZYa=this.zoa=!1;i_S=9;break;case 9:var L9i="1";L9i+="SIY";L9i+="b";L9i+="ZrNJCp9";L9i;i_S=8;break;}}}W7c=2;for(;W7c !== 6;){switch(W7c){case 9:d.prototype.flush=function(){var n8T,f,h,k,i9D,v,t,n,p,q;n8T=2;for(;n8T !== 16;){switch(n8T){case 2:(h=this.kc.K,k=this.kc.Mc.Ac);n8T=1;break;case 18:n8T=this.gI.Et?17:16;break;case 13:var D3k="en";D3k+="dp";D3k+="la";D3k+="y";var m5Q="lo";m5Q+="g";m5Q+="da";m5Q+="t";m5Q+="a";t && t.length && (n.activeRequests=JSON.stringify(t));n.aseApiVersion=this.kc.j8;h.g6a && (k=k.Baa()) && (k.bytesRequestedPacingVideo && (n.bytesRequestedPacingVideo=k.bytesRequestedPacingVideo,n.estimatedBytesPacedVideo=k.estimatedBytesPacedVideo,n.bytestotalVideo=k.bytestotalVideo,n.pacedAvtpVideo=k.pacedAvtpVideo),k.bytesRequestedPacingAudio && (n.bytesRequestedPacingAudio=k.bytesRequestedPacingAudio,n.estimatedBytesPacedAudio=k.estimatedBytesPacedAudio,n.bytestotalAudio=k.bytestotalAudio,n.pacedAvtpAudio=k.pacedAvtpAudio),k.pacedAvtp && (n.pacedAvtp=k.pacedAvtp));Object.keys(n).length && (n={type:m5Q,target:D3k,fields:n},(0,m.kb)(this.kc,n.type,n));n8T=20;break;case 17:try{i9D=2;for(;i9D !== 1;){switch(i9D){case 2:this.kc.pta(l.La.GD);i9D=1;break;}}}catch(u){var x7o="Hindsight: Error evaluating QoE at s";x7o+="topp";x7o+="ing: ";R7xOY.x9d(7);this.kc.Kb.vp(R7xOY.L7v(u,x7o));}n8T=16;break;case 7:(v=k.O8a(),t=k.l_a);n8T=6;break;case 20:var X7Z="e";X7Z+="n";X7Z+="dp";X7Z+="lay";var h3L="lo";h3L+="g";h3L+="da";h3L+="ta";var p_X="throu";p_X+="gh";p_X+="put";p_X+="-sw";var z7t="t";z7t+="hro";z7t+="u";z7t+="ghpu";z7t+="t-sw";var v0I="through";v0I+="put";v0I+="-sw";var H_p="th";H_p+="ro";H_p+="ug";H_p+="hput-s";H_p+="w";h.VX && (p && p[H_p] && p[v0I].xa && this.kc.Jw.ZFb({avtp:p[z7t].xa,variance:p[p_X].He}),this.kc.Jw.SFb(q,null === (f=p.avtp) || void 0 === f?void 0:f.X9),f=this.kc.Jw.AWb(),h=this.kc.Jw.$Yb(),f && (f.n=h,f={type:h3L,target:X7Z,fields:{ibef:f}},(0,m.kb)(this.kc,f.type,f),this.kc.Jw.save()));n8T=19;break;case 5:(n={},p=k.get(),q={});p && p.avtp && p.avtp.xa && (n.avtp=p.avtp.xa,n.dltm=p.avtp.X9,q.avtp=n.avtp);p && p.initialThroughput && p.initialThroughput.xa && (n.initial_avtp=p.initialThroughput.xa);p && p.cdnavtp && (n.cdnavtp=p.cdnavtp,n.activecdnavtp=p.activecdnavtp);k.flush();n8T=7;break;case 1:n8T=k?5:19;break;case 19:this.kc.Kb.PYa();n8T=18;break;case 14:for(var w in v){var l7J="n";l7J+="e";var N$W="n";N$W+="e";var k6X="n";k6X+="e";v.hasOwnProperty(w) && (n[k6X + w]=Number(v[w]).toFixed(6),q[N$W + w]=1 * n[l7J + w]);}n8T=13;break;case 6:n8T=v?14:13;break;}}};d.prototype.Jo=function(){var l4Q;l4Q=2;for(;l4Q !== 1;){switch(l4Q){case 4:return this.ZYa && this.kc.ab.jl;break;case 2:return this.ZYa || this.kc.ab.jl;break;}}};return d;break;case 2:d.prototype.play=function(){var N0f,f;N0f=2;for(;N0f !== 5;){switch(N0f){case 2:var t2m="p";t2m+="l";t2m+="a";t2m+="y";var e$Y="play called afte";e$Y+="r p";e$Y+="ipelines already shutdow";e$Y+="n";f=this;this.Jo()?this.H.warn(e$Y):(this.kc.X.Od(l.La.Xc),this.kc.rEb(),this.kc.Qb.hh.forEach(function(h){var x$7;x$7=2;for(;x$7 !== 1;){switch(x$7){case 2:var x0L="play: not ";x0L+="resumin";x0L+="g bufferManager, ";x0L+="audio track switch";x0L+=" in progress";f.zc(h.mediaType) && (h.J2?h.ac(x0L):(f.kc.$h[h.mediaType].resume(),f.kc.Ex[h.mediaType].resume()));x$7=1;break;}}}),this.kc.bW(),this.kc.emit(t2m));N0f=5;break;}}};d.prototype.stop=function(){var W$4,f,h,k,n;W$4=2;for(;W$4 !== 6;){switch(W$4){case 7:var J6Y="s";J6Y+="t";J6Y+="o";J6Y+="p";this.kc.emit(J6Y);W$4=6;break;case 9:g.hg.forEach(function(p){var W51;W51=2;for(;W51 !== 5;){switch(W51){case 1:p.Zi=!1;W51=5;break;case 3:W51=(p=n.Ae(p))?4:6;break;case 2:W51=(p=n.Ae(p))?1:5;break;}}});g.hg.forEach(function(p){var z$K;z$K=2;for(;z$K !== 1;){switch(z$K){case 2:(p=f.kc.$h[p]) && p.pause();z$K=1;break;}}});W$4=7;break;case 2:(f=this,h=this.kc.X.dcb(),k=this.kc.X.ccb());this.kc.X.Od(l.La.GD);this.kc.g6();h || k || this.kc.ab.oi.iz(!1,this.kc.X);n=this.kc.ab.md;W$4=9;break;}}};d.prototype.suspend=function(){var q1N;q1N=2;for(;q1N !== 1;){switch(q1N){case 4:this.zoa=-5;q1N=7;break;case 2:this.zoa=!0;q1N=1;break;}}};d.prototype.resume=function(){var h3B;h3B=2;for(;h3B !== 5;){switch(h3B){case 2:this.zoa=!1;this.kc.xh.Ml();h3B=5;break;}}};d.prototype.close=function(){var O5D,f;O5D=2;for(;O5D !== 6;){switch(O5D){case 7:this.kc.Rcc();O5D=6;break;case 4:var L$m="e";L$m+="ndp";L$m+="la";L$m+="y";var G05="l";G05+="o";G05+="g";G05+="data";var Y7O="c";Y7O+="los";Y7O+="e";this.kc.emit(Y7O);f.j6a && (f=c.Dz.instance().Nb()) && (f={type:G05,target:L$m,fields:{bridgestat:f}},(0,m.kb)(this.kc,f.type,f));this.kc.Mc.sg && this.kc.Mc.sg.zI(!0,this.kc.un.sessionId,!0);this.kc.Kb.fgb();O5D=7;break;case 2:f=this.kc.K;this.ZYa=!0;this.stop();O5D=4;break;}}};W7c=9;break;}}})();b.xOa=r;},function(r,b,a){var c,l,g,m,d,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.JQa=void 0;r=a(0);c=r.__importStar(a(11));l=a(117);g=r.__importDefault(a(29)).default.$d;m=a(6);d=r.__importDefault(a(3));f=a(8);h=a(2);a=(function(){var E3O;E3O=2;for(;E3O !== 38;){switch(E3O){case 9:k.prototype.JCb=function(n,p,q,v){var J3f;J3f=2;for(;J3f !== 5;){switch(J3f){case 2:var L7w="m";L7w+="axPosit";L7w+="i";L7w+="o";L7w+="n";n={type:L7w,index:n,endPts:p,maxPts:q,maxSeekPts:v};(0,f.kb)(this.tb,n.type,n);J3f=5;break;}}};k.prototype.SCb=function(n,p,q,v,t,w,u){var h3E;h3E=2;for(;h3E !== 3;){switch(h3E){case 2:var I0A="not";I0A+="if";I0A+="yStr";I0A+="eamingError: ";var Z3e="e";Z3e+="rr";Z3e+="o";Z3e+="r";void 0 === u && (u=!1);n={type:Z3e,error:n,errormsg:p,networkErrorCode:q,httpCode:v,nativeCode:t,manifestIndex:w,temporaryFailure:u};this.H.error(I0A + JSON.stringify(n));(0,f.kb)(this.tb,n.type,n);h3E=3;break;}}};k.prototype.Y6=function(n,p){var t1G;t1G=2;for(;t1G !== 5;){switch(t1G){case 2:var Y_M="s";Y_M+="egm";Y_M+="entStart";Y_M+="i";Y_M+="ng";p={type:Y_M,segmentId:n.id,contentOffset:p,maxBitrates:{audio:n.O.$t[m.u.T],video:n.O.$t[m.u.J]}};n.hG || (0,f.kb)(this.tb,p.type,p);t1G=5;break;}}};E3O=6;break;case 2:k.prototype.wn=function(n){var n14;n14=2;for(;n14 !== 5;){switch(n14){case 2:var s6$="sta";s6$+="r";s6$+="t";s6$+="Eve";s6$+="nt";n={type:s6$,event:n,time:d.default.time.fa()};(0,f.kb)(this.tb,n.type,n);n14=5;break;}}};k.prototype.LCb=function(){var C1i,n;C1i=2;for(;C1i !== 5;){switch(C1i){case 1:(0,f.kb)(this.tb,n.type,n);C1i=5;break;case 2:var t0S="open";t0S+="Com";t0S+="pl";t0S+="ete";n={type:t0S};C1i=1;break;}}};k.prototype.MCb=function(n,p,q,v,t){var M_N;M_N=2;for(;M_N !== 1;){switch(M_N){case 2:var G$W="p";G$W+="tsS";G$W+="tarts";this.tb.K.JQb || (n={type:G$W,manifestIndex:n,mediaType:p,movieId:v,streamId:q,ptsStarts:t.Gmb()},(0,f.kb)(this.tb,n.type,n));M_N=1;break;}}};k.prototype.CCb=function(n,p){var s$e;s$e=2;for(;s$e !== 5;){switch(s$e){case 2:var j$z="h";j$z+="ea";j$z+="derCacheHi";j$z+="t";n={type:j$z,movieId:n,streamId:p};(0,f.kb)(this.tb,n.type,n);s$e=5;break;}}};k.prototype.BCb=function(n,p,q,v,t){var V6H,w;V6H=2;for(;V6H !== 3;){switch(V6H){case 2:w=this.tb.$Xa;this.tb.$Xa=void 0;V6H=5;break;case 5:var D7_="h";D7_+="eaderC";D7_+="ac";D7_+="heDa";D7_+="taHit";n={type:D7_,movieId:n,audio:p,audioFromMediaCache:v,video:q,videoFromMediaCache:t,actualStartPts:w && w.hq,headerCount:w && w.YP,stats:w && w.cc};(0,f.kb)(this.tb,n.type,n);V6H=3;break;}}};E3O=9;break;case 35:k.prototype.Qna=function(){var Y7S,n,p,q,v,t;Y7S=2;for(;Y7S !== 8;){switch(Y7S){case 2:var d8Z="buf";d8Z+="feringCom";d8Z+="pl";d8Z+="ete";(n=this.tb.ab.md,p=n.fb(m.u.T),q=n.fb(m.u.J));this.QYa();(v=this.tb.yo?this.tb.Qb.SC[g.J]:this.tb.Qb.SC[g.T],t=v.TW);n={type:d8Z,time:d.default.time.fa(),actualStartPts:t,aBufferLevelMs:n.Lh(m.u.T),vBufferLevelMs:n.Lh(m.u.J),selector:q?q.j1:p.j1,initBitrate:v.gy,skipbackBufferSizeBytes:this.tb.Mc.ega};this.tb.Zh.PTb({initSelReason:v.QB,initSelectionPredictedDelay:v.PB,buffCompleteReason:v.zv,hashindsight:this.tb.Et,hasasereport:!!this.tb.Ym,bcVBufferLevelMs:n.vBufferLevelMs,bcABufferLevelMs:n.aBufferLevelMs});Y7S=9;break;case 9:(0,f.kb)(this.tb,n.type,n);Y7S=8;break;}}};k.prototype.QYa=function(){var m_J,n,p,q,v,t,w,u;m_J=2;for(;m_J !== 12;){switch(m_J){case 2:n=this.tb.K;m_J=1;break;case 6:var H6W="up";H6W+="dateBu";H6W+="ffe";H6W+="rLe";H6W+="vel";q={type:H6W,abuflbytes:u,vbuflbytes:p,totalabuflmsecs:q,totalvbuflmsecs:v,currentBandwidth:t};v > n.Xeb && this.tb.Mc.sg && this.tb.Mc.sg.zI(!0,this.tb.un.sessionId);m_J=13;break;case 1:m_J=!this.tb.Jo()?5:12;break;case 5:(p=this.tb.ab.md,q=p.Lh(m.u.T),v=p.Lh(m.u.J));this.tb.Zh.KFb(q,v);t=this.tb.Mc.Ac.get();m_J=9;break;case 13:(0,f.kb)(this.tb,q.type,q);m_J=12;break;case 9:t=t.confidence?t.Ya.xa:0;(w=this.tb.ab,u=w.LI(p,m.u.T));p=w.LI(p,m.u.J);m_J=6;break;}}};k.prototype.RBb=function(n){var a31,p,q,v;a31=2;for(;a31 !== 7;){switch(a31){case 4:var I1s=", osAllocatorDe";I1s+="lt";I1s+="a: ";var J6x=",";J6x+=" jsHeapD";J6x+="e";J6x+="lta:";J6x+=" ";var y3T=", fastMa";y3T+="l";y3T+="locDelta";y3T+=": ";var w75="m";w75+="emoryUsage ";w75+="at ";w75+="time: ";(p=n.P6a - this.MN.P6a,q=n.lab - this.MN.lab,v=n.Ngb - this.MN.Ngb);(4194304 < p || 4194304 < v) && this.H.warn(w75 + d.default.time.fa() + y3T + p + J6x + q + I1s + v);a31=9;break;case 5:a31=!c.wa(this.MN)?4:8;break;case 9:var W4t=", system";W4t+="Delta:";W4t+=" ";var P$o="mem";P$o+="oryUsa";P$o+="ge at time: ";c.Qa(n.W1) && c.Qa(this.MN.W1) && (p=n.W1 - this.MN.W1,4194304 < p && this.H.warn(P$o + d.default.time.fa(),W4t + p));a31=8;break;case 1:c.Qa(n.W1);a31=5;break;case 8:this.MN=n;a31=7;break;case 2:a31=!c.wa(n)?1:7;break;}}};k.prototype.UCb=function(){var W2O,n;W2O=2;for(;W2O !== 3;){switch(W2O){case 2:var X$6="str";X$6+="ea";X$6+="ming";X$6+="st";X$6+="at";this.tb.K.q4b && d.default.memory.kXb(this.RBb.bind(this));n={type:X$6,time:d.default.time.fa(),playbackTime:this.tb.X.cg()};this.tb.Zh.QTb(n);(0,f.kb)(this.tb,n.type,n);W2O=3;break;}}};k.prototype.PYa=function(){var m50,n;m50=2;for(;m50 !== 4;){switch(m50){case 1:var w2P="as";w2P+="erepo";w2P+="r";w2P+="t";n={type:w2P};this.tb.Ym.OTb(n) && (0,f.kb)(this.tb,n.type,n);m50=4;break;case 9:m50=this.tb.Ym?7:5;break;case 2:m50=this.tb.Ym?1:4;break;}}};E3O=30;break;case 20:k.prototype.HCb=function(n,p,q,v,t){var e9L;e9L=2;for(;e9L !== 5;){switch(e9L){case 2:var Q6E="m";Q6E+="an";Q6E+="ife";Q6E+="st";Q6E+="Range";n={type:Q6E,index:n,manifestOffset:p,startPts:Math.floor(q),endPts:Math.floor(v),maxPts:Math.floor(t)};(0,f.kb)(this.tb,n.type,n);e9L=5;break;}}};k.prototype.SYa=function(n){var b9S;b9S=2;for(;b9S !== 5;){switch(b9S){case 2:var I05="max";I05+="B";I05+="it";I05+="rates";n={type:I05,audio:n[m.u.T],video:n[m.u.J]};(0,f.kb)(this.tb,n.type,n);b9S=5;break;}}};k.prototype.ICb=function(n,p){var a6t,q;a6t=2;for(;a6t !== 3;){switch(a6t){case 1:var n45="n";n45+="ot";n45+="ifyManifestSelecte";n45+="d: ";var y4W="ma";y4W+="nifestSe";y4W+="lecte";y4W+="d";n={type:y4W,index:n,replace:p.O.Vf.replace,ptsStarts:p.zR,streamingOffset:p.ca + p.Ay};q.jj && (p=n45 + JSON.stringify(n),q.jj && this.bo(p));(0,f.kb)(this.tb,n.type,n);a6t=3;break;case 8:q=this.tb.K;a6t=6;break;case 2:q=this.tb.K;a6t=1;break;}}};E3O=17;break;case 12:k.prototype.NCb=function(n,p){var P8K;P8K=2;for(;P8K !== 5;){switch(P8K){case 2:var q9r="seg";q9r+="m";q9r+="entAppe";q9r+="nd";q9r+="ed";p={type:q9r,segmentId:n.id,metrics:p};n.hG || (0,f.kb)(this.tb,p.type,p);P8K=5;break;}}};k.prototype.OCb=function(n,p,q){var z7x;z7x=2;for(;z7x !== 5;){switch(z7x){case 2:var d57="se";d57+="g";d57+="mentComple";d57+="te";n={type:d57,mediaType:n,manifestIndex:p,segmentId:q.id};(0,f.kb)(this.tb,n.type,n);z7x=5;break;}}};k.prototype.Rna=function(n,p){var x$z;x$z=2;for(;x$z !== 5;){switch(x$z){case 2:var k$$="l";k$$+="astS";k$$+="egmentPts";p={type:k$$,segmentId:n.id,pts:Math.floor(p)};x$z=1;break;case 1:n.hG || (0,f.kb)(this.tb,p.type,p);x$z=5;break;}}};E3O=20;break;case 6:k.prototype.Sna=function(n){var V1K,p;V1K=2;for(;V1K !== 5;){switch(V1K){case 2:var K7Q="seg";K7Q+="mentA";K7Q+="bort";K7Q+="ed";p={type:K7Q,segmentId:n.id};n.hG || (0,f.kb)(this.tb,p.type,p);V1K=5;break;}}};k.prototype.eBb=function(n,p){var t74,q,v;t74=2;for(;t74 !== 12;){switch(t74){case 13:return q;break;case 8:var C0u="seaml";C0u+="e";C0u+="ss";v=C0u === v?0:d.default.time.fa() - p.startTime;q.durationOfTransition=v;q.atTransition=p.oob;q.srcsegmentduration=this.tb.ab.WYb(p.hga);t74=13;break;case 2:var T23="re";T23+="s";T23+="e";T23+="t";var L5S="s";L5S+="k";L5S+="i";L5S+="p";var T4t="l";T4t+="o";T4t+="n";T4t+="g";var o1X="l";o1X+="o";o1X+="n";o1X+="g";var T2W="s";T2W+="ea";T2W+="m";T2W+="le";T2W+="ss";(q={segment:n,srcsegment:p.hga,srcoffset:p.kS,seamlessRequested:p.Qe,atRequest:{},discard:{}},v=p.Ne[n]);v?q.atRequest={weight:v.weight,abuflmsec:v.qt.$s,vbuflmsec:v.qt.Ip,abuflbytes:v.qt.lE,vbuflbytes:v.qt.Iu}:(v=this.tb.ab.h$a(p.hga,n),void 0 !== v && (q.atRequest.weight=v));c.pg(p.Ne,function(t,w){var N_B;N_B=2;for(;N_B !== 1;){switch(N_B){case 2:w != n && (q.discard[w]={weight:t.weight,abuflmsec:t.qt.$s,vbuflmsec:t.qt.Ip,abuflbytes:t.qt.lE,vbuflbytes:t.qt.Iu});N_B=1;break;}}});v=p.Qe?p.dZ?T2W:o1X:p.Cfb?T4t:p.po?L5S:T23;q.transitionType=v;p.tsa || (q.delayToTransition=p.P9);t74=8;break;}}};k.prototype.PCb=function(n,p,q){var b3o;b3o=2;for(;b3o !== 4;){switch(b3o){case 2:var J9c="s";J9c+="egmen";J9c+="tPresen";J9c+="ting";q=q?this.eBb(n.id,q):void 0;n={type:J9c,segmentId:n.id,contentOffset:p,metrics:q,playlistSegment:n.hG,manifestIndex:n.O.Vb};(0,f.kb)(this.tb,n.type,n);b3o=4;break;}}};E3O=12;break;case 25:k.prototype.ECb=function(n,p){var x7y;x7y=2;for(;x7y !== 5;){switch(x7y){case 2:var O7B="initialAudi";O7B+="oTrac";O7B+="k";n={type:O7B,trackId:p,trackIndex:n};(0,f.kb)(this.tb,n.type,n);x7y=5;break;}}};k.prototype.vCb=function(n,p){var G1Y;G1Y=2;for(;G1Y !== 3;){switch(G1Y){case 2:var A27="audioT";A27+="rackSwitc";A27+="hS";A27+="tarted";n=n.Pm;p=p.Pm;p={type:A27,oldLangCode:n.language,oldNumChannels:n.channels,newLangCode:p.language,newNumChannels:p.channels};(0,f.kb)(this.tb,p.type,p);G1Y=3;break;}}};E3O=23;break;case 30:k.prototype.tCb=function(){var Z74,n;Z74=2;for(;Z74 !== 5;){switch(Z74){case 2:var S17="asereportena";S17+="ble";S17+="d";n={type:S17};(0,f.kb)(this.tb,n.type,n);Z74=5;break;}}};k.prototype.DCb=function(n){var z7Z=R7xOY;var R7I,p,q,v,t,w,u,x,y,z,B,A,C,D,E,G,F,L,O,K,M,H;R7I=2;for(;R7I !== 6;){switch(R7I){case 7:(0,f.kb)(this.tb,p.type,p);R7I=6;break;case 4:R7I=this.tb.SX || this.tb.bz?3:9;break;case 1:var c3c="h";c3c+="indsi";c3c+="ghtreport";(p={type:c3c},q=this.tb.K.lba);for(M in q){var s_l="h";s_l+="vm";s_l+="a";s_l+="f";s_l+="dp";var I2L="h";I2L+="vma";I2L+="fg";I2L+="r";var J8z="hvm";J8z+="a";J8z+="f";J8z+="t";J8z+="b";var d$u="ht";d$u+="wb";d$u+="r";v=q[M];t=0;w=0;u=0;x=0;y=0;z=0;B=void 0;A=void 0;C=!1;D=-1;E=-1;G=-1;F=-1;L=-1;O=-1;for(K in n){A=n[K];void 0 === A.nd && (B=(B=A.sols) && B[v]) && (C=!0,u+=B.dlvdur,t+=B.dltwbr * B.dlvdur,w+=B.dlvmaf * B.dlvdur);z+=A.pbdur;x+=A.pbtwbr * A.pbdur;y+=A.pbvmaf * A.pbdur;B=A.rr;A=A.ra;}0 < z && (D=1 * x / z,F=1 * y / z);C && (0 < u && (E=1 * t / u,L=1 * w / u),0 < u + z && (G=1 * (t + x) / (u + z),O=1 * (w + y) / (u + z)));switch(v){case d$u:p.htwbr=G;p.hptwbr=E;p.pbtwbr=D;B && (p.rr=B,p.ra=A);break;case J8z:p.hvmaftb=O;p.hpvmaftb=L;p.pbvmaftb=F;B && (p.rrvmaftb=B,p.ravmaftb=A);break;case I2L:p.hvmafgr=O;p.hpvmafgr=L;p.pbvmafgr=F;B && (p.rrvmafgr=B,p.ravmafgr=A);break;case s_l:(p.hvmafdp=O,p.hpvmafdp=L,p.pbvmafdp=F,B && (p.rrvmafdp=B,p.ravmafdp=A));}}R7I=4;break;case 8:for(var I in n){if((q=n[I],void 0 !== q.smb))for(v in q.smb){if((B=q.smb[v],void 0 !== B.tga)){var m9q=" ";m9q+="a";m9q+="n";m9q+="d";m9q+=" ";var j$9="expect sol.strmsel";j$9+=".length === sol.fragsel.length";j$9+=" but got ";var i40="expect report";i40+=".fragmentsPre";i40+="buffered !=";i40+="= undefined";var O_Q="expect ";O_Q+="rep";O_Q+="ort.fragmentsPrebuffered !";O_Q+="== undef";O_Q+="ined";(t=void 0 !== q.K7a) || (console.error(O_Q),(0,h.assert)(t,i40));M=[];for(H in q.K7a){t=q.K7a[H];M.push({ga:t.ga,lo:t.duration / 1E3,quality:t.gb});}t=B.tga.length === B.L7a.length;w=j$9 + B.tga.length + m9q + B.L7a.length;t || (console.error(w),(0,h.assert)(t,w));M=[];t=0;for(var J in B.tga){u=B.tga[J];w=B.L7a[J];z7Z.x9d(7);t=u=z7Z.a2W(u,t);M.push({gxc:u,Pxc:B.N5a[J],Gtc:B.Ya[J],kqa:B.kqa[J],jqa:B.jqa[J],w1a:B.w1a[J],Wsc:{ga:w.ga,lo:w.duration / 1E3,quality:w.gb?w.gb:B.Pc[u].gb,pxc:w.zg,Xsc:w.Je},ijb:0,Ewc:0,tBa:B.tBa[J]});}B=[];M=0;for(var N in q.WC.trace){t=q.WC.trace[N];z7Z.f4w(7);M=t=z7Z.a2W(t,M);B.push(t);}}}}R7I=7;break;case 2:R7I=n?1:6;break;case 3:p.report=n;R7I=9;break;case 9:R7I=this.tb.bz?8:7;break;}}};k.prototype.zCb=function(n){var b$i;b$i=2;for(;b$i !== 5;){switch(b$i){case 2:var T5Q="e";T5Q+="nd";T5Q+="OfS";T5Q+="tr";T5Q+="eam";n={type:T5Q,mediaType:n};(0,f.kb)(this.tb,n.type,n);b$i=5;break;}}};k.prototype.vp=function(n){var g_T;g_T=2;for(;g_T !== 1;){switch(g_T){case 2:var m_u="aseexce";m_u+="pt";m_u+="ion";var W_j="aseexc";W_j+="ept";W_j+="i";W_j+="o";W_j+="n";this.tb.emit(W_j,{type:m_u,msg:n});g_T=1;break;}}};E3O=43;break;case 39:return k;break;case 17:k.prototype.GCb=function(n,p,q,v,t){var G4U;G4U=2;for(;G4U !== 4;){switch(G4U){case 2:var C4S="manife";C4S+="stPr";C4S+="e";C4S+="sent";C4S+="ing";n={type:C4S,index:n.Vb,pts:Math.floor(p),movieId:n.L,replace:n.Vf.replace,contentOffset:q};null != v && null != t && (n.previousMovieId=v,n.previousIndex=t);(0,f.kb)(this.tb,n.type,n);G4U=4;break;}}};k.prototype.QCb=function(n,p,q,v){var c80,t;c80=2;for(;c80 !== 3;){switch(c80){case 2:var z0D="st";z0D+="r";z0D+="eamPresenti";z0D+="ng";t=n.mediaType;l.jn.yq(t);n={type:z0D,startPts:Math.floor(p),contentStartPts:Math.floor(q),mediaType:t,manifestIndex:v,trackIndex:n.track.IA,streamIndex:n.zg};(0,f.kb)(this.tb,n.type,n);c80=3;break;}}};k.prototype.VCb=function(n){var I8c;I8c=2;for(;I8c !== 5;){switch(I8c){case 2:var l$W="v";l$W+="ideo";l$W+="Loo";l$W+="ped";n={type:l$W,offset:n};(0,f.kb)(this.tb,n.type,n);I8c=5;break;}}};k.prototype.TCb=function(n,p,q,v,t){var L3D;L3D=2;for(;L3D !== 4;){switch(L3D){case 2:var r4B="u";r4B+="p";r4B+="dat";r4B+="eStreamingPt";r4B+="s";p={type:r4B,mediaType:n,manifestIndex:p,trackIndex:q,movieTime:Math.floor(v),segmentId:t};l.jn.yq(n);(0,f.kb)(this.tb,p.type,p);L3D=4;break;}}};k.prototype.ACb=function(n){var Z_I;Z_I=2;for(;Z_I !== 5;){switch(Z_I){case 2:var G5H="firstR";G5H+="eque";G5H+="s";G5H+="tAp";G5H+="pended";n={type:G5H,manifestIndex:n.Xa.hb.O.Vb,mediatype:n.mediaType,time:d.default.time.fa()};(0,f.kb)(this.tb,n.type,n);Z_I=5;break;}}};E3O=25;break;case 23:k.prototype.uCb=function(n,p){var U1T,q;U1T=2;for(;U1T !== 5;){switch(U1T){case 2:q=this;setTimeout(function(){var f01,v;f01=2;for(;f01 !== 5;){switch(f01){case 2:var l$A="aud";l$A+="ioTrackSwitch";l$A+="Complete";v={type:l$A,trackId:n,trackIndex:p};(0,f.kb)(q.tb,v.type,v);f01=5;break;}}},0);U1T=5;break;}}};k.prototype.yCb=function(n){var H32,p;H32=2;for(;H32 !== 4;){switch(H32){case 2:var W8t="bufferin";W8t+="gStarte";W8t+="d";p={type:W8t,time:d.default.time.fa(),percentage:n || 0};(0,f.kb)(this.tb,p.type,p);this.Ena=n || 0;H32=4;break;}}};k.prototype.wCb=function(){var s6f,n,p,q,v,t;s6f=2;for(;s6f !== 3;){switch(s6f){case 2:var T2C="buffe";T2C+="r";T2C+="i";T2C+="n";T2C+="g";(n=this.tb.K,p=d.default.time.fa(),q=this.tb.ab.md,v=this.tb.yo?m.u.J:m.u.T,t=q.fb(v));q=q.Lh(v);n=Math.min(Math.max(Math.round(100 * (t.NF?(p - this.tb.vma) / n.wC:t.progress?t.progress:q / n.yk)),this.Ena),99);n != this.Ena && (p={type:T2C,time:p,percentage:n},(0,f.kb)(this.tb,p.type,p),this.Ena=n);s6f=3;break;}}};E3O=35;break;case 43:k.prototype.n7b=function(n,p,q,v){var D0A;D0A=2;for(;D0A !== 5;){switch(D0A){case 2:var e7n="ma";e7n+="xvide";e7n+="obitratechanged";var g79="maxvideob";g79+="itr";g79+="a";g79+="tech";g79+="anged";n={type:g79,time:d.default.time.fa(),spts:v,maxvb_old:n,maxvb:p,reason:q};this.tb.emit(e7n,n);D0A=5;break;}}};k.prototype.fgb=function(){var e2N,n;e2N=2;for(;e2N !== 3;){switch(e2N){case 2:e2N=!this.CEb && this.tb.K.cgb?1:3;break;case 1:var J8n="strea";J8n+="me";J8n+="ren";J8n+="d";this.CEb=!0;n={type:J8n,time:d.default.time.fa()};(0,f.kb)(this.tb,n.type,n);e2N=3;break;}}};k.prototype.u7b=function(n){var n9s;n9s=2;for(;n9s !== 5;){switch(n9s){case 2:var I9X="streamSelection";I9X+="Augm";I9X+="entData";n={type:I9X,augmentData:n,fragmentIndex:n[0].ze};(0,f.kb)(this.tb,n.type,n);n9s=5;break;}}};k.prototype.bo=function(n){var R2w;R2w=2;for(;R2w !== 5;){switch(R2w){case 2:var C1c=",";C1c+=" ";var i80="mana";i80+="gerdebugev";i80+="en";i80+="t";n={type:i80,message:"@" + d.default.time.fa() + C1c + n};(0,f.kb)(this.tb,n.type,n);R2w=5;break;}}};E3O=39;break;}}function k(n,p){var J_l;J_l=2;for(;J_l !== 4;){switch(J_l){case 2:var t$l="1";t$l+="SI";t$l+="Yb";t$l+="Z";t$l+="rNJCp9";this.tb=n;this.H=p;t$l;J_l=4;break;}}}})();b.JQa=a;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y;Object.defineProperties(b,{__esModule:{value:!0}});b.QMa=void 0;c=a(0);r=a(13);l=c.__importStar(a(11));a(2);a(264);g=a(189);m=a(433);d=a(91);a(432);a(440);f=a(118);h=c.__importDefault(a(29));a(437);k=a(1078);n=c.__importDefault(a(186));p=a(6);q=c.__importDefault(a(3));a(194);a(271);a(192);a(274);a(116);v=new q.default.Console("HEADERCACHE","media|asejs");a=new q.default.Console("MEDIACACHE","media|asejs");t=q.default.nM;w=v.trace.bind(v);a.trace.bind(a);u=v.warn.bind(v);x=v.error.bind(v);y=v.info.bind(v);a=(function(z){var B0Z;function B(A,C,D,E){var s8G;s8G=2;for(;s8G !== 25;){switch(s8G){case 14:A.Hg=[];A.xYa=C.K9;A.Hx=[];A.u6=!1;A.wN=[];s8G=20;break;case 20:A.kI={};A.Foa=(A.Yp.LGa || A.Yp.MGa) && 0 < (A.Yp.GX || (q.default.options || ({})).LQ || 0);A.aI=A.Yp.Iza;A.Rk=void 0;s8G=16;break;case 3:A.Trc=y;A.H6=Object.create(null);A.Yp=C;A.sd=Object.create(null);A.NH=0;s8G=14;break;case 2:A=z.call(this) || this;A.dk=w;A.Il=x;A.ac=u;s8G=3;break;case 16:A.Foa && (A.Yp.GX || (C=(q.default.options || ({})).LQ || 0,A.Yp.set?A.Yp.set({GX:C}):A.Yp.GX=(q.default.options || ({})).LQ || 0),A.Rk=new k.LPa(A.Yp,q.default,A),A.Rk.oa(A,E).then(function(){var k8n;k8n=2;for(;k8n !== 1;){switch(k8n){case 4:w("");k8n=9;break;case 2:var P_c="Me";P_c+="dia cache i";P_c+="nit";P_c+="ialized";w(P_c);k8n=1;break;}}}).catch(function(G){var R_s;R_s=2;for(;R_s !== 1;){switch(R_s){case 2:var h$1="Media ";h$1+="cache did not i";h$1+="nitialize";x(h$1,G);R_s=1;break;}}}));s8G=15;break;case 15:var E5Z="1SIYb";E5Z+="Z";E5Z+="rN";E5Z+="JCp9";A.un=D;E5Z;return A;break;}}}B0Z=2;for(;B0Z !== 39;){switch(B0Z){case 40:return B;break;case 34:B.prototype.RDb=function(A){var H3l;H3l=2;for(;H3l !== 1;){switch(H3l){case 2:var F$7="d";F$7+="is";F$7+="cardedByte";F$7+="s";0 !== A && (A={type:F$7,bytes:A},this.emit(A.type,A));H3l=1;break;}}};B.prototype.TDb=function(A){var N6I;N6I=2;for(;N6I !== 1;){switch(N6I){case 2:var X41="flushe";X41+="dByte";X41+="s";0 !== A && (A={type:X41,bytes:A},this.emit(A.type,A));N6I=1;break;}}};B.prototype.QDb=function(A){var h4l;h4l=2;for(;h4l !== 5;){switch(h4l){case 2:var x8p="cache";x8p+="Ev";x8p+="ict";A={type:x8p,movieId:A};this.emit(A.type,A);h4l=5;break;}}};B.prototype.XDb=function(A,C){var s6x,D;s6x=2;for(;s6x !== 3;){switch(s6x){case 2:D=A.Le;l.wa(A.odc) || this.joa(A,A.odc);!this.Rk || !A.Ti || this.aI || l.wa(A.q_) || A.q_[A.Sa] && A.q_[A.Sa].header?C():this.Rk.nec(A,C);D.IGa || 0 !== Object.keys(this.H6).length || this.rXa();s6x=3;break;}}};B0Z=30;break;case 23:B.prototype.vzb=function(A){var Z$D;Z$D=2;for(;Z$D !== 1;){switch(Z$D){case 4:this.TWa(A,A.ao);Z$D=9;break;case 2:this.TWa(A,A.ao);Z$D=1;break;}}};B.prototype.uzb=function(A,C){var C$Q;C$Q=2;for(;C$Q !== 1;){switch(C$Q){case 2:this.TWa(A,C);C$Q=1;break;}}};B.prototype.TWa=function(A,C){var x0t,D;x0t=2;for(;x0t !== 4;){switch(x0t){case 2:D=A.Sa;x0t=1;break;case 1:x0t=(C=this.sd[A.L] || C)?5:4;break;case 5:(C.uGb || C.Ti && !this.aI || (C.uGb=!0,++this.NH),C.headers || (C.headers={}),C.headers[D]=A,this.Yp.tSb && (C.YP || (C.YP=0),++C.YP),this.Ama());x0t=4;break;}}};B.prototype.Ama=function(){function A(F){var M8j;M8j=2;for(;M8j !== 5;){switch(M8j){case 2:F.abort();D+=F.bytesReceived;M8j=5;break;}}}var J1g,C,D,E;J1g=2;for(;J1g !== 12;){switch(J1g){case 14:this.QDb(E);J1g=5;break;case 9:J1g=C.data?8:7;break;case 2:D=0;J1g=1;break;case 13:this.RDb(D);J1g=12;break;case 1:J1g=!(this.NH <= this.xYa)?5:12;break;case 4:J1g=(C=this.Hg.shift())?3:5;break;case 7:delete this.sd[E];--this.NH;J1g=14;break;case 8:for(var G in C.data){C.data[G].forEach(A);delete C.data[G];}J1g=7;break;case 3:E=C.L;J1g=9;break;case 5:J1g=this.NH > this.xYa?4:13;break;}}};B0Z=34;break;case 30:B.prototype.lEb=function(A,C){var P4_;P4_=2;for(;P4_ !== 4;){switch(P4_){case 2:var h6e="pre";h6e+="bu";h6e+="f";h6e+="fstats";A.cc.$$b=C;A={type:h6e,movieId:A.L,stats:{prebuffstarted:A.cc.cib,prebuffcomplete:A.cc.$$b}};P4_=5;break;case 5:this.emit(A.type,A);P4_=4;break;}}};B.prototype.OBb=function(A,C){var S$M,D;S$M=2;for(;S$M !== 5;){switch(S$M){case 2:var R$Z="Media ";R$Z+="cache is n";R$Z+="ot enabled";D=this;return this.Rk?this.Rk.d4b(A,C).then(function(E){var Y_j;Y_j=2;for(;Y_j !== 5;){switch(Y_j){case 1:return (D.sd[A]=E.ao,++D.NH,D.Ama(),D.Hg.push(E.ao),D.Hg.sort(D.qib),D.UWa(A,E),D.cache[A]);break;case 2:Y_j=E && E.ao?1:5;break;}}}):Promise.reject(R$Z);break;}}};B.prototype.NBb=function(A,C){var E_X,D,E,G;E_X=2;for(;E_X !== 8;){switch(E_X){case 2:D=this;E_X=1;break;case 1:E_X=this.Rk?5:9;break;case 9:var b91="Media cache is not e";b91+="nab";b91+="le";b91+="d";return Promise.reject(b91);break;case 5:(E=void 0,G=!1);this.Rk.Lbb(this.sd[A])?(E=Promise.resolve(this.sd[A]),G=!0):E=this.Rk.f4b(A);E_X=3;break;case 3:return E.then(function(F){var d2Q;d2Q=2;for(;d2Q !== 1;){switch(d2Q){case 2:return !l.wa(F) && D.Rk?D.Rk.b4b(A,C,F).then(function(L){var G13;G13=2;for(;G13 !== 5;){switch(G13){case 2:L && (G || (D.sd[A]=F,++D.NH,D.Ama(),D.Hg.push(F),D.Hg.sort(D.qib)),D.UWa(A,L));return D.sd[A];break;}}}):Promise.resolve(void 0);break;}}});break;}}};B0Z=44;break;case 44:B.prototype.UWa=function(A,C){var b7n,F,E,G,D;b7n=2;for(;b7n !== 7;){switch(b7n){case 9:F=C.data;Object.keys(F).forEach(function(L){var N7U,O,K;N7U=2;for(;N7U !== 9;){switch(N7U){case 2:O=F[L];l.wa(E.data) && (E.data={});l.wa(E.data[L]) && (E.data[L]=[]);K=E.data;N7U=3;break;case 3:O.forEach(function(I){var u8g;u8g=2;for(;u8g !== 1;){switch(u8g){case 2:K[L].push(I);u8g=1;break;case 4:K[L].push(I);u8g=5;break;}}});N7U=9;break;}}});b7n=7;break;case 5:(E=this.sd[A],G=C.headers);E && G && Object.keys(G).forEach(function(L){var u2e;u2e=2;for(;u2e !== 1;){switch(u2e){case 2:D.uzb(G[L],E);u2e=1;break;}}});b7n=3;break;case 3:b7n=C.data?9:7;break;case 2:D=this;b7n=1;break;case 1:b7n=C?5:7;break;}}};B.prototype.qib=function(A,C){var z9_;z9_=2;for(;z9_ !== 1;){switch(z9_){case 4:return C.priority % A.priority;break;case 2:return C.priority - A.priority;break;}}};B.prototype.yib=function(A){var c8L,E,C,D;c8L=2;for(;c8L !== 11;){switch(c8L){case 5:for(D in A.data){E=A.data[D];0 < E.length && (C[E[0].mediaType]={Sa:D,header:A.headers[D],data:E});}C.hq=A.hq;c8L=3;break;case 3:C.YP=A.YP;C.cc=A.cc;C.gy=A.gy;c8L=7;break;case 1:c8L=A && A.data?5:11;break;case 7:C.QB=A.QB;C.tF=A.tF;C.Cq=A.Cq;c8L=13;break;case 2:C={};c8L=1;break;case 13:C.Dq=A.Dq;return C;break;}}};B.prototype.Hc=function(A){var q2P;q2P=2;for(;q2P !== 1;){switch(q2P){case 2:return !!A.Hc;break;}}};B0Z=40;break;case 27:B.prototype.fAb=function(A,C){var u7P,D;u7P=2;for(;u7P !== 8;){switch(u7P){case 5:C=g.iT.create(A.stream,C,this.Hx[D].track,A,this,!0,v);C.Ti=A.Ti;u7P=3;break;case 2:D=A.stream.mediaType;2 > this.Hx.length && this.mXa();u7P=5;break;case 3:C.sg=this;return C;break;}}};B.prototype.h6=function(A){var s4z,C;s4z=2;for(;s4z !== 9;){switch(s4z){case 2:this.Hc(A) && delete this.H6[A.Sa];this.Hc(A) || delete A.response;A.ud();C=this.sd[A.L] || A.ao;s4z=3;break;case 3:var B0O="s";B0O+="av";B0O+="e";B0O+="to";B0O+="disk";C && 0 === C.jab && 0 === C.tX && (this.lEb(C,A.tg),C.Ti && this.Rk && (C.cc.Hvc || (this.aI?this.Rk.oec(C):this.Rk.$R(B0O,{Jkb:C.cc.Bu}))));s4z=9;break;}}};B.prototype.aCb=function(A,C,D){var X8P,E,G;X8P=2;for(;X8P !== 8;){switch(X8P){case 4:return function(F,L){var C_q;C_q=2;for(;C_q !== 1;){switch(C_q){case 2:R7xOY.x9d(30);return R7xOY.a2W(E,L);break;}}};break;case 5:X8P=0 < E?4:3;break;case 2:E=A.J9;C.Ti && this.Rk && (A.Feb?E=A.Feb:A.meb && 0 < A.meb && (E=2E3 * A.meb));X8P=5;break;case 3:G=D && D.length < A.L4a?D.length:A.L4a;return function(F){var q4T;q4T=2;for(;q4T !== 1;){switch(q4T){case 2:R7xOY.x9d(30);return R7xOY.L7v(G,F);break;}}};break;}}};B.prototype.joa=function(A,C){var k$w,L,M,H,J,I,O,K,D,E,G,F;k$w=2;for(;k$w !== 53;){switch(k$w){case 9:L=this.sd[D] || A.ao;k$w=8;break;case 36:++K;k$w=33;break;case 7:k$w=A.mediaType === h.default.$d.T?6:11;break;case 8:k$w=L?7:53;break;case 3:this.wN.shift();k$w=4;break;case 16:I.Ti=A.Ti;M=I.Wta(C);M && (I.mediaType === h.default.$d.T && !F.s_ && M.re < (F.Dm && !F.AI && G.Gf?Math.floor(G.Gf.Z):0) && (++M.rj,M.re+=I.da.Z),0 < M.rj && I.sj({start:M.rj}));k$w=26;break;case 23:C=L.data[E];D=this.aCb(F,A,O);M=G=0;(H=I && I.mediaType,J=H === h.default.$d.J?F.kda:F.bda);k$w=34;break;case 18:I=A.stream.Xl(K);k$w=17;break;case 4:k$w=this.wN.length > F.J_b?3:53;break;case 34:F=H === h.default.$d.J?F.q6b:F.h6b;k$w=33;break;case 33:k$w=K < (O && O.length || 0) && !D(M,G)?32:54;break;case 12:C=L.hq;k$w=11;break;case 38:G+=I.duration;k$w=37;break;case 20:k$w=-1 === K || void 0 === K?19:18;break;case 32:k$w=(void 0 === I && (I=A.stream.Xl(K)),void 0 !== I)?31:36;break;case 25:void 0 === L.data && (L.data={});void 0 === L.data[E] && (L.data[E]=[]);k$w=23;break;case 5:this.wN.push({N_b:A,re:C});k$w=4;break;case 1:k$w=this.u6?5:9;break;case 13:return;break;case 31:I.Ti=A.Ti;k$w=30;break;case 42:var w6n="und";w6n+="efi";w6n+="ned";l.wa(L.hq) && (L.hq=I.ca);I.Ti && (I.responseType=0);A.Ti && this.Rk && A.q_ && A.q_[E] && w6n !== typeof I.ca && A.q_[E][I.ca] || (H=this.fAb(I,A.Le),H.Ti && (H.ao=A.ao),H.MK(),++L.tX,C.push(H));++M;k$w=38;break;case 19:var o40="no pr";o40+="oper fragment found to request data at ";o40+="pts";x(o40,C);k$w=53;break;case 26:var e_0="ma";e_0+="nagerde";e_0+="buge";e_0+="vent";var q9E=", s";q9E+="tart";q9E+="P";q9E+="t";q9E+="s: ";var L6x=", p";L6x+="t";L6x+="s: ";var J$m=", s";J$m+="t";J$m+="r";J$m+="eamId";J$m+=": ";var j_8=",";j_8+=" headerCache";j_8+=" reques";j_8+="tData: ";j_8+="movieId: ";F.jj && (C="@" + q.default.time.fa() + j_8 + D + J$m + E + L6x + C + q9E + I.ca,this.emit(e_0,{message:C}));k$w=25;break;case 17:k$w=!l.wa(I)?16:25;break;case 54:L.wsa && !l.wa(L.hq) && (A=L.wsa,delete L.wsa,this.joa(A,L.hq));k$w=53;break;case 37:I=void 0;k$w=36;break;case 44:(I.b8(O.get(H)),I.VQ=H + 1,K=H);k$w=43;break;case 6:k$w=void 0 === L.hq?14:12;break;case 11:A.mediaType === h.default.$d.T && F.Dm && !F.AI && G.Gf && (C=Math.max(G.ma && G.ma.Al(0) || 0,C + G.Gf.Z));(O=A.stream.ma,K=O && O.ip(C));k$w=20;break;case 43:++H;k$w=28;break;case 28:k$w=H < O.length && (I.ga < J || I.duration < F)?44:42;break;case 14:L.wsa=A;k$w=13;break;case 30:k$w=!l.wa(O) && !I.Ka?29:42;break;case 2:(D=A.L,E=A.Sa,G=A.stream,F=A.Le);k$w=1;break;case 29:R7xOY.x9d(7);H=R7xOY.a2W(1,K);k$w=28;break;}}};B0Z=23;break;case 20:B.prototype.Q8b=function(A){var i2S,C;i2S=2;for(;i2S !== 9;){switch(i2S){case 3:this.XDb(A,function(){var k4Q;k4Q=2;for(;k4Q !== 1;){switch(k4Q){case 2:l.wa(A) || (l.wa(A.ao) || A.ao.jab--,C.h6(A));k4Q=1;break;}}});i2S=9;break;case 2:C=this;A.Qic=A.tg;this.vzb(A);l.wa(A.K_b) || A.K_b(A.Qic);i2S=3;break;}}};B.prototype.R8b=function(A){var p_7,C,D,E,G;p_7=2;for(;p_7 !== 8;){switch(p_7){case 2:(C=this,D=A.L,E=this.sd[D] || A.ao);p_7=1;break;case 4:G=q.default.time.now();this.Rk.mec(A,E,function(F){var c_V;c_V=2;for(;c_V !== 4;){switch(c_V){case 2:F || l.wa(E) || (F=q.default.time.fa() - G,l.wa(E.cc) && (E.cc={}),l.wa(E.cc.Bu) && (E.cc.Bu=0),E.cc.Bu+=F);--E.tX;C.h6(A);c_V=4;break;}}});p_7=8;break;case 5:var d2h="mana";d2h+="g";d2h+="erd";d2h+="ebugeven";d2h+="t";var R15=", rem";R15+="a";R15+="i";R15+="n";R15+="ing: ";var N2v=", ";N2v+="p";N2v+="t";N2v+="s";N2v+=": ";var v1U=", s";v1U+="tr";v1U+="ea";v1U+="m";v1U+="Id: ";var s8W=", header";s8W+="Cache dataCo";s8W+="mpl";s8W+="ete: movie";s8W+="Id: ";p_7=(this.Yp.jj && (D="@" + q.default.time.fa() + s8W + D + v1U + A.Sa + N2v + A.ca + R15 + (E.tX - 1),this.emit(d2h,{message:D})),A.Ti && 0 === A.responseType && this.Rk && !this.aI)?4:9;break;case 9:(--E.tX,C.h6(A));p_7=8;break;case 1:p_7=E?5:8;break;}}};B.prototype.mXa=function(){var O4j;O4j=2;for(;O4j !== 1;){switch(O4j){case 2:0 === this.Hx.length && (this.Hx=[f.Bo.instance.zt(p.u.T,void 0,!1,!1,this.un,this.Yp),f.Bo.instance.zt(p.u.J,void 0,!1,!1,this.un,this.Yp)],this.Hx.forEach(function(A){var p_e;p_e=2;for(;p_e !== 1;){switch(p_e){case 2:return A.oa();break;case 4:return A.oa();break;}}}),t.Sf());O4j=1;break;}}};B.prototype.rXa=function(){var i6F,A;i6F=2;for(;i6F !== 4;){switch(i6F){case 2:A=this.Hx;this.Hx=[];A.forEach(function(C){var f_8;f_8=2;for(;f_8 !== 1;){switch(f_8){case 4:f.Bo.instance.dJ(C);f_8=9;break;case 2:f.Bo.instance.dJ(C);f_8=1;break;}}});i6F=4;break;}}};B.prototype.TBb=function(){var v4P,A;v4P=2;for(;v4P !== 5;){switch(v4P){case 3:A=this;v4P=5;break;case 1:!this.u6 && 0 < this.wN.length && (this.wN.forEach(function(C){var T_G;T_G=2;for(;T_G !== 1;){switch(T_G){case 2:A.joa(C.N_b,C.re);T_G=1;break;}}}),this.wN=[]);v4P=5;break;case 2:A=this;v4P=1;break;}}};B.prototype.kXa=function(A,C){var u7H,D;u7H=2;for(;u7H !== 8;){switch(u7H){case 2:D=A.stream.mediaType;2 > this.Hx.length && this.mXa();u7H=5;break;case 5:C=new m.Vha(A.stream,C,this.Hx[D],A,this,!0,v);C.Ti=A.Ti;C.sg=this;return C;break;}}};B0Z=27;break;case 14:B.prototype.z4b=function(A){var W8f;W8f=2;for(;W8f !== 1;){switch(W8f){case 2:return this.yib(this.sd[A]);break;}}};B.prototype.s7a=function(){var R6R,D,E,G;function C(L,O){var X4V;X4V=2;for(;X4V !== 1;){switch(X4V){case 2:L && L.data && L.data[O].forEach(function(K){var X7h;X7h=2;for(;X7h !== 5;){switch(X7h){case 2:K.abort();D+=K.bytesReceived;X7h=5;break;}}});X4V=1;break;}}}R6R=2;function A(L){var N6y;N6y=2;for(;N6y !== 1;){switch(N6y){case 2:L.A2a();N6y=1;break;}}}for(;R6R !== 4;){switch(R6R){case 2:D=0;for(E in this.sd){G=this.sd[E];if(G.data){for(var F in G.data){var E0K="in ent";E0K+="r";E0K+="y";E0K+=":";var I35="mis";I35+="sing headerEntry f";I35+="or streamId:";G.headers[F] || x(I35,F,E0K,G);C(G,F);G.data[F].forEach(A);delete G.data[F];}delete G.data;}}this.TDb(D);R6R=4;break;}}};B.prototype.qC=function(A){var A0S,C;A0S=2;for(;A0S !== 5;){switch(A0S){case 2:C=this.sd[A.L];C && (this.Hc(A)?l.wa(C.cc.P_b) && !l.wa(A.loadTime) && (C.cc.P_b=A.loadTime):l.wa(C.cc.cib) && !l.wa(A.loadTime) && (C.cc.cib=A.loadTime));A0S=5;break;}}};B.prototype.nl=function(A){var r8m;r8m=2;for(;r8m !== 1;){switch(r8m){case 2:this.Hc(A)?this.Q8b(A):this.R8b(A);r8m=1;break;}}};B.prototype.$_=function(A){var Z6L;Z6L=2;for(;Z6L !== 5;){switch(Z6L){case 2:var I_x="_";I_x+="o";I_x+="n";I_x+="Error: ";u(I_x,A.toString());this.h6(A);Z6L=5;break;}}};B0Z=20;break;case 4:B.prototype.aha=function(A){var q2s;q2s=2;for(;q2s !== 5;){switch(q2s){case 2:this.un=A;this.Hx.forEach(function(){});q2s=5;break;}}};B.prototype.zI=function(A,C,D){var o5h,E,G;o5h=2;for(;o5h !== 9;){switch(o5h){case 1:o5h=(E[C]=A)?5:4;break;case 6:o5h=(E[C]=A)?8:5;break;case 4:D && delete E[C];G?(this.u6=!1,this.TBb()):this.u6=!0;o5h=9;break;case 5:for(var F in E){E.hasOwnProperty(F) && !1 === E[F] && (G=!1);}o5h=4;break;case 2:(E=this.kI,G=A);o5h=1;break;}}};B.prototype.flush=function(){var O2T,C;O2T=2;for(;O2T !== 8;){switch(O2T){case 2:this.s7a();for(var A in this.H6){C=this.H6[A];C.abort();}this.sd=Object.create(null);this.NH=0;O2T=3;break;case 3:this.Hg=[];O2T=9;break;case 9:var o_E="m";o_E+="a";o_E+="na";o_E+="gerde";o_E+="bugevent";var G1K=", h";G1K+="ead";G1K+="erCache fl";G1K+="ush: ";this.Yp.jj && (C="@" + q.default.time.fa() + G1K,this.emit(o_E,{message:C}));O2T=8;break;}}};B.prototype.list=function(){var I88;I88=2;for(;I88 !== 1;){switch(I88){case 2:return this.Hg;break;}}};B.prototype.a_=function(A,C){var w7y;w7y=2;for(;w7y !== 4;){switch(w7y){case 2:w7y=(A=this.sd[A])?1:4;break;case 1:w7y=(C=A.headers[C])?5:4;break;case 8:w7y=(C=A.headers[C])?6:7;break;case 5:return C;break;}}};B.prototype.A4b=function(A,C){var o54,D,E;o54=2;for(;o54 !== 5;){switch(o54){case 2:(D=this,E=this.z4b(A));return E || !this.Rk?Promise.resolve(E):(this.aI?this.OBb(A,C):this.NBb(A,C)).then(function(G){var F3m;F3m=2;for(;F3m !== 1;){switch(F3m){case 2:return D.yib(G);break;case 4:return D.yib(G);break;}}});break;}}};B0Z=14;break;case 2:c.__extends(B,z);Object.defineProperties(B.prototype,{cache:{get:function(){var W8g;W8g=2;for(;W8g !== 1;){switch(W8g){case 2:return this.sd;break;}}},enumerable:!1,configurable:!0}});B.prototype.vQb=function(){var D$I;D$I=2;for(;D$I !== 5;){switch(D$I){case 2:this.flush();this.rXa();D$I=5;break;case 3:this.flush();this.rXa();D$I=3;break;}}};B0Z=4;break;}}})(d.Vw);b.QMa=a;(0,n.default)(r.EventEmitter.prototype,a.prototype);},function(r,b,a){var c,l,g,m,d,f,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.LPa=void 0;c=a(0);l=a(13);g=c.__importStar(a(1079));m=c.__importStar(a(11));a(2);d=a(189);f=a(8);r=a(35);h=c.__importStar(a(1090));k=h.hPa;a=(function(){var a8m;a8m=2;function n(p,q,v){var p2U;p2U=2;for(;p2U !== 12;){switch(p2U){case 2:var P7u="m";P7u+="e";P7u+="d";P7u+="ia|asejs";var s8O="ME";s8O+="DIA";s8O+="CA";s8O+="CHE";this.H=new q.Console(s8O,P7u);this.Foa=(p.LGa || p.MGa) && 0 < (p.GX || (q.options || ({})).LQ || 0);this.DAb=p.gSb?p.gSb:!1;this.aI=p.Iza?p.Iza:!1;this.$Bb=p.Eeb?p.Eeb:!1;this.K=p;this.$p=q;p2U=7;break;case 7:var E3l="1S";E3l+="IYbZr";E3l+="NJCp";E3l+="9";var f5K="Media ca";f5K+="c";f5K+="he h";f5K+="as not been initiaized";this.me=v;this.kv=Promise.reject(f5K);this.kv.catch(function(){});E3l;p2U=12;break;}}}for(;a8m !== 18;){switch(a8m){case 10:n.prototype.gEb=function(p){var k9B,t,w;k9B=2;for(;k9B !== 4;){switch(k9B){case 2:(t=this,w=p.toString());this.Wp.G0(k.Ms,[k.mPa,p].join("."),v);this.Wp.G0(k.Ms,w,v);k9B=4;break;}}function v(u){var O7M;O7M=2;for(;O7M !== 1;){switch(O7M){case 4:u.map(q);O7M=7;break;case 2:u.map(q);O7M=1;break;}}}function q(u){var k4r;k4r=2;for(;k4r !== 1;){switch(k4r){case 2:t.Wp.delete(k.Ms,u);k4r=1;break;}}}};n.prototype.bgc=function(p){var n7w,q;n7w=2;for(;n7w !== 4;){switch(n7w){case 2:var z8o="m";z8o+="ediacache";z8o+="-error";var N4r="med";N4r+="i";N4r+="acache";q=new l.ef();q.on(this.Wp,N4r,function(v){var g8l;g8l=2;for(;g8l !== 4;){switch(g8l){case 2:g8l=v.keys || v.items?1:5;break;case 1:v.keys || v.items.map(function(t){var s73;s73=2;for(;s73 !== 1;){switch(s73){case 4:return t.key;break;case 2:return t.key;break;}}});g8l=5;break;case 5:var j$w="m";j$w+="ediac";j$w+="ac";j$w+="h";j$w+="e";p.emit(j$w,v);g8l=4;break;}}});q.on(this.Wp,z8o,function(v){var s9F;s9F=2;for(;s9F !== 5;){switch(s9F){case 2:var R0k="me";R0k+="dia";R0k+="cache";var X4E="e";X4E+="r";X4E+="r";X4E+="o";X4E+="r";v.type=X4E;p.emit(R0k,v);s9F=5;break;}}});n7w=4;break;}}};return n;break;case 6:n.prototype.$R=function(p,q){var D$O,v;D$O=2;for(;D$O !== 9;){switch(D$O){case 2:var b$G="mediac";b$G+="ac";b$G+="helo";b$G+="okup";var w18="sa";w18+="ve";w18+="todisk";var h2Y="m";h2Y+="edi";h2Y+="ac";h2Y+="ache";h2Y+="stats";v={type:h2Y,operation:p};w18 === p && (v.saveTime=q.Jkb);b$G === p && (v.lookupTime=q.Aca,v.dataFound=q.A9);v.oneObject=this.aI;D$O=3;break;case 3:var Y1D="m";Y1D+="edi";Y1D+="aca";Y1D+="c";Y1D+="he";this.DAb && this.emit(Y1D,v);D$O=9;break;}}};n.prototype.vbc=function(p,q){var L$N,v,t;L$N=2;for(;L$N !== 5;){switch(L$N){case 2:(v=this,t=Object.keys(p).map(function(w){var b_j;b_j=2;for(;b_j !== 1;){switch(b_j){case 2:return v.TNb(p[w]);break;}}}));return Promise.all(t).then(function(w){var a2B;a2B=2;for(;a2B !== 5;){switch(a2B){case 2:w.sort(function(u,x){var C0K;C0K=2;for(;C0K !== 1;){switch(C0K){case 2:return u.Hc === x.Hc?0:u.Hc?-1:1;break;}}});return h.zva(v.K,v.H,v.me,w,q);break;}}});break;}}};n.prototype.TNb=function(p){var O0y,q,v,t,w;O0y=2;for(;O0y !== 5;){switch(O0y){case 2:(q=this,w={});return new Promise(function(u,x){var I7B,y;I7B=2;for(;I7B !== 5;){switch(I7B){case 2:q.Wp.Sea(k.Ms,p,function(z,B){var K9W,v2A,A;K9W=2;for(;K9W !== 1;){switch(K9W){case 2:try{v2A=2;for(;v2A !== 19;){switch(v2A){case 5:Object.keys(B).map(function(C){var S_H,D,z5d,E;S_H=2;for(;S_H !== 3;){switch(S_H){case 2:D=C.substr(C.lastIndexOf(".") + 1);S_H=1;break;case 1:S_H=D === k.eka?5:4;break;case 5:try{z5d=2;for(;z5d !== 5;){switch(z5d){case 2:E=new Uint8Array(B[C]);t=JSON.parse(String.fromCharCode.apply(null,E));z5d=5;break;}}}catch(G){t=B[C];}S_H=3;break;case 4:D === k.TLa?v=B[C]:w[D]=B[C];S_H=3;break;}}});v2A=4;break;case 6:v2A=y.Hc?14:11;break;case 9:var e6E="Header f";e6E+="ragments was an array buffer, is";e6E+=" invalid type ";A=e6E + y.Sa;v2A=8;break;case 1:return x(z);break;case 12:u(y);v2A=19;break;case 7:y=h.Dua(t,w,v);v2A=6;break;case 13:var u1l="Missing ";u1l+="or i";u1l+="nvalid header ";u1l+="data parts for stream ";return (A=u1l + y.Sa,x(A));break;case 4:v2A=h.Gbb(t)?3:20;break;case 8:return x(A);break;case 3:v2A=v instanceof ArrayBuffer?9:7;break;case 10:var z4H="Missin";z4H+="g or invalid m";z4H+="edia data";z4H+=" parts for stream ";return (A=z4H + y.Sa,x(A));break;case 14:v2A=h.Hxa(y)?13:12;break;case 2:v2A=z || void 0 === B?1:5;break;case 11:v2A=h.Gxa(y)?10:12;break;case 20:y=h.Cua(t,{response:w.response});v2A=6;break;}}}catch(C){x(C);}K9W=1;break;}}});I7B=5;break;}}});break;}}};n.prototype.JDb=function(p,q,v){var I6u,t;I6u=2;for(;I6u !== 5;){switch(I6u){case 2:t=this;return new Promise(function(w,u){var o2h,x;o2h=2;for(;o2h !== 5;){switch(o2h){case 2:t.Wp.read(k.Ms,p,function(y,z){var A5E,G,B,A,C,D,q_v,E8f,S,U,W,V,R13,u0A,N1m,P,J,N,S2Z,w6O,t8e,E,d4l,F,L,O,K,I,M,V1X,L_0,y9k;A5E=2;for(;A5E !== 4;){switch(A5E){case 12:G=Object.keys(E.headers);A5E=11;break;case 9:w(void 0);A5E=4;break;case 3:A5E=m.wa(z)?9:8;break;case 14:z=[];A5E=13;break;case 17:x=h.zva(t.K,t.H,t.me,z,q);A5E=16;break;case 2:A5E=1;break;case 1:A5E=y?5:3;break;case 18:try{q_v=2;for(;q_v !== 8;){switch(q_v){case 3:try{E8f=2;for(;E8f !== 7;){switch(E8f){case 4:E8f=h.Gxa(U)?3:9;break;case 5:(S=H[O][V.value],U=h.Cua(S,S));E8f=4;break;case 8:V=W.next();E8f=1;break;case 9:z.push(U);E8f=8;break;case 1:E8f=!V.done?5:7;break;case 2:(W=(C=void 0,c.__values(P)),V=W.next());E8f=1;break;case 3:var M33="Mi";M33+="ssing or invalid media d";M33+="at";M33+="a parts for stream ";return (I=M33 + U.Sa,u(I));break;}}}catch(qa){C={error:qa};}finally{R13=2;for(;R13 !== 1;){switch(R13){case 2:try{u0A=2;for(;u0A !== 1;){switch(u0A){case 2:V && !V.done && (D=W.return) && D.call(W);u0A=1;break;}}}finally{N1m=2;for(;N1m !== 5;){switch(N1m){case 2:N1m=C?1:5;break;case 1:throw C.error;N1m=5;break;}}}R13=1;break;}}}q_v=9;break;case 5:O=N.value;P=Object.keys(H[O]);q_v=3;break;case 1:q_v=!N.done?5:8;break;case 9:N=J.next();q_v=1;break;case 2:(J=c.__values(B),N=J.next());q_v=1;break;}}}catch(qa){var fa;fa={error:qa};}finally{S2Z=2;for(;S2Z !== 1;){switch(S2Z){case 2:try{w6O=2;for(;w6O !== 1;){switch(w6O){case 2:N && !N.done && (A=J.return) && A.call(J);w6O=1;break;}}}finally{t8e=2;for(;t8e !== 5;){switch(t8e){case 1:throw fa.error;t8e=5;break;case 2:t8e=fa?1:5;break;}}}S2Z=1;break;}}}A5E=17;break;case 16:void 0 !== x && (x.ao=y);A5E=15;break;case 8:E=z[p];A5E=7;break;case 20:H=E.data;B=Object.keys(H);A5E=18;break;case 10:A5E=E.data?20:17;break;case 6:y=h.yva(E.movieEntry);A5E=14;break;case 11:try{d4l=2;for(;d4l !== 12;){switch(d4l){case 1:d4l=!L.done?5:12;break;case 2:(F=c.__values(G),L=F.next());d4l=1;break;case 9:return u(I);break;case 5:(O=L.value,K=E.headers[O]);d4l=4;break;case 4:d4l=K.fragments instanceof ArrayBuffer?3:8;break;case 7:d4l=h.Hxa(M)?6:14;break;case 6:var r2T="Missing or";r2T+=" inva";r2T+="lid he";r2T+="ader data parts for stre";r2T+="am ";return (I=r2T + M.Sa,u(I));break;case 3:var G4N="Head";G4N+="er fragments w";G4N+="as an array";G4N+=" buffer, is invalid type ";I=G4N + K.streamId;d4l=9;break;case 14:z.push(M);d4l=13;break;case 8:M=h.Dua(K,K,K.fragments);d4l=7;break;case 13:L=F.next();d4l=1;break;}}}catch(qa){var H;H={error:qa};}finally{V1X=2;for(;V1X !== 1;){switch(V1X){case 2:try{L_0=2;for(;L_0 !== 1;){switch(L_0){case 2:L && !L.done && (B=F.return) && B.call(F);L_0=1;break;}}}finally{y9k=2;for(;y9k !== 5;){switch(y9k){case 2:y9k=H?1:5;break;case 3:y9k=H?2:0;break;case 1:throw H.error;y9k=5;break;case 9:throw H.error;y9k=1;break;}}}V1X=1;break;}}}A5E=10;break;case 15:var A_0="m";A_0+="edia";A_0+="cachelookup";t.$R(A_0,{Aca:t.$p.time.fa() - v,A9:!0});w(x);A5E=4;break;case 5:u(y);A5E=4;break;case 13:A5E=E.headers?12:10;break;case 7:A5E=E.movieEntry?6:15;break;}}});o2h=5;break;}}});break;}}};n.prototype.FBb=function(p){var s11,q;s11=2;for(;s11 !== 5;){switch(s11){case 2:var R7$="M";R7$+="ed";R7$+="ia cache ";R7$+="is not enabled";q=this;return this.kv?this.kv.then(function(){var C0x;C0x=2;for(;C0x !== 1;){switch(C0x){case 2:return new Promise(function(v){var e0W;e0W=2;for(;e0W !== 1;){switch(e0W){case 2:q.Wp.G0(k.Ms,p.toString(),function(t){var R0q;R0q=2;for(;R0q !== 1;){switch(R0q){case 2:t && 0 !== t.length?1 === t.length && t[0] === p.toString()?v(!0):v(!1):v(!1);R0q=1;break;}}});e0W=1;break;}}});break;}}}):Promise.reject(R7$);break;}}};a8m=10;break;case 3:n.prototype.nec=function(p,q){var X$X,v,t,w,u,x,y;X$X=2;for(;X$X !== 13;){switch(X$X){case 2:(v=this,t=[p.L,p.Sa,k.Eub].join("."),w=this.$p.time.fa(),u=h.b9a(p),x={});x[t + "." + k.eka]={ys:u,gd:k.pH};x[t + "." + k.evb]={ys:(0,f.iB)(p.dh.map(function(z){var O0l;O0l=2;for(;O0l !== 1;){switch(O0l){case 2:return z.data;break;}}})),gd:k.pH};X$X=4;break;case 3:u={timescale:p.stream.ma.W,startTicks:p.stream.ma.qo,offset:p.stream.ma.Qi(0)};y=p.stream.ma.z1;x[t + "." + k.TLa]={ys:u,gd:k.pH};x[t + "." + k.vub]={ys:y.sizes.buffer,gd:k.pH};X$X=6;break;case 6:x[t + "." + k.uub]={ys:y.ye.buffer,gd:k.pH};X$X=14;break;case 4:X$X=p.stream.pe && !m.wa(p.stream.ma)?3:14;break;case 14:this.Wp.Ikb(k.Ms,x,function(z){var Y_Z;Y_Z=2;for(;Y_Z !== 5;){switch(Y_Z){case 2:z || (z=v.$p.time.fa() - w,p.ao && (m.wa(p.ao.cc.Bu) && (p.ao.cc.Bu=0),p.ao.cc.Bu+=z));q();Y_Z=5;break;}}});X$X=13;break;}}};n.prototype.mec=function(p,q,v){var R1x,u,x,t,w,y;R1x=2;for(;R1x !== 14;){switch(R1x){case 4:p=h.uva(p);R1x=3;break;case 5:(u=this.$p.time.fa(),x=[p.L,p.Sa,p.Td].join("."));R1x=4;break;case 1:R1x=w instanceof ArrayBuffer?5:6;break;case 2:(t=this,w=p.response);R1x=1;break;case 3:y={};y[x + "." + k.eka]={ys:p,gd:k.pH};R1x=8;break;case 8:m.wa(w) || (y[x + "." + k.$vb]={ys:w,gd:k.pH});this.Wp.Ikb(k.Ms,y,function(z){var K5w;K5w=2;for(;K5w !== 5;){switch(K5w){case 2:var h4Q="Fai";h4Q+="led ";h4Q+="to";h4Q+=" save f";h4Q+="ragment";z?t.H.warn(h4Q,z):(z=t.$p.time.fa() - u,m.wa(q.cc.Bu) && (q.cc.Bu=0),q.cc.Bu+=z);v();K5w=5;break;}}});R1x=14;break;case 6:var G$r="Unabl";G$r+="e to save fragment because ";G$r+="response is no";G$r+="t an";G$r+=" ArrayBuffer";v(Error(G$r));R1x=14;break;}}};n.prototype.oec=function(p){var h1L,q,v,t,w,u,x,y,B,A,l4E,E,G,a6A,K,F,L,O,I4B,f5G,y3I,C,D,Z9D,V2o,S74,z;h1L=2;for(;h1L !== 20;){switch(h1L){case 9:x.headers=z;h1L=8;break;case 2:(w=this,u=this.$p.time.fa(),x={},y=h.F9a(p));x.movieEntry=y;h1L=5;break;case 12:I={lifespan:259200};this.$Bb && (I.convertToBinaryData=!0);this.Wp.save(k.Ms,p.L,x,I,function(M){var Z8g;Z8g=2;for(;Z8g !== 1;){switch(Z8g){case 2:var z70="sav";z70+="eto";z70+="d";z70+="isk";M || w.$R(z70,{Jkb:w.$p.time.fa() - u});Z8g=1;break;}}});h1L=20;break;case 8:h1L=p && p.data?7:12;break;case 5:h1L=p.headers?4:8;break;case 7:y={};(B=p.data,A=Object.keys(p.data));try{l4E=2;for(;l4E !== 6;){switch(l4E){case 8:y[E]=A;l4E=7;break;case 5:(E=D.value,G=B[E]);A={};l4E=3;break;case 9:try{a6A=2;for(;a6A !== 7;){switch(a6A){case 4:a6A=O instanceof d.iT && O.response instanceof ArrayBuffer && !m.wa(O.Td)?3:8;break;case 8:L=F.next();a6A=1;break;case 3:K=h.uva(O);a6A=9;break;case 9:A[O.Td]={mediaType:K.mediaType,streamId:K.streamId,movieId:K.movieId,bitrate:K.bitrate,location:K.location,serverId:K.serverId,saveToDisk:K.saveToDisk,offset:K.offset,bytes:K.bytes,timescale:K.timescale,startTicks:K.startTicks,durationTicks:K.durationTicks,response:O.response};a6A=8;break;case 2:(F=(v=void 0,c.__values(G)),L=F.next());a6A=1;break;case 1:a6A=!L.done?5:7;break;case 5:O=L.value;a6A=4;break;}}}catch(M){v={error:M};}finally{I4B=2;for(;I4B !== 1;){switch(I4B){case 2:try{f5G=2;for(;f5G !== 1;){switch(f5G){case 2:L && !L.done && (t=F.return) && t.call(F);f5G=1;break;}}}finally{y3I=2;for(;y3I !== 5;){switch(y3I){case 2:y3I=v?1:5;break;case 3:y3I=v?4:4;break;case 1:throw v.error;y3I=5;break;}}}I4B=1;break;}}}l4E=8;break;case 2:(C=c.__values(A),D=C.next());l4E=1;break;case 1:l4E=!D.done?5:6;break;case 3:l4E=G?9:7;break;case 7:D=C.next();l4E=1;break;}}}catch(M){var I;I={error:M};}finally{Z9D=2;for(;Z9D !== 1;){switch(Z9D){case 2:try{V2o=2;for(;V2o !== 1;){switch(V2o){case 2:D && !D.done && (q=C.return) && q.call(C);V2o=1;break;}}}finally{S74=2;for(;S74 !== 5;){switch(S74){case 2:S74=I?1:5;break;case 3:S74=I?6:8;break;case 1:throw I.error;S74=5;break;}}}Z9D=1;break;}}}h1L=13;break;case 4:z={};Object.keys(p.headers).forEach(function(M){var a_j,H;a_j=2;for(;a_j !== 5;){switch(a_j){case 2:H=h.Z8a(p.headers[M]);z[M]=H;a_j=5;break;}}});h1L=9;break;case 13:x.data=y;h1L=12;break;}}};n.prototype.Lbb=function(p){var L9X;L9X=2;for(;L9X !== 1;){switch(L9X){case 2:return !(m.wa(p) || m.ub(p) || m.wa(p.cc) || m.ub(p.cc) || m.wa(p.L) || m.ub(p.L) || m.wa(p.priority) || m.ub(p.priority));break;}}};a8m=6;break;case 2:n.prototype.oa=function(p,q){var b8i,v;b8i=2;for(;b8i !== 4;){switch(b8i){case 2:var Z2I="Media cac";Z2I+="he ";Z2I+="is disa";Z2I+="bled";v=this;this.Foa?this.kv=new Promise(function(t,w){var X3u;X3u=2;for(;X3u !== 1;){switch(X3u){case 2:(void 0 !== q && null !== q?q.gQ:function(u){var Q2M;Q2M=2;for(;Q2M !== 1;){switch(Q2M){case 4:return g.gQ(v.$p,v.K,u);break;case 2:return g.gQ(v.$p,v.K,u);break;}}})(function(u){var n63,x;n63=2;for(;n63 !== 4;){switch(n63){case 2:var e1k="Media";e1k+=" c";e1k+="a";e1k+="che did not initia";e1k+="lize";v.Wp=u;x=u.aw;(u=u.ZJ)?w(u):x?(v.bgc(p),t()):w(Error(e1k));n63=4;break;}}});X3u=1;break;}}}):(this.kv=Promise.reject(Z2I),this.kv.catch(function(){}));return this.kv;break;}}};n.prototype.f4b=function(p){var M7w,q,v,t;M7w=2;for(;M7w !== 5;){switch(M7w){case 2:(q=this,v=[k.mPa,p].join("."),t=this.$p.time.fa());return this.kv.then(function(){var U8C;U8C=2;for(;U8C !== 1;){switch(U8C){case 2:return new Promise(function(w){var e7k;e7k=2;for(;e7k !== 1;){switch(e7k){case 2:q.Wp.G0(k.Ms,v,function(u){var q1U,x;q1U=2;for(;q1U !== 3;){switch(q1U){case 2:q1U=!u || 0 >= u.length?1:5;break;case 1:var A1W="mediaca";A1W+="cheloo";A1W+="kup";(w(void 0),q.$R(A1W,{Aca:q.$p.time.fa() - t,A9:!1}));q1U=3;break;case 5:x=u[0];q.Wp.read(k.Ms,x,function(y,z){var W5z,A,n6O,B;W5z=2;for(;W5z !== 14;){switch(W5z){case 5:W5z=z instanceof ArrayBuffer?4:3;break;case 1:W5z=!m.wa(z)?5:9;break;case 9:m.wa(B) || (A=h.yva(B));m.wa(A) || m.ub(A) || (A.cc=A.cc || ({}),A.headers=A.headers || ({}));q.Lbb(A)?w(A):(q.gEb(p),w(void 0));W5z=14;break;case 4:try{n6O=2;for(;n6O !== 1;){switch(n6O){case 2:B=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(z)));n6O=1;break;}}}catch(C){}W5z=9;break;case 2:var J$4=" ";J$4+="f";J$4+="ailed";var k2M="Reading";k2M+=" movie ent";k2M+="ry ";y && q.H.warn(k2M + x + J$4,y);W5z=1;break;case 3:B={priority:z.priority,movieId:z.movieId,saveToDisk:z.saveToDisk,firstSelectedStreamBitrate:z.firstSelectedStreamBitrate,initSelectionReason:z.initSelectionReason,histDiscountedThroughputValue:z.histDiscountedThroughput,histTdigest:z.histTdigest,histAge:z.histAge,headerCount:z.headerCount,dataRequestCount:z.dataRequestCount,headerRequestCount:z.headerRequestCount,stats:z.stats};W5z=9;break;}}});q1U=3;break;}}});e7k=1;break;}}});break;}}});break;}}};n.prototype.b4b=function(p,q,v){var f27,w,t;f27=2;for(;f27 !== 9;){switch(f27){case 4:w=this.$p.time.fa();return this.kv.then(function(){var F27;F27=2;for(;F27 !== 1;){switch(F27){case 2:return new Promise(function(u){var i$h;i$h=2;for(;i$h !== 1;){switch(i$h){case 2:t.Wp.G0(k.Ms,p,function(x){var K3L;K3L=2;for(;K3L !== 5;){switch(K3L){case 2:x=x.reduce(function(y,z){var j$c,B;j$c=2;for(;j$c !== 9;){switch(j$c){case 14:return y;break;case 2:B=z.substr(0,z.lastIndexOf("."));j$c=1;break;case 1:var T$m="drmHeader";T$m+=".__embed";T$m+="__";j$c=-1 !== B.indexOf(T$m)?5:4;break;case 5:return y;break;case 4:y[B]?y[B].push(z):y[B]=[z];return y;break;}}},{});t.vbc(x,q).then(function(y){var G_5,z,B;G_5=2;for(;G_5 !== 8;){switch(G_5){case 9:u(y);G_5=8;break;case 5:var b9d="me";b9d+="d";b9d+="iacac";b9d+="he";b9d+="lookup";var n1j="No content data ";n1j+="found";n1j+=" for ";(z=t.$p.time.fa() - w,B=!1);m.wa(y) || m.wa(y.data) || !m.nk(y.data)?t.H.trace(n1j + p,v):B=!0;t.$R(b9d,{Aca:z,A9:B});G_5=9;break;case 1:return u(void 0);break;case 2:G_5=void 0 === v || void 0 === y?1:5;break;}}},function(){var c2r;c2r=2;for(;c2r !== 1;){switch(c2r){case 4:u(+3);c2r=4;break;case 2:u(void 0);c2r=1;break;}}});K3L=5;break;}}});i$h=1;break;}}});break;}}});break;case 5:var Q9o="Media cach";Q9o+="e i";Q9o+="s not enabled";return Promise.reject(Q9o);break;case 1:f27=!this.kv?5:4;break;case 2:t=this;f27=1;break;case 6:f27=~this.kv?0:0;break;}}};n.prototype.d4b=function(p,q){var y9Q,v,t;y9Q=2;for(;y9Q !== 5;){switch(y9Q){case 2:(v=this,t=this.$p.time.fa());return this.kv.then(function(){var W7r;W7r=2;for(;W7r !== 1;){switch(W7r){case 4:return v.FBb(p);break;case 2:return v.FBb(p);break;}}}).then(function(w){var W5k;W5k=2;for(;W5k !== 5;){switch(W5k){case 4:var g4E="medi";g4E+="a";g4E+="cach";g4E+="elookup";v.$R(g4E,{Aca:v.$p.time.fa() - t,A9:!1});W5k=5;break;case 2:W5k=w?1:4;break;case 9:W5k=w?0:0;break;case 1:return v.JDb(p.toString(),q,t);break;}}});break;}}};a8m=3;break;}}})();b.LPa=a;(0,r.cf)(l.EventEmitter,a);},function(r,b,a){var c,l,g,m,d;c=a(11);g=[];d=!1;r.exports={gQ:function(f,h,k){var n;if(d)c.qd(k) && (l.aw || l.ZJ?setTimeout(function(){k(l);},0):g.push(k));else {d=!0;n=a(135);n.lZ(f);m=new n.Console("MEDIACACHE","media|asejs");l=new (a(456))(h,function(p){p && m.warn("Failed to initialize MediaCache",p);c.qd(k) && setTimeout(function(){k(l);},0);g.map(function(q){setTimeout(function(){q(l);},0);});});}return l;},huc:function(f,h){l=new (a(456))(f,function(k,n){k && m.warn("Failed to initialize MediaCache",k);c.qd(h) && setTimeout(function(){h(n);},0);});}};},function(r,b,a){var l,g,m,d,f;function c(h){this.Rs=h;this.context=h.context;this.Xfb="NULLCONTEXT" === h.context?!0:!1;}l=a(11);g=a(135);m=new g.Console("DISKCACHE","media|asejs");d={context:"NULLCONTEXT",read:function(h,k,n,p,q){q("MediaCache is not supported");},remove:function(h,k,n){n("MediaCache is not supported");},create:function(h,k,n,p){p("MediaCache is not supported");},append:function(h,k,n,p){p("MediaCache is not supported");},query:function(h,k,n){n([]);}};c.prototype.rI=function(){var h,k,n;h=Array.prototype.slice.call(arguments);k=h[0];n=h[h.length - 1];h=h.slice(1,h.length - 1);h.push(function(p){n(null,p);});try{if(this.Xfb)throw Error("Media Cache not supported");k.apply(this.Rs,h);}catch(p){n(p);}};c.prototype.query=function(h,k,n,p){try{if(this.Xfb)throw Error("Media Cache not supported");this.Rs.query(h,k,function(q){n(null,q);},p);}catch(q){n(q);}};c.prototype.read=function(h,k,n,p,q){this.rI(this.Rs.read,h,k,n,p,q);};c.prototype.remove=function(h,k,n){this.rI(this.Rs.remove,h,k,n);};c.prototype.create=function(h,k,n,p){this.rI(this.Rs.create,h,k,n,p);};c.prototype.append=function(h,k,n,p){this.rI(this.Rs.append,h,k,n,p);};c.prototype.info=function(h){this.rI(this.Rs.info,h);};c.prototype.validate=function(h){this.rI(this.Rs.validate,h);};c.prototype.flush=function(h){this.rI(this.Rs.flush,h);};c.prototype.clear=function(){this.Rs.clear();};r.exports={WNb:function(h){var k,n,p,q,v;k=h.ytc || "NRDMEDIADISKCACHE";f=h.GX || 0;0 !== f || l.wa(g.options) || l.wa(g.options.LQ) || (f=g.options.LQ);h=f;try{p=g.storage.PQb;if(!p || !l.nk(p))throw (m.warn("Failed to get disk store contexts from platform"),"Platform does not support disk store");if(n=p[k]){m.warn("Disk store exists, returning");q=new c(n);}else {if(l.wa(g.storage) || !l.qd(g.storage.F3a) || g.options && 0 === g.options.LQ)throw (m.warn("Platform doesn't support creating disk store contexts"),"Platform doesn't support creating disk store contexts");m.warn("Disk store context doesn't exist, creating with size " + h);v=g.storage.F3a({context:k,size:h,encrypted:!0,signed:!0});if(!v || !v.valid)throw "Failed to create disk store context";q=new c(v);}}catch(t){m.warn("Exception creating disk store context - returning NullContext (noops)",t);q=new c(d);}return q;},KWb:function(){return f;},coc:c};},function(r,b,a){var f,h,k,n,p,q,v,t,w;function c(){}function l(u,x,y,z,B){var A;A=f.qd(z)?z:c;this.Dx=u;this.Wg=y.st;this.FA=0;this.IAb=y.dTb || "NONE";this.nA=f.wa(B) || f.ub(B)?0:B;this.hf={};this.dv=y.Gvc || h.storage.nU;this.yx=x;this.gO=p.create(this.yx,y.dPb * this.nA,this.Dx);this.on=this.addEventListener=w.addEventListener;this.removeEventListener=w.removeEventListener;this.emit=this.kb=w.kb;this.XXa=m(this,l.df.REPLACE);this.mBb=m(this,l.df.FWa);this.jI;this.jI=y.Apb?a(1086):a(1087);this.yx.query(this.dv,this.ds(""),(function(C,D){var E;if(C)A(C);else {E=this.gO.mva();C=Object.keys(D).filter(function(G){return G !== E && q.lQ(G);}).map(this.hGa.bind(this));this.Sea(C,(function(G,F){Object.keys(F).map((function(L){var O,K;O=F[L];this.hf[q.y$(L)]=O;if(O.uDa && 1 < Object.keys(O.uDa).length){K=0;Object.keys(O.uDa).forEach((function(I){D[this.ds(I)] && f.Qa(D[this.ds(I)].size) && (K+=D[this.ds(I)].size);}).bind(this));L=q.y$(L);this.hf[L].size=K;}else (L=q.y$(L),D[this.ds(L)] && (this.hf[L].size=D[this.ds(L)].size));}).bind(this));g(this.yx,this.dv,this.Dx,(function(L,O){this.FA=O;L?A(L):A(null,this);}).bind(this));}).bind(this));}}).bind(this));}function g(u,x,y,z){var B;B=f.qd(z)?z:c;u.query(x,y,function(A,C){A?B(A):(A=Object.keys(C).reduce(function(D,E){return D + (C[E].size || 0);},0),B(null,A));});}function m(u,x){return function(y,z,B,A,C){return function(D,E){var G;if(D)(z || u.kb(l.df.Bg,{itemKey:y,error:D}),B(D));else {G={Ql:0,duration:0,items:[],time:h.time.now()};Object.keys(E.actions).map(function(F){var L;L=E.actions[F];F={key:u.hGa(L.cca),cm:F};L.ja?(G.Ql+=L.Ql,F.aca=L.Ql,f.Qa(L.duration) && (G.duration+=L.duration)):F.error=L.error;G.items.push(F);});D=f.qd(A)?A():0;0 < C && (G.TO=C - D);g(u.yx,u.dv,u.Dx,function(F,L){F?B(F):(u.FA=L,G.jp=u.Wg - L,z || u.kb(x,t.x8a(G)),B(null,G));});}};};}function d(u,x){return 0 < x && u >= x?!0:!1;}f=a(11);h=a(135);k=a(275);b=a(92);n=new h.Console("MEDIACACHE","media|asejs");p=a(1082);q=a(457);v=a(136);t=a(276);w=a(458).EventEmitter;b({df:{FWa:"writeitem",REPLACE:"replaceitem",Fja:"journalupdate",Bg:"mediacache-error"}},l);l.prototype.XXb=function(){return this.Dx;};l.prototype.hGa=function(u){return u.slice(this.Dx.length + 1);};l.prototype.bva=function(){return Object.keys(this.hf).filter((function(u){u=q.vua(this.hf[u]);return void 0 === u || 0 >= u.f3a();}).bind(this));};l.prototype.iYb=function(){return Object.keys(this.hf).reduce((function(u,x){var y;y=this.hf[x];return y && y.creationTime < u.creationTime?{resourceKey:x,creationTime:y.creationTime}:u;}).bind(this),{resourceKey:null,creationTime:h.time.now()}).Iwc;};l.prototype.XWb=function(){var u;switch(this.IAb){case "FIFO":u=this.iYb();}return u;};l.prototype.eQb=function(u){var x;x=f.qd(u)?u:c;this.j9a((function(y){var z,B,A;z=this.hf;B=Object.keys(z).reduce(function(C,D){D=z[D];D.resourceIndex && Object.keys(D.resourceIndex).forEach(function(E){C.push(E);});return C;},[]);if((y=y.filter(function(C){return !q.lQ(C) && 0 > B.indexOf(C);})) && 0 < y.length){A=this;y=h.Promise.all(y.map(function(C){return new h.Promise(function(D,E){A.delete(C,function(G){G?E(G):D();});});})).then(function(){x(void 0,{QCa:!0});},function(C){x(C,{QCa:!1});});t.Vy(y);}else u(void 0,{QCa:!1});}).bind(this));};l.prototype.Lbc=function(u,x,y){var z,B;z=f.qd(x)?x:c;x=this.ds(u);B=h.time.now();this.yx.read(this.dv,x,0,-1,(function(A,C){var D;if(A)z(A);else if(C && C.ja && C.value){f.qd(y) || (y=this.jI.DY(v.Ns.cH),q.lQ(u)?y=this.jI.DY(v.Ns.Z4):(A=this.hf[u],!f.wa(A) && f.Qa(A.resourceIndex[u])?(A=A.resourceIndex[u],f.wa(A) && (A=v.Ns.cH),y=this.jI.DY(A)):n.warn("Metadata is undefined or does not contain a resource format for key",u,":",A)));try{D=y(C.value);}catch(E){return z(k.OM.Hs(E.message));}C={duration:h.time.now() - B};this.hf[u] && f.Qa(this.hf[u].size) && (C.WA=f.Qa(this.hf[u].size)?this.hf[u].size:0);z(null,D,C);}else z(k.OM.Hs(C.error));}).bind(this));};l.prototype.read=function(u,x,y){this.Lbc(u,x,y);};l.prototype.Sea=function(u,x,y){var z,B,A;z=f.qd(x)?x:c;if("[object Array]" !== Object.prototype.toString.call(u))z(k.OM.Hs("item keys must be an array"));else {B={};A=[];u=h.Promise.all(u.map((function(C){return new h.Promise((function(D,E){var G;y && !f.wa(y[C]) && (G=this.jI.DY(y[C]));this.read(C,function(F,L,O){F?(L={},L[C]=F,E(L)):(B[C]=L,A.push({duration:O.duration,WA:O.WA}),D());},G);}).bind(this));}).bind(this))).then(function(){var C;C={};0 < A.length && (C=A.reduce(function(D,E){f.Qa(E.duration) && (D.duration+=E.duration);f.Qa(E.WA) && (D.WA+=E.WA);return D;},{duration:0,WA:0}));z(null,B,C);},function(C){z(C);});t.Vy(u);}};l.prototype.write=function(u,x,y,z,B){var A,C,D;y=f.qd(y)?y:c;A=this.ds(u);C="function" === typeof B?B():0;D=v.hwa(x);D=this.jI.Qva(D)(x);D.byteLength + this.FA >= this.Wg?y(k.jM):d(D.byteLength + C,this.nA)?y(k.W5):this.gO.save(this.dv,A,x,this.mBb(u,z,y,B,this.nA),D.byteLength);};l.prototype.replace=function(u,x,y,z,B){var A,C,D,E;A=f.qd(y)?y:c;C=this.ds(u);D=0;"function" === typeof B && (D=B());y=v.hwa(x);E=this.jI.Qva(y)(x);y=(this.hf[u] || ({})).size || 0;0 >= y && this.hf[u]?this.O9a([u],(function(G){n.trace("Replacing key",u,"which exists:",!!this.hf[u],this.hf[u]?this.hf[u]:void 0,"and has size",G,"with",x,"with size",E.byteLength,"plus _used",this.FA,"vs capacity",this.Wg);E.byteLength - G + this.FA >= this.Wg?A(k.jM):d(E.byteLength - G + D,this.nA)?A(k.W5):this.gO.replace(this.dv,C,x,this.XXa(u,z,A,B,this.nA),E.byteLength);}).bind(this)):(n.trace("Replacing key",u,"which exists:",!!this.hf[u],this.hf[u]?this.hf[u]:void 0,"and has size",y,"with",x,"with size",E.byteLength,"plus _used",this.FA,"vs capacity",this.Wg),E.byteLength - y + this.FA >= this.Wg?A(k.jM):d(E.byteLength - y + D,this.nA)?A(k.W5):this.gO.replace(this.dv,C,x,this.XXa(u,z,A,B,this.nA),E.byteLength));};l.prototype.Xcc=function(u,x,y,z){var B;B=f.qd(x)?x:c;"[object Object]" !== Object.prototype.toString.call(u)?B(k.V5.Hs("items must be a map of keys to objects")):(x=h.Promise.all(Object.keys(u).map((function(A){return new h.Promise((function(C){this.replace(A,u[A],function(D,E){D?C({error:D,ys:A}):C(E);},!0,z);}).bind(this));}).bind(this))).then((function(A){var C,D,E,G;try{C=Number.MAX_VALUE;D=A.reduce(function(F,L){L.error || (F.Ql+=L.Ql,f.Qa(L.duration) && (F.duration+=L.duration),!f.wa(L.jp) && L.jp < C && (C=L.jp),L.items.map(function(O){F.items.push({key:O.key,cm:O.cm,aca:O.aca,u4b:O.u4b,duration:O.duration});}),C < Number.MAX_VALUE && (F.jp=C));return F;},{Ql:0,items:[],time:h.time.now(),duration:0});0 < this.nA && (D.TO=this.nA - z());E=A.filter(function(F){return !f.wa(F.error);});G=t.G$a(E);y || (G?G.forEach((function(F){this.kb(l.df.Bg,F);}).bind(this)):this.kb(l.df.REPLACE,t.x8a(D)));B(G,D);}catch(F){B(F);}}).bind(this),(function(A){y || this.kb(l.df.Bg,A);B(A);}).bind(this)),t.Vy(x));};l.prototype.delete=function(u,x){var y;y=f.qd(x)?x:c;this.yx.remove(this.dv,this.ds(u),(function(z,B){z?y(z):B && B.ja?g(this.yx,this.dv,this.ds(""),(function(A,C){A?y(A):(this.FA=C,y());}).bind(this)):y(k.ctb.Hs(B.error));}).bind(this));};l.prototype.j9a=function(u){this.query("",function(x,y){x?(n.error("Failed to get keys",x),u([])):u(y);});};l.prototype.query=function(u,x){var y,z;y=f.qd(x)?x:c;z=this.gO.mva();this.yx.query(this.dv,this.ds(u),(function(B,A){B?y(B):y(null,Object.keys(A).filter(function(C){return C !== z;}).map(this.hGa.bind(this)));}).bind(this));};l.prototype.ds=function(u){return this.Dx + "." + u;};l.prototype.clear=function(u){var x;x=f.qd(u)?u:c;this.j9a((function(y){var z;z=h.Promise.all(y.map((function(B){return new h.Promise((function(A){B && this.delete(B,function(){A();});}).bind(this));}).bind(this))).then(function(){x(y);},(function(B){this.kb(l.df.Bg,B);x([],B);}).bind(this));t.Vy(z);}).bind(this));};l.prototype.O9a=function(u,x){var y,z;y=f.qd(x)?x:c;z=(u || []).map((function(B){return this.ds(B);}).bind(this));this.yx.query(this.dv,this.Dx,(function(B,A){B?(n.error("failed to get persisted size for keyset ",u,B),y(0)):(B=Object.keys(A).filter(function(C){return 0 <= z.indexOf(C);}).reduce(function(C,D){return C + (A[D].size || 0);},0),y(B));}).bind(this));};l.prototype.kWb=function(u){return this.gO.l8a(u);};l.prototype.constructor=l;r.exports=l;},function(r,b,a){var l,g,m,d,f,h,k,n;function c(p,q,v){var B,A;function t(C,D,E,G){C.info.call(C,(function(F,L){var O;if(F)G(F);else {try{O=L.values[this.context].entries[D][E].size;}catch(K){O=-1;}-1 < O?G(null,O):this.validate(function(K,I){K?G(K):(I[E] && (O=I[E].size),G(null,O));});}}).bind(C));}function w(C,D,E,G,F,L,O){var K;L?L.actions || (L.actions={}):L={actions:{}};B(G);K=g.time.now();G=new k(function(I,M){C.create(g.storage.nU,D,E,function(H,J){H?M(H):I(J);});}).then(function(I){I.ja?t(C,g.storage.nU,D,function(M,H){M?O(M):(A(H),B(H),L.actions[c.R2.Fja]={ja:!0,time:F,Ql:H,cca:D,Vib:I,duration:g.time.now() - K},L.jp=I.jp,O(null,L));}):(L.actions[c.R2.Fja]={ja:!1,cca:D,error:I.error},O(null,L));},function(I){O(I);});f.Vy(G);}function u(C,D,E,G,F,L){G.pp(E.time,E);for(var O=E.time - 864E5,K=G.Mq();K && !isNaN(K.time) && K.time < O;){K=G.WO();B(0 - (K.ga || 0));K=G.Mq();}G=G.Bl().map(function(I){return I.time + ";" + I.ga;});w(C,D,Array.prototype.join.call(G,"|"),E.ga,E.time,F,L);}function x(C,D,E,G,F,L,O,K,I){var M;M=g.time.now();C.create(E,G,F,function(H,J){var N;if(H)h.error("Failed to replace item",G,H);else if(J.ja){N=J.jp;t(C,E,G,function(P,W){var V,S;if(P)I(P);else {P={time:K,ga:W || 0};V={jp:N,actions:{}};S=g.time.now() - M;V.actions[c.R2.REPLACE]={ja:!0,time:K,Ql:W,cca:G,Vib:J,duration:S};L?u(C,D,P,O,V,I):(B(W),I(null,V));}});}else I(m.V5.Hs(J.error || "Failed to create item"));});}function y(C,D,E,G,F,L,O,K,I){var M;M=g.time.now();C.append(E,G,F,function(H,J){var N;if(H)(h.error("Failed to save item " + G,H),I(H));else if(J.ja){N=J.jp;t(C,E,G,function(P,W){var V,S;if(P)I(P);else {P={time:K,ga:W || 0};V={jp:N,actions:{}};S=g.time.now() - M;V.actions[c.R2.jyb]={ja:!0,time:K,Ql:W,cca:G,Vib:J,duration:S};L?u(C,D,P,O,V,I):(B(W),I(null,V));}});}else I(m.V5.Hs(J.error || "Failed to save item"));});}function z(C,D){C && l.qd(C.remove) && C.Rs.valid && C.remove(g.storage.nU,D.HN,function(E,G){if(E)h.error("Failed to delete old journal key",E);else try{G && (l.wa(G.error) || G.error.some(function(F){return "NFErr_FileNotFound" === F.Ttc;})) && u(C,D.HN,{time:0,ga:0},D.LV,0,function(){});}catch(F){}});}if(!p.Rs.valid)return n;this.qXa=l.wa(q) || l.ub(q)?0:q;this.Qma=p;this.Cna=this.SU=0;this.LV=new d();this.nDb=v || "default";this.HN=this.nDb + ".NRDCACHEJOURNALKEY";B=(function(C){isNaN(C) || (this.SU+=C);return this.SU;}).bind(this);A=(function(C){isNaN(C) || (this.Cna+=C);return this.Cna;}).bind(this);this.mva=function(){return this.HN;};this.save=function(C,D,E,G){var F;F=g.time.now();y(this.Qma,this.HN,C,D,E,0 <= this.qXa,this.LV,F,G);};this.replace=function(C,D,E,G){var F;F=g.time.now();x(this.Qma,this.HN,C,D,E,0 <= this.qXa,this.LV,F,G);};this.l8a=function(C){var D,F;D=this.SU;C-=864E5;for(var E=this.LV.Bl(),G=0;G < E.length;G++){F=E[G];F.time < C && !isNaN(F.ga) && (D-=F.ga);}return D;};(function(C){var D;D=C.Qma;C.SU=0;D.read(g.storage.nU,C.HN,0,-1,function(E,G){var F,L,O,I;F=[];L=0;O=!0;if(E)h.error("Failed to compile records",E);else if(G.ja){E=String.fromCharCode.apply(null,new Uint8Array(G.value));E=String.prototype.split.call(E,"|");G=E.reduce(function(M,H){return M + (H.length + 40);},0);B(G);F=E.map(function(M){M=M.split(";");return {time:Number(M[0]),ga:Number(M[1])};});try{if(!isNaN(F.reduce(function(M,H){return M + H.ga;},0))){O=!1;for(var K=g.time.now() - 864E5;L < F.length;L++){I=F[L];I.time < K || (C.LV.pp(I.time,I),B(I.ga));}}}catch(M){}}O && z(D,C);});})(this);}l=a(11);g=a(135);m=a(275);d=a(1083);b=a(92);f=a(276);h=new g.Console("DISKWRITEMANAGER","media|asejs");k=g.Promise;b({R2:{jyb:"saveitem",REPLACE:"replaceitem",Fja:"journalupdate"}},c);n={save:function(p,q,v,t){t(m.iPa);},replace:function(p,q,v,t){t(m.iPa);},mva:function(){return "";},l8a:function(){return 0;}};c.prototype.constructor=c;r.exports={create:function(p,q,v){return new c(p,q,v);},Zpc:n};},function(r){function b(l){if(!(this instanceof b))return new b(l);if("undefined" === typeof l)this.Ho=function(g,m){return g <= m;};else {if("function" !== typeof l)throw Error("heap comparator must be a function");this.Ho=l;}this.sr=[];}function a(l,g){var m,d,f,h,k,n,p;m=l.sr;d=l.Ho;f=2 * g + 1;h=2 * g + 2;k=m[g];n=m[f];p=m[h];n && d(n.priority,k.priority) && (!p || d(n.priority,p.priority))?(c(m,g,f),a(l,f,d)):p && d(p.priority,k.priority) && (c(m,g,h),a(l,h,d));}function c(l,g,m){var d;d=l[g];l[g]=l[m];l[m]=d;}b.prototype.clear=function(){this.sr=[];};b.prototype.pp=function(l,g){this.sr.push({priority:l,value:g});l=this.sr;g=this.Ho;for(var m=l.length - 1,d=0 === m?null:Math.floor((m - 1) / 2);null !== d && g(l[m].priority,l[d].priority);){c(l,m,d);m=d;d=0 === m?null:Math.floor((m - 1) / 2);}};b.prototype.remove=function(){var l;if(0 !== this.sr.length){l=this.sr[0];c(this.sr,0,this.sr.length - 1);this.sr.pop();a(this,0);return l.value;}};b.prototype.Mq=function(){if(0 !== this.sr.length)return this.sr[0].value;};b.prototype.enqueue=b.prototype.pp;b.prototype.WO=b.prototype.remove;b.prototype.Nba=function(){return 0 === this.sr.length;};b.prototype.Bl=function(){return this.sr.map(function(l){return l.value;});};r.exports=b;},function(r){function b(c,l){var g;if(void 0 === l || "function" !== typeof l || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.Qd)return (this.Qd={},this.Qd[c]=[l],!0);g=this.Qd[c];return void 0 === g?(this.Qd[c]=[l],!0):0 > g.indexOf(l)?(g.push(l),!0):!1;}function a(c,l){c=this.Qd?this.Qd[c]:void 0;if(!c)return !1;c.forEach(function(g){g(l);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,l){var g;if(void 0 === l || "function" !== typeof l || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.Qd)return !1;g=this.Qd[c];if(void 0 === g)return !1;l=g.indexOf(l);if(0 > l)return !1;if(1 === g.length)return (delete this.Qd[c],!0);g.splice(l,1);return !0;},kb:a,emit:a,removeAllListeners:function(c){this.Qd && (void 0 === c?delete this.Qd:delete this.Qd[c]);return this;}};},function(r){function b(c,l,g,m){c.trace(":",g,":",m);l(m);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,l,g,m){g=m?g.bind(m):g;m=!1;if(c){this.console && (g=b.bind(null,this.console,g,l));if("function" === typeof c.addEventListener)m=c.addEventListener(l,g);else if("function" === typeof c.addListener)m=c.addListener(l,g);else throw Error("Emitter does not have a function to add listeners for '" + l + "'");this.listeners.push([c,l,g]);}return m;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(l){var g,m;g=l[0];m=l[1];l=l[2];"function" === typeof g.removeEventListener?g.removeEventListener(m,l):"function" === typeof g.removeListener && g.removeListener(m,l);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},function(r,b,a){var c,l,g,m;c=a(11);l=a(136);g={};g[l.Ns.cH]=function(d){return d;};g[l.Ns.B5]=function(d){d=d || new ArrayBuffer(0);return String.fromCharCode.apply(null,new Uint8Array(d));};g[l.Ns.Z4]=function(d){var f;f=d || new ArrayBuffer(0);d="";f=new Uint8Array(f);for(var h=0;h < f.byteLength;h++){d+=String.fromCharCode(f[h]);}return JSON.parse(d);};m={};m[l.Ns.cH]=function(d){return d;};m[l.Ns.B5]=function(d){for(var f=new ArrayBuffer(d.length),h=new Uint8Array(f),k=0,n=d.length;k < n;k++){h[k]=d.charCodeAt(k);}return f;};m[l.Ns.Z4]=function(d){return c.wa(d) || c.ub(d)?d:m[l.Ns.B5](JSON.stringify(d));};r.exports={DY:function(d){return g[d] || g[l.Ns.cH];},Qva:function(d){return m[d] || m[l.Ns.cH];}};},function(r,b,a){function c(g){return g;}function l(){return c;}a(11);r.exports={DY:l,Qva:l};},function(r,b,a){var g;function c(m,d){return m.length > d.length?1:d.length > m.length?-1:0;}function l(m,d){var f,h,k;f=[];if(g.nk(d)){h={};k={};k[m]=h;f.push(k);f=Object.keys(d).reduce(function(n,p){var q,v,t;q=d[p];v={};if(g.Iba(q)){t=m + ".__embed__." + p;v[t]=q;n.push(v);}else g.nk(q)?(t=m + ".__sub__." + p,q=l(t,q),h[p]=q[0][t],n=n.concat(q.slice(1))):h[p]=q;return n;},f);}else (k={},k[m]=d,f.push(k));return f;}g=a(136);r.exports={OQb:l,t1b:function(m){var d,f,h,t;d=Object.keys(m).map(function(w){return w.split(".");});d.sort(c);f=d[0];h=f.length;f=m[f.join(".")];for(var k=1;k < d.length;k++){for(var n=!1,p=!1,q=f,v=h;v < d[k].length;v++){t=d[k][v];switch(t){case "__metadata__":break;case "__sub__":p=!0;break;case "__embed__":n=!0;break;default:p?(q=q[t],p=!1):n && (q[t]=m[d[k].join(".")],n=!1);}}}return f;},Z1b:function(m){return m && (0 <= m.indexOf("__sub__") || 0 <= m.indexOf("__embed__"));}};},function(r,b,a){var m,d;function c(f,h,k){Object.keys(f).forEach(function(n){var p,q;if(m.nk(f[n]))if(f[n].Iba){p=f[n];q=k + p.offset;f[n]=h.slice(q,q + p.byteLength);}else f[n]=c(f[n],h,k);});return f;}function l(f,h,k){Object.keys(f).forEach(function(n){var p;if(m.Iba(f[n])){p=f[n];h.push(p);f[n]={Iba:!0,offset:k.Zra,byteLength:p.byteLength};k.Zra+=p.byteLength;}else m.nk(f[n]) && l(f[n],h,k);});return f;}function g(){var f,h,k;f=Array.prototype.concat.apply([],arguments);h=f.reduce(function(n,p){return n + p.byteLength;},0);k=new Uint8Array(h);f.reduce(function(n,p){k.set(new Uint8Array(p),n);return n + p.byteLength;},0);return k.buffer;}m=a(136);d=a(92);r.exports={YLb:function(f){var h,k,n;h=d(f,{});f=[];h=l(h,f,{Zra:0});h=JSON.stringify(h);k=new ArrayBuffer(h.length + 4);n=new DataView(k);n.setUint32(0,h.length);for(var p=4,q=0,v=h.length;q < v;q++){n.setUint8(p,h.charCodeAt(q));p++;}f=[k].concat(f);return g.apply(null,f);},XLb:function(f){for(var h=new DataView(f,0,4).getInt32(0),k=new Uint8Array(f,4,h),n="",p=0;p < k.byteLength;p++){n+=String.fromCharCode(k[p]);}h=4 + h;n=JSON.parse(n);return c(n,f,h);}};},function(r,b,a){var l,g,m,d,f;function c(h){return {mediaType:h.mediaType,streamId:h.Sa,movieId:h.L,bitrate:h.bitrate,location:h.location,serverId:h.$c,saveToDisk:!0,offset:h.offset,bytes:h.ga,timescale:h.W,frameDuration:h.stream.da && h.stream.da.Ea,encrypted:h.Im,initSegments:1 < h.dh.length?h.dh.map(function(k){return {fi:k.ze,s:k.data.byteLength,e:!!k.Im};}):void 0};}Object.defineProperties(b,{__esModule:{value:!0}});b.Gxa=b.Hxa=b.Gbb=b.F9a=b.Z8a=b.b9a=b.uva=b.zva=b.yva=b.Cua=b.Dua=b.hPa=void 0;l=a(0).__importStar(a(11));g=a(1091);m=a(434);d=a(8);f=a(20);b.hPa={mPa:"movieEntry",Eub:"header",eka:"metadata",evb:"headerData",epc:"headerMetadata",vub:"sizes",uub:"durations",TLa:"fragments",$vb:"response",Ms:"billboard",pH:{lifespan:259200}};b.Dua=function(h,k,n){var p,q;p=k.headerData;n && k.sizes instanceof ArrayBuffer && k.durations instanceof ArrayBuffer && (q={qo:n.startTicks,offset:n.offset,W:n.timescale,sizes:new Uint32Array(k.sizes),ye:new Uint32Array(k.durations)});return {Hc:!0,mediaType:h.mediaType,L:h.movieId,Sa:h.streamId,bitrate:h.bitrate,location:h.location,$c:h.serverId,ga:h.bytes,offset:h.offset,Awa:p,wba:h.initSegments,Im:h.encrypted,W:h.timescale,da:h.frameDuration,Ti:h.saveToDisk,ma:q};};b.Cua=function(h,k){var n,p,q;k=k.response;n=h.startTicks;p=h.durationTicks;void 0 !== n && void 0 !== p && (q=n + p);return {Hc:!1,mediaType:h.mediaType,L:h.movieId,Sa:h.streamId,bitrate:h.bitrate,location:h.location,$c:h.serverId,ga:h.bytes,offset:h.offset,response:k,W:h.timescale,bb:h.startTicks,Iv:p,Ti:h.saveToDisk,sb:q};};b.yva=function(h){return {priority:h.priority,L:h.movieId,headers:{},YP:0,tX:0,jab:0,Ti:h.saveToDisk,cc:h.stats,gy:h.firstSelectedStreamBitrate,QB:h.initSelectionReason,tF:h.histDiscountedThroughputValue,Dq:h.histTdigest,Cq:h.histAge,hq:void 0};};b.zva=function(h,k,n,p,q){var v,t;v={headers:{},data:{}};p.forEach(function(w){var u,x,B;u=w.mediaType;u=q && q.oy(u,w.Sa);x=[];if(w.Hc)if(!Array.isArray(w.wba) || 2 > w.wba.length)x.push({ze:0,data:w.Awa});else for(var y=0,z=0;z < w.wba.length;++z){B=w.wba[z];x.push({ze:B.fi,data:w.Awa.slice(y,y + B.s),Im:B.e});y+=B.s;}u?(w.ma && u.Rda(x,w.W,w.da?new f.N(w.da,w.W):void 0,w.ma),w.Hc && u && u.pe?(void 0 === v.headers && (v.headers={}),v.headers[w.Sa]=new m.d3(u,{ga:w.ga,offset:w.offset,dh:x,Im:w.Im},k)):w.response instanceof ArrayBuffer && void 0 !== u.ma && void 0 !== w.bb && void 0 !== w.W && void 0 !== w.sb && (x=u.ma.G$(new f.N(w.bb,w.W).Z),void 0 !== x && (u=new g.aIa(u,{W:w.W,bb:w.bb,sb:w.sb,index:x.index,offset:w.offset,ga:w.ga},w.response,n,h,k),void 0 === v.data && (v.data={}),v.data[w.Sa] || (v.data[w.Sa]=[]),v.data[w.Sa].push(u)))):k.warn("Failed to load data from disk because the AseStream was missing from the stream map streamId: " + w.Sa + " movieId: " + w.L);});if(!l.wa(v.data)){t=v.data;Object.keys(t).forEach(function(w){t[w].sort(function(u,x){return u.bb - x.bb;});});}return v;};b.uva=function(h){return {mediaType:h.mediaType,streamId:h.Sa,movieId:h.L,bitrate:h.bitrate,location:h.location,serverId:h.$c,saveToDisk:!0,offset:h.offset,bytes:h.ga,timescale:h.W,startTicks:h.bb,durationTicks:h.Iv};};b.b9a=c;b.Z8a=function(h){var k,n,p,q;k=c(h);if(h.stream.pe && h.stream && h.stream.ma){n={timescale:h.stream.ma.W,startTicks:h.stream.ma.qo,offset:h.stream.ma.Qi(0)};p=h.stream.ma.z1;q=p.sizes.buffer;p=p.ye.buffer;}return {mediaType:k.mediaType,streamId:k.streamId,movieId:k.movieId,bitrate:k.bitrate,location:k.location,serverId:k.serverId,saveToDisk:!0,offset:k.offset,bytes:k.bytes,timescale:k.timescale,frameDuration:k.frameDuration,headerData:(0,d.iB)(h.dh.map(function(v){return v.data;})),initSegments:k.initSegments,encrypted:h.Im,fragments:n,sizes:q,durations:p};};b.F9a=function(h){return {priority:h.priority,movieId:h.L,saveToDisk:h.Ti,firstSelectedStreamBitrate:h.gy,initSelectionReason:h.QB,histDiscountedThroughputValue:h.tF,histTdigest:h.Dq,histAge:h.Cq};};b.Gbb=function(h){return !l.has(h,"startTicks");};b.Hxa=function(h){return !h.Awa || !h.W || !h.ma || void 0 === h.ma.qo || void 0 === h.ma.offset || void 0 === h.ma.ye || !h.ma.ye.length || void 0 === h.ma.sizes || !h.ma.sizes.length;};b.Gxa=function(h){return void 0 === h.ga || void 0 === h.offset || void 0 === h.W || void 0 === h.bb || void 0 === h.Iv;};},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.aIa=void 0;c=a(0);l=a(8);r=a(35);g=a(77);a=(function(m){function d(f,h,k,n,p,q){n=m.call(this,f,h,n,p,q) || this;h.ga=k.byteLength;g.Gl.oa(n,f,h);n.XN=k;n.Rzb=h.ga;return n;}c.__extends(d,m);Object.defineProperties(d.prototype,{Hc:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{ew:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{tg:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{status:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Nj:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ah:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{active:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{complete:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{response:{get:function(){return this.XN;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{i4b:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{readyState:{get:function(){},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{url:{get:function(){return "disk://";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{aborted:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{wP:{get:function(){return "";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{NCa:{get:function(){return !1;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{bytesReceived:{get:function(){return this.Rzb;},enumerable:!1,configurable:!0}});d.prototype.Mm=function(){return !0;};d.prototype.OA=function(f,h){this.de=h.appendBuffer(this.response,(0,l.zy)(this));return {ja:this.de};};d.prototype.Mi=function(){return -1;};d.prototype.abort=function(){return !0;};d.prototype.ud=function(){};d.prototype.xga=function(){return !1;};return d;})(a(188).WG);b.aIa=a;(0,r.cf)(g.Gl,a);},function(r){r.exports="4.1.2319";},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A,C,D,E,G,F,L,O,K,I,M,H,J,N,P,W,V;Object.defineProperties(b,{__esModule:{value:!0}});b.NHa=void 0;c=a(0);l=a(13);g=a(407);m=a(1094);d=a(264);f=a(1095);h=a(258);k=a(6);a(255);n=a(1096);p=a(455);q=a(21);v=a(2);t=a(159);w=a(1097);u=a(1098);x=a(1099);y=a(71);z=a(277);B=a(1100);A=a(61);C=a(278);D=a(8);E=c.__importDefault(a(3));G=a(1101);F=a(1102);L=a(1103);O=a(1104);K=a(28);I=a(1105);M=a(1106);H=a(462);J=a(1124);N=a(1125);P=a(1126);W=a(1184);V=a(1194);r=(function(){function S(U){this.H=U;this.events=new l.EventEmitter();this.Sc=g.Zq.CLOSED;this.HA=[];this.x1=[];this.GV=[];this.vr=[];this.dXa={};this.p7={};this.wFa=g.kT.default;this.LEb=new y.px({yp:this,source:"engine",Iq:10,console:U});}Object.defineProperties(S.prototype,{Sy:{get:function(){(0,v.assert)(this.zA);return this.zA;},enumerable:!1,configurable:!0}});Object.defineProperties(S.prototype,{state:{get:function(){return this.Sc;},enumerable:!1,configurable:!0}});Object.defineProperties(S.prototype,{H$b:{get:function(){return this.GV;},enumerable:!1,configurable:!0}});Object.defineProperties(S.prototype,{XK:{get:function(){return this.vr.map(function(U){return U.na;});},enumerable:!1,configurable:!0}});Object.defineProperties(S.prototype,{J$b:{get:function(){return this.vr;},enumerable:!1,configurable:!0}});Object.defineProperties(S.prototype,{Ac:{get:function(){this.NL();return this.gB.Ac;},enumerable:!1,configurable:!0}});Object.defineProperties(S.prototype,{fu:{get:function(){this.NL();return this.gB.fu;},enumerable:!1,configurable:!0}});Object.defineProperties(S.prototype,{tk:{get:function(){this.NL();return this.gB.tk;},enumerable:!1,configurable:!0}});Object.defineProperties(S.prototype,{Klc:{get:function(){return this.HA.length;},enumerable:!1,configurable:!0}});Object.defineProperties(S.prototype,{yO:{get:function(){return this.dXa;},enumerable:!1,configurable:!0}});Object.defineProperties(S.prototype,{t1a:{get:function(){return this.Sp;},enumerable:!1,configurable:!0}});Object.defineProperties(S.prototype,{BG:{get:function(){return this.p7;},enumerable:!1,configurable:!0}});Object.defineProperties(S.prototype,{R5b:{get:function(){return this.GYa || (this.GYa=this.xJb());},enumerable:!1,configurable:!0}});S.prototype.open=function(U,fa,qa,za){var Aa;Aa=this;if(this.Sc === g.Zq.OPEN)return !1;this.K=U;this.Ku=new A.FU(new C.H5({pk:!0,currentTime:function(){return D.N.Na(E.default.time.fa());},speed:1}),this.H,"Engine Scheduler");this.VXa=new f.kMa(this.H,U);this.cE=new n.iUa(this.$ba.bind(this),U);U.bha && (this.Sp=new m.aJa(this.H,function(){return Aa.yO;}));this.gB=h.lM.Aaa(U,this.H,fa);this.Sc=g.Zq.OPEN;U=Object.create(U,{LGb:{value:U.wda || U.oO}});this.zA=(0,H.NY)(U);qa && this.zA.Klb(qa);za && this.zA.wEa(za);this.Thb=new J.qTa({Zk:function(){Aa.Sc !== g.Zq.CLOSED && Aa.cE.Zk("playgraphOpportunity");}});this.HYa=new L.eQa(function(){return Aa.xaa();},function(){return Aa.yaa().global;},this.H);this.EOb();return !0;};S.prototype.rW=function(U,fa,qa,za,Aa){var Qa,T,Z;Qa=this;void 0 === Aa && (Aa=!0);this.NL();qa=Object.create(qa,{fS:{value:this.BG}});if(Aa){T=this.Sy.NKb(U,qa);if(T)return (T.lpb(fa),U=this.qu.bind(this,za,T),T.Kfc(U),T);}T=new I.kUa(function(Q){return Qa.qu(za,Z,Q);});Z=(0,P.w9)(this.K,[U,fa,qa,S.Y6b++,this.Ac,T,function(Q){return Qa.cE.Zk(Q);},Aa?this.Sy.MKb.bind(this.Sy):function(){},this.xaa.bind(this),this.Sp],this.H);Z.ag(new u.fVa(Z));Z.ag(new x.zVa(Z.$e));Z.yca.ag(new O.nIa(Z));Z.yca.ag(new M.AOa(Z));this.bE.fL.forEach(function(Q){return Z.ag(Q);});this.Thb.rW(Z);U=new l.ef();U.on(Z.events,"requestsPruned",this.tdc.bind(this));U.on(Z.events,"weightUpdated",this.bBa.bind(this));U.on(Z.events,"underflow",this.li.bind(this,Z));this.vr.push({na:Z,Oh:U,N0:0});this.bBa();return Z;};S.prototype.li=function(U){U=this.HYa.iVb(U);(null === U || void 0 === U?0:U.S9) || this.Sy.reset();};S.prototype.FC=function(U){this.Thb.FC(U);this.vr=this.vr.filter(function(fa){return fa.na === U?(fa.Oh.clear(),!1):!0;});U.Wa();this.bBa();};S.prototype.hGb=function(U,fa){var qa,za,Aa;this.NL();Aa=fa.Wf;Aa=void 0 === Aa?[k.u.T,k.u.J]:Aa;U=(0,W.NO)(this.K,[U,Aa,c.__assign({fS:null !== (za=null !== (qa=fa.fS) && void 0 !== qa?qa:this.p7) && void 0 !== za?za:{}},fa)]);this.GV.push(U);return U;};S.prototype.Ijb=function(U){this.NL();this.GV=this.GV.filter(function(fa){return fa !== U;});U.Wa();};S.prototype.hfc=function(U,fa){this.dXa=U;this.p7=fa;this.GYa=void 0;};S.prototype.xL=function(U,fa){var qa,za;za=null === (qa=(0,q.Qc)(this.HA,function(Aa){return Aa.fX.equals(U);})) || void 0 === qa?void 0:qa.O;za?za.xL(c.__assign(c.__assign({},fa),{vp:this.vAa.bind(this)})):this.x1.push({Zpb:U,OEa:fa});};S.prototype.Kjb=function(U){this.x1=this.x1.filter(function(fa){return !fa.Zpb.equals(U);});};S.prototype.close=function(){this.Sc !== g.Zq.CLOSED && (this.Fcc(),(0,v.assert)(0 === this.HA.length,"Unexpected viewable lease after Playgraph destruction."),this.Ecc(),this.x1=[],delete this.gB,this.Sc=g.Zq.CLOSED,this.Ku.Wa());};S.prototype.Qfc=function(U){this.wFa=U;this.cE.Zk("streamingModeChanged");};S.prototype.EOb=function(){this.bE=new K.xla(this.K);this.bE.ag(new G.ELa(this));this.bE.ag(new B.lUa(this.Ac,this.cE));this.bE.ag(new w.BLa(this.Ac));this.bE.ag(new z.eA(this.LEb));this.bE.ag(new z.eA(this.cE.$r));this.bE.ag(new z.eA(this.VXa.zi));this.bE.ag(new z.eA(this.HYa.zi));};S.prototype.vAa=function(){};S.prototype.ZL=function(U){return c.__awaiter(this,void 0,void 0,function(){var fa,qa,za,Aa;return c.__generator(this,function(Qa){switch(Qa.label){case 0:return ((0,v.assert)(U,"ase.updateViewable(): Viewable config not found."),fa=(0,q.Qc)(this.HA,function(T){return !0 !== T.fX.cy && T.fX.equals(U);}),(0,v.assert)(fa,"ase.updateViewable(): Viewable entry not found."),[4,fa.TG]);case 1:return (qa=Qa.zb(),Aa=(za=qa).ZL,[4,U.Ju]);case 2:return (Aa.apply(za,[Qa.zb()]),[2]);}});});};S.prototype.qu=function(U,fa,qa){var za,Aa,Qa,T;za=this;Aa=qa.P;Qa=U.It(Aa,qa.W0);(0,v.assert)(Qa,"ase.requestViewable(): Viewable config not found.");T=(0,q.Qc)(this.HA,function(Z){return !0 !== Z.fX.cy && Z.fX.equals(Qa);});T || (T={fX:Qa,TG:(function(){return c.__awaiter(za,void 0,void 0,function(){var Z,Q;return c.__generator(this,function(la){switch(la.label){case 0:return [4,Qa.Ju];case 1:return (Z=la.zb(),Q=this.Yx(Aa,Qa,Z),T.O=Q,[2,Q]);}});});})(),O:void 0,s3b:new t.Pja(function(Z){Z() && za.ZCa(T);},(0,D.Oi)(E.default,this.H,("").concat(Aa)))},this.HA.push(T));U=new V.CWa(T,this.H,fa,qa);U.events.once("error",this.ZCa.bind(this,T,!1));return U;};S.prototype.ZCa=function(U,fa){var qa,za;void 0 === fa && (fa=!0);(0,v.assert)(U,"expected viewableEntry to exist");qa=U.O;za=U.TG;fa && (qa?qa.Wa():za.then(function(Aa){Aa.Wa();}));this.HA=this.HA.filter(function(Aa){return Aa !== U;});};S.prototype.Yx=function(U,fa,qa){var Aa,Qa,T,Z,Q,la;function za(sa){Aa.events.emit("logdata",sa);}Aa=this;this.NL();Qa=qa.ba;T=qa.Rl;Z=qa.qg;Q=qa.Wf;Q=void 0 === Q?k.hg:Q;qa=qa.config;la=[new p.mka(k.u.T),new p.mka(k.u.J)];Qa={ba:Qa,config:qa,Rl:T,Wf:Q,caa:void 0,Ac:this.gB.Ac,tk:this.gB.tk,x6a:{Mt:function(){return Aa.cE.Zk("networkFailureReset");},fg:this.fg.bind(this,U),rp:this.rp.bind(this,U),nC:za},iab:{nC:za,SY:void 0,kF:function(sa){return la[sa];},Lba:function(){return !0;},sg:void 0,vl:void 0,gi:void 0,sF:void 0},MR:{tv:this.tv.bind(this),ss:this.ss.bind(this)},BG:this.p7,Vb:0,Oq:void 0,Ceb:{Cxa:!!Z,Zbb:!1},K_:function(){}};U=new d.cia(U,Qa);qa.VE && (Qa=(0,q.Qc)(this.x1,function(sa){return sa.Zpb.equals(fa);})) && (Qa=Qa.OEa,this.Kjb(fa),U.xL(c.__assign(c.__assign({},Qa),{vp:this.vAa.bind(this)})));return U;};S.prototype.$ba=function(){var U,fa;(0,v.assert)(this.state === g.Zq.OPEN);U=this.yaa();fa=this.SP();return this.VXa.Cgb(U,fa);};S.prototype.SP=function(){var U,fa,qa;U=this;qa=null !== (fa=this.K.kac) && void 0 !== fa?fa:this.vr.every(function(za){return !za.na.Xv;});fa=(0,q.flatten)(this.vr.map(function(za){return za.na.SP().map(function(Aa){za.na.Xv || 1 === za.N0 || (Aa.PJ=za.N0);return Aa;});}));this.wFa === g.kT.disabled?fa=[]:this.wFa === g.kT.B4b && (fa=fa.filter(function(za){return U.K.vza >= za.yu - za.At;}));qa || (qa=fa.filter(function(za){var Aa;return 1 === (null !== (Aa=za.PJ) && void 0 !== Aa?Aa:1);}),qa.length && (fa=qa));qa=this.HA.reduce(function(za,Aa){return Aa.O?c.__spreadArray(c.__spreadArray([],c.__read(za),!1),c.__read(Aa.O.SP()),!1):za;},[]);return (0,q.flatten)(c.__spreadArray(c.__spreadArray([],c.__read(fa),!1),c.__read(qa),!1));};S.prototype.NL=function(){if(this.Sc === g.Zq.CLOSED)throw Error("Engine CLOSED");};S.prototype.Fcc=function(){var U,za;try{for(var fa=c.__values(this.vr),qa=fa.next();!qa.done;qa=fa.next()){za=qa.value;za.Oh.clear();this.FC(za.na);}}catch(Qa){var Aa;Aa={error:Qa};}finally{try{qa && !qa.done && (U=fa.return) && U.call(fa);}finally{if(Aa)throw Aa.error;}}};S.prototype.Ecc=function(){var U;try{for(var fa=c.__values(this.GV),qa=fa.next();!qa.done;qa=fa.next()){this.Ijb(qa.value);}}catch(Aa){var za;za={error:Aa};}finally{try{qa && !qa.done && (U=fa.return) && U.call(fa);}finally{if(za)throw za.error;}}};S.prototype.fg=function(U,fa,qa,za,Aa,Qa,T){var Z;void 0 === T && (T=!1);Z=!1;this.U9a(U).forEach(function(Q){if(!T || (0,k.Eq)(Q.Kg.value))Z=Q.fg(fa,U,qa,za,Aa,Qa,T);});return Z;};S.prototype.rp=function(U){return this.U9a(U).some(function(fa){return fa.rp();});};S.prototype.U9a=function(U){return this.vr.filter(function(fa){var qa;for(fa=fa.na;fa.Cb;){fa=fa.Cb;}qa=fa.na;return Object.keys(qa.U).some(function(za){return qa.U[za].P === U;});}).map(function(fa){return fa.na;});};S.prototype.yaa=function(){var U;U=new F.iMa();this.vr.forEach(function(fa){var qa,za;qa=fa.na;fa=fa.N0;za=qa.yaa();za.PJ=fa;U.add(qa.id,za);});return U;};S.prototype.xaa=function(){return this.R5b;};S.prototype.xJb=function(){var U,fa;fa=(0,N.Q1a)(this.K,this.yO);return {total:(U={},U[k.u.J]=this.yO.video || Infinity,U[k.u.T]=this.yO.audio || Infinity,U[k.u.Za]=this.yO.text || Infinity,U.total=this.yO.total || Infinity,U),lFa:fa};};S.prototype.tv=function(U){var fa;this.cE.tv(U);null === (fa=this.Sp) || void 0 === fa?void 0:fa.tv(U);};S.prototype.ss=function(U){this.cE.ss(U);};S.prototype.bBa=function(){var U;U=this.XK.reduce(function(fa,qa){return Math.max(qa.weight,0) + fa;},0);this.vr.forEach(function(fa){fa.N0=0 >= fa.na.weight?0:fa.na.weight / U;});};S.prototype.tdc=function(U){var fa;fa=this;this.Sp && U.requests.forEach(function(qa){return fa.Sp.ss(qa);});};S.Y6b=0;c.__decorate([(0,y.mc)({methodName:"open"})],S.prototype,"open",null);c.__decorate([(0,y.mc)({methodName:"addPlaygraph",context:function(U){var fa,qa;return {playgraphCount:null !== (qa=null === (fa=U.rgb.vr) || void 0 === fa?void 0:fa.length) && void 0 !== qa?qa:0};}})],S.prototype,"rW",null);c.__decorate([(0,y.mc)({methodName:"removePlaygraph",context:function(U){return {playgraphCount:U.rgb.vr.length};}})],S.prototype,"FC",null);c.__decorate([(0,y.mc)({methodName:"close"})],S.prototype,"close",null);c.__decorate([(0,y.mc)({methodName:"setStreamingMode",ft:!0})],S.prototype,"Qfc",null);c.__decorate([(0,y.mc)({methodName:"notifyAseException",ft:!0})],S.prototype,"vAa",null);c.__decorate([(0,y.mc)({methodName:"updateViewable"})],S.prototype,"ZL",null);c.__decorate([(0,y.mc)({methodName:"requestViewable"})],S.prototype,"qu",null);c.__decorate([(0,y.mc)({methodName:"removeViewable"})],S.prototype,"ZCa",null);c.__decorate([(0,y.mc)({methodName:"createViewable"})],S.prototype,"Yx",null);c.__decorate([(0,y.mc)({methodName:"issueRequestOpportunity",Ul:!0,return:!0})],S.prototype,"$ba",null);c.__decorate([(0,y.mc)({methodName:"reportStreamingFailure",ft:!0})],S.prototype,"fg",null);return S;})();b.NHa=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.aJa=void 0;c=a(6);l=a(2);r=(function(){function g(m,d){this.H=m;this.UAb=d;this.Jx=this.rx=this.Br=0;}g.prototype.tv=function(m){var d;if(!m.Hc){d=m.ga;(0,l.assert)(0 < d);this.Br+=d;m.mediaType === c.u.T?this.rx+=d:this.Jx+=d;(0,l.assert)(this.Br === this.rx + this.Jx);(0,l.assert)(0 < this.Br);(0,l.assert)(0 <= this.rx);(0,l.assert)(0 <= this.Jx);}};g.prototype.ss=function(m){var d;if(!m.Hc){d=m.ga;(0,l.assert)(0 < d);this.Br-=d;m.mediaType === c.u.T?this.rx-=d:this.Jx-=d;(0,l.assert)(this.Br === this.rx + this.Jx);(0,l.assert)(0 <= this.Br);(0,l.assert)(0 <= this.rx);(0,l.assert)(0 <= this.Jx);}};g.prototype.sKb=function(m,d){var f;(0,l.assert)(this.Br === this.rx + this.Jx);f=this.UAb();if(void 0 !== f.total && this.Br + d > f.total)return !1;f=m === c.u.T?f.audio:f.video;m=m === c.u.T?this.rx:this.Jx;return void 0 !== f && m + d > f?!1:!0;};return g;})();b.aJa=r;},function(r,b,a){var l,g,m,d,f,h,k;function c(n,p){return n.filter(function(q){return q.groupId === p.groupId;}).reduce((0,m.Yeb)(function(q){return q.sC;}),p).sC;}Object.defineProperties(b,{__esModule:{value:!0}});b.kMa=void 0;l=a(0);g=a(255);m=a(21);d=a(6);f=a(71);h=l.__importDefault(a(3));k=a(460);r=(function(){function n(p,q){this.H=p;this.config=q;this.Rcb=0;this.zi=new f.px({Iq:10,yp:this,source:"GraphStreamingProcess"});}n.prototype.Cgb=function(p,q){var v,t,w,u,x,y,z,B,D,E,G,F,L;w=!1;u=[];if(0 < q.length){x=this.Vgc(q);y=x.some(function(K){return 1 === (0,k.S1a)(K) && (0,d.Eq)(K.Kg);});z=x.slice();B=[!1,!1,!1];try{for(var A=l.__values(x),C=A.next();!C.done;C=A.next()){D=C.value;if(D.EF && "global" !== B[D.mediaType]){E=D.jcb(p,null !== (t=D.PJ) && void 0 !== t?t:1);G=(0,g.gjb)(E.reason);G && (B[D.mediaType]=G,(0,m.y0a)(z,D));if(E.result){F=c(z,D);if(this.BKb(D,y,F)){L=D.ocb();this.Uya(u,D,L.reason);L.Jj && (this.Rcb=h.default.time.fa());if(w=L.Jj)break;if("globalVideoMemoryLimit" === L.reason || "globalAudioMemoryLimit" === L.reason){this.H.trace("GSP.onRequestOpportunity stopping at memory limit:",L.reason);break;}}else if((this.Uya(u,D,"concurrencyCheck"),!G))break;}else this.Uya(u,D,E.reason);}}}catch(K){var O;O={error:K};}finally{try{C && !C.done && (v=A.return) && v.call(A);}finally{if(O)throw O.error;}}}this.zi.sv({streamableCount:q.length,streamableReasons:u,lastSuccessfulIssueRequestMs:this.Rcb});return w;};n.prototype.Vgc=function(p){return this.Mac(p).sort(function(q,v){return q.priority - v.priority;}).map(function(q){return q.Chc;});};n.prototype.Mac=function(p){var q;q=this;return p.map(function(v){return {priority:-(0,k.R1a)(q.config,v,q.H),Chc:v};});};n.prototype.Uya=function(p,q,v){this.zi.enabled && p.push(this.oZb(v,q));};n.prototype.oZb=function(p,q){return {mediaType:q.mediaType,reason:p,bufferingState:q.Kg,currentPlayerMs:q.At,pathCompletePlayerMs:q.sC,streamingPlayerMs:q.yu};};n.prototype.BKb=function(p,q,v){return this.config.SW && (q || (0,d.Eq)(p.Kg))?this.CKb(p,v):this.DKb(p,v);};n.prototype.EKb=function(p){return p.yu <= p.sC;};n.prototype.DKb=function(p,q){return p.yu - (p.At > q?p.At:q) <= Math.max(this.config.Zza,Math.min((p.sC - p.At) * this.config.uFa,this.config.x5b));};n.prototype.CKb=function(p,q){var v,t;if(void 0 === this.config.SW)return !0;v=this.config.SW;t=p.At + v;return p.yu <= t?!0:this.EKb(p) && q >= t && p.yu - q < v;};l.__decorate([(0,f.mc)({methodName:"onRequestOpportunity",Ul:!0})],n.prototype,"Cgb",null);return n;})();b.kMa=r;},function(r,b,a){var c,l,g,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.iUa=void 0;c=a(0);l=a(2);g=c.__importDefault(a(3));m=a(71);d=a(8);r=(function(){var V8B;V8B=2;function f(h,k){var b5h,n;b5h=2;for(;b5h !== 14;){switch(b5h){case 9:var J4o="R";J4o+="e";J4o+="questPacer";var K07="1S";K07+="I";K07+="YbZrNJC";K07+="p";K07+="9";this.PDa=!1;K07;this.$r=new m.px({yp:this,source:J4o,Q_a:function(){var U3Y;U3Y=2;for(;U3Y !== 1;){switch(U3Y){case 2:return {numOutstanding:n.cI};break;}}},Iq:10});this.Yjb=new d.EH();b5h=14;break;case 2:n=this;b5h=1;break;case 1:var u1e="med";u1e+="ia|ase";u1e+="js";var I2R="A";I2R+="S";I2R+="EJ";I2R+="S_REQU";I2R+="EST_PACER";this.$ba=h;this.config=k;this.cI=0;this.console=new g.default.Console(I2R,u1e);b5h=9;break;}}}for(;V8B !== 13;){switch(V8B){case 2:Object.defineProperties(f.prototype,{B7b:{get:function(){var h7M;h7M=2;for(;h7M !== 1;){switch(h7M){case 2:return this.cI;break;case 4:return this.cI;break;}}},enumerable:!1,configurable:!0}});f.prototype.Zk=function(){var r$p,h,k;r$p=2;for(;r$p !== 9;){switch(r$p){case 7:h=this;r$p=2;break;case 2:h=this;r$p=1;break;case 1:r$p=!this.PDa?5:9;break;case 5:this.PDa=!0;k=g.default.time.fa();return Promise.resolve().then(function(){var Q9E;Q9E=2;for(;Q9E !== 5;){switch(Q9E){case 2:h.PDa=!1;h.n2a(k);Q9E=5;break;}}});break;}}};f.prototype.tv=function(h){var V0d;V0d=2;for(;V0d !== 4;){switch(V0d){case 2:var u3K="More th";u3K+="an ";u3K+="maxAllowedOutsta";u3K+="ndingRequests a";u3K+="re outstanding";this.$r.sv({mediaType:h.mediaType,contentStartPts:h.Td,contentEndPts:h.Nc});this.cI++;(0,l.assert)(this.cI <= this.config.Fca,u3K);V0d=4;break;}}};V8B=4;break;case 4:var o7q="t";o7q+="v";var E6M="addRequ";E6M+="es";E6M+="t";var k0Q="Z";k0Q+="k";var T3I="check";T3I+="RequestOp";T3I+="p";T3I+="o";T3I+="rtunity";f.prototype.ss=function(h){var C$e;C$e=2;for(;C$e !== 3;){switch(C$e){case 1:var f_G="rem";f_G+="ove";f_G+="R";f_G+="equest";var s6d="Received remove re";s6d+="quest when there ar";s6d+="e no requests outstanding";this.cI--;(0,l.assert)(0 <= this.cI,s6d);this.Zk(f_G);C$e=3;break;case 2:this.$r.sv({mediaType:h.mediaType,contentStartPts:h.Td,contentEndPts:h.Nc});C$e=1;break;}}};f.prototype.n2a=function(h){var D0y,k,n,p;D0y=2;for(;D0y !== 9;){switch(D0y){case 4:p++;D0y=5;break;case 2:(k=this.config.Fca,n=g.default.time.fa() - h,p=0);D0y=1;break;case 3:var X3y="requestOpportunity";X3y+="Runn";X3y+="erComp";X3y+="let";X3y+="e";this.$r.M_a(X3y,{requestsIssued:p,scheduledMs:h,timeSinceScheduled:n},!0);D0y=9;break;case 1:this.Yjb.push(n);D0y=5;break;case 5:D0y=this.cI < k && this.$ba()?4:3;break;}}};c.__decorate([(0,m.mc)({methodName:T3I,Ul:!0,ft:!0})],f.prototype,k0Q,null);c.__decorate([(0,m.mc)({methodName:E6M,Ul:!0})],f.prototype,o7q,null);V8B=7;break;case 7:var j6K="n";j6K+="2";j6K+="a";var B4r="checkReques";B4r+="tOpportunityRunne";B4r+="r";var I$J="s";I$J+="s";var J7J="removeReq";J7J+="ues";J7J+="t";c.__decorate([(0,m.mc)({methodName:J7J,Ul:!0})],f.prototype,I$J,null);c.__decorate([(0,m.mc)({methodName:B4r,Ul:!0})],f.prototype,j6K,null);return f;break;}}})();b.iUa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.BLa=void 0;c=a(28);r=(function(){function l(g){this.Ac=g;}Object.defineProperties(l.prototype,{he:{get:function(){return "EndplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});l.prototype.il=function(g){var m;if(g.Pg === c.Kc.el && this.Ac){g={};m=this.Ac.get();m && m.avtp && m.avtp.xa && (g.avtp=m.avtp.xa,g.dltm=m.avtp.X9);m && m.initialThroughput && m.initialThroughput.xa && (g.initial_avtp=m.initialThroughput.xa);m && m.cdnavtp && (g.cdnavtp=m.cdnavtp,g.activecdnavtp=m.activecdnavtp);if(m=this.Ac.Baa())(m.bytesRequestedPacingVideo && (g.bytesRequestedPacingVideo=m.bytesRequestedPacingVideo,g.estimatedBytesPacedVideo=m.estimatedBytesPacedVideo,g.bytestotalVideo=m.bytestotalVideo,g.pacedAvtpVideo=m.pacedAvtpVideo),m.bytesRequestedPacingAudio && (g.bytesRequestedPacingAudio=m.bytesRequestedPacingAudio,g.estimatedBytesPacedAudio=m.estimatedBytesPacedAudio,g.bytestotalAudio=m.bytestotalAudio,g.pacedAvtpAudio=m.pacedAvtpAudio),m.pacedAvtp && (g.pacedAvtp=m.pacedAvtp));this.Ac.flush();if(m=this.Ac.O8a())for(var d in m){m.hasOwnProperty(d) && (g["ne" + d]=Number(m[d]).toFixed(6));}return g;}};return l;})();b.BLa=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.fVa=void 0;c=a(13);l=a(6);g=a(28);r=(function(){function m(d){this.sXa=!1;this.$E=new c.ef();this.$E.addListener(d.events,"streamSelection",this.ZAa.bind(this));}m.prototype.ZAa=function(d){this.sXa || (d.mediaType === l.u.T && void 0 === this.kxa?this.kxa=d:d.mediaType === l.u.J && void 0 === this.oxa && (this.oxa=d));};m.prototype.Wa=function(){this.oxa=this.kxa=void 0;this.$E.clear();this.sXa=!0;};Object.defineProperties(m.prototype,{he:{get:function(){return "StartplayFieldsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});m.prototype.il=function(d){var f;if(d.Pg === g.Kc.zl)return (d=null !== (f=this.oxa) && void 0 !== f?f:this.kxa,f={histdiscbw:null === d || void 0 === d?void 0:d.result.$v,histage:null === d || void 0 === d?void 0:d.result.Cq},d=null === d || void 0 === d?void 0:d.streamList.map(function(h){return void 0 !== h.q$?{vmaf:h.q$,streamIndex:h.zg,streamId:h.Sa}:void 0;}).filter(function(h){return void 0 !== h;}),0 < (null === d || void 0 === d?void 0:d.length) && (f.vmafEstimates=d),this.Wa(),f);this.Wa();};return m;})();b.fVa=r;},function(r,b,a){var c,l,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.zVa=void 0;r=a(0);c=a(13);l=a(10);g=r.__importDefault(a(3));m=a(28);a=(function(){function d(f){this.Ee=f;this.c6=[];this.reset();}Object.defineProperties(d.prototype,{he:{get:function(){return "task-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{eu:{get:function(){return "tsched";},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{enabled:{get:function(){return l.M;},enumerable:!1,configurable:!0}});d.prototype.reset=function(){var f,h;f=this;null === (h=this.zN) || void 0 === h?void 0:h.clear();this.zN=new c.ef();this.zN.on(this.Ee,"clockChanged",function(){f.reset();f.rY("initial");});this.zN.on(this.Ee,"stopping",function(){f.rY("stopping");});this.zN.on(this.Ee.za,"clockAdjusted",function(){f.rY("clockAdjusted");});this.zN.on(this.Ee.za,"stopStart",function(){f.rY("stopStart");});this.zN.on(this.Ee.za,"speedChanged",function(){f.rY("speedChanged");});};d.prototype.rY=function(f){this.c6.push({reason:f,audit:this.Ee.jy(),time:g.default.time.fa()});5 < this.c6.length && this.c6.shift();};d.prototype.il=function(f){var h;h=f.Pg;f=f.MF;if(h === m.Kc.zl || h === m.Kc.hn || h === m.Kc.el || void 0 === h && void 0 === f)return this.c6;};return d;})();b.zVa=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.lUa=void 0;c=a(28);r=(function(){function l(g,m){this.Ac=g;this.Zjb=m;}Object.defineProperties(l.prototype,{he:{get:function(){return "RequestsReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(l.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});l.prototype.il=function(g){var m;m=g.Pg;g=g.MF;if(m === c.Kc.el || m === c.Kc.hn || void 0 === m && void 0 === g)return (m={numOutstandingRequests:this.Zjb.B7b,requestOpportunityDelayStats:this.Zjb.Yjb},(g=this.Ac.l_a) && g.length && (m.activeRequests=JSON.stringify(g)),m);};return l;})();b.lUa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.ELa=void 0;c=a(28);r=(function(){function l(g){this.m$=g;this.eu="engine";this.enabled=!0;}Object.defineProperties(l.prototype,{he:{get:function(){return this.eu;},enumerable:!1,configurable:!0}});l.prototype.il=function(g){var m;m=g.Pg;g=g.MF;if(m === c.Kc.zl || m === c.Kc.hn || m === c.Kc.el || void 0 === m && void 0 === g)return (m=this.m$.J$b.map(function(d){var f;f=d.na;return {id:f.id,weight:f.weight,relativeWeight:d.N0};}),{prefetcher:this.m$.Sy.getStats(),playgraphs:m,viewables:this.m$.Klc,players:this.m$.H$b.length});};return l;})();b.ELa=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.iMa=void 0;c=a(2);l=a(461);r=(function(){function g(){this.global=new l.jU();this.XK={};}g.prototype.add=function(m,d){(0,c.assert)(void 0 === this.XK[m],"Cannot add new memory object for playgraph");this.XK[m]=d;this.global.add(d.xt);this.global.add(d.FX);};return g;})();b.iMa=r;},function(r,b,a){var c,l,g,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.eQa=void 0;c=a(0);l=a(10);g=a(460);m=a(6);d=a(71);r=(function(){function f(h,k,n){this.dva=h;this.eXb=k;this.H=n;this.zi=new d.px({yp:this,console:n,source:"MemoryDeadlockProtector",Iq:5});}f.prototype.iVb=function(h){var k,n,p,q;p=h.config;q=p.yk + (null !== (n=null === (k=p.fS) || void 0 === k?void 0:k.Z) && void 0 !== n?n:0);k=this.r_b(q,h);l.M && this.H.debug(("MDP: has prebuf: ").concat(k));return k?{S9:!0}:(n=this.BJb(p),k=n.j9b,n=n.ilc,k && n?(l.M && this.H.debug(("MDP: utilizing ").concat(Math.round(100 * n),"%")),n >= p.P5b?this.hkb(h,k):{S9:!0}):{S9:!1});};f.prototype.hkb=function(h,k){var n,p,q,v,t,u,z,B;this.zi.sv({o:k});v=h.X;h=h.eb;t=v.eb;v=v.Wt;for(var w=0;w < t.length;w++){if(!t[w].Dj){v=t[w];t=t.slice(0,w + 1);break;}}w=!1;u=[{mediaType:m.u.T,VA:0},{mediaType:m.u.J,VA:0},{mediaType:m.u.Za,VA:0}];if(null === v || void 0 === v || !v.Dj){h=h.map(function(C){return C;}).filter(function(C){return -1 === t.indexOf(C);}).sort(function(C,D){return (0,g.Gqa)(C) - (0,g.Gqa)(D);});try{for(var x=c.__values(h),y=x.next();!y.done;y=x.next()){z=y.value;B=z.CB();u[m.u.T].VA+=null !== (p=B.lE) && void 0 !== p?p:0;u[m.u.J].VA+=null !== (q=B.Iu) && void 0 !== q?q:0;l.M && this.H.debug(("Resetting discontiguous branch ").concat(z.G.id),B);z.reset();if(w=u.every(function(C){return C.VA >= k[C.mediaType].VA;}))break;}}catch(C){var A;A={error:C};}finally{try{y && !y.done && (n=x.return) && n.call(x);}finally{if(A)throw A.error;}}}return {S9:w,juc:u};};f.prototype.BJb=function(h){var k,n,p,q,v;k=[m.u.T,m.u.J,m.u.Za];if(!h.Q5b)return {};n=this.eXb();p=this.dva().total;q=h.O5b;v=0;h=k.map(function(t){var w;w=n[t] - p[t] * q;v=Math.max(0 < p[t]?n[t] / p[t]:0,v);return {VA:Math.max(0,w),mediaType:t};});return {ilc:v,j9b:h};};f.prototype.r_b=function(h,k){var n,p;n=!1;k=k.Xv?k.X:void 0;if(null === k || void 0 === k?0:k.d1b){n=k.oi.Km().map(function(q){return q.mediaType;});p=k.xWb();n=n.every(function(q){var v,t;if(q === m.u.T)q=null !== (v=p.$s) && void 0 !== v?v:0;else if(q === m.u.J)q=null !== (t=p.Ip) && void 0 !== t?t:0;else throw Error(("Unsupported media type:").concat(q));return q >= h;});}return n;};c.__decorate([(0,d.mc)({methodName:"resetDiscontiguousBranches",return:!0,Ul:!0})],f.prototype,"hkb",null);return f;})();b.eQa=r;},function(r,b,a){var c,l,g,m,d,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.nIa=void 0;r=a(0);c=a(13);l=a(8);g=r.__importDefault(a(29));m=a(21);d=r.__importDefault(a(439));f=a(28);h=a(279);a=(function(){function k(n){var p,q;p=this;this.na=n;this.Gt="aseReport";this.UW=l.N.Qt;this.events=new c.EventEmitter();this.sra=h.x5.$Ja;this.Zp=!1;this.NZa=0;if(0 === Math.floor(1E6 * Math.random()) % n.config.sO || n.config.fuc){this.UW=l.N.Na(n.config.r8);this.w5b=n.config.mHb;this.na.q8=!0;q=[];q[g.default.$d.J]=new d.default(n.config,g.default.$d.J);q[g.default.$d.T]=new d.default(n.config,g.default.$d.T);this.xoa=q;this.na.events.on("openComplete",function(){return p.open();});}}k.prototype.open=function(){this.na.q8 && !this.Zp && (this.Zp=!0,this.na.events.emit("aseReportEnabled",{type:"asereportenabled"}),this.na.events.on("requestIssued",this.ZAa.bind(this)));};k.prototype.ZAa=function(n){n.result && n.streamList && (this.xoa[n.mediaType].add(n.result,n.streamList),++this.NZa >= this.w5b && this.events.emit("collectionRequested"));};k.prototype.Xva=function(){var n;n=(0,m.flatten)(this.xoa.map(function(p){return p.get();}).filter(function(p){return void 0 !== p;}));this.xoa.forEach(function(p){return p.reset(!0);});this.NZa=0;return n;};k.prototype.Sf=function(n){var p,q;p=n.Pg;q=n.rLb;n=n.zbb || q || p === f.Kc.el;return this.na.q8 && this.Zp && n && (n=this.Xva()) && n.length?{Wfa:!0,event:{type:"asereport",strmsel:n}}:{Wfa:!1};};return k;})();b.nIa=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.kUa=void 0;c=a(195);r=(function(){function l(g){this.X0=[];this.X0.push(g);}l.prototype.qu=function(g,m){return c.yT.Gba({P:g,W0:m},this.X0);};l.prototype.Wcc=function(g){this.X0.pop();this.X0.push(g);};l.prototype.y_a=function(g){this.X0.unshift(g);};return l;})();b.kUa=r;},function(r,b,a){var c,l,g,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.AOa=void 0;c=a(13);l=a(8);g=a(6);m=a(279);d=a(28);r=(function(){function f(h){this.na=h;this.Gt="liveReport";this.UW=l.N.Qt;this.events=new c.EventEmitter();this.sra=m.x5.eVa;this.$U=!1;this.trace=[];this.fob=1;0 < h.config.fdb && 0 < h.config.Kya && (this.UW=l.N.Na(h.config.Kya),this.fob=Math.max(Math.floor(h.config.fdb / h.config.Kya),1),this.$U=!0);}f.prototype.pLb=function(){var h,k,n,p;k=this.na.X;if(k.nf){n=k.oi;p=n.O;if(p.ta){if(n=null === (h=n.fb(g.u.J)) || void 0 === h?void 0:h.kl)(h=n.xq(),p=p.n1,k=h.Rpa + k.xe.Z,h=this.na.CJ(),this.trace.push([p,k,h.totalabuflmsecs,h.totalvbuflmsecs]));}else this.$U=!1;}};f.prototype.Sf=function(h){var k;k=h.zbb;h=h.Pg;this.$U && (k || h === d.Kc.zl) && this.pLb();return this.trace.length === this.fob || 0 < this.trace.length && h === d.Kc.el?(k=this.trace,this.trace=[],{Wfa:!0,event:{type:"livereport",samplinginterval:this.UW.Z,trace:k}}):{Wfa:!1};};return f;})();b.AOa=r;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B;Object.defineProperties(b,{__esModule:{value:!0}});b.BTa=void 0;c=a(0);l=a(13);g=a(6);m=a(8);d=a(195);f=a(21);h=a(2);k=a(1108);n=a(10);p=a(116);q=a(1109);v=c.__importDefault(a(3));t=a(400);w=a(1110);u=a(1118);x=a(1119);y=a(196);z=a(1121);B=a(1123);r=(function(){function A(C,D,E,G,F){void 0 === G && (G=new u.yKa());void 0 === F && (F=new w.xKa());this.s6a=C;this.config=D;this.sjb=G;this.fo=[];this.hib=[];this.xz=[];this.cc={tcb:0,ucb:0,qcb:0,sqa:0,rcb:0,scb:0,tqa:0};this.events=new l.EventEmitter();this.H=(0,m.Oi)(v.default,E,"PREFETCH");this.G_a(new x.aKa(D));this.G_a(new B.OUa(D));this.nlb({vF:D.gac});this.wEa(F);this.$0b();}Object.defineProperties(A.prototype,{hac:{get:function(){return this.fo.map(function(C){return C.context;});},enumerable:!1,configurable:!0}});A.prototype.Klb=function(C){n.M && (0,h.assert)(C,"Reconciliation strategy is undefined");this.sjb=C;return this;};A.prototype.G_a=function(C){this.hib.unshift(C);};A.prototype.Tlb=function(C){n.M && this.H.debug("Wish list changed",{$vc:C.length});this.xz=C;this.rCa();};A.prototype.reset=function(){var C,G,F,L,O,K;if(this.config.pac)try{for(var D=c.__values(this.fo),E=D.next();!E.done;E=D.next()){G=E.value;F=G.na;L=G.gca;O=G.context;if(F){F.ee();L.bfa(function(M){return "segmentNormalized" !== M.Gt;});K=(0,y.Nva)(O.se,F.na);F.wG(K);}}}catch(M){var I;I={error:M};}finally{try{E && !E.done && (C=D.return) && C.call(D);}finally{if(I)throw I.error;}}else this.Tlb([]);};A.prototype.nlb=function(C){n.M && this.H.debug("Budget changed",{W7b:this.OW,U6b:C});this.OW=C;this.rCa();};A.prototype.NKb=function(C,D){var E,G,F,L;n.M && this.H.debug("Looking for playgraph to claim");if(C=this.sjb.e7a(this.fo,{na:C,Sj:D}))if((D=this.xz.indexOf(C.context.se),n.M && this.H.debug(("Claiming item: ").concat((0,y.np)(C.context.se.key)),{En:v.default.time.fa() - C.Cga,buffer:null === (E=C.na) || void 0 === E?void 0:E.Lh(m.N.Oa)}),this.aP(C.context,{fya:!!C.na}),C.na)){E=C.na;F=C.Ym;L=E.ti;z.zTa.Zcc(E,L,C.gca,this.H);F.lec(null !== (G=E.aZ(L)) && void 0 !== G?G:m.N.Oa,D);E.Rob({vF:this.config.bu || Infinity});this.events.emit("itemClaimed",{type:"itemClaimed",wishListItem:C.context.se,videoBytesBuffered:C.na.CJ().Iu,audioBytesBuffered:C.na.CJ().lE});}this.config.LGb || this.reset();return null === C || void 0 === C?void 0:C.na;};A.prototype.MKb=function(){};A.prototype.getStats=function(){var C;C=v.default.time.fa();return {wishListLength:this.xz.length,prefetchList:this.hac.length,contents:this.fo.map(function(D){var E,G,F,L,O;return {id:(0,y.np)(D.context.se.key),buffer:null === (E=D.na) || void 0 === E?void 0:E.Lh(m.N.Oa),pId:null === (G=D.na) || void 0 === G?void 0:G.id,budget:{inMemoryBytes:D.context.pcb.vF},weight:D.context.zea,age:C - D.Cga,timeOpened:C - (null !== (F=D.Ric) && void 0 !== F?F:0),state:g.bd[null !== (O=null === (L=D.na) || void 0 === L?void 0:L.Kg.value) && void 0 !== O?O:g.bd.vm]};}),aggregated:{itemsRequested:this.cc.tcb,itemsStarted:this.cc.ucb,itemsClaimed:this.cc.qcb,bytesClaimed:this.cc.sqa,itemsCompleted:this.cc.rcb,itemsDiscarded:this.cc.scb,bytesDiscarded:this.cc.tqa}};};A.prototype.aP=function(C,D){var E;void 0 === D && (D={});c.__awaiter(this,void 0,void 0,function(){var G,F,L,O,K,I;return c.__generator(this,function(M){switch(M.label){case 0:G=c.__assign({fya:!1,zcb:!1},D);F=G.fya;L=G.zcb;O=(0,f.Qc)(this.fo,function(H){return H.context === C;});if(!O)return [3,3];this.fo.splice(this.fo.indexOf(O),1);L || (K=this.xz.length,this.xz=this.xz.filter(function(H){return H !== C.se;}),n.M && this.H.info("Dropping items from wishlist",K - this.xz.length),this.xz.length >= K && n.M && this.H.warn("Unable to filter out wishlist item",this.xz.map(function(H){return H.key;}),C.se.key));n.M && this.H.debug("Dropping playgraph",{En:v.default.time.fa() - O.Cga,buffer:null === (E=O.na) || void 0 === E?void 0:E.Lh(m.N.Oa),P:(0,y.np)(C.se.key),Fwc:!F,Wtc:!L});O.$E.clear();if(F)return [3,2];I=this.FC(O);return O.na?[4,I]:[3,2];case 1:(M.zb(),M.label=2);case 2:(this.rCa(),M.label=3);case 3:return [2];}});});};A.prototype.wEa=function(C){(0,h.assert)(C,"Playgraph resolver is undefined");this.UBa=C;return this;};A.prototype.$0b=function(){var C;C=this;this.events.on("prefetchComplete",function(){return C.cc.rcb++;});this.events.on("prefetchStarted",function(){return C.cc.ucb++;});this.events.on("itemQueued",function(){return C.cc.tcb++;});this.events.on("itemClaimed",function(D){var E,G;C.cc.qcb++;C.cc.sqa+=(null !== (E=D.Alc) && void 0 !== E?E:0) + (null !== (G=D.JHb) && void 0 !== G?G:0);});this.events.on("itemDropped",function(D){var E,G;C.cc.scb++;C.cc.tqa+=(null !== (E=D.Alc) && void 0 !== E?E:0) + (null !== (G=D.JHb) && void 0 !== G?G:0);});};A.prototype.rCa=function(){var C,D,E,G,F,L;C=this;D=d.yT.Gba({dmc:this.xz,D$a:this.OW},this.hib.map(function(O){return O.N1a.bind(O);})).fo;E=(0,f.uv)(D,this.fo,function(O,K){return (0,y.isEqual)(O.se.key,K.context.se.key);});G=(0,f.uv)(this.fo,D,function(O,K){return (0,y.isEqual)(O.context.se.key,K.se.key);});F=(0,f.uv)(this.fo,G);n.M && this.H.debug(("Re-evaluated prefetch items. new:").concat(E.length,", evict: ").concat(G.length,", update: ").concat(E.length));G=G.map(function(O){var K;K=O.context.se.key;n.M && C.H.debug("Releasing playgraph",(0,y.np)(K));return C.FC(O).then(function(){C.events.emit("itemEvicted",{type:"itemEvicted",wishListItem:O.context.se});});});L=F.map(function(O){return c.__awaiter(C,void 0,void 0,function(){var K,I;return c.__generator(this,function(M){switch(M.label){case 0:(K=(0,f.Qc)(D,function(H){return (0,y.isEqual)(H.se.key,O.context.se.key);}),(0,h.assert)(K,"Couldn't find the requested item context"),O.context=K,M.label=1);case 1:return (M.Es.push([1,3,,4]),[4,O.yea]);case 2:return (I=M.zb(),[3,4]);case 3:return (M.zb(),[2]);case 4:return ((0,f.Qc)(this.fo,function(H){return H === O;}) && (this.t0a(O.context,I),this.events.emit("itemReevaluated",{type:"itemReevaluated",wishListItem:O.context.se})),[2]);}});});});E=E.map(function(O){var K;K=C.AOb(O);C.events.emit("itemQueued",{type:"itemQueued",wishListItem:O.se});return K;});this.fo=c.__spreadArray(c.__spreadArray([],c.__read(F),!1),c.__read(E),!1);F=E.map(function(O){return O.yea.catch(function(){});});F=G.concat(L).concat(F);Promise.all(F);};A.prototype.FC=function(C){var D;D=this;return C.yea.then(function(E){return c.__awaiter(D,void 0,void 0,function(){var G;return c.__generator(this,function(F){switch(F.label){case 0:return (n.M && this.H.debug("Removing prefetch playgraph",{size:E.Lh(m.N.Oa)}),C.$E.clear(),[4,this.s6a()]);case 1:return (G=F.zb(),G.FC(E),this.events.emit("itemDropped",{type:"itemDropped",wishListItem:C.context.se,videoBytesBuffered:E.CJ().Iu,audioBytesBuffered:E.CJ().lE}),[2]);}});});},function(){});};A.prototype.w9=function(C){return c.__awaiter(this,void 0,void 0,function(){var D,E,G,F,L,O,K;K=this;return c.__generator(this,function(I){switch(I.label){case 0:return (D=C.context,E=(0,y.np)(D.se.key),n.M && this.H.debug("Creating playgraph",E),[4,this.UBa.Udb(D)]);case 1:return (G=I.zb(),[4,D.se.Fh.It(E).Ju]);case 2:return (F=I.zb(),F.ba.Xo?(this.aP(D,{fya:!0}),[2,Promise.reject(("contentPlaygraph viewable:").concat(E) + " is not supported with prefetching")]):[4,this.s6a()]);case 3:return (L=I.zb(),O=L.rW(G,D.zea,D.Sj,D.se.Fh,!1),C.$E.addListener(O.events,"error",function(M){n.M && K.H.debug("Prefetch playgraph resulted in error",M.Utc);K.aP(D);}),[2,O]);}});});};A.prototype.S8b=function(C,D){return c.__awaiter(this,void 0,void 0,function(){var E,G,F,L;return c.__generator(this,function(O){switch(O.label){case 0:return (E=C.context,G=(0,y.np)(E.se.key),F=E.se.Fh.It(G),[4,F.Ju]);case 1:return (L=O.zb(),this.t0a(E,D),this.dHb(E,D,!!L.qg),D.open(),D.NC({XR:function(K,I){var M;M=K.recommendedMedia;return M?(0,f.ht)(I,function(H){return H.new_track_id === M.iq;}):(0,f.ht)(I,function(H){return H.track_id === K.defaultTrackOrderList[0].audioTrackId;});}},{XR:function(K,I){var M;M=K.recommendedMedia;return M?(0,f.ht)(I,function(H){return H.new_track_id === M.TS;}):(0,f.ht)(I,function(H){return H.track_id === K.defaultTrackOrderList[0].videoTrackId;});}}),D.wG((0,y.Nva)(E.se,D.na)),this.wcc(C,F),F.cy && (n.M && this.H.warn("Viewable churn encountered during prefetcher (expired on initialization)",G),this.aP(C.context)),[2]);}});});};A.prototype.wcc=function(C,D){var G;function E(F){n.M && G.H.debug(("Viewable ").concat(F?"superseded":"expired"),(0,y.np)(C.context.se.key));C.tvc=!0;G.aP(C.context,{zcb:!F});}G=this;D.events && (C.$E.addListener(D.events,"viewableEvicted",function(){E(!0);}),C.$E.addListener(D.events,"viewableExpired",function(){E(!1);}));this.events.emit("prefetchStarted",{type:"prefetchStarted",wishListItem:C.context.se});};A.prototype.t0a=function(C,D){D.lpb(C.zea);D.Rob(C.pcb);};A.prototype.dHb=function(C,D,E){var G;G=C.xhc;C=G.audio;G=G.video;E && G.push(new t.fU(this.H,D.config));D.BEa(new p.ox(C,!0),new p.ox(G,!0));};A.prototype.AOb=function(C){var D,E,G;D=this;E=new k.ATa();G={context:C,Cga:v.default.time.fa(),$E:new l.ef(),Ym:E};G.yea=this.w9(G).then(function(F){return c.__awaiter(D,void 0,void 0,function(){var L,O;O=this;return c.__generator(this,function(K){switch(K.label){case 0:for(L=F;L.Cb;){L=L.Cb;}F.ag(E);E.DHb(F);G.gca=new q.MLa(L.events,{rgc:function(I){var M;M=I.Gt;switch(M){case "buffering":return !1;case "bufferingStarted":G.gca.bfa(function(H){return "bufferingComplete" === H.Gt || "updateStreamingPts" === H.Gt;});case "openComplete":case "updateStreamingPts":case "bufferingComplete":G.gca.bfa(function(H){return H.Gt === M;});default:return !0;}}});L.events.on("bufferingComplete",function(){O.events.emit("prefetchComplete",{type:"prefetchComplete",wishListItem:C.se});});return [4,this.S8b(G,F)];case 1:return (K.zb(),G.Ric=v.default.time.fa(),G.na=F,[2,F]);}});});});G.yea.catch(function(F){n.M && D.H.error("Exception occurred creating playgraph",F);D.aP(G.context);});return G;};return A;})();b.BTa=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.ATa=void 0;c=a(0).__importDefault(a(3));l=a(28);r=(function(){function g(){this.creationTime=c.default.time.fa();this.fd={isPrefetchItem:!0,prefetchClaimDurationMs:0,prefetchedVideoMs:0,prefetchedAudioMs:0};}g.prototype.DHb=function(m){this.na=m;};g.prototype.lec=function(m,d){var f;m=null === (f=this.na) || void 0 === f?void 0:f.Lh(m);this.fd={isPrefetchItem:!0,prefetchedVideoMs:m.GS,prefetchedAudioMs:m.FS,prefetchClaimDurationMs:c.default.time.fa() - this.creationTime,prefetchRank:d};};Object.defineProperties(g.prototype,{he:{get:function(){return "PrefetchReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});g.prototype.il=function(m){if(m.Pg === l.Kc.zl)return this.fd;};return g;})();b.ATa=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.MLa=void 0;c=a(0);r=(function(){function g(m,d){void 0 === d && (d={});this.sq=m;this.options=d;this.qJ=[];this.$J=new l(m,this.VFb.bind(this));}g.prototype.VFb=function(m){for(var d,f,h,k,n,p,q=[],v=1;v < arguments.length;v++){q[v - 1]=arguments[v];}q={Gt:m,ft:q};(null !== (h=null === (f=(d=this.options).rgc) || void 0 === f?void 0:f.call(d,q,this.qJ)) && void 0 !== h?h:1) && this.qJ.push(q);return null !== (p=null === (n=(k=this.options).mxc) || void 0 === n?void 0:n.call(k,q)) && void 0 !== p?p:!0;};g.prototype.bfa=function(m){this.qJ=this.qJ.filter(function(d,f){return !m(d,f);});};g.prototype.cDa=function(){var m;m=this;this.$J.qGa();this.qJ.forEach(function(d){var f;(f=m.sq).emit.apply(f,c.__spreadArray([d.Gt],c.__read(d.ft),!1));});this.$J.lbb();};Object.defineProperties(g.prototype,{length:{get:function(){return this.qJ.length;},enumerable:!1,configurable:!0}});g.prototype.clear=function(){this.qJ=[];};g.prototype.Wa=function(){this.clear();this.$J.qGa();this.options=void 0;};return g;})();b.MLa=r;l=(function(){function g(m,d){this.sq=m;this.Bv=d;this.Mgb=this.sq.emit;this.iOb();this.lbb();}g.prototype.iOb=function(){var m;m=this;this.$J=function(d){for(var f,h,k=[],n=1;n < arguments.length;n++){k[n - 1]=arguments[n];}return (null === (h=m.Bv) || void 0 === h?0:h.call.apply(h,c.__spreadArray([m,d],c.__read(k),!1)))?(f=m.Mgb).call.apply(f,c.__spreadArray([m.sq,d],c.__read(k),!1)):!1;};};g.prototype.lbb=function(){this.$J && (this.sq.emit=this.$J);};g.prototype.qGa=function(){this.sq.emit=this.Mgb;};g.prototype.Wa=function(){this.qGa();this.Bv=this.$J=void 0;};return g;})();},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.xKa=void 0;c=a(0);l=a(38);g=a(196);r=(function(){function m(){}m.prototype.Udb=function(d){return c.__awaiter(this,void 0,void 0,function(){var f,h,k,n,p;return c.__generator(this,function(q){switch(q.label){case 0:f=d.se.key;if(!(0,g.FZ)(f))return [3,2];h=f.P;k=d.se.Fh.It(h);return [4,Promise.resolve(k.Ju)];case 1:return (n=q.zb(),p=n.ba,p.So?[2,(0,l.Z8)(p.So,{config:n.config})]:[2,(0,l.dga)(h,"ps0")]);case 2:return [2,f.na];}});});};return m;})();b.xKa=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.jla=void 0;b.jla=(function(){function a(){}a.decode=function(c){return Object.assign({initialSegment:c.ie,segments:a.yPb(c.U)},void 0 !== c.Ge?{transitionType:c.Ge}:{});};a.encode=function(c){return Object.assign({ie:c.initialSegment,U:a.CSb(c.segments)},void 0 !== c.transitionType?{Ge:c.transitionType}:{});};a.CSb=function(c){return Object.keys(c).reduce(function(l,g){l[g]=a.BSb(c[g]);return l;},{});};a.BSb=function(c){return Object.assign({P:c.viewableId,Ba:c.startTimeMs},c.endTimeMs?{Aa:c.endTimeMs}:{},c.defaultNext?{dc:c.defaultNext}:{},c.weight?{weight:c.weight}:{},c.transitionType?{Ge:c.transitionType}:{},c.next?{next:a.zSb(c.next)}:{},c.exitZones?{uq:c.exitZones}:{},c.playbackRate?{playbackRate:c.playbackRate}:{},c.uxSegment?{tc:c.uxSegment}:{},c.type?{type:c.type}:{},void 0 !== c.fadeIn?{Kv:c.fadeIn}:{},void 0 !== c.fadeOut?{Lv:c.fadeOut}:{});};a.zSb=function(c){return Object.keys(c).reduce(function(l,g){l[g]=a.ASb(c[g]);return l;},{});};a.ASb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.transitionType?{Ge:c.transitionType}:{});};a.yPb=function(c){return Object.keys(c).reduce(function(l,g){l[g]=a.xPb(c[g]);return l;},{});};a.xPb=function(c){return Object.assign({viewableId:c.P,startTimeMs:c.Ba},c.Aa?{endTimeMs:c.Aa}:{},c.dc?{defaultNext:c.dc}:{},c.weight?{weight:c.weight}:{},c.Ge?{transitionType:c.Ge}:{},c.next?{next:a.vPb(c.next)}:{},c.uq?{exitZones:c.uq}:{},c.playbackRate?{playbackRate:c.playbackRate}:{},c.tc?{uxSegment:c.tc}:{},c.type?{type:c.type}:{},void 0 !== c.Kv?{fadeIn:c.Kv}:{},void 0 !== c.Lv?{fadeOut:c.Lv}:{});};a.vPb=function(c){return Object.keys(c).reduce(function(l,g){l[g]=a.wPb(c[g]);return l;},{});};a.wPb=function(c){return Object.assign({},void 0 !== c.weight?{weight:c.weight}:{},c.Ge?{transitionType:c.Ge}:{});};return a;})();},function(r,b,a){var f;function c(h){return Object.keys(h.segments).some(function(k){return void 0 !== d(h.segments[k]);});}function l(h){return "delayedSeamless" === h?"lazy":h;}function g(h){return Object.keys(h).reduce(function(k,n){var p,q;p=h[n];q=p.weight;p=p.transitionType || p.transitionHint;n=k[n]={};void 0 !== q && (n.weight=q);p && (n.Ge=l(p));return k;},{});}function m(h){var k,n;k=Object.keys(h);n=k.length;return n?k.reduce(function(p,q){return p + (h[q].weight || 0);},0) / n:void 0;}function d(h){var k;if(h.ui){k=h.ui.interactionZones;if((null === k || void 0 === k?0:k.length) && k[0].length)return k[0][0] - h.startTimeMs;h=h.ui.interactionZonesV2;if((null === h || void 0 === h?0:h.length) && h[0].length)return h[0][0];}else if(void 0 !== h.earliestSkipRequestOffset)return h.earliestSkipRequestOffset;}Object.defineProperty(b,"__esModule",{value:!0});b.Z8=void 0;f=a(161);b.Z8=function(h,k){var n,p,q,v,t,w;n=void 0 === k?{}:k;k=n.Wf;p=n.ie;q=n.U;n=n.config;v=!(!n || -1 === n.oua.indexOf(h.viewableId));t=c(h)?0:(null === n || void 0 === n?void 0:n.nua) || 0;n=new f.ix();w=q || h.segments;n.vL(null !== p && void 0 !== p?p:h.initialSegment).Blb(null !== k && void 0 !== k?k:h.mediaTypes).HEa(v?"immediate":l(h.transitionType)).AEa(Object.keys(w).reduce(function(u,x){var y,z,B,A,C,D;y=w[x];if(null === (z=y.weight) || void 0 === z){z=y.next && (v || (null === (A=y.exitZones) || void 0 === A?0:A.length))?m(y.next):void 0;}A=z;if(z=y.exitZones)C=void 0;else a:{if(v && y.endTimeMs){C=y.endTimeMs - y.startTimeMs;D=d(y);if(D && D < C){C=[[D,C]];break a;}if(t && C > t){C=[[C - t,C]];break a;}}C=void 0;}D=v?C?void 0:y.transitionHint || "lazy":y.transitionHint;A={P:h.viewableId,Ba:y.startTimeMs,Aa:null !== (B=y.endTimeMs) && void 0 !== B?B:Infinity,Ge:l(D),uq:z || C,weight:A};y.defaultNext && (A.dc=y.defaultNext);y.next && (A.next=g(y.next));u[x]=A;return u;},{}));return n.hj();};},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.dga=void 0;c=a(161);b.dga=function(l,g,m){var d;d=new c.ix();d.vL(g).HEa("lazy").Blb(m).Ig(g,{P:l,Ba:0,Aa:Infinity});return d.hj();};},function(r,b,a){var f,h,k,n;function c(p){for(var q=p.ie,v=[];q;){v.push(q);q=p.U[q].next;if(!q)break;q=Object.keys(q);if(q.length)(k.assert(1 === q.length,"Expected linear playgraph"),q=q[0]);else break;}return v;}function l(p){return n.wW(Object.keys(p.U).map(function(q){return p.U[q].P;}));}function g(p,q){return Object.keys(q.U).some(function(v){v=q.U[v];return p.P === v.P && p.Ba > v.Ba && (!v.Aa || !!p.Aa && (Infinity === p.Aa || p.Aa < v.Aa));});}function m(p){return null === p || void 0 === p?Infinity:p;}function d(p,q){return null === p || void 0 === p?Infinity === m(q.Aa):p >= q.Ba && p <= m(q.Aa);}Object.defineProperty(b,"__esModule",{value:!0});b.Qza=void 0;f=a(0);h=a(161);k=a(463);n=a(280);b.Qza=function(p,q){var v,t,w,u,x;v=c(q);t=l(p);w=l(q);t=n.x0a(t,w);k.assert(1 === t.length,"Source and content playgraphs should share one viewable");u=t[0];w=Object.keys(p.U).filter(function(y){return p.U[y].P === u;}).map(function(y){var F,L,O,K,I,M;for(var z,B=p.U[y],A=B.Ba,C=m(B.Aa),D=0 === A,E=[],G=0;G < v.length;++G){F=v[G];L=q.U[F];O=g(p.U[y],q);if(L.P !== u)D && E.push({id:y + ":" + F,G:f.__assign(f.__assign({},L),{tc:y})});else if(D){I=Math.max(B.Ba,L.Ba);K=(M=!Number.isFinite(C) && G == v.length - 1)?C:Math.min(C,m(L.Aa));K > I && (O=Infinity !== C || !O && !M?Infinity === K?null:K:B.Aa,E.push({id:y + ":" + F,G:f.__assign(f.__assign({},L),{Ba:I,Aa:O,tc:y})}));if(d(C,L)){if(C === m(L.Aa))for(G+=1;G < v.length;++G){A=v[G];C=q.U[A];if(C.P === u)break;E.push({id:y + ":" + A,G:f.__assign(f.__assign({},C),{tc:y})});}break;}}else if(d(A,L))if((D=!0,C <= m(L.Aa)))E.push({id:y,G:B});else {I=B.Ba;M=!Number.isFinite(C) && G == v.length - 1;O=M && O?B.Aa:Math.min(C,m(L.Aa));E.push({id:y + ":" + F,G:f.__assign(f.__assign({},L),{Ba:I,Aa:O,tc:y})});}}E.length || E.push({id:y,G:f.__assign(f.__assign({},B),{tc:y})});for(G=0;G < E.length - 1;++G){A=E[G + 1].id;E[G].G=f.__assign(f.__assign({},E[G].G),{dc:A,next:(z={},z[A]={},z)});}z=E[E.length - 1];z.G=f.__assign(f.__assign({},z.G),{dc:B.dc,next:B.next});return {id:y,G:B,enb:E};});x=w.reduce(function(y,z){return (y[z.id]=z.enb[0].id,y);},{});t=new h.ix();w=w.reduce(function(y,z){z.enb.forEach(function(B){return y[B.id]=B.G;});return y;},{});return t.AEa(w,function(){return !0;},x).J_a(p.U,function(y,z){return !x[z];},x,function(y,z){return f.__assign(f.__assign({},y),{tc:z});}).vL(x[p.ie] || p.ie).hj();};},function(r,b,a){var q,v,t,w,u;function c(x,y,z,B,A){var C,D,E;C=x.U[y];D=z.U[C.tc];B=B.tc;E=f(C.Aa) - C.Ba;E=void 0 === A?A=0:A + E;return C.P === (null === D || void 0 === D?void 0:D.P)?{w2:f(C.Aa),aX:A}:C.tc === B && (y=q.__read(l(x,y),1)[0]) && x.U[y].tc === C.tc?c(x,y,z,C,E):{w2:D.Ba,aX:E};}function l(x,y){return Object.keys(x.U).filter(function(z){return x.U[z].dc === y;});}function g(x,y,z,B,A){var C,D,E;void 0 === A && (A=0);y=x.U[y];C=z.U[y.tc];B=B.tc;D=z.U[B];E=f(y.Aa) - y.Ba;return y.P === (null === C || void 0 === C?void 0:C.P)?{w2:y.Ba,aX:A}:y.tc === B && y.dc?g(x,y.dc,z,y,A + E):{w2:f(D.Aa),aX:A};}function m(x,y,z){var B,A,C,D,E,G,F,L,O,K,I,M,H;B=n(x,y,z);if(B)return B;B=x.U[z.G];A=z.offset;C=Object.keys(y.U).filter(function(J){return y.U[J].tc === z.G;});D=[];C.forEach(function(J){var P,W,V;function N(S){S=v.F$(y,S);null === S || void 0 === S?void 0:S.forEach(function(U){var fa,qa;if(y.U[U].tc !== z.G){fa=y.U[U];qa=fa.Aa;V={G:U,offset:qa - fa.Ba};(fa=qa?p(x,y,V):void 0) && D.push({fB:V,Fs:fa});fa || (V={G:U,offset:0},(fa=p(x,y,{G:U,offset:0})) && D.push({fB:V,Fs:fa}));N(U);}});}P=y.U[J];W=P.Aa;V={G:J,offset:W - P.Ba};(P=W?p(x,y,V):void 0) && D.push({fB:V,Fs:P});V={G:J,offset:0};(W=p(x,y,V)) && D.push({fB:V,Fs:W});W || P || N(J);});w.assert(0 < D.length,"No point before the content position that can be directly mapped from combined to ux playgraph founc");E=B.Ba + A;F=Infinity;D.forEach(function(J){var N;N=J.Fs;N=E - (x.U[N.G].Ba + N.offset);0 <= N && N < F && (F=N,G=J);});L=[];C.forEach(function(J){var P,W,V,S;function N(U){Object.keys(y.U[U].next || ({})).forEach(function(fa){var qa,za,Aa;if(y.U[fa].tc !== z.G){qa=y.U[fa];za=qa.Ba;qa=qa.Aa;S={G:fa,offset:0};Aa=p(x,y,S);Aa && L.push({fB:S,Fs:Aa});Aa || (S={G:fa,offset:qa - za},(za=qa?p(x,y,S):void 0) && L.push({fB:S,Fs:za}));}N(fa);});}P=y.U[J];W=P.Ba;V=P.Aa;S={G:J,offset:0};(P=p(x,y,S)) && L.push({fB:S,Fs:P});S={G:J,offset:V - W};(W=V?p(x,y,S):void 0) && L.push({fB:S,Fs:W});P || W || N(J);});w.assert(0 < L.length,"No point after the content position that can be directly mapped from combined to ux playgraph found");K=Infinity;L.forEach(function(J){var N;N=J.Fs;N=x.U[N.G].Ba + N.offset - E;if(0 <= N && N < K || N > K && 0 > K || Infinity === K)(K=N,O=J);});w.assert(G);w.assert(O);A=G.fB;w.assert(A,"Segment not found in the combined playgraph");B=O.fB;w.assert(B,"Segment not found in the combined playgraph");I=y.U[A.G];C=y.U[B.G];A.offset === f(I.Aa) - I.Ba && y.U[I.dc].tc === I.tc && (A.G === B.G && A.offset === B.offset && (B={G:C.dc,offset:0},C=y.U[B.G]),A={G:I.dc,offset:0},I=y.U[A.G]);M=x.U[G.Fs.G].Ba + G.Fs.offset;H=x.U[O.Fs.G].Ba + O.Fs.offset - M;M=0 === H?0:(E - M) / H;if(A.G === B.G)return (I=I.Ba + A.offset,A=A.G,{G:A,offset:I + M * (C.Ba + B.offset - I) - y.U[A].Ba});H=d(y,A,B);I=H.path;H=H.gJ;C=0 === B.offset?0:f(C.Aa) - C.Ba;return k(y,I,A.offset + M * (H - A.offset - (C - B.offset)));}function d(x,y,z){var B,A;if(y.G !== z.G){for(y=[y.G];y[y.length - 1] !== z.G;){B=x.U[y[y.length - 1]];w.assert(B.next,"Cannot find path between points in combined playgraph");if(B.next[z.G])break;A=Object.keys(B.next);1 === A.length?y.push(A[0]):(w.assert(B.dc,"Multiple paths but no default finding paths between points in combined playgrahp"),y.push(B.dc));}0 !== z.offset && y.push(z.G);return {path:y,gJ:h(x,y)};}return {path:[],gJ:z.offset - y.offset};}function f(x){return null === x || void 0 === x?Infinity:x;}function h(x,y){return y.reduce(function(z,B){var A;B=x.U[B];A=B.Ba;return z + f(B.Aa) - A;},0);}function k(x,y,z){var A,C,D;for(var B=0;B < y.length;++B){A=y[B];C=x.U[A];D=C.Ba;C=f(C.Aa) - D;if(C > z)return {G:A,offset:z};z-=C;}w.assert(!1,"Invalid offset given for path");}function n(x,y,z){var B,A,C,D,E,G,F,L,O,K,I;A=x.U[z.G];w.assert(A,"Graph position " + z.G + " does not exist in UX playgraph");C=z.offset;w.assert(0 <= C,"Graph position offset " + C + " cannot be negative");w.assert(!A.Aa || C <= A.Aa - A.Ba,"Graph position " + C + " offset outside segment");if(y.U[z.G])return z;D=Object.keys(y.U).filter(function(M){return y.U[M].tc === z.G;});w.assert(0 < D.length,"No segments found in combined playgraph that point back to the ux segment");E={};G=0;D.forEach(function(M){if(void 0 === E[M]){for(var H=0;M;){E[M]=[G,H++];M=y.U[M].dc;}++G;}});D.sort(function(M,H){return E[M][0] !== E[H][0]?1:E[M][1] - E[H][1];});F=A.Ba + C;L=D.filter(function(M){return y.U[M].P === A.P;});O=q.__read(D,1)[0];L=L.map(function(M){return [M,y.U[M]];}).filter(function(M){var H;M=q.__read(M,2);H=M[0];return F >= M[1].Ba || H === O;});if(L=t.Qc(L,function(M){var H;M=q.__read(M,2)[1];H=M.dc?y.U[M.dc]:void 0;return !M.Aa || !!M.Aa && F < M.Aa || (null === H || void 0 === H?void 0:H.tc) !== z.G && F >= M.Ba;})){K=q.__read(L,2);L=K[0];K=K[1];I=(isFinite(F)?F:null !== (B=K.Aa) && void 0 !== B?B:Infinity) - K.Ba;w.assert(0 <= I,"Content playgrah graph position offset cannot be negative");B=!0;0 === I && (B=u.Sta(y,L),B=!B || B.tc !== K.tc);if(B)return {G:L,offset:I};}D=D.filter(function(M){return y.U[M].P !== A.P;});if(0 === C && (C=u.Sta(x,z.G),!C || C.tc !== z.G) && (C=t.Qc(D,function(M){return 0 === v.F$(y,M).length;}),void 0 !== C))return {G:C,offset:0};if(A.Aa && Infinity !== A.Aa && !(A.Aa - A.Ba !== z.offset || A.dc && x.U[A.dc]) && (C=t.Qc(D,function(M){return !y.U[M].next || 0 === Object.keys(y.U[M].next).length;}),void 0 !== C))return (D=y.U[C],x=D.Ba,D=D.Aa,w.assert(D,"Content playgraph segments from other viewables must have end time"),{G:C,offset:D - x});}function p(x,y,z){var B,A;B=y.U[z.G];w.assert(B,"Graph position does not exist in combined playgraph");A=z.offset;w.assert(0 <= A,"Graph position offset cannot be negative");w.assert(!B.Aa || A <= B.Aa - B.Ba,"Graph position offset outside segment");if(void 0 === B.tc)return z;x=x.U[B.tc];w.assert(x,"Referenced ux playgraph segment must exist");if(B.P === x.P)return (A=B.Ba + A - x.Ba,x=f(x.Aa) - x.Ba,A=Math.max(Math.min(A,x),0),{G:B.tc,offset:A});if(0 === A && (z=v.F$(y,z.G).filter(function(C){return y.U[C].tc === B.tc;}),0 === A && 0 === z.length))return {G:B.tc,offset:0};A=B.dc?y.U[B.dc]:void 0;if((null === A || void 0 === A?void 0:A.tc) !== B.tc)return {G:B.tc,offset:x.Aa?x.Aa - x.Ba:Infinity};}Object.defineProperty(b,"__esModule",{value:!0});b.w8a=b.Mpb=b.T2a=void 0;q=a(0);v=a(38);t=a(280);w=a(463);u=a(464);b.T2a=function(x,y,z){var B,A,C,D;B=y.U[z.G];A=p(x,y,z);if(A)return A;w.assert(B.tc,"Combined playgraph must reference a ux playgraph segment since no direct mapping was possible");C=x.U[B.tc];w.assert(C,"Referenced ux playgraph segment must exist");w.assert(B.Aa,"Content playgraph segments from other viewables must have end time");if(!B.dc || !y.U[B.dc])return (w.assert(C.Aa,"Must have definite end time to add terminal content playgraph segment"),{G:B.tc,offset:C.Aa - C.Ba});D=c(y,z.G,x,B);A=D.w2;D=D.aX;if(null === A || void 0 === A)return (w.assert(C.Aa,"Experience playgraph segment must have end time"),{G:B.tc,offset:C.Aa - C.Ba});y=g(y,z.G,x,B);x=y.w2;y=y.aX;null !== x && void 0 !== x && isFinite(x) || w.assert(x,"Experience playgraph segment must have end time");return {G:B.tc,offset:A + (D + z.offset) / (D + y) * (x - A)};};b.Mpb=m;b.w8a=function(x,y,z){var B,A,C;return q.__generator(this,function(D){switch(D.label){case 0:(B=m(x,y,z),A=y.U[B.G],C=B.G,D.label=1);case 1:return [4,C];case 2:(D.zb(),C=A.dc,A=y.U[C],D.label=3);case 3:if((null === A || void 0 === A?void 0:A.tc) === z.G && C !== B.G)return [3,1];D.label=4;case 4:return [2];}});};},function(r,b,a){var l,g,m;function c(d,f,h){var k;if(!h)return !1;h=h[f];return "boolean" === typeof h?!0 === h:(null === h || void 0 === h?void 0:h.length) === (null === (k=d[f].kg) || void 0 === k?void 0:k.length);}Object.defineProperty(b,"__esModule",{value:!0});b.C3a=b.Op=void 0;l=a(0);g=a(161);b.Op=-1;b.C3a=function(d,f,h,k,n){function p(w){var u,x,y,z,B;u=f.Zg[w];x=c(f.Zg,w,h);y=!!k && !x;z=0 === u.cs;u.cs > v && q.Ig(d + "-" + w,{P:d,Ba:v,Aa:u.cs,type:"content"});!y || z && !n || q.Ig("padstart-" + w,{P:b.Op,Ba:0,Aa:k,type:"padding"});v=u.cs;if(u.kg && !x){B=null === h || void 0 === h?void 0:h[w];u.kg.forEach(function(A,C){var D;D=!1;Array.isArray(B) && (D=-1 < B.indexOf(C));D || q.Ig("ad-" + w + "-" + C,{P:A.id,Ba:A.Ba,Aa:A.Aa,type:"ad"});});y && q.Ig("padend-" + w,{P:b.Op,Ba:0,Aa:k,type:"padding"});}}void 0 === k && (k=0);void 0 === n && (n=!1);for(var q=new m(),v=0,t=0;t < f.Zg.length;++t){p(t);}q.Ig(d + "-" + f.Zg.length,{P:d,Ba:v,Aa:null,type:"content"});return q.hj();};m=(function(){function d(){this.rb=new g.ix();}d.prototype.Ig=function(f,h){var k,n,p;this.uJ || (this.uJ=f);if(this.z0){n=l.__read(this.z0,2);p=n[0];n=n[1];n.dc=f;n.next=(k={},k[f]={},k);"content" === n.type && -1 < ["ad","padding"].indexOf(h.type) && (n.Lv=!0);"content" === h.type && -1 < ["ad","padding"].indexOf(n.type) && (h.Kv=!0);this.rb.Ig(p,n);}this.z0=[f,h];};d.prototype.hj=function(){var f;if(this.z0){f=l.__read(this.z0,2);this.rb.Ig(f[0],f[1]);}this.z0=void 0;this.uJ && this.rb.vL(this.uJ);return this.rb.hj();};return d;})();},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.yKa=void 0;c=a(0);l=a(2);g=a(196);r=(function(){function m(){}m.np=function(d){var f,h;f=d.U;d=d.ie;h=f[d].P;Object.keys(f).forEach(function(k){return (0,l.assert)(f[k].P === h);});return f[d].P;};m.prototype.e7a=function(d,f){var h;h=Object.keys(f.na.U).length;return c.__read(d.filter(function(k){var n,p;return m.np(f.na) === (0,g.np)(k.context.se.key) && (1 === h || h === Object.keys(null !== (p=null === (n=k.na) || void 0 === n?void 0:n.na.U) && void 0 !== p?p:{}).length);}),1)[0];};return m;})();b.yKa=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.aKa=b.dKa=void 0;c=a(116);l=a(1120);b.dKa=625E3;r=(function(){function g(m){this.config=m;}g.prototype.N1a=function(m){var d,f,h,k,n;d=this.config.K9;f=this.config.Feb || this.config.J9;h=0 < m.D$a.vF;k=h?f * b.dKa / 1E3:this.config.bu || Infinity;n=h?Math.floor(m.D$a.vF / k):d;return {fo:m.dmc.sort(function(p,q){return p.priority - q.priority;}).slice(0,d).map(function(p,q){var v;v=p.key.config;return {pcb:{vF:q > n - 1?0:k},se:p,zea:1,Sj:v,xhc:{audio:[(0,c.XI)(v),new l.Mla()],video:[(0,c.YI)(v),new l.Mla()]}};})};};return g;})();b.aKa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Mla=void 0;c=a(6);r=(function(){function l(){}l.prototype.Rn=function(g,m){return m === c.bd.wm?[]:g;};return l;})();b.Mla=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.zTa=void 0;c=a(10);l=a(1122);b.zTa=(function(){function g(){}g.Zcc=function(m,d,f,h){m.events.once("seeking",function(k){var n,p;n=k.position;p=f.length;k.duplicate || (f.bfa(function(q){return "segmentNormalized" !== q.Gt;}),c.M && h.log(("Discarding ").concat(p - f.length," events from prefetched playgraph") + (" for original seek postition ").concat((0,l.Vaa)(d)) + (" due to seek to ").concat((0,l.Vaa)(n))));c.M && h.log(("Replaying ").concat(f.length," events from prefetched playgraph") + ("for seek postition ").concat((0,l.Vaa)(n)));f.cDa();f.Wa();});};return g;})();},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Vaa=void 0;b.Vaa=function(a){return ("( ").concat(a.S,", ").concat(a.offset.Fb()," )");};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.OUa=void 0;r=(function(){function a(c){this.config=c;}a.prototype.N1a=function(c,l){var g,m;g=this;c=l(c);m=c.fo.map(function(d){return d.se.priority;}).sort();c.fo.forEach(function(d){d.zea=g.config.jac / (2 << m.lastIndexOf(d.se.priority));});return c;};return a;})();b.OUa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.qTa=void 0;r=(function(){function a(c){this.Zk=c.Zk;this.py=this.V0b();}a.prototype.rW=function(c){c.events.on("requestsPruned",this.py);};a.prototype.FC=function(c){c.events.removeListener("requestsPruned",this.py);};a.prototype.V0b=function(){var c;c=this;return function(){return c.Zk();};};return a;})();b.qTa=r;},function(r,b,a){var l;function c(g,m,d,f){return g && m?Math.min(g - m * d,g - f):(g || Infinity) - f;}Object.defineProperties(b,{__esModule:{value:!0}});b.Q1a=void 0;l=a(6);b.Q1a=function(g,m){var d,f,h,k,n,p,q,v;v=c(m.audio,m.qsc,g.Lra,null !== (f=g.u3a) && void 0 !== f?f:0);f=c(m.video,m.kyc,g.Lra,null !== (h=g.w3a) && void 0 !== h?h:0);h=c(m.text,m.Hxc,g.Lra,null !== (k=g.v3a) && void 0 !== k?k:0);return (d={},d[l.u.T]=v,d[l.u.J]=f,d[l.u.Za]=h,d.total=(m.total || Infinity) - (null !== (n=g.u3a) && void 0 !== n?n:0) - (null !== (p=g.w3a) && void 0 !== p?p:0) - (null !== (q=g.v3a) && void 0 !== q?q:0),d);};},function(r,b,a){var c,l,g,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.w9=void 0;c=a(0);l=a(10);g=a(1127);m=a(196);d=a(195);b.w9=function(f,h,k){var n,p,q,v;n=[function(t){return new (g.aia.bind.apply(g.aia,c.__spreadArray([void 0],c.__read(t.o0),!1)))();}];p=(0,m.np)({na:h[0]});l.M && k.trace("Creating playgraph",{xwc:p,atc:f.RX,kg:f.nJ});if(f.RX){q=a(1166);n.unshift(function(t,w){return q.hX({},t,w);});}if(f.nJ){v=a(1171);n.unshift(function(t,w){return v.hX({},t,w);});}return d.yT.Gba({o0:h,upa:[]},n);};},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A,C,D,E,G,F,L,O,K,I,M,H,J,N,P,W,V,S,U,fa,qa,za,Aa,Qa,T;function c(Z){var Q;Q={};Z.forEach(function(la){la.mediaType !== f.u.Za && (Q[la.mediaType]=la.lp());});return Q;}Object.defineProperties(b,{__esModule:{value:!0}});b.aia=void 0;l=a(0);g=a(13);m=a(38);d=a(408);f=a(6);h=a(1128);k=a(8);n=a(1129);p=a(1137);q=l.__importDefault(a(3));v=a(2);t=a(1138);w=a(21);u=a(61);x=a(116);y=a(159);z=a(28);B=a(472);A=a(278);C=a(277);D=a(1145);E=a(71);G=l.__importDefault(a(154));F=a(1146);L=a(279);O=a(1147);K=a(473);I=a(1148);M=a(1149);H=a(1150);J=a(1151);N=a(1154);P=a(1155);W=a(1156);V=a(1157);S=a(1158);U=a(1159);fa=a(1161);qa=a(1162);za=a(1163);Aa=a(1164);Qa=a(1165);T=a(137).Qy.qsa;r=(function(){function Z(Q,la,sa,R,ha,wa,va,Ea,Ya,wb){this.Lo=Q;this.g_a=la;this.config=sa;this.id=R;this.NV=wa;this.Zk=va;this.OKb=Ea;this.Sp=wb;this.Oma=!1;this.iA=void 0;this.sta=[];this.hk=this.Cb=void 0;this.j8="2.0";this.Xab=this.m7=this.Mo=this.Jna=void 0;this.Sc=d.Hl.CLOSED;this.fna=!0;this.q8=!1;this.zga=this.WGa=this.GW=void 0;this.o1a=new g.ef();this.TE=0;this.rga=!1;this.W0b();this.console=new q.default.Console("ASEJS_PLAYGRAPH","asejs",("").concat(this.id));this.zi=new E.px({Iq:10,yp:this,source:"AsePlaygraph",console:this.console});this.events=new g.EventEmitter();this.Hlb(Q);this.eb=new N.eTa();this.vh=new Aa.gTa(this.console);this.nwa=new I.jMa(this.config,k.N.Na(this.config.Oca),{parent:this.n$a.bind(this)},this.events,this.console);this.sga=new p.qVa(this.console,this.events);this.OW={vF:sa.bu || Infinity};this.X=new t.Vka(this);this.$e=new u.FU(this.X.za,this.console,"playgraph",1);this.a1b();this.Pf=new P.bJa(this.console,sa,ha,this.events,this,this.Ku);this.L8=new S.TIa(this.$e,this.Ku,this.config,this.yl.bind(this),this.Kg,this.console);this.Oda=this.Pf.Oda.bind(this.Pf);this.W_=this.Pf.W_.bind(this.Pf);this.Xda=this.Pf.Xda.bind(this.Pf);this.Gda=this.Gda.bind(this);this.Hda=this.Hda.bind(this);this.rL=this.rL.bind(this);this.HC=new z.xla(sa);this.S0b();this.HC.ag(new C.eA(this.Pf.zi));this.HC.ag(new D.qSa(this.rYb.bind(this)));this.HC.ag(new C.eA(this.zi));this.HC.ag(new F.dTa(this.eb,this));this.HC.ag(new O.BOa(this));this.Vmb=new za.pVa(this,this.console,Ya);this.yca=new L.YOa(this.Ku,this.console,this.events);this.jq=new Qa.iTa(this.Yea.bind(this));this.BEa((0,x.YI)(this.config),(0,x.XI)());}Object.defineProperties(Z.prototype,{state:{get:function(){return this.Sc;},enumerable:!1,configurable:!0}});Object.defineProperties(Z.prototype,{Xv:{get:function(){return !(this.X instanceof t.Vka);},enumerable:!1,configurable:!0}});Object.defineProperties(Z.prototype,{wf:{get:function(){return this.iA;},set:function(Q){this.iA=Q;},enumerable:!1,configurable:!0}});Object.defineProperties(Z.prototype,{n1b:{get:function(){return this;},enumerable:!1,configurable:!0}});Object.defineProperties(Z.prototype,{na:{get:function(){return this.Lo;},enumerable:!1,configurable:!0}});Object.defineProperties(Z.prototype,{weight:{get:function(){return this.g_a;},enumerable:!1,configurable:!0}});Object.defineProperties(Z.prototype,{ti:{get:function(){(0,v.assert)(this.Ot,"AsePlaygraph.seekPosition accessed before seekStreaming");return this.Mo.position;},enumerable:!1,configurable:!0}});Object.defineProperties(Z.prototype,{Skb:{get:function(){(0,v.assert)(this.Ot,"AsePlaygraph.seekTimestamp accessed before seekStreaming");return this.$Y(this.ti).vt;},enumerable:!1,configurable:!0}});Object.defineProperties(Z.prototype,{Kg:{get:function(){return this.Pf.state;},enumerable:!1,configurable:!0}});Object.defineProperties(Z.prototype,{qf:{get:function(){return this.Pf.qf;},enumerable:!1,configurable:!0}});Object.defineProperties(Z.prototype,{Uf:{get:function(){return this.Pf.Uf;},enumerable:!1,configurable:!0}});Object.defineProperties(Z.prototype,{Ot:{get:function(){return void 0 !== this.Mo;},enumerable:!1,configurable:!0}});Object.defineProperties(Z.prototype,{Ii:{get:function(){return this.X.nf?this.X.Ii:this.ti;},enumerable:!1,configurable:!0}});Object.defineProperties(Z.prototype,{xe:{get:function(){var Q,la;return this.X.nf?this.X.xe:null !== (la=null === (Q=this.Mo) || void 0 === Q?void 0:Q.Nq) && void 0 !== la?la:this.Skb;},enumerable:!1,configurable:!0}});Object.defineProperties(Z.prototype,{Lpa:{get:function(){return this.Jzb;},enumerable:!1,configurable:!0}});Object.defineProperties(Z.prototype,{SS:{get:function(){return this.cFb;},enumerable:!1,configurable:!0}});Z.prototype.a1b=function(){this.Ku=new u.FU(new A.H5({pk:!0,currentTime:function(){return k.N.Na(q.default.time.fa());},speed:1}),this.console,"wallclock");};Z.prototype.S0b=function(){var Q;Q=this;(0,qa.D3a)({Pf:this.Pf,Ku:this.Ku},u.bj.UG(k.N.Na(this.config.wC)),function(){Q.X.nf && Q.X.oi && (Q.Pf.state.value === f.bd.Vg || Q.Pf.state.value === f.bd.Yd) && Q.Vs(Q.X.oi);},"buffering");};Z.prototype.W0b=function(){var Q;Q=this;this.My=function(la){var sa,R,ha;R=Q.navigator.Be(la.position.S);if((R=Q.I9a(R)) && Q.X.nf){ha=(0,k.Xta)(Q.X.eb.filter(function(wa){return wa.G.id === la.position.S;}),la.playerTimestamp,{X2a:!0});ha && (null === (sa=Q.X.Gp) || void 0 === sa?void 0:sa.iz({G:ha.G,get Mga() {return ha.Jd.Ga(ha.G.sf);}},R,Q.Ii.offset,!0,!1));}Q.jq.start();};this.Q_=function(){Q.Zk("onDrmReady");};this.q8b=function(la){la=la.newValue;Q.Oma || (Q.Oma=la);};};Z.prototype.open=function(){this.fna=!0;this.events.emit("opening",{type:"opening"});this.events.emit("openComplete",{type:"openComplete"});if(this.Sc !== d.Hl.CLOSED)return !1;this.Sc=d.Hl.OPEN;return !0;};Z.prototype.Wa=function(){this.Ku.Wa();this.$e.Wa();this.Sc !== d.Hl.CLOSED && (this.ee(),this.jq.Wa(),this.Pf.stop(),this.Sc=d.Hl.CLOSED,this.Xv || this.X.Wa(),this.yca.Wa());};Z.prototype.lKb=function(Q,la,sa){Q=(0,W.rta)(this.eb,this.rL.bind(this),Q,la,sa).e2a;return this.U1a(Q);};Z.prototype.NC=function(Q,la,sa){var R,ha,wa,va;R=this;this.GW=Q;this.WGa=la;this.zga=sa;Q=(0,W.rta)(this.eb,this.rL.bind(this));ha=Q.e2a;Q=Q.KIb;if(!this.U1a(ha))return !1;if(0 === ha.length)return !0;wa=this.Ii;this.X.NR(ha);va=this.$Y(wa).vt;Q.forEach(function(Ea){var Ya;Ya=Ea.hb;Ya.NC(Ea.Fe,wa.S === Ya.G.id?va:void 0,void 0 !== R.eb.RY(Ya),ha);});this.Pf.O8b(wa,Q[0].Fe);return !0;};Z.prototype.XI=function(Q){return (0,x.XI)(this.config,Q);};Z.prototype.YI=function(Q){return (0,x.YI)(this.config,Q);};Z.prototype.MY=function(Q,la){var sa,R;sa=this.navigator.Be(Q);R=this.navigator.Be(la);return {llc:sa.z_b(la),QW:la !== Q && this.eb.has(la) && this.eb.ky(la)[0].Nh,Td:R.sf.Z,oAa:this.I9a(sa)};};Z.prototype.yl=function(Q,la,sa,R){var ha,wa,va,Ea;ha=this;void 0 === R && (R=!0);if(!la)throw Error("AsePlaygraph.setNextSegment - nextSegmentId undefined - not implemented");if(R && this.vh.get(Q))sa || this.vh.set(Q,la);else {va=this.vY(Q)[0];Ea=this.navigator.Be(Q);this.Ii.S === Q && va && (null === (wa=this.X.Gp) || void 0 === wa?void 0:wa.iz({G:va.G,get Mga() {return va.Jd.Ga(va.G.sf);}},la,this.Ii.offset,R,sa));R || (Q={offset:k.N.Oa,S:la},this.Mo={position:Q,Nh:!0,Kob:Q});sa?this.vh.ofc(Ea.id,la):this.vh.set(Ea.id,la);this.jq.start();R && Ea.Zy && 0 < Ea.Zy.length && ((0,v.assert)(va),va.Rga(Ea.Zy) && this.vY(la).forEach(function(Ya){return ha.Xq(va,Ya);}));R || this.Pf.cR(this.ti);}};Z.prototype.U1a=function(Q){return 0 === Q.length?!0:Q.some(function(la){return la === f.u.J;})?!1:(Q=this.X.Eaa()) && Q.greaterThan(this.X.xe)?!1:!0;};Z.prototype.Xq=function(Q,la){var sa;sa=this;Q=Q.Vc.Ga(la.G.sf);la.Xq(Q);this.eb.tWb(la).forEach(function(R){return sa.Xq(la,R);});};Z.prototype.Ek=function(Q){this.navigator.Ek(Q);this.jq.start();};Z.prototype.BEa=function(Q,la){this.Jzb=Q;this.cFb=la;this.state === d.Hl.wm && this.Zk("setStreamFilters");};Z.prototype.PFb=function(Q){(0,v.assert)(-1 === this.sta.indexOf(Q),"Attempted to add the same evaluation hook twice");this.sta.push(Q);};Z.prototype.Kfc=function(Q){this.NV.Wcc(Q);};Z.prototype.wG=function(Q,la){this.Cfa(Q,la);};Z.prototype.Cfa=function(Q,la,sa){var R,ha,wa,va,Ea;wa=this.na;va=(0,K.Npb)(wa,Q);if(va.oQ){Ea=this.jec(wa,Q,la);if(void 0 === Ea)this.fg(("Invalid seekPosition after sanitization to ").concat(Q.S) + ("(").concat(Q.offset.Z,"ms)") + (", reason: ").concat(va.reason),null === (R=wa.U[Q.S]) || void 0 === R?void 0:R.P);else if(void 0 === this.GW || void 0 === this.WGa)this.fg("No track selectors available");else if((R=!(this.Xv && this.X.qy) && (0,K.E$a)(null === (ha=this.Mo) || void 0 === ha?void 0:ha.Kob,Ea),this.events.emit("seeking",{type:"seeking",position:Q,duplicate:R}),!R)){this.m7=sa;this.Ot && (this.iz(Ea),this.UKb(Q));Q=this.m9a();try{this.ee(!0);this.TKb();this.Mo={position:Ea,Kob:Ea,Nh:!1,Nq:la};this.Xab=la?la.Ga(this.Skb):k.N.Oa;this.Pf.cR();this.Sc=d.Hl.wm;this.jq.start();}finally{Q.release();}}}else this.fg(("Invalid seekPosition to ").concat(null === Q || void 0 === Q?void 0:Q.S) + ("(").concat(Q.offset.Z,"ms)") + (", reason: ").concat(va.reason),null === (Ea=wa.U[Q.S]) || void 0 === Ea?void 0:Ea.P);};Z.prototype.iz=function(Q){var la,sa;sa=this.navigator.Be(this.Ii.S);null === (la=this.X.Gp) || void 0 === la?void 0:la.iz({G:sa,Mga:sa.duration},Q.S,this.Ii.offset,!1);};Z.prototype.UKb=function(Q){var la,sa;if((null === (la=this.X.IY()) || void 0 === la?void 0:la.G.id) === Q.S){if((this.vh.VKb(Q.S),!this.vh.get(Q.S) && this.X.qy)){Q=this.X.eb;sa=this.X.IY();sa && (Q=(0,w.Qc)(Q,function(R){return R.parent === sa;})) && this.vh.set(sa.G.id,null === Q || void 0 === Q?void 0:Q.G.id);}}else this.vh.fra();};Z.prototype.m9a=function(){var Q,la;Q=this;la=this.eb.filter(function(sa){return sa.G.P !== m.Op;}).map(function(sa){return Q.NV.qu(sa.G.P).OZ;});return new y.Pja(function(){la.forEach(function(sa){return sa.release();});},this.console).Kx();};Z.prototype.ee=function(Q){var la,sa,R;R=this.PZb();this.eb.reset();if(!Q && (this.vh.fra(),R.length))try{for(var ha=l.__values(R),wa=ha.next();!wa.done;wa=ha.next()){wa.value.yjb();}}catch(Ea){var va;va={error:Ea};}finally{try{wa && !wa.done && (la=ha.return) && la.call(ha);}finally{if(va)throw va.error;}}this.$e.yg();this.X.reset();this.Mo=void 0;this.L8.reset();null === (sa=this.o1a) || void 0 === sa?void 0:sa.clear();this.Sc === d.Hl.wm && (this.Sc=d.Hl.OPEN);};Z.prototype.vY=function(Q){return this.eb.ky(Q);};Z.prototype.li=function(Q){this.Pf.li(Q);(0,v.assert)(this.X.Wt,"Must have an appended branch on underflow");this.X.o0a && this.Pf.Uf && (this.console.trace("End of stream flagged implying branch completion, declaring buffering complete"),Q=this.Lh(this.xe),this.Pf.Jg("complete",Q.FS,Q.GS));this.L8.YFa(this.X.Wt,this.xe);this.Zk("onUnderflow");this.events.emit("underflow");};Z.prototype.ag=function(Q){this.HC.ag(Q);};Z.prototype.Qx=function(Q){this.ag(new B.gUa(Q));return this.CHb(Q);};Z.prototype.CHb=function(Q){if(!this.X.$Fa(Q))return (this.fg("player in use"),!1);this.X=Q;this.$e.E0a(this.X.za);this.X.events.on("segmentPresenting",this.My);this.X.events.on("drmReady",this.Q_);this.X.cu.addListener(this.q8b);this.events.emit("playerChanged",{type:"playerChanged"});return !0;};Z.prototype.$Y=function(Q){var la,sa;la=Q.offset;sa=this.navigator.Be(Q.S);Q=sa.P;la=sa.sf.add(la);return {P:Q,vt:la};};Z.prototype.Vm=function(Q,la){var sa,R,ha,wa;wa=this.X.Vm(Q);if(void 0 !== wa)return wa;if(null === (R=null === (sa=this.Mo) || void 0 === sa?void 0:sa.Nq) || void 0 === R?0:R.equal(Q))return null !== (ha=this.m7) && void 0 !== ha?ha:this.ti;sa=this.X.Wt;return (0,K.Vm)(Q,{Ja:this,e1b:sa && ({id:sa.G.id,Hec:sa.ls})},la);};Z.prototype.aZ=function(Q){var la;void 0 === la && (la=!1);Q=this.bZ(Q,la).next();if(!Q.done)return (Q=Q.value,null === Q || void 0 === Q?void 0:Q.Nq);};Z.prototype.bZ=function(Q,la){var sa,R,ha,wa,va,Ea,Ya,wb,nb,zb,Oa,Za,Xa;void 0 === la && (la=!1);return l.__generator(this,function(cb){switch(cb.label){case 0:(sa=this.X.bZ(Q),R=sa.next(),cb.label=1);case 1:return R.done?[3,3]:[4,R.value];case 2:return (cb.zb(),R=sa.next(),[3,1]);case 3:if(!la)return [2];ha={};wa=this.Ii;this.Xv && this.X.nf && (Ya=this.X.Wt) && (wa={offset:k.N.Oa,S:Ya.G.id},va=Ya.Vc.Ga(this.X.xe),Ea=Ya.G);va || (Ea=this.navigator.Be(wa.S),va=Ea.sf.add(wa.offset).Ga(Ea.yh));(0,v.assert)(Ea,"Current segment should be defined by here");wb=this.xe;if(Ea.G.dc && Ea.id !== Q.S)return [3,6];if(Ea.id !== Q.S)return [3,5];nb=Q.offset.Ga(wa.offset);return [4,{YO:nb,Nq:wb.add(nb)}];case 4:(cb.zb(),cb.label=5);case 5:return [2];case 6:(zb=this.navigator.Be(Ea.G.dc),Oa=this.navigator.vcb(zb),Za=Oa.next(),cb.label=7);case 7:if(Za.done)return [3,11];Xa=Za.value;if(ha[Xa.id])return [3,11];ha[Xa.id]=!0;if(Xa.id !== Q.S)return [3,9];nb=Q.offset.add(va);return [4,{YO:nb,Nq:wb.add(nb)}];case 8:return (cb.zb(),[2]);case 9:(va=va.add(Xa.duration),cb.label=10);case 10:return (Za=Oa.next(),[3,7]);case 11:return [2];}});};Z.prototype.Hkb=function(Q){return (0,K.JDa)(this.na,Q);};Z.prototype.jec=function(Q,la,sa){var R,ha;R=(0,K.JDa)(Q,la);ha=k.N.Na(1E4);if(!R || !sa || sa.greaterThan(ha))return R;Q=la.offset.add(k.N.Na(Q.U[la.S].Ba));sa=sa.Ga(Q);if(sa.mk(k.N.Oa))return R;ha=k.N.max(k.N.Oa,Q.Ga(ha)).add(sa);if(ha.mk(k.N.Oa))return R;ha=R.offset.add(ha);return {S:R.S,offset:ha};};Z.prototype.hp=function(Q,la){var sa;Q="string" === typeof Q?{P:this.na.U[Q].P,vt:k.N.Na(la)}:Q;if(Q.P !== m.Op){la=this.NV.qu(Q.P);try{return null === (sa=la.O) || void 0 === sa?void 0:sa.hp(this.config,Q.vt.Z);}finally{la.OZ.release();}}};Z.prototype.yaa=function(){return (0,U.f8a)(this.eb,this.Jba.bind(this));};Z.prototype.Jba=function(Q){Q=this.eb.RY(Q);return void 0 === Q || Q.Dj && this.Jba(Q);};Z.prototype.xaa=function(){return this.OW.vF;};Z.prototype.SWb=function(Q){return (0,fa.o$a)(this.eb,Q);};Z.prototype.Lh=function(Q){var la,sa,R;la=this;this.eb.vJ(function(ha){var wa,va;wa=ha.zY(f.u.T);va=ha.zY(f.u.J);if(ha.G.zu || !la.eb.rwa(ha) || !ha.Dj){if(!sa || wa < sa)sa=wa;if(!R || va < R)R=va;}return ha.Dj;});return {FS:sa?Math.max(sa - Q.Z,0):0,GS:R?Math.max(R - Q.Z,0):0};};Z.prototype.CJ=function(){var Q,la,sa,R;sa=this.Ot?this.Lh(this.xe):{FS:0,GS:0};R=G.default.instance().get();return {totalabuflmsecs:sa.FS,totalvbuflmsecs:sa.GS,abuflbytes:0,vbuflbytes:0,currentBandwidth:null !== (la=Number(0 < R.confidence) && (null === (Q=R.Ya) || void 0 === Q?void 0:Q.xa)) && void 0 !== la?la:0};};Z.prototype.SP=function(){var Q,la,sa,R,ha,wa,va,Ea;Q=this;if(this.rp())return (this.zi.sv({isStreamingFailureReported:!0}),[]);sa=this.eb.size;this.zi.sv({branchCount:sa});if(!this.Ot || 0 === sa)return [];R=this.xe;ha=this.Ii;wa=[];sa=this.navigator.Be(this.Ii.S);va=sa.duration;Ea=this.vh.get(sa.id)?1:null !== (la=sa.JC) && void 0 !== la?la:1;la=this.eb.reduce(function(Ya,wb,nb){var zb,Oa,cb,hb,sb;try{for(var Za=l.__values(wb.KY()),Xa=Za.next();!Xa.done;Xa=Za.next()){cb=Xa.value;if(!cb.Tt()){hb=("p").concat(Q.id,"-").concat(nb,"-").concat(null === (Oa=wb.Ld) || void 0 === Oa?void 0:Oa.Z);sb=Q.m$a(cb);Ya.push(Q.GOb(cb,sb.Z,hb,va.Z,Ea,R.Z,ha));}!cb.EF() && Q.zi.enabled && wa.push({segmentId:cb.S,isDoneStreaming:cb.Tt(),isNormalized:cb.Nh(),needsHeaderRequest:cb.track.rda});}}catch(Lb){var Hb;Hb={error:Lb};}finally{try{Xa && !Xa.done && (zb=Za.return) && zb.call(Za);}finally{if(Hb)throw Hb.error;}}return Ya;},[]);this.zi.sv({nonStreamables:wa});return la;};Z.prototype.m$a=function(Q){var la;if(Q.Roa)return Q.Roa;la=this.n$a(Q);return !la || la.Dj || this.config.h$ && this.navigator.v_b(la.hb.G,Q.S)?Q.dX:this.m$a(la);};Z.prototype.n$a=function(Q){var R;if(!Q.hb.bg){for(var la=Q.hb,sa;!sa;){R=this.eb.RY(la);if(!R)break;la=R;sa=R.KJ(Q.mediaType);}return sa;}};Z.prototype.P8b=function(Q){var la,sa;if(!this.sga.rp()){la=void 0;sa=this.X.Ii;sa && (la=this.navigator.Be(sa.S).P);this.fg("BufferingStateTracker: Temporary failure while buffering",la,"NFErr_MC_StreamingFailure",null === Q || void 0 === Q?void 0:Q.Ah,null === Q || void 0 === Q?void 0:Q.TJ,null === Q || void 0 === Q?void 0:Q.Nj);}};Z.prototype.fg=function(Q,la,sa,R,ha,wa,va){void 0 === va && (va=!1);"string" === typeof Q?this.sga.fg(Q,sa,{networkErrorCode:R,httpCode:ha,nativeCode:wa,viewableId:la,temporaryFailure:va}):this.sga.cdc(Q);return !0;};Z.prototype.fGa=function(Q,la){la=this.vaa(la,Q);this.events.emit("logdata",{type:"logdata",target:Q,fields:la});};Z.prototype.vaa=function(Q,la){void 0 !== Q && this.yca.x3b(Q);la=this.HC.il(Q,la);Q === z.Kc.el && (Q=this.CJ(),la.vbuflmsec=Q.totalvbuflmsecs,la.abuflmsec=Q.totalabuflmsecs,la.vbuflbytes=Q.vbuflbytes,la.abuflbytes=Q.abuflbytes);return la;};Z.prototype.Rob=function(Q){this.OW=Q;this.Zk("updateBudget");};Z.prototype.rp=function(){return this.sga.rp();};Z.prototype.lpb=function(Q){Q !== this.weight && (this.g_a=Q,this.events.emit("weightUpdated"));};Z.prototype.Qw=function(Q){var la,sa,R,ha,wa,va,wb,nb,zb,Oa,Za,Xa,cb,hb,sb,Hb;R=(0,J.M1a)(this.na,Q);ha=R.GR;wa=R.hKb;va=R.Rjc;if([R.jpa,ha,wa].every(function(Rb){return !Rb.length;}))return {ja:!0,reason:f.bv.qxb};if(0 === wa.length && 0 === va.length && this.Xv && this.X.nf)return {ja:!1,reason:f.bv.zwb};if(this.X.eb.some(function(Rb){return -1 < ha.indexOf(Rb.G.id);}))return {ja:!1,reason:f.bv.nyb};if(this.Ot && !this.X.nf && -1 < ha.indexOf(this.ti.S))return {ja:!1,reason:f.bv.Lvb};if(this.Ot)try{for(var Ea=l.__values(wa),Ya=Ea.next();!Ya.done;Ya=Ea.next()){wb=Ya.value;nb=this.na.U[wb];zb=nb.Ba;Oa=nb.Aa;Za=nb.P;Xa=Q.U[wb];cb=Xa.Aa;hb=Xa.Ba;sb=Xa.P;if(this.Ii.S === wb && cb !== Oa){if(!cb)return {ja:!1,reason:f.bv.oyb};Hb=k.N.Na(cb - hb);if(null === (sa=this.Ii.offset) || void 0 === sa?0:sa.greaterThan(Hb))return {ja:!1,reason:f.bv.Lqb};}if(zb !== hb)return {ja:!1,reason:f.bv.nub};if(Za !== sb)return {ja:!1,reason:f.bv.oub};}}catch(Rb){var Lb;Lb={error:Rb};}finally{try{Ya && !Ya.done && (la=Ea.return) && la.call(Ea);}finally{if(Lb)throw Lb.error;}}this.Hlb(Q);this.jq.start();return {ja:!0,reason:f.bv.pxb};};Z.prototype.jF=function(Q){Q=this.vY(Q);Q=0 < Q.length?Q[0]:void 0;if((Q=null === Q || void 0 === Q?void 0:Q.Km()) && 0 !== Q.length)return k.N.min.apply(k.N,l.__spreadArray([],l.__read(Q.map(function(la){return la.jF();})),!1));};Z.prototype.Hlb=function(Q){var la;la={type:"playgraphUpdating",W7b:this.Lo,U6b:Q};this.Lo=Q;this.navigator=new H.nTa(Q);this.TZb=(0,J.n3a)(this.navigator);this.events.emit("playgraphUpdating",la);};Z.prototype.X_=function(Q,la){this.Mjb(Q);Q.rP.addListener("criticalNetworkError",this.Oda);Q.rP.addListener("temporaryNetworkError",this.W_);Q.rP.addListener("updatingLastSuccessEvent",this.Xda);Q.events.addListener("liveEventTimesUpdated",this.Gda);Q.events.addListener("liveLoggingInfoUpdated",this.Hda);Q.ta && Q.Wac();this.Sc === d.Hl.wm && la && this.Lkb();};Z.prototype.aBa=function(Q){0 === this.eb.filter(function(la){return la.Bq && la.O === Q;}).length && this.Mjb(Q);};Z.prototype.Mjb=function(Q){Q.rP.removeListener("criticalNetworkError",this.Oda);Q.rP.removeListener("temporaryNetworkError",this.W_);Q.rP.removeListener("updatingLastSuccessEvent",this.Xda);Q.events.removeListener("liveEventTimesUpdated",this.Gda);Q.events.removeListener("liveLoggingInfoUpdated",this.Hda);};Z.prototype.r_a=function(Q){var la;(0,v.assert)(Q.Nh,"expected branch to be normalized on addBranchToPlayer");this.X.qy || (null === (la=this.Mo) || void 0 === la?0:la.Nh) || this.CUb(Q);this.Pf.aha(Q.Fe);this.X.qy && (la=this.X.Wt) && this.vh.clear(la.G.id);this.X.hta(Q);this.L8.YFa(Q,this.xe);};Z.prototype.CUb=function(Q){(0,v.assert)(Q.oc,"Normalized branch should have a defined content start timestamp");(0,v.assert)(this.Mo,"AsePlaygraph should have a seek position on first branch normalization");(0,v.assert)(!this.Mo.Nh,"Seek position should not already be normalized on first branch normalization");this.Mo=l.__assign(l.__assign({},this.Mo),{position:{S:Q.G.id,offset:Q.oc.Ga(Q.G.sf)},Nh:!0});this.Pf.ifc(this.Mo.position,Q.Fe.filter(function(la){return la.mediaType === f.u.T;})[0]);};Z.prototype.TKb=function(){var Q;this.L8.reset();this.X.EE();this.Mo=void 0;null === (Q=this.o1a) || void 0 === Q?void 0:Q.clear();};Z.prototype.GOb=function(Q,la,sa,R,ha,wa,va){var Ea,Ya,wb,nb;Ea=this;nb=null !== (wb=null === (Ya=Q.hb.Ld) || void 0 === Ya?void 0:Ya.Z) && void 0 !== wb?wb:Q.hb.Rt.Z;Ya=Q.TC.Z;wb=this.vh.get(Q.S)?1:Q.hb.G.JC;return {identifier:Q.S,mediaType:Q.mediaType,ri:Q.ri,Kg:this.Kg.value,sC:la,yu:Ya,At:wa,n7a:Q.tJ.Z,hCa:va.offset.Z,gCa:R,y0:ha,JC:wb,Qn:Q.hb.Ct.Z,Wmb:Math.max(Ya - nb,0),EF:Q.EF(),Tt:Q.Tt(),groupId:sa,jcb:function(zb,Oa){zb=Ea.Vmb.QJb(zb,Q.mediaType,1 > Oa || !Q.hb.bg && !Ea.Jba(Q.hb));1 === Oa && "global" === (0,f.KCa)(zb.reason) && Ea.Pf.l8b(Q.mediaType,Ea.Lh(Ea.xe));return zb;},ocb:function(){var zb,Oa,Za,Xa,cb,hb,sb,Hb,Lb,Rb,Tb,Ob,Eb;Xa=Q.mediaType;cb=Q.r9a();hb=Ea.nwa.Mec(Ea.Kg.value,Ea.xe,Q.TC,Ea.X.playbackRate,Q,Xa === f.u.T?Ea.Lpa:Ea.SS,Ea.q8,cb);sb=hb.stream;Hb=hb.C1;Lb=hb.fQ;Rb=hb.LC;Tb=hb.Ny;Ob=hb.reason;cb=hb.cUb;hb=hb.Nec;if(!sb)return {Jj:!1,reason:Ob || "selectLocationsAndStream"};if(Ea.Kg.value === f.bd.wm && Q.hb && Q.hb.O.op && !Q.hb.O.o_ && !Ea.X.Yr(Q.hb.O.P)){Ob=Q.TC.Z - Ea.xe.Z;if(!Q.hb.O.Vf.qg && Ob > Ea.config.vza)return {Jj:!1,reason:"maxBufferingCompleteBufferInMs"};if(!sb.Ij && sb.mediaType === f.u.J && Ob >= Ea.config.Ica)return {Jj:!1,reason:"maxFastPlayBufferInMs"};}Ob=f.u.J;if(null === (zb=Q.hb) || void 0 === zb?0:zb.Fe.every(function(Sb){return Sb.mediaType === f.u.T;}))Ob=f.u.T;Ea.Pf.Uf && Xa === Ob && Ea.Pf.wfc(Q.Wj.j1,sb.bitrate,Lb);Ea.aS(Hb);zb=null === (Oa=Q.hb.Wq) || void 0 === Oa?void 0:Oa.Z;Oa=Q.xob(sb,Tb,Rb);if(Oa.Jj){Ea.fna && (Ea.wn("firstDriveStreaming"),Ea.fna=!1);if(0 < Ea.TE){Eb=null === (Za=Q.hb.Wq) || void 0 === Za?void 0:Za.Z;zb && Eb && (Ea.TE-=zb - Eb,0 >= Ea.TE && Ea.Lkb());}Ea.events.emit("requestIssued",{type:"requestIssued",mediaType:Xa,result:hb,streamList:cb});}else "exceedsLiveEdge" === Oa.reason && (null === (Eb=Ea.Jna) || void 0 === Eb?void 0:Eb.Wa(),Ea.Jna=Ea.Ku.OO(u.bj.UG(sb.xq().Ct),function(){Ea.Jna=void 0;Ea.Zk("liveEdgeRetry");}));return Oa;}};};Z.prototype.aS=function(Q){var la;la=this;Q.forEach(function(sa){sa.O.qfc(sa,function(){var R,ha;(0,v.assert)(la.Ot,"Speculative header callback after streaming is cancelled");R=la.xe.Z;ha=R + la.config.w_;return {ri:[],Kg:la.Pf.state.value,sC:ha,yu:ha,At:R};});});};Z.prototype.Lkb=function(){var Q;Q=this;this.jq.pha(Qa.oH.Kz,function(){return Q.jq.start();});};Z.prototype.Yea=function(){var Q,la,sa,R,ha;Q=this;if(this.Sc === d.Hl.wm){la=this.Ii;sa=this.X.eb;R=this.eb.FZb();ha=l.__read(sa,1)[0];la=ha?this.navigator.Be(ha.G.id):this.navigator.Be(la.S);sa=sa.map(function(wa){return wa.G.id;});R=(0,M.Yea)(this.console,this.TZb,la,R,this.vh,sa,k.N.Na(this.config.IIb),this.config.bAa,k.N.Na(this.config.dqa));sa=R.lDa;this.TE=R.TE || 0;R=this.sta.reduce(function(wa,va){return va(wa);},sa);this.eb.bkc(R,function(wa,va){var Ea,Ya;Ya=Q.navigator.Be(wa);wa=wa === Q.ti.S?Q.ti.offset:wa === (null === (Ea=Q.m7) || void 0 === Ea?void 0:Ea.S)?Q.m7.offset:k.N.Oa;Ea=Ya.sf.add(wa);return Q.Fjc(Ya,Ea,va);}).GR.forEach(function(wa){wa.ee("aborted");});this.ujb();this.k2a();this.jq.pha(Qa.oH.Kz,function(){var wa;(null === (wa=Q.eb.root()) || void 0 === wa?0:wa.Bq) && Q.Zk("reevaluateBranches");Q.jq.u_(Qa.oH.AU);});this.events.emit("branchesReevaluated",{type:"branchesReevaluated"});}};Z.prototype.PZb=function(){return (0,w.wW)(this.eb.filter(function(Q){return Q.Bq;}).map(function(Q){return Q.O;}));};Z.prototype.ujb=function(){var Q,la;Q=this;if(this.Sc === d.Hl.wm){if(!this.X.Wt){la=l.__read(this.eb.ky(this.ti.S),1)[0];(null === la || void 0 === la?0:la.Nh) && this.r_a(la);}if(this.X.Wt)for(;;){la=this.$8a(this.X.Wt.G);if(!la)break;la=l.__read(this.eb.ky(la).filter(function(sa){return sa.parent === Q.X.Wt;}),1)[0];if(!la)break;if(null === la || void 0 === la || !la.Nh)break;else if(this.X.O$a(la))break;this.r_a(la);}}};Z.prototype.I9a=function(Q){var la,sa,R,ha;if(this.X.qy){la=this.X.oi;sa=!1;R=this.X.eb.filter(function(wa){sa || (sa=wa === la);return sa;});ha=(0,w.ht)(R,function(wa){return wa.G.id === Q.id;});if(R=R[ha + 1])return R.G.id;}return this.$8a(Q);};Z.prototype.$8a=function(Q){var la;la=this.vh.get(Q.id);if(void 0 !== la)return la;Q=this.navigator.JWb(Q);if(1 === Q.length)return Q[0].id;};Z.prototype.k2a=function(){var Q;Q=0 !== this.HVb();Q || this.rga?Q && this.rga && (this.rga=!1):(this.Pf.Uf && (Q=this.Lh(this.xe),this.Pf.Jg("complete",Q.FS,Q.GS)),this.RCb(),this.rga=!0);};Z.prototype.HVb=function(){return this.eb.filter(function(Q){return !Q.Dj;}).length;};Z.prototype.Vs=function(Q){this.Jba(Q) && this.Pf.Yqa(this.xe,this.X.playbackRate,Q,{Xqa:this.nwa.Xqa.bind(this.nwa,this.Vmb)});};Z.prototype.d8b=function(Q,la){var sa,R;sa=this;if(la.didNormalizeSegment){R=V.IUa.OZb(Q);(0,v.assert)(R,"Segment should be normalized");Promise.resolve().then(function(){return sa.events.emit("segmentNormalized",{type:"segmentNormalized",segmentId:Q.G.id,normalizedStart:la.segmentContentStart,normalizedEnd:la.branchContentEnd,viewableContentEnd:R.$pb,viewableEarliestContentEnd:R.aqb,media:c(Q.Fe)});});}Promise.resolve().then(function(){sa.ujb();});this.Zk("branchNormalized");};Z.prototype.e8b=function(){this.k2a();};Z.prototype.c8b=function(){this.jq.start();};Z.prototype.SOb=function(Q,la){var sa;sa=this;return new h.VIa(Q.P,this.NV.qu.bind(this.NV),function(R,ha,wa){sa.state !== d.Hl.CLOSED && (sa.X_(ha,wa),sa.jq.pha(Qa.oH.AU,function(){R.bg || sa.Y6(R,ha,la);}));},this.aBa.bind(this));};Z.prototype.Fjc=function(Q,la,sa){var R,ha;if(this.OKb(Q,la))throw Error("Not implemented");R=this.SOb(Q,!sa);ha=sa?sa.Vc.Ga(la):this.Xab || k.N.Oa;Q=(0,n.m3a)({config:this.config,console:this.console,G:Q,events:this.events,rL:this.rL,Yn:la,Rd:ha,cg:this.cPb.bind(this),Kg:this.Kg,$e:this.$e,bM:R,t1a:this.Sp,TBa:this.eb});this.Khc(Q,!!sa);return Q;};Z.prototype.cPb=function(){return this.xe.Z;};Z.prototype.Khc=function(Q,la){var sa,R;sa=this;R=new g.ef();R.addListener(Q.events,"needsRequest",function(){var ha;ha=sa.eb.root();ha && !ha.Bq || sa.Zk("branchNeedsHeader");});R.addListener(Q.events,"branchNormalized",this.d8b.bind(this,Q));R.addListener(Q.events,"lastRequestIssued",this.c8b.bind(this,Q));R.addListener(Q.events,"branchStreamingComplete",this.e8b.bind(this,Q));R.addListener(Q.events,"checkBufferingProgress",this.Vs.bind(this,Q));R.addListener(Q.events,"branchDestroyed",function(ha){R.clear();sa.eb.contains(Q) && (sa.eb.afa(Q),sa.jq.start());"aborted" === ha.reason && (sa.X.O$a(Q) || sa.jq.pha(Qa.oH.Kz,function(){return sa.Sna(Q.G.id);}));});la || (this.wn("createDlTracksStart"),Q.events.once("requestQueuesCreated",function(){sa.wn("createDlTracksEnd");}));};Z.prototype.rYb=function(Q){if(this.X.nf)return this.X.oi.fb(Q);};Z.prototype.rL=function(Q,la,sa,R){la=[[f.u.T,null !== la && void 0 !== la?la:this.GW,"audio_tracks"],[f.u.J,null !== sa && void 0 !== sa?sa:this.WGa,"video_tracks"]].map(function(ha){var wa,va;wa=l.__read(ha,3);va=wa[0];ha=wa[1];wa=wa[2];if(Q.ba && ((0,v.assert)(ha,("Expected mediaType ").concat(va," track selector to be defined")),va=Q.ba[wa],ha=ha.XR(Q.ba,va),void 0 !== ha))return Q.getTrackById(va[ha].IS);}).filter(w.Cda);sa=R || this.zga;Q.ba && sa && (R=Q.ba.timedtexttracks,sa=sa.XR(Q.ba,R),void 0 !== sa && 0 <= sa && (R=Q.getTrackById(R[sa].id)) && la.push(R));return la;};Z.prototype.Gda=function(Q){var la,sa,R,ha;la=this;sa=Q.O;R=Q.startTime;ha=Q.endTime;this.eb.filter(function(wa){return wa.Bq && wa.O === sa;}).forEach(function(wa){wa={type:"liveEventTimesUpdated",S:wa.G.id,startTime:R,endTime:ha};la.events.emit(wa.type,wa);});};Z.prototype.Hda=function(Q){var la,sa,R,ha;la=this;sa=Q.O;R=Q.mediaType;ha=Q.info;this.eb.filter(function(wa){return wa.Bq && wa.O === sa;}).forEach(function(wa){wa={type:"liveLoggingInfoUpdated",S:wa.G.id,mediaType:R,info:ha};la.events.emit(wa.type,wa);});};Z.prototype.Y6=function(Q,la,sa){(0,v.assert)(Q.Fe.length,"Branch should have tracks defined");Q={type:"segmentStarting",segmentId:Q.G.id,contentOffset:Q.Rd.Z,maxBitrates:{audio:la.$t[f.u.T],video:la.$t[f.u.J]},media:c(Q.Fe),initial:sa};this.events.emit(Q.type,Q);};Z.prototype.Sna=function(Q){Q={type:"segmentAborted",segmentId:Q};this.events.emit(Q.type,Q);};Z.prototype.RCb=function(){var Q;Q={type:"streamerEnd",time:q.default.time.fa()};this.events.emit(Q.type,Q);};Z.prototype.wn=function(Q){Q={type:"startEvent",event:Q,time:q.default.time.fa()};this.events.emit(Q.type,Q);};l.__decorate([T.return.Ni()],Z.prototype,"ti",null);l.__decorate([(0,E.mc)({methodName:"checkCanSetTracks",return:!0})],Z.prototype,"lKb",null);l.__decorate([(0,E.mc)({methodName:"setTracks",return:!0})],Z.prototype,"NC",null);l.__decorate([(0,E.mc)({methodName:"setNextSegment",ft:!0})],Z.prototype,"yl",null);l.__decorate([(0,E.mc)({methodName:"seekStreaming"}),l.__param(0,T.Ni())],Z.prototype,"wG",null);l.__decorate([(0,E.mc)({methodName:"seekStreamingWithEntryPoint"}),l.__param(0,T.Ni()),l.__param(2,T.Ni()),l.__param(2,T.Jda)],Z.prototype,"Cfa",null);l.__decorate([T.return.q3a(),l.__param(0,T.Ni())],Z.prototype,"$Y",null);l.__decorate([T.return.Ni()],Z.prototype,"Vm",null);l.__decorate([l.__param(0,T.Ni())],Z.prototype,"aZ",null);l.__decorate([l.__param(0,T.Ni())],Z.prototype,"bZ",null);l.__decorate([T.return.Ni(),l.__param(0,T.Ni())],Z.prototype,"Hkb",null);l.__decorate([l.__param(0,T.q3a()),l.__param(0,T.S())],Z.prototype,"hp",null);l.__decorate([(0,E.mc)({methodName:"getStreamables",Ul:!0})],Z.prototype,"SP",null);l.__decorate([(0,E.mc)({methodName:"updatePlaygraphMap",return:!0})],Z.prototype,"Qw",null);return Z;})();b.aia=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.VIa=void 0;c=a(0);r=(function(){function l(g,m,d,f){this.P=g;this.qu=m;this.X_=d;this.aBa=f;}Object.defineProperties(l.prototype,{O:{get:function(){var g;return null === (g=this.I2) || void 0 === g?void 0:g.O;},enumerable:!1,configurable:!0}});l.prototype.Wa=function(){var g;this.O && (this.O.sGa(this.hb),this.aBa(this.O));null === (g=this.I2) || void 0 === g?void 0:g.OZ.release();this.I2=void 0;};l.prototype.oa=function(g){return c.__awaiter(this,void 0,void 0,function(){var m,d,f,h,k;return c.__generator(this,function(n){switch(n.label){case 0:return (this.hb=g,m=this.qu(this.P),d=m.TG,f=m.O,h=m.OZ,this.I2={OZ:h,O:f},f?(this.Wab(f,g,!1),[2,f]):[4,d]);case 1:return (k=n.zb(),this.Wab(k,g,!0),[2,k]);}});});};l.prototype.Wab=function(g,m,d){this.I2 && (this.I2.O=g,g.SCa(m),this.X_(m,g,d));};return l;})();b.VIa=r;},function(r,b,a){var c,l,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.m3a=void 0;c=a(38);l=a(1130);g=a(8);m=a(1131);b.m3a=function(d){var f,h,k,n,p,q,v,t,w,u,x,y;f=d.config;h=d.console;k=d.TBa;n=d.G;p=d.events;q=d.rL;v=d.Yn;t=d.Rd;w=d.cg;u=d.Kg;x=d.$e;y=d.bM;d=d.t1a;n.P === c.Op && f.nJ?(p=new l.uRa(n.P,f.jBa),q=g.N.Oa,f=new (a(1135).tRa)(h,n,q,k.RY.bind(k),p,f)):f=new m.SIa(f,h,p,n,q,v,t,w,k.RY.bind(k),u,x,y,d);return f;};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.uRa=void 0;c=a(38);r=(function(){function l(g,m){this.P=g;this.Glc=m;this.L=("").concat(c.Op);this.ta=!1;this.n1=0;}l.prototype.getTrackById=function(){};l.prototype.li=function(){};l.prototype.yjb=function(){};l.prototype.fg=function(){return !0;};l.prototype.LR=function(){};return l;})();b.uRa=r;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t,w,u;Object.defineProperties(b,{__esModule:{value:!0}});b.SIa=b.lD=void 0;c=a(0);l=a(118);g=a(6);m=a(8);d=a(20);r=a(78);f=a(35);h=a(2);k=a(192);n=a(270);p=a(10);q=a(133);v=a(1132);t=a(465);w=a(1133);(function(x){x[x.xT=0]="CREATED";x[x.pT=1]="CANCELLED";})(u=b.lD || (b.lD={}));a=(function(x){function y(z,B,A,C,D,E,G,F,L,O,K,I,M){B=x.call(this,C,L,G,E,B) || this;B.K=z;B.mea=A;B.taa=D;B.gV=F;B.kA=O;B.Fx=K;B.bM=I;B.Sp=M;B.sy=new n.DM();B.hDa=0;B.Ob=void 0;B.lz=void 0;B.bm=new m.oD();B.Aba=new m.oD();B.MAa=B.Y0b();return B;}c.__extends(y,x);Object.defineProperties(y.prototype,{Fe:{get:function(){var z;this.Bq && 0 === (null === (z=this.cO) || void 0 === z?void 0:z.length) && this.taa && (p.M && this.console.trace("Branch getting initial tracks"),this.cO=this.taa(this.O).sort(t.QG),p.M && this.console.trace("Branch got initial tracks:",this.cO));return this.cO;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{nO:{get:function(){return this.Dj?this.Km().every(function(z){return z.Xa.nO;}):!1;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{f0a:{get:function(){return this.Km().some(function(z){return z.SGb;});},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{hw:{get:function(){var z;return !(null === (z=this.Wd) || void 0 === z || !z.hw);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Dj:{get:function(){var z;return !(null === (z=this.Wd) || void 0 === z || !z.Dj);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{et:{get:function(){var z,B;return null !== (B=null === (z=this.Wd) || void 0 === z?void 0:z.et) && void 0 !== B?B:0;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Nh:{get:function(){var z;return !(null === (z=this.Wd) || void 0 === z || !z.Nh);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{VS:{get:function(){return this.bm.promise.then(function(){});},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Bq:{get:function(){var z;return !(null === (z=this.bM) || void 0 === z || !z.O);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{dba:{get:function(){return !!this.Fe.length && this.Fe.every(function(z){return z.pe;});},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{O:{get:function(){(0,h.assert)(this.bM.O,"viewable should be available");return this.bM.O;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{W:{get:function(){var z;return (null === (z=this.Wd) || void 0 === z?void 0:z.W) || this.Yn.W;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{bb:{get:function(){var z,B;return null !== (B=null === (z=this.Wd) || void 0 === z?void 0:z.bb) && void 0 !== B?B:this.Yn.Ea;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{sb:{get:function(){var z,B;return null !== (B=null === (z=this.Wd) || void 0 === z?void 0:z.sb) && void 0 !== B?B:this.G.yh.Ea;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Tj:{get:function(){var z,B;return null !== (B=null === (z=this.Wd) || void 0 === z?void 0:z.Tj) && void 0 !== B?B:this.Rd.Yf(this.W).Ea;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Rt:{get:function(){var z,B,A;return null !== (B=null === (z=this.Wd) || void 0 === z?void 0:z.Rt) && void 0 !== B?B:null === (A=this.Yn) || void 0 === A?void 0:A.add(this.Rd);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{tJ:{get:function(){var z,B;B=null === (z=this.G.G.uq) || void 0 === z?void 0:z[0];return B && this.oc?d.N.Na(Math.max(0,B[0] - this.oc.Z - this.G.sf.Z)):d.N.Oa;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ls:{get:function(){var z,B;return null !== (B=null === (z=this.Wd) || void 0 === z?void 0:z.ls) && void 0 !== B?B:this.G.sf.add(this.Rd);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{fG:{get:function(){var z,B;return null !== (B=null === (z=this.Wd) || void 0 === z?void 0:z.fG) && void 0 !== B?B:this.G.yh.add(this.Rd);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{MZ:{get:function(){var z;return null === (z=this.Wd) || void 0 === z?void 0:z.MZ;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Rd:{get:function(){var z,B;return null !== (B=null === (z=this.Wd) || void 0 === z?void 0:z.Rd) && void 0 !== B?B:this.nr;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Wq:{get:function(){var z,B;return null !== (B=null === (z=this.Wd) || void 0 === z?void 0:z.Wq) && void 0 !== B?B:this.G.yh.Ga(this.Yn || this.G.sf);},enumerable:!1,configurable:!0}});y.prototype.oa=function(){return c.__awaiter(this,void 0,void 0,function(){var z,B,A;A=this;return c.__generator(this,function(C){switch(C.label){case 0:x.prototype.oa.call(this);if(this.bg)return [2];p.M && this.console.log(("AseBranch {").concat(this.G.id,"} awaiting viewable"));return [4,this.bM.oa(this)];case 1:C.zb();p.M && this.console.log(("AseBranch {").concat(this.G.id,"} viewable available, branch ").concat(this.bg?"cancelled":"active"));if(this.bg)return [2];z=this.Fe.map(function(D){var E;return null === (E=A.parent) || void 0 === E?void 0:E.RP(D.mediaType);});this.ylb(this.Yn);this.Fe.some(function(D){D.mediaType === g.u.Za && A.Plb(D);});return [4,this.R6a()];case 2:return (C.zb(),p.M && this.console.log(("AseBranch {").concat(this.G.id,"} have headers")),this.bg?[2]:(B=this.parent)?[4,B.VS]:[3,4]);case 3:C.zb();if(this.bg)return [2];this.gOb(z);C.label=4;case 4:return (this.normalize(),[2]);}});});};y.prototype.gOb=function(z){var B;B=this;this.sy.forEach(function(A){var C,D;D=null === (C=B.parent) || void 0 === C?void 0:C.RP(A.mediaType);(0,h.assert)(D,"Parent state should be defined");-1 === (null === z || void 0 === z?void 0:z.indexOf(D)) && (A.Wj.De.Wa(),C=new k.J5(function(){var E;return null === (E=B.parent) || void 0 === E?void 0:E.RP(A.mediaType);}),A.Wj.De=C);D=void 0;});z=void 0;};y.prototype.R6a=function(){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(){this.dba?this.Aba.resolve():(this.O.events.on("onHeaderFragments",this.MAa),this.events.emit("needsRequest"));return [2,this.Aba.promise];});});};y.prototype.Y0b=function(){var z;z=this;return function(){!z.bg && z.dba && (z.O.events.Jy("onHeaderFragments",z.MAa),z.Aba.resolve());};};y.prototype.normalize=function(){this.bg || (this.Wd=new w.IQa(this,this.K,this.console,this.O,this.mea,this.bq,this.Yn,this.sy.items,this.nr,this.gV,this.kA,this.events,this.Fx,this.Sp),this.Xsa(this.Wd.QE),this.bm.resolve(this.Wd));};y.prototype.update=function(z){var B;this.bq=z;(null === (B=this.Wd) || void 0 === B?0:B.update(z)) && this.Xsa(!0);};y.prototype.Xq=function(z,B){var A;void 0 === B && (B="unknown");x.prototype.Xq.call(this,z,B);null === (A=this.Wd) || void 0 === A?void 0:A.Xq(z);};y.prototype.ny=function(z){return c.__awaiter(this,void 0,void 0,function(){var B;return c.__generator(this,function(A){switch(A.label){case 0:return [4,this.bm];case 1:return (B=A.zb(),[2,null === B || void 0 === B?void 0:B.ny(z)]);}});});};y.prototype.WE=function(){var z;null === (z=this.Wd) || void 0 === z?void 0:z.WE();};y.prototype.reset=function(){var z;null === (z=this.Wd) || void 0 === z?void 0:z.reset();};y.prototype.ee=function(z){var B;void 0 === z && (z="other");x.prototype.ee.call(this,z);this.Sc=u.pT;this.Bq && this.O.events.Jy("onHeaderFragments",this.MAa);null === (B=this.Wd) || void 0 === B?void 0:B.ee(z);this.sy.forEach(function(A){A.cancel();A.Wj.De.Wa();});this.bM.Wa();this.lz && (this.lz.removeAllListeners(),p.M && this.console.trace("AseBranch destroying textRequestQueue:",this.lz),l.Bo.instance.dJ(this.lz),this.lz=void 0);this.events.emit("branchDestroyed",{type:"branchDestroyed",reason:z});this.events.removeAllListeners();};y.prototype.hQ=function(z){var B;return !(null === (B=this.Wd) || void 0 === B || !B.hQ(z));};y.prototype.fb=function(z){var B;return null === (B=this.Wd) || void 0 === B?void 0:B.fb(z);};y.prototype.eba=function(z){return this.Fe.some(function(B){return B.mediaType === z;});};y.prototype.Km=function(z){var B,A;void 0 === z && (z=t.QG);return null !== (A=null === (B=this.Wd) || void 0 === B?void 0:B.Km(z)) && void 0 !== A?A:[];};y.prototype.RP=function(z){var B,A;return (null === (B=this.fb(z)) || void 0 === B?void 0:B.Wj.De) || (null === (A=this.sy.get(z)) || void 0 === A?void 0:A.Wj.De);};y.prototype.KY=function(){var z,B,A,C;z=this;if(!this.dba)return this.sy.items;C=null !== (A=null === (B=this.Wd) || void 0 === B?void 0:B.KY()) && void 0 !== A?A:[];this.Ob && C.some(function(D){if(D.mediaType === g.u.J)return (D.W0a=z.Ob,p.M && z.console.trace("Branch setting auxiliaryTrack:",z.Ob),!0);});return C;};y.prototype.KJ=function(z){var B;return (null === (B=this.Wd) || void 0 === B?void 0:B.KJ(z)) || this.sy.get(z);};y.prototype.Lh=function(z,B){var A;return (null === (A=this.Wd) || void 0 === A?void 0:A.Lh(z,B)) || 0;};y.prototype.CB=function(){var z;return (null === (z=this.Wd) || void 0 === z?void 0:z.CB()) || ({});};y.prototype.zY=function(z){var B;return (null === (B=this.Wd) || void 0 === B?void 0:B.zY(z)) || this.Rt.Z;};y.prototype.NC=function(z,B,A){return c.__awaiter(this,void 0,void 0,function(){var C,D,E,G,F;F=this;return c.__generator(this,function(L){switch(L.label){case 0:p.M && this.console.trace("Branch.setTracks:",z);this.cO=z.sort(t.QG);this.ylb(B);if(!this.Nh)return [3,4];(0,h.assert)(this.Wd);C=this.sy.filter(function(O){return O.track.pe;}).items;D=this.Wd.cpb(C,B,A);E=D.EX;G=D.QE;E && this.Xsa(G);if(this.dba)return [3,4];this.Aba=new m.oD();this.bm=new m.oD();p.M && this.console.log(("AseBranch {").concat(this.G.id,"} setTracks waiting for headers"));return [4,this.R6a()];case 1:return (L.zb(),this.bg?[2]:this.parent?[4,this.parent.VS]:[3,3]);case 2:(L.zb(),L.label=3);case 3:(this.Wd.cpb(this.sy.items,B,A),p.M && this.console.log(("AseBranch {").concat(this.G.id,"} setTracks pipelines updated")),this.bm.resolve(this.Wd),this.events.emit("needsRequest"),L.label=4);case 4:return (z.some(function(O){if(O.mediaType === g.u.Za)return (F.Plb(O),!0);}),[2]);}});});};y.prototype.Plb=function(z){this.Ob=z;this.lz || (this.lz=l.Bo.instance.zt(g.u.Za,this.O.L,!0,!1,{ay:this.K.ay,ta:this.O.ta},this.K),this.lz.oa(),p.M && this.console.trace("AseBranch created textRequestQueue:",this.lz));};y.prototype.v$a=function(){return this.Ob;};y.prototype.ylb=function(z){var B;B=this;this.hDa=0;this.sy=new n.DM(this.Fe.filter(function(A){return A.mediaType !== g.u.Za;}).map(function(A){var C;C=B.sy.find(function(D){return D.track === A;});C || (++B.hDa,C=new v.UMa(B,A,function(){return (null === z || void 0 === z?void 0:z.add(B.Rd)) || d.N.Oa;},B.K,B.console,function(){var D;return null === (D=B.parent) || void 0 === D?void 0:D.RP(A.mediaType);},B.mea,function(){0 === --B.hDa && B.events.emit("requestQueuesCreated");}));return C;}));};y.prototype.rm=function(z){var B;return (null === (B=this.Wd) || void 0 === B?void 0:B.rm(z)) || [];};y.prototype.HE=function(z){var B;return !(null === (B=this.Wd) || void 0 === B || !B.HE(z));};y.prototype.CY=function(z){return this.Wd?this.Wd.CY(z):d.N.Oa;};y.prototype.Rga=function(z){var B;return !(null === (B=this.Wd) || void 0 === B || !B.Rga(z));};y.prototype.Xsa=function(z){z={type:"branchNormalized",segmentContentStart:this.G.sf,branchContentStart:this.oc,branchContentEnd:this.Jd,didNormalizeSegment:z};this.events.emit(z.type,z);p.M && this.console.trace("branchNormalized:",z);};y.prototype.toJSON=function(){var z;return (null === (z=this.Wd) || void 0 === z?void 0:z.toJSON()) || ({});};return y=c.__decorate([q.zJ],y);})(t.oia);b.SIa=a;(0,f.cf)(r.Pu,a);(0,f.cf)(r.Bz,a);},function(r,b,a){var c,l,g,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.UMa=void 0;c=a(447);l=a(118);g=a(6);m=a(192);d=a(271);f=a(2);r=(function(){function h(k,n,p,q,v,t,w,u){this.hb=k;this.track=n;this.ghc=p;this.config=q;this.console=v;this.events=w;this.G8b=u;this.Sm=0;this.kib=this.Dj=!1;this.Wj=this.FOb(t);}Object.defineProperties(h.prototype,{mediaType:{get:function(){return this.track.mediaType;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{S:{get:function(){return this.hb.G.id;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{ri:{get:function(){return this.hb.ri;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{kga:{get:function(){return this.ghc();},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{dX:{get:function(){return this.kga;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{TC:{get:function(){return this.kga;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{tJ:{get:function(){return this.hb.tJ;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{af:{get:function(){return this.Te || (this.Te=this.zt());},enumerable:!1,configurable:!0}});h.prototype.EF=function(){return this.track.rda;};h.prototype.Tt=function(){return this.track.pe;};h.prototype.Nh=function(){return !1;};h.prototype.Y8a=function(){return {ma:[],gea:0,Pj:0,Bp:0};};h.prototype.njc=function(){var k;(0,f.assert)(this.Tt());k=this.af;this.Te=void 0;return k;};h.prototype.xob=function(k){return (k=k.OG(this.af))?{Jj:k,reason:"success"}:{Jj:k,reason:"pipelineTryIssueHeaderRequest"};};h.prototype.cancel=function(){this.Te && (this.hb.O.hO(this.mediaType,this.Te),l.Bo.instance.dJ(this.Te),this.Te.removeAllListeners(),this.Te=void 0);};h.prototype.r9a=function(){};h.prototype.Qbb=function(){var k,n,p;p=this.config.mj;if(null === (k=this.af) || void 0 === k?0:k.track)p=null === (n=this.af) || void 0 === n?void 0:n.track.mj;return p;};h.prototype.FOb=function(k){var n,p;n=this.mediaType === g.u.T?this.config.M0a:this.track.ta?this.config.V3b:this.config.rFa;k=new m.J5(k);k.u1(this.track);p=this.config;return new d.Ola(n,this.config,k,this.mediaType === g.u.T?p.f$:p.g$);};h.prototype.zt=function(){var k,n;k=this;n=(0,c.zt)(this.mediaType,this.track.O,this.config,this.console,this.track.ta,function(p){return k.events.emit("transportReport",p);},function(p){return k.events.emit("mediaRequestComplete",p);},function(){});n.on("created",this.G8b);return n;};return h;})();b.UMa=r;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w,u;function c(x,y){return (x.mediaType === f.u.J?0:1) - (y.mediaType === f.u.J?0:1);}Object.defineProperties(b,{__esModule:{value:!0}});b.IQa=b.Uka=void 0;l=a(0);g=a(443);m=a(91);d=a(132);f=a(6);h=a(1134);k=a(8);n=a(21);p=a(2);q=a(20);v=l.__importDefault(a(3));r=a(78);t=a(35);w=a(270);u=a(466);b.Uka={QG:c};a=(function(x){function y(z,B,A,C,D,E,G,F,L,O,K,I,M,H){var J,N;N=x.call(this,C) || this;N.hb=z;N.K=B;N.O=C;N.mea=D;N.bq=E;N.nr=L;N.gV=O;N.kA=K;N.events=I;N.Fx=M;N.Sp=H;N.jf=new w.DM([]);N.tn=!1;N.rV=0;N.RU=N.LAa.bind(N);(0,p.assert)(C.P === N.G.P || isNaN(C.P) && isNaN(N.G.P));z=E.id && E.id.length?"{" + E.id + "}":"";N.console=(0,k.Oi)(v.default,A,z);N.Yn=null !== G && void 0 !== G?G:q.N.Na(N.G.ca);A=N.parent;N.Zna=null === A || void 0 === A?void 0:A.Vc;null === (J=N.kA) || void 0 === J?void 0:J.addListener(N.RU);F=N.O3a(F,N.Yn,!!A).QE;N.QE=F;return N;}l.__extends(y,x);Object.defineProperties(y.prototype,{bg:{get:function(){return this.tn;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{G:{get:function(){return this.bq;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{hw:{get:function(){return this.jf.every(function(z){return z.hw;});},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Dj:{get:function(){return this.jf.every(function(z){return z.Dj;});},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{et:{get:function(){return this.Km().reduce(function(z,B){return z + B.et;},0);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Nh:{get:function(){return this.Km().every(function(z){return z.Nh();});},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Fe:{get:function(){return this.hb.Fe;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{W:{get:function(){return this.Gx.W;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{bb:{get:function(){return this.Gx.bb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{sb:{get:function(){return this.Gx.sb;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Tj:{get:function(){return this.Rd.Yf(this.W).Ea;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Rt:{get:function(){return this.Yn.add(this.Rd);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{ls:{get:function(){return this.G.sf.add(this.Rd);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{fG:{get:function(){return this.G.yh.add(this.Rd);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{MZ:{get:function(){return this.jf.reduce(function(z,B){return z && B.Vc?q.N.max(z,B.Vc):B.Vc?B.Vc:z;},void 0);},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{mxa:{get:function(){return this.Rt.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{mg:{get:function(){return this.Rd.Z;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Wq:{get:function(){return this.Gx.Wq;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{Rd:{get:function(){return this.nr;},enumerable:!1,configurable:!0}});Object.defineProperties(y.prototype,{parent:{get:function(){return this.hb.parent;},enumerable:!1,configurable:!0}});y.prototype.cpb=function(z,B,A){var C;void 0 === B && (B=null !== (C=this.oc) && void 0 !== C?C:this.Yn);return this.O3a(z,B,A);};y.prototype.update=function(z){var B,A,C;C=z.yh.Dda(this.bq.yh);this.bq=z;return C && this.YD?(C=l.__read(this.YD.Ucc(z,z.yh),2),z=C[0],C=C[1],(0,p.assert)(z && C,"branch.update: lastFragment should be defined"),null === (B=this.fb(f.u.T)) || void 0 === B?void 0:B.truncate(z),null === (A=this.fb(f.u.J)) || void 0 === A?void 0:A.truncate(C),this.events.emit("branchEdited",{type:"branchEdited"}),!0):!1;};y.prototype.Xq=function(z){this.Rd.equal(z) || (this.nr=z,this.events.emit("branchEdited",{type:"branchEdited"}));};y.prototype.ny=function(z){return l.__awaiter(this,void 0,void 0,function(){var B;return l.__generator(this,function(A){switch(A.label){case 0:return [4,Promise.resolve()];case 1:return (A.zb(),(B=this.fb(z))?[2,B.ny()]:[2,d.AsyncIterator.M8a()]);}});});};y.prototype.WE=function(){this.Km().forEach(function(z){return z.WE();});};y.prototype.eW=function(){this.jf.forEach(function(z){return z.eW();});};y.prototype.reset=function(){this.jf.forEach(function(z){z.reset();});};y.prototype.ee=function(z){var B,A;this.tn || (this.tn=!0,null === (B=this.YD) || void 0 === B?void 0:B.ud(),this.YD=void 0,this.jf.forEach(function(C){C.ee("aborted" === z);}),null === (A=this.kA) || void 0 === A?void 0:A.removeListener(this.RU));};y.prototype.hQ=function(){return !0;};y.prototype.fb=function(z){return this.jf.get(z);};y.prototype.Km=function(z){void 0 === z && (z=c);return this.jf.items.slice().sort(z);};y.prototype.KY=function(){return this.jf.items;};y.prototype.KJ=function(z){return this.fb(z);};y.prototype.Lh=function(z,B){z=this.fb(z);if(!z)return 0;if(B)return z.ko;B=z.ut;if(void 0 === B)return 0;z=this.gV();return B - z;};y.prototype.CB=function(){var z,B,A,C,D,E,G;G=null === (z=this.fb(f.u.T)) || void 0 === z?void 0:z.Wo;z=null === (B=this.fb(f.u.J)) || void 0 === B?void 0:B.Wo;return {Ip:null !== (A=null === z || void 0 === z?void 0:z.Z) && void 0 !== A?A:0,$s:null !== (C=null === G || void 0 === G?void 0:G.Z) && void 0 !== C?C:0,Iu:null !== (D=null === z || void 0 === z?void 0:z.ga) && void 0 !== D?D:0,lE:null !== (E=null === G || void 0 === G?void 0:G.ga) && void 0 !== E?E:0};};y.prototype.zY=function(z){var B;return (z=this.fb(z))?null !== (B=z.ut) && void 0 !== B?B:0:0;};y.prototype.rm=function(z){z=this.fb(z);return (null === z || void 0 === z?void 0:z.rm()) || [];};y.prototype.LAa=function(z){z=z.newValue;(0,f.Eq)(z) && this.Vs();};y.prototype.HE=function(z){return this.jf.every(function(B){return B.HE(z);});};y.prototype.CY=function(z){var B,A;return null !== (A=null === (B=this.jf.get(z)) || void 0 === B?void 0:B.m4a) && void 0 !== A?A:q.N.Oa;};y.prototype.Rga=function(z){var B,A,C;B=this.Gx.c3b;if(!B)return !1;z=(0,n.Qc)(z,function(D){return B.Z <= D.oc.Z;});if(!z)return !1;A=z.oc;z=!1;C=l.__read((0,u.aDa)(this.K,this.jf,A),2);A=C[0];if(C=C[1])(this.fb(f.u.J).truncate(C),z=!0);A && (this.fb(f.u.T).truncate(A),z=!0);z && (A={type:"branchEdited"},this.events.emit(A.type,A));return z;};y.prototype.nl=function(z){this.tn || (z.a8 || (0,p.assert)(!z.Hc),this.Vs(),this.Dj && this.Wna());this.Pv(z);};y.prototype.JK=function(z){this.K.i$ && this.Vs(!0);this.wJ(z);};y.prototype.pC=function(z){this.K.i$ && this.Vs(!0);this.dF(z);};y.prototype.O3a=function(z,B,A){var C,D,E;C=this;D=new w.DM();E=!1;z.forEach(function(G){var F;F=C.jf.find(function(L){return L.track === G.track;});void 0 === F?(E=!0,F=new g.Tka(C,C.K,C.console,C.mea,C.hb,G.track,B,G.Wj,!0,void 0,G.njc(),C.Fx,C.Sp),C.j1b(F)):(C.jf.remove(F),F.eW());D.add(F);});this.jf.forEach(function(G){return G.ee();});this.jf=D;return E?this.normalize(B,A):{EX:!1,QE:!1};};y.prototype.j1b=function(z){var B;B=this;z.events.on("lastRequestIssued",function(){return B.hw && B.events.emit("lastRequestIssued",{type:"lastRequestIssued"});});};y.prototype.normalize=function(z,B){var A,C;null === (A=this.YD) || void 0 === A?void 0:A.ud();this.YD=new h.oSa({console:this.console,config:this.K,O:this.O,G:this.G,gm:this.jf,oc:z,Jd:null !== (C=this.G.yh) && void 0 !== C?C:void 0 !== this.G.Ta?q.N.Na(this.G.Ta):void 0,splice:B});this.Gx=this.jf.Gea;B=this.YD.normalize();z=B.EX;B=B.QE;z && this.Zna && (this.nr=this.Zna.Ga(this.oc));return {EX:z,QE:B};};y.prototype.IEa=function(z){var B;return (0,f.Eq)((null === (B=this.kA) || void 0 === B?void 0:B.value) || f.bd.wm) && (!z || this.rV + this.K.eda < v.default.time.fa());};y.prototype.Vs=function(z){void 0 === z && (z=!1);this.IEa(z) && (this.rV=v.default.time.fa(),z={type:"checkBufferingProgress"},this.events.emit(z.type,z));};y.prototype.Wna=function(){var z;z={type:"branchStreamingComplete"};this.events.emit(z.type,z);};y.prototype.toJSON=function(){var z,B;return {segment:this.G.id,branchOffset:this.mg,viewableId:this.bq.P,contentStartPts:null === (z=this.oc) || void 0 === z?void 0:z.Z,contentEndPts:null === (B=this.Jd) || void 0 === B?void 0:B.Z};};return y;})(m.Vw);b.IQa=a;(0,t.cf)(r.Pu,a);},function(r,b,a){var c,l,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.oSa=void 0;c=a(0);l=a(6);g=a(466);m=a(2);r=(function(){function d(f){var h,k,n,p,q,v,t;h=f.console;k=f.config;n=f.O;p=f.gm;q=f.G;v=f.oc;t=f.Jd;f=f.splice;this.pZ=this.JO=!1;this.console=h;this.config=k;this.gm=p;this.O=n;this.G=q;this.oc=v;this.Jd=t;this.splice=f;this.U0b();}d.prototype.oa=function(f){if(this.JO)throw Error("Cannot call init() after cleanup");if(this.pZ)throw Error("Cannot call init() twice");this.pZ=!0;this.zgb=f;this.O.events.addListener("onHeaderFragments",this.g2a);this.opa() && this.tAa();};d.prototype.normalize=function(){if(this.JO)throw Error("Cannot call normalize() after cleanup");if(this.pZ)throw Error("Cannot call init() / normalize() twice");this.pZ=!0;(0,m.assert)(this.opa());return this.tAa();};d.prototype.Ucc=function(f,h){(0,m.assert)(this.pZ,"expected to be called init() before renormalize");this.G=f;this.Jd=h;f=(0,g.aDa)(this.config,this.gm,this.Jd);this.Bda();return f;};d.prototype.ud=function(){this.JO || (this.JO=!0,this.zgb=void 0,this.O.events.removeListener("onHeaderFragments",this.g2a));};d.prototype.U0b=function(){var f;f=this;this.g2a=function(){f.JO || f.opa() && f.tAa();};};d.prototype.tAa=function(){var f,h,k;if(this.JO)return {EX:!1,QE:!1};h=this.f7b();k=!1;this.G && !this.G.bm && (k=this.Bda());null === (f=this.zgb) || void 0 === f?void 0:f.call(this,h,k);this.ud();return {EX:h,QE:k};};d.prototype.opa=function(){return this.gm.every(function(f){return f.track.pe;});};d.prototype.f7b=function(){var f,h;f=c.__read((0,g.Tfb)(this.config,this.gm,this.oc,this.Jd,this.splice),2);h=f[0];return f[1] || void 0 === this.gm.get(l.u.J) && h;};d.prototype.Bda=function(){var f,h,k;(0,m.assert)(this.G);(0,m.assert)(!this.G.bm);f=this.gm.Gea;h=(0,g.Vfb)(this.config,f,this.G.sf);if(void 0 === h || void 0 === f.Jd)return !1;f=f.Jd;k=this.config.HGa && "lazy" === this.G.Ge?(0,g.Ydb)(this.console,this.G,this.gm):[];this.G.normalize(h,f,k);return !0;};return d;})();b.oSa=r;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B;function c(A){return function(){return ("[").concat(A,":padding]");};}Object.defineProperties(b,{__esModule:{value:!0}});b.tRa=b.lD=void 0;l=a(0);g=a(75);m=a(38);d=a(427);f=a(6);h=a(20);r=a(78);k=a(1136);n=a(35);p=a(191);q=a(2);v=a(424);t=a(8);w=l.__importDefault(a(3));u=a(266);x=a(431);y=a(10);z=a(133);a=a(465);(function(A){A[A.xT=0]="CREATED";A[A.pT=1]="CANCELLED";})(B=b.lD || (b.lD={}));a=(function(A){function C(D,E,G,F,L,O){D=A.call(this,E,F,G,h.N.Oa,(0,t.Oi)(w.default,D,"AsePadding")) || this;D.O=L;D.config=O;D.aM=new p.XG(D.console);D.uE=new p.XG(D.console);D.bm=new t.oD();D.console.trace(("PaddingBranch {").concat(E.id,"}: created"));return D;}l.__extends(C,A);C.prototype.HNb=function(D){return l.__awaiter(this,void 0,void 0,function(){var E,G,F,L,O,K,I,M,H,J,N,P,W,V,S,U,fa,qa,za,Aa,Qa,T,Z,Q,la,sa;return l.__generator(this,function(R){switch(R.label){case 0:return [4,this.Fac()];case 1:E=R.zb();G=E.Gf;F=E.fe;L=E.bitrate;O=E.du;K=v.I5.instance();I=K.hZb(F,L,O);M=new h.N(I.duration);H=new h.N(I.da);J=H.W;N=I.profile;P=I.bitrate;W=I.channels;V={sbb:!0,mediaType:f.u.T,kf:N,profile:N,W:J,dh:[{ze:0,data:I.oa}],da:H,Gf:G,O:this.O,bitrate:P,Sa:("").concat(m.Op),track:{trackId:"1",mediaType:f.u.T,op:!1,da:H,O:this.O,channels:W,sampleRate:48E3,profile:N,Pc:[],du:O,toString:c(f.u.T)}};V.lp=V.track.lp=d.iM.prototype.lp.bind(V.track);V.track.Pc.push(V);S=(0,t.Oi)(w.default,this.console,"[0]");this.uE=new p.XG(S);U=new h.N(I.da);fa=this.config.Dm?G:h.N.Oa;qa=fa.add(M);y.M && S.trace(("PaddingBranch: audio target duration is ").concat(D.Fb()));za=h.N.Oa;Aa=this.config.Dm?-Math.ceil(G.kk(H)):0;T=fa;for(Z=!0;T.lessThan(D);){T=T.add(M);T.greaterThan(D) && (Qa=M.kk(U) - Math.floor(T.Ga(D).kk(U)));Q=T.mk(D);la=Z?0:Q?D.Z:void 0;sa=new k.Yha(I.oa,I.pa,V,J,fa.Yf(J).Ea,qa.Yf(J).Ea,U,S,this,this.g8a.bind(this,J,za),la,Z,Q);sa.sj({start:Aa,end:Qa});y.M && S.log(("PaddingBranch: enqueing request ").concat(sa,", edit: ").concat(JSON.stringify({start:Aa,end:Qa}),", ") + ("offset ").concat(za.Fb()));this.uE.enqueue(sa);za=za.add(M);Aa=void 0;Z=!1;}this.uE.mP();return [2];}});});};C.prototype.QOb=function(){var D,E,G;return l.__awaiter(this,void 0,void 0,function(){var F,L,O,K,I,M,H,J,N,P,W,V,S,U,fa,qa,za,Aa,Qa,T,Z,Q,la,sa,R,ha,wa,va,Ea;return l.__generator(this,function(Ya){switch(Ya.label){case 0:return [4,this.Hac()];case 1:F=Ya.zb();L=F.profile;O=F.Px;K=F.du;I=v.I5.instance();M=null === (G=null === (E=null === (D=this.parent) || void 0 === D?void 0:D.fb(f.u.J)) || void 0 === E?void 0:E.track.da) || void 0 === G?void 0:G.rjb();(0,q.assert)(M,"padding branches should always have a frameRate");H=I.iZb(this.O.Glc,L,M,O,K);J=new h.N(H.duration);N=H.profile;P=H.bitrate;W=H.width;V=H.height;S=H.zd;U=H.Ad;fa=H.da.W;qa=new h.N(H.da);za=new u.$M(fa,H.da.Ea);Aa={sbb:!0,mediaType:f.u.J,kf:N,profile:N,W:fa,dh:[{ze:0,data:H.oa}],Sa:("").concat(m.Op),da:qa,O:this.O,bitrate:P,track:{trackId:"1",mediaType:f.u.J,op:!1,da:qa,frameRate:za,Jca:za,km:new x.cma({w:W,Ur:V},{w:S,Ur:U}),O:this.O,profile:N,Pc:[],du:K,toString:c(f.u.J)}};Aa.lp=Aa.track.lp=d.iM.prototype.lp.bind(Aa.track);Qa=new g.Zu(this.console,Aa,H.oa,["moov"],!0,{ukb:!0,nBa:!0});T={da:qa};Z=Qa.parse(T);(0,q.assert)(Z.rw,"Failed to parse padding fragment header");(0,q.assert)(Z.dh,"Failed to get initialization segments from padding fragment header");Aa.dh=Z.dh;y.M && this.console.trace(("PaddingBranch {").concat(this.G.id,"}: video queue"),Aa);Aa.track.Pc.push(Aa);Q=(0,t.Oi)(w.default,this.console,"[1]");la=Math.ceil(this.Kza.kk(J));sa=J.Iy(la);R=this.G.sf;ha=R.add(sa).Yf(this.W);y.M && Q.trace(("PaddingBranch: ").concat(la," fragments of ").concat(J.Fb(),", ") + ("duration ").concat(sa.Fb(),", ") + ("c: ").concat(R.Fb(),"-").concat(ha.Fb(),", "));this.G.normalize(R,ha,[]);for(wa=h.N.Oa;wa.lessThan(sa);){va=wa.add(J);Ea=new k.Yha(H.oa,H.pa,Aa,fa,0,J.Yf(fa).Ea,qa,Q,this,this.g8a.bind(this,fa,wa),void 0,wa.equal(h.N.Oa),va.mk(sa));y.M && Q.trace(("PaddingBranch: appended ").concat(Ea));this.aM.enqueue(Ea);wa=va;}this.aM.mP();this.klc=sa;return [2,{duration:sa}];}});});};Object.defineProperties(C.prototype,{hw:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Dj:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{et:{get:function(){return 0;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Nh:{get:function(){return this.bm.tDa;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{VS:{get:function(){return this.bm.promise;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Bq:{get:function(){return !0;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{W:{get:function(){return this.G.sf.W;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{bb:{get:function(){return this.G.sf.Ea;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{sb:{get:function(){return this.G.yh.Ea;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Tj:{get:function(){return this.Rd.Yf(this.W).Ea;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Rt:{get:function(){return this.G.sf.add(this.Rd);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{tJ:{get:function(){(0,q.assert)(!this.G.G.uq,"exit zone not supported for padding segments");return h.N.Oa;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{nO:{get:function(){return this.uE && this.aM?this.uE.St && this.aM.St:!1;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{f0a:{get:function(){return !(!this.uE && !this.aM);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{ls:{get:function(){return this.G.sf.add(this.Rd);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{fG:{get:function(){return this.G.yh.add(this.Rd);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{MZ:{get:function(){return this.Vc;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Rd:{get:function(){return this.nr;},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Kza:{get:function(){var D;return null !== (D=this.EYa) && void 0 !== D?D:this.G.yh.Ga(this.G.sf);},enumerable:!1,configurable:!0}});Object.defineProperties(C.prototype,{Wq:{get:function(){return h.N.Oa;},enumerable:!1,configurable:!0}});C.prototype.oa=function(){return l.__awaiter(this,void 0,void 0,function(){var D;return l.__generator(this,function(E){switch(E.label){case 0:(A.prototype.oa.call(this),E.label=1);case 1:return (E.Es.push([1,5,,6]),this.console.trace(("PaddingBranch {").concat(this.G.id,"}: init")),this.parent?[4,this.parent.VS]:[3,3]);case 2:(E.zb(),E.label=3);case 3:return (this.EYa=this.G.yh.Ga(this.G.sf),[4,this.X3a([f.u.T,f.u.J])]);case 4:return (E.zb(),this.bm.resolve(),[3,6]);case 5:D=E.zb();if(!this.bg)throw D;return [3,6];case 6:return [2];}});});};C.prototype.update=function(D){this.bq=D;};C.prototype.ny=function(D){return l.__awaiter(this,void 0,void 0,function(){return l.__generator(this,function(){this.console.trace(("PaddingBranch {").concat(this.G.id,"}: getRequestIterator(").concat(D,")"));return D === f.u.T?[2,this.uE.Hua()]:[2,this.aM.Hua()];});});};C.prototype.WE=function(){};C.prototype.reset=function(){};C.prototype.ee=function(D){void 0 === D && (D="other");A.prototype.ee.call(this,D);this.Sc=B.pT;this.EYa=void 0;this.events.emit("branchDestroyed",{type:"branchDestroyed",reason:D});this.events.removeAllListeners();};C.prototype.hQ=function(){return !0;};C.prototype.fb=function(){};C.prototype.eba=function(D){return [f.u.T,f.u.J].some(function(E){return E === D;});};C.prototype.Km=function(){return [];};C.prototype.RP=function(D){var E;return null === (E=this.parent) || void 0 === E?void 0:E.RP(D);};C.prototype.KY=function(){return [];};C.prototype.KJ=function(){};C.prototype.Lh=function(){return this.Kza.Z;};C.prototype.CB=function(){return {};};C.prototype.zY=function(){return this.G.yh.Z;};C.prototype.NC=function(D,E,G,F){return l.__awaiter(this,void 0,void 0,function(){return l.__generator(this,function(L){switch(L.label){case 0:return [4,this.bm.promise];case 1:return (L.zb(),this.parent?[4,this.parent.VS]:[3,3]);case 2:(L.zb(),L.label=3);case 3:return [4,this.X3a(F)];case 4:return (L.zb(),[2]);}});});};C.prototype.X3a=function(D){return l.__awaiter(this,void 0,void 0,function(){var E,G;return l.__generator(this,function(F){switch(F.label){case 0:E=h.N.Oa;if(-1 === D.indexOf(f.u.J))return [3,2];this.aM.clear();return [4,this.QOb()];case 1:(G=F.zb(),E=G.duration,F.label=2);case 2:if(-1 === D.indexOf(f.u.T))return [3,4];this.uE.clear();this.console.trace(("AsePaddingBranch {").concat(this.G.id,"}: video duration ").concat(E.Fb()));return [4,this.HNb(this.klc)];case 3:(F.zb(),F.label=4);case 4:return [2];}});});};C.prototype.v$a=function(){};C.prototype.rm=function(){return [];};C.prototype.HE=function(D){var E,G;return !!((null === (E=this.Vc) || void 0 === E?0:E.greaterThan(D)) && (null === (G=this.Ld) || void 0 === G?0:G.lessThan(D)));};C.prototype.CY=function(){return this.Kza;};C.prototype.Rga=function(){return !1;};C.prototype.toJSON=function(){var D,E;return {segment:this.G.id,viewableId:this.bq.P,contentStartPts:null === (D=this.oc) || void 0 === D?void 0:D.Z,contentEndPts:null === (E=this.Jd) || void 0 === E?void 0:E.Z};};C.prototype.Hac=function(){var D,E,G,F,L,O,K;return l.__awaiter(this,void 0,void 0,function(){var I,M,H,J;return l.__generator(this,function(N){switch(N.label){case 0:return (I=null === (E=null === (D=this.parent) || void 0 === D?void 0:D.fb(f.u.J)) || void 0 === E?void 0:E.De.kl)?[3,2]:[4,null === (F=null === (G=this.parent) || void 0 === G?void 0:G.fb(f.u.J)) || void 0 === F?void 0:F.De.kqb];case 1:N.zb();if(this.bg)return [2,Promise.reject()];N.label=2;case 2:return (I=null === (O=null === (L=this.parent) || void 0 === L?void 0:L.fb(f.u.J)) || void 0 === O?void 0:O.De.kl,(0,q.assert)(I,"Parent of padding branch must have last selected video stream"),M=null === (K=I.track.km) || void 0 === K?void 0:K.Px,H=I.track.du,J=I.kf,[2,{profile:J,Px:M,du:H}]);}});});};C.prototype.Fac=function(){var D,E,G,F,L,O;return l.__awaiter(this,void 0,void 0,function(){var K,I,M,H,J;return l.__generator(this,function(N){switch(N.label){case 0:return (K=null === (E=null === (D=this.parent) || void 0 === D?void 0:D.fb(f.u.T)) || void 0 === E?void 0:E.De.kl)?[3,2]:[4,null === (F=null === (G=this.parent) || void 0 === G?void 0:G.fb(f.u.T)) || void 0 === F?void 0:F.De.kqb];case 1:N.zb();if(this.bg)return [2,Promise.reject()];N.label=2;case 2:return (K=null === (O=null === (L=this.parent) || void 0 === L?void 0:L.fb(f.u.T)) || void 0 === O?void 0:O.De.kl,(0,q.assert)(K,"Parent of padding branch must have last selected audio stream"),I=K.Gf || h.N.Oa,M=-1 !== K.profile.indexOf("heaac")?"heaac":"ddp",H=K.bitrate,J=K.track.du,[2,{Gf:I,fe:M,bitrate:H,du:J}]);}});});};C.prototype.g8a=function(D,E){return this.nr.add(E).Yf(D).Ea;};return C=l.__decorate([z.zJ],C);})(a.oia);b.tRa=a;(0,n.cf)(r.Pu,a);},function(r,b,a){var c,l,g,m,d,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.Yha=void 0;c=a(0);l=a(38);g=a(8);r=a(35);m=a(10);d=a(188);f=a(78);h=a(106);a=(function(k){function n(p,q,v,t,w,u,x,y,z,B,A,C,D){void 0 === C && (C=!0);void 0 === D && (D=!0);p=k.call(this,v,{index:0,offset:0,ga:0,bb:w,sb:u,W:t,Pr:C,Nm:D,kz:A},B) || this;p.response=q;p.chb=v;p.H=y;p.Xa={hb:z,console:y,k3b:void 0,mediaType:v.mediaType,V0:function(){}};m.M && p.H.log(("AsePaddingRequest [").concat(p.mediaType,"], constructed ").concat(p.toString()) + (", ").concat(p.response.byteLength," bytes") + (", ").concat(p.iy," samples"));return p;}c.__extends(n,k);Object.defineProperties(n.prototype,{profile:{get:function(){return this.chb.profile;},enumerable:!1,configurable:!0}});n.prototype.oa=function(){};n.prototype.Mm=function(){return !this.de;};n.prototype.OA=function(p,q,v,t,w){m.M && this.H.log(("AsePaddingRequest [").concat(this.mediaType,"], appending ").concat(this.toString()) + (", ").concat(w || this.response.byteLength," bytes") + (", ").concat(w?"":"not ","edited"));this.de=q.appendBuffer(w?(0,g.iB)(w):this.response,t || (0,g.zy)(this));return {status:this.de?h.Gh.Js:h.Gh.Bg};};n.prototype.abort=function(){return !1;};n.prototype.ud=function(){};n.prototype.FR=function(){this.response=void 0;};n.prototype.toJSON=function(){return {viewableId:l.Op,startPts:this.ca,endPts:this.ca + this.duration,"contentStartTicks:":this.bb,contentEndTicks:this.sb,contentStartPts:this.Td,contentEndPts:this.Nc};};Object.defineProperties(n.prototype,{Sa:{get:function(){return this.chb.Sa;},enumerable:!1,configurable:!0}});n.prototype.toString=function(){return ("[padding c:").concat(this.oc.Z,"-").concat(this.Jd.Z,",") + ("p:").concat(this.Ld.Z,"-").concat(this.Vc.Z,",") + ("d:").concat(this.Jd.Z - this.oc.Z,"]");};return n;})(a(77).Gl);b.Yha=a;(0,r.cf)(d.WG,a,!1);(0,r.cf)(f.Pu,a);(0,r.cf)(f.Bz,a);},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.qVa=void 0;c=a(0);r=(function(){function l(g,m){this.H=g;this.Xg=m;this.vFa=!1;}l.prototype.cdc=function(g){this.fg(g.message,void 0,c.__assign(c.__assign({},g.y6a),{err:g.toString()}));};l.prototype.fg=function(g,m,d){void 0 === m && (m=void 0);void 0 === d && (d={});this.vFa || (d.temporaryFailure || (this.vFa=!0),g=c.__assign({type:"error",error:null !== m && void 0 !== m?m:"NFErr_MC_StreamingFailure",errormsg:g,temporaryFailure:!1},d),this.H.error("notifyStreamingError:",g),this.Xg.emit("error",g));};l.prototype.rp=function(){return this.vFa;};return l;})();b.qVa=r;},function(r,b,a){var c,l,g,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.Vka=void 0;c=a(0);l=a(2);g=a(8);m=a(10);d=a(278);r=(function(f){function h(k){var n;n=f.call(this) || this;n.Ja=k;n.aoa=new Map();n.eb=[];n.UU=new d.H5({pk:!1,currentTime:function(){return n.nf?n.xe:g.N.Qt;},speed:1});return n;}c.__extends(h,f);Object.defineProperties(h.prototype,{za:{get:function(){return this.UU;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{$e:{get:function(){throw Error("Can't get scheduler on placeholder player");},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Gp:{get:function(){return this.aW;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{jG:{get:function(){return this.aoa;},enumerable:!1,configurable:!0}});h.prototype.x8=function(k,n){var p;p=!this.Ja;p && (this.Ja=k,this.Ima=(null === n || void 0 === n?0:n.nf)?n.xe:void 0,this.aW=null === n || void 0 === n?void 0:n.Gp,this.aoa=n?n.jG:new Map(),null === n || void 0 === n?void 0:n.fR());return p;};h.prototype.fR=function(){this.aoa=this.aW=void 0;};h.prototype.EE=function(){this.eb=[];this.Ima=void 0;};h.prototype.zsa=function(k){m.M && (0,l.assert)(this.Ja === k);this.Ja=void 0;this.EE();};h.prototype.hta=function(){for(var k,n=[],p=0;p < arguments.length;p++){n[p]=arguments[p];}(k=this.eb).push.apply(k,c.__spreadArray([],c.__read(n),!1));};h.prototype.FJ=function(){return this.Ima?this.Ima:f.prototype.FJ.call(this);};h.prototype.Yr=function(){return !1;};h.prototype.AG=function(){};h.prototype.EL=function(){};h.prototype.Kea=function(){this.eb=this.eb.filter(function(k){return k.nO?(k.ee("pruned"),!1):!0;});};h.prototype.Wa=function(){f.prototype.Wa.call(this);this.jG.forEach(function(k){return k.close();});};return h;})(a(468).ila);b.Vka=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.D1a=void 0;c=a(281);l=a(1141);b.D1a=function(){return function(g){var f,h,k,n;function m(p){n[p]=function(q){return h({rules:[{tl:p,config:q}]},!0);};}function d(p){f[p]=function(q){return h({rules:[{tl:p,config:q}]});};}f={};h=(0,c.map)(g.Wdb);for(k in g.QR){d(k);}f.Jda=h({rules:[],rpa:!0});f.so=h({rules:[],so:!0});n={};for(k in g.QR){m(k);}n.Jda=h({rules:[],rpa:!0},!0);n.so=h({rules:[],so:!0},!0);f.return=n;return {qsa:f,ADa:g,vCa:function(p,q,v,t){return (0,l.U3a)(p,q,v,g.QR,g.Wdb,t);}};};};},function(r,b,a){(function(c,l){var g;(function(m){(function(d){var h,k;function f(n,p){return function(q,v){"function" !== typeof n[q] && Object.defineProperty(n,q,{configurable:!0,writable:!0,value:v});p && p(q,v);};}h="object" === typeof l?l:"object" === typeof self?self:"object" === typeof this?this:Function("return this;")();k=f(m);"undefined" === typeof h.Reflect?h.Reflect=m:k=f(h.Reflect,k);d(k);})(function(d){var L,O,K,I,M,H,J,N,P,W,V;function f(S,U,fa){var qa;qa=V.get(S);if(w(qa)){if(!fa)return;qa=new P();V.set(S,qa);}S=qa.get(U);if(w(S)){if(!fa)return;S=new P();qa.set(U,S);}return S;}function h(S,U,fa){if(k(S,U,fa))return !0;U=C(U);return null === U?!1:h(S,U,fa);}function k(S,U,fa){U=f(U,fa,!1);return w(U)?!1:!!U.has(S);}function n(S,U,fa){if(k(S,U,fa))return p(S,U,fa);U=C(U);if(null !== U)return n(S,U,fa);}function p(S,U,fa){U=f(U,fa,!1);if(!w(U))return U.get(S);}function q(S,U){var fa,Aa,Qa;fa=v(S,U);S=C(S);if(null === S)return fa;U=q(S,U);if(0 >= U.length)return fa;if(0 >= fa.length)return U;S=new W();for(var qa=[],za=0;za < fa.length;za++){Aa=fa[za];Qa=S.has(Aa);Qa || (S.add(Aa),qa.push(Aa));}for(fa=0;fa < U.length;fa++){Aa=U[fa];(Qa=S.has(Aa)) || (S.add(Aa),qa.push(Aa));}return qa;}function v(S,U){var fa,qa;fa=[];S=f(S,U,!1);if(w(S))return fa;S=S.keys();U=A(S,I);if(!B(U))throw new TypeError();S=U.call(S);if(!u(S))throw new TypeError();for(U=0;;){qa=S.next();qa=qa.done?!1:qa;if(!qa)return (fa.length=U,fa);qa=qa.value;try{fa[U]=qa;}catch(Aa){var za;try{za=S["return"];za && za.call(S);}finally{throw Aa;}}U++;}}function t(S){if(null === S)return 1;switch(typeof S){case "undefined":return 0;case "boolean":return 2;case "string":return 3;case "symbol":return 4;case "number":return 5;case "object":return null === S?1:6;default:return 6;}}function w(S){return void 0 === S;}function u(S){return "object" === typeof S?null !== S:"function" === typeof S;}function x(S,U){var fa;switch(t(S)){case 0:return S;case 1:return S;case 2:return S;case 3:return S;case 4:return S;case 5:return S;}U=3 === U?"string":5 === U?"number":"default";fa=A(S,K);if(void 0 !== fa){S=fa.call(S,U);if(u(S))throw new TypeError();return S;}a:{if("string" === ("default" === U?"number":U)){U=S.toString;if(B(U) && (U=U.call(S),!u(U)))break a;U=S.valueOf;}else {U=S.valueOf;if(B(U) && (U=U.call(S),!u(U)))break a;U=S.toString;}if(!B(U) || (U=U.call(S),u(U)))throw new TypeError();}return U;}function y(S){S=x(S,3);return "symbol" === typeof S?S:"" + S;}function z(S){return Array.isArray?Array.isArray(S):S instanceof Object?S instanceof Array:"[object Array]" === Object.prototype.toString.call(S);}function B(S){return "function" === typeof S;}function A(S,U){S=S[U];if(void 0 !== S && null !== S){if(!B(S))throw new TypeError();return S;}}function C(S){var U,fa;U=Object.getPrototypeOf(S);if("function" !== typeof S || S === N || U !== N)return U;fa=S.prototype;fa=fa && Object.getPrototypeOf(fa);if(null == fa || fa === Object.prototype)return U;fa=fa.constructor;return "function" !== typeof fa || fa === S?U:fa;}function D(){var qa,za,Aa;function S(Qa){return Qa;}function U(Qa,T){return T;}function fa(Qa,T){return [Qa,T];}qa={};za=[];Aa=(function(){function Qa(T,Z,Q){this.Je=0;this.Kf=T;this.jg=Z;this.kEb=Q;}Qa.prototype["@@iterator"]=function(){return this;};Qa.prototype[I]=function(){return this;};Qa.prototype.next=function(){var T,Z;T=this.Je;if(0 <= T && T < this.Kf.length){Z=this.kEb(this.Kf[T],this.jg[T]);T + 1 >= this.Kf.length?(this.Je=-1,this.jg=this.Kf=za):this.Je++;return {value:Z,done:!1};}return {value:void 0,done:!0};};Qa.prototype.throw=function(T){0 <= this.Je && (this.Je=-1,this.jg=this.Kf=za);throw T;};Qa.prototype.return=function(T){0 <= this.Je && (this.Je=-1,this.jg=this.Kf=za);return {value:T,done:!0};};return Qa;})();return (function(){function Qa(){this.Kf=[];this.jg=[];this.tx=qa;this.cv=-2;}Object.defineProperty(Qa.prototype,"size",{get:function(){return this.Kf.length;},enumerable:!0,configurable:!0});Qa.prototype.has=function(T){return 0 <= this.oA(T,!1);};Qa.prototype.get=function(T){T=this.oA(T,!1);return 0 <= T?this.jg[T]:void 0;};Qa.prototype.set=function(T,Z){T=this.oA(T,!0);this.jg[T]=Z;return this;};Qa.prototype.delete=function(T){var Z,Q;Z=this.oA(T,!1);if(0 <= Z){Q=this.Kf.length;for(Z+=1;Z < Q;Z++){this.Kf[Z - 1]=this.Kf[Z];this.jg[Z - 1]=this.jg[Z];}this.Kf.length--;this.jg.length--;T === this.tx && (this.tx=qa,this.cv=-2);return !0;}return !1;};Qa.prototype.clear=function(){this.Kf.length=0;this.jg.length=0;this.tx=qa;this.cv=-2;};Qa.prototype.keys=function(){return new Aa(this.Kf,this.jg,S);};Qa.prototype.values=function(){return new Aa(this.Kf,this.jg,U);};Qa.prototype.entries=function(){return new Aa(this.Kf,this.jg,fa);};Qa.prototype["@@iterator"]=function(){return this.entries();};Qa.prototype[I]=function(){return this.entries();};Qa.prototype.oA=function(T,Z){this.tx !== T && (this.cv=this.Kf.indexOf(this.tx=T));0 > this.cv && Z && (this.cv=this.Kf.length,this.Kf.push(T),this.jg.push(void 0));return this.cv;};return Qa;})();}function E(){return (function(){function S(){this.Fg=new P();}Object.defineProperty(S.prototype,"size",{get:function(){return this.Fg.size;},enumerable:!0,configurable:!0});S.prototype.has=function(U){return this.Fg.has(U);};S.prototype.add=function(U){return (this.Fg.set(U,U),this);};S.prototype.delete=function(U){return this.Fg.delete(U);};S.prototype.clear=function(){this.Fg.clear();};S.prototype.keys=function(){return this.Fg.keys();};S.prototype.values=function(){return this.Fg.values();};S.prototype.entries=function(){return this.Fg.entries();};S.prototype["@@iterator"]=function(){return this.keys();};S.prototype[I]=function(){return this.keys();};return S;})();}function G(){var qa,za;function S(){var Aa,Z;do {Aa="function" === typeof Uint8Array?"undefined" !== typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined" !== typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):fa(new Uint8Array(16),16):fa(Array(16),16);Aa[6]=Aa[6] & 79 | 64;Aa[8]=Aa[8] & 191 | 128;for(var Qa="",T=0;16 > T;++T){Z=Aa[T];if(4 === T || 6 === T || 8 === T)Qa+="-";16 > Z && (Qa+="0");Qa+=Z.toString(16).toLowerCase();}Aa="@@WeakMap@@" + Qa;}while(J.has(qa,Aa));qa[Aa]=!0;return Aa;}function U(Aa,Qa){if(!L.call(Aa,za)){if(!Qa)return;Object.defineProperty(Aa,za,{value:J.create()});}return Aa[za];}function fa(Aa,Qa){for(var T=0;T < Qa;++T){Aa[T]=255 * Math.random() | 0;}return Aa;}qa=J.create();za=S();return (function(){function Aa(){this.nv=S();}Aa.prototype.has=function(Qa){Qa=U(Qa,!1);return void 0 !== Qa?J.has(Qa,this.nv):!1;};Aa.prototype.get=function(Qa){Qa=U(Qa,!1);return void 0 !== Qa?J.get(Qa,this.nv):void 0;};Aa.prototype.set=function(Qa,T){U(Qa,!0)[this.nv]=T;return this;};Aa.prototype.delete=function(Qa){Qa=U(Qa,!1);return void 0 !== Qa?delete Qa[this.nv]:!1;};Aa.prototype.clear=function(){this.nv=S();};return Aa;})();}function F(S){S.qzb=void 0;delete S.qzb;return S;}L=Object.prototype.hasOwnProperty;O="function" === typeof Symbol;K=O && "undefined" !== typeof Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive";I=O && "undefined" !== typeof Symbol.iterator?Symbol.iterator:"@@iterator";O="function" === typeof Object.create;M=({__proto__:[]}) instanceof Array;H=!O && !M;J={create:O?function(){return F(Object.create(null));}:M?function(){return F({__proto__:null});}:function(){return F({});},has:H?function(S,U){return L.call(S,U);}:function(S,U){return (U in S);},get:H?function(S,U){return L.call(S,U)?S[U]:void 0;}:function(S,U){return S[U];}};N=Object.getPrototypeOf(Function);P=(O="object" === typeof c && c.ZX && "true" === c.ZX.REFLECT_METADATA_USE_MAP_POLYFILL) || "function" !== typeof Map || "function" !== typeof Map.prototype.entries?D():Map;W=O || "function" !== typeof Set || "function" !== typeof Set.prototype.entries?E():Set;V=new (O || "function" !== typeof WeakMap?G():WeakMap)();d("decorate",function(S,U,fa,qa){var Aa;if(w(fa)){if(!z(S))throw new TypeError();if("function" !== typeof U)throw new TypeError();for(fa=S.length - 1;0 <= fa;--fa){if((qa=(0,S[fa])(U),!w(qa) && null !== qa)){if("function" !== typeof qa)throw new TypeError();U=qa;}}return U;}if(!z(S))throw new TypeError();if(!u(U))throw new TypeError();if(!u(qa) && !w(qa) && null !== qa)throw new TypeError();null === qa && (qa=void 0);fa=y(fa);for(var za=S.length - 1;0 <= za;--za){Aa=(0,S[za])(U,fa,qa);if(!w(Aa) && null !== Aa){if(!u(Aa))throw new TypeError();qa=Aa;}}return qa;});d("metadata",function(S,U){return function(fa,qa){var za;if(!u(fa))throw new TypeError();if(za=!w(qa)){a:switch(t(qa)){case 3:za=!0;break a;case 4:za=!0;break a;default:za=!1;}za=!za;}if(za)throw new TypeError();f(fa,qa,!0).set(S,U);};});d("defineMetadata",function(S,U,fa,qa){if(!u(fa))throw new TypeError();w(qa) || (qa=y(qa));f(fa,qa,!0).set(S,U);});d("hasMetadata",function(S,U,fa){if(!u(U))throw new TypeError();w(fa) || (fa=y(fa));return h(S,U,fa);});d("hasOwnMetadata",function(S,U,fa){if(!u(U))throw new TypeError();w(fa) || (fa=y(fa));return k(S,U,fa);});d("getMetadata",function(S,U,fa){if(!u(U))throw new TypeError();w(fa) || (fa=y(fa));return n(S,U,fa);});d("getOwnMetadata",function(S,U,fa){if(!u(U))throw new TypeError();w(fa) || (fa=y(fa));return p(S,U,fa);});d("getMetadataKeys",function(S,U){if(!u(S))throw new TypeError();w(U) || (U=y(U));return q(S,U);});d("getOwnMetadataKeys",function(S,U){if(!u(S))throw new TypeError();w(U) || (U=y(U));return v(S,U);});d("deleteMetadata",function(S,U,fa){var qa;if(!u(U))throw new TypeError();w(fa) || (fa=y(fa));qa=f(U,fa,!1);if(w(qa) || !qa.delete(S))return !1;if(0 < qa.size)return !0;S=V.get(U);S.delete(fa);if(0 < S.size)return !0;V.delete(U);return !0;});});})(g || (g={}));}).call(this,a(131),a(211));},function(r,b,a){var d,f,h,k,n;function c(p,q){if(p)return Object.getOwnPropertyDescriptor(p,q)?p:c(p.prototype,q) || c(p.__proto__,q);}function l(p,q){if(p=c(p,q))return Object.getOwnPropertyDescriptor(p,q);}function g(p,q){var w;for(var v=Object.getPrototypeOf(p),t=[];v !== Object.prototype;){t=t.concat(Object.getOwnPropertyNames(v));v=Object.getPrototypeOf(v);}p=Object.keys(p).concat(t);q.__proxyCtor || (q.__proxyCtor=void 0);w=Object.getPrototypeOf(q);p.forEach(function(u){Object.getOwnPropertyDescriptor(q,u) || Object.getOwnPropertyDescriptor(w,u) || q[u] || Object.defineProperty(q,u,{get:function(){},configurable:!0,enumerable:!0});});}function m(p,q,v,t){var x;for(var w=[],u=4;u < arguments.length;u++){w[u - 4]=arguments[u];}x=t();if((null === x || void 0 === x?0:x.Tza) || (null === x || void 0 === x?0:x.Gb))w=w.map(function(y,z){var B;z=(0,n.Oeb)(x.Tza,null === (B=x.Gb) || void 0 === B?void 0:B[z]);return (0,k.sfa)(q,y,v,z);});w=p.call.apply(p,d.__spreadArray([void 0],d.__read(w),!1));return (null === x || void 0 === x?0:x.return)?(0,k.sfa)(q,w,v,x.return,h.ex.tGa):w;}Object.defineProperties(b,{__esModule:{value:!0}});b.wVb=b.ZPb=b.U3a=void 0;d=a(0);f=a(281);h=a(197);k=a(469);n=a(1142);b.U3a=function(p,q,v,t,w,u){var x,y;void 0 === u && (u=[]);x={};y=(0,f.u9a)(w);g(q,p);u.forEach(function(z){return g(z,p);});return new Proxy(p,{get:function(z,B){var A,C,D,E;if("__proxyCtor" === B)return null !== (A=p[B]) && void 0 !== A?A:p.constructor;if((B in q)){E=q[B];return "function" === typeof E?E.bind(q):E;}A=x[B];if(!A && !l(x,B)){A=null !== (D=null === (C=null === z || void 0 === z?void 0:z.constructor) || void 0 === C?void 0:C.prototype) && void 0 !== D?D:z;C=null !== (E=c(A,B)) && void 0 !== E?E:c(A.__proxyCtor,B);E=l(A,B);if(null === E || void 0 === E?0:E.get)return (E=E.get,C=y.bind(null,C,B),z=m.bind(z,E.bind(z),v,t,C),Object.defineProperty(x,B,{get:z,enumerable:!0,configurable:!0}),z());E=z[B];return "function" === typeof E?(C=y.bind(null,z,B),z=m.bind(z,E.bind(z),v,t,C),x[B]=z):E;}return A;},set:function(z,B,A){if((B in q))return (q[B]=A,!0);z[B]=A;delete x[B];return !0;}});};b.ZPb=g;b.wVb=m;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.Oeb=void 0;c=a(0);l=a(21);b.Oeb=function(g,m){var d;if(g || m){d=(null === g || void 0 === g?0:g.rules) && (null === m || void 0 === m?0:m.rules)?(0,l.o8)(g.rules,m.rules):(null === g || void 0 === g?void 0:g.rules) || (null === m || void 0 === m?void 0:m.rules);return c.__assign(c.__assign(c.__assign({},g),m),{rules:d});}};},function(r,b,a){var c,l,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.XHa=b.Xha=b.YHa=void 0;c=a(8);l=a(410);g=a(471);r=(function(){function d(f,h){var k,n;this.KD=f;this.Cm=h;this.ZXa=this.lna=!1;this.eN=null !== (n=null === (k=f.kg) || void 0 === k?void 0:k.map(function(p){return new g.WHa(p);})) && void 0 !== n?n:[];}Object.defineProperties(d.prototype,{cs:{get:function(){return this.KD.cs;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{PG:{get:function(){return this.KD.PG;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{D8:{get:function(){return this.KD.D8;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Ooa:{get:function(){return this.KD.Ooa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{kg:{get:function(){return this.eN;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{empty:{get:function(){return !this.eN.length;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.kg.reduce(function(f,h){return f.add(h.endTime.Ga(h.startTime));},c.N.Oa);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Y1b:{get:function(){return this.eN.every(function(f){return f.Nt;});},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Nt:{get:function(){return this.eN.length?this.eN.every(function(f){return f.Nt;}):this.lna;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{PJb:{get:function(){return !this.Mh && !!this.KD.n_a;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{Mh:{get:function(){return !!this.KD.kg;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{xwa:{get:function(){return this.ZXa;},set:function(f){f && (this.ZXa=!0);},enumerable:!1,configurable:!0}});d.prototype.Ffc=function(){this.kg.length || (this.lna=!0);};d.prototype.$Pb=function(){this.KD.n_a && (this.lna=this.Nt,this.KD.kg=void 0,this.eN=[]);};return d;})();b.YHa=r;m=(function(){function d(f,h){this.kBa=f;this.BAb=h;}Object.defineProperties(d.prototype,{duration:{get:function(){return c.N.Na(this.BAb);},enumerable:!1,configurable:!0}});Object.defineProperties(d,{BAa:{get:function(){return this.XCb || (this.XCb=new d(l.hM.start,0));},enumerable:!1,configurable:!0}});Object.defineProperties(d,{A7b:{get:function(){return this.WCb || (this.WCb=new d(l.hM.end,0));},enumerable:!1,configurable:!0}});return d;})();b.Xha=m;r=(function(){function d(f,h,k){this.kW=f;this.KZa=h || m.BAa;this.EAb=k || m.BAa;}Object.defineProperties(d.prototype,{jga:{get:function(){return this.KZa;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{WX:{get:function(){return this.EAb;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{C_b:{get:function(){return this.KZa !== m.BAa || this.WX !== m.A7b;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{duration:{get:function(){return this.kW.duration.add(this.jga.duration).add(this.WX.duration);},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{dea:{get:function(){return this.jga.duration.add(this.WX.duration);},enumerable:!1,configurable:!0}});return d;})();b.XHa=r;},function(r,b,a){var l;function c(g,m){var d,f;d=l.__assign({},g);f=l.__read(null !== m && void 0 !== m?m:[],1)[0];f && g[f] && (g=g[f],"object" === typeof g?(m=m.concat(),m.shift(),d[f]=c(g,m)):d[f]=g);return d;}Object.defineProperties(b,{__esModule:{value:!0}});b.vlb=b.g9=b.raa=b.xbb=b.Bbb=b.$bb=b.$$a=b.Ubb=b.nf=void 0;l=a(0);b.nf=function(g){return !(null === g || void 0 === g || !g.position);};b.Ubb=function(g){return !(null === g || void 0 === g || !g.S) && !(null === g || void 0 === g || !g.offset);};b.$$a=function(g){return !(null === g || void 0 === g || !g.S) || !(null === g || void 0 === g || !g.segmentId);};b.$bb=function(g,m){return "string" === typeof g && !(!m.od.na.U[g] && !m.Cb.na.U[g]);};b.Bbb=function(g){return !(null === g || void 0 === g || !g.P) && !(null === g || void 0 === g || !g.vt);};b.xbb=function(g){return !(null === g || void 0 === g || !g.Rd);};b.raa=function(g,m){var d;d=g;m.forEach(function(f){d=null === d || void 0 === d?void 0:d[f];});return d;};b.g9=c;b.vlb=function(g,m,d){for(var f=0;f < m.length - 1 && g;f++){g=g[m[f]];}return g?(g[m[m.length - 1]]=d,!0):!1;};},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.qSa=void 0;c=a(6);l=a(28);r=(function(){function g(m){this.fb=m;}Object.defineProperties(g.prototype,{he:{get:function(){return "PipelineReporter";},enumerable:!1,configurable:!0}});Object.defineProperties(g.prototype,{enabled:{get:function(){return !0;},enumerable:!1,configurable:!0}});g.prototype.il=function(m){var d,f;m=m.Pg;if(m === l.Kc.hn || m === l.Kc.el){m={};d=this.fb(c.u.J);f=this.fb(c.u.T);d && (m.videoPipelineSummary=this.inb(d));f && (m.audioPipelineSummary=this.inb(f));return m;}};g.prototype.inb=function(m){var d,f,h,k,n;n=m.Xa.ma;return {actualStartPlayerTimestamp:null === (d=n.Ld) || void 0 === d?void 0:d.Z,actualPartialPlayerTimestamp:n.nhb,actualCompletePlayerTimestamp:null === (f=m.Roa) || void 0 === f?void 0:f.Z,segmentId:m.S,contentStartMs:null === (h=m.oc) || void 0 === h?void 0:h.Z,contentEndMs:null === (k=m.Jd) || void 0 === k?void 0:k.Z,streamingPlayerMs:m.TC.Z,isStreamable:m.EF(),isNormalized:m.Nh(),isDoneStreaming:m.Tt(),trackNeedsHeaderRequest:m.track.rda,completedRequests:n.b3a,activeRequests:m.Xa.Bj,unsentRequests:m.Xa.Eu,bytes:{current:n.ga,received:n.ljb,partial:n.Pj,completed:n.GE,unsent:n.Wjc}};};return g;})();b.qSa=r;},function(r,b,a){var c,l,g,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.dTa=void 0;c=a(0);l=a(10);g=a(8);m=a(28);d=a(472);r=(function(){function f(h,k){var n;n=this;this.TBa=h;this.Ja=k;this.Shb=new g.EH();k.events.on("branchesReevaluated",function(){n.Shb.push(h.size);});}Object.defineProperties(f.prototype,{he:{get:function(){return "playgraph-branch-audit";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{eu:{get:function(){return "paudit";},enumerable:!1,configurable:!0}});Object.defineProperties(f.prototype,{enabled:{get:function(){return l.M;},enumerable:!1,configurable:!0}});f.prototype.il=function(h){var k;h=h.Pg;if(h === m.Kc.hn || h === m.Kc.el){k={branchCountStats:this.Shb.toJSON(),decisions:this.Ja.vh.toJSON(),player:this.Ja.X.qy?this.Ja.X.eb.map(function(n){return n.G.id;}):[]};this.TBa.forEach(function(n,p){var q,v;v=(0,d.Lua)(n);k[p]=c.__assign({probabilities:n.ri.map(function(t){return {duration:t.duration,immediate:t.uF,seamless:t.Qe};}),parent:null === (q=n.parent) || void 0 === q?void 0:q.G.id,normalized:n.Nh,hasViewable:n.Bq,headerRequested:n.Bq && n.O.iba},v);});return k;}};return f;})();b.dTa=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.BOa=void 0;c=a(48);l=a(28);r=(function(){function g(m){this.Ja=m;this.enabled=!0;}Object.defineProperties(g.prototype,{he:{get:function(){return "live-reporter";},enumerable:!1,configurable:!0}});g.prototype.il=function(m){var d,f,h,k;m=m.MF;if(m === l.wj.xu || m === l.wj.uZ || m === l.wj.wB || m === l.wj.Hw || m === l.wj.J1 || m === l.wj.bB || m === l.wj.R0){f=this.Ja.X;if(f.nf){h=f.oi;k=h.O;h=null === (d=h.fb(c.u.J)) || void 0 === d?void 0:d.kl;if(k.ta && h){d=h.xq();f={encodingpipelinetime:k.n1,devicepts:d.Rpa + f.xe.Z};m === l.wj.xu && (f.presentationtimeoffset=d.cCa.Z);if(m === l.wj.xu || m === l.wj.Hw)f.targetbufferduration=this.Ja.config.WZ;return f;}}}};return g;})();b.BOa=r;},function(r,b,a){var c,l,g,m,d,f,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.jMa=void 0;r=a(0);c=a(6);l=r.__importDefault(a(32)).default.gK;g=r.__importDefault(a(154));m=r.__importDefault(a(3));d=a(194);f=a(21);h=a(2);k=a(274);a=(function(){function n(p,q,v,t,w){this.config=p;this.Kgc=q;this.navigator=v;this.events=t;this.console=w;p=(0,d.MP)(this.config);this.MC=p.MC.bind(p);this.yL=p.yL.bind(p);this.tY=p.tY.bind(p);this.WY=p.WY.bind(p);this.fib=[p.s0.bind(p),p.YK.bind(p)];}n.prototype.Mec=function(p,q,v,t,w,u,x,y){var z,B,A,C,D,E,G,F,L;B=[];if(!this.BBa(w.track,y))return {stream:D,C1:B,reason:"locationSelectionFailure"};w.W0a && this.BBa(w.W0a,y);A=w.Wj;y=A.De;C=w.W$;D=y.kl;E=u?u.Rn(w.track.Pc,p,v.Ga(w.hb.Rd),w.Nh()):w.track.Pc;if(0 === E.length && (null === u || void 0 === u?0:u.OJb))return {stream:void 0,C1:B,reason:"allStreamsFiltered"};G=this.mZb(E);D && !D.track.equals(w.track) && (D=this.rUb(D,E));F=w.mediaType;if((u=F === c.u.T) && D && !this.ogc(y,D))return (this.config.F$a && this.MC(D.bitrate),{stream:D,C1:B});p=(0,c.uea)(p);q=this.yOb(p,q,t,w,!!x);t=this.fib[F];x=u?this.WY():this.tY();w=A.eEa(q,G,x,t,w.Qbb(),w.track.O.qq,C);if(!w)return {stream:D,C1:B,reason:"streamSelectionFailure"};A={qf:w.qf,t0:w.t0};if(w.reason){L={reason:w.reason,dEa:w.$v,PB:w.PB,Cq:w.Cq,Dq:w.Dq};this.Vqa(F,E,v);}this.KRb(F,w,E);D=E[w.Ce];v=D.bitrate;u?this.config.F$a && this.MC(v):this.yL(v);y.Llb(D);if(null === (z=w.tB) || void 0 === z?0:z.length)B=w.tB.map(function(O){return (0,f.Qc)(E,function(K){return K.id === O;});}).filter(f.Cda);return {stream:D,C1:B,fQ:L,LC:A,Ny:w.Ny,cUb:E,Nec:w};};n.prototype.Xqa=function(p,q,v,t,w,u,x){var y,z,B;if(!(0,c.Eq)(q))return {complete:!0,reason:"playing"};if(!u.kib)return {complete:!1,reason:"unknown"};if(u.k9b)return ((0,h.assert)(u.Sgb),u.Sgb);y=u.Wj;z=y.De;v=this.i8a(u,v);B=z.kl;z=v.ik - v.Oc;if(z < this.config.yk || void 0 === B)return {complete:!1,yE:z,reason:"preBuf"};if(u.mediaType === c.u.T)return {complete:!0,yE:z,reason:"audio"};if(p=p.m2a(u.mediaType))return {complete:!0,yE:z,reason:p};this.BBa(u.track);y.$Ba([B],!1,(0,c.uea)(q),v,this.fib[u.mediaType]);q=y.aB(v,q,w,B,{Ev:x});if(!q.complete && t)return {complete:!0,reason:"prebufferTimeLimit",yE:z};q.yE=z;return q;};n.prototype.mZb=function(p){var q;q=new k.Pla();q.L_a(p);return q;};n.prototype.KRb=function(p,q,v){this.events.emit("streamSelection",{type:"streamSelection",mediaType:p,result:q,streamList:v});};n.prototype.JRb=function(p,q,v,t){p={type:"maxVideoBitrateChanged",time:m.default.time.fa(),streaming:t,maxvb_old:p,maxvb:q,reason:v};this.events.emit(p.type,p);};n.prototype.rUb=function(p,q){var v;v=q[0];q.filter(function(t){return t.gw;}).every(function(t){return t.bitrate <= p.bitrate?v=t:!1;});return v;};n.prototype.ogc=function(p,q){return 0 < this.config.uS.length?!0:(p=p.rQ) && p === q.location?!1:!0;};n.prototype.BBa=function(p,q){return p.O.uk.r2(p.O.P,p.Pc,q);};n.prototype.i8a=function(p,q){var D;for(var v,t=q.Ga(this.Kgc),w=[],u=p,x=q,y,z,B=0,A=0,C=!0;u;){D=u.Y8a(t);if(!C && !u.Dj)break;0 < D.ma.length && (x=D.ma[0].Ld,void 0 === y && (y=D.ma[D.ma.length - 1].Vc,z=D.gea >= D.ma.length?y:D.ma[D.gea].Ld),w=D.ma.concat(w),B+=0 < D.Pj?D.Pj:0,A+=D.Bp);u=this.navigator.parent(u);C=!1;}return {st:m.default.zq()[p.mediaType],ca:Math.floor(x.Z),Oc:q.Z,Ec:Math.floor(null !== (v=null === y || void 0 === y?void 0:y.Z) && void 0 !== v?v:q.Z),ik:Math.floor(z?z.Z:q.Z),Rg:w.reduce(function(E,G){return E + G.ga;},0),Pj:B,Bp:A,H7a:w.length,ma:w};};n.prototype.yOb=function(p,q,v,t,w){var u,x,y;u=this.i8a(t,q);x=t.mediaType === c.u.J?this.config.z2:this.config.yW;y=g.default.instance();return {state:p,Zr:p === c.La.Xc,ze:t.Sm,playbackRate:v,buffer:u,LX:x,fP:w,Bj:null === y || void 0 === y?void 0:y.Bj,mediaType:t.mediaType,Oc:q.Z,Vt:!1,Exa:!1,Wea:0};};n.prototype.Vqa=function(p,q,v){var u,x;if(p === c.u.J){p="manifest";for(var t=0,w=q.length - 1;0 <= w;--w){u=q[w];x=u.bitrate;if(l(u)){t=Math.max(t,x);break;}else this.config.M1 && !u.Ov?p="bc":u.Xr?u.KB && (p="hf"):p="av";}this.yeb !== t && (this.JRb(this.yeb,t,p,v),this.yeb=t);}};return n;})();b.jMa=a;},function(r,b,a){var l,g,m;function c(d,f,h,k,n){var p,q,v,t,w,u,x,y,z,B,A,C,D,E,G,F,L,O,K,I,M,H;x=d.console;y=d.Xjc;z=d.vh;B=d.wdc;A=d.SQb;C=d.bAa;D=d.dqa;d=d.h9b;E=n || ({complete:!0,Wq:0});G=E.root;F=E.complete;L=E.vFb;O=E.ckb;O=void 0 === O?0:O;E=E.Wq;K=O < B.length && B[O] === f.id;I=O < B.length?B[O]:k && z.get(k.id);M=n && k && I !== f.id?void 0 !== I?{Qe:0}:k.yJb(f.id):{Qe:1};z=M.Qe;M=M.uF;H=void 0 === M?0:M;M=(z + H) * (null !== (p=null === n || void 0 === n?void 0:n.Nac) && void 0 !== p?p:1);m && x.trace(("reevaluateBranches: visiting ").concat(f.id,", ") + ("distance: ").concat(h,", ") + ("probability: ").concat(M,", ") + ("predecessor: ").concat(null === k || void 0 === k?void 0:k.id,", ") + ("decision: ").concat(I,", ") + ("predecessorComplete: ").concat(F,", ") + ("isOnRequiredPath: ").concat(K,", ") + ("requiredPathIndex: ").concat(O,", ") + ("activeDistance: ").concat(L,", ") + ("seamless ").concat(z,", ") + ("immediate ").concat(H,", ") + ("predecessor sum of: successor weights=").concat(null === k || void 0 === k?void 0:k.AFa,", ") + ("immediate weights= ").concat(null === k || void 0 === k?void 0:k.uga));p=null !== (v=null === (q=y[f.id]) || void 0 === q?void 0:q.shift()) && void 0 !== v?v:f.duration.Z;q=0 === p;if(!K){if(0 === M)return {nha:!1,d8:!0};if(!F && 0 === H && E > D)return (d.TE=Math.min(d.TE || Infinity,E - D),{nha:!1,d8:!0});if(!q && h >= A && 1 > M || !1 === G && M < C)return {nha:!1,d8:!0};}O < B.length && (0,l.assert)(B[O] === f.id,"");n=null !== (t=null === n || void 0 === n?void 0:n.ri) && void 0 !== t?t:[];k && 1 > z && (0 === H?n=n.concat([{Qe:z}]):(t=(null === (u=null === (w=k.G.uq) || void 0 === w?void 0:w[0]) || void 0 === u?void 0:u[0]) || 0,w=Math.max(0,k.duration.Z - t),m && x.trace(("reevaluateBranches: immediate: ").concat(k.duration.Z,", ").concat(t,", ").concat(w)),n=n.concat([{Qe:z,uF:H,duration:w}])));w=d.lDa.f7a(function(J){return J.G === k;});d.lDa.add({G:f,ri:n},w);h=F?h + f.duration.Z:L;m && x.trace(("reevaluateBranches: added ").concat(f.id,", visiting successors, ") + ("active distance: ").concat(h," ") + ("probabilities: ").concat(JSON.stringify(n)));return {nha:!0,d8:K,state:{root:!k,complete:q,Nac:M,ri:n,vFb:h,ckb:O + 1,Wq:E + p}};}Object.defineProperties(b,{__esModule:{value:!0}});b.kjc=b.Mlc=b.Yea=void 0;l=a(2);r=a(10);g=a(474);m=r.M && !1;b.Yea=function(d,f,h,k,n,p,q,v,t){var w,u,x,y;u={lDa:new g.Q5()};x=(null === (w=h.yh) || void 0 === w?void 0:w.Ga(h.sf).Z) || 0;0 < p.length && (0,l.assert)(h.id === p[0],"First segment of required path (if it exists) must equal reevaluateBranches start segment.");m && d.trace(("reevaluateBranches: starting at ").concat(h.id," ") + ("requiredPath: ").concat(JSON.stringify(p)));y={console:d,Xjc:k,vh:n,wdc:p,SQb:q.Z + x,bAa:v,dqa:t.Z,h9b:u};f.Llc(h,function(z,B,A,C){return c(y,z,B,A,C);});return u;};b.Mlc=c;b.kjc=function(d,f,h){var k;k=(0,g.oib)(f,function(n){return ("").concat(n.G.id);});h(("requiredBranches(").concat(d,")"),k.replace(/\n/g,"<>"));h(("requiredBranches(").concat(d,")"),f.values.map(function(n){var p;return ("").concat(n.G.id,"::").concat(null === (p=f.parent(n)) || void 0 === p?void 0:p.G.id);}).join(", "));};},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.nTa=void 0;c=a(0);l=a(467);r=(function(){function g(m){this.na=m;this.U={};}g.prototype.Z$a=function(m){return !!this.na.U[m];};g.prototype.Be=function(m){var d;d=this.U[m];if(void 0 === d){d=this.na.U[m];if(void 0 === d)throw Error(("Segment not found (").concat(m,")"));d=new l.sTa(m,d,this.na.Ge);this.U[m]=d;}return d;};g.prototype.p_b=function(m){return !(!m.G.next || !Object.keys(m.G.next).length);};g.prototype.JWb=function(m){var d;d=this;return m.G.next?Object.keys(m.G.next).map(function(f){return d.Be(f);}):[];};g.prototype.vcb=function(m){var d;return c.__generator(this,function(f){switch(f.label){case 0:return [4,m];case 1:(f.zb(),d=m,f.label=2);case 2:if(!d.G.dc)return [3,4];d=this.Be(d.G.dc);return [4,d];case 3:return (f.zb(),[3,2]);case 4:return [2];}});};g.prototype.v_b=function(m,d){return (0,l.Hbb)(m.TP(d));};g.prototype.Ek=function(m){var d;d=this;Object.keys(m).forEach(function(f){var h;return null === (h=d.Be(f)) || void 0 === h?void 0:h.Ek(m[f]);});};return g;})();b.nTa=r;},function(r,b,a){var g,m,d;function c(f,h){var k,n;k=Object.keys(f);if(k.some(function(p){var q,v,t,w;return (null === (q=f[p]) || void 0 === q?void 0:q.Ge) !== (null === (v=h[p]) || void 0 === v?void 0:v.Ge) || (null === (t=f[p]) || void 0 === t?void 0:t.weight) !== (null === (w=h[p]) || void 0 === w?void 0:w.weight);}))return !0;n=Object.keys(h);return 0 !== g.__spreadArray(g.__spreadArray([],g.__read((0,m.uv)(k,n)),!1),g.__read((0,m.uv)(n,k)),!1).length?!0:!1;}function l(f,h){return f.some(function(k,n){var p;return 0 !== (0,m.uv)(k,null !== (p=h[n]) && void 0 !== p?p:[]).length;}) || f.length !== h.length?!0:!1;}Object.defineProperties(b,{__esModule:{value:!0}});b.M1a=b.n3a=void 0;g=a(0);m=a(21);d=a(1152);b.n3a=function(f){return new d.KKa(function(h){return Object.keys(h.G.next || ({})).map(function(k){var n,p,q;k=f.Be(k);q=null !== (p=null === (n=h.yh) || void 0 === n?void 0:n.Ga(h.sf).Z) && void 0 !== p?p:Infinity;return {vlc:k,weight:q};});});};b.M1a=function(f,h){var k,n,p,q,v,t;k=Object.keys(f.U);n=Object.keys(h.U);p=n.filter(function(w){return -1 === k.indexOf(w);});q=k.filter(function(w){return -1 === n.indexOf(w);});v=k.filter(function(w){var u,x,y,z,B;if(-1 === n.indexOf(w))u=!1;else {u=f.U[w];w=h.U[w];u=u.dc !== w.dc || u.Aa !== w.Aa || u.Ba !== w.Ba || u.Ge !== w.Ge || u.P !== w.P || l(null !== (x=u.uq) && void 0 !== x?x:[],null !== (y=w.uq) && void 0 !== y?y:[]) || c(null !== (z=u.next) && void 0 !== z?z:{},null !== (B=w.next) && void 0 !== B?B:{})?!0:!1;}return u;});t=(0,m.uv)(k,g.__spreadArray(g.__spreadArray(g.__spreadArray([],g.__read(v),!1),g.__read(p),!1),g.__read(q),!1));return {jpa:p,GR:q,hKb:v,Rjc:t};};},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.KKa=void 0;c=a(2);l=a(183);g=a(1153);r=(function(){function m(d){this.yRb=d;this.XGa=!1;this.oha=new g.PTa();}m.prototype.Llc=function(d,f){var k,n;function h(){var v,t,w,u,x,y;v=p.pop();t=v.node;w=v.h8;v=w.bac;u=w.gJ;w=w.state;if(!q.oha.has(t)){v=f(t,u,v,w);x=v.nha;y=v.state;v.d8 || q.oha.add(t);n(t).forEach(function(z){var B;B=z.vlc;k.oha.has(B) || (z=u + z.weight,x && p.push({node:B,h8:{gJ:z,bac:t,state:y}}));});}}k=this;n=this.yRb;(0,c.assert)(!this.XGa);this.XGa=!0;this.oha.clear();for(var p=new l.lU([{node:d,h8:{gJ:0,state:{root:!1,complete:!0,ckb:0,Wq:0}}}],function(v,t){return v.h8.gJ - t.h8.gJ;}),q=this;!p.empty;){h();}this.XGa=!1;};return m;})();b.KKa=r;},function(r,b){var l,g,m;function a(d){return void 0 !== (null === d || void 0 === d?void 0:d.OWa);}function c(d){return (a(d)?d:Object.defineProperties(d,{OWa:{value:{},configurable:!1,enumerable:!1}})).OWa;}Object.defineProperties(b,{__esModule:{value:!0}});b.PTa=void 0;g=null !== (l=Number.MAX_SAFE_INTEGER) && void 0 !== l?l:1E9;m=Date.now() % g;r=(function(){function d(){this.Lfa=0;this.id=m=(m + 1) % g;}d.prototype.add=function(f){c(f)[this.id]=this.Lfa;return this;};d.prototype.has=function(f){return a(f) && c(f)[this.id] === this.Lfa;};d.prototype.delete=function(f){if(!this.has(f))return !1;c(f)[this.id]=void 0;return !0;};d.prototype.clear=function(){this.Lfa=(this.Lfa + 1) % g;return this;};return d;})();b.PTa=r;},function(r,b,a){var c,l,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.eTa=void 0;c=a(8);l=a(21);g=a(2);m=a(474);r=(function(){function d(){this.eb=new c.sQa();this.xo=new m.Q5();}Object.defineProperties(d.prototype,{empty:{get:function(){return this.eb.empty;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{size:{get:function(){return this.eb.size;},enumerable:!1,configurable:!0}});d.prototype.reset=function(){var f;f=this.eb.values();this.eb.clear();this.xo.clear();f.forEach(function(h){return h.ee();});};d.prototype.ky=function(f){return this.eb.get(f);};d.prototype.has=function(f){return this.eb.has(f);};d.prototype.root=function(){return this.xo.root;};d.prototype.contains=function(f){var h;h=f.G.id;if(this.has(h))return -1 !== this.ky(h).indexOf(f);};d.prototype.vJ=function(f){this.xo.vJ(f);};d.prototype.RY=function(f){return this.xo.parent(f);};d.prototype.tWb=function(f){return this.xo.children(f);};d.prototype.rwa=function(f){return this.xo.rwa(f);};d.prototype.afa=function(f){var h;if(this.eb.delete(f.G.id,f)){h=this.xo.children(f);this.xo.root === f?0 === h.length?this.xo.clear():((0,g.assert)(1 === h.length,"cannot remove the root branch with multiple successors"),this.xo.Ycc(h[0])):((0,g.assert)(0 === h.length,"cannot remove non-root branch with successors"),this.xo.remove(f));}};d.prototype.forEach=function(f){var h;h=this;this.eb.forEach(function(k,n){return f(k,n,h);});};d.prototype.reduce=function(f,h){var k;k=this;return this.eb.reduce(function(n,p,q){return f(n,p,q,k);},h);};d.prototype.map=function(f){var h;h=this;return this.eb.map(function(k,n){return f(k,n,h);});};d.prototype.filter=function(f){var h;h=this;return this.eb.filter(function(k,n){return f(k,n,h);});};d.prototype.FZb=function(){var f;f={};this.forEach(function(h,k){var n;(h=h.Wq) && (null !== (n=f[k]) && void 0 !== n?n:f[k]=[]).push(h.Z);});return f;};d.prototype.bkc=function(f,h){var k,n,p;k=this;f=this.wOb(f,h);n=f.BQb(this.xo);h=n.jpa;p=n.GR;n=n.Qjb;this.xo.clear();this.xo=f;h.forEach(function(q){return k.eb.set(q.G.id,q);});h.forEach(function(q){return q.oa();});p.forEach(function(q){return k.eb.delete(q.G.id,q);});return {GR:p,Qjb:n};};d.prototype.wOb=function(f,h){var k,n,p;k=this;n=new Map();p=new m.Q5();f.vJ(function(q,v){var t,w;if(v){t=n.get(v);if(!t)return !0;}w=(0,l.Qc)(k.ky(q.G.id),function(u){return k.xo.parent(u) === t || !v;});w=null !== w && void 0 !== w?w:h(q.G.id,t);w.ri=q.ri;n.set(q,w);p.add(w,t);(null === w || void 0 === w?0:w.Bq) && w.update(q.G);return !0;});return p;};return d;})();b.eTa=r;},function(r,b,a){var c,l,g,m,d,f,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.bJa=void 0;c=a(0);l=c.__importDefault(a(3));g=a(6);m=a(8);d=a(20);f=a(2);h=a(71);k=a(61);r=(function(){function n(p,q,v,t,w,u,x){var y;void 0 === x && (x=500);y=this;this.H=p;this.config=q;this.Ac=v;this.events=t;this.kta=w;this.Ee=u;this.UIb=x;this.iCa=this.Em=0;this.Yca=[];this.sP={Ev:0};this.state=new m.Yz(g.bd.vm);this.qf=new m.Yz(g.La.Yh);this.zi=new h.px({Iq:10,yp:this,source:"BufferStateTracker",Q_a:function(){return {isBuffering:y.Uf,alwaysRunUnderflowTimer:y.config.pO};}});}Object.defineProperties(n.prototype,{Ev:{get:function(){return this.sP.Ev;},enumerable:!1,configurable:!0}});Object.defineProperties(n.prototype,{Uf:{get:function(){return (0,g.Eq)(this.state.value);},enumerable:!1,configurable:!0}});n.prototype.aha=function(p){var q;q=this;Array.isArray(p) || (p=[p]);p.forEach(function(v){v.mediaType === g.u.T && (q.y1a=c.__assign(c.__assign({},q.y1a),{audio:{trackId:v.trackId,trackIndex:v.MG}}));});};n.prototype.cR=function(p){this.set(g.bd.vm);this.F1(p,g.bd.Yd);};n.prototype.Oda=function(){this.sP.Ev++;};n.prototype.W_=function(p){this.config.pO || void 0 === this.WB && this.Uf && this.Vra();this.WB={TJ:p.httpCode,Ah:p.errorCode,Nj:p.nativeCode};};n.prototype.Xda=function(){this.WB=void 0;this.config.pO || this.R9();};n.prototype.li=function(p){this.Uf || (this.F1(p,g.bd.Vg),this.Uf && (this.WB || this.config.pO) && this.Vra());};n.prototype.O8b=function(p,q){this.state.value !== g.bd.Yd && this.F1(p,g.bd.EU);this.aha(q);};n.prototype.l8b=function(p,q){var v;v=this;this.config.TIb && this.Uf && (-1 === this.Yca.indexOf(p) && this.Yca.push(p),2 === this.Yca.length && Promise.resolve().then(function(){v.Uf && void 0 !== v.hz && v.Jg("memoryLimit",q.FS,q.GS);}));};n.prototype.ifc=function(p,q){(0,f.assert)(this.state.value === g.bd.Yd && void 0 === this.hz);this.hz=p;q && (this.events.emit("initialAudioTrack",{type:"initialAudioTrack",trackId:q.trackId,trackIndex:q.MG}),this.aha(q));};n.prototype.wfc=function(p,q,v){(0,f.assert)(this.Uf);this.nxa=null !== p && void 0 !== p?p:this.nxa;this.qZ=null !== q && void 0 !== q?q:this.qZ;void 0 === this.fQ?this.fQ=v:void 0 !== (null === v || void 0 === v?void 0:v.reason) && (this.fQ.reason=v.reason);};n.prototype.Jg=function(p,q,v){var t;(0,f.assert)(this.Uf && void 0 !== this.hz && void 0 === this.HI && void 0 === this.iha && void 0 === this.O7);this.HI=p;this.iha=q;this.O7=v;this.Kr=100;this.lra();this.R9();null === (t=this.Zqa) || void 0 === t?void 0:t.Wa();this.state.value === g.bd.Vg && (this.iCa=l.default.time.fa());this.GRb();this.set(g.bd.wm);this.O7=this.iha=this.HI=this.fQ=this.qZ=this.nxa=this.hz=void 0;};n.prototype.stop=function(){var p;this.set(g.bd.vm);this.lra();this.R9();null === (p=this.Zqa) || void 0 === p?void 0:p.Wa();};n.prototype.Yqa=function(p,q,v,t){var w,u,x,y,z,B,A,C,D,E;w=this;(0,f.assert)(this.Uf);null === (u=this.Zqa) || void 0 === u?void 0:u.Wa();if(this.state.value === g.bd.Vg && l.default.time.fa() < this.iCa + this.config.aAa){z=this.config.aAa - (l.default.time.fa() - this.iCa);this.Zqa=this.Ee.OO(k.bj.UG(d.N.Na(z)),function(){w.Yqa(p,q,v,t);});}else {u=v.KJ(g.u.T);B=v.KJ(g.u.J);A=l.default.time.fa() - this.Em;if(u || B){C=function(G){return G?G.EF() || G.Tt()?t.Xqa(w.state.value,p,A >= w.config.wC,q,G,w.Ev):{complete:!1,reason:"selecteeNotStreamable"}:{complete:!0,reason:"noSelectee"};};D=C(u);C=C(B);E=function(G){var F;return {reason:G.reason,complete:G.complete,bl:null !== (F=G.yE) && void 0 !== F?F:0};};this.zi.sv({as:E(D),vs:E(C),bt:A});E=B?C:D;E.zlc=B && C.yE || 0;E.IHb=u && D.yE || 0;D.complete && C.complete?(E.complete=!0,this.Jg(null !== (z=E.reason) && void 0 !== z?z:"unknown",null !== (x=E.zlc) && void 0 !== x?x:0,null !== (y=E.IHb) && void 0 !== y?y:0)):(E.complete=!1,this.qJb(E),this.zi.sv({bp:this.Kr}));}}};n.prototype.qJb=function(p){var q,v,t;t=p.progress;p.NF?t=(l.default.time.fa() - this.Em) / this.config.wC:t || (t=(null !== (q=p.yE) && void 0 !== q?q:0) / this.config.yk);p=Math.min(Math.max(Math.round(100 * t),null !== (v=this.Kr) && void 0 !== v?v:0),99);p != this.Kr && (this.Kr=p);};n.prototype.F1=function(p,q){(0,f.assert)(q === g.bd.Yd || void 0 !== p);this.hz=p;this.Kr=0;this.Eda=void 0;this.sP.Ev=0;this.Yca=[];p=this.state.value === g.bd.Yd || this.state.value === g.bd.Vg;this.Em=l.default.time.fa();this.set(q);p || (this.IRb(),this.Tfc());};n.prototype.set=function(p){this.state.set(p);switch(p){case g.bd.vm:this.qf.set(g.La.vm);break;case g.bd.Yd:case g.bd.EU:this.qf.set(g.La.Yd);break;case g.bd.Vg:this.qf.set(g.La.Vg);break;case g.bd.wm:this.qf.set(g.La.Xc);}};n.prototype.IRb=function(){(0,f.assert)(this.events && void 0 !== this.Kr);this.Eda=this.Kr;this.events.emit("bufferingStarted",{type:"bufferingStarted",time:l.default.time.fa(),percentage:this.Kr});};n.prototype.Tfc=function(){var p;p=this;this.lra();this.g7b=this.Ee.L3a(function(){return p.HRb();},d.N.Na(this.UIb),"buffering-notification");};n.prototype.lra=function(){var p;null === (p=this.g7b) || void 0 === p?void 0:p.Wa();};n.prototype.HRb=function(){this.Uf && this.events && void 0 !== this.Kr && this.Kr !== this.Eda && this.events.emit("buffering",{type:"buffering",time:l.default.time.fa(),percentage:this.Kr}) && (this.Eda=this.Kr);};n.prototype.GRb=function(){var p;(0,f.assert)(this.events && this.hz && void 0 !== this.HI && void 0 !== this.O7 && void 0 !== this.iha);this.Eda=this.Kr;this.events.emit("bufferingComplete",c.__assign({type:"bufferingComplete",time:l.default.time.fa(),actualStartPosition:this.hz,reason:this.HI,aBufferLevelMs:this.O7,vBufferLevelMs:this.iha,selector:this.nxa,initBitrate:this.qZ,initSelReason:null === (p=this.fQ) || void 0 === p?void 0:p.reason,skipbackBufferSizeBytes:this.qxc},this.y1a));};n.prototype.Vra=function(){var p;p=this;this.config.spb && (!this.$C || this.$C.state !== k.xm.complete && this.$C.state !== k.xm.eJ?void 0 === this.$C && (this.$C=this.Ee.oB(function(){return p.Gob();},"underflow")):this.$C.yg());};n.prototype.R9=function(){this.$C && (this.$C.state !== k.xm.eJ && this.$C.Wa(),this.$C=void 0);};n.prototype.Gob=function(){var p,q,v;return c.__generator(this,function(t){switch(t.label){case 0:return (p=this.config.Gca,this.H.trace(("BufferingStateTracker: starting underflow timer: ").concat(p,"ms")),[4,k.bj.UG(d.N.Na(p))]);case 1:(t.zb(),t.label=2);case 2:if(!this.Uf)return [3,4];q=this.Ac.g3b || 0;v=l.default.time.fa() - q;if(v >= p)return (this.H.trace(("Forcing streaming failure, ").concat(v,"ms since data received")),this.kta.P8b(this.WB),[2]);this.H.trace(("BufferingStateTracker: network activity, wait ").concat(p - v,"ms"));return [4,k.bj.UG(d.N.Na(p - v))];case 3:return (t.zb(),[3,2]);case 4:return [2];}});};c.__decorate([(0,h.mc)({methodName:"onTemporaryNetworkError",Ul:!0})],n.prototype,"W_",null);c.__decorate([(0,h.mc)({methodName:"onUnderflow",Ul:!0})],n.prototype,"li",null);c.__decorate([(0,h.mc)({methodName:"bufferingComplete",Ul:!0})],n.prototype,"Jg",null);c.__decorate([(0,h.mc)({methodName:"stop",Ul:!0})],n.prototype,"stop",null);c.__decorate([(0,h.mc)({methodName:"checkStreamingBufferingComplete",Ul:!0})],n.prototype,"Yqa",null);c.__decorate([(0,h.mc)({methodName:"createUnderflowTask",Ul:!0})],n.prototype,"Vra",null);c.__decorate([(0,h.mc)({methodName:"destroyUnderflowTask",Ul:!0})],n.prototype,"R9",null);c.__decorate([(0,h.mc)({methodName:"onUnderflowTimeout",Ul:!0})],n.prototype,"Gob",null);return n;})();b.bJa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.rta=void 0;c=a(21);b.rta=function(l,g,m,d,f){var h;h=[];l=l.xo.values.filter(function(k){return k.Bq;}).map(function(k){var n,p;n=g(k.O,m,d,f);p=(0,c.uv)(n,k.Fe).map(function(q){return q.mediaType;});h=(0,c.o8)(h,p);return {hb:k,Fe:n};});return {e2a:h,KIb:l};};},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.IUa=void 0;c=a(0);l=a(20);g=a(2);b.IUa=(function(){function m(){}m.OZb=function(d){var f,h,k;if(d.Nh){k=c.__read(d.Fe,2);d=k[0];k=k[1];if(d.ta || (null === k || void 0 === k?0:k.ta))return {$pb:l.N.Qt,aqb:l.N.Qt};d=null === (f=d.Uq) || void 0 === f?void 0:f.yh;f=null === (h=null === k || void 0 === k?void 0:k.Uq) || void 0 === h?void 0:h.yh;(0,g.assert)(d);h=f?l.N.min(d,f):d;return {$pb:d,aqb:h};}};return m;})();},function(r,b,a){var c,l,g,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.TIa=void 0;r=a(0);c=a(13);l=a(8);g=a(61);m=a(10);d=a(6);f=r.__importDefault(a(3));a=(function(){function h(k,n,p,q,v,t){this.Ee=k;this.Ku=n;this.config=p;this.a8b=q;this.Kg=v;this.console=t;this.Yma=new c.ef();this.console=(0,l.Oi)(f.default,t,"BranchDecisionMaker");}h.hWb=function(k){var n;return null !== (n=k.Vc) && void 0 !== n?n:k.fG;};h.cXb=function(k){var n,p;n=k.G;p=k.XQ;return n.dc?n.dc:p.length?p[0]:k.mC[0];};h.prototype.YFa=function(k,n){var p,q,v,t;p=this;v=k.G;m.M && this.console.trace(("tracking ").concat(k.G.id));this.reset();if(v.zu || 1 >= v.mC.length && (null === (q=v.Zy) || void 0 === q || !q.length))m.M && this.console.trace(("").concat(k.G.id," does not need tracking"));else {t=this.rJb(k);q=t.RDa;n=n.lessThan(t.B0b);m.M && this.console.trace(("tracking ").concat(k.G.id),{S:v.id,mtc:n,Xwc:null === q || void 0 === q?void 0:q.Z});this.sec(v,n?q:void 0);if(n)this.Yma.on(k.events,"branchEdited",function(){p.YFa(k,p.Ee.za.currentTime);});}};h.prototype.y2a=function(){var k;null === (k=this.D4a) || void 0 === k?void 0:k.Wa();this.D4a=void 0;};h.prototype.reset=function(){this.y2a();this.Yma.clear();};h.prototype.rJb=function(k){var n,p;k=h.hWb(k);n=l.N.Na(this.config.OQ);p=l.N.Na(this.config.u6b + this.config.A_);n=k.Ga(n);return {B0b:(0,d.Eq)(this.Kg.value)?k.Ga(p):n,RDa:n};};h.prototype.sec=function(k,n){var p;p=this;this.y2a();this.D4a=n?this.Ee.OO(g.bj.dD(n),function(){return p.Jdb(k);},"scheduled branch decision"):this.Ku.OO(g.bj.Rlc,function(){return p.Jdb(k);},"immediate branch decision");};h.prototype.Jdb=function(k){var n;this.Yma.clear();n=h.cXb(k);m.M && this.console.trace(("BranchDecisionMaker making decision for ").concat(k.id,", decision is ").concat(n));this.a8b(k.id,n,!0);};return h;})();b.TIa=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.f8a=void 0;c=a(1160);b.f8a=function(l,g){return l.reduce(function(m,d){var f;f=g(d);d.Km().forEach(function(h){return m.apa(h.mediaType,h.et,!f);});return m;},new c.mTa());};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.mTa=void 0;c=a(461);r=(function(){function l(){this.xt=new c.jU();this.FX=new c.jU();}Object.defineProperties(l.prototype,{total:{get:function(){var g;g=new c.jU();g.add(this.xt);g.add(this.FX);return g;},enumerable:!1,configurable:!0}});l.prototype.add=function(g){this.xt.add(g.xt);this.FX.add(g.FX);};l.prototype.apa=function(g,m,d){(d?this.FX:this.xt).apa(g,m);};return l;})();b.mTa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.o$a=void 0;b.o$a=function(a,c){return a.reduce(function(l,g){return l + g.CY(c).Z;},0);};},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.D3a=void 0;c=a(0);l=a(6);b.D3a=function(g){var h,k;function m(n){(0,l.Eq)(n.newValue) && !(0,l.Eq)(n.oldValue)?(null === k || void 0 === k?void 0:k.Wa(),k=h.OO.apply(h,c.__spreadArray([],c.__read(d),!1))):null === k || void 0 === k?void 0:k.Wa();}for(var d=[],f=1;f < arguments.length;f++){d[f - 1]=arguments[f];}f=g.Pf;h=g.Ku;f.state.addListener(m);m({oldValue:l.bd.vm,newValue:f.state.value});};},function(r,b,a){var l,g;function c(m,d){return Object.keys(m.XK).map(function(f){return m.XK[f];}).filter(function(f){return void 0 === f.PJ || 1 === f.PJ;}).reduce(function(f,h){return f + h.xt[d];},0);}Object.defineProperties(b,{__esModule:{value:!0}});b.pVa=void 0;l=a(6);g=a(10);r=(function(){function m(d,f,h){this.na=d;this.console=f;this.dva=h;}m.prototype.QJb=function(d,f,h){var k,n,p,q;k=h && this.na.config.clc;n=this.na.config.bha || k;p=this.dva();if(k){k=d.global;k=(q={},q[l.u.T]=k[l.u.T] - c(d,l.u.T),q[l.u.J]=k[l.u.J] - c(d,l.u.J),q[l.u.Za]=k[l.u.Za] - c(d,l.u.Za),q);}q=k;p=this.m2a(f) || this.yKb(d) || this.wKb(d,p,q) || this.xKb(d,p,q,f);q=(0,l.KCa)(p);if(p && (!q || n))return (g.M && this.console.log(("canIssueRequest ").concat(this.na.id," [").concat(f,"] static limit: ") + ("").concat(h,", usage: ").concat(JSON.stringify(d),", failed ").concat(p)),{result:!1,reason:p});g.M && this.console.log(("canIssueRequest ").concat(this.na.id," [").concat(f,"] static limit: ") + ("").concat(h,", usage: ").concat(JSON.stringify(d),", success ").concat(p));return {result:!0,reason:p};};m.prototype.m2a=function(d){var f;f=this.na.config.jw;if(this.na.SWb(d) >= (f || Infinity))return "mediaDurationLimit";};m.prototype.yKb=function(d){return d.XK[this.na.id].total.total > (this.na.xaa() || Infinity)?"playgraphMemoryLimit":void 0;};m.prototype.wKb=function(d,f,h){d=d.global;return h?h[l.u.T] + h[l.u.J] > (f.lFa.total || Infinity)?"staticMemoryLimit":void 0:d.total > (f.total.total || Infinity)?"globalMemoryLimit":void 0;};m.prototype.xKb=function(d,f,h,k){var n;n=d.global;return h?(g.M && this.console.log(("checkRequestByMediaTypeMemory [").concat(k,"]:") + (" using static limit ").concat(f.lFa[k],", usage: ").concat(h) + (" (global: ").concat(n[k]," ") + (" - certain contiguous: ").concat(c(d,k),")")),h[k] > (f.lFa[k] || Infinity)?k === l.u.J?"staticVideoMemoryLimit":"staticAudioMemoryLimit":void 0):n[k] > (f.total[k] || Infinity)?k === l.u.J?"globalVideoMemoryLimit":"globalAudioMemoryLimit":void 0;};return m;})();b.pVa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.gTa=void 0;r=(function(){function a(c){this.console=c;this.fra();}a.prototype.get=function(c){return this.VO[c] || this.vh[c];};a.prototype.set=function(c,l){void 0 === this.vh[c] && (this.vh[c]=l);};a.prototype.ofc=function(c,l){void 0 === this.get(c) && (this.VO[c]=l);};a.prototype.clear=function(c){this.VO[c]=void 0;this.vh[c]=void 0;};a.prototype.VKb=function(c){var l;this.vh=(l={},l[c]=this.vh[c],l);this.VO={};};a.prototype.fra=function(){this.vh={};this.VO={};};a.prototype.toJSON=function(){return {vh:this.vh,VO:this.VO};};return a;})();b.gTa=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.iTa=b.oH=void 0;c=a(0);l=a(2);(function(m){m[m.xT=0]="CREATED";m[m.Cla=1]="STARTED";m[m.AU=2]="REQUEST_ISSUED";m[m.Kz=3]="EVALUATED";m[m.fKa=4]="DESTRUCTED";})(g=b.oH || (b.oH={}));r=(function(){function m(d){this.dz=d;this.Sc=g.xT;this.DG={};this.I1={};}Object.defineProperties(m.prototype,{state:{get:function(){return this.Sc;},enumerable:!1,configurable:!0}});m.prototype.start=function(){var d;d=this;this.Sc !== g.Cla && (this.u_(g.Cla),[g.Kz,g.AU].forEach(function(f){var h;h=new Promise(function(k){(0,l.assert)(d.I1 && d.DG,"state promises should be defined");d.I1[f]=k;d.DG[f]=h;});}),this.dz(),this.u_(g.Kz));};m.prototype.u_=function(d){this.Sc=d;this.I1 && (d=this.I1[d],null === d || void 0 === d?void 0:d());};m.prototype.Wa=function(){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(d){switch(d.label){case 0:if(this.Sc !== g.Cla)return [3,2];(0,l.assert)(this.DG,"state resolves should be defined");return [4,this.DG[g.Kz]];case 1:(d.zb(),d.label=2);case 2:return (this.I1=this.DG=void 0,this.Sc=g.fKa,[2]);}});});};m.prototype.pha=function(d,f){c.__awaiter(this,void 0,void 0,function(){var h;return c.__generator(this,function(k){switch(k.label){case 0:if(this.Sc === g.fKa)return [2];if(this.Sc === g.Kz)return [3,6];(0,l.assert)(this.DG,"state promises should be defined");h=d;switch(h){case g.Kz:return [3,1];case g.AU:return [3,3];}return [3,5];case 1:return [4,this.DG[g.Kz]];case 2:return (k.zb(),[3,6]);case 3:return [4,this.DG[g.AU]];case 4:return (k.zb(),[3,6]);case 5:return [3,6];case 6:return (null === f || void 0 === f?void 0:f(),[2]);}});});};return m;})();b.iTa=r;},function(r,b,a){var c,l,g,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.hX=void 0;c=a(0);l=a(476);g=a(477);m=a(137);d=a(479);b.hX=function(f,h,k){var n,p,q,v,t;n=h.o0;p=h.upa;f=c.__assign({kja:g.jja},f).kja;q=n[5];n=(0,d.VAa)(function(){return t;});q.y_a(n.qu);k=k(h);q=new l.wka();q.oa(k);v={ii:void 0,od:void 0,Cb:k,sxa:q,Wcb:"content"};v.ii=new f(function(){return v.od.na;},q,h.o0[2]);t=new d.VJa(v,n.dnb,m.Qy.ADa.QR);v.od=m.Qy.vCa(k,t,function(){return v;},p);return v.od;};},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Kcb=void 0;b.Kcb=function(a){var c,l;c=a.next();do {if(!c.done)l=c.value;c=a.next();}while(!c.done);return l;};},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.WJa=void 0;c=a(28);r=(function(){function l(g){this.Xo=g;this.he="content-playgraph";this.enabled=!0;}l.prototype.il=function(g){var m,d;m=g.Pg;g=g.MF;if(m === c.Kc.zl || m === c.Kc.hn || m === c.Kc.el || void 0 === m && void 0 === g){g=this.Xo.Cb;d=g.X;m=void 0;(d.nf?d.Ii:g.Ot && g.ti) && this.Xo.Xo && (d=d.Ii,g=this.Xo.ii.Pw(d),d=this.Xo.Cb.na.U[d.S].P,this.Xo.na.U[g.S].P != d && (m=d));return {contentPlaygraph:this.Xo.Xo,auxMid:m};}};return l;})();b.WJa=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.uJa=void 0;c=a(478);l=a(10);g=a(28);r=(function(){function m(d,f){this.Wgc=d;this.yp=f;}Object.defineProperties(m.prototype,{eu:{get:function(){return ("cache-").concat(this.Wgc);},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{he:{get:function(){return this.eu;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{enabled:{get:function(){return l.M;},enumerable:!1,configurable:!0}});m.prototype.il=function(d){var f,h,k;f=d.Pg;d=d.MF;if(f === g.Kc.zl || f === g.Kc.hn || f === g.Kc.el || void 0 === f && void 0 === d){h=(0,c.m8a)(this.yp);f=Object.keys(h).filter(function(n){return h[n].isEnabled;});if(f.length){k={};f.forEach(function(n){k[n]={hit:h[n].wqa,idx:h[n].H1a};});return {Isc:k};}}};return m;})();b.uJa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Rhb=void 0;b.Rhb={"*":{B6a:["logdata"],rules:[{tl:function(a){return a.dHa;}}]},locationSelected:[{tl:function(a){return a.h1;}}],segmentComplete:[{tl:function(a){return a.h1;}}],segmentStarting:[{tl:function(a){return a.h1;}}],serverSwitch:[{tl:function(a){return a.h1;}}],streamSelected:[{tl:function(a){return a.nf;}}]};},function(r,b,a){var c,l,g,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.hX=void 0;c=a(0);l=a(476);g=a(477);m=a(479);d=a(137);f=a(1172);b.hX=function(h,k,n){var p,q,v,t;h=c.__assign({kja:g.jja},h).kja;p=k.o0[5];q=(0,m.VAa)(function(){return t;});p.y_a(q.qu);p=new l.wka();v={ii:void 0,od:void 0,Cb:void 0,sxa:p,Wcb:"ads"};v.ii=new h(function(){return v.od.na;},p,k.o0[2],"Ads:");t=new f.DHa(v,q.dnb,d.Qy.ADa.QR);h=k.upa;k.upa=c.__spreadArray(c.__spreadArray([],c.__read(h),!1),[t],!1);v.Cb=n(k);v.od=d.Qy.vCa(v.Cb,t,function(){return v;},h);t.oa();p.oa(v.Cb);p.Xea();return v.od;};},function(r,b,a){var c,l,g,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.DHa=void 0;c=a(0);l=a(10);g=a(1173);m=a(71);d=a(2);r=a(480);f=a(1174);a=(function(h){function k(n,p,q){n=h.call(this,n,p,q,"AdsPlaygraphHost",!1) || this;n.iA=void 0;return n;}c.__extends(k,h);Object.defineProperties(k.prototype,{od:{get:function(){return this.Xm.od;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{rv:{get:function(){var n;n=this.KE(this.od.na);if(n !== this.od.na)return n;},enumerable:!1,configurable:!0}});Object.defineProperties(k.prototype,{wf:{get:function(){return this.iA;},enumerable:!1,configurable:!0}});k.prototype.oa=function(){var n;n=this;h.prototype.oa.call(this);this.Xm.Cb.ag(new g.EHa(this.Xm));this.iA=new f.yHa(this.H,this.K,this.Cb,this.od,function(p,q,v,t){return n.M0(p,q,v,t);});this.Xm.Cb.wf=this.iA;};k.prototype.lG=function(n){var p;p=h.prototype.lG.call(this,n);p && ((0,d.assert)(this.wf,"missing manager"),this.wf.$g.X_(n,this.v6),this.v6=void 0);return p;};k.prototype.fg=function(n,p,q,v,t,w,u){var x,y;void 0 === u && (u=!1);x=!1;y=!1;p && !u && (x=this.wf.CFb.pwa(p));x || (y=this.Xm.Cb.fg(n,p,q,v,t,w,u));return y;};k.prototype.wG=function(n,p){var q;this.v6=void 0;if(this.wf.$g.Y$a(n)){l.M && this.H.trace(("ads::seekStreaming: ").concat(JSON.stringify(n)));q=this.wf.$g.cR(n);n=q.ti;q=q.YX;l.M && this.H.trace(("ads::seekStreaming: forwarding seek to ").concat(JSON.stringify(n),", ") + ("playerTimestamp: ").concat(p,", ") + ("entryPoint: ").concat(JSON.stringify(q)));this.Cb.Cfa(n,p,q);}else (this.v6={ti:n,Nq:p},this.Cb.wG(n,p));};k.prototype.KE=function(n){return this.wf.$g.KE(n);};k.prototype.ee=function(n){h.prototype.ee.call(this,n);this.v6=void 0;};c.__decorate([(0,m.mc)({methodName:"ads::processViewableResponse"})],k.prototype,"lG",null);c.__decorate([(0,m.mc)({methodName:"ads::reportStreamingFailure"})],k.prototype,"fg",null);c.__decorate([(0,m.mc)({methodName:"ads::seekStreaming"})],k.prototype,"wG",null);c.__decorate([(0,m.mc)({methodName:"ads::cancelStreaming"})],k.prototype,"ee",null);return k;})(r.kla);b.DHa=a;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.EHa=void 0;c=a(38);l=a(198);g=a(28);r=(function(){function m(d){this.context=d;this.he="ad-playgraph";this.enabled=!0;}m.prototype.il=function(d){var f,h,k,n,p,q,v;f=d.Pg;d=d.MF;if(f === g.Kc.zl || f === g.Kc.hn || f === g.Kc.el || d === g.wj.Hw || void 0 === f && void 0 === d){d=this.context;f=d.od;h=d.Cb;d=h.X;k=d.nf?d.Ii:h.Ot?h.ti:void 0;n=f.rv;p=void 0;q="content";d=void 0;if(k){h=h.na.U[k.S];v=h.tc;v && (f=f.na.U[v],f.P != h.P && (p=h.P,q=h.type,d=this.MVb(k.S,f.P)));}f={adPlaygraph:n?c.jla.decode(n):void 0,adMid:p,auxMid:p,auxMidType:q,manifestHasAds:!!n};void 0 !== d && (f.adBreakLocationMs=d);return f;}};m.prototype.MVb=function(d,f){var h,k,n,p;if(d=(0,l.BJ)(d))p=null === (n=null === (k=null === (h=this.context.od.wf) || void 0 === h?void 0:h.$g.Zg[f]) || void 0 === k?void 0:k[d.Cm]) || void 0 === n?void 0:n.PG;return p;};return m;})();b.EHa=r;},function(r,b,a){var c,l,g,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.yHa=void 0;c=a(1175);l=a(198);g=a(1178);m=a(1179);d=a(1182);f=a(1183);r=(function(){function h(k,n,p,q,v){this.PWa=new c.rHa(n,k,p,q,v);this.wDb=new l.GHa(p,q,this.$g);this.FV=new g.USa(this,p,k);this.rna=new m.xHa(this.FV,p,p.$e,k);p.HC.ag(new f.uHa(this.FV,this.$g,this.rna));this.PWa.oa(this.rna.events,this.FV.events);this.szb=new d.sHa(p,this.$g);}Object.defineProperties(h.prototype,{$g:{get:function(){return this.PWa;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{rR:{get:function(){return this.wDb;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Ohb:{get:function(){return this.FV;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{Vwa:{get:function(){return this.rna;},enumerable:!1,configurable:!0}});Object.defineProperties(h.prototype,{CFb:{get:function(){return this.szb;},enumerable:!1,configurable:!0}});h.prototype.ci=function(k){return this.FV.ci(k);};return h;})();b.yHa=r;},function(r,b,a){var l,g,m,d,f,h,k,n,p;function c(q){return null === q || void 0 === q?void 0:q.Zg.map(function(v){return v.kg;}).map(function(v){return null === v || void 0 === v?void 0:v.map(function(t){return t.id;});}).reduce(function(v,t){return null === t || void 0 === t?void 0:t.concat(v);},[]);}Object.defineProperties(b,{__esModule:{value:!0}});b.rHa=void 0;l=a(0);g=a(13);m=a(38);d=a(10);f=a(159);h=a(2);k=a(21);n=a(1176);p=a(1177);r=(function(){function q(v,t,w,u,x){this.config=v;this.console=t;this.Cb=w;this.od=u;this.M0=x;this.JA={};this.sYa=new f.v5();this.events=new g.EventEmitter();this.Cb.PFb(this.bTb.bind(this));}Object.defineProperties(q.prototype,{l1b:{get:function(){return this.Cb.na;},enumerable:!1,configurable:!0}});Object.defineProperties(q.prototype,{Zg:{get:function(){return this.dt.jW;},enumerable:!1,configurable:!0}});q.prototype.oa=function(v,t){this.dt=new n.IHa(v,t);this.mW=new p.FHa(this.dt,this.config,this.console,this.Cb,this.od);};q.prototype.Xaa=function(){var v;v=this;return !!(0,k.Qc)(Object.keys(this.Zg),function(t){return 0 < v.Zg[t].length;});};q.prototype.cR=function(v){var t,w;t=this.od.ii;(0,h.assert)(t,"Could not get graph location service");this.mW.cR(v);if(0 < this.dt.t2){d.M && this.console.trace("ads::seekStreaming: recreating inner playgraph");w=this.KE(this.od.na);t=t.Lpb(this.od.na,w);this.dt.reset();this.process(v);}t=this.mW.cHb(v,t,w);v=t.ti;t=t.YX;d.M && this.console.trace(("ads::seekStreaming: returning ").concat(JSON.stringify(v)));return {ti:v,YX:t,bwc:w};};q.prototype.X_=function(v,t){var w,u;w=this.OVb(v);u=this.JA[v.L];this.JA[v.L]=w;if(u !== w && (null === u || void 0 === u?void 0:u.Zg.length) !== (null === w || void 0 === w?void 0:w.Zg.length)){if(null === w || void 0 === w?0:w.Zg)(this.dt.efc(v.L,w.Zg),this.mW.Gfc(v),d.M && this.console.trace("Received ad metadata for",{O:v.L,hsc:c(w)}));v=this.Cb.Oma;w=this.Cb.config.i6a;if(t && this.Y$a(t.ti)){if(w && !v)return this.Vac(t);d.M && this.console.trace(("ads::seekStreaming: Ignoring delayed seek request ").concat(JSON.stringify(t),", didAppendData ").concat(v,", enablePrerollForInitialSeek ").concat(w));}this.process(null === t || void 0 === t?void 0:t.ti,null === t || void 0 === t?void 0:t.Nq);}};q.prototype.Vac=function(v){var t,w,u,x;d.M && this.console.trace(("ads::processDelayedSeekRequest: seek request ").concat(JSON.stringify(v)));t=this.od.ii;(0,h.assert)(t,"Could not get graph location service");w=v.ti;u=v.Nq;x=this.KE(this.od.na);t=t.Lpb(this.od.na,x);if(t=this.mW.BYb(v.ti,t,x))return (v=t.ti,w=t.YX,d.M && this.console.trace(("ads::processDelayedSeekRequest: executing delayed seek to\n            ").concat(JSON.stringify(v),", playerTimestamp ").concat(u,",\n                entryPoint ").concat(JSON.stringify(w))),this.process(v,u,w));this.process(w,null === v || void 0 === v?void 0:v.Nq);};q.prototype.process=function(v,t,w){var u;u=this;this.sYa.NA || this.sYa.vha(function(){u.M0(u.od.na,v,t,w);u.events.emit("adPlaygraphUpdated",{type:"adPlaygraphUpdated"});});};q.prototype.KE=function(v){var t,w,u;t=this;w=v;u=Object.keys(v.U).map(function(x){return ("").concat(v.U[x].P);});Object.keys(this.JA).forEach(function(x){var y,z;if(-1 !== u.indexOf(x)){y=t.JA[x];if(y){z=y.Zg.map(function(B,A){B=t.Zg[x][A];return B.Nt || B.kg.reduce(function(C,D,E){return D.zZ?l.__spreadArray(l.__spreadArray([],l.__read(C),!1),[E],!1):C;},[]);});y=(0,m.C3a)(parseInt(x),y,z,t.config.iBa);w=(0,m.Qza)(w,y);}}});return w;};q.prototype.Y$a=function(v){return !!this.JA[this.od.na.U[v.S].P];};q.prototype.OVb=function(v){if(v.mO && (v=v.mO,v.Zg.length))return v;};q.prototype.Osa=function(v){this.dt.Osa(v);this.events.emit("adSegmentDropped",{type:"adSegmentDropped",adId:v});this.process();};q.prototype.JEa=function(v,t,w){var u;return this.mW.JEa(v,t,w,null === (u=this.l1b) || void 0 === u?void 0:u.ie);};q.prototype.bTb=function(v){var t,w,u,x,y;t=this;w=!0;u=[];x=[];v.vJ(function(z,B){var A;A=t.Cb.n1b.na.U[z.G.id];(0,h.assert)(A,"Segment must be present in inner playgraph");if((A=t.dt.KVb(A.P,A.Ba)) && !A.Nt){if(A.PJb && !A.Mh){u.push(z);if(w && 0 === x.length || y === B)(x.push(A),y=B);return !1;}w=!1;}return !0;});u.forEach(function(z){return v.remove(z);});x.forEach(function(){});return v;};return q;})();b.rHa=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.IHa=void 0;c=a(2);l=a(21);g=a(470);r=(function(){function m(d,f){var h;h=this;this.t2=0;this.hA={};d.on("adEvent",function(k){return h.Y7b(k);});f.on("adBreakPresenting",function(k){return h.Nda(k);});}Object.defineProperties(m.prototype,{jW:{get:function(){return this.hA;},enumerable:!1,configurable:!0}});m.prototype.efc=function(d,f){this.hA[d]=f.map(function(h,k){return new g.YHa(h,k);});};m.prototype.reset=function(){this.t2=0;};m.prototype.Y7b=function(d){var f;f=this;"adComplete" === d.event && Object.keys(this.hA).some(function(h){var k,n,p;h=null !== (k=(p=f.hA)[h]) && void 0 !== k?k:p[h]=[];(0,c.assert)(void 0 !== d.Cm,"complete event should have an adBreakIndex");return null === (n=h[d.Cm].kg) || void 0 === n?void 0:n.some(function(q){return q.id == d.ba.L?(q.Nt=!0,f.t2++,!0):!1;});});};m.prototype.Nda=function(d){var f;f=this;Object.keys(this.hA).forEach(function(h){var k,n;(null !== (k=(n=f.hA)[h]) && void 0 !== k?k:n[h]=[]).forEach(function(p){p !== d.gp.uf && p.$Pb();});});};m.prototype.Osa=function(d){var f;f=this;Object.keys(this.hA).forEach(function(h){f.hA[h].forEach(function(k){k.kg.forEach(function(n){n.id == d && (n.zZ=!0);});});});};m.prototype.oRb=function(d){var f,h;d=this.hA[d];0 === (null === (f=null === d || void 0 === d?void 0:d[0]) || void 0 === f?void 0:f.cs) && (d[0].kg.forEach(function(k){return k.Nt=!0;}),this.t2+=(null === (h=null === d || void 0 === d?void 0:d[0]) || void 0 === h?void 0:h.kg.length) || 0);};m.prototype.KVb=function(d,f){return (d=this.jW[d]) && (0,l.Qc)(d,function(h){return h.cs === f;});};return m;})();b.IHa=r;},function(r,b,a){var c,l,g,m,d;Object.defineProperties(b,{__esModule:{value:!0}});b.FHa=void 0;c=a(60);l=a(10);g=a(6);m=a(2);d=a(198);r=(function(){function f(h,k,n,p,q){this.dt=h;this.config=k;this.console=n;this.Cb=p;this.od=q;this.yN=!0;}f.prototype.Gfc=function(h){this.EV=void 0;this.yN && (this.yN=!this.config.h5a || !h.getTracks(g.u.J).map(function(k){var n;return null === (n=k.km) || void 0 === n?void 0:n.Px;}).some(function(k){return k && 3 === k.Ur && 4 === k.w;}));l.M && this.console.trace(("ads::policiesManager: enablePrerollOnSeek for ").concat(h.L,"} is ").concat(this.yN));};f.prototype.cR=function(h){var k;if(h.offset.equal(c.N.Oa) && !this.yN){k=this.od.na;k.ie === h.S && (h=k.U[h.S].P,l.M && this.console.trace("ads::seekStreaming: dropping preroll for viewable " + h),this.dt.oRb(h));}};f.prototype.cHb=function(h,k,n){var p,q;k=h=k.RE(h);n=null !== n && void 0 !== n?n:this.Cb.na;p=n.U[h.S];"padding" === p.type && (h={S:p.dc,offset:c.N.Oa});if(p=this.Cb.X.IY())if((p=p.G.id,l.M && this.console.trace(("ads::seekStreaming: seek from segment ").concat(p)),n=this.AYb(p,h,n)))if(n.S){l.M && this.console.trace(("ads::seekStreaming: prerollSegment ").concat(n.S));k={S:n.S,offset:c.N.Oa};q=h;}else this.EV=n.uf;return {ti:k,YX:q};};f.prototype.BYb=function(h,k,n){var p;p=this.dt.jW[this.od.na.U[h.S].P];h=k.RE(h);if(n=this.zYb(n,p)){if(n.S)return {ti:k.Pw({S:n.S,offset:c.N.Oa}),YX:h};this.EV=n.uf;}};f.prototype.JEa=function(h,k,n,p){if(this.EV)return (k=this.EV,this.EV=void 0,k);if((h=this.dt.jW[h]) && h.length)if(n && k.S === p && k.offset.equal(c.N.Oa)){if((k=h[0],0 === k.cs && 0 === k.kg.length && !k.Nt && !k.xwa))return k;}else if(!n)return this.Zua(k.S,h);};f.prototype.AYb=function(h,k,n){var p,t,w;l.M && this.console.trace("AdPoliciesManager: getPrerollAdOnSeek: " + ("from ").concat(h," to ").concat(JSON.stringify(k)," ").concat(this.yN));if(this.yN){if(n){p=this.dt.jW[this.od.na.U[n.U[k.S].tc].P];n=n.U;h=n[h].dc;for(var q=void 0,v=void 0;h;){t=n[h];if("content" === t.type && ("content" === q || void 0 === q) && p){w=this.Zua(h,p);w && (v={uf:w});}if(h === k.S)return (k=v && !v.S || q && "content" !== q?v:void 0,l.M && this.console.trace(("AdPoliciesManager: getPrerollOnSeek: returning ").concat(k)),k);"ad" === t.type && "ad" !== q && (l.M && this.console.trace(("AdPoliciesManager: getPrerollOnSeek: found start of ad break: ").concat(h)),q=(0,d.BJ)(h),(0,m.assert)(q,"AdPoliciesManager: getPrerollOnSeek: Unable to find ad from ad segmentId"),v={S:h,uf:p[null === q || void 0 === q?void 0:q.Cm]});q=t.type;h=t.dc;}}l.M && this.console.trace("AdPoliciesManager: getPrerollOnSeek: returning undefined");}};f.prototype.zYb=function(h,k){var n;l.M && this.console.trace("AdPoliciesManager: getPrerollAdBreakForPlaygraph");n=h.U[h.ie].type;if(n && "content" !== n)return (n=(0,d.BJ)(h.ie),(0,m.assert)(n,"getPrerollAdBreakForPlaygraph: getPrerollSegmentId: Unable to find ad from ad segmentId"),{S:h.ie,uf:k[null === n || void 0 === n?void 0:n.Cm]});if(h=this.Zua(h.ie,k))return {uf:h};};f.prototype.Zua=function(h,k){h=(0,d.z8a)(h);(0,m.assert)(h,"Should have contentInfo from segment name");if(0 < h.r3a && (k=k[h.r3a - 1],0 === k.kg.length && !k.Nt && !k.xwa))return k;};return f;})();b.FHa=r;},function(r,b,a){var c,l,g,m,d,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.USa=void 0;c=a(0);l=a(13);g=a(10);m=c.__importDefault(a(3));d=a(8);f=a(21);h=a(2);r=(function(){function k(n,p,q){var v;v=this;this.iA=n;this.Cb=p;this.Zma=new l.ef();this.sna=!1;this.H=(0,d.Oi)(m.default,q,"PLAYERADMANAGER");this.events=new l.EventEmitter();this.Cb.events.on("playerChanged",this.Phb.bind(this));this.Phb();this.$g.events.on("adPlaygraphUpdated",function(t){return v.events.emit("adPlaygraphUpdated",t);});this.$g.events.on("adSegmentDropped",function(t){v.Z7b(t);});}Object.defineProperties(k.prototype,{mZ:{get:function(){return this.sna;},enumerable:!1,configurable:!0}});k.prototype.ci=function(n){var p;if(!this.Cb.Xv)return (g.M && this.H.trace("PlayerAdManager.canSkip(): no player"),!1);p=this.Cb.X;if(!p.uY(n))return (g.M && this.H.trace("PlayerAdManager.canSkip() false, no branch spanning playerTimestamp:",n),!1);g.M && this.H.trace(("PlayerAdManager.canSkip(): ").concat(p.xe.Fb()," -> ").concat(n.Fb()));n=n.greaterThan(p.xe)?(0,d.Nta)(p.eb,p.xe,n):(0,d.Nta)(p.eb,n,p.xe);p=!n.some(function(q){return "content" !== q.G.G.type;});g.M && this.H.trace(("PlayerAdManager.canSkip(): ").concat(p,"; ").concat(n.map(function(q){return ("").concat(q.G.id," ").concat(q.G.G.type," ").concat(q.Bd,"..").concat(q.Bd);})));return p;};Object.defineProperties(k.prototype,{$g:{get:function(){return this.iA.$g;},enumerable:!1,configurable:!0}});k.prototype.Phb=function(){var n,p;n=this;this.H.trace("Player changed",this.Cb.Xv);this.Zma.clear();if(this.Cb.Xv){p=this.Cb.X;this.Zma.addListener(p.events,"segmentPresenting",function(q){return n.My(q);});this.Zma.addListener(p.events,"playbackEnding",function(q){return n.SAa(q);});}};k.prototype.My=function(n){var p,q,v,t,w;p=this.rR.NVb(n.position,!!n.seek);if(p){q=p.uf;v=p.$f;g.M && this.H.trace(("Got segment presenting event: adBreak: ").concat(q,", ad: ").concat(v));t=this.rR.yC;w={Nq:n.playerTimestamp,position:n.position,uf:q};this.mZ || (q.kg.length?this.yFb(t,w):this.nE(n.playerTimestamp,n.position,q));v && this.Dn(t,w,v);}!this.mZ || p && "end" !== p.e0 || this.nE(n.playerTimestamp,n.position);this.mZ && !p && this.m_a(n.position);};k.prototype.SAa=function(n){this.mZ && this.P1b(n.position) && (this.nE(n.playerTimestamp,n.position),this.m_a(n.position));};k.prototype.yFb=function(n,p){(0,h.assert)(n,"Should have presenting info for event corresponding to ad break");g.M && this.H.trace("Emitting adBreakPresenting");this.sna=!0;this.events.emit("adBreakPresenting",{type:"adBreakPresenting",presentingInfo:n,gp:p});};k.prototype.Dn=function(n,p,q){g.M && this.H.trace("Emitting adPresenting");(0,h.assert)(n,"Should have presenting info for event corresponding to ad break");this.events.emit("adPresenting",{type:"adPresenting",presentingInfo:n,gp:c.__assign(c.__assign({},p),{$f:q})});};k.prototype.nE=function(n,p,q){g.M && this.H.trace("Emitting adBreakComplete");this.events.emit("adBreakComplete",{type:"adBreakComplete",gp:{Nq:n,position:p,uf:q}});};k.prototype.m_a=function(n){this.sna=!1;g.M && this.H.trace("Emitting adBreakEnded");this.events.emit("adBreakEnded",{type:"adBreakEnded",eventInfo:{position:n}});};k.prototype.Aua=function(n){var p,q,v,t;p=this;q={$Gb:[],result:{}};v=this.$g.JA;t=Object.keys(v).filter(function(w){return v[w];});if(null === n || void 0 === n?0:n.cqb)t=t.filter(function(w){var u;return -1 !== (null === (u=n.cqb) || void 0 === u?void 0:u.indexOf(w));});q.$Gb=t;t.forEach(function(w){var u,x,y;x=null === (u=v[w]) || void 0 === u?void 0:u.Zg;if(x){u=p.XTb(w,x);y=p.$g.Zg[w];q.result[("").concat(w)]=u.map(function(z,B){return c.__assign(c.__assign({},z),{hasCompletedPlayback:y[B].Y1b});});}});return q;};Object.defineProperties(k.prototype,{rR:{get:function(){return this.iA.rR;},enumerable:!1,configurable:!0}});k.prototype.XTb=function(n,p){var q,v;q=[];v=[];this.$g.Zg[n].forEach(function(t){return t.kg.forEach(function(w){w.zZ && -1 === v.indexOf(w.id) && v.push(w.id);});});p.forEach(function(t){var w,u;t=c.__assign({},t);u=null === (w=t.ads) || void 0 === w?void 0:w.filter(function(x){return -1 === v.indexOf(x.id);});t.ads=u;q.push(t);});return q;};k.prototype.Z7b=function(n){var p,q,v,t;p=this;q=n.adId;v=this.$g.JA;n=Object.keys(v).filter(function(w){return v[w];});t=this.Cb.na.U;n.forEach(function(w){var u,x;null === (x=null === (u=v[w]) || void 0 === u?void 0:u.Zg) || void 0 === x?void 0:x.forEach(function(y,z){var B;null === (B=y.kg) || void 0 === B?void 0:B.forEach(function(A,C){A.id === q && (A=(0,f.Qc)(Object.keys(t),function(D){D=p.rR.BJ(D);return !D || D.fK?!1:C === D.R7 && z === D.Cm;})) && p.events.emit("segmentDropped",{type:"segmentDropped",auxMid:q,auxMidType:"ad",adBreakLocationMs:y.PG,reason:"network_error",sev:"error",segmentId:A});});});});};k.prototype.P1b=function(n){var p;p=this.Cb.navigator;return (n=p.Be(n.S)) && !p.p_b(n);};return k;})();b.USa=r;},function(r,b,a){var c,l,g,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.xHa=void 0;r=a(0);c=a(13);l=r.__importDefault(a(3));g=a(8);m=a(2);d=a(10);f=a(1180);a=(function(){function h(k,n,p,q){this.Cb=n;this.$e=p;this.Cr=0;this.events=new c.EventEmitter();this.console=(0,g.Oi)(l.default,q,"IMPRESSION");k.events.addListener("adBreakPresenting",this.Nda.bind(this));k.events.addListener("adBreakComplete",this.Mda.bind(this));k.events.addListener("adPresenting",this.IAa.bind(this));}Object.defineProperties(h.prototype,{mZ:{get:function(){return !!this.Cn;},enumerable:!1,configurable:!0}});h.prototype.Nda=function(k){this.Cn && (d.M && this.console.warn("Unexpected back-to-back ad breaks"),this.Cn.Mda(k.gp.position),this.Cr+=this.Cn.pGa,this.Cn=void 0);(0,m.assert)(k.gp.uf,"Ad break must be defined for ad break presenting");this.Cn=new f.qHa(this.Cb,this.$e,this.events,k.gp.uf,this.console);};h.prototype.Mda=function(k){var n,p,q;q=k.gp.uf || (null === (n=this.Cn) || void 0 === n?void 0:n.uf);d.M && this.console.trace(("adBreakComplete event, ").concat(this.Cn?"have":"no"," impression logger, ") + (q?("ad break ").concat(q.Cm," is ") + ("").concat(q.kg.length?"not ":"","empty, ") + ("has ").concat(q.Nt?"":"not ","played"):"no ad break"));if(0 === (null === (p=k.gp.uf) || void 0 === p?void 0:p.kg.length))((0,m.assert)(!this.Cn,"Received ad break complete for empty ad break during ad break"),k.gp.uf.Ffc(),this.Nda(k));else if(!this.Cn)return;this.Cn.Mda(k.gp.position);this.Cr+=this.Cn.pGa;this.Cn=void 0;};h.prototype.IAa=function(k){var n,p;(0,m.assert)(this.Cn,"Expect to be in ad break when ad presenting is received");(0,m.assert)(this.Cn.uf === k.gp.uf,"Expect to be in correct ad break when ad presenting is received");p=null === (n=this.Cb.vY(k.gp.position.S)[0]) || void 0 === n?void 0:n.O;this.Cn.IAa(k.gp.$f,p,k.gp.position.S,k.gp.Nq);};h.prototype.jy=function(){var k;return {"break":null === (k=this.Cn) || void 0 === k?void 0:k.jy(),errors:this.Cr};};return h;})();b.xHa=a;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.qHa=void 0;c=a(0);l=c.__importDefault(a(3));g=a(1181);r=(function(){function m(d,f,h,k,n){this.Ja=d;this.$e=f;this.events=h;this.uf=k;this.console=n;this.Cr=0;k.D8 && l.default.ping && l.default.ping(k.D8);}Object.defineProperties(m.prototype,{pGa:{get:function(){return this.Cr;},enumerable:!1,configurable:!0}});m.prototype.IAa=function(d,f,h,k){this.Mx && (this.Mx.Wa(),this.Mx=void 0);this.Mx=new g.VUa(this.Ja,this.$e,this.events,this.uf,d,f,h,k,this.console);};m.prototype.Mda=function(d){this.Mx && (this.Mx.Wa(),this.Mx=void 0);try{this.events.emit("adBreakEvent",c.__assign(c.__assign({type:"adBreakEvent"},this.uf.Ooa.complete),{Ni:d,uI:this.uf.PG,Cm:this.uf.Cm}));this.uf.xwa=!0;}catch(f){this.console.error("Impression error event",f);this.Cr++;}};m.prototype.jy=function(){var d;return {ad:null === (d=this.Mx) || void 0 === d?void 0:d.jy(),errors:this.Cr};};return m;})();b.qHa=r;},function(r,b,a){var c,l,g,m,d,f,h,k;Object.defineProperties(b,{__esModule:{value:!0}});b.VUa=void 0;c=a(0);l=a(60);g=a(10);m=a(482);d=a(8);f=a(21);h=a(2);k=a(61);r=(function(){function n(p,q,v,t,w,u,x,y,z){var B;B=this;this.Ja=p;this.$e=q;this.events=v;this.uf=t;this.$f=w;this.Uoa=u;this.S7=x;this.nW=y;this.console=z;this.oo=l.platform.time.now();this.WL=new Map();this.Cr=0;(0,h.assert)(u.ba,"Presenting ad should have a manifest");this.q_a=q.oB(function(){return B.mjc();},"impressionLogging");this.Ja.X.jG.forEach(function(A,C){(A=A.uUb(m.Dia)) && B.WL.set(C,A);});}Object.defineProperties(n.prototype,{pGa:{get:function(){return this.Cr;},enumerable:!1,configurable:!0}});n.prototype.Wa=function(){this.q_a.Wa();};n.prototype.mjc=function(){var p,q,v,t,w,u,x,y,z,B,A,C,D,E;return c.__generator(this,function(G){switch(G.label){case 0:(g.M && this.console.trace("AdImpressionLogger: starting at",this.nW.Fb()),p=this.$f,this.z2a(),v=q=this.nW,t=this.nW.add(p.endTime),G.label=1);case 1:(G.Es.push([1,,12,13]),(0,h.assert)(null === (C=p.mE) || void 0 === C?void 0:C.start,"Start event info should be defined"),this.emit(p.mE.start,0,q,!1),(0,h.assert)(p.Dga,"Timed event info should be defined"),G.label=2);case 2:(G.Es.push([2,7,8,9]),w=c.__values(p.Dga),u=w.next(),G.label=3);case 3:if(u.done)return [3,6];x=u.value;q=this.nW.add(d.N.Na(x.QFa));g.M && this.console.trace(("AdImpressionLogger[").concat(this.S7,"]: waiting for ").concat(x.QFa,"ms timed event") + (" at ").concat(q.Fb()));return [4,k.bj.dD(q)];case 4:(G.zb(),v=q,this.emit(x,x.QFa,q,!1),G.label=5);case 5:return (u=w.next(),[3,3]);case 6:return [3,9];case 7:return (y=G.zb(),B={error:y},[3,9]);case 8:try{u && !u.done && (A=w.return) && A.call(w);}finally{if(B)throw B.error;}return [7];case 9:if(!t.greaterThan(q))return [3,11];q=t;g.M && this.console.trace(("AdImpressionLogger[").concat(this.S7,"]: waiting for end of ad at ").concat(q.Fb()));return [4,k.bj.dD(q)];case 10:(G.zb(),v=q,G.label=11);case 11:return [3,13];case 12:this.Ja.X.nf && (v=this.Ja.X.xe);if(v.mk(t))((0,h.assert)(null === (D=p.mE) || void 0 === D?void 0:D.complete,"Complete event should be defined"),this.emit(p.mE.complete,p.endTime.Z,t,!0));else if(null === (E=p.mE) || void 0 === E?0:E.stop)(z=v.Ga(this.nW).Z,this.emit(p.mE.stop,z,v,!0));this.z2a();return [7];case 13:return [2];}});};n.prototype.emit=function(p,q,v,t){g.M && this.console.trace(("AdImpressionLogger[").concat(this.S7,"]: emitting ").concat(p.event," event at ").concat(q,"ms") + (" for player time ").concat(v.Fb()));q={S:this.S7,offset:d.N.Na(q)};v=this.Cva(v);try{this.events.emit("adEvent",c.__assign(c.__assign({type:"adEvent"},p),{Ni:q,Py:v,ba:this.Uoa.ba,oo:this.oo,kxc:t?l.platform.time.now():-1,uI:this.uf.PG,Cm:this.uf.Cm,wS:this.$f.wS,dw:this.$f.dw}));}catch(w){this.console.error("Impression error event",w);this.Cr++;}};n.prototype.Cva=function(p){var q,v,t;q=this.Uoa.ba.L;v=c.__read(this.V9a(p,this.WL.get(l.u.T),q),2);t=v[0];v=v[1];p=c.__read(this.V9a(p,this.WL.get(l.u.J),q),2);return {audio:t,video:p[0],text:[],total:Math.max(v,p[1])};};n.prototype.V9a=function(p,q,v){p=(null === q || void 0 === q?void 0:q.Rgc(p,v)) || [];p=(0,f.flatten)(p.map(function(t){return Object.keys(t.iJ).map(function(w){w=t.iJ[w];return {Tb:w.Tb,duration:w.totalTime,Ro:t.Ro};});}));q=p.reduce(function(t,w){return t + w.duration;},0);g.M && this.console.trace("Getting playtime journal",{L:v,swc:p.length,totalTime:q});return [p,q];};n.prototype.z2a=function(){var p,q,v;v=this.Uoa.ba.L;null === (p=this.WL.get(l.u.T)) || void 0 === p?void 0:p.Ajb(v);null === (q=this.WL.get(l.u.J)) || void 0 === q?void 0:q.Ajb(v);};n.prototype.jy=function(){return {ad:this.q_a.jy(),errors:this.Cr};};return n;})();b.VUa=r;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.sHa=void 0;c=a(21);r=(function(){function l(g,m){this.rv=g;this.$g=m;}l.prototype.pwa=function(g){var m;m=this;return this.rv.X.eb.some(function(d){return d.G.G.P === g && d.f0a;})?!1:(0,c.Qc)(Object.keys(this.$g.JA),function(d){if(d=m.$g.JA[d])return (0,c.Qc)(d.Zg,function(f){return f.kg && (0,c.Qc)(f.kg,function(h){return h.id === g;});});})?(this.$g.Osa(g),!0):!1;};return l;})();b.sHa=r;},function(r,b,a){var c,l;Object.defineProperties(b,{__esModule:{value:!0}});b.uHa=void 0;c=a(13);l=a(28);r=(function(){function g(m,d,f){var k;function h(n){var p,q;(p=k.state.Soa)[q=n.event] || (p[q]=0);k.state.Soa[n.event]++;}k=this;this.$g=d;this.Vwa=f;this.QD=new c.ef();this.eu="adImpressionAudit";this.he="adImpressionAuditor";this.enabled=!0;this.QD.on(m.events,"adPresenting",function(){return k.state.V_a++;});this.QD.on(m.events,"adBreakPresenting",function(){return k.state.o_a++;});this.QD.on(f.events,"adEvent",h);this.QD.on(f.events,"adBreakEvent",h);this.state={o_a:0,Soa:{},V_a:0};}g.prototype.il=function(m){m=m.Pg;if(this.$g.Xaa() && m === l.Kc.el)return {presented:{breaks:this.state.o_a,ads:this.state.V_a},events:this.state.Soa,logger:this.Vwa.jy()};};g.prototype.Wa=function(){this.QD.clear();};return g;})();b.uHa=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.NO=void 0;c=a(0);l=a(1185);g=a(195);b.NO=function(m,d){var f,h,k;f=[function(n){return new (l.Zha.bind.apply(l.Zha,c.__spreadArray([void 0],c.__read(n.z$b),!1)))();}];if(m.RX){h=a(483).Jra;f.unshift(function(n,p){return h(n,p);});}if(m.nJ){k=a(483).Jra;f.unshift(function(n,p){return k(n,p);});}return g.yT.Gba({z$b:d},f);};},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t;Object.defineProperties(b,{__esModule:{value:!0}});b.Zha=void 0;c=a(0);l=a(13);g=a(8);m=a(2);d=a(61);f=a(21);r=a(137);h=a(1186);k=a(133);n=a(1187);p=a(468);q=a(1190);v=a(1191);t=r.Qy.qsa;a=(function(w){function u(x,y,z){var B,A;A=w.call(this) || this;A.X=x;A.Wf=y;A.Ws=z;A.NX=[];A.Nf=void 0;A.eV=new l.ef();A.TD=void 0;A.ZD=void 0;A.Fna=void 0;A.eV.on(A.X,"underflow",A.li.bind(A));A.UU=new q.WSa(x);A.eV.on(A.X,"skipped",A.V_.bind(A));A.eV.on(A.X,"playing",A.TAa.bind(A));A.eV.on(A.X,"playbackEnding",A.SAa.bind(A));A.Fx=new d.FU(A.UU,A.H,"player");A.$Ga=new g.EH();x.V1a && x.yg && (A.ez=new v.AUa(A,x,A.H,null === (B=A.Ja) || void 0 === B?void 0:B.config));return A;}c.__extends(u,w);Object.defineProperties(u.prototype,{Gp:{get:function(){var x;return null === (x=this.Nf) || void 0 === x?void 0:x.Gp;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{jG:{get:function(){var x;return (null === (x=this.Nf) || void 0 === x?void 0:x.jG) || new Map();},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{eb:{get:function(){var x,y;return null !== (y=null === (x=this.Nf) || void 0 === x?void 0:x.ky()) && void 0 !== y?y:[];},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Ncb:{get:function(){return this.Fna;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{Ja:{get:function(){var x;return null === (x=this.Nf) || void 0 === x?void 0:x.Ja;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{za:{get:function(){return this.UU;},enumerable:!1,configurable:!0}});Object.defineProperties(u.prototype,{o0a:{get:function(){var x,y;return !!((null === (x=this.Nf) || void 0 === x?0:x.SEa) && (null === (y=this.Wt) || void 0 === y?0:y.Dj));},enumerable:!1,configurable:!0}});u.prototype.TAa=function(x){var y;this.Fna=this.Vm(null !== (y=x.re) && void 0 !== y?y:this.X.Oc);(0,m.assert)(this.Fna,"Should have a location");};u.prototype.SAa=function(){var x,y;x=this.X.Oc;y=this.Vm(x);(0,m.assert)(y,"Playback ending at position outside playgraph");this.events.emit("playbackEnding",{type:"playbackEnding",playerTimestamp:x,position:y});};u.prototype.Sfa=function(x){-1 === this.NX.indexOf(x) && this.NX.push(x);this.Nf && this.Nf.Q_(x);this.events.emit("drmReady",{viewableId:x});};u.prototype.rlb=function(x){x=this.NX.indexOf(x);-1 !== x && this.NX.splice(x,1);};u.prototype.Yr=function(x){var y;return -1 !== this.NX.indexOf(x) || !(null === (y=(0,f.Qc)(this.eb,function(z){return z.Bq && z.O.P === x;})) || void 0 === y || !y.O.Rl);};u.prototype.AG=function(x){var y;null === (y=this.Nf) || void 0 === y?void 0:y.AG(x);};u.prototype.reset=function(){var x,y;this.$Ga=new g.EH();w.prototype.reset.call(this);this.ZD=void 0;null === (x=this.Nf) || void 0 === x?void 0:x.reset();null === (y=this.ez) || void 0 === y?void 0:y.reset();};u.prototype.pDa=function(x){this.NR([x]);};u.prototype.NR=function(x){var y,z;y=this;x.forEach(function(B){var A;w.prototype.pDa.call(y,B);null === (A=y.ez) || void 0 === A?void 0:A.Bdc(B);});null === (z=this.Nf) || void 0 === z?void 0:z.NR(x);};u.prototype.EE=function(){var x;null === (x=this.Nf) || void 0 === x?void 0:x.EE();};u.prototype.pause=function(x){this.EL(x);w.prototype.pause.call(this,null !== x && void 0 !== x?x:this.Wf);};u.prototype.resume=function(x){var y;null === (y=this.Nf) || void 0 === y?void 0:y.resume(x);w.prototype.resume.call(this,null !== x && void 0 !== x?x:this.Wf);};u.prototype.Wa=function(){this.TD=this.fba()?this.Wn():void 0;this.Nf && this.zsa(this.Nf.Ja);this.UU.Wa();this.Fx.Wa();this.eV.clear();w.prototype.Wa.call(this);};u.prototype.FJ=function(){var x,y;if(null === (x=this.Nf) || void 0 === x?0:x.Kac){x=this.X.Oc;if(this.za.pk){if(this.ZD){if(this.ZD.greaterThan(x))return (x=this.ZD.Ga(x),this.$Ga.push(x.Z),this.ZD);if(this.eb.length){y=this.Nf.r3b;if(y && y.lessThan(x))return (this.events.emit("logdata",{type:"logdata",target:"endplay",fd:{clockdrift:{type:"count"}}}),this.ZD);}}this.ZD=x;}return x;}return w.prototype.FJ.call(this);};u.prototype.Jt=function(){var x;x=this.X.playbackRate;void 0 === x && (x=w.prototype.Jt.call(this));return x;};u.prototype.fba=function(){return !!this.TD || w.prototype.fba.call(this);};u.prototype.Wn=function(){return this.TD?this.TD:w.prototype.Wn.call(this);};u.prototype.IY=function(){var x;return null === (x=this.Nf) || void 0 === x?void 0:x.i3b;};u.prototype.zsa=function(x){var y;(0,m.assert)(x === this.Ja);null === (y=this.Nf) || void 0 === y?void 0:y.Wa();this.Nf=void 0;};u.prototype.x8=function(x,y){var z,B;this.TD=void 0;z=w.prototype.x8.call(this,x,y);if(z){B=new n.wIa(x,this,this.H,x.config,this.Ws,this.events,this.Wf,this.Fx,this.ez,this.UD,this.SD,null === y || void 0 === y?void 0:y.Gp,null === y || void 0 === y?void 0:y.jG);null === y || void 0 === y?void 0:y.fR();this.Nf=B;this.EL(this.iR);this.ez && (y=x.HC.OYb(h.Ela),y || (y=new h.Ela(),x.ag(y)),this.ez.vcc(y));}return z;};u.prototype.fR=function(){var x;null === (x=this.Nf) || void 0 === x?void 0:x.fR();};u.prototype.hta=function(){var z;for(var x=[],y=0;y < arguments.length;y++){x[y]=arguments[y];}z=this.Nf;(0,m.assert)(z);x.forEach(function(B){return z.JSb(B);});};u.prototype.REa=function(){var x;null === (x=this.Nf) || void 0 === x?void 0:x.REa();};u.prototype.ci=function(x){var y,z,B;if(!this.Nf)return !1;y=this.uY(x);if(!y)return !1;z=y.G;B=g.N.Na(this.Ws.OQ);return z.yh.Ga(B).lessThan(x) || !y.HE(x)?!1:this.Nf.ci(x);};u.prototype.Eaa=function(){var x;return null === (x=this.ez) || void 0 === x?void 0:x.Eaa();};u.prototype.li=function(){var x,y,z;if(null === (x=this.Ja) || void 0 === x?0:x.Uf)this.console.error("AsePlayer: received underflow in buffering state - ignoring");else {z=this.xe;(0,m.assert)(this.Ja);x=this.Vm(z,!0);(0,m.assert)(x);null === (y=this.Nf) || void 0 === y?void 0:y.li();y=this.uY(z);null === y || void 0 === y?void 0:y.O.li();this.Ja.li(x);}};u.prototype.V_=function(){this.ZD=void 0;};u.prototype.Gua=function(){var x;return null === (x=this.Nf) || void 0 === x?void 0:x.Gua();};u.prototype.EL=function(x){var y;null === (y=this.Nf) || void 0 === y?void 0:y.EL(x);};u.prototype.$Fa=function(x){(0,m.assert)(this.Ja && this.Nf);return w.prototype.$Fa.call(this,x);};u.prototype.Kea=function(){(0,m.assert)(this.Nf);this.Nf.Kea();};c.__decorate([t.return.eqa(),t.return.so],u.prototype,"Wn",null);c.__decorate([t.return.eqa(),t.return.Jda],u.prototype,"IY",null);return u=c.__decorate([k.zJ],u);})(p.ila);b.Zha=a;},function(r,b,a){var c;Object.defineProperties(b,{__esModule:{value:!0}});b.Ela=void 0;c=a(28);r=(function(){function l(){this.eu=this.he=l.he;this.enabled=!0;this.c1=[];this.qkb=0;}l.prototype.lGb=function(g){this.c1.push(g);5 < this.c1.length && this.c1.shift();};l.prototype.mGb=function(){this.qkb++;};l.prototype.il=function(g){var m;m=g.Pg;g=g.MF;if((m === c.Kc.zl || m === c.Kc.hn || m === c.Kc.el || void 0 === m && void 0 === g) && this.c1.length)return {restarts:this.c1.map(function(d){return {s:d.Xgc,d:d.uQb,r:d.reason,atMs:d.F$b.Z};}),restartsCompleted:this.qkb};};l.he="seamlessManager";return l;})();b.Ela=r;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t,w,u;Object.defineProperties(b,{__esModule:{value:!0}});b.wIa=void 0;c=a(0);l=a(13);g=a(450);m=c.__importDefault(a(3));d=a(191);f=a(6);h=a(268);k=a(8);n=a(21);p=a(61);q=a(256);v=a(2);t=a(1188);w=a(1189);u=a(482);r=(function(){function x(y,z,B,A,C,D,E,G,F,L,O,K,I){var M;M=this;this.Ja=y;this.X=z;this.H=B;this.K=A;this.Ws=C;this.Xg=D;this.Wf=E;this.$e=G;this.ez=F;this.UD=L;this.SD=O;this.d6=!1;this.HXa=new k.SUa();this.Tna=this.b8b.bind(this);this.$j=new d.XG(this.H);this.aW=K || new w.Yla(this.H,y);this.xOb(I);this.yj && (this.zDb=this.Eua(this.DYb()),this.ZBb=k.Yz.Wlc(this.yj.map(function(H){return H.cu;}),function(H){return H.every(function(J){return J;});},function(H){return M.UD.set(H);}),this.Qzb=new q.yka(this.yj.map(function(H){return H.jya;}),function(H){return k.N.min.apply(k.N,c.__spreadArray([],c.__read(H),!1));},function(H){M.SD.set(H);},k.N.Na(-Infinity)));this.wr=G.oB(function(){return M.JIb();},"branchPruner");this.QD=new l.ef();this.QD.on(this.Xg,"segmentPresenting",function(){return c.__awaiter(M,void 0,void 0,function(){var H;return c.__generator(this,function(J){switch(J.label){case 0:return (this.LBb=this.X.Wn(),null !== (H=this.K.D0a) && void 0 !== H && H.segmentPresenting?[4,Promise.resolve()]:[3,2]);case 1:(J.zb(),this.Xg.emit("requestGarbageCollection",{time:m.default.time.fa(),type:"requestGarbageCollection"}),J.label=2);case 2:return [2];}});});});}Object.defineProperties(x.prototype,{Gp:{get:function(){return this.aW;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{jG:{get:function(){var y;y=new Map();this.yj.forEach(function(z){y.set(z.mediaType,z.tR);});return y;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{i3b:{get:function(){return this.LBb;},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{SEa:{get:function(){return this.yj.every(function(y){return y.SEa;});},enumerable:!1,configurable:!0}});x.prototype.JIb=function(){var y,z,B,A,C,D;return c.__generator(this,function(E){switch(E.label){case 0:if(!this.$j.a3a)return [3,2];y=c.__read(this.$j.j2(),1);z=y[0];B=z.G.f2b && (null === (D=this.Ws.fS) || void 0 === D?void 0:D.Z) || 0;A=z.MZ || z.Vc;C=A.add(k.N.Na(B + 1E3));return [4,p.bj.dD(C)];case 1:return (E.zb(),this.Iib(z),[3,0]);case 2:return [2];}});};Object.defineProperties(x.prototype,{Kac:{get:function(){var y;return !(null === (y=this.zDb) || void 0 === y || !y.cu.value);},enumerable:!1,configurable:!0}});Object.defineProperties(x.prototype,{r3b:{get:function(){return this.d6?k.N.max.apply(k.N,c.__spreadArray([],c.__read(this.yj.map(function(y){var z;return null === (z=y.FHb) || void 0 === z?void 0:z.Mcb;}).filter(n.Cda)),!1)):void 0;},enumerable:!1,configurable:!0}});x.prototype.AG=function(y){this.yj.forEach(function(z){z.AG(y);});};x.prototype.b8b=function(){var y;this.wr.yg();y=this.yj.filter(function(z){return z.D1b;}).map(function(z){return z.mediaType;});this.EL(y);this.resume(y);};x.prototype.JSb=function(y){(0,v.assert)(-1 === this.$j.j2().indexOf(y),("Branch ").concat(y.G.id," is already in the collection, cannot re-queue"));y.events.on("branchEdited",this.Tna);this.$j.enqueue(y);this.wr.state === p.xm.complete && this.wr.yg();y.G.zu && this.$j.mP();this.d6 || this.DUb(y);};x.prototype.Q_=function(y){this.yj.forEach(function(z){z.Q_(y);});};x.prototype.reset=function(){this.yj.forEach(function(y){y.reset();});this.d6=!1;this.HXa.removeAllListeners();this.EE();};x.prototype.pDa=function(y){this.NR([y]);};x.prototype.NR=function(y){var z;z=this;y.forEach(function(B){B=z.Eua(B);null === B || void 0 === B?void 0:B.reset(!1,y);});};x.prototype.EE=function(){var y;y=this;this.$j.j2().forEach(function(z){return z.events.Jy("branchEdited",y.Tna);});this.$j.clear();this.wr.yg();};x.prototype.Kea=function(){var y;y=this;this.$j.j2().filter(function(z){return z.nO;}).forEach(function(z){return y.Iib(z);});};x.prototype.resume=function(y){this.yj.forEach(function(z){void 0 !== y && -1 === y.indexOf(z.mediaType) || z.resume();});};x.prototype.EL=function(y){this.yj.forEach(function(z){return (void 0 === y || -1 !== y.indexOf(z.mediaType)) && z.stop();});};x.prototype.REa=function(){this.yj.forEach(function(y){return y.Cgc();});};x.prototype.li=function(){this.H.trace("attached-player: onUnderflow");};x.prototype.i$a=function(){return this.$j.getIterator();};x.prototype.pXb=function(){return this.ky()[0];};x.prototype.ky=function(){return this.$j.j2();};x.prototype.xOb=function(y){var z,B,A;z=this;this.wn("createMediaSourceStart");if(this.Ws.vva)B=this.Ws.vva();else (B=new m.default.MediaSource(this.X.X),B.Yc || (B.Yc=m.default.MediaSource.Yc));if(1 !== B.readyState)this.yr("exception in init","NFErr_MC_StreamingInitFailure");else {this.wn("createMediaSourceEnd");this.Gg=B;if(!B.X7(this.Wf))throw (this.H.trace("Error:",B.error),this.yr("error creating source buffers","NFErr_MC_StreamingInitFailure"),B.error);A={};this.Ja.ag(new t.CJa(A,this.K));this.yj=B.sourceBuffers.filter(function(C){return 0 <= z.Wf.indexOf(C.mediaType);}).map(function(C){var D,E,G,F;E=new h.qia(C.mediaType,B,C,z.K,!0,{cg:function(){return z.X.xe.Z;},Yr:function(L){return z.X.Yr(L.P);}},z.$e);E.addListener("error",function(L){return z.yr(L.errorstr);});E.addListener("logdata",function(L){return z.Xg.emit("logdata",L);});E.addListener("managerdebugevent",function(L){z.Xg.emit("managerdebugevent",L);});G=null === y || void 0 === y?void 0:y.get(C.mediaType);F=new g.$ha(E,C.mediaType,z,z.K,z.H,z.X,z.Ws,z.$e,z.Gp,z.ez,G);if(C.mediaType === f.u.J)F.on("drmNeeded",function(L){return z.Xg.emit("drmNeeded",L);});G || (null === (D=F.tR) || void 0 === D?void 0:D.qGb(new u.Dia(A[C.mediaType]={},z.H,z.X,E,z.X.events,z.Ws,z.$e)));return F;});}};x.prototype.Iib=function(y){var z;(0,v.assert)(y.nO,"Attempted to prune branch that has not been fully appended");this.$j.remove(y);y.events.removeListener("branchEdited",this.Tna);y.ee("pruned");(null === (z=this.K.D0a) || void 0 === z?0:z.branchPruned) && this.Xg.emit("requestGarbageCollection",{time:m.default.time.fa(),type:"requestGarbageCollection"});};x.prototype.Wa=function(){this.ZBb.clear();this.Qzb.clear();this.yj.forEach(function(y){return y.Wa();});this.Ws.vva || this.Gg.Bt();this.EE();this.wr.Wa();this.QD.clear();};x.prototype.ci=function(y){return this.yj.every(function(z){return z.ci(y);});};x.prototype.fR=function(){this.yj.forEach(function(y){return y.M3a();});this.aW=new w.Yla(this.H,this.Ja);};x.prototype.Gua=function(){return {Cbc:this.ky(),y$b:this.yj};};x.prototype.DUb=function(y){var z;z=this;this.d6=!0;y.Fe.forEach(function(B){var A;A=z.Eua(B.mediaType);if(void 0 !== A)z.HXa.once(B.eua,function(C){return A.FUb(C);});});if(y.oc)this.R5a();else y.events.once("branchNormalized",function(){return z.R5a();});};x.prototype.R5a=function(){var y;y=this.pXb();y && ((0,v.assert)(y.Ld),this.Xg.emit("ptsChanged",{initialTimestamp:y.Ld,forcedTimestamp:void 0}));};x.prototype.Eua=function(y){return (0,n.Qc)(this.yj,function(z){return z.mediaType === y;});};x.prototype.DYb=function(){return -1 !== this.Wf.indexOf(f.u.J)?f.u.J:f.u.T;};x.prototype.wn=function(y){y={type:"startEvent",event:y,time:m.default.time.fa()};this.Xg.emit(y.type,y);};x.prototype.yr=function(y,z){this.Ja.fg(y,void 0,z);};return x;})();b.wIa=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.CJa=void 0;c=a(6);l=a(21);g=a(28);r=(function(){function m(d,f){this.th=d;this.config=f;this.he="CdnListTracker";}Object.defineProperties(m.prototype,{enabled:{get:function(){return this.config.cKb;},enumerable:!1,configurable:!0}});m.prototype.il=function(d){var f;f=this;if(d.Pg === g.Kc.el)return {cdndldist:JSON.stringify((0,l.w0a)(Object.keys(this.th).map(function(h){var k;k=f.th[h];return Object.keys(k).map(function(n){var p;p=k[n];return {cdnid:p.Ro,pbcid:p.Ap,dls:Object.keys(p.iJ).map(function(q){var v,t;q=p.iJ[q];t=q.mediaType === c.u.T?"adlid":"dlid";return (v={tm:q.totalTime,bitrate:q.bitrate},v[t]=q.Tb,v.vf=q.gb,v);})};});})))};};return m;})();b.CJa=r;},function(r,b,a){var c,l,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.Yla=void 0;c=a(0).__importDefault(a(3));l=a(6);g=a(20);m=a(32);r=(function(){function d(f,h){this.H=f;this.Lo=h;}d.prototype.iz=function(f,h,k,n,p){var q,v;void 0 === p && (p=!1);q=f.G;v=this.WAb(q);this.dO={startTime:c.default.time.fa(),Zgc:f,Ygc:k.Z,vRb:h,Ge:this.CXb(n,h),tjc:this.AZb(n,p),tsa:p,Qe:n,q2a:v,X6b:this.aYb(q,k)};};d.prototype.Cab=function(){return !!this.dO;};d.prototype.wva=function(f){var h,k,n,p,q,v,t,w,u,x,y,z,B,A,C,D,E,G,F,L,O;if(this.dO && 0 !== Object.keys(this.dO.q2a).length && f === this.dO.vRb){u=this.dO;x=u.q2a;y=u.X6b;z=u.tsa;B=u.Qe;A=u.Zgc;C=u.Ygc;D=u.startTime;E=u.Ge;u=u.tjc;this.dO=void 0;G=this.ina(f).qt;F=this.TVb(A.G.id,f,x);G=this.uYa(F.weight,G);L={};for(O in x){O !== f && (L[O]=x[O].details);}x=c.default.time.fa() - D;D=B?0:x;O={offset:g.N.Na(this.fZb(A,C,B,z)),S:A.G.id};C={offset:g.N.Na(C),S:A.G.id};y={segment:f,destPosition:{S:f,offset:g.N.Oa},srcsegment:A.G.id,srcTransitionPosition:O,srcStartPosition:C,srcsegmentduration:A.Mga.Z,srcoffset:O.offset.Z,seamlessRequested:B,atRequest:F,atTransition:G,discard:L,transitionType:E,transitionTypeAtRequest:u,delayToTransition:this.DWb(x,B,z),durationOfTransition:D,nextExitPositionAtRequest:y};z=null !== (k=null === (h=this.Lo.na.U[f]) || void 0 === h?void 0:h.type) && void 0 !== k?k:"content";h=null !== (p=null === (n=this.Lo.na.U[A.G.id]) || void 0 === n?void 0:n.type) && void 0 !== p?p:"content";f=null !== (v=null === (q=this.Lo.na.U[f]) || void 0 === q?void 0:q.P) && void 0 !== v?v:void 0;q=null !== (w=null === (t=this.Lo.na.U[A.G.id]) || void 0 === t?void 0:t.P) && void 0 !== w?w:void 0;f && q && f !== q && (y.auxMidType=z,y.auxSrcmidType=h,y.auxMid=f,y.auxSrcmid=q);return y;}};d.prototype.TVb=function(f,h,k){var n,p,q;q={};(k=k[h])?q=k.details:((0,m.assert)(this.Lo),q.weight=null === (p=null === (n=this.Lo.na.U[f].next) || void 0 === n?void 0:n[h]) || void 0 === p?void 0:p.weight);return q;};d.prototype.DWb=function(f,h,k){var n;k || (n=h?f:0);return n;};d.prototype.aYb=function(f,h){var k,n,p;n=f.sf.add(h);null === (k=f.Zy) || void 0 === k?void 0:k.some(function(q){n.lessThan(q.oc) && (p=q.oc.Z);});return p;};d.prototype.fZb=function(f,h,k,n){return k || n?f.Mga.Z:h;};d.prototype.CXb=function(f,h){return f?"seamless":this.ina(h).dZ?"reset":"long";};d.prototype.AZb=function(f,h){return f || h?"lazy":"immediate";};d.prototype.WAb=function(f){var h,k;h=this;k={};f.mC.forEach(function(n){var p,q;p=f.$6b[n];q=h.ina(n).qt;k[n]={details:h.uYa(p,q)};});return k;};d.prototype.ina=function(f){var h,k;f=this.Lo.vY(f);h=0 < f.length?f[0]:void 0;f=null === h || void 0 === h?void 0:h.CB();if(!h || !f)return {dZ:!1,qt:{Ip:0,$s:0,Iu:0,lE:0}};k=h.eba(l.u.T) && !f.$s;h=h.eba(l.u.J) && !f.Ip;return {dZ:!k && !h,qt:f};};d.prototype.uYa=function(f,h){return {weight:f,vbuflmsec:h.Ip,abuflmsec:h.$s,vbuflbytes:h.Iu,abuflbytes:h.lE};};return d;})();b.Yla=r;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.WSa=void 0;c=a(13);l=a(6);g=a(8);r=a(35);a=(function(){function m(d){this.X=d;this.Ana=!1;this.LYa=new c.ef();this.tcc();}m.prototype.tcc=function(){var d,f;d=this;f=this.LYa;f.on(this.X,"paused",function(){return d.Wda();});f.on(this.X,"playing",function(){return d.Wda(!0);});f.on(this.X,"underflow",function(){return d.Wda();});f.on(this.X,"skipped",function(){return d.V_();});f.on(this.X,"clockAdjusted",function(){return d.O_();});f.on(this.X,"playbackRateChanged",function(){return d.z8b();});};Object.defineProperties(m.prototype,{currentTime:{get:function(){return this.MZa || this.X.Oc || g.N.Oa;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{pk:{get:function(){return this.Ana;},enumerable:!1,configurable:!0}});Object.defineProperties(m.prototype,{speed:{get:function(){var d;return null !== (d=this.X.playbackRate) && void 0 !== d?d:1;},enumerable:!1,configurable:!0}});m.prototype.Wda=function(d){void 0 === d && (d=!1);d !== this.Ana && (this.MZa=(this.Ana=d)?void 0:this.X.Oc);this.emit("stopStart",{type:"stopStart"});};m.prototype.V_=function(){this.MZa=void 0;this.O_(l.zT.po);};m.prototype.O_=function(d){void 0 === d && (d=l.zT.EGb);this.emit("clockAdjusted",{type:"clockAdjusted",reason:d});};m.prototype.z8b=function(){this.emit("speedChanged",{type:"speedChanged"});};m.prototype.Wa=function(){this.Wda();this.LYa.clear();};return m;})();b.WSa=a;(0,r.cf)(c.EventEmitter,a);},function(r,b,a){var c,l,g,m,d,f,h;Object.defineProperties(b,{__esModule:{value:!0}});b.AUa=void 0;c=a(0);l=a(13);g=a(10);m=a(6);d=c.__importDefault(a(3));f=a(8);h=a(2);r=(function(){function k(n,p,q,v){var t;t=this;this.Hb=n;this.X=p;this.config=v;this.pending=new Map();this.listeners=new l.ef();this.sAa=!1;this.g_b=function(w){t.pkb(function(){g.M && t.H.debug("cancelling playback ending");w.cancel();});};this.pkb=function(w){var u,x,y,z,C,D,E;if(t.pending.size){g.M && t.H.trace("playback ending, restarting player");y={};z=(u={},u[m.u.T]=void 0,u[m.u.J]=void 0,u[m.u.Za]=void 0,u);try{for(var B=c.__values(t.pending.entries()),A=B.next();!A.done;A=B.next()){C=c.__read(A.value,2);D=C[0];E=C[1];y[D]=E.to.stream.lp();E.from.S && (z[D]=E.from.S);}}catch(F){var G;G={error:F};}finally{try{A && !A.done && (x=B.return) && x.call(B);}finally{if(G)throw G.error;}}null === w || void 0 === w?void 0:w();g.M && t.H.debug("Restarting player",y);t.X.yg(y,z).then(function(){var F,L;null === (F=t.bJ) || void 0 === F?void 0:F.resolve();g.M && t.H.debug("Restart completed");null === (L=t.Okb) || void 0 === L?void 0:L.mGb();t.reset();});}};this.listeners.addListener(p,"playbackEnding",this.g_b);this.H=(0,f.Oi)(d.default,q,"SEAMLESSMANAGER");g.M && this.H.debug("construct");}k.prototype.Wa=function(){g.M && this.H.debug("destruct");this.pending.clear();this.listeners.clear();};k.prototype.vcc=function(n){this.Okb=n;};k.prototype.Qlc=function(n){var p,q;0 === this.pending.size && ((0,h.assert)(void 0 === this.bJ,"SeamlessManager: No pending transitions, but a wait is deferred"),this.bJ=new f.oD());(0,h.assert)(this.bJ,"SeamlessManager: deferred is undefined");(0,h.assert)(!this.pending.has(n.mediaType),"SeamlessManager: There is already a pending transition for mediaType " + n.mediaType);this.pending.set(n.mediaType,n);g.M && this.H.trace(("got new transition [").concat(n.mediaType,"] --\x3e ").concat(n.to.stream.id));if(this.pending.size === this.Hb.Wf.length && !this.sAa){q=this.s2b();if(q.Yhb)return (g.M && this.H.trace(("seamless transition possible at ").concat(n.timestamp.Fb())),this.bJ.resolve(),this.reset(),this.Bya=n.timestamp,Promise.resolve());g.M && this.H.trace(("starting non-seamless transition at ").concat(n.timestamp.Fb()));null === (p=this.Okb) || void 0 === p?void 0:p.lGb(q.info);if(!this.fhc())return (g.M && this.H.warn("Unable to perform a non-seamless transition here, allowing seamless"),this.bJ.resolve(),this.reset(),this.Bya=n.timestamp,Promise.resolve());}return this.bJ.promise;};k.prototype.Bdc=function(n){g.M && this.H.trace(("reset media [").concat(n,"]"));this.pending.delete(n);0 === this.pending.size && this.reset();};k.prototype.Eaa=function(){return this.Bya;};k.prototype.reset=function(){g.M && this.H.debug("resetting");this.sAa=!1;this.bJ=this.Bya=void 0;this.pending.clear();};k.prototype.s2b=function(){var n,p,q,w,u,x,y,z,B,A,C,D,E,G;try{for(var v=c.__values(this.pending.entries()),t=v.next();!t.done;t=v.next()){w=c.__read(t.value,2);u=w[0];x=w[1];if(x.from){y=x.from.stream;z=x.to.stream;if(y.track === z.track)g.M && this.H.debug("Seamless deemed possible due to same track",{mediaType:u});else {B=y.lp();A=z.lp();C=void 0;D=this.Hb.Vm(x.timestamp);C=x.from.S && 0 > this.Hb.jya.value.Z?{S:x.from.S,offset:f.N.Na(0)}:this.Hb.Vm(x.Lac);E=this.X.V1a({mediaType:u,from:B,to:A,rVb:C,djc:D});G=E.reason;if(!E.V1a)return (g.M && this.H.debug("Non-seamless transition; details:",{reason:G,mediaType:u,from:B,to:A}),{Yhb:!1,info:{uQb:null !== (p=x.to.S) && void 0 !== p?p:"unk",Xgc:null !== (q=x.from.S) && void 0 !== q?q:"unk",F$b:x.timestamp,reason:G}});g.M && this.H.debug("Seamless deemed possible",{reason:G,mediaType:u,from:B,to:A,rVb:C,djc:D});}}}}catch(L){var F;F={error:L};}finally{try{t && !t.done && (n=v.return) && n.call(v);}finally{if(F)throw F.error;}}return {Yhb:!0};};k.prototype.fhc=function(){var n;this.sAa=!0;if(this.Hb.cu.value)(g.M && this.H.trace("Signaling EOS for upcoming restart"),this.Hb.REa());else {if(null === (n=this.config) || void 0 === n?0:n.h5a)return (g.M && this.H.warn("An immediate restart is required but disabled"),!1);g.M && this.H.trace("Signaling immediate restart");this.pkb();}return !0;};return k;})();b.AUa=r;},function(r,b,a){var c,l,g,m,d,f;Object.defineProperties(b,{__esModule:{value:!0}});b.ZSa=void 0;c=a(0);l=a(71);g=a(8);m=c.__importDefault(a(3));d=a(481);f=a(1193);r=(function(){function h(k,n){var p;p=this;this.rZ=k;this.events=(0,d.Pra)(function(){return p.Xm;},this.rZ.events,n,f.Qhb);this.tBb=(0,g.Oi)(m.default,this.rZ.console,"PLAYERHOST");new l.px({Iq:10,yp:this,source:"PlayerHost",console:this.tBb});}h.prototype.mra=function(){this.Xm=void 0;};h.prototype.xEa=function(k){this.Xm=k;};c.__decorate([(0,l.mc)({methodName:"clearProxyPlaygraphContext"})],h.prototype,"mra",null);c.__decorate([(0,l.mc)({methodName:"setProxyPlaygraphContext"})],h.prototype,"xEa",null);return h;})();b.ZSa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.Qhb=void 0;b.Qhb={"*":{B6a:["logdata"],rules:[{tl:function(a){return a.dHa;}}]},segmentPresenting:[{tl:function(a){return a.dHa;},config:{As:["metrics"]}},{tl:function(a){return a.nf;}},{tl:function(a){return a.nf;},config:{As:["metrics","srcStartPosition"]}},{tl:function(a){return a.nf;},config:{As:["metrics","srcTransitionPosition"]}},{tl:function(a){return a.nf;},config:{As:["metrics","destPosition"]}},{tl:function(a){return a.aIb;}}],streamPresenting:[{tl:function(a){return a.nf;}}],segmentAppended:[{tl:function(a){return a.h1;}}]};},function(r,b,a){var c,l,g,m;Object.defineProperties(b,{__esModule:{value:!0}});b.CWa=void 0;c=a(0);l=a(13);g=a(10);m=a(405);r=(function(){function d(f,h,k,n){this.bqb=f;this.console=h;this.pHb=k;this.W0=n;this.events=new l.EventEmitter();this.OZ=f.s3b.Kx();}Object.defineProperties(d.prototype,{O:{get:function(){var f;return null === (f=this.bqb) || void 0 === f?void 0:f.O;},enumerable:!1,configurable:!0}});Object.defineProperties(d.prototype,{TG:{get:function(){var f;f=this;return (function(){return c.__awaiter(f,void 0,void 0,function(){var h;return c.__generator(this,function(k){switch(k.label){case 0:return (k.Es.push([0,2,,3]),[4,this.bqb.TG]);case 1:return [2,k.zb()];case 2:throw (h=k.zb(),m.GSa.n2b(h) && this.pHb.fg(h),g.M && this.console.trace("Removing broken viewable entry due to error",this.W0),this.events.emit("error",{error:h}),h);case 3:return [2];}});});})();},enumerable:!1,configurable:!0}});return d;})();b.CWa=r;},function(r,b){Object.defineProperties(b,{__esModule:{value:!0}});b.NLb={nw:["minInitVideoBitrate",-Infinity],Yza:["minHCInitVideoBitrate",-Infinity],eC:["maxInitVideoBitrate",Infinity],z_:["minInitAudioBitrate",-Infinity],x_:["minHCInitAudioBitrate",-Infinity],k_:["maxInitAudioBitrate",Infinity],ada:["minAcceptableVideoBitrate",-Infinity],v_:["minAcceptableVMAF",0],e6b:["minAcceptableVMAFRebufferScalingFactor",0],Xza:["minAllowedVideoBitrate",-Infinity],f5b:["maxAllowedVideoBitrate",Infinity],AK:["minAllowedVmaf",-Infinity],aeb:["maxAllowedVmaf",Infinity],rS:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],k$:["enableResolutionVMAFStreamFilter",!1],ABa:["percentCapTitlesForResolutionVMAFStreamFilter",100],nfa:["resolutionVMAFCappingRuleList",[]],Aab:["ignoreUserFilterOnEmptyResult",!0],SF:["minRequiredBuffer",2E4],ida:["minRequiredAudioBuffer",0],yk:["minPrebufSize",5800],eda:["minCheckBufferingCompleteInterval",200],i$:["enableMoreFrequentBufferingCompleteCheck",!1],aAa:["minimumBufferingCompleteInterval",1E4],ifa:["requireDownloadDataAtBuffering",!1],Pab:["indicatorForDownloadDataAtBuffering","oncomplete"],jfa:["requireSetupConnectionDuringBuffering",!1],MCa:["rebufferingFactor",1],au:["maxBufferingTime",2E3],KGa:["useMaxPrebufSize",!0],QF:["maxPrebufSize",4E4],Dza:["maxRebufSize",Infinity],CTb:["fastRebufferRecoveryThreshold",Infinity],BTb:["fastRebufferRecoverBwThrehold",3E3],yba:["initialBitrateSelectionCurve",null],Uab:["initSelectionLowerBound",-Infinity],Vab:["initSelectionUpperBound",Infinity],a2:["throughputPercentForAudio",15],Vpa:["bandwidthMargin",0],Xpa:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],$0a:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,$A:76376,scale:18862.4,gamma:3.0569}],Wpa:["bandwidthMarginContinuous",!1],a1a:["bandwidthMarginForAudio",!0],GFa:["switchConfigBasedOnInSessionTput",!0],Fra:["conservBandwidthMargin",20],gX:["conservBandwidthMarginTputThreshold",6E3],Gra:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],snb:["switchAlgoBasedOnHistIQR",!1],GG:["switchConfigBasedOnThroughputHistory","iqr"],Cza:["maxPlayerStateToSwitchConfig",-1],cza:["lowEndMarkingCriteria","iqr"],Aja:["IQRThreshold",.5],Jwa:["histIQRCalcToUse","simple"],xv:["bandwidthManifold",{curves:[{min:.05,max:.82,$A:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,$A:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],bu:["maxTotalBufferLevelPerSession",0],nab:["highWatermarkLevel",3E4],bob:["toStableThreshold",3E4],Iga:["toUnstableThreshold",0],ZEa:["skipBitrateInUpswitch",!1],aHa:["watermarkLevelForSkipStart",8E3],XEa:["simulationDurationStrategy","default"],Ggc:["simulationFullBufferPercentage",1],dfb:["minSimulationDuration",2E4],web:["maxSimulationDuration",3E5],FGa:["upperThroughputPredictionFactor",1.6],kba:["highStreamRetentionWindow",9E4],Bca:["lowStreamTransitionWindow",51E4],Fwa:["highStreamRetentionWindowUp",5E5],eza:["lowStreamTransitionWindowUp",1E5],Ewa:["highStreamRetentionWindowDown",6E5],dza:["lowStreamTransitionWindowDown",0],Dwa:["highStreamInfeasibleBitrateFactor",.5],$B:["lowestBufForUpswitch",9E3],$Z:["lockPeriodAfterDownswitch",15E3],gza:["lowWatermarkLevel",15E3],xy:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],hza:["lowestWaterMarkLevelBufferRelaxed",!1],j5b:["maxContentDurationForMinBufferIncrease",6E4],Wca:["mediaRate",1.5],Oca:["maxTrailingBufferLen",15E3],yW:["audioBufferTargetAvailableSize",262144],z2:["videoBufferTargetAvailableSize",1048576],zeb:["maxVideoTrailingBufferSize",8388608],ceb:["maxAudioTrailingBufferSize",393216],A$:["fastUpswitchFactor",3],ETb:["fastUpswitchFactorWithoutHeaders",3],DTb:["fastUpswitchFactorForNextSegment",1],Jta:["fastDownswitchFactor",3],jw:["maxMediaBufferAllowed",27E4],Svc:["minMediaBufferLen",1E4],WEa:["simulatePartialBlocks",!0],gmb:["simulateBufferFull",!0],Hra:["considerConnectTime",!0],Era:["connectTimeMultiplier",1],Q3b:["liveDvrSwitchThresholdms",1E4],Bdb:["lowGradeModeEnterThreshold",12E4],Cdb:["lowGradeModeExitThreshold",9E4],feb:["maxDomainFailureWaitDuration",3E4],beb:["maxAttemptsOnFailure",18],D6a:["exhaustAllLocationsForFailure",!0],neb:["maxNetworkErrorsDuringBuffering",20],Gca:["maxBufferingTimeAllowedWithNetworkError",6E4],pO:["alwaysRunUnderflowTimer",!0],M6a:["fastDomainSelectionBwThreshold",2E3],Gnb:["throughputProbingEnterThreshold",4E4],Hnb:["throughputProbingExitThreshold",34E3],rdb:["locationProbingTimeout",1E4],T6a:["finalLocationSelectionBwThreshold",1E4],Enb:["throughputHighConfidenceLevel",.75],Fnb:["throughputLowConfidenceLevel",.4],Oya:["locationStatisticsUpdateInterval",6E4],m4b:["locationSelectorPersistFailures",!0],h6a:["enablePerfBasedLocationSwitch",!1],Bvc:["maxRateMaxFragmentGroups",4500],FBa:["pipelineScheduleTimeoutMs",2],fC:["maxPartialBuffersAtBufferingStart",2],m6b:["minPendingBufferLen",3E3],Mca:["maxPendingBufferLen",6E3],jSb:["enableNginxRateLimit",!1],Ada:["nginxSendingRate",4E4],nSb:["enableRequestPacingToken",!1],L5b:["mediaRequestPacingSpeed",2],lxa:["initialMediaRequestToken",2E4],Eca:["maxActiveRequestsSABCell100",2],peb:["maxPendingBufferLenSABCell100",500],fkb:["resetActiveRequestsAtSessionInit",!0],f$:["enableCprAudio",!1],g$:["enableCprVideo",!1],URb:["enableCprAudioNonPipelined",!1],VRb:["enableCprVideoNonPipelined",!0],G2a:["clientPacingParams",{minRequiredBuffer:3E4,rateDiscountFactors:[2,2,3],lowestAllowedRateFactor:1}],Kmb:["staticPacingRateKbps",0],p9b:["paceRateSelectorAlgorithm","default"],q9b:["paceRateSelectorAlgorithmNonPipelined","default"],g6a:["enablePaceReportLogging",!1],Ujc:["unpacedFragmentInterval",0],x0b:["ignorePacedRequestStrategy","none"],d0:["pacedThresholdPct",.1],Wsa:["effectivePaceRateFactor",1],ycc:["regressionAlgoPacingCoefficients",[{playerStates:[0,1,2],networkConfidence:[],bufferLevelPct:0,coefficients:{averagetp:1,stddevtp:2}},{playerStates:[],networkConfidence:[0,1,2],bufferLevelPct:0,coefficients:{offset:1E5}},{playerStates:[],networkConfidence:[],bufferLevelPct:0,coefficients:{averagetp:1,stddevtp:2}},{playerStates:[],networkConfidence:[],bufferLevelPct:1,coefficients:{maxAverageBitrate:2}}]],s9b:["pacingTargetBufferStrategy","implicit"],ric:["targetBufferLevelStddevMultiplier",1],qic:["targetBufferLevelDurationMs",0],n6b:["minTargetBufferLevelMs",27E4],mFa:["stddevPredictorMultiplier",-.3],nFa:["stddevPredictorUpperMultiplier",2],phc:["stddevPredictorSource","deliverytime"],cra:["ciPredictorSource","throughput-ci"],a6a:["enableInitialTputLogging",!1],bSb:["enableInitialThroughputHistory",!1],Eza:["maxStreamingSkew",2E3],i5b:["maxBufferOccupancyForSkewCheck",Infinity],Skc:["useBufferOccupancySkipBack",!0],Aza:["maxPendingBufferPercentage",10],seb:["maxRequestsInBuffer",120],hba:["headerRequestSize",4096],nta:["estimateHeaderSize",!0],Guc:["headerCacheEstimateHeaderSize",!1],wda:["neverWipeHeaderCache",!1],blc:["useSidxInfoFromManifestForHeaderRequestSize",!1],v9b:["parseAdditionalBoxesMp4Header",!0],O6a:["fastPlayHeaderRequestSize",0],EQ:["maxRequestSize",0],BK:["minRequestSize",65536],w_:["minBufferLenForHeaderDownloading",1E4],pmb:["smartHeaderPreDownloading",!1],QRb:["enableAllHeadersPreDownloading",!1],hwc:["onlyAllowPtsUpdatePolling",!1],o6b:["minVideoBufferPoolSizeForSkipbackBuffer",33554432],a1:["reserveForSkipbackBufferMs",15E3],CAa:["numExtraFragmentsAllowed",2],mj:["pipelineEnabled",!0],DQ:["maxParallelConnections",3],Ykc:["usePipelineForAudio",!1],Xkc:["usePipelineDetectionForAudio",!1],$kc:["usePipelineForText",!0],qmb:["socketReceiveBufferSize",0],A8:["audioSocketReceiveBufferSize",32768],RS:["videoSocketReceiveBufferSize",65536],Bic:["textSocketReceiveBufferSize",32768],Cpb:["usePipelineDetectionForVideo",!1],s6b:["minVideoSocketReceiveBufferSize",65536],Bwa:["headersSocketReceiveBufferSize",32768],dgc:["shareDownloadTracks",!0],egc:["shareOpenRangeTracks",!1],jnb:["supportOpenRangeRequests",!0],IQb:["disableHeaderDownloadTracks",!1],$za:["minTimeBetweenHeaderRequests",void 0],Zga:["updatePtsIntervalMs",1E3],iqa:["bufferTraceDenominator",0],PW:["bufferLevelNotifyIntervalMs",2E3],xFa:["streamingStatusIntervalMs",2E3],wC:["prebufferTimeLimit",6E4],dda:["minBufferLevelForTrackSwitch",2E3],lSb:["enablePenaltyForLongConnectTime",!1],xBa:["penaltyFactorForLongConnectTime",2],$ya:["longConnectTimeThreshold",200],kpa:["additionalBufferingLongConnectTime",2E3],lpa:["additionalBufferingPerFailure",8E3],I0:["rebufferCheckDuration",6E4],e6a:["enableLookaheadHints",!1],zdb:["lookaheadFragments",2],VE:["enableOCSideChannel",!0],DPb:["decryptOCSideChannelMinInterval",1E3],EPb:["decryptOCSideChannelMinIntervalAfterCompleted",1E3],mCa:["probeRequestTimeoutMilliseconds",3E4],zwc:["probeRequestConnectTimeoutMilliseconds",8E3],a5:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],oSb:["enableSCByteRangeHints",!1],Vob:["updateDrmRequestOnNetworkFailure",!0],eeb:["maxDiffAudioVideoEndPtsMs",1E3],YPb:["deferAseHeaderCache",!1],R4a:["deferAseScheduling",!1],Mnb:["timeBeforeEndOfStreamBufferMark",6E3],Ica:["maxFastPlayBufferInMs",2E4],l5b:["maxFastPlayContentTimeThresholdMs",112E3],xza:["maxFastPlayBitThreshold",2E8],vza:["maxBufferingCompleteBufferInMs",Infinity],TIb:["bufferingCompleteOnMemoryLimit",!1],bda:["minAudioMediaRequestSizeBytes",0],kda:["minVideoMediaRequestSizeBytes",0],h5b:["maxAudioMediaRequestSizeBytes",Infinity],B5b:["maxVideoMediaRequestSizeBytes",Infinity],q5b:["maxMediaRequestSizeBytesInFraction",1],Hy:["minAudioMediaRequestDuration",0],jC:["minVideoMediaRequestDuration",0],gda:["minMediaRequestDuration",0],g5b:["maxAudioMediaRequestDuration",Infinity],A5b:["maxVideoMediaRequestDuration",Infinity],Kca:["maxMediaRequestDuration",Infinity],ppa:["allowFirstRequestAggregation",!1],h6b:["minAudioMediaRequestDurationCache",0],q6b:["minVideoMediaRequestDurationCache",0],wpb:[["useHeaderCache","usehc"],!0],IGa:[["useHeaderCacheData","usehcd"],!0],K9:["defaultHeaderCacheSize",4],L4a:["defaultHeaderCacheDataCount",4],J9:["defaultHeaderCacheDataPrefetchMs",0],J_b:["headerCacheMaxPendingData",6],Huc:["headerCachePriorityLimit",5],hab:["headerCacheAdoptBothAV",!1],Zkc:["usePipelineForBranchedAudio",!0],HKb:["childBranchBatchedAmount",1E4],OQ:["minimumTimeBeforeBranchDecision",2E3],u6b:["minimumAppendedMediaBeforePlayback",5E3],nwc:["parallelBranchesDuringBuffering",!1],t5b:["maxRequestsToAttachOnBranchActivation",void 0],A_:["minimumJustInTimeBufferLevel",3E3],cSb:["enableJustInTimeAppends",!1],n0a:["appendPacingFactor",0],YGb:["appendPacingThreshold",3E3],X5a:["enableDelayedSeamless",!1],Dsc:["branchEndPtsIntervalMs",250],y0b:["ignorePtsJustBeforeCurrentSegment",!1],jeb:["maxFragsForFittableOnBranching",300],O9b:["pausePlaylistAtEnd",!0],HFb:["adaptiveParallelTimeoutMs",1E3],hP:["enableAdaptiveParallelStreaming",!1],hqa:["bufferThresholdToSwitchToSingleConnMs",45E3],gqa:["bufferThresholdToSwitchToParallelConnMs",35E3],MRb:["enableAPSForBranching",!1],rha:["waitForPendingConnAdaptation",!1],jAa:["networkFailureResetWaitMs",2E3],iAa:["networkFailureAbandonMs",6E4],Nca:["maxThrottledNetworkFailures",5],Aga:["throttledNetworkFailureThresholdMs",200],fza:["lowThroughputThreshold",400],zta:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],Pic:["timeAtEachBitrateRoundRobin",1E4],Wdc:["roundRobinDirection","forward"],k0b:["httpsConnectErrorAsPerm",!1],qfb:["mp4ParsingInNative",!1],jj:["enableManagerDebugTraces",!1],Odb:["managerDebugMessageInterval",1E3],Ndb:["managerDebugMessageCount",20],cgb:["notifyManifestCacheEom",!0],tSb:["enableUsingHeaderCount",!1],tmb:["sourceBufferInOrderAppend",!0],hL:["requireAudioStreamToEncompassVideo",!1],Y_a:["allowAudioToStreamPastVideo",!1],A3a:["countGapInBuffer",!1],Z_a:["allowCallToStreamSelector",!1],u1a:["bufferThresholdForAbort",2E4],rFa:["ase_stream_selector","optimized"],M0a:["audiostreamSelectorAlgorithm","selectaudioadaptive"],V3b:["liveStreamSelectorAlgorithm","livesimple"],Fic:["throughputDiscountForLive",.8],Eic:["throughputDiscountExponentBC",1.5],WZ:["liveTargetBufferDuration",1E4],sca:["liveEdgeCushion",6E3],Iya:["liveMaxTemporaryRequestErrorRetries",6],T3b:["liveInitialFetchSizeBytes",1024],xic:["temporaryRequestFailureRetryIntervalMs",500],d6a:["enableLiveTemporaryRequestRetries",!0],ixa:["initBitrateSelectorAlgorithm","default"],mqa:["bufferingSelectorAlgorithm","default"],Bhc:["streamSelectionTrace",[{f:60,s:5},{f:61,s:3},{f:62,s:2},{f:63,s:0}]],k6a:["enableThroughputTraceResearchData",!1],Inb:["throughputTraceParam",{numB:3600,bSizeMs:2E3,fillS:"last",fillHl:1E3}],bz:["researchEnvironmentEnabled",!1],qSb:["enableStreamSelectionAugmentData",!1],$Hb:["augmentDataNumOfChunks",30],z4a:["ase_ls_failure_simulation",""],jsa:["ase_dump_fragments",!1],ksa:["ase_location_history",0],A4a:["ase_throughput",0],C4a:["ase_simulate_verbose",!1],iBa:["paddingDurationMs",1E3],jBa:["paddingMediaType","padding"],Th:["stallAtFrameCount",void 0],ymb:["stallAtFrameCountAudio",void 0],qza:["marginPredictor","simple"],spb:["useBackupUnderflowTimer",!0],c7b:["noDuplicateUnderflowTimer",!1],dyc:["useManifestDrmHeader",!0],eyc:["useOnlyManifestDrmHeader",!0],kAa:["networkMeasurementGranularity","video_location"],T6b:["netIntrStoreWindow",36E3],Zvc:["minNetIntrDuration",8E3],PAb:["fastHistoricBandwidthExpirationTime",10368E3],sBb:["bandwidthExpirationTime",5184E3],OAb:["failureExpirationTime",86400],aZa:["historyTimeOfDayGranularity",4],KAb:["expandDownloadTime",!0],hCb:["minimumMeasurementTime",500],gCb:["minimumMeasurementBytes",131072],BDb:["throughputMeasurementTimeout",2E3],ADb:["initThroughputMeasureDataSize",262144],QBb:["historicBandwidthUpdateInterval",2E3],dsc:["throughputPredictor","ewma"],WDa:["secondThroughputEstimator","slidingwindow"],Qkb:["secondThroughputMeasureWindowInMs",3E5],csc:["throughputMeasureWindow",5E3],esc:["throughputWarmupTime",5E3],bsc:["throughputIQRMeasureWindow",1E3],Mrc:["IQRBucketizerWindow",15E3],keb:["maxIQRSamples",100],$eb:["minIQRSamples",5],Zrc:["connectTimeHalflife",10],Src:["responseTimeHalflife",10],dYa:["historicThroughputHalflife",14400],cYa:["historicResponseTimeHalflife",100],bYa:["historicHttpResponseTimeHalflife",100],YMa:["HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}],NYa:["minReportedNetIntrDuration",4E3],asc:["throughputBucketMs",500],Prc:["bucketHoltWintersWindow",2E3],CAb:["enableFilters",("throughput-ewma initial-throughput-ewma throughput-sw throughput-iqr avtp entropy deliverytime").split(" ")],LAb:["experimentalFilter",["throughput-wssl"]],uZa:["reportedFilters",[]],cna:["filterDefinitionOverrides",{}],sAb:["defaultFilter","throughput-ewma"],tAb:["defaultFilterField","average"],hEb:["secondaryFilter","throughput-sw"],Lma:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3},"initial-throughput-ewma":{type:"initial-discontiguous-ewma",mw:5E3,playerStates:[0,1]},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-wssl":{type:"wssl",mw:5E3,max_n:20},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400},"respconn-location-history":{type:"discrete-ewma",hl:100},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-ci":{type:"ci",max_n:10,maxc:25,c:.5,lowPercentile:.1,highPercentile:.9,initialPercentile:.2,decay:!1,halfLife:5E3,maxDecay:1E9},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,mins:1,"in":"none",hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]},deliverytime:{type:"deliverytime",hl:4E3,max_n:10,min_iv:500,min_b:16384},"deliverytime-ci":{type:"deliverytime-ci",hl:4E3,max_n:10,metric:"deliverytime",lowPercentile:.1,highPercentile:.9,initialPercentile:.2,accuracy:1E-10,maxIterations:20}}],xSb:["enableWsslEstimate",!1],Evc:["maxWsslRequestSize",131072],Dvc:["maxWsslRequestRatio",.2],vqb:["wsslAggregationMethod","max"],VX:["enableSessionHistoryReport",!0],Vsa:["earlyStageEstimatePeriod",1E4],Ucb:["lateStageEstimatePeriod",3E4],Lca:["maxNumSessionHistoryStored",10],jda:["minSessionHistoryDuration",3E5],T_b:["highAndStableModelName","baseline"],$sa:["enableHighAndStablePredictor",!1],hda:["minNumSessionHistory",5],ysc:["baselineHighAndStableThreshold",{bwThreshold:2E4,nethreshold:.15}],jba:["highAndStableLRModelParams",{probThresh:.5,lrParams:{lrMeans:{avtp_b:.6717527000068912,avtp_kurtosis:-.32272653860208733,avtp_last:18162.25923773571,avtp_mean:18374.85489469472,avtp_niqr:.36157000863524086,avtp_p1:15217.082220651864,avtp_p25:16255.438250827538,avtp_p50:18018.48498809834,avtp_p75:20633.64785646099,avtp_p99:23493.017531706773,avtp_skew:-.15988915479533752,avtp_std:3494.2469335662795,fracAbove20Mbps:.36069774394324833,fracBelow20p:.44509094302767843,hour_current:14.88892246562775,intercept:0,neuhd_b:.19944416382669086,neuhd_kurtosis:-.3831651109303816,neuhd_last:.18607356003210967,neuhd_mean:.18446011173649746,neuhd_p1:.08973105578594363,neuhd_p25:.11425784546899986,neuhd_p50:.16178032426296476,neuhd_p75:.24808260501822446,neuhd_p99:.3802747624363075,neuhd_skew:.5015094291572232,neuhd_std:.11460618864890261,session_ct:9.244559018608745},lrStd:{avtp_b:.2163710864106512,avtp_kurtosis:1.3411069011423224,avtp_last:15614.28989483334,avtp_mean:15019.534079778174,avtp_niqr:1.5102894334298487,avtp_p1:13558.687640161155,avtp_p25:14056.082157854784,avtp_p50:14989.029847375388,avtp_p75:16706.411995109334,avtp_p99:19150.29672591333,avtp_skew:.8845810368911663,avtp_std:3980.545705351505,fracAbove20Mbps:.43529176129377334,fracBelow20p:.3274979541369119,hour_current:5.5716567906096826,intercept:1,neuhd_b:2.3749059625699656,neuhd_kurtosis:1.2291306781983045,neuhd_last:.16618636811434156,neuhd_mean:.10880818013405419,neuhd_p1:.11470893745650394,neuhd_p25:.11090914485422533,neuhd_p50:.11733552791484116,neuhd_p75:.1358051961745428,neuhd_p99:.18492685125890918,neuhd_skew:.7361251697238183,neuhd_std:.07376059312467607,session_ct:1.9982003410777347},lrWeights:{avtp_b:-.4168110388005385,avtp_kurtosis:-.008309418872795704,avtp_last:.9636719412610095,avtp_mean:.4596368266505147,avtp_niqr:.004794244204030071,avtp_p1:.04179963884288828,avtp_p25:-.05971214541667236,avtp_p50:-.06609686988077124,avtp_p75:-.021163989843701936,avtp_p99:-.5012233043639935,avtp_skew:.04960520099458782,avtp_std:-.04377297768250326,fracAbove20Mbps:1.4353872225089277,fracBelow20p:.536611494372919,hour_current:-.02151363764568746,intercept:-2.454070409461966,neuhd_b:-.010631811493285886,neuhd_kurtosis:.0392239159548721,neuhd_last:-.26007106077057324,neuhd_mean:-.14989131456288793,neuhd_p1:.03395316119601572,neuhd_p25:-.03267433155107594,neuhd_p50:.016260475942198947,neuhd_p75:.09080546760249925,neuhd_p99:.07570542703705993,neuhd_skew:-.0072781558054514205,neuhd_std:-.06708762681381578,session_ct:.010263062689577421}}}],U_b:["highAndStableParams",{minRequiredBuffer:1E4,bandwidthMarginCurve:[{m:10,b:15E3},{m:5,b:3E4},{m:0,b:12E4}]}],Zoa:["addHeaderDataToNetworkMonitor",!0],gFa:["startMonitorOnLoadStart",!1],fDa:["reportFailedRequestsToNetworkMonitor",!1],lea:["periodicHistoryPersistMs",0],Afa:["saveVideoBitrateMs",0],E_:["needMinimumNetworkConfidence",!0],$pa:["biasTowardHistoricalThroughput",!1],q4b:["logMemoryUsage",!1],Aw:["probeServerWhenError",!0],MA:["allowSwitchback",!0],xR:["probeDetailDenominator",100],Hca:["maxDelayToReportFailure",300],oO:["allowParallelStreaming",!1],Jvc:["mediaPrefetchDisabled",!1],Xeb:["minBufferLevelToAllowPrefetch",5E3],UR:["seamlessAudio",!1],$wc:["seamlessAudioProfiles",[]],axc:["seamlessAudioProfilesAndTitles",{}],UDa:["seamlessAudioMaximumSyncError",void 0],VDa:["seamlessAudioMinimumSyncError",void 0],ibb:["insertSilentFrames",0],txa:["insertSilentFramesOnSeek",!1],jbb:["insertSilentFramesOnSeekForTitles",[]],o1b:["insertSilentFramesOnSeekCount",3],guc:["forceDiscontinuityAtTransition",!0],DFa:["supportAudioResetOnDiscontinuity",void 0],$hc:["supportAudioEasingOnDiscontinuity",void 0],zRb:["editCompleteFragments",!0],v6b:["minimumAudioFramesPerFragment",1],AI:["applyProfileTimestampOffset",!1],Dm:["applyProfileStreamingOffset",!0],Bib:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3268,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3268,timescale:48E3}}}],VHb:["audioProfilesNonSyncSamples",["xheaac-dash"]],Djc:["truncateEndOfStreamAudio",!1],Ukc:["useDpiAssumedAacEncoderDelay",!0],s_:["mediaSourceSupportsNegativePts",!1],NQ:["minAudioPtsGap",void 0],THb:["audioOverlapGuardSampleCount",2],j6a:["enableRecordJSBridgePerf",!1],Gja:["JSBridgeTDigestConfig",{maxc:25,c:.5}],Kic:["throughputThresholdSelectorParam",0],Pkc:["upswitchDuringBufferingFactor",2],QGb:["allowUpswitchDuringBuffering",!1],p3a:["contentOverrides",void 0],Kra:["contentProfileOverrides",void 0],Iwa:["hindsightDenominator",0],Hwa:["hindsightDebugDenominator",0],lba:["hindsightAlgorithmsEnabled",[]],mba:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],m0a:["appendMediaRequestOnComplete",!1],qha:["waitForDrmToAppendMedia",!1],Nlc:["waitForDrmToAppendHeadersWhenClearAndEncryptedContent",!1],P$:["forceAppendHeadersAfterDrm",!1],lsa:["declareBufferingCompleteAtSegmentEnd",!1],Dy:["maxActiveRequestsPerSession",void 0],Fya:["limitAudioDiscountByMaxAudioBitrate",!1],vpa:["appendFirstHeaderOnComplete",!0],M1:["strictBufferCapacityCheck",!1],sO:["aseReportDenominator",0],r8:["aseReportIntervalMs",3E5],mHb:["aseReportMaxStreamSelections",400],fdb:["liveReportSendIntervalMs",6E4],Kya:["liveReportCollectIntervalMs",5E3],bGa:["translateToVp9Draft",!1],bDa:["reorderTrakMvex",!1],uS:["switchableAudioProfiles",[]],WHb:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:256,audioBwFactor:5.02}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:448}}]],tnb:["switchableAudioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:192}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:448,maxInitAudioBitrate:448,minAudioBitrate:448}}]],XHb:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],xeb:["maxStartingVideoVMAF",110],ow:["minStartingVideoVMAF",1],hW:["activateSelectStartingVMAF",!1],Jfa:["selectStartingVMAFTDigest",-1],WR:["selectStartingVMAFMethod","fallback"],Wkb:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],kR:["perFragmentVMAFConfig",{enabled:!1,earlyManifestProcessing:!1}],JQb:["disablePtsStartsEvent",!0],OCa:["recordFirstFragmentOnSubBranchCreate",!0],Eeb:["mediaCacheConvertToBinaryData",!1],Iza:["mediaCacheSaveOneObject",!1],Zdb:["markRequestActiveOnFirstByte",!1],mga:["stopOnAllInactiveRequests",!1],S5a:["enableActiveRequestsInFilters",!1],e$:["earlyAppendSingleChildBranch",!0],MS:["useNativeDataViewMethods",!0],Tkc:["useCorrectDrainingAmounts",!0],j$:["enableNewAse",!1],dha:["useNewApi",!1],kHb:["aseDiagnostics",[{he:"queue-audit",enabled:!0},{he:"task-audit",enabled:!0},{he:"trace-ShimSession",enabled:!0},{he:"trace-engine",enabled:!0},{he:"trace-RequestPacer",enabled:!0},{he:"trace-BufferStateTracker",enabled:!0},{he:"trace-GraphStreamingProcess",enabled:!0},{he:"trace-AsePlaygraph",enabled:!0},{he:"playgraph-branch-audit",enabled:!0},{he:"content-playgraph",enabled:!0},{he:"trace-CphAsePlaygraph",enabled:!0},{he:"trace-GraphLocation",enabled:!0},{he:"cache-ads::gls",enabled:!0},{he:"cache-content::gls",enabled:!0}]],RRb:["enableAseReporting",!0],IIb:["branchDistanceThreshold",6E4],Fca:["maxAllowedOutstandingRequests",4],Zza:["minStreamableConcurrencyWindow",3E3],x5b:["maxStreamableConcurrencyWindow",Infinity],uFa:["streamableConcurrencyFactor",.3],SW:["bufferingConcurrencyWindow",7800],dqa:["branchCreationThreshold",12E4],h$:["enableDiscontiguousBuffering",!1],oua:["forceImmediateTransitionTypeForTitles",[]],nua:["forceImmediateTransitionExitZone",0],Lra:["contiguousBufferMultiplier",3],u3a:["contiguousBufferMinimumAudio",1048576],w3a:["contiguousBufferMinimumVideo",8388608],v3a:["contiguousBufferMinimumText",0],gac:["prefetchBudgetInBytes",0],kjb:["rebufferRiskHalfLife",1E4],bha:["useBufferSizeLimiter",!1],clc:["useStaticBufferSizeLimiter",!1],jac:["prefetchWeightBudget",32],bAa:["minimumDownstreamBranchProbability",.075],HGa:["useExitZones",!0],kac:["prefetchWhilePlaying",!0],pac:["prefetcherSoftReset",!0],I$b:["playgraphDefaultWeight",65520],aQb:["delayNotificationOfEoS",!1],Q5b:["memDeadlockShouldCheckMemory",!0],P5b:["memDeadlockOverageThreshold",.9],O5b:["memDeadlockMaxUtilizationPercentage",.5],D$b:["playerPtsPadding",1],Rvc:["minFragmentVmaf",void 0],RX:["enableCombinedPlaygraphs",!0],nJ:["enableAdPlaygraphs",!0],i6a:["enablePrerollForInitialSeek",!1],h5a:["disablePrerollOn43Seek",!1],JGa:["useLegacyFragmentRounding",!1],Ata:["excludedContentPlaygraphIds",[]],F$a:["graphSelectorSetAudioRate",!1],wSb:["enableVmafEstimationFromBitrate",!1],y5b:["maxVMAFMappingBitrate",16E3],z5b:["maxVMAFMappingVMAF",110],cKb:["cdndldistEnabled",!1],KC:["segmentFadeDuration",400],Dfa:["segmentFadeInDuration",-1],Efa:["segmentFadeOutDuration",-1],FQ:["maximumFade",{"heaac-2-dash":-44,"heaac-2hq-dash":-44,"ddplus-5.1hq-dash":-44,"ddplus-5.1-dash":-44}],ofa:["retainSbrOnFade",!1],hbb:["insertSilentFrameOnFade",!0],U8b:["optimizeEditedFragments",!1],qnb:["supportsPtsChanged",!0],PRb:["enableAdLruCaches",!1],D0a:["aseGcSettings",{segmentPresenting:!0,branchPruned:!0}],eSb:["enableLiveRequestLogger",!1]};b.bh=b.NLb;},function(r,b,a){var c,l,g;Object.defineProperties(b,{__esModule:{value:!0}});b.Uz=b.tH=b.Zu=b.AQ=b.Gla=void 0;c=a(0);l=a(75);Object.defineProperties(b,{tH:{enumerable:!0,get:function(){return l.tH;}}});Object.defineProperties(b,{Uz:{enumerable:!0,get:function(){return l.Uz;}}});Object.defineProperties(b,{AQ:{enumerable:!0,get:function(){return l.AQ;}}});Object.defineProperties(b,{Gla:{enumerable:!0,get:function(){return l.Gla;}}});g=c.__importDefault(a(3));r=(function(m){function d(f,h,k,n,p){return m.call(this,d.console,f,h,k,n,p) || this;}c.__extends(d,m);Object.defineProperties(d,{console:{get:function(){return this.H || (this.H=new g.default.Console("MP4","media|asejs"));},enumerable:!1,configurable:!0}});return d;})(l.Zu);b.Zu=r;},function(r,b,a){var l,g,m,d;function c(f){return g.If.call(this,f,"HlsConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.ZMa=void 0;r=a(0);l=a(1);g=a(46);m=a(33);a=a(45);ka(c,g.If);Va.Object.defineProperties(c.prototype,{Xhb:{configurable:!0,enumerable:!0,get:function(){return !0;}},Hy:{configurable:!0,enumerable:!0,get:function(){return 16E3;}},jC:{configurable:!0,enumerable:!0,get:function(){return 4E3;}},sab:{configurable:!0,enumerable:!0,get:function(){return 1E4;}},ow:{configurable:!0,enumerable:!0,get:function(){return 80;}},qpa:{configurable:!0,enumerable:!0,get:function(){return !1;}}});d=c;r.__decorate([a.config(a.Hd,"playsInline")],d.prototype,"Xhb",null);r.__decorate([a.config(a.zF,"minAudioMediaRequestDuration")],d.prototype,"Hy",null);r.__decorate([a.config(a.zF,"minVideoMediaRequestDuration")],d.prototype,"jC",null);r.__decorate([a.config(a.zF,"hlsVideoMediaRequestTargetDuration")],d.prototype,"sab",null);r.__decorate([a.config(a.zF,"minStartingVideoVMAF")],d.prototype,"ow",null);r.__decorate([a.config(a.Hd,"allowMultipleAudioTextTracks")],d.prototype,"qpa",null);d=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.rn))],d);b.ZMa=d;},function(r,b,a){var l,g;function c(m){this.qa=m.cb("CdnPartitionerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.EJa=void 0;r=a(0);l=a(1);a=a(7);c.prototype.qWb=function(m){var f,h,k,n,p,q,v;function d(t,w,u){var x,y,z;x=t.map(function(B){return B.Kh;});x.sort(function(B,A){return w[B] - w[A];});if(1 === x.length)(!1,k.set(u,{wR:t[0],Bfa:t[0]}));else {y=x.find(function(B){return f.has(B);});y || ((y=x.find(function(B){return !h.has(B);}))?f.add(y):(y=x[0],!1));z=x.find(function(B){return h.has(B) && B !== y;});z || ((z=x.find(function(B){return !f.has(B) && B !== y;}))?h.add(z):(z=x.find(function(B){return B !== y;}),!1));k.set(u,{wR:t.find(function(B){return B.Kh === y;}),Bfa:t.find(function(B){return B.Kh === z;})});}}f=new Set();h=new Set();k=new Map();n=m.video;p=m.audio;q=m.text;v=m.om.reduce(function(t,w){t[w.id]=w.vc;return t;},{});n.forEach(function(t){t=t.stream;d(t.urls,v,t.ap);});p.forEach(function(t){t=t.stream;d(t.urls,v,t.ap);});q.forEach(function(t){var w,u;if(!t.track.DF || t.track.Qba){w=t.stream;t=t.id;u=w.urls.reduce(function(x,y,z){x[y.Kh]=z + 1;return x;},{});d(w.urls,u,t);}});return k;};g=c;g=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.jb))],g);b.EJa=g;},function(r,b,a){var l,g,m,d,f,h,k;function c(n,p,q,v,t){this.ug=n;this.ZB=p;this.Qg=q;this.Ic=v;this.Ia=t;}Object.defineProperty(b,"__esModule",{value:!0});b.YT=void 0;r=a(0);l=a(1);g=a(18);m=a(7);d=a(50);f=a(199);h=a(87);k=a(1200);c.prototype.create=function(n){return new k.$T(this.ug,this.ZB,this.Qg,this.Ia,this.Ic,n);};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.jb)),r.__param(1,(0,l.l)(h.Pz)),r.__param(2,(0,l.l)(d.Do)),r.__param(3,(0,l.l)(f.Vja)),r.__param(4,(0,l.l)(g.jd))],a);b.YT=a;},function(r,b,a){var l,g,m,d,f,h,k;function c(n,p,q,v,t,w){var u;u=this;this.ZB=p;this.Qg=q;this.Ia=v;this.Ic=t;this.Uza=this.AF=this.U0=0;this.lK=!1;this.iC=function(){var x;x=u.l0();x.prstate=u.GB();x.paustate=u.j.fw();x.midplayseq=u.Uza++;u.Ic.dQ(x);u.Dc(l.Wc.iC,void 0,k.Ie | k.av,x);};this.fj=function(){u.Dc(l.Wc.k1a,void 0,k.Ie | k.$q,{});};this.cn=function(x){u.wya=u.getTime();u.xya=x.oldValue;};this.EW=function(x){u.kya=x.oldValue;};this.iea=function(x){x != u.lK && (u.kFa(u.lK,x),u.lK=x);};this.kFa=function(x,y){var z;z=u.j.Fa;x={newstate:y?"Paused":"Playing",oldstate:x?"Paused":"Playing"};u.Ic.Wr(x,z.Pe.value && z.Pe.value.stream,z.eg.value && z.eg.value.stream);u.Dc(l.Wc.J1,void 0,k.Ie,x);};this.D1=function(x){u.Dc(l.Wc.xmb,void 0,k.Ie,{speedold:Math.floor(1E3 * x.oldValue),speed:Math.floor(1E3 * x.newValue)});};this.VC=function(x){var y,z,B;y=u.j.Fa;z=y.Ob.value;if(x.newValue || z && z.Fq() && !z.qp()){B=(x=null !== (B=x.newValue) && void 0 !== B?B:z)?{trackId:x.trackId,bcp47:x.Of,downloadableId:x.Tb,rank:x.vc,isImageBased:x.Zl}:{};x=(x=u.xya)?{trackId:x.trackId,bcp47:x.Of,downloadableId:x.Tb,rank:x.vc,isImageBased:x.Zl}:{};B={switchdelay:(0,g.rg)(u.getTime() - u.wya),track:B,oldtrack:x};u.Ic.Wr(B,y.Pe.value && y.Pe.value.stream,y.eg.value && y.eg.value.stream);u.Dc(l.Wc.Vnb,void 0,k.Ie,B);}};this.IBa=function(x,y){var z;z=u.j.Fa;x={waittime:(0,g.rg)(x),abortedevent:"resumeplay",resumeplayreason:y};u.Ic.Wr(x,z.Hf.value,z.bi.value);u.Dc(l.Wc.nR,void 0,k.Ie | k.$q,x);};this.Hw=function(x,y,z){x={playdelay:(0,g.rg)(x),reason:z,intrplayseq:u.AF - 1,skipped:y};"repos" === z && (x.prstate=!0 === u.j.oj.value?"playing":"paused");u.Dc(l.Wc.Hw,void 0,k.Ie | k.$u,x);};this.Mpa=function(){var x,y,z,B;y=u.j.Fa.Gc.value;z=u.j.Fa.bi.value.Tb;y=y?{trackId:y.trackId,bcp47:y.Of,downloadableId:z,rank:y.vc,chan:y.channels}:{};z=u.VB;B=null === (x=u.kya) || void 0 === x?void 0:x.Tb;x=z?{trackId:z.trackId,bcp47:z.Of,downloadableId:B,rank:z.vc,chan:z.channels}:{};u.Dc(l.Wc.O0a,void 0,k.Ie,{switchdelay:(0,g.rg)(u.getTime() - u.lya),track:y,oldtrack:x});};this.Fn=function(x){u.lya=u.getTime();u.VB=x.oldValue;};this.JBa=function(){var x,y,z;x=u.j.Fa;y={abortedevent:"startplay",trackid:x.Dl,prstate:u.GB(),paustate:u.j.fw()};try{z=(0,m.NJ)();z && (y.pdltime=z);(0,g.Oe)(y,x.yd,{prefix:"sm_"});}catch(B){}u.Ic.uba(y,x);u.Ic.eQ(y,!1,x.Uh.value,x);u.Ic.Wr(y,x.Hf.value,x.bi.value);u.WJ(y);u.Dc(l.Wc.nR,void 0,k.Ie | k.av | k.$q,y);};this.bB=function(x,y,z,B){x={moff:(0,g.Sn)(z),moffms:(0,g.rg)(z),vbitrate:y.bitrate,vbitrateold:x.bitrate,vdlid:y.Tb,vdlidold:x.Tb,vheight:y.height,vheightold:x.height,vwidth:y.width,vwidthold:x.width,bw:B};u.Dc(l.Wc.bB,void 0,0,x);};this.qG=function(x,y,z){x={moffold:(0,g.Sn)(x),reposseq:u.U0++,prstate:u.GB(),paustate:u.j.fw()};u.Ic.Wr(x,z && z.stream,y && y.stream);u.Dc(l.Wc.qG,void 0,k.Ie,x);};this.xu=function(x){var y,z,B,A,C;A=x.Fa;C={playdelaysdk:(0,g.rg)(u.j.VW()),applicationPlaydelay:(0,g.rg)(u.j.Aqa()),playdelay:(0,g.rg)(u.j.Eqa()),trackid:A.Dl,bookmark:(0,g.rg)(A.Gn || 0),pbnum:A.index};u.j.fj && (C.blocked=u.j.fj);C.initvbitrate=u.j.qZ;u.Ic.axa(C);u.Ic.Hab(C);C.esnSource=null === (y=mb._cad_global.device) || void 0 === y?void 0:y.p$;u.Oab(C,A);C.pdltime=(0,m.NJ)();(0,g.Oe)(C,A.yd,{prefix:"sm_"});C.ttTrackFields=null === (z=A.Ob.value) || void 0 === z?void 0:z.Bh;u.Ic.Dab(C,A.Gc.value,A);u.Ic.eQ(C,!0,A.Uh.value,A);C.packageId=null === (B=A.ba) || void 0 === B?void 0:B.Ra.zp;u.Ic.dQ(C);u.Ic.uba(C,A);u.WJ(C);u.Dc(l.Wc.xu,x.Ki,k.Ie | k.$u | k.av | k.dH | k.$q,C);};this.wB=function(){var x,y,z;x=u.j;y=x.Fa;x=x.Ki;z=u.l0();z.paustate=!u.j.Zr();z.muted=u.j.Lxa();z.endreason=x?"error":u.j.Axa()?"ended":"stopped";u.Ic.eQ(z,!1,y.Uh.value,y);u.Ic.dQ(z);u.WJ(z);u.Dc(l.Wc.wB,x,k.Ie | k.$u | k.av | k.dH | k.$q,z);};this.$Ca=function(x,y,z){var B;B=u.j.Fa.eg;x={moff:(0,g.Sn)(z),moffms:(0,g.rg)(z),vdlidold:x.Tb,vbitrateold:x.bitrate};u.Ic.Wr(x,y,B.value && B.value.stream);u.Dc(l.Wc.R0,void 0,0,x);};this.GB=function(){var x;x=u.j.Db.value;return x === f.nb.Xc?"playing":x === f.nb.aj?"paused":x === f.nb.Ks?"ended":"waiting";};this.qa=n.cb("LogblobBuilderImpl");this.j=w;}Object.defineProperty(b,"__esModule",{value:!0});b.$T=void 0;l=a(282);g=a(23);m=a(44);d=a(4);f=a(16);h=a(5);c.prototype.getTime=function(){return this.Ia.Rb().ia(h.va);};c.prototype.Sva=function(){return this.getTime() - this.j.Fa.nj.ia(h.va);};c.prototype.Oab=function(n,p){var q;if(p=null === (q=p.Uh.value) || void 0 === q?void 0:q.streams)(n.maxbitrate=(0,m.gT)(p.map(function(v){return v.bitrate;})),n.maxresheight=(0,m.gT)(p.map(function(v){return v.height;})));};c.prototype.WJ=function(n){n.cachedManifest="notcached";n.cachedLicense="notcached";n.usedldl="false";};c.prototype.l0=function(){var n,p,q,v;n=this.j.Fa;p=n.Tm;q={totaltime:(0,g.Sn)(p.Sr()),totalcontenttime:(0,g.Sn)(p.UY()),reposcount:this.U0,intrplaycount:this.AF};q.playqualvideo=JSON.stringify({numskip:0,numlowqual:0});v=n.Hf.value;v && (q.videofr=v.framerate.toFixed(3));(v=p.Iua()) && (q.abrdel=v);(v=p.gba() && p.e8a()) && (q.tw_vmaf=v);(p=p.c8a()) && (0,g.Oe)(q,p);q.rbfrs=this.AF;this.Oab(q,n);return q;};c.prototype.Dc=function(n,p,q,v){var t,w,u;t=this;p && (0,d.K3)(null === p || void 0 === p?void 0:p.errorCode,null === p || void 0 === p?void 0:p.Ca,this.Sva(),void 0) && (w="info");u=this.j.Fa;this.Voa(v,p,q);p=w || (p?"error":"info");v=this.ZB.Dv(n,p,v,u);this.Qg.Dc(v);"error" !== p && n !== l.Wc.wB || this.Qg.flush(!1).catch(function(){t.qa.debug("Failed to flush the logblobs");});};c.prototype.Voa=function(n,p,q){var v;v=this.j.Fa;this.Ic.Gab(n,v);q & k.Ie && this.Ic.Kab(n,v,!1);q & k.$u && this.Ic.Mab(n,v);q & k.av && this.Ic.Nab(n,this.j.kp());p && q & k.dH && this.Ic.Iab(n,v,p);q & k.$q && this.Ic.axa(n);};b.$T=c;(function(n){n[n.Ie=1]="MOFF";n[n.$u=2]="PRESENTEDSTREAMS";n[n.av=4]="SCREEN";n[n.dH=8]="FATALERROR";n[n.$q=16]="BROWSERINFO";})(k || (k={}));},function(r,b,a){var l,g,m,d,f,h,k;function c(n,p,q,v,t){this.Qg=n;this.config=p;this.za=q;this.Ia=v;this.Yya=t;}Object.defineProperty(b,"__esModule",{value:!0});b.aU=void 0;r=a(0);l=a(1);g=a(18);m=a(27);d=a(12);f=a(50);h=a(484);k=a(1202);c.prototype.create=function(n){return new k.cU(n,this.Qg,this.config,this.Ia,this.Yya.create(n));};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(f.Do)),r.__param(1,(0,l.l)(d.xc)),r.__param(2,(0,l.l)(m.Hh)),r.__param(3,(0,l.l)(g.jd)),r.__param(4,(0,l.l)(h.ZT))],a);b.aU=a;},function(r,b,a){var l,g,m;function c(d,f,h,k,n){var p;p=this;this.j=d;this.Qg=f;this.config=h;this.Ia=k;this.rb=n;this.YW=function(){p.uh();p.j.Fa.Cj.removeListener(p.VC);p.j.Fa.Ob.removeListener(p.rb.cn);p.j.Fa.Gc.removeListener(p.Fn);p.j.Fa.bi.removeListener(p.rb.EW);p.j.oj.removeListener(p.Whb);p.j.JR.removeListener(p.pl);p.j.Fa.Pe.removeListener(p.w0);p.j.Db.removeListener(p.Ux);p.j.Db.removeListener(p.HO);p.j.Fa.Hf.removeListener(p.G2);p.j.Fa.playbackRate.removeListener(p.rb.D1);p.j.removeEventListener(m.Pa.closed,p.YW);p.j.removeEventListener(m.Pa.F8,p.rb.fj);};this.HO=function(){p.j.Db.value === m.nb.Xc && (p.j.Db.removeListener(p.HO),p.uw());};this.VC=function(q){p.hs && p.rb.VC(q);};this.pl=function(q){p.hs && void 0 !== q.newValue && (p.ru && p.Yq && p.rb.IBa(p.getTime() - p.Yq,p.ru),p.ru="repos",p.rb.qG(q.newValue,p.j.Fa.eg.value,p.j.Fa.Pe.value),p.Yq=p.getTime(),(0,g.Lg)(p.Ux));};this.Whb=function(q){p.hs && p.rb.iea(!q.newValue);};this.Fn=function(q){q.oldValue && (p.VB=q.oldValue,p.rb.Fn(q),p.ru="repos",p.Yq=p.getTime(),(0,g.Lg)(p.Ux));};this.Ux=function(){var q;if(p.Yq && p.j.Db.value !== m.nb.Cg){q=p.getTime() - p.Yq;p.rb.Hw(q,!1,p.ru);p.VB && p.VB != p.j.Fa.Gc.value && p.rb.Mpa();p.Yq=void 0;p.ru=void 0;}};this.uw=function(){p.hs || (p.hs=!0,p.rb.xu(p.j),p.jxa(),p.config().Bba && (p.RB=mb.setTimeout(function(){p.Qg.flush(!1).catch(function(){return p.log.warn("failed to flush log batcher on initialLogFlushTimeout");});p.RB=void 0;},p.config().Bba)));};this.uh=function(){p.RB && (mb.clearTimeout(p.RB),p.RB=void 0);p.p2 && p.p2();p.hs?p.rb.wB():p.j.Ki?p.rb.xu(p.j):p.rb.JBa();};this.G2=function(q){q.oldValue && q.ij && q.ij.OI && p.rb.bB(q.oldValue,q.newValue,q.ij.OI,q.ij.LW);};this.w0=function(q){var v;if(q.newValue){v=q.newValue.stream;p.mK != v && (p.mK && v && p.rb.$Ca(p.mK,v,q.newValue.Jn.startTime),p.mK=v);}};this.iga();}Object.defineProperty(b,"__esModule",{value:!0});b.cU=void 0;l=a(5);g=a(59);m=a(16);c.prototype.iga=function(){this.j.addEventListener(m.Pa.closed,this.YW);this.j.addEventListener(m.Pa.F8,this.rb.fj);this.j.Fa.Cj.addListener(this.VC);this.j.Fa.Ob.addListener(this.rb.cn);this.j.Fa.Gc.addListener(this.Fn);this.j.Fa.bi.addListener(this.rb.EW);this.j.oj.addListener(this.Whb);this.j.JR.addListener(this.pl);this.j.Fa.Pe.addListener(this.w0);this.j.Db.addListener(this.Ux);this.j.Db.addListener(this.HO);this.j.Fa.Hf.addListener(this.G2);this.j.Fa.playbackRate.addListener(this.rb.D1);};c.prototype.getTime=function(){return this.Ia.Rb().ia(l.va);};c.prototype.jxa=function(){var d,f,h;d=this;h=[];this.config().Teb && (this.config().Ueb.forEach(function(k){h.push(mb.setTimeout(d.rb.iC,k));}),this.config().$ca && (f=mb.setInterval(this.rb.iC,this.config().$ca)),this.p2=function(){h.forEach(function(k){mb.clearTimeout(k);});f && mb.clearInterval(f);});};b.cU=c;},function(r,b,a){var c,l,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.ML=void 0;r=a(1);c=a(1204);l=a(1205);g=a(485);m=a(486);b.ML=new r.Ed(function(d){d(m.IVa).to(c.HVa);d(g.FVa).dn(new l.EVa());d(m.GVa).bf(function(f){return function(){return f.yb.get(m.IVa);};});});},function(r,b,a){var l,g,m,d;function c(f){this.config=f;this.YEa=g.Oa;this.hS=[];}Object.defineProperty(b,"__esModule",{value:!0});b.HVa=void 0;r=a(0);l=a(1);g=a(52);m=a(5);a=a(485);c.prototype.mp=function(){var h;for(var f;0 < this.hS.length;){f=this.hS.shift();this.u_a(f);}f=void 0 === this.KX || void 0 === this.hJ?m.Oa:this.hJ.Ga(this.KX);h=f.lcb()?0:this.YEa.ia(g.ZG) / f.ia(m.va);return {PFa:Math.floor(h),Ftc:f.ia(m.va)};};c.prototype.MFb=function(f){this.YEa=this.YEa.add(f.size);this.hS.push(f.fRb);for(this.hS.sort(function(h,k){return h.start.Fm(k.start);});this.hS.length > this.config.gRb;){f=this.hS.shift();this.u_a(f);}};c.prototype.u_a=function(f){void 0 === this.KX && (this.KX=f.start);void 0 !== this.hJ && 0 > this.hJ.Fm(f.start) && (this.KX=this.KX.add(f.start.Ga(this.hJ)));if(void 0 === this.hJ || 0 > this.hJ.Fm(f.end))this.hJ=f.end;};d=c;d=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.FVa))],d);b.HVa=d;},function(r,b,a){function c(l){this.gRb=void 0 === l?10:l;}Object.defineProperty(b,"__esModule",{value:!0});b.EVa=void 0;r=a(0);a=a(1);c=r.__decorate([(0,a.$)()],c);b.EVa=c;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A,C,D;Object.defineProperty(b,"__esModule",{value:!0});b.$o=void 0;r=a(1);c=a(26);l=a(12);g=a(1207);m=a(162);d=a(163);f=a(1208);h=a(283);k=a(1209);n=a(487);p=a(488);q=a(1210);v=a(14);t=a(493);w=a(1214);u=a(494);x=a(1215);y=a(287);z=a(1216);B=a(495);A=a(37);C=a(492);D=a(1217);b.$o=new r.Ed(function(E){E(d.DU).to(f.XUa).la();E(c.Hz).to(g.BKa).la();E(h.ZNa).to(k.YNa).la();E(p.AJa).to(q.zJa).la();E(h.sSa).dn({isTypeSupported:v.xD && v.xD.isTypeSupported});E(n.RLa).JG(function(G){return {YWb:function(){return G.yb.get(A.i5);}};});E(m.mM).JG(function(G){return G.yb.get(l.xc);});E(t.KPa).to(w.HPa).la();E(C.GPa).to(D.FPa).la();E(u.JPa).to(x.IPa).la();E(y.gja).to(z.QLa).la();E(B.HTa).dn(mb);});},function(r,b,a){var l,g,m,d,f,h;function c(k,n,p){this.config=k;this.Y1a=n;this.n$b=p;this.ibc=this.BOb();}Object.defineProperty(b,"__esModule",{value:!0});b.BKa=void 0;r=a(0);l=a(26);g=a(162);m=a(1);d=a(42);f=a(487);a=a(488);c.prototype.q$a=function(k){return this.$7a().r$a(k);};c.prototype.s$a=function(k){return this.Uv().r$a(k);};c.prototype.$7a=function(){this.Ipa && this.Ipa.type == this.config().Jpa || (this.Ipa=this.Y1a.GNb(this.config().Jpa));return this.Ipa;};c.prototype.Uv=function(){this.jha && this.jha.type == this.config().kha || (this.jha=this.Y1a.POb(this.config().kha),this.jha.Xoa(this.n$b.YWb()));return this.jha;};c.prototype.lXb=function(k){var q;if(!k || !k.length)return l.Jf.W3;k=this.vUb(k);for(var n=[l.Jf.BU,l.Jf.W3,l.Jf.YM,l.Jf.uM,l.Jf.$w,l.Jf.iD,l.Jf.JD,l.Jf.Fl],p=n.length;p--;){q=n[p];if((0,this.ibc[q])(k))return q;}return l.Jf.BU;};c.prototype.IL=function(k){return this.Uv().IL(k);};c.prototype.MI=function(k){return this.Uv().MI(k);};c.prototype.HJ=function(){return this.Uv().HJ();};c.prototype.naa=function(){return this.Uv().naa();};c.prototype.Q1=function(){return this.Uv().Q1();};c.prototype.O1=function(){return this.$7a().O1();};c.prototype.wga=function(){return this.Uv().wga();};c.prototype.R1=function(){return this.Uv().R1();};c.prototype.yY=function(k){return this.Uv().yY(k);};c.prototype.PY=function(){return this.Uv().PY();};c.prototype.Caa=function(){return this.Uv().Caa();};c.prototype.vUb=function(k){var n;n={};k.filter(function(p){return "video" === p.type;}).forEach(function(p){n[p.kf]="";});return Object.keys(n);};c.prototype.BOb=function(){var k;k={};k[l.Jf.Fl]=function(n){return n.some(function(p){return -1 < p.indexOf("av1");});};k[l.Jf.iD]=function(n){return n.some(function(p){return -1 < p.indexOf("hpl");});};k[l.Jf.JD]=function(n){return n.some(function(p){return -1 < p.indexOf("vp9");});};k[l.Jf.$w]=function(n){return n.some(function(p){return -1 < p.indexOf("hevc-dv");});};k[l.Jf.uM]=function(n){return n.some(function(p){return -1 < p.indexOf("hevc-hdr");});};k[l.Jf.YM]=function(n){return n.some(function(p){return -1 < p.indexOf("hevc-main10-L") || -1 < p.indexOf("hevc-main-L");});};k[l.Jf.W3]=(function(n,p){var q;q={};n.forEach(function(v){return q[v]=1;});n=oa(p);for(p=n.next();!p.done;p=n.next()){if(q[p.value])return !0;}return !1;}).bind(null,[d.I.fH]);k[l.Jf.BU]=function(){return !0;};return k;};h=c;h=r.__decorate([(0,m.$)(),r.__param(0,(0,m.l)(g.mM)),r.__param(1,(0,m.l)(a.AJa)),r.__param(2,(0,m.l)(f.RLa))],h);b.BKa=h;},function(r,b,a){var l,g,m,d,f,h,k,n;function c(p,q,v){this.$o=p;this.Ib=q;this.anb=v;this.eFb="video/mp4;codecs={0}";this.Lzb="audio/mp4;codecs={0}";p=this.$o.yY(g.Jf.$w);this.dFb=d.Zd.e4a(p);}Object.defineProperty(b,"__esModule",{value:!0});b.XUa=void 0;r=a(0);g=a(26);m=a(1);d=a(127);f=a(25);h=a(224);k=a(489);n=a(17);c.prototype.y9=function(p){p=this.$o.lXb(p);p=this.Ib.cJ(p)?p:g.Jf.BU;return this.anb.format(this.eFb,this.dFb[p]);};c.prototype.s9=function(p){if(0 === p.length)return this.anb.format(this.Lzb,d.Zd.Cha);p=k.AIa[p[0].kf] || l.kHa;return p === l.kHa?n.kPa:p === l.Zqb?n.lPa:n.jPa;};a=l=c;a.kHa="AAC";a.Zqb="XHEAAC";a=l=r.__decorate([(0,m.$)(),r.__param(0,(0,m.l)(g.Hz)),r.__param(1,(0,m.l)(f.Ug)),r.__param(2,(0,m.l)(h.Qla))],a);b.XUa=a;},function(r,b,a){var l,g,m,d,f;function c(h,k){this.config=h;this.KPb=k;}Object.defineProperty(b,"__esModule",{value:!0});b.YNa=void 0;r=a(0);l=a(1);g=a(283);m=a(162);d=a(26);f=a(284);c.prototype.T3a=function(){switch(this.config().kha){case d.sn.Tz:return f.vD.jOb();default:return this.KPb;}};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.mM)),r.__param(1,(0,l.l)(g.sSa))],a);b.YNa=a;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z;function c(B,A,C,D,E,G,F,L,O,K){this.gcb=B;this.config=A;this.Jc=C;this.za=D;this.is=E;this.Jq=G;this.$n=F;this.platform=L;this.yc=O;this.gC=K;}Object.defineProperty(b,"__esModule",{value:!0});b.zJa=void 0;r=a(0);l=a(1);g=a(26);m=a(283);d=a(162);f=a(1211);h=a(1212);k=a(286);n=a(490);p=a(47);q=a(27);v=a(25);t=a(1213);w=a(99);u=a(7);x=a(49);y=a(31);a=a(492);c.prototype.GNb=function(B){var A;A=this.gcb.T3a();switch(B){case g.Xw.Tz:return new f.jQa(this.config,A,this.is,this.platform,this.gC);default:return new n.D3(this.config,A,this.gC);}};c.prototype.POb=function(B){var A;A=this.gcb.T3a();switch(B){case g.sn.kM:B=new t.HJa(this.config,A,this.is,this.Jq,this.$n,this.za,this.gC);break;case g.sn.Tz:B=new h.pPa(this.config,A,this.is,this.Jc,this.za,this.$n,this.yc,this.gC,this.Jq);break;default:B=new k.nD(this.config,A,this.is,this.gC);}return B;};z=c;z=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.ZNa)),r.__param(1,(0,l.l)(d.mM)),r.__param(2,(0,l.l)(p.Zj)),r.__param(3,(0,l.l)(q.Hh)),r.__param(4,(0,l.l)(v.Ug)),r.__param(5,(0,l.l)(w.Sz)),r.__param(6,(0,l.l)(u.jb)),r.__param(7,(0,l.l)(x.fr)),r.__param(8,(0,l.l)(y.Yi)),r.__param(9,(0,l.l)(a.GPa))],z);b.zJa=z;},function(r,b,a){var l,g,m,d,f;function c(h,k,n,p,q){h=d.D3.call(this,h,k,q) || this;h.is=n;h.platform=p;h.type=l.Xw.Tz;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.jQa=void 0;l=a(26);g=a(42);m=a(73);d=a(490);f=a(284);ka(c,d.D3);c.prototype.O1=function(){return Promise.resolve(this.config().iP && this.YA(m.xb.$z,"avc1,mp4a",["audio-endpoint-codec=DD+JOC"]));};c.prototype.yt=function(){var h,k;h={};h=(h[g.ke.gH]="mp4a.40.2",h[g.ke.hH]="mp4a.40.2",h);if("browser" === this.platform.Bsa){k={};return Object.assign(Object.assign({},h),(k[g.ke.AT]=this.config().iP?{fe:"avc1",keySystem:m.xb.$z,features:["audio-endpoint-codec=DD+JOC"]}:void 0,k[g.ke.BT]=this.config().iP?{fe:"avc1",keySystem:m.xb.$z,features:["audio-endpoint-codec=DD+JOC"]}:void 0,k[g.ke.o4]=void 0,k[g.ke.gA]=void 0,k[g.ke.o3]=void 0,k));}k={};return Object.assign(Object.assign({},h),(k[g.ke.AT]=this.config().W5a?"ec-3":void 0,k[g.ke.o3]=this.config().V5a?"ec-3":void 0,k[g.ke.BT]=this.config().iP?{fe:"avc1",keySystem:m.xb.$z,features:["audio-endpoint-codec=DD+JOC"]}:void 0,k[g.ke.o4]=void 0,k[g.ke.gA]=void 0,k));};c.prototype.Lta=function(h){var k,n,p;h=this.B0[h];k=[];n=m.xb.$z;if(h){if(this.is.Dr(h))p=h;else (k=h.features,p=h.fe,n=h.keySystem);return this.YA(n,p,k)?Promise.resolve({supported:!0}):Promise.resolve({supported:!1,reason:"ms-can-present-codec-with-features"});}return Promise.resolve({supported:!1,reason:"ms-no-properties"});};c.prototype.YA=function(h,k,n){h=f.vD.u9(h,k,n);return this.MI(h);};b.jQa=c;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A,C,D;function c(E,G,F,L,O,K,I,M,H){E=g.nD.call(this,E,G,F,M) || this;E.Jc=L;E.za=O;E.$n=K;E.yc=I;E.gC=M;E.Jq=H;E.type=m.sn.Tz;E.wT="hvc1";E.nsb="avc1";E.Ehb={};E.log=E.$n.cb("MicrosoftVideoCapabilityDetector");E.hhc();E.P1 && E.config().X5b?E.E5a=E.ZNb():(E.E5a=Promise.resolve(""),E.config().Z5b?E.fOb():E.config().Y5b && E.eOb());return E;}Object.defineProperty(b,"__esModule",{value:!0});b.pPa=void 0;l=a(42);g=a(286);m=a(26);r=a(129);d=a(73);f=a(5);h=a(359);k=a(127);n=a(284);p=a(43);q=a(172);v=("decode-res-x=1920 decode-res-y=1080 decode-bpc=8 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8").split(" ");t=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8").split(" ");w=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8").split(" ");u=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1").split(" ");x=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1").split(" ");y=("decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");z=("decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05").split(" ");B=["hdcp=1"];A=["hdcp=2"];C=new r.FH();D=new h.jia();ka(c,g.nD);c.prototype.yY=function(E){return E === m.Jf.$w && this.config().Vkc?k.Zd.mja:g.nD.prototype.yY.call(this,E);};c.prototype.IL=function(E){switch(E){case m.cr.P4:return this.nnb();case m.cr.nH:return this.D0;default:return Promise.resolve(!1);}};c.prototype.HJ=function(){var G;function E(){return G.P1?G.m0b?G.nnb().then(function(F){return Promise.resolve(F?d.xb.te:d.xb.zH);}):Promise.resolve(d.xb.zH):G.fic?Promise.resolve(d.xb.zH):Promise.resolve(d.xb.$z);}G=this;this.keySystem || (this.keySystem=this.config().Hu?this.Jq.hF().then(function(F){return F.keySystem;}):E());return this.keySystem;};c.prototype.naa=function(){return this.E5a;};c.prototype.Q1=function(){return Promise.resolve({result:this.mnb(),reason:"is-type-supported"});};c.prototype.R1=function(){return this.P1 && this.pnb()?this.D0:Promise.resolve(!1);};c.prototype.wga=function(){return Promise.resolve(this.lnb()).then(function(E){return {result:E,reason:"isTypeSupportedWithFeatures"};});};c.prototype.Xoa=function(E){this.gs=E;Object.assign(this.gs,this.Ehb);E.itshwdrm=this.P1;E.itsqhd=this.onb();E.itshevc=this.pnb();E.itshdr=this.mnb();E.itsdv=this.lnb();E.itsav1=this.cic();this.zGa();};c.prototype.qW=function(E,G){(this.gs?this.gs:this.Ehb)[E]=G;};c.prototype.PY=function(){var E;E=this;return this.IL(m.cr.nH).then(function(G){return G?E.t9(m.cr.nH):E.IL(m.cr.P4).then(function(F){return F?E.t9(m.cr.P4):E.t9(void 0);});});};c.prototype.Caa=function(){return this.config().Hu?Promise.resolve(void 0):this.HJ().then(function(E){return E === d.xb.te?{DEVICE_SECURITY_LEVEL:"3000"}:void 0;});};c.prototype.Lta=function(E){var G;G=this;return this.HJ().then(function(F){var L,O,K;L=G.B0[E];if(L){O=[];if(G.is.Dr(L))K=L;else (O=L.features,K=L.fe,F=L.keySystem);return G.YA(F,K,O)?{supported:!0}:{supported:!1,reason:"ms-can-present-codec-with-features"};}return {supported:!1,reason:"ms-no-properties"};});};c.prototype.yt=function(){var E;E=g.nD.prototype.yt.call(this);E[l.I.KU]=E[l.I.S5]=E[l.I.R5]=E[l.I.ama]={fe:"vp09.00.11.08.02",keySystem:d.xb.te,features:v};E[l.I.s4]=E[l.I.r4]=E[l.I.q4]={fe:"hev1.2.6.L90.B0",keySystem:d.xb.te,features:t};E[l.I.v4]=E[l.I.u4]=E[l.I.t4]={fe:"hev1.2.6.L93.B0",keySystem:d.xb.te,features:t};E[l.I.y4]=E[l.I.x4]=E[l.I.w4]={fe:"hev1.2.6.L120.B0",keySystem:d.xb.te,features:t};E[l.I.B4]=E[l.I.A4]=E[l.I.z4]={fe:"hev1.2.6.L123.B0",keySystem:d.xb.te,features:t};E[l.I.D4]=E[l.I.KT]=E[l.I.C4]={fe:"hev1.2.6.L150.B0",keySystem:d.xb.te,features:t};E[l.I.F4]=E[l.I.LT]=E[l.I.E4]={fe:"hev1.2.6.L153.B0",keySystem:d.xb.te,features:t};E[l.I.Z3]=E[l.I.Y3]=E[l.I.X3]={fe:"hev1.2.6.L90.B0",keySystem:d.xb.te,features:u};E[l.I.c4]=E[l.I.b4]=E[l.I.a4]={fe:"hev1.2.6.L93.B0",keySystem:d.xb.te,features:u};E[l.I.e4]=E[l.I.JT]=E[l.I.d4]={fe:"hev1.2.6.L120.B0",keySystem:d.xb.te,features:u};E[l.I.h4]=E[l.I.g4]=E[l.I.f4]={fe:"hev1.2.6.L123.B0",keySystem:d.xb.te,features:x};E[l.I.k4]=E[l.I.j4]=E[l.I.i4]={fe:"hev1.2.6.L150.B0",keySystem:d.xb.te,features:x};E[l.I.n4]=E[l.I.m4]=E[l.I.l4]={fe:"hev1.2.6.L153.B0",keySystem:d.xb.te,features:x};E[l.I.r3]=E[l.I.q3]={fe:"hev1.2.6.L90.B0",keySystem:d.xb.te,features:y};E[l.I.t3]=E[l.I.s3]={fe:"hev1.2.6.L93.B0",keySystem:d.xb.te,features:y};E[l.I.u3]=E[l.I.Nia]=E[l.I.CT]={fe:"hev1.2.6.L120.B0",keySystem:d.xb.te,features:y};E[l.I.w3]=E[l.I.Oia]=E[l.I.v3]={fe:"hev1.2.6.L123.B0",keySystem:d.xb.te,features:z};E[l.I.y3]=E[l.I.Pia]=E[l.I.x3]={fe:"hev1.2.6.L150.B0",keySystem:d.xb.te,features:z};E[l.I.A3]=E[l.I.Qia]=E[l.I.z3]={fe:"hev1.2.6.L153.B0",keySystem:d.xb.te,features:z};E[l.I.gD]={fe:"av01.0.04M.10",keySystem:d.xb.te,features:v};E[l.I.hD]={fe:"av01.0.05M.10",keySystem:d.xb.te,features:v};E[l.I.dT]={fe:"av01.0.08M.10",keySystem:d.xb.te,features:v};E[l.I.eT]={fe:"av01.0.09M.10",keySystem:d.xb.te,features:v};E[l.I.X2]={fe:"av01.0.12M.10",keySystem:d.xb.te,features:w};E[l.I.Y2]={fe:"av01.0.13M.10",keySystem:d.xb.te,features:w};return E;};c.prototype.YA=function(E,G,F){E=n.vD.u9(E,G,F);return this.MI(E);};c.prototype.onb=function(){return this.YA(d.xb.te,this.wT,t);};c.prototype.mnb=function(){return this.YA(d.xb.te,this.wT,u);};c.prototype.lnb=function(){return this.YA(d.xb.te,this.wT,y);};c.prototype.cic=function(){return this.YA(d.xb.te,k.Zd.Fl,v);};c.prototype.pnb=function(){return this.YA(d.xb.te,this.wT,w);};c.prototype.nnb=function(){var E;E=this;return this.D0.then(function(G){return G?Promise.resolve(G):E.Dib;});};c.prototype.zGa=function(){this.gs && (this.gs.itshdcp=JSON.stringify({hdcp1:this.cab,time1:this.Knb - this.Emb,hdcp2:this.dab,time2:this.Lnb - this.Fmb}));};c.prototype.hhc=function(){var E;E=this;this.P1?(this.D0=this.W9a(this.config().Seb,this.config().a6b,function(){var G;G=E.iXb();return ["maybe" !== G,G];}).then(function(G){return "probably" === G;}),this.Dib=this.D0.then(function(G){return G?!0:E.W9a(E.config().Seb,E.config().$5b,function(){var F;F=E.hXb();return ["maybe" !== F,F];}).then(function(F){return "probably" === F;});})):(this.Dib=Promise.resolve(!0),this.D0=Promise.resolve(!1));};c.prototype.W9a=function(E,G,F){var L;L=this;return new Promise(function(O){var K,I,M,H;K=oa(F());I=K.next().value;K=K.next().value;if(I)return O(K);M=L.Jc.TR((0,f.$b)(E),function(){var J,N;J=oa(F());N=J.next().value;J=J.next().value;N && (M.cancel(),H.cancel(),O(J));});H=L.Jc.wl((0,f.$b)(G),function(){M.cancel();H.cancel();O("timeout");});});};c.prototype.hXb=function(){var E;E=n.vD.u9(d.xb.zH,this.nsb,B).split("|");this.cab=n.vD.EFa(E[0],E[1]);this.Knb=this.za.lf.ia(f.va);this.Emb=this.Emb || this.Knb;this.zGa();return this.cab;};c.prototype.iXb=function(){var E;E=n.vD.u9(d.xb.te,this.wT,A).split("|");this.dab=n.vD.EFa(E[0],E[1]);this.Lnb=this.za.lf.ia(f.va);this.Fmb=this.Fmb || this.Lnb;this.zGa();return this.dab;};c.prototype.ZNb=function(){var E;E=this;return this.Rra(d.xb.te,'<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0"><ServerCert>' + (p.fRa + "</ServerCert></DriverInfo></PlayReadyCDMData>")).then(function(G){E.log.debug("DriverInfo: " + G);return G;}).catch(function(G){E.qW("itsDriverInfo","exception");E.log.error("DriverInfo exception",G);throw G;});};c.prototype.eOb=function(){var E;E=this;this.Rra(d.xb.$z,'<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then(function(G){var F;F=String.fromCharCode.apply(void 0,E.yc.decode(G));E.qW("itsHardwareInfo",F);E.log.debug("HardwareInfo: " + F);return G;}).catch(function(G){E.qW("itsHardwareInfo","exception");E.log.error("HardwareInfo exception",G);throw G;});};c.prototype.fOb=function(){var E;E=this;this.Rra(d.xb.$z,'<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then(function(G){var F;F=String.fromCharCode.apply(void 0,E.yc.decode(G));E.qW("itsHardwareReset",F);E.log.debug("ResetHardwareDRMDisabled: " + F);return G;}).catch(function(G){E.qW("itsHardwareReset","exception");E.log.error("ResetHardwareDRMDisabled exception",G);throw G;});};c.prototype.Rra=function(E,G){var F;F=this;return new Promise(function(L,O){var N,P,W;function K(V){try{H(V.target,"Unexpectedly got an mskeyerror event: 0x" + D.yJ(V && V.target && V.target.error && V.target.error.Fxc || 0,4));}catch(S){H(V.target,S);}}function I(V){H(V.target,"Unexpectedly got an mskeyadded event");}function M(V){var S;try{S=F.Hta(V.message,"PlayReadyKeyMessage","Challenge");J(V.target);L(S);}catch(U){H(V.target,U);}}function H(V,S){F.log.error("PlayReadyChallenge error",{cdmData:G});J(V);O(S);}function J(V){V.removeEventListener("mskeymessage",M);V.removeEventListener("mskeyadded",I);V.removeEventListener("mskeyerror",K);W && W.cancel();}try{N=new Uint8Array(C.Zmb(G));P=new mb.MSMediaKeys(E).createSession("video/mp4",new Uint8Array(0),N);P.addEventListener("mskeymessage",M);P.addEventListener("mskeyadded",I);P.addEventListener("mskeyerror",K);W=F.Jc.wl((0,f.$b)(1E3),function(){H(P,Error("timeout"));});}catch(V){O(V);}});};c.prototype.Hta=function(E,G){var L,O,K;for(var F=1;F < arguments.length;++F){;}F="";O=E.length;for(L=0;L < O;L++){K=E[L];0 < K && (F+=String.fromCharCode(K));}O="\\s*(.*)\\s*";for(L=arguments.length - 1;0 < L;L--){K=arguments[L];if(0 > F.search(K))return;K="(?:[^:].*:|)" + K;O="[\\s\\S]*<" + K + "[^>]*>" + O + "</" + K + ">[\\s\\S]*";}if(F=F.match(new RegExp(O)))return F[1];};c.prototype.Uxa=function(E){var G;G=this;return this.HJ().then(function(F){return [q.tf.iD,q.tf.JD].some(function(L){return L.test(E);}) && !q.tf.iOa.test(E) && G.config().Reb && ![d.xb.zH,d.xb.ySa].some(function(L){return L === F;})?{supported:!1,reason:"ms-restricted"}:{supported:!0};});};Va.Object.defineProperties(c.prototype,{m0b:{configurable:!0,enumerable:!0,get:function(){return this.config().$5a && (!this.config().b6b || this.onb());}},P1:{configurable:!0,enumerable:!0,get:function(){try{return this.MI(d.xb.te + "|" + k.Zd.Wza);}catch(E){return !1;}}},fic:{configurable:!0,enumerable:!0,get:function(){try{return this.MI(d.xb.zH);}catch(E){return !1;}}}});b.pPa=c;},function(r,b,a){var l,g,m,d,f;function c(h,k,n,p,q,v,t){h=l.nD.call(this,h,k,n,t) || this;h.Jq=p;h.$n=q;h.za=v;h.gC=t;h.type=g.sn.kM;h.log=h.$n.cb("ChromeVideoCapabilityDetector");return h;}Object.defineProperty(b,"__esModule",{value:!0});b.HJa=void 0;l=a(286);g=a(26);m=a(5);d=a(43);f=a(172);ka(c,l.nD);c.prototype.IL=function(h){switch(h){case g.cr.nH:return this.dic;default:return Promise.resolve(!1);}};c.prototype.PY=function(){var h;h=this;return this.IL(g.cr.nH).then(function(k){return k?g.cr.nH:void 0;}).then(function(k){return h.t9(k);});};c.prototype.Xoa=function(h){this.gs=h;};c.prototype.H2b=function(h){var k;return !(null === (k=h.getConfiguration().videoCapabilities) || void 0 === k || !k.some(function(n){return (null === n || void 0 === n?void 0:n.robustness) === d.bx;}));};c.prototype.dpb=function(){var h;if(this.gs){h=this.eab && this.gab && this.eab.Ga(this.gab).ia(m.va);this.gs.itshdcp=JSON.stringify({hdcp2:this.Yv,time2:h});}};c.prototype.Uxa=function(h){var k;k=this;return this.Jq.hF().then(function(n){n=(0,d.waa)(n);return [f.tf.iD,f.tf.JD].some(function(p){return p.test(h);}) && !f.tf.iOa.test(h) && k.config().Reb && n === d.bx?{supported:!1,reason:"mcclearen-restricted"}:f.tf.rub.test(h) && !(k.config().YRb || k.config().Z5a && n === d.bx) || f.tf.YM.test(h) && (!k.config().Z5a || n !== d.bx)?{supported:!1,reason:"robustness-restricted"}:{supported:!0};});};Va.Object.defineProperties(c.prototype,{mediaKeys:{configurable:!0,enumerable:!0,get:function(){this.Jeb || (this.Jeb=this.Jq.hF().then(function(h){return h.createMediaKeys();}));return this.Jeb;}},dic:{configurable:!0,enumerable:!0,get:function(){var h;h=this;this.FFa || (this.config().$Rb?this.FFa=Promise.all([this.Jq.hF(),this.mediaKeys]).then(function(k){var n;n=oa(k);k=n.next().value;n=n.next().value;if(!h.H2b(k))return (h.Yv="not HW_SECURE_ALL",h.log.trace("hdcpStatus: " + h.Yv),!1);if(n && n.getStatusForPolicy)return (h.gab=h.za.lf,n.getStatusForPolicy({minHdcpVersion:"2.2"}).then(function(p){h.eab=h.za.lf;h.Yv=p;h.log.trace("hdcpStatus: " + h.Yv);return "usable" === h.Yv;}));h.Yv="not available";h.log.trace("hdcpStatus: " + h.Yv);return !1;}).catch(function(k){h.Yv="exception";h.log.error("Exception in supportsHdcpLevel",{hdcpStatus:h.Yv},k);return !1;}).then(function(k){h.dpb();return k;}):(this.Yv="not enabled",this.log.trace("hdcpStatus: " + this.Yv),this.dpb(),this.FFa=Promise.resolve(!1)));return this.FFa;}}});b.HJa=c;},function(r,b,a){var l,g;function c(m){this.navigator=m;this.Geb=("mediaCapabilities" in this.navigator) && ("decodingInfo" in this.navigator.mediaCapabilities);}Object.defineProperty(b,"__esModule",{value:!0});b.HPa=void 0;r=a(0);l=a(1);a=a(37);c.prototype.Kta=function(m){return this.Geb?this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:m.contentType,width:m.width,height:m.height,bitrate:m.bitrate,framerate:m.framerate}}).then(function(d){return {supported:d.supported,smooth:d.smooth,powerEfficient:d.powerEfficient};}):Promise.reject("MediaCapabilities not supported");};g=c;g=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.GM))],g);b.HPa=g;},function(r,b,a){var l,g,m,d;function c(f,h){this.mediaCapabilities=f;this.log=h.cb("MediaCapabilities");this.B0=d.E3.yt();}Object.defineProperty(b,"__esModule",{value:!0});b.IPa=void 0;r=a(0);l=a(493);g=a(7);m=a(1);d=a(254);c.prototype.Kta=function(f){var h,k,n,p;h=this;n={Yc:void 0};if(this.mediaCapabilities.Geb){p={contentType:'video/mp4;codecs="' + (null !== (k=this.B0[f.kf]) && void 0 !== k?k:"avc1.640028") + '"',width:f.width,height:f.height,bitrate:1E3 * f.bitrate,framerate:24};this.mediaCapabilities.Kta(p).then(function(q){return n.Yc=Object.assign(Object.assign({},q),p);}).catch(function(q){return h.log.error("Error calling MediaCapabilities API",q);});}return n;};a=c;a=r.__decorate([(0,m.$)(),r.__param(0,(0,m.l)(l.KPa)),r.__param(1,(0,m.l)(g.jb))],a);b.IPa=a;},function(r,b,a){var l,g,m;function c(d){this.Aac=d;}Object.defineProperty(b,"__esModule",{value:!0});b.QLa=void 0;r=a(0);l=a(1);g=a(287);a=a(495);c.prototype.KTb=function(){var d,f;d={uP:g.Nz.azb};try{f=this.Aac.PresentationRequest;f && (new f("https://netflix.com").getAvailability() || Promise.reject()).then(function(h){var k;d.uP=h.value?g.Nz.GTa:g.Nz.nHa;if(d.uP === g.Nz.nHa){k=function(){h.value && (d.uP=g.Nz.GTa);h.removeEventListener("change",k);};h.addEventListener("change",k);}}).catch(function(){d.uP=g.Nz.Error;});}catch(h){d.uP=g.Nz.Error;}return d;};m=c;m=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.HTa))],m);b.QLa=m;},function(r,b,a){var l,g,m,d,f,h,k,n;function c(p,q,v,t){this.config=p;this.navigator=q;this.$n=v;this.HQ=t;this.K0a={};this.Spb={};this.hpa={};this.log=this.$n.cb("MediaCapabilityDetector");this.K0a=this.FNb();this.Spb=this.OOb();}Object.defineProperty(b,"__esModule",{value:!0});b.FPa=void 0;r=a(0);l=a(1);g=a(42);m=a(7);d=a(37);f=a(99);h=a(162);k=a(43);n=a(14);c.prototype.fY=function(p){var q;q=this;return this.HQ.hF().then(function(v){return q.aUb(p,v);}).catch(function(){return {supported:!1,reason:"mc-ksa-exception"};});};c.prototype.X1b=function(p){return !!p.colorGamut || !!p.hdrMetadataType || !!p.transferFunction;};c.prototype.Dxa=function(){return mb.matchMedia("(dynamic-range: high)").matches;};c.prototype.aUb=function(p,q){var v,t,w;try{v={type:"media-source"};t=this.K0a[p];w=this.Spb[p];if(t)v.audio=t;else if(w){v.video=w;if(this.X1b(w) && !this.Dxa())return Promise.resolve({supported:!1,reason:"mc-non-hdr-display"});q && (v.keySystemConfiguration=this.yXb(q));}else return Promise.resolve({supported:!1,reason:"mc-missing-config"});return Promise.all([this.mKb(v),this.jKb((t || w).contentType)]).then(function(u){var x;x=oa(u);u=x.next().value;x=x.next().value;return u?x?{supported:!0}:{supported:!1,reason:"mc-add-source-buffer"}:{supported:!1,reason:"mc-decoding-info"};});}catch(u){return (this.log.error("mediaCapabilitiesIsTypeSupported failed",u),Promise.resolve({supported:!1,reason:"mc-exception"}));}};c.prototype.mKb=function(p){var q;q=this;return this.navigator.mediaCapabilities.decodingInfo(p).then(function(v){var t;v.configuration || (v.configuration=p);t=q.y2b(p,v);t?q.log.trace("mediaCapabilities.decodingInfo: " + JSON.stringify(v)):q.log.warn("mediaCapabilities.decodingInfo: " + JSON.stringify(v));return t;}).catch(function(v){q.log.error("mediaCapabilities.decodingInfo failed",v);return !1;});};c.prototype.jKb=function(p){var q;q=this;if(!this.config().iSb)return Promise.resolve(!0);this.hpa[p] || (this.hpa[p]=new Promise(function(v){var t;try{t=new n.xD();document.createElement("video").src=URL.createObjectURL(t);t.addEventListener("sourceopen",function(){try{t.addSourceBuffer(p);q.log.trace("addSourceBuffer succeeded for " + p);v(!0);}catch(w){q.log.warn("addSourceBuffer failed",w);v(!1);}});}catch(w){q.log.warn("addSourceBuffer failed",w);v(!1);}}));return this.hpa[p];};c.prototype.yXb=function(p){this.keySystemConfiguration || (this.keySystemConfiguration={keySystem:p.keySystem},(p=(0,k.waa)(p)) && (this.keySystemConfiguration.video={robustness:p}));return this.keySystemConfiguration;};c.prototype.FNb=function(){var p,q;p={};q={contentType:"audio/mp4;codecs=mp4a.40.2"};p[g.ke.gH]=q;p[g.ke.o4]=q;p[g.ke.hH]=q;p[g.ke.gA]=q;q={contentType:"audio/mp4;codecs=ec-3"};p[g.ke.AT]=q;p[g.ke.o3]=q;p[g.ke.BT]=q;return p;};c.prototype.OOb=function(){var p,q,v,t,w,u,x,y,z,B,A,C,D,E,G,F,L,O,K,I;p={contentType:'video/mp4; codecs="hev1.2.4.L120.B0"'};q={contentType:'video/mp4; codecs="dvh1.05.04"'};v={width:1920,height:1080};t={width:3840,height:2160};w=Object.assign(Object.assign({},v),{bitrate:12E6,framerate:30});u=Object.assign(Object.assign({},v),{bitrate:2E7,framerate:60});x=Object.assign(Object.assign({},t),{bitrate:25E6,framerate:30});y=Object.assign(Object.assign({},t),{bitrate:4E7,framerate:60});z={hdrMetadataType:"smpteSt2086",colorGamut:"rec2020",transferFunction:"pq"};B={colorGamut:"rec2020",transferFunction:"pq"};t=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.4D4028"'}),w);v=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="avc1.640028"'}),w);A=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="vp09.02.31.10.01"'}),w);C=Object.assign(Object.assign({},p),w);D=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L123.B0"'}),u);E=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L150.B0"'}),x);G=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="hev1.2.4.L153.B0"'}),y);F=Object.assign(Object.assign(Object.assign({},p),w),z);L=Object.assign(Object.assign(Object.assign({},p),u),z);O=Object.assign(Object.assign(Object.assign({},p),x),z);p=Object.assign(Object.assign(Object.assign({},p),y),z);z=Object.assign(Object.assign(Object.assign({},q),w),B);K=Object.assign(Object.assign(Object.assign({},q),u),B);I=Object.assign(Object.assign(Object.assign({},q),x),B);q=Object.assign(Object.assign(Object.assign({},q),y),B);w=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.08M.10"'}),w);u=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.09M.10"'}),u);x=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.12M.10"'}),x);y=Object.assign(Object.assign({},{contentType:'video/mp4; codecs="av01.0.13M.10"'}),y);B={};return (B[g.I.eH]=t,B[g.I.fH]=t,B[g.I.V3]=t,B[g.I.nMa]=t,B[g.I.oMa]=t,B[g.I.pMa]=t,B[g.I.lMa]=v,B[g.I.Q3]=v,B[g.I.S3]=v,B[g.I.U3]=v,B[g.I.mMa]=v,B[g.I.R3]=v,B[g.I.T3]=v,B[g.I.lja]=v,B[g.I.ama]=A,B[g.I.R5]=A,B[g.I.S5]=A,B[g.I.KU]=A,B[g.I.nja]=C,B[g.I.oja]=C,B[g.I.pja]=C,B[g.I.qja]=D,B[g.I.r4]=C,B[g.I.u4]=C,B[g.I.x4]=C,B[g.I.A4]=D,B[g.I.KT]=E,B[g.I.LT]=G,B[g.I.s4]=C,B[g.I.v4]=C,B[g.I.y4]=C,B[g.I.B4]=D,B[g.I.D4]=E,B[g.I.F4]=G,B[g.I.q4]=C,B[g.I.t4]=C,B[g.I.w4]=C,B[g.I.z4]=D,B[g.I.C4]=E,B[g.I.E4]=G,B[g.I.Y3]=F,B[g.I.b4]=F,B[g.I.JT]=F,B[g.I.g4]=L,B[g.I.j4]=O,B[g.I.m4]=p,B[g.I.Z3]=F,B[g.I.c4]=F,B[g.I.e4]=F,B[g.I.h4]=L,B[g.I.k4]=O,B[g.I.n4]=p,B[g.I.X3]=F,B[g.I.a4]=F,B[g.I.d4]=F,B[g.I.f4]=L,B[g.I.i4]=O,B[g.I.l4]=p,B[g.I.q3]=z,B[g.I.s3]=z,B[g.I.CT]=z,B[g.I.v3]=K,B[g.I.x3]=I,B[g.I.z3]=q,B[g.I.Nia]=z,B[g.I.Oia]=K,B[g.I.Pia]=I,B[g.I.Qia]=q,B[g.I.r3]=z,B[g.I.t3]=z,B[g.I.u3]=z,B[g.I.w3]=K,B[g.I.y3]=I,B[g.I.A3]=q,B[g.I.lHa]=w,B[g.I.mHa]=w,B[g.I.gD]=w,B[g.I.hD]=w,B[g.I.dT]=w,B[g.I.eT]=u,B[g.I.X2]=x,B[g.I.Y2]=y,B);};c.prototype.y2b=function(p,q){return p.video && this.config().X$b?q.supported && q.powerEfficient:q.supported;};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(h.mM)),r.__param(1,(0,l.l)(d.GM)),r.__param(2,(0,l.l)(m.jb)),r.__param(3,(0,l.l)(f.Sz))],a);b.FPa=a;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.storage=void 0;r=a(1);c=a(496);l=a(200);g=a(497);m=a(1219);d=a(288);f=a(1220);h=a(1223);k=a(1224);n=a(83);p=a(498);q=a(1226);b.storage=new r.Ed(function(v){v(l.xQa).bf(function(){return function(){return mb.localStorage;};});v(l.jNa).bf(function(){return function(){return mb.indexedDB;};});v(p.gQa).to(q.fQa).la();v(n.Az).to(k.UHa).la();v(g.HOa).to(m.GOa).la();v(c.N4).to(h.LNa).la();v(d.NNa).to(f.MNa).la();v(d.iNa).to(f.hNa).la();v(d.PNa).to(f.ONa).la();});},function(r,b,a){var l,g,m;function c(d){this.cG=d;}Object.defineProperty(b,"__esModule",{value:!0});b.GOa=void 0;r=a(0);l=a(1);g=a(4);a=a(200);c.prototype.load=function(d){var f;f=this;return new Promise(function(h,k){var n,p;try{n=f.cG.getItem(d);if(n){p=n;if("{" === n[0])try{p=JSON.parse(n) || n;}catch(q){}h({key:d,value:p});}else k({Ca:g.Y.cA});}catch(q){k({Ca:g.Y.tUa,cause:q});}});};c.prototype.save=function(d,f,h){var k;k=this;return new Promise(function(n,p){if(h && k.cG.getItem(d))n(!1);else try{"string" === typeof f?k.cG.setItem(d,f):k.cG.setItem(d,JSON.stringify(f));n(!0);}catch(q){p({Ca:g.Y.uUa,cause:q});}});};c.prototype.remove=function(d){var f;f=this;return new Promise(function(h,k){try{f.cG.removeItem(d);h();}catch(n){k({Ca:g.Y.Dla,cause:n});}});};c.prototype.loadAll=function(){return Promise.reject("Not supported");};c.prototype.removeAll=function(){return Promise.reject("Not supported");};m=c;m=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.Cwb))],m);b.GOa=m;},function(r,b,a){var m,d,f,h,k,n,p,q,v,t,w,u;function c(x,y,z,B,A,C){this.config=y;this.uX=z;this.$m=B;this.slc=A;this.qm=C;this.qa=x.cb(n.lVa);}function l(x,y){this.config=x;this.DS=y;}function g(x,y,z,B,A){this.config=y;this.DS=z;this.qm=A;this.qa=x.cb(n.lVa);this.uX=new Promise(function(C,D){var E;try{E=B();E?C(E):D({Ca:k.Y.lNa});}catch(G){D({Ca:k.Y.M4,cause:G});}});}Object.defineProperty(b,"__esModule",{value:!0});b.ONa=b.MNa=b.hNa=void 0;r=a(0);m=a(1);d=a(7);f=a(1221);h=a(200);k=a(4);n=a(1222);p=a(496);q=a(63);v=a(83);t=a(85);w=a(288);u=a(56);g.prototype.create=function(){this.gsa || (this.gsa=this.MO());return this.gsa;};g.prototype.Bt=function(x){var y;y=this;this.gsa=null;return this.DS.xs(this.config.timeout,new Promise(function(z,B){x.close();y.delete(x.name).then(function(){z();}).catch(function(A){B(A);});})).catch(function(z){return z instanceof q.Ps?Promise.reject({Ca:k.Y.M4}):z.Ca?Promise.reject(z):Promise.reject({Ca:k.Y.M4,cause:z});});};g.prototype.delete=function(x){var y;y=this;return this.DS.xs(this.config.timeout,new Promise(function(z,B){y.uX.then(function(A){var C;C=A.deleteDatabase(x);C.onsuccess=function(){z();};C.onerror=function(){B({Ca:k.Y.M4,cause:C.error});};}).catch(function(A){B(A);});}));};g.prototype.MO=function(){var x,y;x=this;return this.DS.xs(this.config.timeout,new Promise(function(z,B){if(x.config.VEa)return B({Ca:x.config.VEa});x.uX.then(function(A){x.qm.mark(u.Kk.Xub);y=A.open(x.config.name,x.config.version);if(!y)return B({Ca:k.Y.mNa});y.onblocked=function(){x.qm.mark(u.Kk.Uub);B({Ca:k.Y.Qub});};y.onupgradeneeded=function(){var C;x.qm.mark(u.Kk.dvb);C=y.result;try{C.createObjectStore(x.config.M_,{keyPath:"name"});}catch(D){x.qa.error("Exception while creating object store",D);}};y.onsuccess=function(C){var D,E;x.qm.mark(u.Kk.cvb);try{D=C.target.result;E=D.objectStoreNames.length;x.qa.trace("objectstorenames length ",E);if(0 === E){x.qa.error("invalid indexedDb state, deleting");x.qm.mark(u.Kk.Wub);try{D.close();}catch(G){}A.deleteDatabase(x.config.name);setTimeout(function(){B({Ca:k.Y.Pub});},1);return;}}catch(G){x.qa.error("Exception while inspecting indexedDb objectstorenames",G);}z(y.result);};y.onerror=function(){x.qm.mark(u.Kk.Vub);x.qa.error("IndexedDB open error",y.error);B({Ca:k.Y.Rub,cause:y.error});};}).catch(function(A){B(A);});})).catch(function(z){if(z instanceof q.Ps){try{y && y.readyState && x.qm.mark("readyState-" + y.readyState);}catch(B){}if(x.config.n8 && y && "done" === y.readyState){if(x.mlc(y))return (x.qm.mark(u.Kk.avb),Promise.resolve(y.result));x.qm.mark(u.Kk.$ub);}x.qm.mark(u.Kk.Zub);return Promise.reject({Ca:k.Y.Tub});}if(z.Ca)return Promise.reject(z);x.qm.mark(u.Kk.Yub);x.qa.error("IndexedDB open exception occurred",z);return Promise.reject({Ca:k.Y.Sub,cause:z});});};g.prototype.mlc=function(x){try{return 0 < x.result.objectStoreNames.length;}catch(y){this.qm.mark(u.Kk.bvb);this.qa.error("failed to check open request state",y);}return !1;};a=g;a=r.__decorate([(0,m.$)(),r.__param(0,(0,m.l)(d.jb)),r.__param(1,(0,m.l)(p.N4)),r.__param(2,(0,m.l)(q.CD)),r.__param(3,(0,m.l)(h.jNa)),r.__param(4,(0,m.l)(t.WM))],a);b.hNa=a;l.prototype.create=function(x){return Promise.resolve(new f.KNa(this.config,this.DS,x));};a=l;a=r.__decorate([(0,m.$)(),r.__param(0,(0,m.l)(p.N4)),r.__param(1,(0,m.l)(q.CD))],a);b.MNa=a;c.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.pX || (this.pX=this.MO(this.slc));return this.pX;};c.prototype.MO=function(x){var y;y=this;x=void 0 === x?[]:x;return new Promise(function(z,B){y.qm.mark(u.Kk.zyb);y.uX.create().then(function(A){y.$m.create(A).then(function(C){Promise.all(x.map(function(D){return D.validate(C);})).then(function(){y.storage=C;z(y.storage);}).catch(function(D){y.qa.debug("DB validation failed, cause: " + D);y.config.r7a?(y.qa.debug("Fixing corrupt DB"),y.uX.Bt(A).then(function(){y.qa.error("Invalid database deleted, creating new database.");y.MO().then(function(E){y.qa.error("Invalid database successfully recreated.");y.storage=E;z(y.storage);});}).catch(function(E){y.qa.error("Couldn't delete invalid database.");B(E);})):(y.qa.debug("Ignoring invalid DB due to config"),y.storage=C,z(y.storage));});}).catch(function(C){B(C);});}).catch(function(A){B(A);});});};a=c;a=r.__decorate([(0,m.$)(),r.__param(0,(0,m.l)(d.jb)),r.__param(1,(0,m.l)(p.N4)),r.__param(2,(0,m.l)(w.iNa)),r.__param(3,(0,m.l)(w.NNa)),r.__param(4,(0,m.optional)()),r.__param(4,(0,m.EK)(v.Jyb)),r.__param(5,(0,m.l)(t.WM))],a);b.ONa=a;},function(r,b,a){var g,m,d;function c(f,h,k){this.config=f;this.Pq=h;this.cG=k;}function l(f,h){this.reason=f;this.cause=h;}Object.defineProperty(b,"__esModule",{value:!0});b.KNa=b.VTa=void 0;g=a(4);m=a(63);(function(f){f[f.vka=0]="NoData";f[f.Error=1]="Error";f[f.VM=2]="Timeout";})(d=b.VTa || (b.VTa={}));c.prototype.load=function(f){var h;h=this;return new Promise(function(k,n){h.v$("get",!1,f).then(function(p){k({key:f,value:p});}).catch(function(p){var q;q=g.Y.tUa;switch(p.reason){case d.vka:q=g.Y.cA;break;case d.VM:q=g.Y.Ayb;}n({Ca:q,cause:p.cause});});});};c.prototype.save=function(f,h,k){var n;n=this;return new Promise(function(p,q){n.v$(k?"add":"put",!0,{name:f,data:h}).then(function(){p(!k);}).catch(function(v){var t;t=g.Y.uUa;switch(v.reason){case d.VM:t=g.Y.Dyb;}q({Ca:t,cause:v.cause});});});};c.prototype.remove=function(f){var h;h=this;return new Promise(function(k,n){h.v$("delete",!0,f).then(function(){k();}).catch(function(p){var q;q=g.Y.Dla;switch(p.reason){case d.VM:q=g.Y.sUa;}n({Ca:q,cause:p.cause});});});};c.prototype.removeAll=function(){var f;f=this;return new Promise(function(h,k){f.v$("clear",!0,"").then(function(){h();}).catch(function(n){var p;p=g.Y.Dla;switch(n.reason){case d.VM:p=g.Y.sUa;}k({Ca:p,cause:n.cause});});});};c.prototype.loadAll=function(){var f;f=this;return this.Pq.xs(this.config.timeout,new Promise(function(h,k){var n,p,q;if(f.config.UEa)k(new l(f.config.UEa));else {n=[];p=f.cG.transaction(f.config.M_,"readonly");q=p.objectStore(f.config.M_).openCursor();p.onerror=function(){k(new l(d.Error,q.error));};q.onsuccess=function(v){if(v=v.target.result)try{n.push({key:v.value.name,value:v.value.data});v.continue();}catch(t){k(new l(d.Error,t));}else h(n);};q.onerror=function(){k(new l(d.Error,q.error));};}})).catch(function(h){return h instanceof m.Ps?Promise.reject(new l(d.VM,h)):h instanceof l?Promise.reject(h):Promise.reject(new l(d.Error,h));});};c.prototype.v$=function(f,h,k){var n;n=this;return this.Pq.xs(this.config.timeout,new Promise(function(p,q){var v,t;v=n.cG.transaction(n.config.M_,h?"readwrite":"readonly");t=v.objectStore(n.config.M_)[f](k);v.onerror=function(){q(new l(d.Error,t.error));};t.onsuccess=function(w){var u;if("get" == f)try{u=w.target.result;u?p(u.data):q(new l(d.vka));}catch(x){q(new l(d.vka,x));}else p(void 0);};t.onerror=function(){q(new l(d.Error,t.error));};})).catch(function(p){return p instanceof m.Ps?Promise.reject(new l(d.VM,p)):p instanceof l?Promise.reject(p):Promise.reject(new l(d.Error,p));});};b.KNa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.lVa="Storage";},function(r,b,a){var l,g,m,d,f;function c(h,k){h=m.If.call(this,h,"IndexedDBConfigImpl") || this;h.config=k;h.version=1;h.M_="namedatapairs";return h;}Object.defineProperty(b,"__esModule",{value:!0});b.LNa=void 0;r=a(0);l=a(1);g=a(45);m=a(46);d=a(39);a=a(33);ka(c,m.If);Va.Object.defineProperties(c.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return "netflix.player" + (this.config.yB?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.Rmb;}},n8:{configurable:!0,enumerable:!0,get:function(){return this.config.n8;}},VEa:{configurable:!0,enumerable:!0,get:function(){return 0;}},UEa:{configurable:!0,enumerable:!0,get:function(){return 0;}},r7a:{configurable:!0,enumerable:!0,get:function(){return !0;}}});f=c;r.__decorate([g.config(g.ZC,"simulateIdbOpenError")],f.prototype,"VEa",null);r.__decorate([g.config(g.ZC,"simulateIdbLoadAllError")],f.prototype,"UEa",null);r.__decorate([g.config(g.Hd,"fixInvalidDatabase")],f.prototype,"r7a",null);f=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.rn)),r.__param(1,(0,l.l)(d.Jp))],f);b.LNa=f;},function(r,b,a){var g,m,d,f,h,k,n;function c(p,q,v,t){this.qa=p;this.config=q;this.r0b=v;this.Pza=t;this.UI={mem:{storage:this.Pza,key:"mem"}};this.EG=this.config.EG;}function l(p,q,v,t){this.ug=p;this.$m=q;this.Pza=v;this.config=t;}Object.defineProperty(b,"__esModule",{value:!0});b.Rha=b.UHa=void 0;r=a(0);g=a(1);m=a(4);d=a(288);f=a(7);h=a(498);k=a(1225);a=a(39);l.prototype.create=function(){this.pX || (this.pX=this.MO());return this.pX;};l.prototype.MO=function(){this.VGb=new c(this.ug.cb("AppStorage"),this.config,this.$m,this.Pza);return this.VGb.create();};n=l;n=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(f.jb)),r.__param(1,(0,g.l)(d.PNa)),r.__param(2,(0,g.l)(h.gQa)),r.__param(3,(0,g.l)(a.Jp))],n);b.UHa=n;c.prototype.create=function(){var p;p=this;return this.hOb().then(function(q){if(!p.RJb(q,p.config.jZ))throw p.d7b(q);return p;});};c.prototype.load=function(p){var q;q=this;return new Promise(function(v,t){q.AY(p).storage.load(p).then(function(w){v(w);}).catch(function(w){t(w);});});};c.prototype.save=function(p,q,v){var t;t=this;return new Promise(function(w,u){t.AY(p).storage.save(p,q,v).then(function(x){w(x);}).catch(function(x){u(x);});});};c.prototype.remove=function(p){var q;q=this;return new Promise(function(v,t){q.AY(p).storage.remove(p).then(function(){v();}).catch(function(w){t(w);});});};c.prototype.removeAll=function(){var p;p=this;return new Promise(function(q,v){p.zjb("mem").then(function(){return p.zjb("idb");}).catch(function(t){return Promise.reject(t);}).then(function(){q();}).catch(function(t){p.qa.error("remove all failed");v(t);});});};c.prototype.loadAll=function(){var p,q;p=this;q=[];return this.hdb("mem").then(function(v){q=q.concat(v);return p.hdb("idb");}).catch(function(v){p.v2b(v) || p.qa.error("IndexedDb.LoadAll exception",v);return [];}).then(function(v){return q=q.concat(v);}).catch(function(v){p.qa.error("load all failed",v);throw v;});};c.prototype.hOb=function(){var p;p=this;return this.r0b.create().then(function(q){p.UI.idb={storage:q,key:"idb"};}).catch(function(q){p.qa.error("idb failed to load",q);return q || ({Ca:m.Y.Fo});});};c.prototype.RJb=function(p,q){return !p || p && q?!0:!1;};c.prototype.d7b=function(p){var q;q="";p && (q+=p.Ca);return {Ca:q};};c.prototype.zjb=function(p){return (p=this.UI[p])?p.storage.removeAll():Promise.resolve();};c.prototype.hdb=function(p){return (p=this.UI[p])?p.storage.loadAll():Promise.resolve([]);};c.prototype.oUb=function(p){for(var q in this.EG){if(p.startsWith(q))return this.EG[q];}return this.EG[k.atb];};c.prototype.AY=function(p){var q,v;q=this;this.oUb(p).every(function(t){return q.UI[t]?(v=q.UI[t],!1):!0;});if(!v){this.qa.error("component not found for storageKey",{thc:p,usc:Object.keys(this.UI),rules:this.EG});v=this.UI.mem;}this.qa.trace("component found for key",{storageKey:p,componentKey:v.key});return v;};c.prototype.v2b=function(p){return (p && (p.Ca || p.errorSubCode)) === m.Y.cA;};b.Rha=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.atb="__default_rule_key__";},function(r,b,a){var l,g,m;function c(d){this.ug=d;this.FK={};this.qa=this.ug.cb("MemoryStorage");}Object.defineProperty(b,"__esModule",{value:!0});b.fQa=void 0;r=a(0);l=a(1);g=a(4);a=a(7);c.prototype.load=function(d){var f;if(this.FK.hasOwnProperty(d)){f=this.FK[d];this.qa.debug("Storage entry loaded",{key:d});return Promise.resolve({key:d,value:f});}this.qa.debug("Storage entry not found",{key:d});return Promise.reject({Ca:g.Y.cA});};c.prototype.save=function(d,f,h){if(h && this.FK.hasOwnProperty(d))return Promise.resolve(!1);this.FK[d]=f;return Promise.resolve(!0);};c.prototype.remove=function(d){delete this.FK[d];return Promise.resolve();};c.prototype.loadAll=function(){var d;d=Object.entries(this.FK).map(function(f){var h;h=oa(f);f=h.next().value;h=h.next().value;return {key:f,value:h};});return Promise.resolve(d);};c.prototype.removeAll=function(){this.FK={};return Promise.resolve();};m=c;m=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.jb))],m);b.fQa=m;},function(r,b,a){var c,l,g,m,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.wO=void 0;r=a(1);c=a(499);l=a(500);g=a(501);m=a(1228);d=a(1229);f=a(1230);b.wO=new r.Ed(function(h){h(c.PIa).to(m.OIa).la();h(l.NIa).to(d.KIa).la();h(g.MIa).to(f.LIa).la();});},function(r,b,a){var l,g,m,d,f,h;function c(k,n,p,q){this.K8=n;this.Ib=p;this.CIb=q;this.qa=k.cb("Bookmark");}Object.defineProperty(b,"__esModule",{value:!0});b.OIa=void 0;r=a(0);l=a(1);g=a(500);m=a(501);d=a(7);f=a(25);h=a(5);c.prototype.CGb=function(k){var n,p;n=k.lb.playbackState && k.lb.playbackState.currentTime;p=this.wWb(k.L);n=this.Ib.cJ(n)?(0,h.$b)(n):p;p=0;this.Ib.wh(n)?(this.qa.info("Overriding bookmark",{From:k.aD.ia(h.va),To:n.ia(h.va)}),n=Object.assign({},k,{aD:n})):n=k;k.Kd.ta && (k=k.Kd.pva(k.aD.ia(h.va)),n=Object.assign({},n,{aD:(0,h.$b)(k.Gn),eG:(0,h.$b)(k.eG)}),p=k.K4a);return n.aD.Nxa()?(this.qa.trace("Ignoring bookmark because it's negative"),(0,h.$b)(p)):this.v0b(n)?(this.qa.trace("Ignoring bookmark because it's too close to beginning"),(0,h.$b)(p)):this.u0b(n)?(this.qa.trace("Ignoring bookmark because it's too close to end"),(0,h.$b)(p)):this.t0b(n)?(this.qa.trace("Ignoring bookmark because it's too close to the end to start decoding"),(0,h.$b)(p)):n.aD;};c.prototype.v0b=function(k){return 0 > k.aD.Fm(this.eva(k));};c.prototype.eva=function(k){return this.m1a(this.K8.eva(),k.eG);};c.prototype.u0b=function(k){return 0 < k.aD.Fm(this.fva(k));};c.prototype.fva=function(k){var n;n=k.lb.ji?this.K8.nXb():this.K8.fva();return k.eG.Ga(this.m1a(n,k.eG));};c.prototype.t0b=function(k){return 0 < k.aD.Fm(this.UWb(k));};c.prototype.UWb=function(k){return k.eG.Ga((0,h.$b)(k.$F));};c.prototype.wWb=function(k){var n;k=this.K8.Kua()[k];n=-1;this.Ib.Dr(k)?n=parseInt(k):this.Ib.Ol(k) && (n=k);if(this.Ib.tW(n))return (0,h.$b)(n);};c.prototype.m1a=function(k,n){return this.CIb.Fhc(k,n);};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(d.jb)),r.__param(1,(0,l.l)(g.NIa)),r.__param(2,(0,l.l)(f.Ug)),r.__param(3,(0,l.l)(m.MIa))],a);b.OIa=a;},function(r,b,a){var l,g;function c(m){this.config=m;}Object.defineProperty(b,"__esModule",{value:!0});b.KIa=void 0;r=a(0);l=a(1);a=a(12);c.prototype.eva=function(){return this.DJ().DIb;};c.prototype.fva=function(){return this.DJ().EIb;};c.prototype.nXb=function(){return this.DJ().FIb;};c.prototype.Kua=function(){return this.DJ().l1a;};c.prototype.DJ=function(){return this.config();};g=c;g=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.xc))],g);b.KIa=g;},function(r,b,a){var l,g,m;function c(d){this.Ib=d;}Object.defineProperty(b,"__esModule",{value:!0});b.LIa=void 0;r=a(0);l=a(1);g=a(25);m=a(5);c.prototype.Fhc=function(d,f){var h,k;h=parseFloat(d);k=0;"%" === d[d.length - 1] && this.Ib.Ol(h)?k=Math.round(h * f.ia(m.va) / 100):(d=parseInt(d),this.Ib.tW(d) && (k=d));return (0,m.$b)(Math.min(k,f.ia(m.va)));};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.Ug))],a);b.LIa=a;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.J1a=void 0;r=a(1);c=a(502);l=a(1232);b.J1a=new r.Ed(function(g){g(c.gJa).to(l.fJa).la();});},function(r,b,a){var l,g,m,d,f,h,k,n,p;function c(q,v,t,w,u,x){this.config=q;this.WF=t;this.profile=w;this.Nga=u;this.WW=x;this.log=v.cb("CDMAttestedDescriptor");this.s8a(n.fx.xU);}Object.defineProperty(b,"__esModule",{value:!0});b.fJa=void 0;r=a(0);l=a(1);g=a(12);m=a(7);d=a(164);f=a(289);h=a(80);k=a(173);n=a(39);p=a(57);c.prototype.s8a=function(q){var v;v=this;return this.Nga.Yfa(q)?this.config().TRb?this.q8a().then(function(t){if(t)return (!1,Promise.resolve(void 0));v.Ycb || (!1,v.Ycb=v.WW.Rva(p.$i.Kp));return v.Ycb;}).catch(function(t){v.log.error("Failed to generate challenge",t);}).then(function(t){null === t || void 0 === t?void 0:t.kc.close();return null === t || void 0 === t?void 0:t.Oqa;}).then(function(t){return Promise.all([Promise.resolve(t),v.q8a()]);}).then(function(t){var w;t=oa(t);w=t.next().value;if(t.next().value)!1;else return w;}):this.WF().then(function(t){t.C_.removeServiceToken("cad");}):Promise.resolve(void 0);};c.prototype.q8a=function(){var q;q=this;return this.WF().then(function(v){return (v=v.C_.getServiceTokens(q.profile)) && v.find(function(t){return "cad" === t.name;});});};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.xc)),r.__param(1,(0,l.l)(m.jb)),r.__param(2,(0,l.l)(d.mU)),r.__param(3,(0,l.l)(h.NM)),r.__param(4,(0,l.l)(f.P5)),r.__param(5,(0,l.l)(k.l3))],a);b.fJa=a;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q;Object.defineProperty(b,"__esModule",{value:!0});b.Sdb=void 0;r=a(1);c=a(241);l=a(1234);g=a(503);m=a(1241);d=a(507);f=a(509);h=a(1242);k=a(138);n=a(1243);p=a(511);q=a(1244);b.Sdb=new r.Ed(function(v){v(g.wPa).to(m.vPa).la();v(c.ika).to(l.xPa).la();v(d.cTa).dn(function(t){for(var w=[],u=0;u < arguments.length;++u){w[u - 0]=arguments[u];}u=a(291).GH;return new (Function.prototype.bind.apply(u,[null].concat(ia(w))))();});v(f.APa).bf(function(){return function(t){return new h.BPa(t);};});v(k.BM).to(n.tPa).la();v(p.sPa).to(q.rPa).la();});},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v;function c(t,w,u,x){this.ug=t;this.config=w;this.SBa=u;this.cGa=x;}Object.defineProperty(b,"__esModule",{value:!0});b.xPa=void 0;r=a(0);l=a(1);g=a(7);m=a(503);d=a(1235);f=a(1236);h=a(1237);k=a(1238);n=a(1239);p=a(1240);q=a(507);a=a(508);c.prototype.create=function(t){var w,u;w=this.ug.cb("ManifestParser",t);u=new d.DJa(w,this.config);return new h.yPa(u,new f.CVa(w,this.config,t,this.SBa),new k.XVa(w,t,this.cGa),new n.zIa(w,this.config,t),new p.BWa(w));};v=c;v=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.jb)),r.__param(1,(0,l.l)(m.wPa)),r.__param(2,(0,l.l)(q.cTa)),r.__param(3,(0,l.l)(a.VVa))],v);b.xPa=v;},function(r,b,a){var l,g;function c(m,d){this.log=m;this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.DJa=void 0;l=a(81);g=a(290);c.prototype.jhb=function(m,d){var f,h,k,n;f=this;h=this.config.Lqa;k=this.config.Kqa;m=oa((0,l.tw)(function(p){return (!h.length || 0 <= h.indexOf(p.id)) && 0 > k.indexOf(p.id);},m || []));n=m.next().value;m.next().value.forEach(function(p){return f.log.warn("Cdn is not allowed",{Id:p.id});});m=n.map(function(p){var q;q=(d?d.find(function(v){return v.key === p.key;}):void 0) || ({});return {id:p.id,name:p.name,vc:p.vc,type:p.type,qdb:p.key,e2b:p.Fdb,location:{id:q.key,vc:q.vc,level:q.level,weight:q.weight}};});m.sort(function(p,q){return p.vc - q.vc;});this.log.trace("Transformed cdns",{Count:m.length});if(!m.length)throw Error("no valid cdns");return m;};c.prototype.n0b=function(m,d,f,h){var k;k=m.filter(function(n){return -1 === f.findIndex(function(p){return p.id === n.id;});}).map(function(n){return {Lgb:!0,bc:n};}).concat(f.map(function(n){return {Lgb:!1,bc:n};})).sort(function(n,p){return n.bc.vc === p.bc.vc?n.Lgb?-1:1:n.bc.vc - p.bc.vc;}).map(function(n,p){(0,g.BQ)(n.bc).vc=p + 1;return n.bc;});m=d.filter(function(n){return -1 === h.findIndex(function(p){return p.key === n.key;});}).concat(h).map(function(n){var p;p=k.findIndex(function(q){return q.key === n.key;});if(-1 !== p)return (p=k[p],(0,g.BQ)(n).vc=p.vc,n);}).filter(function(n){return void 0 !== n;});return {$ec:k,l4b:m};};b.DJa=c;},function(r,b,a){var l,g,m,d;function c(f,h,k,n){this.log=f;this.config=h;this.j=k;this.SBa=n;}Object.defineProperty(b,"__esModule",{value:!0});b.CVa=void 0;l=a(42);g=a(14);m=a(130);d=a(504);c.prototype.mhb=function(f,h){var k;k=this;h=h.map(function(n){var p,q,v,t;v=k.pjc(n);n.DF || !n.Mh || v && 0 < v.length || k.log.error("track without downloadables",k.IXb(n));t={};0 < v.length && (t=n.language && 0 <= k.config.aQ.indexOf(n.language)?v[1] && v[1].profile === l.qn.kNa?v[1]:v[0]:v[0],t.profile == l.qn.EM && (t=k.Lec(v),!1));n=k.SBa(k.j,n.wg,n.id,null !== (p=n.vc) && void 0 !== p?p:-1,null !== (q=n.Mh) && void 0 !== q?q:!0,f,t.Tb,t.urls || [],n.language,n.IF,m.N5[n.Vi.toLowerCase()] || m.hr.KM,n.HL,n.variant,n.pG.toUpperCase(),t.profile,k.RXb(t) || ({}),n.DF,n.Qba,n.Tba,n.Zv);k.log.trace("Transformed timed text track",n);return n;});this.log.trace("Transformed timed text tracks",{Count:h.length});return h;};c.prototype.Tic=function(f){var h,k;h=this;k=this.config.qua;if(k){if(f=oa(f.filter(function(n){return n.Of == k || n.trackId == k;})).next().value)return f;}else if(this.j.R$ && (f=oa(f.filter(function(n){return n.trackId == h.j.R$;})).next().value))return f;};c.prototype.pjc=function(f){var h,k;h=this;k=f.C5a;f=Object.entries(f.jGa || ({})).map(function(n){var p;p=oa(n);n=p.next().value;p=p.next().value;return {Tb:k[n],profile:n,size:p.size || 0,priority:h.OWb(n,p),offset:p.Vza || 0,h$b:p.width,zhb:p.height,urls:p.urls};});f.sort(function(n,p){return n.priority - p.priority;});return f;};c.prototype.OWb=function(f,h){var k,n;k=this.config.Mw.indexOf(f);h=h.size;n=this.config.AS;return f === l.qn.Gia && 0 < n && h > n?this.config.Mw.length + 1:0 <= k?k:this.config.Mw.length;};c.prototype.RXb=function(f){if(f.profile === l.qn.EM)return {offset:f.offset,length:f.size,km:{width:f.h$b,height:f.zhb}};};c.prototype.Lec=function(f){var h,k;h=this.config.Uwa || d.Rla.Y9a();k=oa(f.filter(function(n){return n.profile === l.qn.EM;}).filter(function(n){return n.zhb === h;})).next().value;if(k)return k;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:g.hx.height,intendedResolution:h});return f[0];};c.prototype.IXb=function(f){return {isNone:f.DF,isForced:f.Qba,bcp47:f.language,id:f.wg};};b.CVa=c;},function(r,b,a){var l;function c(g,m,d,f,h){this.Mqa=g;this.LFa=m;this.zjc=d;this.HW=f;this.Ypb=h;}Object.defineProperty(b,"__esModule",{value:!0});b.yPa=void 0;l=a(290);c.prototype.khb=function(g){var m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A;f=g.Ra;h={og:null !== (d=null === (m=f.DE) || void 0 === m?void 0:m.Ap) && void 0 !== d?d:"",dG:f.wxa?"ads":"content"};k=!!f.K0;m=this.Mqa.jhb(f.om,f.Lj);d=this.LFa.mhb(h,f.CS);g=this.zjc.K9b(f.Cjc);n=k?this.HW.ihb(h,f.vv,d):this.HW.D9b(h,f.vv,f.media,d);h=this.Ypb.L9b(h,f.Rw);p=h[0];q=this.HW.YHb(n) || n.find(function(C){return k?C.trackId === f.K0.iq:C.aK === f.M9[0].iq;}) || n[0];v=this.LFa.Tic(q.wi) || d.find(function(C){return k?C.trackId === f.K0.BS:C.aK === f.M9[0].gnb;}) || q.wi[0];t=this.Ypb.G9b(f.Rw);w=f.fh;u=f.cLb;x=f.rF;y=f.Hm;z=f.vv.findIndex(function(C){return C.wg == q.trackId;});B=f.Rw.findIndex(function(C){return C.wg == p.trackId;});A=f.CS.findIndex(function(C){return C.wg == v.trackId;});return {Bw:t,th:m,Ej:n,uz:h,wi:d,YC:g,fh:w,dfc:u,hK:x,Hm:y,FPb:z,NPb:B,MPb:A,N9:p,yX:q,AX:v};};c.prototype.o0b=function(g,m,d){var f,h,k,n,p,q;f=this;n=this.Mqa.n0b(g.Ra.om,g.Ra.Lj,d.Ra.om,d.Ra.Lj);p=n.$ec;n=n.l4b;(0,l.BQ)(g.Ra).om=p;(0,l.BQ)(g.Ra).Lj=n;m.th=this.Mqa.jhb(p,n);q={og:null !== (k=null === (h=d.Ra.DE) || void 0 === h?void 0:h.Ap) && void 0 !== k?k:"",dG:d.Ra.wxa?"ads":"content"};d=d.Ra;h=d.vv;d.CS.forEach(function(v){var t;if(v.Mh){t=f.Rjb(g.Ra.CS,m.wi,v,function(w){return f.LFa.mhb(q,[w])[0];});t && m.Ej.forEach(function(w){var u;w=w.wi;u=w.findIndex(function(x){return x.trackId === t.trackId;});-1 !== u && (w[u]=t);});}});h.forEach(function(v){v.Mh && f.Rjb(g.Ra.vv,m.Ej,v,function(t){return f.HW.ihb(q,[t],m.wi)[0];});});return {ba:g,Rc:m};};c.prototype.iec=function(g,m){return this.HW.$Tb(g,m);};c.prototype.Rjb=function(g,m,d,f){var h,k,n,p;h=g.findIndex(function(q){return q.wg === d.wg;});k=-1 !== h?g[h]:void 0;n=m.findIndex(function(q){return q.trackId === d.wg;});p=-1 !== n?m[n]:void 0;if(k && !k.Mh && p && !p.Mh)return (f=f(d),g[h]=d,m[n]=f);};b.yPa=c;},function(r,b){function a(c,l,g){this.log=c;this.j=l;this.cGa=g;}Object.defineProperty(b,"__esModule",{value:!0});b.XVa=void 0;a.prototype.K9b=function(c){var l;l=this;c=(c || []).filter(function(g){return g.urls && 0 < g.urls.length;}).map(function(g){return l.cGa(l.j,g.id,g.height,g.width,g.k$b,g.l$b,g.size,g.Zv,{unknown:g.urls[0]});});0 === c.length && this.log.warn("There are no trickplay tracks");c.sort(function(g,m){return g.size - m.size;});this.log.trace("Transformed trick play tracks",{Count:c.length});return c;};b.XVa=a;},function(r,b,a){var l,g,m,d,f,h,k;function c(n,p,q){n=g.iU.call(this,n) || this;n.config=p;n.j=q;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.zIa=void 0;l=a(489);g=a(505);m=a(81);d=a(93);f=a(130);h=a(4);k=a(36);ka(c,g.iU);c.prototype.ihb=function(n,p,q){var v,t;v=this;t=this.config.vga;p=p.filter(function(w){var u,x;u=w.DF || !w.Mh || w.streams && 0 < w.streams.length;u || v.log.warn("Audio track is missing streams",v.Maa(w));x=0 === t.length || 0 <= t.indexOf(w.Vi);x || v.log.warn("Audio track is not supported",v.Maa(w));return u && x;});if(!p.length)throw Error("no valid audio tracks");p=p.map(function(w){return v.hhb(n,w,v.RVb(w,q));});this.log.trace("Parsed audio tracks",{Count:p.length});return p;};c.prototype.D9b=function(n,p,q,v){var t,w,u,x;t=this;w=oa((0,m.tw)(function(y){return y.DF;},p));p=w.next().value;w=w.next().value;w=oa((0,m.tw)(function(y){return y.streams && 0 < y.streams.length;},w));u=w.next().value;w.next().value.forEach(function(y){return t.log.warn("Audio track is missing streams",t.Maa(y));});x=this.config.vga;w=oa((0,m.tw)(function(y){return 0 === x.length || 0 <= x.indexOf(y.Vi);},u));u=w.next().value;w.next().value.forEach(function(y){return t.log.warn("Audio track is not supported",t.Maa(y));});p=[].concat(ia(u),ia(p)).map(function(y){return t.hhb(n,y,t.BXb(y.wg,q,v));});if(!p.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:p.length});return p;};c.prototype.YHb=function(n){var p,q;p=this;q=this.config.kua;if(q){if(n=oa(n.filter(function(v){return v.Of == q || v.trackId == q;})).next().value)return n;}else if(this.j.Q$ && (n=oa(n.filter(function(v){return v.trackId == p.j.Q$;})).next().value))return n;};c.prototype.$Tb=function(n,p){this.config.V0a.forEach(function(q){var v,t,w;v=p.vv.filter(function(u){return u.profile === q;}).reduce(function(u,x){x.streams.map(function(y){return y.bitrate;}).forEach(function(y){u.add(y);});return u;},new Set());t=!1;w=n.Ra.vv.map(function(u){var x;if(u.profile === q){x=u.streams.filter(function(y){return v.has(y.bitrate);});if(x.length === u.streams.length)return u;t=!0;if(0 === x.length)throw new k.rd(h.aa.ePa,h.Y.brb);return Object.assign(Object.assign({},u),{streams:x});}return u;});t && (n.Ra=Object.assign(Object.assign({},n.Ra),{vv:w}));});return n;};c.prototype.hhb=function(n,p,q){var v,t,w,u;u=p.Vi;n=Object.assign(Object.assign({},n),{type:d.xj.audio,HL:p.HL,variant:p.variant,trackId:p.wg,aK:p.IS,Vi:f.N5[u.toLowerCase()] || f.hr.KM,pG:u,Of:p.language,displayName:p.IF,vc:null !== (v=p.vc) && void 0 !== v?v:-1,Mh:null !== (t=p.Mh) && void 0 !== t?t:!0,channels:p.channels,Ssc:p.channels,wi:q,Bh:{Bcp47:p.language,TrackId:p.wg},streams:[],isNative:p.isNative,Fq:p.DF,S1:p.S1});n.streams=this.nob(p.streams,n);this.log.trace("Transformed audio track",n,{StreamCount:n.streams.length,AllowedTimedTextTracks:n.wi.length});n.mLb=l.AIa[null === (w=n.streams[0]) || void 0 === w?void 0:w.kf];return n;};c.prototype.Maa=function(n){return {language:n.IF,bcp47:n.language,type:n.Vi};};c.prototype.RVb=function(n,p){return p.filter(function(q){if(0 <= n.NQb.indexOf(q.aK))return !1;if(n.N4a){if(n.N4a !== q.aK && (q.Fq() || q.qp()))return !1;}else if(n.Q7b){if(q.Fq() || q.qp())return !1;}else if(q.qp())return !1;return !0;});};c.prototype.BXb=function(n,p,q){return p.filter(function(v){return v.Fe.T === n;}).map(function(v){return v.Fe.Za;}).map(function(v){return q.find(function(t){return t.trackId === v;});}).filter(Boolean);};b.zIa=c;},function(r,b,a){var l,g,m,d;function c(f){return g.iU.call(this,f) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.BWa=void 0;l=a(81);g=a(505);m=a(93);d=a(130);ka(c,g.iU);c.prototype.L9b=function(f,h){var k,n;k=this;h=oa((0,l.tw)(function(p){return p.streams && 0 < p.streams.length;},h));n=h.next().value;h.next().value.forEach(function(p){return k.log.warn("Video track is missing streams",{trackId:p.wg});});h=n.map(function(p){var q;q=p.Vi;q=Object.assign(Object.assign({},f),{type:m.xj.video,trackId:p.wg,aK:p.IS,Vi:d.N5[q.toLowerCase()] || d.hr.KM,pG:q,streams:[],Bh:{},A0:p.A0});q.streams=k.nob(p.streams,q);k.log.trace("Transformed video track",{StreamCount:q.streams.length});return q;});if(!h.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:h.length});return h;};c.prototype.G9b=function(f){var h;h=f.map(function(k){return k.A0;}).filter(Boolean);h=[].concat.apply([],ia(h)).map(function(k){return k.ga;});f=f.map(function(k){return k.Nsa;}).filter(Boolean).map(function(k){return k.ga;});return 0 < h.length?h:f;};b.BWa=c;},function(r,b,a){var l,g,m,d,f,h;function c(k,n){k=g.If.call(this,k,"ManifestParserConfigImpl") || this;k.bh=n;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.vPa=void 0;r=a(0);l=a(1);g=a(46);m=a(33);d=a(45);f=a(110);h=a(52);ka(c,g.If);Va.Object.defineProperties(c.prototype,{vga:{configurable:!0,enumerable:!0,get:function(){return [];}},kua:{configurable:!0,enumerable:!0,get:function(){return "";}},Lqa:{configurable:!0,enumerable:!0,get:function(){return [];}},Kqa:{configurable:!0,enumerable:!0,get:function(){return [];}},qua:{configurable:!0,enumerable:!0,get:function(){return "";}},Uwa:{configurable:!0,enumerable:!0,get:function(){return 0;}},AS:{configurable:!0,enumerable:!0,get:function(){return this.bh.AS.ia(h.Yw);}},Mw:{configurable:!0,enumerable:!0,get:function(){return this.bh.Mw;}},aQ:{configurable:!0,enumerable:!0,get:function(){return this.bh.aQ;}},V0a:{configurable:!0,enumerable:!0,get:function(){return ["heaac-2-dash"];}}});a=c;r.__decorate([d.config(d.GL,"supportedAudioTrackTypes")],a.prototype,"vga",null);r.__decorate([d.config(d.string,"forceAudioTrack")],a.prototype,"kua",null);r.__decorate([d.config(d.lGa,"cdnIdWhiteList")],a.prototype,"Lqa",null);r.__decorate([d.config(d.lGa,"cdnIdBlackList")],a.prototype,"Kqa",null);r.__decorate([d.config(d.string,"forceTimedTextTrack")],a.prototype,"qua",null);r.__decorate([d.config(d.ZC,"imageSubsResolution")],a.prototype,"Uwa",null);r.__decorate([d.config(d.ZC,"timedTextSimpleFallbackThreshold")],a.prototype,"AS",null);r.__decorate([d.config(d.GL,"timedTextProfiles")],a.prototype,"Mw",null);r.__decorate([d.config(d.GL,"imscLanguageList")],a.prototype,"aQ",null);r.__decorate([d.config(d.GL,"auxiliaryManifestAudioProfileNeedsBitrateMatching")],a.prototype,"V0a",null);a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.rn)),r.__param(1,(0,l.l)(f.yH))],a);b.vPa=a;},function(r,b){function a(c){this.Rc=c;this.Ub=JSON.stringify(this.LXb());}Object.defineProperty(b,"__esModule",{value:!0});b.BPa=void 0;a.prototype.LXb=function(){var c;c=[];(!this.Rc.th || 0 >= this.Rc.th.length) && c.push({error:"No CDN."});this.Rc.yX || c.push({error:"No default audio track.",foundTracks:this.cva(this.Rc.Ej)});this.Rc.N9 || c.push({error:"No default video track.",foundTracks:this.cva(this.Rc.uz)});this.Rc.AX || c.push({error:"No default subtitle track.",foundTracks:this.cva(this.Rc.wi)});return c;};a.prototype.cva=function(c){return c && 0 < c.length?c.map(function(l){return l.trackId;}):"No tracks found.";};b.BPa=a;},function(r,b,a){var l,g,m,d,f;function c(h,k){this.cdb=h;this.P4b=k;}Object.defineProperty(b,"__esModule",{value:!0});b.tPa=void 0;r=a(0);l=a(1);g=a(510);m=a(511);d=a(36);f=a(4);c.prototype.create=function(h){var k,n,p,q;k=this;if(h && !this.a2b(h)){if(this.i2b(h))throw d.rd.fmc(f.aa.AM,f.Y.Eyb,h);q=this.cdb();q.$oa(h.links);this.P4b.nP(h);return {Ra:h,Kj:q,Jxa:!1,Ixa:!1,wv:null !== (p=null === (n=h.wv) || void 0 === n?void 0:n.map(function(v){var t;t=k.cdb();t.$oa(v.links);return {Ra:v,Kj:t,Jxa:!1,Ixa:!1,wv:[]};})) && void 0 !== p?p:[]};}};c.prototype.i2b=function(h){return ("type" in h) && "muxed" === h.type;};c.prototype.a2b=function(h){return ("runtime" in h) && !!h.runtime;};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.PRa)),r.__param(1,(0,l.l)(m.sPa))],a);b.tPa=a;},function(r,b,a){var l,g;function c(m){this.LSb=m;this.Pdb={cp:"drmType",Jtc:"drmVersion",expiration:"expiration",L:"movieId",zp:"packageId",duration:"duration",fh:"playbackContextId",M9:["defaultTrackOrderList",{GQ:"mediaId",TS:"videoTrackId",gnb:"subtitleTrackId",iq:"audioTrackId",vwc:"preferenceOrder"}],Otc:["eligibleABTestMap",{Lk:g.Lk}],xsc:["badgingInfo",{Ctc:"dolbyDigitalAudio",Fuc:"hdrVideo",Dtc:"dolbyVisionVideo",Yxc:"ultraHdVideo","3dVideo":"3dVideo",Btc:"dolbyAtmosAudio",osc:"assistiveAudio",Zwc:"sdVideo",Euc:"hdVideo"}],type:"type",ssc:["audioTextShortcuts",{id:"id",iq:"audioTrackId",Anb:"textTrackId"}],owc:"partiallyHydrated",qeb:"maxRecommendedAudioRank",reb:"maxRecommendedTextRank",Hm:"drmContextId",q_b:"hasDrmProfile",o_b:"hasClearProfile",rF:"hasDrmStreams",Zaa:"hasClearStreams",Lj:["locations",{vc:"rank",level:"level",weight:"weight",key:"key"}],links:["links",{}],om:["servers",{id:"id",name:"name",type:"type",vc:"rank",Fdb:"lowgrade",WQb:["dns",{host:"host",z1b:"ipv4",A1b:"ipv6",UUb:"forceLookup"}],key:"key"}],vv:["audio_tracks",{type:"type",HL:"subType",variant:"variant",Vi:"trackType",wg:"new_track_id",IS:"track_id",jbc:"profileType",qhc:"stereo",profile:"profile",channels:"channels",language:"language",iKb:"channelsFormat",S1:"surroundFormatLabel",IF:"languageDescription",NQb:"disallowedSubtitleTracks",N4a:"defaultTimedText",isNative:"isNative",DF:"isNoneTrack",streams:["streams",{ap:"downloadable_id",size:"size",IE:"content_profile",Vi:"trackType",bitrate:"bitrate",Ij:"isDrm",urls:["urls",{Kh:"cdn_id",url:"url",tca:"liveOcaCapabilities"}],W6b:"new_stream_id",type:"type",channels:"channels",iKb:"channelsFormat",S1:"surroundFormatLabel",language:"language",rsc:"audioKey",E6b:["moov",{size:"size",offset:"offset"}],gz:["sidx",{size:"size",offset:"offset"}],QC:["ssix",{size:"size",offset:"offset"}],Xj:"tags",gdc:"representationId"}],mLb:"codecName",pG:"rawTrackType",id:"id",vc:"rank",Mh:"hydrated",Q7b:"offTrackDisallowed"}],Rw:["video_tracks",{Vi:"trackType",wg:"new_track_id",type:"type",IS:"track_id",q_b:"hasDrmProfile",o_b:"hasClearProfile",rF:"hasDrmStreams",Zaa:"hasClearStreams",QJ:"groupName",streams:["streams",{ap:"downloadable_id",size:"size",IE:"content_profile",Vi:"trackType",jJ:"drmHeaderId",bitrate:"bitrate",Ij:"isDrm",urls:["urls",{Kh:"cdn_id",url:"url",tca:"liveOcaCapabilities"}],W6b:"new_stream_id",type:"type",qwc:"peakBitrate",FQb:"dimensionsCount",GQb:"dimensionsLabel",Bhb:"pix_w",Ahb:"pix_h",ekb:"res_w",nDa:"res_h",YOb:"crop_x",ZOb:"crop_y",XOb:"crop_w",WOb:"crop_h",P7a:"framerate_value",O7a:"framerate_scale",zmb:"startByteOffset",gb:"vmaf",E6b:["moov",{size:"size",offset:"offset"}],gz:["sidx",{size:"size",offset:"offset"}],QC:["ssix",{size:"size",offset:"offset"}],zs:["segmentVmaf",{offset:"offset",gb:"vmaf"}],Xj:"tags",gdc:"representationId"}],jbc:"profileType",qhc:"stereo",profile:"profile",FQb:"dimensionsCount",GQb:"dimensionsLabel",txc:["snippets",{Lk:[g.Lk,{sxc:"snippetSpec",Ba:"startTimeMs",Aa:"endTimeMs"}]}],Nsa:["drmHeader",{ga:"bytes",GKb:"checksum",jJ:"drmHeaderId",Gq:"keyId",km:["resolution",{height:"height",width:"width"}]}],A0:["prkDrmHeaders",{ga:"bytes",GKb:"checksum",jJ:"drmHeaderId",Gq:"keyId",km:["resolution",{height:"height",width:"width"}]}],hy:"flavor",Puc:"ict",maxWidth:"maxWidth",maxHeight:"maxHeight",GBa:"pixelAspectX",HBa:"pixelAspectY",xvc:"maxCroppedWidth",wvc:"maxCroppedHeight",yvc:"maxCroppedX",zvc:"maxCroppedY",Hza:"max_framerate_value",Gza:"max_framerate_scale",minWidth:"minWidth",minHeight:"minHeight",Ovc:"minCroppedWidth",Nvc:"minCroppedHeight",Pvc:"minCroppedX",Qvc:"minCroppedY",ki:["license",{u3b:"licenseResponseBase64",Awc:"providerSessionToken",cxc:"secureStopExpected",Itc:"drmSessionId",links:["links",{}]}]}],DE:["cdnResponseData",{uL:"sessionABTestCell",Ap:"pbcid"}],So:["choiceMap",{ie:"initialSegment",type:"type",P:"viewableId",U:["segments",{Lk:[g.Lk,{Ba:"startTimeMs",Aa:"endTimeMs",next:["next",{Lk:[g.Lk,{weight:"weight"}]}],dc:"defaultNext",uq:"exitZones"}]}]}],Xo:["contentPlaygraph",{na:["playgraph",{ie:"initialSegment",U:["segments",{Lk:[g.Lk,{P:"viewableId",Ba:"startTimeMs",Aa:"endTimeMs",next:["next",{Lk:[g.Lk,{weight:"weight"}]}],dc:"defaultNext"}]}]}],xxc:["startIdent",{Quc:"identToken",P:"viewableId"}]}],media:["media",{id:"id",Fe:["tracks",{T:"AUDIO",Za:"TEXT",J:"VIDEO"}]}],K0:["recommendedMedia",{TS:"videoTrackId",iq:"audioTrackId",BS:"timedTextTrackId"}],CS:["timedtexttracks",{Vi:"trackType",wg:"new_track_id",type:"type",HL:"subType",variant:"variant",pG:"rawTrackType",IF:"languageDescription",language:"language",id:"id",DF:"isNoneTrack",Qba:"isForcedNarrative",C5a:["downloadableIds",{}],Osc:["cdnlist",{id:"id",name:"name",type:"type",vc:"rank",Fdb:"lowgrade",WQb:["dns",{host:"host",z1b:"ipv4",A1b:"ipv6",UUb:"forceLookup"}],key:"key"}],jGa:["ttDownloadables",{Lk:[g.Lk,{id:"id",size:"size",Jxc:"textKey",Duc:"hashValue",Cuc:"hashAlgo",Zuc:"isImage",Vza:"midxOffset",Veb:"midxSize",height:"height",width:"width",Ksa:["downloadUrls",{}],urls:["urls",{url:"url",Kh:"cdn_id",tca:"liveOcaCapabilities"}]}]}],Tba:"isLanguageLeftToRight",Zv:"headIdentDuration",vc:"rank",Mh:"hydrated"}],Cjc:["trickplays",{ap:"downloadable_id",size:"size",urls:"urls",id:"id",interval:"interval",l$b:"pixelsAspectY",k$b:"pixelsAspectX",width:"width",height:"height",Zv:"headIdentDuration"}],nqb:["watermarkInfo",{opacity:"opacity",id:"id",anchor:"anchor"}],Htc:"dpsid",ji:"isBranching",lyc:"viewableType",wxa:"isAd",nQ:"isSupplemental",cLb:"clientIpAddress",byc:"urlExpirationDuration",svc:"manifestExpirationDuration",zxc:["steeringAdditionalInfo",{Axc:"steeringId",jsc:"additionalGroupNames",Cxc:["streamingClientConfig",{}]}],Ve:"auxiliaryManifestToken",ll:["liveMetadata",{a$:["downloadableIdToSegmentTemplateId",{Lk:g.Lk}],Hfa:["segmentTemplateIdToSegmentTemplate",{Lk:[g.Lk,{G8:"availabilityStartTime",g1b:"initialization",media:"media",lib:"presentationTimeOffset",BL:"startNumber",duration:"duration",W:"timescale"}]}],P7b:"ocLiveWindowDurationSeconds",r$:"eventAvailabilityOffsetMs",xta:"eventStartTime",s$:"eventEndTime"}],ih:"streamingType"};this.Q4b=Object.assign(Object.assign({},this.Pdb),{wv:["auxiliaryManifests",this.Pdb],mO:["adverts",{Zg:["adBreaks",{cs:"locationMs",n_a:"adBreakToken",kg:["ads",{id:"id",Ba:"startTimeMs",Aa:"endTimeMs",Dga:["timedAdEvents",{event:"event",Lx:"adEventToken",QFa:"timeMs"}],mE:["actionAdEvents",{start:["start",{event:"event",Lx:"adEventToken"}],complete:["complete",{event:"event",Lx:"adEventToken"}],stop:["stop",{event:"event",Lx:"adEventToken"}]}],dw:"is3pVerificationEnabled",wS:"thirdPartyVerificationToken"}],Ooa:["actionAdBreakEvents",{complete:["complete",{event:"event",Lx:"adEventToken"}]}],D8:"auditPingUrl"}]}]});}Object.defineProperty(b,"__esModule",{value:!0});b.rPa=void 0;r=a(0);l=a(1);g=a(236);c.prototype.nP=function(m){this.LSb.nP(m,this.Q4b);};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.GLa))],a);b.rPa=a;},function(r,b,a){var l;function c(g,m,d,f,h){this.T7=this.T_=this.S_=l.Wz;this.request=g;this.type=g.responseType;this.Qm=f;this.abort=m;this.timeout=d;this.T7=h;}Object.defineProperty(b,"__esModule",{value:!0});b.fNa=void 0;l=a(17);c.prototype.Afc=function(g){this.S_=g;};c.prototype.Hfc=function(g){this.T_=g;};b.fNa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.c4a=void 0;b.c4a=function(a,c,l,g){return {GYb:function(){var m;m=a.Eva();g.Zv && (m+=g.Zv);return m;},qa:c,request:l,dg:!1};};},function(r,b,a){var l,g,m,d,f;function c(h){return -1 < ["simplesdh","dfxp-ls-sdh","imsc1.1"].indexOf(h);}Object.defineProperty(b,"__esModule",{value:!0});b.Ryb=void 0;l=a(0);r=a(105);g=a(512);m=a(1251);d=a(1252);f=a(1259);r=(function(h){function k(n,p){var q,v,t,w;t=h.call(this) || this;t.Ko=!0;t.nV=[];t.ur=0;t.nZa=!0;w=n.dg || !1;t.Da=n.qa || console;t.zr=n.request;t.hv=n.GYb;t.F6=null !== (q=n.zuc) && void 0 !== q?q:function(u,x){return u - (null !== x && void 0 !== x?x:t.hv());};t.Ue=null;t.Ko=!0;t.nV=[];t.VN=p.profile;t.Bm=p.url;t.fI=p.re;t.UN=p.preferences;t.xN=p.bh;t.ur=t.fI || 0;t.nZa=null !== (v=p.Dwc) && void 0 !== v?v:!0;q={url:t.Bm,request:t.zr,re:t.fI,xml:p.xml,preferences:t.UN,bh:t.xN,qa:t.Da,dg:w,bufferSize:p.bufferSize,lw:p.lw,Lea:p.Lea || 0,v1a:p.v1a};if("nflx-cmisc" === t.VN)(q.offset=p.Vza,q.size=p.Veb,q.Ffa=p.Ffa,q.T5a=p.T5a,t.Tc=new d(q));else if(p.ta && c(t.VN))t.Tc=new m.EOa(q);else if(c(t.VN) && "function" === typeof g.Dja)t.Tc=new g.Dja(q);else throw Error("SubtitleManager: " + t.VN + " is an unsupported profile");t.Tc.on("ready",function(){var x,y,z;function u(){return t.Ko;}x=!!p.U0a;t.Da.info("ready event fired by subtitle stream");t.emit("ready");y=t.Tc.EJ.bind(t.Tc);if(n.Dva && n.nea){z=a(1261).rIa;t.Ue=new z(t.hv,y,t.F6,t.Da,u,n.Dva,n.nea,p);}else t.Ue=new f(t.hv,y,t.F6,u,t.Da,p);if("dfxp-ls-sdh" === t.VN && "function" === typeof g.Dja)t.Ue.on("stagesubtitle",t.cFa.bind(t));t.Ue.on("showsubtitle",t.NEa.bind(t));t.Ue.on("removesubtitle",t.XCa.bind(t));t.Ue.on("underflow",t.hn.bind(t));t.Ue.on("bufferingComplete",t.Jg.bind(t));x && (t.Da.info("autostarting subtitles"),setTimeout(function(){t.Fu(t.hv());},10));});t.Tc.on("error",t.emit.bind(t,"error"));return t;}l.__extends(k,h);k.prototype.start=function(){this.Tc.start();};k.prototype.Jib=function(){this.Ko || (this.Ko=!0,this.n6a(this.ur));};k.prototype.Fu=function(n){this.nZa && !this.Ko && 1E4 < Math.abs(n - this.ur) && (this.Da.warn("Detected an unexpected pts jump larger than",1E4,"at",n,". If this is a seamless segment transition then the ptsShift API","should have been called before the pts change was reflected."),this.Jib());this.ur=n;this.Ko && (this.Ko=!1,this.bhc(n));null !== this.Ue && (this.kkc(n),this.Ue.Fu(n));};k.prototype.stop=function(){var n;this.Da.info("stop called");this.Ko || this.pause();this.Tc.removeAllListeners(["ready"]);null !== this.Ue && this.Ue.stop();n=this.nV.reduce(function(p,q){p.emb+=q.w1;p.w$+=q.x$ || 0;p.w1b.push(q);return p;},{emb:0,w$:0,w1b:[]});"object" === typeof this.Tc && this.Tc.close();this.Da.debug("metrics: " + JSON.stringify(n));return n;};k.prototype.pause=function(){var n;n=this.hv();this.Ko?this.Da.warn("pause called on subtitle manager, but it was already paused!"):(this.Da.info("pause called at " + n),this.Ko=!0,this.n6a(n));null !== this.Ue && this.Ue.pause();};k.prototype.Kaa=function(n,p){return "function" === typeof this.Tc.Kaa?this.Tc.Kaa(n,p):[];};k.prototype.Aq=function(n,p){return this.Tc.Aq(n,p);};k.prototype.EJ=function(n){return this.Tc.EJ(n);};k.prototype.zG=function(n){var q;function p(){q.Da.info("bufferingComplete from setStreamStartPosition");q.emit("bufferingComplete");}q=this;"function" === typeof this.Tc.zG?this.Tc.zG(n,p):p();};k.prototype.yl=function(n,p){"function" === typeof this.Tc.yl && this.Tc.yl(n,p);};k.prototype.Ek=function(n,p){"function" === typeof this.Tc.Ek && this.Tc.Ek(n,p);};k.prototype.ACa=function(n){"function" === typeof this.Tc.Lib && this.Tc.Lib(n);};k.prototype.Rua=function(){return this.nV[this.nV.length - 1];};k.prototype.NEa=function(n){var p,q,v,u;q=0;this.Da.info("show subtitle called at " + this.hv() + " for displayTime " + n.displayTime);this.emit("showsubtitle",n);v=this.Rua();v.eS || (v.eS={});if(c(this.VN))try{for(var t=l.__values(n.blocks),w=t.next();!w.done;w=t.next()){u=w.value;v.eS[u.id] || (q++,v.eS[u.id]=!0);}}catch(y){var x;x={error:y};}finally{try{w && !w.done && (p=t.return) && p.call(t);}finally{if(x)throw x.error;}}else v.eS[n.id] || (q++,v.eS[n.id]=!0);v.w1+=q;};k.prototype.XCa=function(n){this.Da.info("remove subtitle called at " + this.hv() + " for remove time " + (n.displayTime + n.duration));this.emit("removesubtitle",n);};k.prototype.cFa=function(n){this.Da.info("stage subtitle called at " + this.hv() + " for displayTime " + n.displayTime);this.emit("stagesubtitle",n);};k.prototype.hn=function(){this.Da.info("underflow fired by the subtitle timer");this.emit("underflow");};k.prototype.Jg=function(){this.Da.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");};k.prototype.bhc=function(n){this.Da.debug("creating a new subtitle interval at " + n);this.nV.push({ca:n,w1:0});};k.prototype.kkc=function(n){var p;p=this.Rua();p && (p.qya=n);};k.prototype.n6a=function(n){var p;this.Da.debug("ending subtitle interval at " + n);p=this.Rua();p && (p.Ta=n,p.Ta < p.ca && (this.Da.warn("correcting for interval where endPts is smaller than startPts"),p.ca=0 < p.Ta?p.Ta - 1:0),p.x$=this.Tc.Aq(p.ca,p.Ta),delete p.eS,p.x$ > p.w1 && p.qya && 500 > p.Ta - p.qya && (p.x$=this.Tc.Aq(p.ca,p.qya)),this.Da.debug("showed " + p.w1 + " during this interval"),this.Da.debug("expected " + p.x$ + " for this interval"));};return k;})(r.EventEmitter);b.Ryb=r;b.default=r;},function(r){function b(a,c){var l,g,m,d,f,h;l=[];g=a.indexOf("<p");m=-1;do {d={};d.Sgc=g;f=a.indexOf("begin=",g) + 7;h=a.indexOf("end=",g) + 5;f=Math.floor(parseInt(a.substr(f,25),10) / c * 1E3);h=Math.floor(parseInt(a.substr(h,25),10) / c * 1E3);m=h > m?h:m;d.startTime=f;d.endTime=h;d.latestEndSoFar=m;d.w6a=a.indexOf("/p>",g) + 3;g=d.w6a;l.push(d);g=a.indexOf("<p",g);}while(-1 !== g);this.ev=l;this.sI=a;}b.prototype.U6a=function(){return this.ev[this.ev.length - 1].endTime;};b.prototype.Aq=function(a,c){return this.ev.filter(function(l){return l.startTime <= c && l.endTime >= a;}).length;};b.prototype.bYb=function(a){for(var c="",l=this.ev.filter(function(m){return m.startTime <= a && a < m.endTime || m.startTime >= a;}),g=4;g + 1 < l.length && l[g + 1].startTime === l[4].startTime;){g++;}l=l.slice(0,g + 1);0 < l.length && (c=this.sI.slice(l[0].Sgc,l[l.length - 1].w6a));return c;};r.exports=b;},function(r,b,a){var m,d,f,h,k;function c(n){return "string" !== typeof n?null:d[n];}function l(n){return "string" !== typeof n?null:f[n];}function g(n,p){var q;q=n.split(" ");n=q[0];q=q[1];-1 < n.indexOf("px")?(n=parseFloat(n) / p.width,q=parseFloat(q) / p.height):(n=.01 * parseFloat(n),q=.01 * parseFloat(q));return [n,q];}m=a(514);r.exports={DOb:function(n,p){var q,v,t,w,A;q=p.textNodes[0] || ({});v=n.regions;t=n.styles;w=n.aspectRatio;v=v && v[p.region]?v[p.region]:{};q=t && t[q.style]?t[q.style]:{};t=g(m(p.extent,v.extent,"80% 80%"),n);if(v.position){for(var u=v.position.split(" "),x=[.5,.5],y=["left","top"],z=0,B=0;B < u.length;B++){A=u[B];(A in k)?(y[z]=A,B + 1 >= u.length && (x[z++]=0)):"center" === A?x[z++]=.5:x[z++]=.01 * parseFloat(A);}-1 < ["top","bottom"].indexOf(y[0]) || -1 < ["left","right"].indexOf(y[1])?(z="bottom" === y[0]?1 - x[0]:x[0],u="right" === y[1]?1 - x[1]:x[1]):(u="right" === y[0]?1 - x[0]:x[0],z="bottom" === y[1]?1 - x[1]:x[1]);x=[(1 - t[0]) * u,(1 - t[1]) * z];}else x=null;p=x?x:g(m(x,p.origin,v.origin,"10% 10%"),n);n=Object;w/=1280 / 720;x=(1 - w) / 2;y=p[0];p=p[1];t=n.create.call(n,{marginLeft:y * w + x,marginTop:p,marginRight:(1 - (y + t[0])) * w + x,marginBottom:1 - (p + t[1])});1 < Object.keys(v).length?t.verticalAlignment=c(m(q.displayAlign,v.displayAlign,"before")):t.verticalAlignment=c(m(q.displayAlign,"after"));t.horizontalAlignment=l(m(q.textAlign,v.textAlign,"center"));w=v.writingMode?v.writingMode:"lrtb";t.writingMode="string" !== typeof w?null:h[w];t.multiRowAlignment=l(m(q.multiRowAlign,v.multiRowAlign,q.textAlign,v.textAlign,"center"));return t;}};d={before:"top",center:"center",after:"bottom"};f={left:"left",start:"start",center:"center",right:"right",end:"end"};h={lrtb:"horizontal-tb",rltb:"horizontal-tb",tblr:"vertical-lr",tbrl:"vertical-rl"};k={top:"top",bottom:"bottom",left:"left",right:"right"};},function(r,b,a){var h,k,n,p,q,v,t,w,u,x,y,z,B,A,C;function c(D){return "string" !== typeof D || "#" === D[0] && 7 === D.length?D:"#" === D[0] && 4 === D.length?"#" + D[1] + D[1] + D[2] + D[2] + D[3] + D[3]:n[D.toLowerCase()];}function l(D){var E,G,F;E=(D || "").split(" ");G=(/^[0-9]/).test(E);D=G?"#000000":c(E[0]);F=G?0:1;G=parseInt(E[F]);E=parseInt(E[F + 1]);return {color:D,width:0 < G?G:0,blur:0 < E?E:0};}function g(D,E){if(-1 < E.indexOf(D))return D;}function m(D){var E,G;if(!D)return null;D=D.split(" ");if(0 === D.length)return null;E=d(D,C);E=E.length?E[0]:"outside";G=d(D,A);if(G.length)return f(G[0],"",E);G=d(D,z);D=d(D,B);return D.length || G.length?f(D.length?D[0]:"circle",G.length?G[0]:"filled",E):f("auto","",E);}function d(D,E){return D.filter(function(G){return -1 !== E.indexOf(G);});}function f(D,E,G){return {textEmphasisShape:D,textEmphasisFill:E,textEmphasisPosition:G};}h=a(514);r.exports={HOb:function(D,E,G){var F,L,O,K,I,M,H,J,N,P,W,V,S,U,fa,qa;F=h(G.characterSize,E.characterSize,"MEDIUM");L=D.fontFamily;L=h(G.characterStyle,"string" !== typeof L?null:p[L],E.characterStyle,"PROPORTIONAL_SANS_SERIF");O=(D.fontSize || "").split(" ")[0] || "";K=-1 < O.indexOf("%")?parseInt(O,10) / 100:-1 < O.indexOf("em")?parseFloat(O):1;O="underline" === D.textDecoration;I="italic" === D.fontStyle;M=k[h(G.amc,E.amc,"OPAQUE")];H=k[h(G.characterOpacity,E.characterOpacity,"OPAQUE")];J=k[h(G.backgroundOpacity,D.opacity,E.backgroundOpacity,"OPAQUE")];N=c(h(G.characterColor,D.color,E.characterColor,"#ffffff"));P=c(h(G.backgroundColor,D.backgroundColor,E.backgroundColor,null));W=c(h(G.pqb,D.pqb,E.pqb,null));V=h(G.characterEdgeAttributes,E.characterEdgeAttributes,null);K*=q[F] || 1;S=1;v[F] && (S=v[F][L] || 1);K*=1 / 19 * S;S=0;t[F] && (S=t[F][L] || 0);F=S;S=D.textOutline;S="string" !== typeof S?null:l(S).width;S=h(S,0);U=D.textOutline;U="string" !== typeof U?null:l(U).blur;U=h(U,0);fa=G.characterEdgeColor;qa=D.textOutline;qa="string" !== typeof qa?null:l(qa).color;return {characterUnderline:O,characterItalic:I,characterStyle:L,windowOpacity:M,characterOpacity:H,backgroundOpacity:J,characterColor:N,backgroundColor:P,windowColor:W,characterEdgeAttributes:V,characterSize:K,characterTracking:F,characterEdgeWidth:S,characterEdgeBlur:U,characterEdgeColor:c(h(fa,qa,E.characterEdgeColor,"#000000")),direction:h(G.direction,D.direction,E.direction,"ltr"),ruby:h(g(D.Pwc,w),null),rubyAlign:h(g(D.Qwc,u),null),rubyPosition:h(g(D.Rwc,y),null),rubyReserve:h(g(D.Swc,x),null),textEmphasis:m(D.Ixc),shear:D.fgc?.01 * parseFloat(D.fgc):null};}};k={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};n={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb",transparent:null};p={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};q={SMALL:.5,MEDIUM:1,"MEDIUM-LARGE":1.3,LARGE:2};v={MEDIUM:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15},SMALL:{MONOSPACED_SANS_SERIF:1.37,MONOSPACED_SERIF:1.15}};t={MEDIUM:{MONOSPACED_SANS_SERIF:2,MONOSPACED_SERIF:2},SMALL:{MONOSPACED_SANS_SERIF:1,MONOSPACED_SERIF:1}};w=("container base baseContainer text textContainer delimiter").split(" ");u=("start center end spaceAround spaceBetween withBase").split(" ");x=["before","after","both","outside"];y=["before","after","outside"];z=["filled","open"];B=["circle","dot","sesame"];A=["none","auto"];C=["before","after","outside"];},function(r,b,a){var c,l,g,m,d,f,h;Object.defineProperty(b,"__esModule",{value:!0});b.EOa=void 0;c=a(0);r=a(105);l=a(512);g=a(513);m=a(515);d=a(516);f=a(516);h=r.EventEmitter;a=(function(k){function n(p){var q,v,t,w,u;q=k.call(this) || this;v=p.preferences;t=p.bh;w=p.re;u=p.qa;h.call(q);q.M7=new d.FOa(u);q.UN="object" === typeof v?p.preferences:{};q.xN="object" === typeof t?p.bh:{};q.Oo="number" === typeof w?p.re:0;q.Da="object" === typeof u?p.qa:console;q.ym=[];q.sx=0;q.ur=q.Oo;q.Ue=null;q.$D=!1;q.yA=!1;q.qma=p.Lea || 0;q.Vp=new m.DOa(q.Da);return q;}c.__extends(n,k);n.prototype.start=function(){this.Da.info("Incremental live text stream created, starting at pts " + this.Oo);"undefined" !== typeof this.Vp.Ova(this.Oo) && this.mBa.call(this,this.Oo);};n.prototype.Lib=function(p){var q,v,t,w;q=this;v=p.xml;t=v.indexOf("<p");this.Vp.YFb(p,-1 !== t?t:0);if(!this.$D){w=this.Vp.yn[0];this.Vp.Uob(w);this.Oo=w.ca;}-1 < t?(this.M7.aGb(v,p.S,p.v0),this.Da.trace("Live segment " + p.S + " is pushed to segment manager",{ca:p.ca,Ta:p.Ta,Atc:p.v0}),!this.$D && 4 > this.sx && (v=0 < this.ym.length?this.ym[this.ym.length - 1].startTime + 1:this.Oo,this.Da.trace("parseNextSegment is called from push new live Segment at " + v),this.mBa.call(this,v))):(this.Da.trace("Live segment " + p.S + " is pushed to segment manager, it is an empty segment"),this.$D || setTimeout(function(){q.q2(p.S);},10));};n.prototype.EJ=function(p){var q,v,t,w,u;q=this;t=this;t.Da.trace("LiveTextStream:get subtitles at pts " + p);w=t.Vp.Ova(p);if("undefined" === typeof w)return (t.Da.debug("LiveTextStream: get subtitle at pts " + p + " returns empty result with segment not available at this pts"),[]);t.Vp.Uob(w);p < t.ur - t.qma?(t.ym=[],t.sx=0):(t.sx=0 < t.ym.length?Math.max(t.Vp.z9a() - w.S + 1,0):0,0 === t.sx && (t.ym=[]));w=t.ym;u=0 < w.length?null === (v=w[w.length - 1]) || void 0 === v?void 0:v.startTime:p;t.ur=p;t.Da.info("LiveTextStream: timer is " + t.Ue + " bufffered segment number is " + t.sx + " is parsing entry : " + this.yA);for(!t.Ue && 4 > t.sx && !t.yA && (t.Da.info("LiveTextStream: buffer size: " + t.sx + "; minimum: 4"),t.yA=!0,t.Ue=setTimeout(function(){t.Ue=null;q.Da.trace("parseNextSegment is called from getCurrentAndNextSubtitle at " + (u + 1));q.mBa.call(t,u + 1);},10));0 < w.length && w[0].endTime < p;){w.shift();}return l.VWb(w,p).map(function(x){var y;y=t.Vp.jXb(x.segId);return l.hQb.call(t,y,x);});};n.prototype.Aq=function(p,q){return this.M7?this.M7.Aq(p,q):0;};n.prototype.$ga=function(p){return l.$ga.call(this,p);};n.prototype.close=function(){};n.prototype.mBa=function(p){var q;q=this.cYb.call(this,p);"undefined" !== typeof q?(this.Da.trace("Next segment to parse at pts " + p + " is segment " + q.S),0 === q.zwa?(this.Da.trace("This is an empty segment"),this.q2(q.S)):this.J9b.call(this,q)):(this.Da.debug("Next segment is undefined at pts " + p),this.yA=!1);};n.prototype.cYb=function(p){var q,v;v=this.M7.VXb(p);this.Da.trace("Most recent entry at current pts " + p + " is segment id  " + v);-1 === v && (v=(null === (q=this.Vp.Ova(p)) || void 0 === q?void 0:q.S) || -1);return v === this.Vp.z9a()?this.Vp.eYb():this.Vp.H$(v);};n.prototype.J9b=function(p){var q,v,t,w,u;q=this;v=this;t=p.xml.slice(0,p.zwa);w=p.xml.slice(p.zwa,p.xml.lastIndexOf("/p>") + 3);l.z9b(t,function(x,y){null !== x?(x.O_b=t,x.S=p.S,v.emit("error",x)):(u=y,v.Vp.ykc(p.S,u),q.y9b.call(v,w,u,p));});};n.prototype.y9b=function(p,q,v){var t,w,u,x,y,z,B;t=this;w=this;u=0;x=[];y=q.defaultStyle?[q.defaultStyle]:[];z=q.lang?[q.lang]:[];w.Da.debug(p);B=g.xg(!0);B.onerror=function(A){A.xml=p;w.emit("error",A);};B.onend=function(){var A;A=w.ym.reduce(function(C,D){D=D.blocks.reduce(function(E,G){return E.concat([G.id]);},[]);return C.concat(D);},[]);x.forEach(function(C){var D;if(-1 === A.indexOf(C.id)){D=C && C.blocks && C.blocks.filter(function(E){return 0 < E.textNodes.length;});D && 0 < D.length && (C.blocks=D,w.ym.push(C));}});t.q2(v.S);};B.ontext=function(A){("" !== A.trim() || A.match(/ +/)) && l.eh(l.eh(x).blocks).textNodes.push({text:A.match(/ +/)?A:A.trim(),style:l.eh(y),lang:l.eh(z),lineBreaks:u});u=0;};B.onclosetag=function(){var A;A=B.tag;"undefined" !== typeof A.attributes.style && y.pop();"undefined" !== typeof A.attributes["xml:lang"] && z.pop();};B.onopentag=function(A){var C,D;C=A.attributes;A=A.name;if("p" === A){u=0;A=v.S.toString() + "_" + C["xml:id"];C.style && y.push(C.style);C["xml:lang"] && z.push(C["xml:lang"]);D=f.o9(C.begin);0 === x.length || l.eh(x).displayTime !== D?(C=t.$Nb(A,C,v.v0),C.segId=v.S,x.push(C)):l.eh(x).blocks.push({textNodes:[],region:C.region,id:A,extent:C["tts:extent"] || null,origin:C["tts:origin"] || null});}else "span" === A?(y.push(C.style),C["xml:lang"] && z.push(C["xml:lang"]),A=q.styles[C.style],C.style && A && A.ruby && 0 <= ["container","baseContainer","textContainer"].indexOf(A.ruby) && l.eh(l.eh(x).blocks).textNodes.push({text:"",style:l.eh(y),lang:l.eh(z),lineBreaks:0})):"br" === A && u++;};B.write("<entries>").write(p).write("</entries>").close();};n.prototype.$Nb=function(p,q,v){var t;t={};t.id=p;t.startTime=f.o9(q.begin || "") - v;t.endTime=f.o9(q.end || "") - v;t.style=q.style;t.region=q.region;t.displayTime=t.startTime;t.duration=t.endTime - t.startTime;t.extent=q["tts:extent"] || null;t.origin=q["tts:origin"] || null;t.latestEndSoFar=0 > t.endTime?0:t.endTime;t.blocks=[{textNodes:[],region:t.region,id:p,extent:t.extent || null,origin:t.origin || null}];return t;};n.prototype.q2=function(p){this.Vp.q2(p);this.sx+=1;this.yA=!1;!this.$D && 4 <= this.sx && (this.$D=!0,this.emit("ready"));};return n;})(h);b.EOa=a;},function(r,b,a){var l,g,m,d,f,h;function c(k){l.call(this);this.Bm=k.url;this.zr=k.request;this.fI=k.re || 0;this.Da=k.qa;this.Aj=this.Us=null;k.lw?this.Us=k.lw:(this.Lb=k.offset,this.$N=k.size);this.zn;this.Xna=k;}l=a(105).EventEmitter;g=a(1253);m=a(1254);d=a(1255);f=a(165);h=c.events={Xvb:"midxready",ryb:"sidxready",m5:"ready",Bg:"error"};c.prototype=Object.create(l.prototype);c.prototype.constructor=c;Object.defineProperties(c.prototype,{pr:{get:function(){return this.zn && this.zn.dsa;}}});c.prototype.start=function(){this.Us?(this.Da.warn("midx was prefectched and provided"),this.BXa(this.Us)):this.yAb(this.Lb,this.$N,this.CDb.bind(this));};c.prototype.close=function(){};c.prototype.Kaa=function(k,n){return this.zn && this.zn.Yva(k,n);};c.prototype.Aq=function(k,n){return (k=this.Kaa(k,n))?k.length:k;};c.prototype.zG=function(k,n){this.Da.debug("setStreamStartPosition: buffering subtitles at pts " + k);this.fI=k;this.zn?this.zn.zG(k,n):n && n();};c.prototype.EJ=function(k){var n,p,q;if(!this.zn || k > f.bXb(this.Us))return [];this.zn && this.zn.Lsa(k);n=this.pr.gz;p=this.pr.index;q=[];p=f.xd(p) && this.Aj[p + 1];if(!(p && p.entries.length || n && !(k > n.endTime)))return [];n && n.images.length && (q=this.OXa(n,k,[]));2 > q.length && p && p.images.length && (n=this.OXa(p,k,q),q.push.apply(q,n));return this.zn.KEa(k)?null:f.l3a(q);};c.prototype.Ek=function(k,n){this.zn && this.zn.Ek(k,n);};c.prototype.yl=function(k,n){this.zn && this.zn.yl(k,n);};c.prototype.yAb=function(k,n,p){this.Da.debug("downloading midx...");this.aYa(k,n,"binary",p);};c.prototype.zAb=function(k,n,p){this.Da.debug("downloading sidx...");this.aYa(k,n,void 0,p);};c.prototype.aYa=function(k,n,p,q){this.zr({url:this.Bm,offset:k,size:n,responseType:p},q);};c.prototype.CDb=function(k,n){if(k)this.emit(h.Bg,f.GY(k,"midxdownloaderror"));else try{this.Us=new g(n);this.BXa(this.Us);}catch(p){this.emit(h.Bg,f.GY(p,"midxparseerror"));}};c.prototype.BXa=function(k){var n;n=k.entries.reduce(function(p,q){return p + q.size;},0);n?(this.emit(h.Xvb,k),this.zAb(k.startOffset,n,this.FDb.bind(this,k))):this.emit(h.Bg,f.GY({},"nosidxfoundinmidx"));};c.prototype.FDb=function(k,n,p){var q,v,t,w;q=this;if(n)q.emit(h.Bg,f.GY(n,"sidxdownloaderror"));else {v=0;t=0;q.Aj=[];try{w=0;k.entries.forEach(function(u){var x;x=new m(p,v,k.hxa,q.Da,t,t + u.duration,w);q.Aj.push(x);u.Bgc=x;t=x.ps;v+=u.size;w++;});}catch(u){q.emit(h.Bg,f.GY(u,"sidxparseerror"));return;}q.emit(h.ryb,q.Aj);this.zn=new d(q.Xna,k,q.Aj);n=q.fI;q.Xna && q.Xna.Ffa || (n=Math.max(q.fI - 1E4,0));this.zn.Lsa(n,function(u){u && q.Da.error("initial sidx download failed");q.emit(h.m5);});}};c.prototype.OXa=function(k,n,p){var y;for(var q=k.entries,v=0,t=q.length,w=[],u,x=this.Us;v < t;){u=q[v];if(u.displayTime <= n)u.displayTime + u.duration >= n && w.push(f.Ura(u,k.images[v].data,x));else {y=w.length && w[w.length - 1] || p.length && p[p.length - 1];if(y && y.displayTime > n && y.displayTime !== u.displayTime)break;y.VJ !== u.VJ && w.push(f.Ura(u,k.images[v].data,x));}v++;}return w;};r.exports=c;},function(r,b,a){var l,g;function c(m,d){this.duration=m;this.size=d;this.Bgc=void 0;}l=a(292);g=a(165);r.exports=function(m){var k;m=new l(m);this.identifier=m.HCa(4);g.assert("midx" === this.identifier);this.version=m.qs(4);g.assert(0 === this.version);this.hxa=m.ol(36);this.creationTime=m.CR();this.zp=m.CR();this.L=m.CR();this.Tdc=m.si();this.Udc=m.si();this.language=m.ol(16);m.ol(16);this.startOffset=m.CR();this.oP=m.si();for(var d=[],f=0,h=0;h < this.oP;h++){k=new c(m.qs(4),m.si());d.push(k);f+=k.duration;}this.entries=d;this.endTime=f;};},function(r,b,a){var g,m;function c(d,f,h,k,n,p,q,v){this.displayTime=d;this.duration=f;this.V8b=h;this.W8b=k;this.Igc=n;this.Jgc=p;this.VJ=q;this.Twa=v;}function l(d,f,h,k,n,p,q){var v;d=new g(d);v=0;d.position=f;this.Da=k;this.identifier=d.HCa(4);m.assert("sidx" === this.identifier,k);this.hxa=d.ol(36);m.wLb(this.hxa,h,k);this.duration=d.qs(4);this.oP=d.si();this.Wy=n;this.ps=p;this.index=q || 0;this.entries=[];this.images=[];for(this.moa=0;v < this.oP;){f=new c(d.qs(4),d.qs(4),d.si(),d.si(),d.si(),d.si(),d.CR(),d.qs(4));v++;this.entries.push(f);}this.entries.length && (this.startTime=this.entries[0].displayTime,this.endTime=this.entries[this.entries.length - 1].displayTime + this.entries[this.entries.length - 1].duration);}g=a(292);m=a(165);l.prototype.N0b=function(){this.moa++;};l.prototype.CPb=function(){var d;d=0;this.moa--;1 > this.moa?this.images && 0 < this.images.length && (d+=m.Uva([this]),this.images=[]):this.Da.debug("Not cleaning up shared sidx with range",this.Wy,"-",this.ps);return d;};r.exports=l;},function(r,b,a){var m,d;function c(f,h){var n;f=f || 0;if(h)for(var k in h.U){n=h.U[k];if(f >= (n.Ba || 0) && (!n.Aa || f < n.Aa))return k;}}function l(f,h){return f && h && h.U[f];}function g(f,h,k){var n;this.Da=f.qa;this.Aj=k;this.eE=this.bAb(f.Ffa);this.ai=[];n=k && k[k.length - 1];this.ur=n && (n.endTime || n.ps);this.Dg=new m(f,h,k);f=c(f.re || 0,this.eE);this.Io=this.mA(f);}m=a(1256);d=a(1258);Object.defineProperties(g.prototype,{dsa:{get:function(){return this.Dg.dsa;}}});g.prototype.Yva=function(f,h){return this.Dg && this.Dg.Yva(f,h);};g.prototype.Lsa=function(f,h){this.Dg.mfc(f);this.a_a(f);if(!this.eE && this.ur && f > this.ur)h && h();else if((f=this.xXa(f,this.Io,2,h),this.eE && 0 < this.Io.Lfb.length))h && h();else if(this.eE && this.Io.jQ && f){2 > this.ai.length && this.hAb(this.Io);h=Math.ceil(2 / (this.ai.length - 1));for(var k=0;k < this.ai.length && f && 3 > k;k++){f=this.ai[k];f=this.xXa(f.startTime,f,h);}}};g.prototype.KEa=function(f){return this.Dg.KEa(f)?(this.Dg.IGb(),this.Lsa(f),this.Io.jQ=!1,!0):!1;};g.prototype.zG=function(f,h){var k;this.a_a(f);this.ai.forEach(function(n){n.jQ=!1;});k=this.Io.Dp && this.Io.Dp[0];this.Dg.zG(f,k && k.index);(f=this.Dg.bZb(f)) && f.length?this.Dg.A5a(f,h):h && h();};g.prototype.yl=function(f,h){var k;this.Da.debug("Set next segment to",h,"for segment",f);f=this.FXa(f) || this.mA(f);f.Xkb=h;k=this;f.G_=f.G_.filter(function(n){if(n.id === h)return !0;k.Mma(n);return !1;});};g.prototype.Ek=function(f,h){var k;k=l(f,this.eE);Object.keys(k.next).forEach(function(n){k.next[n].weight=h[n] || 0;});};g.prototype.bAb=function(f){var h,n;h={};if(f=(f || ({})).U){h.U={};for(var k in f){n=f[k] || ({});h.U[k]={Ba:n.Ba,Aa:n.Aa,dc:n.dc,next:this.aAb(n.next)};}}return h;};g.prototype.aAb=function(f){var h,k;h={};for(k in f){h[k]={weight:(f[k] || ({})).weight};}return h;};g.prototype.a_a=function(f){var h,k;if(this.eE && this.Io.startTime > f || this.Io.endTime && this.Io.endTime < f){h=this.Io;k=c(f,this.eE);k?(this.Da.debug("Switching segments from",this.Io.id,"to",k,"at pts",f),this.Io=this.FXa(k) || this.mA(k),this.Mma(h)):this.Da.debug("The pts is outside of the current segment but not in a new one yet");}};g.prototype.mA=function(f){this.Da.debug("SegmentManager: creating segment",f);f=new d(f,l(f,this.eE),this.Aj,this.Da);this.ai.push(f);this.Da.debug("SegmentManager: segment contains",f.Dp.length,"sidxes");return f;};g.prototype.Mma=function(f){var h;if(f && f !== this.Io){this.Da.debug("SegmentManager: deleting segment",f.id);f.G_.forEach(this.Mma.bind(this));this.ai=this.ai.filter(function(k){return k !== f;});h=f.w2a();this.Dg.Dcc(h && h.size || 0,h && h.Dp);}};g.prototype.FXa=function(f){var k;for(var h=0;f && h < this.ai.length;h++){k=this.ai[h];if(f === k.id)return k;}};g.prototype.hAb=function(f){var h,n;h=f.Xkb;if(h && "" !== h)f.G_.push(this.mA(h));else {h=f.Lfb;for(var k in h){n=h[k];if(!n || !n.weight)break;f.G_.push(this.mA(k));}}};g.prototype.xXa=function(f,h,k,n){if(!h || h.jQ)return (this.Da.debug("Done driving segment",h && h.id),!0);if(!this.Dg.MJb)return (this.Da.debug("Throttling buffering in quiet period"),!1);this.Da.debug("Drive streaming of segment",h.id,"from pts",f);k=(f=this.Dg.cZb(f,h,k)) && f.length || 0;if(0 === k)return (this.Da.debug("Segment is fully downloaded",h && h.id),h.jQ=!0,n && n(),!0);this.Da.debug("Downloading",k,"sidxes in segment",h.id);return this.Dg.A5a(f,function(p,q){p && (h.jQ=!1);n && n(p,q);});};r.exports=g;},function(r,b,a){var h,k;function c(n,p,q){var v;v=q.displayTime <= n && n <= q.displayTime + q.duration;return n <= q.displayTime && q.displayTime <= p || v;}function l(n,p,q){return p && (!p.entries.length && n > p.Wy || n > p.endTime) && q.entries.length && n < q.endTime;}function g(n,p,q){this.iI=this.wx=0;this.VBb=n.bufferSize || 4194304;this.pr=new f();this.eI;this.YH=n.dg;this.Da=n.qa;this.Us=p;this.Aj=q;this.aq=new h(n);this.tI=new d(this.Aj.length,n.T5a);this.JV=new m(n.v1a);}function m(n){this.$U=0 !== n;this.on=!1;this.Nk=n || 3E3;this.Ue;}function d(n,p){if(this.enabled=p)this.Dp=Array.apply(null,Array(n)).map(function(){return "-";});}function f(n,p){this.gz=n;this.index=p;}h=a(1257);k=a(165);f.prototype.reset=function(){this.index=this.gz=void 0;};d.prototype.ia=function(n){this.enabled && n < this.Dp.length && (this.Dp[n]="x");};d.prototype.Ogb=function(n){this.enabled && n < this.Dp.length && (this.Dp[n]="-");};d.prototype.toString=function(){return this.enabled && "|" + this.Dp.join("") + "|";};m.prototype.start=function(){var n;if(this.$U){n=this;this.on=!0;this.Ue=setTimeout(function(){n.on=!1;n.Ue=void 0;},this.Nk);}};m.prototype.stop=function(){this.on=!1;clearTimeout(this.Ue);this.Ue=void 0;};Object.defineProperties(g.prototype,{dsa:{get:function(){return this.pr;}},MJb:{get:function(){return !this.JV.on;}}});g.prototype.wV=function(){this.tI.enabled && this.Da.debug("Buffer: " + this.tI.toString());};g.prototype.ZDb=function(n){this.iI+=n;this.Da.debug("Reserved buffer size is",this.wx + this.iI,"after reserving",n);};g.prototype.REb=function(n){this.iI-=n;this.Da.debug("Reserved buffer size is",this.wx + this.iI,"after unreserving",n);};g.prototype.$zb=function(n){this.wx+=n;this.Da.debug("Buffer size is",this.wx,"after claiming",n);};g.prototype.sZa=function(n){this.wx-=n;this.Da.debug("Buffer size is",this.wx,"after clearing",n);};g.prototype.Dcc=function(n,p){var q;this.sZa(n);q=this;p && this.tI.enabled && (p.forEach(function(v){q.tI.Ogb(v.index);}),this.wV());};g.prototype.KEa=function(n){var p;p=this.QAb(n);return k.Bab(p) && k.Shc(n,p);};g.prototype.mfc=function(n){var p;p=this.TXa(n);(!p || p.index) !== (!this.pr || this.pr.index) && (this.eI=this.pr.gz,p?(this.YH && this.Da.debug("Current sidx is index",p.index),this.pr=p):(this.YH && this.Da.debug("Current sidx is out of range"),this.pr.reset()));this.eI && "number" === typeof this.eI.index && (n < this.eI.Wy - 35E3 || n > this.eI.ps + 35E3) && (this.Dma(this.eI.index),this.eI=void 0,this.wV());};g.prototype.zG=function(n,p){var q,v;q=this.Aj && this.Aj.length;for(p;p < q;p++){(v=this.Aj[p]) && ((v.endTime || v.ps) >= n - 1E4 && (v.endTime || v.ps) < n + 3E5 || this.Dma(p));}this.JV.stop();this.wV();};g.prototype.IGb=function(){var n,p;this.Da.debug("executing aggressive cleanup");n=this.Aj && this.Aj.length;for(p=0;p < n;p++){p === this.pr.index && (p+=2);this.Dma(p);}this.JV.stop();this.wV();};g.prototype.bZb=function(n){var p,q,v,t;p=[];q=this.TXa(n);if(!q)return (this.pr.reset(),p);this.pr=q;v=n + 1E4;q=q.index;t=this.Aj[q];q;for(t;q < this.Aj.length && v > t.Wy;(q++,t=this.Aj[q])){k.Bab(t) && k.Thc(n,v,t) && p.push(t);}return p;};g.prototype.A5a=function(n,p){var q,v,t,w,u,x;if(!n || !n.length)return (p && p(null),!0);this.aq.DV && 2 <= Object.keys(this.aq.DV).length && !this.JV.on && (this.Da.debug("Enabling buffering quiet period"),this.JV.start());q=this;v=n[0];t=n[n.length - 1];if(0 < v.entries.length)(w=v.entries[0].VJ,u=v.entries[v.entries.length - 1]);0 < t.entries.length && (k.xd(w) || (w=t.entries[0].VJ),u=t.entries[t.entries.length - 1]);if(w)x=u.VJ + u.Twa - w;else return (p && p(null),!0);v=k.Xua(w,x);if(this.aq.DV[v])(this.Da.debug("The request for",v,"is already pending. Not requesting again"),p && p());else if(this.nBb(k.Uva(n)))(this.Da.debug("Reserving",x,"bytes for subtitle request",n[0].Wy,n[n.length - 1].ps),this.ZDb(x),this.aq.dRb(n,w,x,function(y,z){q.Da.debug("Claiming reserved space.  Expected",x,"received",z);q.tI.enabled && (n.forEach(function(B){q.tI.ia(B.index);}),q.wV());q.REb(x);q.$zb(z);p && p(y);}));else return (this.Da.debug("Not enough space in buffer to download all of the imaages in the list"),p && p(),!1);return !0;};g.prototype.Yva=function(n,p){var q,v,t;q=this.Us;v=this.SXa(n,p,this.Aj);if(!v || 0 === v.length)return [];t=[];p=c.bind(null,n,p);for(var w=0;w < v.length;w++){n=v[w];t=t.concat(n.entries.filter(p));}t=t.map(function(u){return k.Ura(u,null,q);});return k.l3a(t);};g.prototype.cZb=function(n,p,q){return this.SXa(n,p.endTime,p.Dp,q,!0);};g.prototype.SXa=function(n,p,q,v,t){var w,u,x,y;if(p && n > p || 0 > n)this.Da.error("invalid range startPts: " + n + ", endPts: " + p);else {w=q && q.length || 0;u=[];if(q && 0 !== w){x=q[0].duration;y=q[0].Wy;if(k.xd(x) && 0 < x)x=Math.floor((n - y) / x);else for((this.YH && this.Da.warn("The duration of the first sidx is not defined or sidx","durations vary, so use brute force to get starting sidx"),x=0);x < w && (y=q[x],!k.YQb(y,n));x++){;}for(;x < w && (!v || u.length < v);){y=q[x];if(!t || !y.images.length && y.endTime > n)u.push(y);else if(u.length)break;if(p && p <= y.ps)break;x++;}return u;}}};g.prototype.QAb=function(n){var p,q,t;p=this.Aj;if(p && 0 !== p.length){q=p[Math.floor(n / 6E4)];if(q && (q.Wy > n || n > q.ps))a:{this.FAb || (this.FAb=!0,q=k.zXb(this.Us.language),this.Da.error("bruteforce search for ",{movieId:this.Us.L,packageId:this.Us.zp,lang:q}));q=p.length;for(var v=0;v < q;v++){t=p[v];if(t.Wy <= n && n <= t.ps){q=t;break a;}}q=void 0;}return q;}};g.prototype.TXa=function(n){var p,q,v,t,w,u,x,y;p=this.pr;q=p.gz;v=p.index;t=this.Aj;this.Jma(k.xd(n));if(q)if(q.entries.length){if(0 === v && n <= q.startTime || n >= q.startTime && n <= q.endTime)(w=!0,u=p);else {if(0 < v){x=t[v - 1];l(n,x,q) && (w=!0,u=p);}}}else {x=t[v - 1];y=t[v + 1];l(n,x,q)?(w=!0,u=p):y && y.endTime && n <= y.endTime && (n >= q.endTime || n >= q.ps) && (w=!0,u=new f(y,v + 1));}if(!w)for((p=t.length,q=0);q < p;q++){if((v=t[q],v.entries.length && n <= v.endTime)){u=new f(v,q);break;}}return u;};g.prototype.nBb=function(n){return this.wx + this.iI + n <= this.VBb;};g.prototype.Dma=function(n){var p,q,v;p=this.Aj[n];q=p && p.images && p.images.length || 0;if(0 < q){v=k.Uva([p]);p.images=[];this.tI.Ogb(n);this.sZa(v);this.YH && this.Da.debug("cleaning up space from sidx",{index:n,start:p.startTime,size:v,images:q,cwc:this.wx});}};g.prototype.Jma=function(n){this.YH && k.assert(n,this.Da);};r.exports=g;},function(r,b,a){var l,g;function c(m){this.Bm=m.url;this.zr=m.request;this.fI=m.re || 0;this.YH=m.dg;this.Da=m.qa;this.DV={};}l=a(292);g=a(165);c.prototype.dRb=function(m,d,f,h){this.DV[g.Xua(d,f)]=!0;m && m.forEach(function(k){k.Wjb=!0;});this.zr({url:this.Bm,offset:d,size:f},this.aDb.bind(this,m,d,f,h));};c.prototype.aDb=function(m,d,f,h,k,n){var p,q,v,t;p=this;q=g.Xua(d,f);setTimeout(function(){delete p.DV[q];},1E3);if(k)(h && h(k,0),m && m.forEach(function(w){delete w.Wjb;}));else {v=new l(n);t=0;m && m.forEach(function(w){delete w.Wjb;w.entries.forEach(function(u,x){v.position=u.VJ - d;u={data:v.ol(u.Twa)};w.images[x]=u;g.plc(w.images[x].data,p.Jma.bind(p));t+=w.images[x].data.length;});});h && h(null,t);}};c.prototype.Jma=function(m){this.YH && g.assert(m,this.Da);};r.exports=c;},function(r){function b(a,c,l,g){this.Da=g;this.id=a;this.startTime=c && c.Ba || 0;this.endTime=c && c.Aa;this.Lfb=c && c.next || [];this.Xkb;this.G_=[];this.jQ=!1;a=this.startTime;c=this.endTime;for(var m=[],d=0;d < l.length;d++){(g=l[d]) && (!c || c > g.Wy) && a < g.ps && (g.N0b(),m.push(g));}this.Dp=m;}b.prototype.w2a=function(){this.Da.debug("Cleaning up segment",this.id);for(var a,c=0,l,g=[],m=0;m < this.Dp.length;m++){a=this.Dp[m];(l=a.CPb()) && g.push(a);a && (c+=l);}this.Dp=[];return {size:c,Dp:g};};r.exports=b;},function(r,b,a){var c;c=a(105).EventEmitter;a(1260)({});b=function n(g,m,d,f,h,k){if(!(this instanceof n))return new n(g,m,d,f,h,k);c.call(this);this.hv=g;this.hV=m;this.F6=d;this.GBb=f;this.ck={};this.Uk={};this.Da=h || console;this.Tp=!1;this.yna=k.ta;this.IDb=k && k.Lea || 0;};b.prototype=Object.create(c.prototype);b.prototype.stop=function(){clearTimeout(this.Ue);this.Ue=void 0;this.$ea();};b.prototype.$ea=function(){var g;g=this;Object.keys(g.ck).forEach(function(m){g.emit("removesubtitle",g.ck[m]);});g.ck={};g.Uk={};};b.prototype.pause=function(){this.Tp || (clearTimeout(this.Ue),this.Ue=void 0);};b.prototype.Fu=function(g,m){var d,f;d=this;f=d.hv();g=d.hV(f);null !== g && d.Tp && (d.Tp=!1,this.Da.debug("bufferingComplete"),d.emit("bufferingComplete"),this.GBb())?this.Da.debug("bufferingComplete while paused, no longer scheduling internal pts events"):(m="number" === typeof m?m:0,Object.keys(d.ck).forEach(function(h){h=d.ck[h];h.displayTime - d.IDb <= f && f < h.displayTime + h.duration || (delete d.ck[h.id],d.emit("removesubtitle",h));}),Object.keys(d.Uk).forEach(function(h){h=d.Uk[h];f >= h.displayTime + h.duration && delete d.Uk[h.id];}),null !== g && 0 < g.length?(m=g.length,d.Da.debug("found " + m + " entries for pts " + f),g.forEach(function(h){h.displayTime - 0 <= f && f < h.displayTime + h.duration && !d.ck[h.id] && (d.emit("showsubtitle",h),d.ck[h.id]=h,delete d.Uk[h.id]);}),m=g[g.length - 1],d.ck[m.id] || d.Uk[m.id] || (d.emit("stagesubtitle",m),d.Uk[m.id]=m),m=d.JEb(f,g),"number" === typeof m && Infinity > m?d.RV(m):d.RV(2E4)):null === g?(g=250 * Math.pow(2,m),2E3 < g && (g=2E3),d.Da.warn("checking buffer again in " + g + "ms"),d.Tp || (d.Tp=!0,d.emit("underflow")),d.RV(g,m + 1)):d.yna?(g=500,d.Da.trace("Live : No entries for " + f + "checking buffer again in " + g + "ms"),d.RV(g)):d.RV(2E4));};b.prototype.RV=function(g,m){var d;d=this;d.Da.debug("Scheduling pts check.",{timeout:g,DS:d.Ue});clearTimeout(d.Ue);d.Ue=setTimeout(function(){d.Fu(d.hv(),m);},g);};b.prototype.JEb=function(g,m){m=m.reduce(this.nCb.bind(this,g),Infinity);return Infinity > m?this.F6(m,g):m;};b.prototype.nCb=function(g,m,d){var f;f=d.displayTime;d=d.displayTime + d.duration;this.Da.debug("next events: start",f,"end",d,"now",g);return f < m && g < f?f:d < m && g < d?d:m;};r.exports=b;},function(r){function b(a){return Object.keys(a).every(function(c){return "function" === typeof a[c];});}r.exports=function(a){var m,d,f;function c(h,k,n){throw new TypeError(("undefined" !== typeof n.key?"Types: expected " + n.key:"Types: expected argument " + n.index) + (" to be '" + h + "' but found '" + k + "'"));}function l(h,k,n){var p;p=d[h];"undefined" !== typeof p?p(k) || c(h,k,n):h !== typeof k && c(h,k,n);}function g(h,k){var n;n=h.filter(function(p){return "object" !== typeof p && -1 === f.indexOf(p);});n=n.concat(h.filter(function(p){return "object" === typeof p;}).reduce(function(p,q){return p.concat(Object.keys(q).map(function(v){return q[v];}).filter(function(v){return -1 === f.indexOf(v);}));},[]));if(0 < n.length)throw Error(n.join(",") + " are invalid types");return function(){var p;p=Array.prototype.slice.call(arguments);if(p.length !== h.length)throw new TypeError("Types: unexpected number of arguments");h.forEach(function(q,v){var t;t=p[v];if("string" === typeof q)l(q,t,{index:v});else if("object" === typeof q)Object.keys(q).forEach(function(w){l(q[w],t[w],{key:w});});else throw Error("Types: unexpected type in type array");});return k.apply(this,p);};}m=("number boolean string object function symbol").split(" ");d={array:function(h){return Array.isArray(h);}};if("undefined" !== typeof a){if("object" !== typeof a || !b(a))throw new TypeError("Types: extensions must be an object of type definitions");Object.keys(a).forEach(function(h){if("undefined" !== typeof d[h] || -1 < m.indexOf(h))throw new TypeError("Types: attempting to override a built in type with " + h);d[h]=a[h];});}f=Object.keys(d).concat(m);return g(["array","function"],g);};},function(r,b,a){var g,m,d,f;function c(h,k,n){void 0 === n && (n=0);return h.displayTime - n <= k && k < h.displayTime + h.duration;}function l(h,k){for(var n=0;n < h.length;n++){if(k(h[n],n,h))return h[n];}}Object.defineProperty(b,"__esModule",{value:!0});b.Qc=b.gsb=b.rIa=void 0;g=a(0);m=a(60);d=a(13);r=(function(h){function k(n,p,q,v,t,w,u,x){var y,z,B;B=h.call(this) || this;B.XAb=n;B.hV=p;B.cBb=q;B.qa=v;B.fw=t;B.Dva=w;B.nea=u;B.options=x;B.Uk=[];B.ck=[];B.Hg=[];B.KBa=new d.ef();B.SDa=new d.ef();B.f9=new d.ef();B.ND=new f(function(){return p(n());},B.qa,(null === (y=B.options) || void 0 === y?void 0:y.ta) || !1);B.ND.events.on("bufferingcomplete",function(){var A;B.qa.trace("AseTimer:Received buffering complete from watcher");null === (A=B.Po) || void 0 === A?void 0:A.yg();B.JAa();});B.ND.XBa();B.Zlb();B.KBa.on(B.nea,"segmentPresenting",function(){B.Egb();});B.KBa.on(B.nea,"taskSchedulerChanged",function(){B.Zlb();});null === (z=B.Po) || void 0 === z?void 0:z.Wa();return B;}g.__extends(k,h);Object.defineProperty(k.prototype,"_buffering",{get:function(){return this.ND.QW;},enumerable:!1,configurable:!0});k.prototype.Rhc=function(){var n,p,q,v,t,w,u,x,y,z,B,A,C,D;D=this;return g.__generator(this,function(E){switch(E.label){case 0:this.qa.trace("AseTimer:Starting subtitle worker");if(this.fw())return (this.qa.trace("Paused: exiting"),[2]);n=function(){return D.$e.za.currentTime.Z;};p=this.XAb;this.Hg=this.ck.concat(this.Uk);this.xib(p(),!0);E.label=1;case 1:if(!this.Hg.length)return [3,3];v=q=p();this.l2a(q);try{for((t=(A=void 0,g.__values(this.Hg)),w=t.next());!w.done;w=t.next()){u=w.value;this.qa.trace("AseTimer:Checking subtitle " + u.id);q >= u.displayTime + u.duration || (c(u,q,this.options.yxc)?(this.qa.trace("AseTimer:Showing subtitle " + u.id),this.zac(u),v=Math.max(q,u.displayTime)):(this.qa.trace("AseTimer:Staging subtitle " + u.id),this.cFa(u)));}}catch(G){A={error:G};}finally{try{w && !w.done && (C=t.return) && C.call(t);}finally{if(A)throw A.error;}}x=this.oJb(v);if(!isFinite(x))return (this.ND.XBa(),[3,3]);y=n();z=this.cBb(x,q);if(void 0 === z)return [3,3];B=Math.max(z,10) + y;this.qa.trace("AseTimer:Sleeping till PlayerTime " + B);return [4,m.bj.dD(m.N.Na(B))];case 2:return (E.zb(),this.xib(p()),[3,1]);case 3:return (this.qa.trace("AseTimer:Checking removed subtitles one more time " + p()),this.l2a(p()),this.qa.trace("AseTimer:Ending subtitle worker"),[2]);}});};k.prototype.xib=function(n,p){var q,v,t,w,u;v=this;void 0 === p && (p=!1);t=p || !this.Uk.length;t || (t=this.Hg[this.Hg.length - 1].displayTime > n);if(t){this.qa.trace("AseTimer:Getting subtitles for " + n,{etc:this.$e.za.currentTime});w=this.hV(n);if(w){this.qa.trace("AseTimer:Received " + w.length + " subtitles");t=function(B){l(u.Hg,function(A){return A.id === B.id;}) || n >= B.displayTime + B.duration || (u.qa.trace("AseTimer:adding " + B.id,{start:B.startTime,ztc:B.displayTime,end:B.endTime,Ktc:B.duration}),u.Hg.push(B));};u=this;try{for(var x=g.__values(w),y=x.next();!y.done;y=x.next()){t(y.value);}}catch(B){var z;z={error:B};}finally{try{y && !y.done && (q=x.return) && q.call(x);}finally{if(z)throw z.error;}}p && this.Hg.filter(function(B){return !l(w,function(A){return A.id === B.id;});}).forEach(function(B){return v.U_(B);});this.Hg.length || this.ND.XBa();}else this.li();}};k.prototype.stop=function(){var n;this.qa.trace("AseTimer:Stop");null === (n=this.Po) || void 0 === n?void 0:n.Wa();this.ND.reset();this.$ea();this.KBa.clear();this.SDa.clear();this.f9.clear();};k.prototype.$ea=function(){var n,p,q,v;this.qa.trace("AseTimer:Removing all",this.ck.length);v=this.ck;try{for(var t=g.__values(v),w=t.next();!w.done;w=t.next()){this.U_(w.value);}}catch(x){var u;u={error:x};}finally{try{w && !w.done && (n=t.return) && n.call(t);}finally{if(u)throw u.error;}}this.ck=[];if(null === (p=this.Po) || void 0 === p?0:p.rbb)null === (q=this.Po) || void 0 === q?void 0:q.Wa();};k.prototype.pause=function(){var n;null === (n=this.Po) || void 0 === n?void 0:n.Wa();};k.prototype.Fu=function(){var n,p,q,v;(null === (n=this.Po) || void 0 === n?void 0:n.state) !== m.xm.complete && (null === (p=this.Po) || void 0 === p?void 0:p.state) !== m.xm.eJ || this.fw() || (null === (q=this.Po) || void 0 === q?void 0:q.yg());this.Tp && this.ND.check();this.fw() && (null === (v=this.Po) || void 0 === v?void 0:v.Wa());};k.prototype.Zlb=function(){var n;n=this;this.qa.trace("Setting up new task scheduler");(this.$e=this.Dva())?(this.SDa.clear(),this.SDa.on(this.$e,"clockChanged",function(){return n.tgb();}),this.Po=this.$e.oB(function(){return n.Rhc();},"subtitleWorker"),this.tgb()):this.qa.warn("AseTimer: no player task scheduler");};k.prototype.oJb=function(n){var p;return null !== (p=this.Hg.map(function(q){return [q.displayTime,q.displayTime + q.duration + 1];}).reduce(function(q,v){return q.concat(v);},[]).filter(function(q){return q > n;}).sort(function(q,v){return q - v;})[0]) && void 0 !== p?p:Infinity;};k.prototype.tgb=function(){var n,p,q;n=this;this.f9.clear();(null === (p=this.$e) || void 0 === p?0:p.za)?(this.qa.trace("onClockChanged: clock listeners registered"),this.f9.on(this.$e.za,"clockAdjusted",function(v){v.reason === m.zT.po && n.Egb();}),this.f9.on(this.$e.za,"stopStart",function(){var v;null === (v=n.Po) || void 0 === v?void 0:v.yg();})):this.qa.trace("onClockChanged: playerTaskScheduler has not been set or clock is undefined");null === (q=this.Po) || void 0 === q?void 0:q.yg();};k.prototype.Egb=function(){var n,p;this.qa.trace("Timeline changed");this.$ea();this.fw()?null === (p=this.Po) || void 0 === p?void 0:p.Wa():null === (n=this.Po) || void 0 === n?void 0:n.yg();};k.prototype.cFa=function(n){-1 === this.Uk.indexOf(n) && this.L8b(n);};k.prototype.l2a=function(n){var p,q,w;q=this.ck.concat(this.Uk);try{for(var v=g.__values(q),t=v.next();!t.done;t=v.next()){w=t.value;n >= w.displayTime + w.duration && this.U_(w);}}catch(x){var u;u={error:x};}finally{try{t && !t.done && (p=v.return) && p.call(v);}finally{if(u)throw u.error;}}};k.prototype.zac=function(n){-1 === this.ck.indexOf(n) && (this.ck.push(n),-1 !== this.Uk.indexOf(n) && (this.Uk=this.Uk.filter(function(p){return p !== n;})),this.WAa(n));};k.prototype.WAa=function(n){this.qa.trace("AseTimer:Showing",n.id);this.emit("showsubtitle",n);};k.prototype.L8b=function(n){this.qa.trace("AseTimer:Staging",n.id);this.Uk.push(n);this.emit("stagesubtitle",n);};k.prototype.li=function(){this.qa.trace("AseTimer:onUnderflow",this.Tp);this.Tp || (this.emit("underflow"),this.ND.li());};k.prototype.U_=function(n){this.qa.trace("AseTimer:Removing",n.id);-1 !== this.Uk.indexOf(n) && (this.Uk=this.Uk.filter(function(p){return p !== n;}));-1 !== this.ck.indexOf(n) && (this.emit("removesubtitle",n),this.ck=this.ck.filter(function(p){return p !== n;}));this.Hg=this.Hg.filter(function(p){return p !== n;});};k.prototype.JAa=function(){var n;this.Hg.length && (this.emit("bufferingComplete"),this.fw() || (null === (n=this.Po) || void 0 === n?void 0:n.yg()));};return k;})(d.EventEmitter);b.rIa=r;f=(function(){function h(k,n,p){void 0 === p && (p=!1);this.hV=k;this.qa=n;this.yna=p;this.events=new d.EventEmitter();this.Tp=!1;}Object.defineProperty(h.prototype,"buffering",{get:function(){return this.Tp;},enumerable:!1,configurable:!0});h.prototype.XBa=function(){var k;k=this;this.qa.trace("AseTimer:Buffering watcher restart");this.Tp=!0;this.vDb=this.yna?setInterval(function(){return k.check();},500):setInterval(function(){return k.check();},2E4);};h.prototype.li=function(){this.qa.trace("AseTimer:Buffering watcher underflow");this.Tp=!0;this.p2a(1);};h.prototype.reset=function(){this.qa.trace("AseTimer:Buffering watcher reset");clearInterval(this.vDb);clearTimeout(this.QEb);this.Tp=!1;};h.prototype.p2a=function(k){var n;n=250 * (1 << k);2E3 < n && (n=2E3);this.check();this.Tp && (this.QEb=setTimeout(this.p2a.bind(this,k + 1),n));};h.prototype.check=function(){var k;k=this.hV();this.qa.trace("AseTimer:Buffering complete check",null === k || void 0 === k?void 0:k.length);null !== k && (this.reset(),this.events.emit("bufferingcomplete",{type:"bufferingcomplete",FG:k}));};return h;})();b.gsb=f;b.Qc=l;},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});b.WF=void 0;r=a(1);c=a(517);l=a(1263);g=a(164);b.WF=new r.Ed(function(m){m(c.rka).to(l.pQa).la();m(g.mU).h2(function(d){return function(){return d.yb.get(c.rka).M6b;};});});},function(r,b,a){var l;function c(){var g;g=this;this.ready=!1;this.M6b=new Promise(function(m){g.Fdc=m;});}Object.defineProperty(b,"__esModule",{value:!0});b.pQa=void 0;r=a(0);a=a(1);c.prototype.N6b=function(g){this.ready || (this.Fdc(g),this.ready=!0);};c.prototype.isReady=function(){return this.ready;};l=c;l=r.__decorate([(0,a.$)()],l);b.pQa=l;},function(r,b,a){var c,l,g,m,d;Object.defineProperty(b,"__esModule",{value:!0});b.al=void 0;r=a(1);c=a(94);l=a(518);g=a(1265);m=a(520);d=a(1266);b.al=new r.Ed(function(f){f(c.Iz).bf(function(){return function(){return mb._cad_global.device;};});f(m.GKa).to(d.FKa).la();f(l.DKa).to(g.CKa).la();});},function(r,b,a){var l,g,m,d,f,h;function c(k,n){this.za=k;this.DCa=n;}Object.defineProperty(b,"__esModule",{value:!0});b.CKa=void 0;r=a(0);l=a(27);g=a(5);m=a(147);d=a(519);f=a(54);a=a(1);c.prototype.yVb=function(){for(var k="",n=this.za.lf.ia(g.va),p=6;p--;){k=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[n % 32] + k;n=Math.floor(n / 32);}for(;30 > k.length;){k+=("0123456789ACDEFGHJKLMNPQRTUVWXYZ")[this.DCa.Sib(new d.wla(0,31,f.ogb))];}return k;};h=c;h=r.__decorate([(0,a.$)(),r.__param(0,(0,a.l)(l.Hh)),r.__param(1,(0,a.l)(m.u5))],h);b.CKa=h;},function(r,b,a){var l,g,m,d,f,h,k,n;function c(p,q,v,t,w){this.zQb=p;this.$m=q;this.Ib=t;this.Q9b=w;this.pLa=/^(SDK-|SLW32-|SLW64-|SLMAC-|WWW-BROWSE-|.{10})([A-Z0-9-=]{4,})$/;this.log=v.cb("Device");}Object.defineProperty(b,"__esModule",{value:!0});b.FKa=void 0;r=a(0);l=a(4);g=a(25);m=a(1267);d=a(7);f=a(518);h=a(1);k=a(83);a=a(521);c.prototype.G6a=function(p){try{return p.match(this.pLa)[2];}catch(q){}};c.prototype.xTb=function(p){try{return p.match(this.pLa)[1];}catch(q){}};c.prototype.create=function(p){var q;q=this;return new Promise(function(v,t){q.$m.create().then(function(w){var x,y,z,B,A,C;function u(D){q.Ib.Qo(D) && q.Ib.Qo(x)?(y=new m.EKa(D,x,void 0,z,p.DX || "cadmium"),v(y)):t({Ca:l.Y.hKa});}x=p.rq;if(p.Vua){z="bind_device";q.Q9b.Sf(q.log,{}).then(function(D){u(D.esn);}).catch(function(D){t(D);});}else if(p.CP){A=p.Wl;if(q.Ib.Qo(A)){C=q.xTb(A);C != p.rq && q.log.error("esn prefix from ui is different",{ui:C,cad:p.rq,ua:p.userAgent});}else p.Rya && q.log.error("esn from ui is missing");!p.NS && q.Ib.Qo(A)?(z="config",u(A)):w.load(p.c5a).then(function(D){B=D.value;q.Ib.Qo(B) && (!1,q.Ib.Qo(A)?(D=q.G6a(A),z=D === B?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):z="storage_esn_not_in_config",u(x + B));}).catch(function(D){var F;function E(){w.save(p.c5a,F,!1).then(function(){u(x + F);}).catch(function(L){t(L);});}function G(){F=q.zQb.yVb();!1;E();}if(D.Ca === l.Y.cA){if(q.Ib.Qo(p.Wl)){F=q.G6a(p.Wl);q.Ib.Qo(F)?(z="config_since_not_in_storage",E()):(z="generated_since_invalid_in_config_and_not_in_storage",q.log.error("invalid esn passed from UI",p.Wl),G());}else (z="generated_since_not_in_config_and_storage",G());}else t(D);});}else u();}).catch(function(w){t(w);});});};n=c;n=r.__decorate([(0,h.$)(),r.__param(0,(0,h.l)(f.DKa)),r.__param(1,(0,h.l)(k.Az)),r.__param(2,(0,h.l)(d.jb)),r.__param(3,(0,h.l)(g.Ug)),r.__param(4,(0,h.l)(a.BRa))],n);b.FKa=n;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.EKa=void 0;b.EKa=function(a,c,l,g){this.Wl=a;this.rq=c;this.p$=g;};},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A,C,D,E,G,F;Object.defineProperty(b,"__esModule",{value:!0});b.xdb=void 0;r=a(1);c=a(164);l=a(1269);g=a(1270);m=a(1271);d=a(1272);f=a(1273);h=a(12);k=a(1274);n=a(1275);p=a(1276);q=a(47);v=a(94);t=a(526);w=a(523);u=a(522);x=a(87);y=a(293);z=a(50);B=a(199);A=a(1277);C=a(528);D=a(529);E=a(1280);G=a(530);F=a(1281);b.xdb=new r.Ed(function(L){L(z.Do).to(g.LOa).la();L(w.iQa).to(m.hQa).la();L(u.$Oa).to(d.ZOa).la();L(y.WOa).to(f.VOa).la();L(z.Sja).to(k.KOa).la();L(x.Pz).to(n.SOa).la();L(y.UOa).to(p.TOa).la();L(B.ZT).to(A.YT).la();L(B.Vja).to(E.XOa).la();L(G.bU).to(F.aU).la();L(C.NKa).to(D.MKa).la();L(t.THa).to(l.SHa).la();L(z.MOa).h2(function(O){return function(){return O.yb.get(c.mU)().then(function(K){return new Promise(function(I){var H,J,N;function M(){J() && N() && K.C_?I(O.yb.get(z.Do)):H.vl(M);}H=O.yb.get(q.Zj);J=O.yb.get(h.xc);N=O.yb.get(v.Iz);H.vl(M);});});};});});},function(r,b,a){var l,g,m,d,f,h,k;function c(n,p,q,v){var t;t=this;this.y4b=n;this.ZB=p;this.config=v;this.PCa=[];this.y4b.Zea(l.Jqb,this.a_b.bind(this));q().then(function(w){var u;u=v().Mr.SUb;t.p5b=u?k.Hk[u.toUpperCase()]:k.Hk.Bg;t.Qg=w;t.Vec();});}Object.defineProperty(b,"__esModule",{value:!0});b.SHa=void 0;r=a(0);g=a(1);m=a(12);d=a(114);f=a(50);h=a(87);k=a(7);c.prototype.a_b=function(n,p){this.Qg?this.Oib(n,p):this.PCa.push([n,p]);};c.prototype.Vec=function(){var n,p;n=this;p=this.PCa;this.PCa=[];p.forEach(function(q){n.Oib(q[0],q[1]);});};c.prototype.Oib=function(n,p){var q;if(this.Qg && this.kgc(n)){q={debugMessage:n.message,debugCategory:n.lq};n.fd.forEach(function(v){return q=Object.assign(Object.assign({},q),v.value);});q=Object.assign(Object.assign({},q),{prefix:"debug"});n=this.ZB.Dv("debug",k.Hk[n.level].toLowerCase(),q,p);this.Qg.Dc(n);}};c.prototype.kgc=function(n){var p;p=this.p5b;return void 0 !== p && n.level <= p && !n.fd.find(function(q){return q.$X(k.ET);});};a=l=c;a.Jqb="adaptorAll";a=l=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(d.zM)),r.__param(1,(0,g.l)(h.Pz)),r.__param(2,(0,g.l)(f.MOa)),r.__param(3,(0,g.l)(m.xc))],a);b.SHa=a;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v;function c(t,w,u,x,y,z){this.config=t;this.json=w;this.Jc=u;this.o4b=x;this.t_=z;this.Sba=this.aw=!1;this.listeners=[];(0,g.Hq)(this,"json");this.qa=y.cb("LogBatcher");}Object.defineProperty(b,"__esModule",{value:!0});b.LOa=void 0;r=a(0);l=a(1);g=a(54);m=a(37);d=a(522);f=a(47);h=a(7);k=a(50);n=a(523);p=a(4);q=a(112);a(139);v=a(282);c.prototype.oa=function(){this.aw=!0;};c.prototype.Dc=function(t){var w;w=this;this.tgc(t) || (!1,0 < t.size.Fm(this.config.k5b)?this.qa.error("Logblob is too large, dropping from the queue",{logblobType:t.type,logblobSize:t.size.toString()}):(this.listeners.forEach(function(u){return u.U5b(t);}),!1,this.t_.cpa(t),this.Jc.vl(function(){w.zUb();})));};c.prototype.flush=function(t){var w;w=this;t=void 0 === t?!1:t;return this.Sba?(this.qa.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(u,x){w.qa.trace("Flushing",h.ET);w.Ds();w.Jc.vl(function(){w.gEa(t).then(function(){u();}).catch(function(y){x(y);});});});};c.prototype.addListener=function(t){this.listeners.push(t);};c.prototype.removeListener=function(t){t=this.listeners.indexOf(t);0 <= t && this.listeners.splice(t,1);};c.prototype.gEa=function(t){var w,u;w=this;t=void 0 === t?!1:t;if(!this.aw)return (this.qa.trace("LogBatcher is not initialized"),Promise.resolve());if(this.Sba)return (this.qa.trace("LogBatcher is in error state, ignoring sendLogMessages"),Promise.resolve());u=this.t_.cWb();if(0 === u.length && !t)return (this.qa.trace("No logblobs to send"),Promise.resolve());!1;this.Ds();this.listeners.forEach(function(){});t=Promise.resolve();for(var x={},y=oa(u),z=y.next();!z.done;(x={zha:x.zha},z=y.next())){x.zha=z.value;t=t.then((function(B){return function(){return w.Sec(B.zha);};})(x));}return t.then(function(){return w.XE();}).catch(function(B){u.filter(function(A){return !A.St;}).forEach(function(A){return A.Mv();});w.XE();throw Error("Send failure. " + B);});};c.prototype.Sec=function(t){var w;w=this;this.qa.trace("Sending batch: " + t.size,h.ET);return Promise.resolve(this.t_.Gcc(t)).then(function(){return w.o4b.send(t.yK);}).then(function(){return t.tS();}).catch(function(u){w.qa.warn("Failed to send batch of logblobs.",u,h.ET);t.Mv();w.hgc(u) && w.t_.IFb(t);w.ugc(u) && (w.Sba=!0);throw u;});};c.prototype.hgc=function(t){return t.vd === p.J4.vRa?!1:this.config.Yoa;};c.prototype.ugc=function(t){return t.wc === p.Y.fMa || t.wc === p.Y.NT || t.wc === p.Y.RT?!0:!1;};c.prototype.zUb=function(){var t;t=this;0 < this.t_.size.Fm(this.config.leb)?this.gEa().catch(function(w){return t.qa.warn("Failed to send log messages on size threshold. " + w);}):this.XE();};c.prototype.Ds=function(){this.fca && (!1,this.fca.cancel(),this.fca=void 0);};c.prototype.XE=function(){this.fca || (!1,this.fca=this.Jc.wl(this.config.Tec,this.eR.bind(this)));};c.prototype.eR=function(){var t;t=this;this.Sba=!1;this.Ds();this.gEa().catch(function(w){return t.qa.warn("Failed to send log messages on timer. " + w);});};c.prototype.stringify=function(t){var w;w="";try{w=this.json.stringify(t.data,void 0,"  ");}catch(u){}return w;};c.prototype.tgc=function(t){return 0 <= this.config.amb.indexOf(t.type)?!0:t.type === v.Wc.debug?0 <= this.config.$lb.indexOf(t.data.debugCategory):!1;};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(k.Sja)),r.__param(1,(0,l.l)(m.lH)),r.__param(2,(0,l.l)(f.Zj)),r.__param(3,(0,l.l)(d.$Oa)),r.__param(4,(0,l.l)(h.jb)),r.__param(5,(0,l.l)(n.iQa)),r.__param(6,(0,l.l)(q.C3))],a);b.LOa=a;},function(r,b,a){var g,m,d,f,h,k,n;function c(p){this.$N=d.Oa;this.Ona=[];this.oV=this.I6=!1;p && (this.$N=p.size,this.Ona=p.yK);}function l(p,q,v,t){this.V5b=p;this.config=q;this.ug=v;this.json=t;(0,m.Hq)(this,"json");this.qa=this.ug.cb("MessageQueue");this.yv=[];}Object.defineProperty(b,"__esModule",{value:!0});b.hQa=void 0;r=a(0);g=a(1);m=a(54);d=a(52);f=a(293);h=a(7);k=a(37);a=a(50);l.prototype.cpa=function(p){var q,v;0 === this.yv.length && this.yv.push(this.$ua());if(p=this.TYb(p)){q=this.V5b.measure([p]);v=this.yv[this.yv.length - 1];0 < v.size.add(q).Fm(this.config.leb) && (v=this.$ua(),this.yv.push(v));v.cpa(p);}};l.prototype.cWb=function(){var p;p=this.yv.filter(function(q){return q.TJb;});this.yv.push(this.$ua());p.forEach(function(q){return q.$4b();});return p;};l.prototype.IFb=function(p){p.St || this.yv.unshift(new c(p));};l.prototype.Gcc=function(p){p=this.yv.indexOf(p);0 <= p && this.yv.splice(p,1);};l.prototype.TYb=function(p){try{return {data:this.json.parse(this.json.stringify(p.data)),severity:p.severity,size:p.size,timestamp:p.timestamp,type:p.type};}catch(t){var q,v;q={};p=p.data;v=p.debugMessage;v && "string" === typeof v && (q.originalDebugMessage=v);(p=p.debugCategory) && "string" === typeof p && (q.originalDebugCategory=p);this.qa.error("JSON.stringify error: " + t.message,q);}};l.prototype.$ua=function(){return new c();};Va.Object.defineProperties(l.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.yv.reduce(function(p,q){return p.add(q.size);},d.Oa);}}});n=l;n=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(f.WOa)),r.__param(1,(0,g.l)(a.Sja)),r.__param(2,(0,g.l)(h.jb)),r.__param(3,(0,g.l)(k.lH))],n);b.hQa=n;c.prototype.tS=function(){this.I6=!1;this.oV=!0;};c.prototype.Mv=function(){this.I6=!1;};c.prototype.cpa=function(p){this.Ona.push(p);this.$N=this.$N.add(p.size);};c.prototype.$4b=function(){this.I6=!0;};Va.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.$N;}},yK:{configurable:!0,enumerable:!0,get:function(){return this.Ona;}},TJb:{configurable:!0,enumerable:!0,get:function(){return 0 < this.yK.length && !1 === this.I6;}},St:{configurable:!0,enumerable:!0,get:function(){return this.oV;}}});},function(r,b,a){var g,m,d,f,h,k,n,p,q,v,t;function c(w,u,x,y,z,B,A,C){this.Ia=w;this.platform=x;this.al=y;this.json=z;this.Wi=B;this.Ri=A;this.w4b=C;(0,m.Hq)(this,"json");this.qa=u.cb("LogblobSender");}function l(){this.entries=[];}Object.defineProperty(b,"__esModule",{value:!0});b.ZOa=void 0;r=a(0);g=a(1);m=a(54);d=a(37);f=a(5);h=a(30);k=a(18);n=a(49);p=a(94);q=a(7);v=a(524);a=a(84);c.prototype.send=function(w){var u;u=this;return new Promise(function(x,y){var z;try{z=w.reduce(function(B,A){B.entries.push(u.nOb(A));return B;},new l());x(u.BVb(z));}catch(B){u.qa.error(B.message);y(B);}}).then(function(x){return u.iEa(x);});};c.prototype.nOb=function(w){return this.Wi.TF(this.Wi.TF({},w.data),{esn:this.al().Wl,sev:w.severity,type:w.type,lver:this.platform.Wya,jssid:this.Ia.id,devmod:this.platform.OE,jsoffms:w.timestamp.Ga(this.Ia.XB).ia(f.va),clienttime:w.timestamp.ia(f.va),client_utc:w.timestamp.ia(f.Eo),uiver:this.Ri.oz});};c.prototype.BVb=function(w){var u;u=this;try{return this.json.stringify(w);}catch(z){for(var x={},y=0;y < w.entries.length;(x={bT:x.bT,Tw:x.Tw},++y)){x.Tw=Object.assign({},w.entries[y]);try{this.json.stringify(x.Tw);}catch(B){x.bT=void 0;this.Wi.YE(x.Tw,(function(A){return function(C,D){try{u.json.stringify(D);}catch(E){A.bT=E.message;A.Tw[C]=A.bT;}};})(x));x.Tw.stringifyException=x.bT;x.Tw.originalType=x.Tw.type;x.Tw.type="debug";x.Tw.sev="error";}}return this.json.stringify(w);}};c.prototype.iEa=function(w){var u;u=this;return this.w4b.Sf(this.qa,{logblobs:w}).then(function(){!1;}).catch(function(x){u.qa.error("PBO logblob failed",x);return Promise.reject(x);});};t=c;t=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(k.jd)),r.__param(1,(0,g.l)(q.jb)),r.__param(2,(0,g.l)(n.fr)),r.__param(3,(0,g.l)(p.Iz)),r.__param(4,(0,g.l)(d.lH)),r.__param(5,(0,g.l)(h.Di)),r.__param(6,(0,g.l)(a.Zz)),r.__param(7,(0,g.l)(v.TRa))],t);b.ZOa=t;},function(r,b,a){var l,g,m;function c(d){this.config=d;}Object.defineProperty(b,"__esModule",{value:!0});b.VOa=void 0;r=a(0);l=a(1);g=a(293);m=a(52);c.prototype.measure=function(d){var f;f=this;return d.map(function(h){return h.size.add(f.config.r4b());}).reduce(function(h,k){return h.add(k);},(0,m.ga)(0));};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.UOa))],a);b.VOa=a;},function(r,b,a){var l,g,m,d,f,h,k;function c(n,p){n=h.If.call(this,n,"LogBatcherConfigImpl") || this;n.config=p;n.k5b=(0,l.ga)(5E5);n.Tec=(0,g.mda)(1);n.leb=(0,l.ga)(1E6);return n;}Object.defineProperty(b,"__esModule",{value:!0});b.KOa=void 0;r=a(0);l=a(52);g=a(5);m=a(1);d=a(12);f=a(45);h=a(46);a=a(33);ka(c,h.If);Va.Object.defineProperties(c.prototype,{Yoa:{configurable:!0,enumerable:!0,get:function(){return this.config().Yoa;}},amb:{configurable:!0,enumerable:!0,get:function(){return [];}},$lb:{configurable:!0,enumerable:!0,get:function(){return ["MslTransport","Pbo","LogblobSender"];}}});k=c;r.__decorate([f.config(f.object(),"shedLogblobTypes")],k.prototype,"amb",null);r.__decorate([f.config(f.PA("string"),"shedDebugTypes")],k.prototype,"$lb",null);k=r.__decorate([(0,m.$)(),r.__param(0,(0,m.l)(a.rn)),r.__param(1,(0,m.l)(d.xc))],k);b.KOa=k;},function(r,b,a){var g,m,d,f,h,k,n,p,q;function c(v,t,w,u,x,y,z,B,A,C){this.platform=t;this.Yra=w;this.type=u;this.severity=x;this.timestamp=y;this.Ia=B;this.data=z;this.data.type=u;this.data.sev=x;this.data.devmod=this.platform.OE;this.data.clver=this.platform.version;v && v.we && (v.we.os && (this.data.osplatform=v.we.os.name,this.data.osver=v.we.os.version),this.data.browsername=v.we.name,this.data.browserver=v.we.version);v.Zxa && (this.data.tester=!0);v.QJ && !this.data.groupname && (this.data.groupname=v.QJ);v.FO && (this.data.groupname=this.data.groupname?this.data.groupname + "|" + v.FO:v.FO);v.n2 && (this.data.uigroupname=v.n2);this.data.uigroupname && (this.data.groupname=this.data.groupname?this.data.groupname + ("|" + this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=this.Ia.JXb();this.data.uniqueLogId=A.W7a();this.data.appId=this.Ia.id;C && (v=this.Ia.Rb(),this.data.soffms=v.Ga(C.nj).ia(f.va),this.data.mid=this.data.mid || C.L,this.data.lvpi=C.Vya,this.data.uiLabel=C.je,this.data.uxLabels=C.gha,u="startup" === u?"playbackxid":"xid",this.data[u]="xid" === u && this.data.xid || C.sa,C.uL && (u=C.uL,(C=C.uL.split(".")) && 1 < C.length && "S" !== C[0][0] && (u="SABTest" + C[0] + ".Cell" + C[1]),this.data.groupname=this.data.groupname?this.data.groupname + "|" + u:u));}function l(v,t,w,u,x,y){this.za=v;this.Yra=t;this.config=w;this.Ia=u;this.jlc=x;this.platform=y;}Object.defineProperty(b,"__esModule",{value:!0});b.SOa=void 0;r=a(0);g=a(52);m=a(1);d=a(27);f=a(5);h=a(362);k=a(39);n=a(18);p=a(525);a=a(49);l.prototype.Dv=function(v,t,w,u){return new c(this.config,this.platform,this.Yra,v,t,this.za.lf,w,this.Ia,this.jlc,u);};q=l;q=r.__decorate([(0,m.$)(),r.__param(0,(0,m.l)(d.Hh)),r.__param(1,(0,m.l)(h.cKa)),r.__param(2,(0,m.l)(k.Jp)),r.__param(3,(0,m.l)(n.jd)),r.__param(4,(0,m.l)(p.oWa)),r.__param(5,(0,m.l)(a.fr))],q);b.SOa=q;Va.Object.defineProperties(c.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.I1a || (this.I1a=(0,g.ga)(this.Yra.encode(this.data).length));return this.I1a;}}});},function(r,b,a){var l,g,m;function c(d){this.al=d;}Object.defineProperty(b,"__esModule",{value:!0});b.TOa=void 0;r=a(0);l=a(1);g=a(52);a=a(94);c.prototype.r4b=function(){var d;d=this.al()?this.al().Wl.length:40;return (0,g.ga)(d + 33);};m=c;m=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.Iz))],m);b.TOa=m;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A,C,D,E;function c(G,F,L,O,K,I,M,H,J,N,P,W,V,S,U,fa,qa,za,Aa,Qa){this.Jnb=G;this.Qg=F;this.Jza=L;this.Gta=O;this.Re=K;this.Y9=I;this.Bf=M;this.config=H;this.Dd=J;this.za=N;this.Ia=P;this.platform=W;this.gs=V;this.ZB=S;this.Sj=U;this.Qv=fa;this.zK=qa;this.Ic=za;this.HQ=Aa;this.HF=Qa;}Object.defineProperty(b,"__esModule",{value:!0});b.YT=void 0;r=a(0);l=a(486);g=a(50);m=a(30);d=a(494);f=a(287);h=a(1);k=a(199);n=a(527);p=a(528);q=a(65);v=a(12);t=a(27);w=a(18);u=a(49);x=a(87);y=a(120);z=a(166);B=a(37);A=a(39);C=a(294);D=a(99);a=a(232);c.prototype.create=function(G,F){return new n.$T(G,F,this.Jnb,this.Qg,this.Jza,this.Gta,this.Re,this.Y9,this.Bf,this.config,this.Dd,this.za,this.Ia,this.gs,this.ZB,this.Sj,this.Qv,this.zK,this.Ic,this.HQ,this.HF);};E=c;E=r.__decorate([(0,h.$)(),r.__param(0,(0,h.l)(l.GVa)),r.__param(1,(0,h.l)(g.Do)),r.__param(2,(0,h.l)(d.JPa)),r.__param(3,(0,h.l)(f.gja)),r.__param(4,(0,h.l)(m.Di)),r.__param(5,(0,h.l)(p.NKa)),r.__param(6,(0,h.l)(q.cx)),r.__param(7,(0,h.l)(v.xc)),r.__param(8,(0,h.l)(y.IH)),r.__param(9,(0,h.l)(t.Hh)),r.__param(10,(0,h.l)(w.jd)),r.__param(11,(0,h.l)(u.fr)),r.__param(12,(0,h.l)(B.i5)),r.__param(13,(0,h.l)(x.Pz)),r.__param(14,(0,h.l)(z.AH)),r.__param(15,(0,h.l)(A.Jp)),r.__param(16,(0,h.l)(C.oka)),r.__param(17,(0,h.l)(k.Vja)),r.__param(18,(0,h.l)(D.Sz)),r.__param(19,(0,h.l)(a.Kja))],E);b.YT=E;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.LKa=void 0;c=a(52);b.LKa=function(l,g){this.fRb=l;this.size=g.Nxa()?c.Oa:g;};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.wza=void 0;b.wza=function(a,c){var d,f;if(0 !== a.length){if(1 === a.length)return a[0];for(var l=a[0],g=c(l),m=1;m < a.length;m++){d=a[m];f=c(d);f > g && (l=d,g=f);}return l;}};},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v;function c(t,w,u,x){this.platform=t;this.config=w;this.Ia=u;this.userAgentData=x;this.yWa=/-?l(\d\d)/i;}Object.defineProperty(b,"__esModule",{value:!0});b.XOa=void 0;r=a(0);l=a(1);g=a(18);m=a(4);d=a(49);f=a(5);h=a(12);k=a(23);n=a(14);p=a(201);q=a(234);v=a(48);c.prototype.Wr=function(t,w,u){u && (t.adlid=u.Tb,t.abitrate=u.bitrate);w && (t.vdlid=w.Tb,t.vbitrate=w.bitrate);};c.prototype.Iab=function(t,w,u){u?t=Object.assign(t,(0,p.T9a)(this.platform.Ft,u)):t.errorcode=m.aa.Fo;t.errorcode === this.platform.Ft + m.aa.hRa && (t.lastSyncWithVideoElement=this.getTime() - w.U1);};c.prototype.Nab=function(t,w){var u;Object.assign(t,(0,p.Mva)());try{u=w.getBoundingClientRect();t.rendersize=u.width + "x" + u.height;t.renderpos=u.left + "x" + u.top;}catch(x){}};c.prototype.Mab=function(t,w){var u,x,y;u=w.Cc[v.u.J].value;x=w.Cc[v.u.T].value;y=w.eg.value;w=w.Pe.value;u && (t.cdnid=u.id,t.cdnname=u.name);x && (t.acdnid=x.id,t.acdnname=x.name);if(null === y || void 0 === y?0:y.stream)(t.adlid=y.stream.Tb,t.abitrate=y.stream.bitrate);if(null === w || void 0 === w?0:w.stream)(t.vdlid=w.stream.Tb,t.vbitrate=w.stream.bitrate,t.vheight=w.stream.height,t.vwidth=w.stream.width);};c.prototype.Kab=function(t,w,u){0 <= w.mediaTime.value && (w=u && !w.lb.ji?w.rX:w.mediaTime.value,t.moff=(0,k.Sn)(w),t.moffms=(0,k.rg)(w));};c.prototype.Gab=function(t,w){w.og && (t.pbcid=w.og);w.fh && (t.playbackcontextid=w.fh);};c.prototype.axa=function(t){var w,u;t.browserua=n.vH;t.browseruad=null === (u=null === (w=n.ff.userAgentData) || void 0 === w?void 0:w.brands) || void 0 === u?void 0:u.map(function(x){return [x.brand,x.version];});t.browseruadpv=this.userAgentData.platformVersion;t.browserhref=location.href;(w=n.ff && n.ff.connection && n.ff.connection.type) && (t.nettype=w);};c.prototype.dQ=function(t){var w,u,x,y,z;if(this.config().mSb){z=null === (w=null === n.ff || void 0 === n.ff?void 0:n.ff.connection) || void 0 === w?void 0:w.effectiveType;w=null === n.ff || void 0 === n.ff?void 0:n.ff.deviceMemory;z && (t.effectiveType=z);w && (t.deviceMemory=w);}(z=null === (u=null === n.ff || void 0 === n.ff?void 0:n.ff.connection) || void 0 === u?void 0:u.type) && (t.connectionType=z);u=null === (x=null === n.ff || void 0 === n.ff?void 0:n.ff.connection) || void 0 === x?void 0:x.downlink;"number" === typeof u && isFinite(u) && (t.downlink=u);x=null === (y=null === n.ff || void 0 === n.ff?void 0:n.ff.connection) || void 0 === y?void 0:y.rtt;"number" === typeof x && isFinite(x) && (t.rtt=x);};c.prototype.uba=function(t,w){if(w=w.lb.no)(w.isUIAutoPlay && (t.isUIAutoPlay=!0),w.clLogId && (t.cl_log_id=w.clLogId));};c.prototype.eQ=function(t,w,u,x){var y,z,B,A,C;y=this;if(u=u && u.streams){B=new Set();A=new Set();C=new Set();u.forEach(function(D){D=D.kf;B.add(D);A.add(D.replace(y.yWa,""));(D=D.match(y.yWa)) && 0 < D.length && C.add(D[1]);});t.videoProfiles=[].concat(ia(B));t.videoProfile=0 === A.size?"none":[].concat(ia(A))[0];t.videoProfileLevels=[].concat(ia(C));u && u.length && (t.isMcClearen=!!u[0].Xj.find(function(D){return 0 <= D.toLowerCase().indexOf("mcclearen");}));}w && (null === (z=x.ba) || void 0 === z?0:z.E2) && (t.videoProfilesStatus=this.Vdb(x.ba.E2));};c.prototype.Vdb=function(t){return this.X4b(t.QP(),function(w){return w.supported?!0:w.reason;});};c.prototype.X4b=function(t,w){return Object.entries(t).reduce(function(u,x){var y;y=oa(x);x=y.next().value;y=y.next().value;u[x]=w(y);return u;},{});};c.prototype.Dab=function(t,w,u){var x,y;if(w=w && w.streams){y={};w.forEach(function(z){y[z.kf]=void 0;});t.audioProfiles=Object.keys(y);}(null === (x=u.ba) || void 0 === x?0:x.BW) && (t.audioProfilesStatus=this.Vdb(u.ba.BW));};c.prototype.Hab=function(t){t.configversion=this.config().version;this.config().endpoint || (t.configendpoint="error");};c.prototype.getTime=function(){return this.Ia.Rb().ia(f.va);};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(d.fr)),r.__param(1,(0,l.l)(h.xc)),r.__param(2,(0,l.l)(g.jd)),r.__param(3,(0,l.l)(q.$la))],a);b.XOa=a;},function(r,b,a){var l,g,m,d,f,h,k;function c(n,p,q,v,t){this.Qg=n;this.config=p;this.za=q;this.Ia=v;this.Yya=t;}Object.defineProperty(b,"__esModule",{value:!0});b.aU=void 0;r=a(0);l=a(50);g=a(1);m=a(199);d=a(12);f=a(27);h=a(18);k=a(1282);c.prototype.create=function(n,p,q){var v;v=this.Yya.create(n,p);return new k.cU(n,p,q,this.Qg,this.config,this.Ia,v);};a=c;a=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(l.Do)),r.__param(1,(0,g.l)(d.xc)),r.__param(2,(0,g.l)(f.Hh)),r.__param(3,(0,g.l)(h.jd)),r.__param(4,(0,g.l)(m.ZT))],a);b.aU=a;},function(r,b,a){var l,g,m,d,f;function c(h,k,n,p,q,v,t){var w;w=this;this.j=h;this.Fa=k;this.Qg=p;this.config=q;this.Ia=v;this.rb=t;this.YB=function(u,x){return function(y){var z;z=x(y);if("number" !== typeof z)throw Error("Event " + JSON.stringify(y) + " does not have movie Id");z === w.L && u(y);};};this.Tdb=this.YB(function(u){w.iga(u.cK);},function(u){return u.L;});this.Qdb=this.YB(function(){w.YW();},function(u){return u.L;});this.K2a=this.YB(function(){w.YW();},function(u){return u.movieId;});this.Uqa=this.YB(function(){w.j.Db.value === f.nb.Xc && (w.j.Db.removeListener(w.Uqa),w.uw());},function(){return w.j.L;});this.VC=function(u){w.hs && w.rb.VC(u);};this.Q2a=this.YB(this.rb.qLb,function(u){return u.L;});this.x5a=this.YB(this.rb.$Qb,function(u){return u.L;});this.sdb=this.YB(this.rb.ZZ,function(u){return w.j.Hj(u.segmentId).L;});this.flb=this.YB(this.rb.m1,function(u){return w.j.Hj(u.segmentId).L;});this.m5a=this.YB(this.rb.Isa,function(u){return u.L;});this.pl=function(u){u.skip && (w.po=!0);switch(u.cause){case f.Fd.ED:case f.Fd.VT:case f.Fd.L5:w.ru && w.Yq && w.rb.IBa(w.getTime() - w.Yq,w.ru);w.ru="repos";w.rb.qG(u.GAa,u.eg,u.Pe);w.Yq=w.getTime();(0,d.Lg)(w.Ux);break;case f.Fd.M3:(w.ru="force_rebuffer",w.Yq=w.getTime(),(0,d.Lg)(w.Ux));}};this.Fn=function(u){w.VB=u.oldValue;w.rb.Fn(u);};this.Ux=function(){var u;if(w.Yq && w.j.Db.value !== f.nb.Cg){u=w.getTime() - w.Yq;w.rb.Hw(u,w.po,w.ru);w.VB && w.VB != w.j.Gc.value && w.rb.Mpa();w.Yq=void 0;w.ru=void 0;w.po=void 0;}};this.uw=function(){w.hs || (w.hs=!0,w.rb.xu(!1),w.jxa(),w.config().Bba && (w.RB=mb.setTimeout(function(){w.Qg.flush(!1).catch(function(){return w.log.warn("failed to flush log batcher on initialLogFlushTimeout");});w.RB=void 0;},w.config().Bba)));};this.uh=function(){w.RB && (mb.clearTimeout(w.RB),w.RB=void 0);if(w.config().Z9 || w.config().sO)(w.Jsa && (mb.clearInterval(w.Jsa),w.Jsa=void 0),w.rb.k5a());w.p2 && w.p2();w.hs?w.rb.wB(!!w.j.Ki):w.j.Ki?w.rb.xu(!0):w.Fa.background || w.rb.JBa();};this.G2=function(u){u.oldValue && u.ij && u.ij.OI && w.rb.bB(u.oldValue,u.newValue,u.ij.OI,u.ij.LW);};this.w0=function(u){var x;if(u.newValue){x=u.newValue.stream;w.mK != x && (w.mK && x && w.rb.$Ca(w.mK,x,u.newValue.Jn.startTime),w.mK=x);}};this.L=k.L;this.log=(0,g.kj)(h,"LogblobBuilder");this.oa();n && this.iga();}Object.defineProperty(b,"__esModule",{value:!0});b.cU=void 0;l=a(17);g=a(9);m=a(5);d=a(59);f=a(16);c.prototype.oa=function(){this.j.addEventListener(f.ka.rK,this.Tdb);this.j.addEventListener(f.ka.mza,this.Qdb);this.j.addEventListener(f.ka.ZZ,this.sdb);this.j.addEventListener(f.ka.m1,this.flb);this.j.addEventListener(f.ka.uh,this.K2a);this.j.addEventListener(f.ka.uB,this.m5a,l.d5);if(this.config().Z9 || this.config().sO)(this.j.addEventListener(f.ka.uB,this.x5a),this.Jsa=mb.setInterval(this.rb.k5a,this.config().eRb));this.config().gDa && this.j.addEventListener(f.ka.uB,this.Q2a);};c.prototype.iga=function(h){var k;k=this;this.mfb || (this.j.Db.value !== f.nb.Xc || (void 0 === h?0:h)?this.j.Db.addListener(this.Uqa):this.uw(),this.j.Cj.addListener(this.VC),this.j.Ob.addListener(this.rb.cn),this.j.Gc.addListener(this.Fn),this.j.bi.addListener(this.rb.EW),this.j.paused.addListener(this.rb.iea),this.j.Pe.addListener(this.w0),this.j.Db.addListener(this.Ux),this.j.Db.addListener(this.rb.job),this.j.Hf.addListener(this.G2),this.j.playbackRate.addListener(this.rb.D1),this.j.addEventListener(f.ka.fj,this.rb.fj),this.j.addEventListener(f.ka.BI,this.rb.BI),this.j.addEventListener(f.ka.vca,this.rb.vca),this.j.addEventListener(f.ka.uca,this.rb.uca),this.j.addEventListener(f.ka.sS,this.rb.sS),this.j.addEventListener(f.ka.UA,function(n){k.ru="rebuffer";k.rb.UA(n);k.Yq=k.getTime();(0,d.Lg)(k.Ux);}),this.j.addEventListener(f.ka.pl,this.pl),this.j.addEventListener(f.ka.zS,this.rb.zS),this.Fa.Ir && this.Fa.Ir.addListener(this.rb.Ir),this.mfb=!0);};c.prototype.YW=function(){this.uh();this.mfb && (this.j.removeEventListener(f.ka.rK,this.Tdb),this.j.removeEventListener(f.ka.mza,this.Qdb),this.j.removeEventListener(f.ka.ZZ,this.sdb),this.j.removeEventListener(f.ka.m1,this.flb),this.j.Cj.removeListener(this.VC),this.j.Ob.removeListener(this.rb.cn),this.j.Gc.removeListener(this.Fn),this.j.bi.removeListener(this.rb.EW),this.j.paused.removeListener(this.rb.iea),this.j.Pe.removeListener(this.w0),this.j.Db.removeListener(this.Ux),this.j.Db.removeListener(this.Uqa),this.j.Db.removeListener(this.rb.job),this.j.Hf.removeListener(this.G2),this.j.playbackRate.removeListener(this.rb.D1),this.j.removeEventListener(f.ka.uB,this.m5a),this.j.removeEventListener(f.ka.uh,this.K2a),this.j.removeEventListener(f.ka.fj,this.rb.fj),this.j.removeEventListener(f.ka.BI,this.rb.BI),this.j.removeEventListener(f.ka.sS,this.rb.sS),this.j.removeEventListener(f.ka.UA,this.rb.UA),this.j.removeEventListener(f.ka.pl,this.pl),this.j.removeEventListener(f.ka.zS,this.rb.zS),this.Fa.Ir && this.Fa.Ir.removeListener(this.rb.Ir),this.j.removeEventListener(f.ka.uB,this.x5a),this.j.removeEventListener(f.ka.uB,this.Q2a));};c.prototype.getTime=function(){return this.Ia.Rb().ia(m.va);};c.prototype.jxa=function(){var h,k,n;h=this;n=[];this.config().Teb && (this.config().Ueb.forEach(function(p){n.push(mb.setTimeout(h.rb.iC,p));}),this.config().$ca && (k=mb.setInterval(this.rb.iC,this.config().$ca)),this.p2=function(){n.forEach(function(p){mb.clearTimeout(p);});k && mb.clearInterval(k);});};b.cU=c;},function(r,b,a){var c,l,g,m,d,f,h,k,n;Object.defineProperty(b,"__esModule",{value:!0});b.Dfb=void 0;r=a(1);c=a(1284);l=a(65);g=a(531);m=a(1285);d=a(533);f=a(532);h=a(1286);k=a(384);n=a(1290);b.Dfb=new r.Ed(function(p){p(g.MWa).to(c.LWa).la();p(l.cx).JG(function(){return mb._cad_global.http;});p(d.DQa).to(m.CQa).la();p(f.EQa).dn(h.default);p(k.bNa).to(n.aNa).la();});},function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.LWa=void 0;r=a(0);a=a(1);c.prototype.create=function(){return new XMLHttpRequest();};l=c;l=r.__decorate([(0,a.$)()],l);b.LWa=l;},function(r,b,a){var l,g,m,d;function c(f,h,k){this.config=f;this.j4b=h;this.Ac=k;}Object.defineProperty(b,"__esModule",{value:!0});b.CQa=void 0;r=a(0);l=a(354);g=a(1);m=a(200);a=a(532);c.prototype.vOb=function(){if(this.config.zpb)return this.Ac(this.j4b());};d=c;d=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(l.BQa)),r.__param(1,(0,g.l)(m.xQa)),r.__param(2,(0,g.l)(a.EQa))],d);b.CQa=d;},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});c=a(1287);l=a(1288);g=a(1289);b.default=function(m){var d;m=new c.Rha(m);d=new g.Ewb(m);return new l.Dwb(m,d);};},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.pdb=c;}a.prototype.tEa=function(c){try{this.pdb.setItem("gtp",JSON.stringify(c));}catch(l){return !1;}return !0;};a.prototype.a9a=function(){var c;try{c=this.pdb.getItem("gtp");if(c)return JSON.parse(c);}catch(l){}};a.prototype.mp=function(){var c;c=this.a9a();if(c && c.tp)return c.tp.a;};a.prototype.tXb=function(){var c;c=this.lva();if(c)return c.p25;};a.prototype.uXb=function(){var c;c=this.lva();if(c)return c.p50;};a.prototype.vXb=function(){var c;c=this.lva();if(c)return c.p75;};a.prototype.lva=function(){var c;c=this.a9a();if(c && (c=c.iqr))return c;};return a;})();b.Rha=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c,l){this.Ox=c;this.pAa=l;}a.prototype.tEa=function(c){return this.Ox.tEa(c);};a.prototype.mp=function(){return this.Ox.mp();};return a;})();b.Dwb=r;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});r=(function(){function a(c){this.Ox=c;}a.prototype.pAa=function(){var c,l,g;c=this.Ox.tXb();l=this.Ox.uXb();g=this.Ox.vXb();if("number" === typeof c && "number" === typeof l && "number" === typeof g)return (g - c) / l;};return a;})();b.Ewb=r;},function(r,b,a){var l,g,m;function c(d,f){this.Bf=f;this.qa=d.cb("HttpDispatcherImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.aNa=void 0;r=a(0);l=a(1);g=a(7);a=a(65);c.prototype.download=function(d,f){var h;h=this;f=void 0 === f?{ueb:0}:f;return new Promise(function(k,n){var q;function p(v){if(v.ja)return k(v.content);if(q === f.ueb)return n({Ca:v.Ca,TJ:v.Vl});q++;!1;h.Bf.download(d,p);}q=0;h.Bf.download(d,p);});};m=c;m=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.jb)),r.__param(1,(0,l.l)(a.cx))],m);b.aNa=m;},function(r,b,a){var c,l,g,m,d,f,h,k;Object.defineProperty(b,"__esModule",{value:!0});b.R7a=void 0;r=a(1);c=a(1292);l=a(1293);g=a(1294);m=a(1295);d=a(1296);f=a(534);h=a(535);k=a(174);b.R7a=new r.Ed(function(n){n(k.dMa).to(c.cMa).la();n(k.aUa).to(l.$Ta).la();n(k.ZTa).to(g.YTa).la();n(f.$La).to(m.ZLa).la();n(h.eNa).to(d.dNa).la();});},function(r,b,a){var l,g,m,d,f,h,k,n;function c(p,q,v,t,w,u,x){this.config=p;this.uab=q;this.Jc=v;this.xg=t;this.ddc=w;this.dDa=u;this.M2b=0;this.qa=x.cb("FTL");}Object.defineProperty(b,"__esModule",{value:!0});b.cMa=void 0;r=a(0);g=a(1);m=a(5);d=a(47);f=a(7);h=a(534);k=a(535);a=a(174);c.prototype.start=function(){this.config.enabled && !this.su && (this.su=this.Jc.wl(this.config.Amb,this.dz.bind(this)));};c.prototype.stop=function(){this.su && (this.su.cancel(),this.su=void 0);};c.prototype.dz=function(){var p,q;p=this;q="" + this.config.endpoint + (-1 === this.config.endpoint.indexOf("?")?"?":"&") + "iter=" + this.M2b++;this.rZb(q).then(function(v){return Promise.all(v.urls.map(function(t){return p.k_b(v,t.url,t.name);})).then(function(t){0 < t.length && p.ddc.S0({data:t,context:v.context,Zya:v.Zya});}).then(function(){return v;});}).then(function(v){p.su && (v.wcb?p.su=p.Jc.wl(v.wcb,p.dz.bind(p)):p.stop());}).catch(function(v){return p.qa.error("FTL run failed",v);});};c.prototype.rZb=function(p){var q;q=this;return this.uab.get(p,!1).then(function(v){var t;if(200 != v.status || null == v.body)return (q.dDa.S0({url:p,status:v.status,EBa:"FTL API request failed",Ne:v.Ne}),Promise.reject(Error("FTL API request failed: " + v.status)));t=q.xg.parse(v.body);return t instanceof Error?(q.dDa.S0({url:p,status:4,EBa:"FTL Probe API JSON parsing error",Ne:v.Ne}),Promise.reject(t)):Promise.resolve(t);}).catch(function(v){v instanceof Error && (q.dDa.S0({url:p,status:0,EBa:v.message}),q.qa.error("FTL API call failed",v.message));return Promise.reject(v);});};c.prototype.k_b=function(p,q,v){var t;t=this;return new Promise(function(w,u){var E;for(var x,y,z,B,A=[],C={},D=0;D < p.ubc;(C={Aha:C.Aha,Bha:C.Bha},++D)){C.Aha=D < p.Kib.length?p.Kib[D]:m.Oa;C.Bha="" + q + (-1 === q.indexOf("?")?"?":"&") + "pulse=" + (D + 1);E=(function(G){return function(){return new Promise(function(F,L){t.Jc.wl(G.Aha,function(){l.Tac(t.uab,G.Bha,p.tbc).then(function(O){function K(I,M,H){I || (I=H.headers[M]);return I;}x=K(x,"via",O);y=K(y,"x-ftl-probe-data",O);z=K(z,"x-ftl-error",O);B=K(B,"latency-trace",O);O={status:O.status,Ne:O.Ne,xlc:x || "",KKb:y || "",aY:z || "",q3b:t.I9b(B)};F(O);}).catch(function(O){L(O);});});});};})(C);A.push(0 < D?A[D - 1].then(E):E());}Promise.all(A).then(function(G){w({url:q,name:v,data:G});}).catch(function(G){u(G);});});};c.prototype.I9b=function(p){var q;if(p){q={};p=oa(p.split(";"));for(var v=p.next();!v.done;v=p.next()){if((v=v.value.trim().split("=")) && 2 == v.length)try{q[v[0].trim()]=Number.parseInt(v[1]);}catch(t){}}return q;}};c.Tac=function(p,q,v){return p.get(q,!1,v).then(function(t){return Object.assign({},t);});};n=l=c;n=l=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(a.bMa)),r.__param(1,(0,g.l)(k.eNa)),r.__param(2,(0,g.l)(d.Zj)),r.__param(3,(0,g.l)(h.$La)),r.__param(4,(0,g.l)(a.aUa)),r.__param(5,(0,g.l)(a.ZTa)),r.__param(6,(0,g.l)(f.jb))],n);b.cMa=n;},function(r,b,a){var l,g,m,d,f,h;function c(k,n){this.Qg=k;this.Rza=n;}Object.defineProperty(b,"__esModule",{value:!0});b.$Ta=void 0;r=a(0);g=a(1);m=a(52);d=a(5);f=a(50);a=a(87);c.prototype.S0=function(k){var n;n={ctx:k.context,data:k.data.map(function(p){return {name:p.name,url:p.url,data:p.data.map(function(q){return l.hmc({d:q.Ne.duration.ia(d.va),sc:q.status,sz:q.Ne.size.ia(m.Yw),via:q.xlc,cip:q.KKb,err:q.aY},q);})};})};k=this.Rza.Dv(k.Zya,"info",n);this.Qg.Dc(k);};c.hmc=function(k,n){l.Nx(k,"dns",n.Ne.r5a);l.Nx(k,"tcp",n.Ne.KFa);l.Nx(k,"tls",n.Ne.WFa);l.Nx(k,"ttfb",n.Ne.RFa);l.cGb(k,n.q3b);return k;};c.cGb=function(k,n){n && (k.rtts=n);};c.Nx=function(k,n,p){p && (k[n]=p.ia(d.va));};h=l=c;h=l=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(f.Do)),r.__param(1,(0,g.l)(a.Pz))],h);b.$Ta=h;},function(r,b,a){var l,g,m,d,f,h;function c(k,n){this.Qg=k;this.Rza=n;}Object.defineProperty(b,"__esModule",{value:!0});b.YTa=void 0;r=a(0);g=a(1);m=a(52);d=a(5);f=a(50);a=a(87);c.prototype.S0=function(k){k=this.Rza.Dv("ftlProbeError","info",l.gmc({url:k.url,sc:k.status,pf_err:k.EBa},k));this.Qg.Dc(k);};c.gmc=function(k,n){n.Ne && (n=n.Ne,l.Nx(k,"d",n.duration),l.Nx(k,"dns",n.r5a),l.Nx(k,"tcp",n.KFa),l.Nx(k,"tls",n.WFa),l.Nx(k,"ttfb",n.RFa),k.sz=n.size.ia(m.Yw));return k;};c.Nx=function(k,n,p){p && (k[n]=p.ia(d.va));};h=l=c;h=l=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(f.Do)),r.__param(1,(0,g.l)(a.Pz))],h);b.YTa=h;},function(r,b,a){var l,g,m,d,f;function c(h,k){this.is=h;this.json=k;(0,g.Hq)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.ZLa=void 0;r=a(0);l=a(1);g=a(54);m=a(37);d=a(5);a=a(25);c.prototype.parse=function(h){var n;h=this.json.parse(h);if(!this.is.Loa(h))throw Error("FtlProbe: param: not an object");if(h.next && !this.is.dW(h.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.dW(h.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(h.pulse_delays && !this.is.qE(h.pulse_delays))throw Error("FtlProbe: param.pulse_delays: not an array");if(!this.is.dW(h.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.qE(h.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.Qo(h.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.sW(h.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var k=0;k < h.urls.length;++k){n=h.urls[k];if(!this.is.Loa(n))throw Error("FtlProbe: param.urls[" + k + "]: not an object");if(!this.is.Dr(n.name))throw Error("FtlProbe: param.urls[" + k + "].name: not a string");if(!this.is.Dr(n.url))throw Error("FtlProbe: param.urls[" + k + "].url: not a string");}return {ubc:h.pulses,Kib:h.pulse_delays?h.pulse_delays.map(d.$b):[],tbc:(0,d.$b)(h.pulse_timeout),wcb:h.next?(0,d.$b)(h.next):void 0,urls:h.urls,Zya:h.logblob,context:h.ctx};};f=c;f=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.Ug)),r.__param(1,(0,l.l)(m.lH))],f);b.ZLa=f;},function(r,b,a){var l,g,m,d,f,h,k,n,p;function c(q,v,t){this.za=q;this.lmc=v;this.performance=t;(0,g.Hq)(this,"performance");}Object.defineProperty(b,"__esModule",{value:!0});b.dNa=void 0;r=a(0);g=a(54);m=a(290);d=a(52);f=a(37);h=a(27);k=a(1);n=a(531);p=a(5);c.prototype.get=function(q,v,t){var w;w=this;return new Promise(function(u,x){var y,z,B;try{y=w.lmc.create();("withCredentials" in y) || x(Error("Missing CORS support"));y.open("GET",q,!0);v && (y.withCredentials=!0);t && (y.timeout=t.ia(p.va));z=w.za.lf;B=void 0;y.onreadystatechange=function(){var A;switch(y.readyState){case XMLHttpRequest.HEADERS_RECEIVED:B=w.za.lf.Ga(z);break;case XMLHttpRequest.DONE:A=w.za.lf.Ga(z);A={body:y.responseText,status:y.status,headers:l.lBa(y.getAllResponseHeaders()),Ne:w.wva(q,(0,d.ga)(y.responseText.length),A,B)};u(A);}};y.send();}catch(A){x(A);}});};c.lBa=function(q){var v,w,u;v={};q=q.split("\r\n");for(var t=0;t < q.length;t++){w=q[t];u=w.indexOf(": ");0 < u && (v[w.substring(0,u).toLowerCase()]=w.substring(u + 2));}return v;};c.prototype.wva=function(q,v,t,w){v={size:v,duration:t,RFa:w};if(!this.performance || !this.performance.getEntriesByName)return v;t=this.performance.getEntriesByName(q);if(0 == t.length && (t=this.performance.getEntriesByName(q + "/"),0 == t.length))return v;q=t[t.length - 1];v=(0,m.BQ)(v);q.decodedBodySize && (v.size=(0,d.ga)(q.decodedBodySize));0 < q.duration?v.duration=(0,p.timestamp)(q.duration):0 < q.startTime && 0 < q.responseEnd && (v.duration=(0,p.timestamp)(q.responseEnd - q.startTime));0 < q.requestStart && (v.r5a=(0,p.timestamp)(q.domainLookupEnd - q.domainLookupStart),v.KFa=(0,p.timestamp)(q.connectEnd - q.connectStart),v.RFa=(0,p.timestamp)(q.responseStart - q.startTime),0 === q.secureConnectionStart?v.WFa=(0,p.timestamp)(0):void 0 !== q.secureConnectionStart && (t=q.connectEnd - q.secureConnectionStart,v.WFa=(0,p.timestamp)(t),v.KFa=(0,p.timestamp)(q.connectEnd - q.connectStart - t)));return v;};a=l=c;a=l=r.__decorate([(0,k.$)(),r.__param(0,(0,k.l)(h.Hh)),r.__param(1,(0,k.l)(n.MWa)),r.__param(2,(0,k.l)(f.Ska)),r.__param(2,(0,k.optional)())],a);b.dNa=a;},function(r,b,a){var c,l,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.Gib=void 0;r=a(1);c=a(355);l=a(1298);g=a(203);m=a(1299);b.Gib=new r.Ed(function(d){d(c.VKa).to(l.UKa).la();d(g.XT).to(m.wOa).la();});},function(r,b,a){var l,g,m,d,f,h,k,n;function c(p,q,v,t){this.Wi=p;this.vE=q;this.hlc=v;this.vQ=t;}Object.defineProperty(b,"__esModule",{value:!0});b.UKa=void 0;r=a(0);l=a(1);g=a(30);m=a(31);d=a(68);f=a(126);h=a(57);k=a(43);a=a(203);c.prototype.ki=function(p){var q;q=this;return this.Wi.FE(p.Yk[0].data[0],[8,4])?Promise.resolve({Ye:[{id:"ddd",oK:"cert",SZ:void 0}],sk:[{sessionId:"ddd",data:new Uint8Array(this.vE.decode(k.DWa))}]}):this.Wi.FE(p.Yk[0].data[0],this.hlc.decode("certificate"))?Promise.resolve({Ye:[{id:"ddd",oK:"cert",SZ:void 0}],sk:[{sessionId:"ddd",data:new Uint8Array(this.vE.decode(k.L3))}]}):this.vQ.Kx(this.nVb(p)).then(function(v){return q.oVb(v);});};c.prototype.release=function(p){return this.vQ.release(this.sVb(p)).then(function(){});};c.prototype.nVb=function(p){var q,v;q=this;v=p.Yk.map(function(t){return t.data.map(function(w){return {sessionId:t.sessionId,dataBase64:q.vE.encode(w)};});});return {sa:p.sa,fh:p.fh,c$:p.c$,Og:(0,h.Eya)(p.Og),cp:f.kn[p.cp],Yk:v.reduce(function(t,w){return t.concat(w);},[]),Kj:p.Kj,ih:p.ih};};c.prototype.sVb=function(p){return {sa:p.sa,Ye:p.Ye};};c.prototype.oVb=function(p){return {Ye:p.Ye,sk:p.sk};};n=c;n=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.Di)),r.__param(1,(0,l.l)(m.Yi)),r.__param(2,(0,l.l)(d.Qs)),r.__param(3,(0,l.l)(a.XT))],n);b.UKa=n;},function(r,b,a){var l,g,m,d,f,h;function c(k,n,p,q,v){this.rFb=k;this.Bcc=n;this.akb=q;this.Kdc=v;this.qa=p.cb("LicenseProviderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.wOa=void 0;r=a(0);l=a(1);g=a(7);m=a(536);a(537);d=a(541);f=a(542);a=a(295);c.prototype.Kx=function(k){var n,p;n=this;!1;p=this.akb.ojc(k);return this.rFb.tq(this.qa,k.Kj,p).then(function(q){q.map(function(v){return v.u3b;});return n.Kdc.mob(q);}).catch(function(q){n.qa.error("PBO license failed",q);return Promise.reject(q);});};c.prototype.release=function(k){var n;n=this;!1;k=this.akb.rjc(k);return this.Bcc.Sf(this.qa,k).then(function(){return {ja:!0};}).catch(function(p){n.qa.error("PBO release license failed",p);return Promise.reject(p);});};h=c;h=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.xRa)),r.__param(1,(0,l.l)(d.kSa)),r.__param(2,(0,l.l)(g.jb)),r.__param(3,(0,l.l)(f.NRa)),r.__param(4,(0,l.l)(a.Oka))],h);b.wOa=h;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w,u;function c(x){return function(){return x.yb.get(l.fSa).oa();};}Object.defineProperty(b,"__esModule",{value:!0});b.WK=void 0;r=a(1);l=a(151);g=a(239);m=a(296);d=a(543);f=a(1301);h=a(1302);k=a(544);n=a(1303);p=a(545);q=a(1304);v=a(297);t=a(1305);w=a(546);u=a(1306);b.WK=new r.Ed(function(x){x(k.SSa).to(n.RSa).la();x(g.Qka).to(m.bSa).la();x(d.DRa).to(f.CRa).la();x(l.fSa).to(h.eSa).la();x(l.uU).h2(c);x(w.dSa).to(u.cSa).la();x(p.JRa).to(q.IRa).la().K2();x(v.hSa).to(t.gSa).la();x(v.ZRa).to(t.YRa).la();x(v.aSa).to(t.$Ra).la();});},function(r,b,a){var m,d,f,h,k,n,p,q,v,t;function c(){}function l(){}function g(w,u,x,y,z){var B;B=this;this.is=w;this.$m=u;this.config=x;this.fJ=y;this.S9b=z;this.Ow=function(){return new c().encode({version:B.version,data:B.WK});};this.Mkc=function(A){A=B.upgrade(A);B.S9b.validate(A);return A;};this.upgrade=function(A){var C;if(B.is.Qo(A))return B.Nkc(A);C=A.version;if(void 0 != C && B.is.Ol(C) && 1 == C)return B.Okc(A);C=A.version;if(void 0 != C && B.is.Ol(C) && 2 == C)return new c().decode(A);if(A.version && B.is.Ol(A.version))throw new k.rd(f.aa.sD,f.Y.cJa,void 0,void 0,void 0,"Version number is not supported. Version: " + A.version,void 0,A);throw new k.rd(f.aa.sD,f.Y.mD,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,A);};this.mm=new n.Cja(2,this.config().Nhb,"" !== this.config().Nhb && 0 < this.config().w$b,this.$m,this.Ow);}Object.defineProperty(b,"__esModule",{value:!0});b.CRa=void 0;r=a(0);m=a(1);d=a(12);f=a(4);h=a(25);k=a(36);n=a(344);p=a(83);q=a(94);v=a(296);a=a(297);g.prototype.Kbc=function(){return this.mm.load(this.Mkc).catch(function(w){throw new k.rd(f.aa.sD,w.Ca || w.wc,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,w);});};g.prototype.gGb=function(w){return this.mm.add(w);};g.prototype.Hjb=function(w){return this.mm.remove(w,function(u,x){return u.sa === x.sa;});};g.prototype.AGa=function(w){return this.mm.update(w,function(u,x){return u.sa === x.sa;});};g.prototype.toString=function(){return JSON.stringify(this.Ow(),null,"  ");};g.prototype.opb=function(w){return w?"/events?playbackContextId=" + w + "&esn=" + this.fJ().Wl:"";};g.prototype.EGa=function(w){return w.map(function(u){return {Tb:u.downloadableId,duration:u.duration};});};g.prototype.ppb=function(w){var u;return w?{total:w.playTimes.total,RL:null !== (u=w.playTimes.totalContentTime) && void 0 !== u?u:w.playTimes.total,ES:w.playTimes.total,KG:0,LG:0,SL:0,TL:0,audio:this.EGa(w.playTimes.audio || []),video:this.EGa(w.playTimes.video || []),text:this.EGa(w.playTimes.timedtext || [])}:{total:0,RL:0,ES:0,KG:0,LG:0,SL:0,TL:0,audio:[],video:[],text:[]};};g.prototype.Nkc=function(w){var u,x,y;u=this;w=JSON.parse(w);x={ih:"VOD",href:this.opb(w.playbackContextId),sa:w.xid?w.xid.toString():"",L:w.movieId,position:w.position,dB:w.timestamp,oo:w.playback?1E3 * w.playback.startEpoch:-1,GQ:w.mediaId,Py:this.ppb(w.playback),trackId:"",no:{},profileId:w.accountKey};y=JSON.stringify({keySessionIds:w.keySessionIds,movieId:w.movieId,xid:w.xid,licenseContextId:w.licenseContextId,profileId:w.profileId});this.$m.create().then(function(z){z.save(u.config().MX,y,!1);});if("" === x.href || "" === x.sa)throw new k.rd(f.aa.sD,f.Y.mD);return {version:2,data:[x]};};g.prototype.Okc=function(w){var u;u=this;if(!w.playdata || !this.is.qE(w.playdata))throw new k.rd(f.aa.sD,f.Y.mD,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,w);return {version:2,data:(function(x){return x.map(function(y){var z;return {ih:null !== (z=y.streamingType) && void 0 !== z?z:"VOD",href:u.opb(y.playbackContextId),sa:y.xid?y.xid.toString():"",L:y.movieId,position:y.position,dB:y.timestamp,oo:y.playback?1E3 * y.playback.startEpoch:-1,GQ:y.mediaId,Py:u.ppb(y.playback),trackId:"",no:{},profileId:y.profileId};});})(w.playdata)};};Va.Object.defineProperties(g.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.mm.version;}},WK:{configurable:!0,enumerable:!0,get:function(){return this.mm.Hn;}}});t=g;t=r.__decorate([(0,m.$)(),r.__param(0,(0,m.l)(h.Ug)),r.__param(1,(0,m.l)(p.Az)),r.__param(2,(0,m.l)(d.xc)),r.__param(3,(0,m.l)(q.Iz)),r.__param(4,(0,m.l)(a.aSa))],t);b.CRa=t;l.prototype.encode=function(w){var u;u=new v.h5();return w.map(u.encode);};l.prototype.decode=function(w){var u;u=new v.h5();return w.map(u.decode);};c.prototype.encode=function(w){return {version:w.version,data:new l().encode(w.data)};};c.prototype.decode=function(w){return {version:w.version,data:new l().decode(w.data)};};},function(r,b,a){var m,d,f,h,k,n,p,q,v,t,w,u,x;function c(y,z,B,A,C,D,E,G){this.config=y;this.Jc=B;this.pz=A;this.ww=C;this.sea=D;this.Si=E;this.kK=Promise.resolve();this.closed=!1;this.log=z.cb("PlaydataServices");this.VK=[];this.active=new Set();this.Qdc=new l(y,G);}function l(y,z){this.config=y;this.za=z;}function g(y,z,B,A,C,D){this.log=y;this.Jc=z;this.mi=B;this.ww=A;this.pz=C;this.p$b=D;this.K6a=this.bg=!1;}Object.defineProperty(b,"__esModule",{value:!0});b.eSa=b.Mxb=void 0;r=a(0);m=a(1);d=a(5);f=a(7);h=a(47);k=a(239);n=a(543);p=a(544);q=a(4);v=a(296);t=a(545);w=a(81);u=a(27);a=a(148);g.prototype.RQ=function(y,z){var A;function B(){var C;C=A.ww.create(A.mi);A.pz.AGa(C).catch(function(D){var E;E=A.K6a?f.Hk.ema:f.Hk.Bg;A.K6a=!0;A.log.write(E,"Unable to save playdata changes to IDB",D);});}A=this;this.log.trace("Adding initial playdata",z);this.pz.gGb(z).then(function(){A.log.trace("Scheduling monitor",{interval:y});A.su=A.Jc.TR(y,B);}).catch(function(C){A.log.error("Unable to add playdata",{error:C,playdata:new v.h5().encode(z)});A.su=A.Jc.TR(y,B);});};g.prototype.stop=function(y){var z,B;z=this;if(this.bg)return Promise.resolve();this.su && this.su.cancel();B=this.ww.create(this.mi);return this.pz.AGa(B).catch(function(A){z.log.error("Unable to update playdata changes during stop",A);}).then(function(){if(y){if(z.mi.background)return (z.log.trace("Playback is currently in the background and never played, not sending the playdata",B),Promise.resolve());z.log.trace("Sending final playdata to the server",B);return z.p$b.blb(B);}z.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(y)return (z.log.trace("Removing playdata from the persisted store",B),z.pz.Hjb(B));z.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){z.log.info("Successfully stopped the playback",B.L);}).catch(function(A){z.log.error("Unable to remove playdata changes",A);throw A;});};g.prototype.cancel=function(){this.bg=!0;this.su && this.su.cancel();this.pz.AGa(this.ww.create(this.mi));};Va.Object.defineProperties(l.prototype,{NJb:{configurable:!0,enumerable:!0,get:function(){var y;y=this.za.lf;return !this.kK || 0 <= y.Ga(this.kK).Fm(this.config.ycb)?(this.kK=y,!0):!1;}}});b.Mxb=l;c.prototype.oa=function(){var y;y=this;this.xF || (this.log.trace("Starting playdata services"),this.xF=this.pz.Kbc().then(function(){!1;return y;}).catch(function(z){y.log.error("Unable to read the playdata, it will be deleted and not sent to the server",z);return y;}));return this.xF;};c.prototype.close=function(){this.closed=!0;this.VK.forEach(function(y){y.RQ.cancel();});};c.prototype.send=function(y){var z;if(this.closed)return Promise.resolve();z=this.config;return z.SK && z.hEa?this.Rec(y):Promise.resolve();};c.prototype.zl=function(y,z,B){var A;A=this;this.closed || (this.iFa(y),this.jEa(y).catch(function(C){A.log.error("Start command failed",{playdata:C.WK,error:C.aY});}),z && this.fFa(this.wXb(y),y,B));};c.prototype.K1=function(y){var z,B,A;z=this;if(this.closed)return Promise.resolve();B=this.ww.create(y);this.active.delete(B.sa);y=oa((0,w.tw)(function(C){return C.key === B.sa;},this.VK));A=y.next().value;this.VK=y.next().value;return Promise.all(A.map(function(C){C.stopped=!0;return C.RQ.stop(z.config.hEa);})).then(function(){});};c.prototype.iFa=function(y){var z,B;y.Ze("pdb");if(this.config.CBa.Vbb()){z=this.ww.create(y);B=z.sa;this.VK.some(function(A){return A.key === B;})?this.log.trace("Already collecting playdata, ignoring",z):(this.log.info("Starting to collect playdata",z),this.active.add(B),this.VK.push({key:B,RQ:this.UXb(y,z),jz:!1,stopped:!1}));}};c.prototype.Rec=function(y){var z,B,A,C;z=this;B=this.pz.WK.filter(function(D){return !z.active.has(D.sa);});A=void 0;C=void 0;y && Infinity === y?A=B:(B=oa((0,w.tw)(function(D){return D.L === y;},B)),A=B.next().value,C=B.next().value);C && 0 < C.length && this.Jc.wl(this.config.Zkb,function(){z.alb(C);});return A && 0 !== A.length?this.alb(A):Promise.resolve();};c.prototype.alb=function(y){var B;function z(A){return B.sea.blb(A).then(function(){return B.Occ(A);});}B=this;return y.reduce(function(A,C){return A.then(function(){return z(C);});},Promise.resolve());};c.prototype.Occ=function(y){var z;z=this;return this.pz.Hjb(y).then(function(){}).catch(function(B){z.log.error("Unable to complete the stop lifecycle event",B);throw B;});};c.prototype.UXb=function(y,z){y=new g(this.log,this.Jc,y,this.ww,this.pz,this.sea);y.RQ(this.config.CBa,z);return y;};c.prototype.jEa=function(y){var z,B;z=this;B=this.ww.create(y);return this.sea.jEa(y,B).then(function(){!1;z.$db(y);}).catch(function(A){z.$db(y);throw {WK:B,aY:A};});};c.prototype.$db=function(y){this.VK.filter(function(z){return z.key === y.sa.toString();}).forEach(function(z){z.jz=!0;});};c.prototype.$kb=function(y){return this.Qdc.NJb?this.k1(t.Nka.HZ,y,q.aa.Ija):Promise.resolve();};c.prototype.Kfa=function(y){return this.k1(t.Nka.splice,y,q.aa.qUa);};c.prototype.k1=function(y,z,B){var C;function A(D){var E;E=C.VK.filter(function(G){return G.key === D.sa.toString();});return 0 === E.length?!0:E.reduce(function(G,F){return G || F.stopped || !F.jz;},!1);}C=this;return A(z)?this.kK:this.kK=this.kK.catch(function(){return Promise.resolve();}).then(function(){var D;if(A(z))return Promise.resolve();!1;D=C.ww.create(z);return C.sea.k1(y,z,D);}).then(function(D){!1;return D;}).catch(function(D){var E;C.log.error("Failed to send event",{eventKey:y,xid:z.sa,error:D});D.gl?E=C.Si(B,D):D.kC === q.S4.Zla && (E=C.Si(B,D));throw {aY:D,oR:E};});};c.prototype.fFa=function(y,z,B){var A;A=this;!1;this.kra();this.eya=this.Jc.wl(y,function(){A.kra();A.k1(t.Nka.HZ,z,q.aa.Ija).then(function(){A.fFa(y,z,B);}).catch(function(C){var D;D=C.aY;(C=C.oR) && B(C);D.kC !== q.S4.Zla && A.fFa(y,z,B);});});};c.prototype.Nmb=function(){this.kra();};c.prototype.kra=function(){this.eya && (this.eya.cancel(),this.eya=void 0);};c.prototype.wXb=function(y){return y.lb.Cwa?(0,d.$b)(y.lb.Cwa):this.config.xcb;};x=c;x=r.__decorate([(0,m.$)(),r.__param(0,(0,m.l)(p.SSa)),r.__param(1,(0,m.l)(f.jb)),r.__param(2,(0,m.l)(h.Zj)),r.__param(3,(0,m.l)(n.DRa)),r.__param(4,(0,m.l)(k.Qka)),r.__param(5,(0,m.l)(t.JRa)),r.__param(6,(0,m.l)(a.wU)),r.__param(7,(0,m.l)(u.Hh))],x);b.eSa=x;},function(r,b,a){var l,g,m,d,f,h;function c(k,n){k=g.If.call(this,k,"PlaydataConfigImpl") || this;k.config=n;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.RSa=void 0;r=a(0);l=a(1);g=a(46);m=a(33);d=a(45);f=a(5);a=a(39);ka(c,g.If);Va.Object.defineProperties(c.prototype,{SK:{configurable:!0,enumerable:!0,get:function(){return this.config.yB?"unsentplaydatatest":"unsentplaydata";}},hEa:{configurable:!0,enumerable:!0,get:function(){return !0;}},Zkb:{configurable:!0,enumerable:!0,get:function(){return (0,f.$b)(1E4);}},CBa:{configurable:!0,enumerable:!0,get:function(){return (0,f.$b)(4E3);}},xcb:{configurable:!0,enumerable:!0,get:function(){return (0,f.mda)(1);}},ycb:{configurable:!0,enumerable:!0,get:function(){return (0,f.Ui)(30);}}});h=c;r.__decorate([d.config(d.string,"playdataPersistKey")],h.prototype,"SK",null);r.__decorate([d.config(d.Hd,"sendPersistedPlaydata")],h.prototype,"hEa",null);r.__decorate([d.config(d.am,"playdataSendDelayMilliseconds")],h.prototype,"Zkb",null);r.__decorate([d.config(d.am,"playdataPersistIntervalMilliseconds")],h.prototype,"CBa",null);r.__decorate([d.config(d.am,"heartbeatCooldown")],h.prototype,"xcb",null);r.__decorate([d.config(d.am,"keepAliveWindow")],h.prototype,"ycb",null);h=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.rn)),r.__param(1,(0,l.l)(a.Jp))],h);b.RSa=h;},function(r,b,a){var l,g,m;function c(d,f){this.bX=f;this.log=d.cb("PboEventSenderImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.IRa=void 0;r=a(0);l=a(88);g=a(7);a=a(1);c.prototype.jEa=function(d,f){var h;h=this.bX(l.ar.start);return this.C6a(h,d,f);};c.prototype.blb=function(d){var f;f=this;return this.bX(l.ar.stop).Sf(this.log,d).then(function(){}).catch(function(h){f.log.error("PBO stop event failed",h);throw h;});};c.prototype.k1=function(d,f,h){d=this.bX(d);return this.C6a(d,f,h);};c.prototype.C6a=function(d,f,h){var k;k=this;return d.tq(this.log,f.ba.Kj,h).then(function(){}).catch(function(n){k.log.error("PBO event failed",n);throw n;});};m=c;m=r.__decorate([(0,a.$)(),r.__param(0,(0,a.l)(g.jb)),r.__param(1,(0,a.l)(l.eja))],m);b.IRa=m;},function(r,b,a){var m,d,f,h;function c(){}function l(k){this.R9b=k;}function g(k){this.T9b=k;}Object.defineProperty(b,"__esModule",{value:!0});b.gSa=b.$Ra=b.YRa=void 0;r=a(0);m=a(1);d=a(297);f=a(36);h=a(4);g.prototype.validate=function(k){k.map(this.T9b.validate);};a=g;a=r.__decorate([(0,m.$)(),r.__param(0,(0,m.l)(d.hSa))],a);b.YRa=a;l.prototype.validate=function(k){this.R9b.validate(k.data);};a=l;a=r.__decorate([(0,m.$)(),r.__param(0,(0,m.l)(d.ZRa))],a);b.$Ra=a;c.prototype.validate=function(k){var n;k.sa && "string" === typeof k.sa?k.href && "string" === typeof k.href?k.profileId && "string" === typeof k.profileId || (n="ProfileId value is corrupted."):n="Href value is corrupted.":n="Xid value is corrupted.";if(n)throw new f.rd(h.aa.sD,h.Y.mD,void 0,void 0,void 0,n,void 0,k.sa);};d=c;d=r.__decorate([(0,m.$)()],d);b.gSa=d;},function(r,b,a){var l,g,m,d;function c(f,h){this.thb=h;this.log=f.cb("PlaydataServices");}Object.defineProperty(b,"__esModule",{value:!0});b.cSa=void 0;r=a(0);l=a(1);g=a(7);m=a(16);a=a(151);c.prototype.zl=function(f){var h;h=this;this.thb().then(function(k){f.addEventListener(m.ka.rK,function(n){var p;if(void 0 !== n.uR){p=f.Vn(n.uR);k.K1(p);n.cK || new Promise(function(q){var v;if(f.oj.value)q();else {v=function(t){t.newValue && (q(),f.oj.removeListener(v));};f.oj.addListener(v);}}).then(function(){return k.zl(f,h.cmb(f),function(q){return f.RI(q);});});}});f.addEventListener(m.ka.uw,function(){k.zl(f.ha,h.cmb(f),function(n){return f.RI(n);});});f.background || f.addEventListener(m.ka.TZ,function(n){var p;n=f.Vn(n.L);if(n.gj){p=f.Vn(n.gj.Ph);h.log.trace("Auxiliary viewable segment (viewableId: " + n.L + "). Starting playdata monitor for parent viewable " + p.L);n=p;}k.iFa(n);});f.addEventListener(m.ka.uh,function(){k.Nmb();});f.addEventListener(m.ka.Jpb,function(){k.$kb(f.ha).catch(function(n){(n=n.oR) && f.RI(n);});});f.Ob.addListener(function(){f.lb.Gsa?h.log.trace("stickiness is disabled for timedtext"):k.Kfa(f.ha);});f.Gc.addListener(function(){f.lb.Gsa?h.log.trace("stickiness is disabled for audio"):k.Kfa(f.ha).catch(function(n){(n=n.oR) && f.RI(n);});});});};c.prototype.cmb=function(f){return f.state.value == m.ic.Se;};d=c;d=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.jb)),r.__param(1,(0,l.l)(a.uU))],d);b.cSa=d;},function(r,b,a){var l,g,m,d,f,h,k,n;function c(p){return function(){return new Promise(function(q,v){var t;t=p.yb.get(g.dLa);t.oa().then(function(){q(t);}).catch(function(w){v(w);});});};}Object.defineProperty(b,"__esModule",{value:!0});b.I5a=void 0;r=a(1);l=a(547);g=a(548);m=a(1308);d=a(100);f=a(1309);h=a(549);k=a(1310);n=a(1311);b.I5a=new r.Ed(function(p){p(h.OOa).to(k.NOa).la();p(l.aLa).to(n.POa);p(d.hT).to(f.ZHa).la();p(g.dLa).to(m.bLa).la();p(g.cLa).h2(c);});},function(r,b,a){var l,g;function c(m){this.RQb=m;}Object.defineProperty(b,"__esModule",{value:!0});b.bLa=void 0;r=a(0);l=a(1);a=a(547);c.prototype.oa=function(){var m;m=this;this.xF || (this.xF=new Promise(function(d,f){var h;h=[];m.RQb.forEach(function(k){h.push(k.oa());});Promise.all(h).then(function(){d();}).catch(function(k){f(k);});}));return this.xF;};g=c;g=r.__decorate([(0,l.$)(),r.__param(0,(0,l.EK)(a.aLa))],g);b.bLa=g;},function(r,b,a){var l,g;function c(){this.aEa="";this.eqb=[[],[],[]];this.ma=[[],[],[]];}Object.defineProperty(b,"__esModule",{value:!0});b.ZHa=void 0;r=a(0);l=a(1);a(5);g=a(100);c.prototype.downloadRequest=function(m){var d;"" === this.aEa && (this.aEa=m.S);if(!m.Hc){d=this.Yic(m);this.ma[m.mediaType].push(d);this.eqb[m.mediaType].forEach(function(f){f.isc(d);});}};c.prototype.Yic=function(m){return {id:m.Mi(),S:m.S,mediaType:m.mediaType,$k:m.$k,startTime:m.AC,endTime:m.Cw,offset:m.Dw,CO:m.CO,AO:m.AO,duration:m.Qn,bitrate:m.bitrate,state:g.Uha.D5a,oj:!1,Tuc:!1,T$a:!1,Etc:g.Tha.waiting};};c.prototype.update=function(m){this.eqb[m.mediaType].forEach(function(d){d.ayc(m);});};Va.Object.defineProperties(c.prototype,{S:{configurable:!0,enumerable:!0,get:function(){return this.aEa;}}});a=c;a=r.__decorate([(0,l.$)()],a);b.ZHa=a;},function(r,b,a){var l,g,m,d,f;function c(h,k){h=m.If.call(this,h,"LogDisplayConfigImpl") || this;h.bh=k;return h;}Object.defineProperty(b,"__esModule",{value:!0});b.NOa=void 0;r=a(0);l=a(1);g=a(45);m=a(46);d=a(33);a=a(110);ka(c,m.If);Va.Object.defineProperties(c.prototype,{Q0:{configurable:!0,enumerable:!0,get:function(){return !0;}},xQ:{configurable:!0,enumerable:!0,get:function(){return this.bh.xQ;}},wdb:{configurable:!0,enumerable:!0,get:function(){return -1;}}});f=c;r.__decorate([g.config(g.Hd,"renderDomDiagnostics")],f.prototype,"Q0",null);r.__decorate([g.config(g.zF,"logDisplayMaxEntryCount")],f.prototype,"xQ",null);r.__decorate([g.config(g.zF,"logDisplayAutoshowLevel")],f.prototype,"wdb",null);f=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(d.rn)),r.__param(1,(0,l.l)(a.yH))],f);b.NOa=f;},function(r,b,a){var m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B;function c(A,C,D,E,G,F,L,O,K,I){var M;M=this;this.za=A;this.ah=C;this.Wi=D;this.Jc=E;this.Ep=G;this.config=F;this.fJ=L;this.MFa=O;this.hsa=K;this.$m=I;this.Dic=function(){M.s2.vl(function(){M.update();});};this.clear=function(){M.entries=[];M.update();};this.afb=function(){M.rf.mQ=!M.rf.mQ;M.PF && M.RF && (M.rf.mQ?(M.PF.style.display="inline-block",M.RF.style.display="none"):(M.RF.style.display="inline-block",M.PF.style.display="none"));M.zL(!1);};this.x4b=function(H){var J;M.entries.push(H);J=M.config.xQ;0 <= J && M.entries.length > J && M.entries.shift();void 0 === M.rf.ZA[H.lq] && (M.rf.ZA[H.lq]=!0,M.zL(!1));M.rf.isVisible && !M.Bnb?M.Dic():M.s2.vl();};this.ZQb=function(){g.download("all",M.entries.map(function(H){return H.Gga(!1,!1);})).catch(function(H){console.error("Unable to download all logs to the file",H);});};this.aw=!1;this.rf={isVisible:!1,mQ:!0,W9:!0,Tya:t.Hk.xja,ZA:{}};this.s2=this.MFa((0,p.Ui)(1));this.VTb=this.hsa((0,p.$b)(250));this.entries=[];!1;!1;}function l(A){var C;this.elements=[];C=document.createElementNS(l.T1,"svg");C.setAttribute("viewBox",A);this.elements.push(C);}function g(){}Object.defineProperty(b,"__esModule",{value:!0});b.POa=void 0;r=a(0);m=a(1);d=a(30);f=a(113);h=a(176);k=a(47);n=a(27);p=a(5);q=a(18);v=a(94);t=a(7);w=a(114);u=a(298);x=a(549);y=a(83);z=a(205);B=a(1312);g.download=function(A,C){return g.$Wb(A).then(function(D){return g.sZb(D,C.join("\r\n")).then(function(E){return g.XQb(E.filename,E.text);});});};g.$Wb=function(A){return new Promise(function(C,D){var E,G,F,L,O,K,I;try{E=new Date();G=E.getDate().toString();F=(E.getMonth() + 1).toString();L=E.getFullYear().toString();O=E.getHours().toString();K=E.getMinutes().toString();I=E.getSeconds().toString();1 === G.length && (G="0" + G);1 === F.length && (F="0" + F);1 === O.length && (O="0" + O);1 === K.length && (K="0" + K);1 === I.length && (I="0" + I);C(L + F + G + O + K + I + "." + A + ".log");}catch(M){D(M);}});};g.sZb=function(A,C){return new Promise(function(D,E){try{D({filename:A,text:URL.createObjectURL(new Blob([C],{type:"text/plain"}))});}catch(G){E(G);}});};g.XQb=function(A,C){var D;try{D=document.createElement("a");D.setAttribute("href",C);D.setAttribute("download",A);D.style.display="none";document.body.appendChild(D);D.click();document.body.removeChild(D);return Promise.resolve();}catch(E){return Promise.reject(E);}};l.prototype.lS=function(){var A;A=document.createElementNS(l.T1,"g");A.setAttribute("stroke","none");A.setAttribute("stroke-width",(1).toString());A.setAttribute("fill","none");A.setAttribute("fill-rule","evenodd");A.setAttribute("stroke-linecap","round");this.addElement(A);return this;};l.prototype.nS=function(A,C,D){var E;E=document.createElementNS(l.T1,"path");E.setAttribute("d",A);C && E.setAttribute("fill",C);D && E.setAttribute("fill-rule",D);this.addElement(E);return this;};l.prototype.G1=function(A,C,D,E,G){var F;G=void 0 === G?"#000000":G;F=document.createElementNS(l.T1,"rect");F.setAttribute("x",A.toString());F.setAttribute("y",C.toString());F.setAttribute("height",D.toString());F.setAttribute("width",E.toString());G && F.setAttribute("fill",G);this.addElement(F);return this;};l.prototype.ihc=function(){var A;A=document.createElementNS(l.T1,"polygon");A.setAttribute("points","0 0 24 0 24 24 0 24");A.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(A);return this;};l.prototype.end=function(){this.elements.pop();return this;};l.prototype.hj=function(){if(1 < this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0 === this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};l.prototype.addElement=function(A){if(0 === this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length - 1].appendChild(A);this.elements.push(A);};Va.Object.defineProperties(l,{background:{configurable:!0,enumerable:!0,get:function(){return "transparent";}},$I:{configurable:!0,enumerable:!0,get:function(){return "#000000";}}});l.T1="http://www.w3.org/2000/svg";c.prototype.oa=function(){var A;A=this;this.xF || (this.xF=new Promise(function(C){mb.addEventListener("keydown",function(D){D.ctrlKey && D.altKey && D.shiftKey && (D.keyCode == z.uD.Gvb?A.toggle():D.keyCode == z.uD.E && B.KJa.cMb(A.fJ().Wl));});A.Ep.Zea(u.Wja.ftb,A.x4b);C();}));return this.xF;};c.prototype.show=function(){document.body && (this.element || (this.QNb(),this.aw=!0),!this.rf.isVisible && this.element && (document.body.appendChild(this.element),this.rf.isVisible=!0,this.update(!0)));};c.prototype.ry=function(){this.aw && this.rf.isVisible && this.element && (document.body.removeChild(this.element),this.rf.isVisible=!1);};c.prototype.toggle=function(){this.rf.isVisible?this.ry():this.show();this.zL(!1);};c.prototype.QNb=function(){var A,C;try{A=this.createElement("div","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});C=this.createElement("style");C.type="text/css";C.appendChild(document.createTextNode("button:focus { outline: none; }"));A.appendChild(C);A.appendChild(this.Sq=this.KOb());A.appendChild(this.LOb());A.appendChild(this.KNb());this.element=A;}catch(D){console.error("Unable to create the log console",D);}};c.prototype.KOb=function(){var A,C;A=this;C=this.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");C.setAttribute("wrap","off");C.setAttribute("readonly","readonly");C.addEventListener("focus",function(){A.Bnb=!0;A.update();A.Sq && (A.Sq.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});C.addEventListener("blur",function(){A.Bnb=!1;A.update();A.Sq && (A.Sq.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return C;};c.prototype.LOb=function(){var A;A=this.createElement("div","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");A.appendChild(this.mOb());A.appendChild(this.bOb());A.appendChild(this.VNb());A.appendChild(this.MOb());A.appendChild(this.ONb());A.appendChild(this.tOb());A.appendChild(this.qOb());A.appendChild(this.XNb());A.appendChild(this.PNb());return A;};c.prototype.KNb=function(){var A,C,D,E,G,F;A=this;C=this.createElement("div","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");D=this.createElement("div","padding:2px");E=this.createElement("select",this.ly(22,160,1,2),"<option>Select categories</option>");G=this.createElement("div","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");C.appendChild(D);C.appendChild(G);D.appendChild(E);D.addEventListener("mousedown",function(L){L.preventDefault();});F=!1;D.addEventListener("click",function(){F?G.style.display="none":(G.innerHTML="",["all","none"].concat(Object.keys(A.rf.ZA).sort()).forEach(function(L){G.appendChild(A.LNb(L,D));}),G.style.display="block");F=!F;});return C;};c.prototype.LNb=function(A,C){var D,E,G;D=this;E=this.createElement("label","display: block;margin:1px");E.htmlFor=A;G=this.createElement("input","margin:1px");G.type="checkbox";G.id=A;G.checked=this.rf.ZA[A];G.addEventListener("click",function(){"all" === A || "none" === A?(Object.keys(D.rf.ZA).forEach(function(F){D.rf.ZA[F]="all" === A;}),C.click()):D.rf.ZA[A]=!D.rf.ZA[A];D.zL(!0);});E.appendChild(G);E.insertAdjacentText("beforeend",18 < A.length?A.slice(0,15) + "...":A);return E;};c.prototype.mOb=function(){var A,C;A=this;C=this.createElement("select",this.ly(22,NaN,1,2),'<option value="' + t.Hk.Bg + '">Error</option><option value="' + (t.Hk.ema + '">Warn</option><option value="') + (t.Hk.xja + '">Info</option><option value="') + (t.Hk.yVa + '">Trace</option><option value="') + (t.Hk.M + '">Debug</option>'));C.value=this.rf.Tya.toString();C.addEventListener("change",function(D){A.rf.Tya=parseInt(D.target.value);A.zL(!0);},!1);return C;};c.prototype.bOb=function(){var C,D;function A(E){return C.VTb.vl(function(){var G;G=E.target.value;C.rf.filter=G?new RegExp(G):void 0;C.zL(!0);});}C=this;D=this.createElement("input",this.ly(14,150,1,2));D.value=this.rf.filter?this.rf.filter.source:"";D.title="Filter (RegEx)";D.placeholder="Filter (RegEx)";D.addEventListener("keydown",A,!1);D.addEventListener("change",A,!1);return D;};c.prototype.VNb=function(){var A,C,D,E;A=this;C=this.createElement("div",this.ly(NaN,NaN));D=this.createElement("input","vertical-align: middle;margin: 0px 2px 0px 0px;");D.id="details";D.type="checkbox";D.title="Details";D.checked=this.rf.W9;D.addEventListener("change",function(G){A.rf.W9=G.target.checked;A.zL(!0);},!1);E=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");E.setAttribute("for","details");E.innerHTML="View details";C.appendChild(D);C.appendChild(E);return C;};c.prototype.MOb=function(){var A,C,D;A=this;C=this.createElement("button",this.ly());D=new l("0 0 24 24").lS().ihc().end().nS("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",l.$I,"nonzero").end().end().hj();C.appendChild(D);C.addEventListener("click",function(){A.update();},!1);C.setAttribute("title","Refresh the log console");return C;};c.prototype.ONb=function(){var A,C;A=this.createElement("button",this.ly());C=new l("0 0 24 24").lS().G1(0,0,24,24,l.background).end().nS("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",l.$I).end().end().hj();A.appendChild(C);A.addEventListener("click",this.clear,!1);A.setAttribute("title","Remove all log messages");return A;};c.prototype.tOb=function(){var A;this.RF=this.createElement("button",this.ly());this.RF.style.display=this.rf.mQ?"none":"inline-block";A=new l("0 0 24 24").lS().G1(0,0,24,24,l.background).end().nS("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",l.$I,"nonzero").end().end().hj();this.RF.addEventListener("click",this.afb,!1);this.RF.appendChild(A);this.RF.setAttribute("title","Shrink the log console");return this.RF;};c.prototype.qOb=function(){var A;this.PF=this.createElement("button",this.ly());this.PF.style.display=this.rf.mQ?"inline-block":"none";A=new l("0 0 24 24").lS().G1(4,4,16,16,l.background).end().nS("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",l.$I,"nonzero").end().end().hj();this.PF.addEventListener("click",this.afb,!1);this.PF.appendChild(A);this.PF.setAttribute("title","Expand the log console");return this.PF;};c.prototype.XNb=function(){var A,C;A=this.createElement("button",this.ly());C=new l("0 0 26 26").lS().G1(0,0,24,24,l.background).end().nS("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",l.$I,"nonzero").end().end().hj();A.appendChild(C);A.addEventListener("click",this.ZQb,!1);A.setAttribute("title","Download all log messages");return A;};c.prototype.PNb=function(){var A,C,D;A=this;C=this.createElement("button",this.ly());D=new l("0 0 24 24").lS().G1(0,0,24,24,l.background).end().nS("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",l.$I,"nonzero").end().end().hj();C.appendChild(D);C.addEventListener("click",function(){A.toggle();},!1);C.setAttribute("title","Close the log console");return C;};c.prototype.zL=function(A){var C;A=void 0 === A?!1:A;C=void 0 === C?!1:C;!1;A && this.update(C);};c.prototype.update=function(A){var C;C=this;A=void 0 === A?!1:A;this.element && this.config.Q0 && Promise.resolve(this.XIb() + this.aXb().join("\r\n")).then(function(D){C.element && C.Sq && (C.Sq.value=D,C.element.style.cssText=C.rf.mQ?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",A && C.Jc.wl(p.Oa,function(){C.Sq.scrollTop=C.Sq.scrollHeight;}));}).catch(function(D){console.error("Unable to update the log console",D);});};c.prototype.aXb=function(){var A,C;A=this;C=[];this.entries.forEach(function(D){(D.level || D.level) <= A.rf.Tya && A.rf.ZA[D.lq] && (D=D.Gga(!A.rf.W9,!A.rf.W9),A.rf.filter && !A.rf.filter.test(D) || C.push(D));});return C;};c.prototype.XIb=function(){var A;A=this.fJ();return "Version: 6.0039.350.911 \n" + ((A?"Esn: " + A.Wl:"") + "\nJsSid: ") + (this.ah.id + ", Epoch: " + this.za.lf.ia(p.Eo) + ", Start: " + this.ah.XB.ia(p.Eo) + ", TimeZone: " + new Date().getTimezoneOffset() + "\nHref: ") + (location.href + "\nUserAgent: ") + (navigator.userAgent + "\n--------------------------------------------------------------------------------\n");};c.prototype.createElement=function(A,C,D,E){return this.Wi.createElement(A,C,D,E);};c.prototype.ly=function(A,C,D,E){A=void 0 === A?26:A;C=void 0 === C?26:C;return "display:inline-block;border:" + (void 0 === D?0:D) + "px solid " + l.$I + ";padding:3px;" + (isNaN(A)?"":"height:" + A + "px") + ";" + (isNaN(C)?"":"width:" + C + "px") + ";margin:0px 3px;background-color:transparent;" + (E?"border-radius:" + E + "px;":"");};a=c;a.thc="logDxDisplay";a=r.__decorate([(0,m.$)(),r.__param(0,(0,m.l)(n.Hh)),r.__param(1,(0,m.l)(q.jd)),r.__param(2,(0,m.l)(d.Di)),r.__param(3,(0,m.l)(k.Zj)),r.__param(4,(0,m.l)(w.zM)),r.__param(5,(0,m.l)(x.OOa)),r.__param(6,(0,m.l)(v.Iz)),r.__param(7,(0,m.l)(f.UM)),r.__param(8,(0,m.l)(h.B3)),r.__param(9,(0,m.l)(y.Az))],a);b.POa=a;},function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.KJa=void 0;l=a(14);c.cMb=function(g){var m;if(l.Xh.queryCommandSupported && l.Xh.queryCommandSupported("copy")){m=l.Xh.createElement("textarea");m.textContent=g;m.style.position="fixed";l.Xh.body.appendChild(m);m.select();try{l.Xh.execCommand("copy");}catch(d){console.warn("Copy to clipboard failed.",d);}finally{l.Xh.body.removeChild(m);}}};b.KJa=c;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p;Object.defineProperty(b,"__esModule",{value:!0});b.Re=void 0;r=a(1);c=a(1314);l=a(1315);g=a(1316);m=a(146);d=a(353);f=a(525);h=a(1317);k=a(1318);n=a(550);p=a(1319);b.Re=new r.Ed(function(q){q(m.K5).to(c.sVa).la();q(d.sla).to(g.OTa).la();q(f.oWa).to(l.nWa).la();q(h.Nwb).to(k.TQa).la();q(n.JWa).to(p.IWa).la();});},function(r,b,a){var l,g,m,d,f,h;function c(k,n){this.is=k;this.json=n;(0,g.Hq)(this,"json");}Object.defineProperty(b,"__esModule",{value:!0});b.sVa=void 0;r=a(0);g=a(54);m=a(37);d=a(1);f=a(25);h=a(146);c.prototype.bjb=function(k){var n;n=this;return l.read(k,function(p){return parseInt(p);},function(p){return n.is.spa(p);});};c.prototype.GCa=function(k){var n;n=this;return l.read(k,function(p){return "true" == p?!0:"false" == p?!1:void 0;},function(p){return n.is.N7(p);});};c.prototype.rs=function(k){var n;n=this;return l.read(k,function(p){return parseInt(p);},function(p){return n.is.tW(p);});};c.prototype.Hbc=function(k){var n;n=this;return l.read(k,function(p){return parseFloat(p);},function(p){return n.is.Ol(p);});};c.prototype.ajb=function(k,n){return l.read(k,function(p){return l.iUb(p,n);},function(p){return void 0 !== p;});};c.prototype.JCa=function(k,n){return l.read(k,function(p){return p;},function(p){return n?n.test(p):!0;});};c.prototype.cjb=function(k){var n,p;n=this;p=void 0 === p?function(){return !0;}:p;try{return l.read(k,function(q){return n.json.parse(decodeURIComponent(q));},function(q){return n.is.sW(q) && p(q);});}catch(q){return new h.er();}};c.prototype.ol=function(k,n,p){var q,v;q=this;p=void 0 === p?1:p;k=k.trim();v=n instanceof Function?n:this.uOb(n,p);n=k.indexOf("[");p=k.lastIndexOf("]");if(0 != n || p != k.length - 1)return new h.er();k=k.substring(n + 1,p);try{return l.F9b(k).map(function(t){t=v(q,l.qlc(t));if(t instanceof h.er)throw t;return t;});}catch(t){return t instanceof h.er?t:new h.er();}};c.prototype.uOb=function(k,n){var p;p=this;n=void 0 === n?1:n;return function(q,v){q=l.jYb(k);return 1 < n?p.ol(v,k,n - 1):q(p,v);};};c.iUb=function(k,n){var q;for(var p in n){q=parseInt(p);if(n[q] == k)return q;}};c.read=function(k,n,p){k=n(k);return void 0 !== k && p(k)?k:new h.er();};c.jYb=function(k){switch(k){case "int":return function(n,p){return n.bjb(p);};case "bool":return function(n,p){return n.GCa(p);};case "uint":return function(n,p){return n.rs(p);};case "float":return function(n,p){return n.Hbc(p);};case "string":return function(n,p){return n.JCa(p);};case "object":return function(n,p){return n.cjb(p);};}};c.F9b=function(k){var x;for(var n=[["[","]"]],p=[],q=0,v=0,t=0,w=[],u={};v < k.length;(u={ZS:u.ZS},++v)){u.ZS=k.charAt(v);x=void 0;"," == u.ZS && 0 == t?(p.push(k.substr(q,v - q)),q=v + 1):(x=n.find((function(y){return function(z){return z[0] == y.ZS;};})(u)))?(++t,w.push(x)):0 < w.length && w[w.length - 1][1] == u.ZS && (--t,w.pop());}if(q != v)p.push(k.substr(q,v - q));else if(q == v && 0 < q)throw new h.er();return p;};c.qlc=function(k){var n;n=k.charAt(0);if('"' == n || "'" == n){if(k.charAt(k.length - 1) != n)throw new h.er();return k.substring(1,k.length - 1);}return k;};a=l=c;a=l=r.__decorate([(0,d.$)(),r.__param(0,(0,d.l)(f.Ug)),r.__param(1,(0,d.l)(m.lH))],a);b.sVa=a;},function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.nWa=void 0;r=a(0);a=a(1);c.prototype.W7a=function(g){var m;m=this;return g?(g ^ 16 * Math.random() >> g / 4).toString(16):("10000000-1000-4000-8000-100000000000").replace(/[018]/g,function(d){return m.W7a(d);});};l=c;l=r.__decorate([(0,a.$)()],l);b.nWa=l;},function(r,b,a){var l,g,m,d;function c(f){this.location=f;(0,g.Hq)(this,"location");}Object.defineProperty(b,"__esModule",{value:!0});b.OTa=void 0;r=a(0);g=a(54);m=a(37);a=a(1);c.g0=function(f){var h,n,p;h={};if(0 < f.length){f=f.split("&");for(var k=0;k < f.length;k++){n=f[k].trim();p=n.indexOf("=");0 <= p?h[decodeURIComponent(n.substr(0,p).replace(l.oRa,"%20"))]=decodeURIComponent(n.substr(p + 1).replace(l.oRa,"%20")):h[n.toLowerCase()]="";}}return h;};Va.Object.defineProperties(c.prototype,{ybc:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=l.g0(this.Nib);}},Nib:{configurable:!0,enumerable:!0,get:function(){var f;if(void 0 !== this.H0)return this.H0;this.H0=this.location.search.substr(1);f=this.H0.indexOf("#");0 <= f && (this.H0=this.Nib.substr(0,f));return this.H0;}}});d=l=c;d.oRa=/[+]/g;d=l=r.__decorate([(0,a.$)(),r.__param(0,(0,a.l)(m.JOa))],d);b.OTa=d;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nwb="ObjectComparerSymbol";},function(r,b,a){var l,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.TQa=void 0;r=a(0);l=a(1);g=a(216);c.prototype.compare=function(m,d){var f;f=[];this.ura(m,d,"",f);return f;};c.prototype.ura=function(m,d,f,h){var k;k=this;if(g.kH.qE(m))g.kH.qE(d) && m.length === d.length?m.forEach(function(q,v){k.ura(m[v],d[v],f + "[" + v + "]",h);}):h.push({a:m,b:d,path:f});else if(g.kH.sW(m) && null != m){if(g.kH.sW(d) && null != d){for(var n in m){this.ura(m[n],d[n],f + "." + n,h);}for(var p in d){(p in m) || void 0 === d[p] || h.push({a:void 0,b:d[p],path:f + "." + p});}}else h.push({a:m,b:d,path:f});}else m !== d && h.push({a:m,b:d,path:f});};a=c;a=r.__decorate([(0,l.$)()],a);b.TQa=a;},function(r,b,a){var l,g;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.IWa=void 0;r=a(0);l=a(1);g=a(14);c.prototype.NYb=function(){var m;m=mb.devicePixelRatio || 1;return {width:g.hx.width * m,height:g.hx.height * m};};a=c;a=r.__decorate([(0,l.$)()],a);b.IWa=a;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t,w,u,x;Object.defineProperty(b,"__esModule",{value:!0});b.Dd=void 0;r=a(1);c=a(551);l=a(1321);g=a(120);m=a(299);d=a(1322);f=a(1323);h=a(1325);k=a(1326);n=a(1327);p=a(552);q=a(553);v=a(167);t=a(301);w=a(1328);u=a(300);x=a(1330);b.Dd=new r.Ed(function(y){y(c.wSa).to(l.vSa).la();y(m.ola).to(d.FTa).la();y(g.IH).to(f.xWa).la();y(p.ETa).to(n.zPa).la();y(p.DTa).to(k.vOa).la();y(p.CTa).to(h.nOa).la();y(t.lIa).cjc(function(){var z;return null === (z=v.Fr.tj) || void 0 === z?void 0:z.Sy;});y(t.kIa).to(w.jIa).la();y(q.mla).to(q.rTa);y(u.zia).to(x.vJa).la();});},function(r,b,a){var l,g,m;function c(d,f){this.Ib=f;this.qa=d.cb("PlayPredictionDeserializer");}Object.defineProperty(b,"__esModule",{value:!0});b.vSa=void 0;r=a(0);l=a(1);g=a(7);a=a(25);c.prototype.sQb=function(d){var f;f=this;try{return {direction:d.direction,ivc:d.layoutHasChanged,Mwc:d.rowInteractionIndex,Sb:d.lolomos.map(function(h){return f.nQb(h);})};}catch(h){this.qa.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(d)});}};c.prototype.nQb=function(d){var f;f=this;return {context:d.context,list:d.list.map(function(h){return f.mQb(h);}),requestId:d.requestId,rowIndex:d.rowIndex,Nwc:d.rowSegment};};c.prototype.mQb=function(d){var f,h;f={re:d.pts,property:d.property,P:d.viewableId,index:d.index};h=d.preplay;this.Ib.wh(h) && (f.Dea=this.rQb(h));d=d.params;this.Ib.wh(d) && (f.Gb=this.Y4a(d));return f;};c.prototype.rQb=function(d){var f;f={re:d.pts,P:d.viewableId,lR:d.pipelineNum,index:d.index};d=d.params;this.Ib.wh(d) && (f.Gb=this.Y4a(d));return f;};c.prototype.Y4a=function(d){return {je:d.uiLabel,Dl:d.trackingId,no:d.sessionParams};};c.prototype.qQb=function(d){var f;f=this;try{return d.map(function(h){return f.oQb(h);});}catch(h){this.qa.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(d)});}};c.prototype.oQb=function(d){var f,h;h=d.params;this.Ib.wh(h) && (f=this.pQb(h));return {L:d.movieId,priority:d.priority,force:d.force,Gb:f,je:d.uiLabel,Xxc:d.uiExpectedStartTime,Wxc:d.uiExpectedEndTime,Jm:d.firstTimeAdded};};c.prototype.pQb=function(d){var f,h;f=void 0;h=d.sessionParams;this.Ib.wh(h) && (f=h);return {E8:this.lQb(d.authParams),no:f,Dl:d.trackingId,ca:d.startPts,ba:d.manifest,ji:d.isBranching};};c.prototype.lQb=function(d){return {g$b:null === d || void 0 === d?void 0:d.pinCapableClient};};m=c;m=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.jb)),r.__param(1,(0,l.l)(a.Ug))],m);b.vSa=m;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q;function c(v,t,w,u){this.is=w;this.ah=u;this.log=v.cb("TaskScheduler");this.Pb=new p.Gk();this.config=t();this.currentIteration=this.sX=0;this.LL=[];this.paused=!1;this.lga=[];this.c3a=[];this.p1b=this.config.rac || q.append;this.addEventListener=this.Pb.addListener;}Object.defineProperty(b,"__esModule",{value:!0});b.FTa=void 0;r=a(0);l=a(1);g=a(299);m=a(7);d=a(12);f=a(119);h=a(25);k=a(18);n=a(5);p=a(70);(function(v){v.prepend="prepend";v.append="append";v.s0b="ignore";})(q || (q={}));c.prototype.pGb=function(v){this.log.trace("adding tasks, number of tasks: " + v.length);this.paused=!1;this.LL=this.q1b(v);this.sX=0;this.currentIteration+=1;this.Lg();};c.prototype.pause=function(){this.paused=!0;};c.prototype.Lg=function(){var v,t,w,u;v=this;if(this.sX === this.LL.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.sX,numberOfTasks:this.LL.length});else {t=this.dYb();w=this.currentIteration;t.startTime=this.ah.Rb().ia(n.va);t.status=f.Jk.jz;this.Pb.Zc(g.MM.vic,{L:t.L,type:t.type});this.lga.push(t);u=function(x){t.endTime=v.ah.Rb().ia(n.va);x();v.c3a.push(t);v.lga.splice(v.lga.indexOf(t),1);v.currentIteration === w && (v.sX++,v.Lg());};t.Zdc().then(function(){u(function(){t.status=f.Jk.tS;v.qCa(t,g.MM.wic,"task succeeded");});}).catch(function(x){u(function(){0 <= [f.Jk.bg,f.Jk.X1a,f.Jk.Jqa].indexOf(x.status)?(t.status=x.status,v.qCa(t,g.MM.tic,"cancelled task")):(t.status=f.Jk.Mv,v.qCa(t,g.MM.uic,"task failed",x));});});}};c.prototype.dYb=function(){return this.LL[this.sX];};c.prototype.getStats=function(v,t,w){var u,x,y,z;u=this.c3a.map(function(B){return B.Tv();});x=this.lga.map(function(B){return B.Tv();});y=this.is.wh(v) && this.is.wh(t);z={};if(this.is.wh(w))return (z.CLb=u.filter(function(B){return B.movieId === w;}),z);u.concat(x).forEach(function(B){var A;z[B.type + "_" + B.status]=(z[B.type + "_" + B.status] | 0) + 1;A=B.status == f.Jk.jz?B.startTime:B.endTime;y && A && A >= v && A < t && (z[B.type + "_" + B.status + "_delta"]=(z[B.type + "_" + B.status + "_delta"] | 0) + 1);});return z;};c.prototype.qCa=function(v,t,w,u){var x;x=v.Tv();u?this.log.warn(w,x,u):this.log.trace(w,x);this.Pb.Zc(t,{L:v.L,type:v.type,reason:v.status});v.ZQ(x);};c.prototype.q1b=function(v){var t,w;t=this.LL.filter(function(u){return u.c$b && u.status === f.Jk.Nn;});w=this.p1b;return w === q.s0b?[].concat(v):w === q.prepend?t.concat(v):v.concat(t);};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.jb)),r.__param(1,(0,l.l)(d.xc)),r.__param(2,(0,l.l)(h.Ug)),r.__param(3,(0,l.l)(k.jd))],a);b.FTa=a;},function(r,b,a){var g,m,d,f,h,k,n,p,q,v,t,w,u,x;function c(y,z,B,A,C,D,E,G,F,L,O){this.mmc=B;this.Ib=A;this.ah=C;this.Ee=D;this.S6a=E;this.LTb=G;this.MTb=F;this.C$=L;this.events=new x.EventEmitter();this.log=y.cb("VideoPreparer");this.config=z();this.fHa={};this.oda={};this.cc={num_of_calls:0,num_of_movies:0};this.C$.oa(this);this.sh=O.sh;}function l(y){return void 0 !== y;}Object.defineProperty(b,"__esModule",{value:!0});b.xWa=void 0;r=a(0);g=a(1324);m=a(12);d=a(1);f=a(7);h=a(86);k=a(25);n=a(299);p=a(18);q=a(5);v=a(119);t=a(300);w=a(552);u=a(301);x=a(13);c.prototype.olb=function(y,z,B){this.sh.setData(y,"ldl",z,B);};c.prototype.P$a=function(y){return this.sh.eZ(y,"ldl");};c.prototype.x2a=function(y){this.sh.clearData(y,"ldl",void 0,!0);};c.prototype.DP=function(y,z){return this.sh.getData(y,z);};c.prototype.n8a=function(y){var z;z=this.sh.getData(y,"ldl");this.sh.clearData(y,"ldl",void 0,!0);return z;};c.prototype.dqb=function(y){return this.Imb === y || this.f4a === y;};c.prototype.ZK=function(y,z){var B,A,C;B=this;y=y.map(function(D){D.Gb=D.Gb || ({E8:{g$b:!1},Dl:0});B.Ib.cJ(D.Gb.Dl) || (D.Gb.Dl=0);B.Ib.cJ(D.re) && (D.Gb.ca=D.re);return D;});A=y.map(function(D){return B.JOb(D,z);}).reduce(function(D,E){return D.concat(E);},[]);C=A.map(function(D){return D.L + "-" + D.type;});this.log.trace("prepare tasks",C);this.Ee.pGb(A);this.cc.num_of_calls++;this.cc.num_of_movies+=y.length;};c.prototype.getStats=function(y,z,B){return Object.assign(Object.assign({},B && this.oda[B] || ({})),{LL:this.Ee.getStats(y,z,B),cache:this.sh.getStats(y,z),xVb:Object.assign(Object.assign({},this.cc),this.C$.getStats())});};c.prototype.h_b=function(y){this.Imb=y;};c.prototype.f_b=function(y){this.log.trace("task scheduler paused on playback created");this.Ee.pause();this.config.gQb && this.sh.gra(y,["manifest"]);this.config.fQb && this.sh.gra(y,["ldl"]);this.config.cQb && this.sh.clearData(y,"manifest");this.C$.Cjb(y);this.f4a=y;};c.prototype.J$a=function(){this.log.info("ad played, clearing all manifests from cache");this.t7a();};c.prototype.M$a=function(){this.log.info("track changed, clearing all manifests from cache");this.t7a();};c.prototype.e_b=function(y){var z;z=this;this.config.dQb?this.sh.clearData(y,"manifest"):this.sh.eZ(y,"manifest") && this.sh.getData(y,"manifest").then(function(B){B.Ra.isSupplemental || z.sh.clearData(y,"manifest");},function(B){z.log.warn("Failed to get manifest for movieId [" + y + "] from cacheManager.",B);});this.nra(y);this.Imb=this.f4a=void 0;this.events.emit("playbackClosing",{P:y,type:"playbackClosing",target:this});};c.prototype.t7a=function(){this.sh.gra("none",["manifest","ldl"]);};c.prototype.nra=function(y){delete this.fHa[y];};c.prototype.Vv=function(y){return this.fHa[y];};c.prototype.z9=function(y){return this.fHa[y]=this.mmc.nB();};c.prototype.bmb=function(y,z){if(this.P$a(y))return v.Jk.bg;if(!z.rF)return v.Jk.Jqa;};c.prototype.JOb=function(y,z){var B,A;y.je && y.Gb && (y.Gb.je=y.je);this.Bkc(y.L,y.Jm);B=this.pOb(y,z);A=this.lOb(y,null === B || void 0 === B?void 0:B.id,z);y=this.sOb(y,null === B || void 0 === B?void 0:B.id,z);return [B,A,y].filter(l);};c.prototype.pOb=function(y,z){if(this.sh.eZ(y.L,"manifest"))this.log.trace("manifest exists in cache for " + y.L);else return new g.yU("manifest",this.ah.Rb().ia(q.va),!!y.Gb.Ti,void 0,z,this.S6a,y,this);};c.prototype.lOb=function(y,z,B){if(this.config.TX)if(this.sh.eZ(y.L,"ldl"))!1;else return this.config.Hu?new g.yU("ldl",this.ah.Rb().ia(q.va),!!y.Gb.Ti,z,B,this.LTb,y,this):new g.yU("ldl",this.ah.Rb().ia(q.va),!!y.Gb.Ti,z,B,this.MTb,y,this);};c.prototype.sOb=function(y,z,B){if(this.config.f6a)return new g.yU("getMedia",this.ah.Rb().ia(q.va),!!y.Gb.Ti,z,B,this.C$,y,this);};c.prototype.Bkc=function(y,z){this.oda[y] || (this.oda[y]={Bea:0,Jm:0});y=this.oda[y];y.Bea=(void 0 !== y?void 0 !== y.Bea?y.Bea:0:0) + 1;y.Jm=z;};a=c;a=r.__decorate([(0,d.$)(),r.__param(0,(0,d.l)(f.jb)),r.__param(1,(0,d.l)(m.xc)),r.__param(2,(0,d.l)(h.Oz)),r.__param(3,(0,d.l)(k.Ug)),r.__param(4,(0,d.l)(p.jd)),r.__param(5,(0,d.l)(n.ola)),r.__param(6,(0,d.l)(w.ETa)),r.__param(7,(0,d.l)(w.DTa)),r.__param(8,(0,d.l)(w.CTa)),r.__param(9,(0,d.l)(u.kIa)),r.__param(10,(0,d.l)(t.zia))],a);b.xWa=a;},function(r,b,a){var l,g;function c(m,d,f,h,k,n,p,q){this.type=m;this.Nn=d;this.c$b=void 0 === f?!1:f;this.notify=k;this.NTb=n;this.sR=p;this.Dd=q;this.id=++g;this.status=l.Jk.Nn;}Object.defineProperty(b,"__esModule",{value:!0});b.yU=void 0;l=a(119);g=0;c.prototype.Tv=function(){var m;m={id:this.id,type:this.type,created:this.Nn,status:this.status,movieId:this.L};this.startTime && (m.startTime=this.startTime);this.endTime && this.startTime && (m.duration=this.endTime - this.startTime,m.endTime=this.endTime);return m;};c.prototype.ZQ=function(m){this.notify && this.notify(m);};c.prototype.Zdc=function(){return this.NTb.fetch(this.sR,this.Dd);};Va.Object.defineProperties(c.prototype,{L:{configurable:!0,enumerable:!0,get:function(){return this.sR.L;}},priority:{configurable:!0,enumerable:!0,get:function(){return this.sR.priority;}}});b.yU=c;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z;function c(B,A,C,D,E,G,F,L,O,K,I){this.hu=C;this.B1=D;this.yc=E;this.za=G;this.Ia=F;this.vQ=L;this.m$b=O;this.xk=K;this.cl=I;this.log=B.cb("VideoPreparer");this.config=A();}Object.defineProperty(b,"__esModule",{value:!0});b.nOa=void 0;r=a(0);l=a(1);g=a(7);m=a(12);d=a(119);f=a(56);h=a(57);k=a(49);n=a(163);p=a(203);q=a(31);v=a(5);t=a(27);w=a(18);u=a(206);x=a(220);y=a(115);a=a(69);c.prototype.fetch=function(B,A){var C;C=this;this.log.trace("Fetching LDL",(0,u.tM)(B));this.L=B.L;this.Dd=A;return A.DP(B.L,"ldl").catch(function(){C.log.trace("Requesting a new license",(0,u.tM)(B));return C.xk.gaa(B.L).then(function(D){var E,G;C.ba=D;C.Ra=D.Ra;if(D=C.Dd.bmb(B.L,C.Ra))throw {status:D};D=C.Ra.Rw[0].A0;E=C.Ra.Rw[0].Nsa;G=(D?D:[E]).map(function(F){return C.yc.decode(F.bytes);});C.We=C.JE({Q5a:C.log,kta:function(F){return C.handleError(F);},Ze:void 0,xAa:function(){},za:{getTime:function(){return C.Ia.Rb().ia(v.va);},puc:function(){return C.za.lf.ia(v.Eo);}}});A.olb(B.L,C.We);return C.We.create(C.config.Zn).then(function(){return C.We.ki(h.$i.Kp,G,!0);}).then(function(){return C.We;}).catch(function(F){C.handleError(F);throw F;});}).catch(function(D){C.log.warn("Manifest not available for ldl request",D);if(void 0 !== D.status)throw D;throw {status:d.Jk.bg};});});};c.prototype.handleError=function(B){this.log.warn("ldl is now invalid",B);this.We.close();this.Dd.x2a(this.L);this.Dd.nra(this.L);};c.prototype.JE=function(B){var A,C;A=this;if(!this.hu.rM || !this.hu.pM){C=this.m$b();this.hu.rM=C.kc;this.hu.pM=C.request;}C=new this.hu.pM(B.Q5a,function(D){var E;E=[];D.Yk.forEach(function(G){E.push({sessionId:G.sessionId,dataBase64:A.yc.encode(G.data)});});D={Yk:E,c$:[A.Ra.Hm],Og:f.Co.y3a(D.Og),fh:A.Ra.fh,sa:A.Dd.z9(A.L),Kj:A.ba.Kj,ih:A.ba.Ra.ih};A.log.trace("xid created ",{MovieId:A.L,xid:D.sa});return A.vQ.Kx(D);},void 0,{dg:!1,Yl:!1});return this.hu.rM(B.Q5a,B.Ze,{dg:!1,Yl:!1,Zm:C,C0:this.config.Cib,ea:void 0,cD:this.config.Y5a,onerror:B.kta,xAa:B.xAa,za:B.za,TK:!1,LHb:this.B1.s9([]),Clc:this.B1.y9([]),Dya:this.cl.i8.ia(v.va)});};z=c;z=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.jb)),r.__param(1,(0,l.l)(m.xc)),r.__param(2,(0,l.l)(k.j5)),r.__param(3,(0,l.l)(n.DU)),r.__param(4,(0,l.l)(q.Yi)),r.__param(5,(0,l.l)(t.Hh)),r.__param(6,(0,l.l)(w.jd)),r.__param(7,(0,l.l)(p.XT)),r.__param(8,(0,l.l)(x.Xka)),r.__param(9,(0,l.l)(y.rH)),r.__param(10,(0,l.l)(a.Tu))],z);b.nOa=z;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v;function c(t,w,u,x,y,z){this.yc=u;this.mRb=x;this.IQ=y;this.xk=z;this.log=t.cb("VideoPreparer");}Object.defineProperty(b,"__esModule",{value:!0});b.vOa=void 0;r=a(0);l=a(1);g=a(7);m=a(12);d=a(57);f=a(31);h=a(128);k=a(145);n=a(119);p=a(206);q=a(115);v=a(43);c.prototype.fetch=function(t,w){var u;u=this;this.log.trace("Fetching LDL",(0,p.tM)(t));this.L=t.L;this.Dd=w;return w.DP(t.L,"ldl").then(function(x){return x.Ofa;}).catch(function(){u.log.trace("Requesting a new license",(0,p.tM)(t));return u.xk.gaa(t.L).then(function(x){var y,z,B,A,C,D;u.Ra=x.Ra;if(w.P$a(t.L))return w.DP(t.L,"ldl").then(function(E){return E.Ofa;});y=u.Dd.bmb(t.L,u.Ra);if(y)throw {status:y};z=u.Ra.Rw[0];y=z.A0;B=z.Nsa;z=z.streams[0].IE;A=(0,v.xxa)(z);C=(y?y:[B]).map(function(E){return u.yc.decode(E.bytes);});D=u.mRb().then(function(E){var G;G={type:d.$i.Kp,initData:C,Kba:A,context:{hca:(0,v.nva)(x.Ra.Rw[0].streams)},Rj:{L:t.L,sa:w.z9(t.L),fh:u.Ra.fh,Hm:u.Ra.Hm,Kj:x.Kj,ih:x.Ra.ih}};return E.ki(G,u.IQ());}).catch(function(E){u.handleError("Unable to prepare an EME session.",E);throw E;});u.Dd.olb(t.L,{Ofa:D,source:"videopreparer"},function(){if(!u.Dd.dqb(t.L))try{D.then(function(E){return E.close();}).catch(function(E){u.handleError("Unable to cleanup LDL session, Unable to get the session.",E);});}catch(E){u.handleError("Unable to cleanup LDL session, unexpected exception.",E);}});return D;}).catch(function(x){u.log.warn("Manifest not available for ldl request",x);if(void 0 !== x.status)throw x;throw {status:n.Jk.bg};});});};c.prototype.handleError=function(t,w){this.log.warn(t + " LDL is now invalid.",w);this.Dd.x2a(this.L);this.Dd.nra(this.L);};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.jb)),r.__param(1,(0,l.l)(m.xc)),r.__param(2,(0,l.l)(f.Yi)),r.__param(3,(0,l.l)(h.G3)),r.__param(4,(0,l.l)(k.gU)),r.__param(5,(0,l.l)(q.rH))],a);b.vOa=a;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q;function c(v,t,w,u,x){this.g_=w;this.ah=u;this.xk=x;this.log=v.cb("VideoPreparer");this.config=t();}Object.defineProperty(b,"__esModule",{value:!0});b.zPa=void 0;r=a(0);l=a(12);g=a(1);m=a(7);d=a(18);f=a(5);h=a(138);k=a(101);n=a(206);p=a(115);q=a(57);c.prototype.fetch=function(v,t){var w,u;this.log.trace("Fetching manifest",(0,n.tM)(v));u=v.Gb;this.config.oFb && u && u.ba && !this.xk.Yaa(v.L) && (!(("clientGenesis" in u.ba) && u.ba.clientGenesis) || "number" === typeof u.ba.clientGenesis && Date.now() - u.ba.clientGenesis < this.config.iib) && (u=this.g_.create(u.ba)) && (u.gL=this.ah.Rb().ia(f.va),u.KR=this.ah.Rb().ia(f.va),this.xk.L1(v.L,u));return this.xk.JJ({sa:t.z9(v.L),P:v.L,lb:null !== (w=v.Gb) && void 0 !== w?w:{},hy:k.Lp.JM,Og:q.$i.Kp},!0,function(x){t.events.emit("manifestRemovedFromCache",{target:t,type:"manifestRemovedFromCache",P:v.L,ba:x});});};a=c;a=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(m.jb)),r.__param(1,(0,g.l)(l.xc)),r.__param(2,(0,g.l)(h.BM)),r.__param(3,(0,g.l)(d.jd)),r.__param(4,(0,g.l)(p.rH))],a);b.zPa=a;},function(r,b,a){var g,m,d,f,h,k,n,p,q,v,t,w,u,x,y;function c(){var z;z=this;this.promise=new Promise(function(B,A){z.resolve=B;z.reject=A;});}function l(z,B,A,C,D){var E;E=this;this.UBa=A;this.oac=C;this.xk=D;this.L2=[];this.iG=new Map();this.C8b=function(G){var F,L;G=G.wishListItem.key.P;if(E.iG.has(G)){L=E.iG.get(G);G=L.sR;L=L.zra;null === (F=L.resolve) || void 0 === F?void 0:F.call(L,G);}};this.Uda=function(G){var F,L;F=G.P;L=G.ba;G.target.dqb(G.P) || (E.Fh.has({P:F}) && (E.Fh.It(F).cy=!0),null === L || void 0 === L?void 0:L.then(function(O){var K;K=O.Ra;K && K.Ve && K.wv && K.wv.forEach(function(I){var M;M={Pl:{Ve:K.Ve,Ph:F}};E.Fh.has({P:I.L,Ph:K.L,Ve:K.Ve}) && (E.Fh.It(I.L,M).cy=!0);});}).catch(function(){}),E.Cjb(F),E.Ulb(E.L2));};this.qa=z.cb("VideoPreparer");this.config=B();}Object.defineProperty(b,"__esModule",{value:!0});b.jIa=void 0;r=a(0);g=a(7);a(206);m=a(167);d=a(60);f=a(12);h=a(19);k=a(101);n=a(301);p=a(1);q=a(553);v=a(13);t=a(115);w=a(57);u=a(554);x=a(1329);y=a(119);l.prototype.oa=function(z){var B;B=this;this.Fh=new u.dma(function(A,C){return B.Yx(A,z,m.Fr.Le,C);});};l.prototype.fetch=function(z,B){var A;A=this;if(-1 === B.events.listeners("manifestRemovedFromCache").indexOf(this.Uda))B.events.on("manifestRemovedFromCache",this.Uda);if(-1 === B.events.listeners("playbackClosing").indexOf(this.Uda))B.events.on("playbackClosing",this.Uda);!1;return this.JJ(z.L,B,z.Gb).then(function(C){if("LIVE" === C.Ra.ih)throw {status:y.Jk.X1a};A.Ulb(A.tLb(A.TOb(z,B)));return A.iG.get(z.L).zra.promise;});};l.prototype.getStats=function(){return this.Sy.getStats();};l.prototype.tLb=function(z){return [z].concat(ia(this.L2.filter(function(B){return B.key.P !== z.key.P;}))).slice(0,this.config.mac).map(this.config.nac?function(B,A){return Object.assign({},B,{priority:A});}:function(B){return B;});};l.prototype.t9a=function(z,B,A){var C;C=this;A=void 0 === A?{}:A;return this.JJ(z,B,A).then(function(D){C.INb(D,B);return D.Ra;});};l.prototype.JJ=function(z,B,A){var C;A=void 0 === A?{}:A;return this.xk.JJ({sa:null !== (C=B.Vv(z)) && void 0 !== C?C:B.z9(z),P:z,hy:k.Lp.JM,Og:w.$i.Kp,lb:A});};l.prototype.INb=function(z,B){var A,C,D;A=this;C=z.Ra;null === (D=C.wv) || void 0 === D?void 0:D.forEach(function(E){A.Yx(E.L,B,m.Fr.Le,{Pl:{Ve:C.Ve,Ph:C.L}},E);});};l.prototype.TOb=function(z,B){var A,C,D,E,G,F;D=new c();if(this.iG.has(z.L)){E=this.iG.get(z.L);G=E.sR;if(G.L === z.L && G.je === z.je)F=E.emc.key;this.Sy.getStats().contents.some(function(L){return L.id === z.L;}) && (D=E.zra);}E=m.Fr.Le.Hi((0,h.k9)(z.je));F || (F={P:z.L,config:E});G={P:z.L};this.Fh.has(G) || this.Fh.store(G,this.ROb(z,B,E));B={key:F,$uc:!1,priority:z.priority,J8:d.N.Na(null !== (C=null === (A=z.Gb) || void 0 === A?void 0:A.ca) && void 0 !== C?C:0),Fh:this.Fh};this.iG.set(z.L,{emc:B,sR:z,zra:D});return B;};l.prototype.ROb=function(z,B,A){var C,D,E;C=this;D=z.L;return {get sa() {return B.Vv(D);},cy:!1,events:new v.EventEmitter(),W1a:function(){},get Ju() {E || (E=C.t9a(z.L,B,z.Gb).then(function(G){return {ba:G,Rl:G.Zaa && !G.rF,config:A,OEa:{}};}));return E;},P:D,CFa:!1,equals:function(G){var F;F=B.Vv(D);return G && G.P === D && (!G.sa || !F || F === G.sa);}};};l.prototype.Yx=function(z,B,A,C,D){var E,G,F,L,O,K,I,M;E=this;O=B.Vv(z);if(O || C){K={P:z,Ph:null === (G=null === C || void 0 === C?void 0:C.Pl) || void 0 === G?void 0:G.Ph,Ve:null === (F=null === C || void 0 === C?void 0:C.Pl) || void 0 === F?void 0:F.Ve};if(!this.Fh.has(K)){I=null !== O && void 0 !== O?O:this.Fh.It(null === (L=null === C || void 0 === C?void 0:C.Pl) || void 0 === L?void 0:L.Ph).sa;this.Fh.store(K,{W1a:function(){},equals:function(H){return H && H.P === K.P && (I === H.sa || !H.sa || !I);},get Ju() {M || (M=(D?Promise.resolve(D):E.t9a(z,B)).then(function(H){return {ba:H,Rl:H.Zaa && !H.rF,config:A,OEa:{}};}));return M;},set Ju(H) {M=H;},events:new v.EventEmitter(),sa:I,P:K.P,cy:!1,CFa:!1});}}};l.prototype.zlb=function(z){this.L2=z;};l.prototype.Ulb=function(z){this.zlb(z);this.Sy.Tlb(this.L2);};l.prototype.Cjb=function(z){this.iG.has(z) && (this.zlb(this.L2.filter(function(B){return B.key.P !== z;})),this.iG.delete(z));};Va.Object.defineProperties(l.prototype,{Sy:{configurable:!0,enumerable:!0,get:function(){this.zA || (this.zA=this.oac(),this.zA.wEa(this.UBa).Klb(new x.RNa()).nlb({vF:this.config.lac}),this.zA.events.on("prefetchComplete",this.C8b));return this.zA;}}});a=l;a=r.__decorate([(0,p.$)(),r.__param(0,(0,p.l)(g.jb)),r.__param(1,(0,p.l)(f.xc)),r.__param(2,(0,p.l)(q.mla)),r.__param(3,(0,p.l)(n.lIa)),r.__param(4,(0,p.l)(t.rH))],a);b.jIa=a;},function(r,b){function a(){}Object.defineProperty(b,"__esModule",{value:!0});b.RNa=void 0;a.prototype.e7a=function(c,l){var g;return null !== (g=this.jUb(c,l)) && void 0 !== g?g:this.nUb(c,l);};a.prototype.jUb=function(c,l){var g,m;g=this;m=l.na;return c.find(function(d){var f;return g.I9(m,null === (f=d.na) || void 0 === f?void 0:f.na);});};a.prototype.nUb=function(c,l){var g,m;g=l.na.ie;m=l.na.U[g];return c.find(function(d){var f;d=null === (f=d.na) || void 0 === f?void 0:f.na;d=(f=null === d || void 0 === d?void 0:d.ie) && (null === d || void 0 === d?void 0:d.U[f]) || void 0;return g === f && m.P === (null === d || void 0 === d?void 0:d.P) && m.Ba === (null === d || void 0 === d?void 0:d.Ba);});};a.prototype.I9=function(c,l){var g;g=this;return c === l?!0:"object" !== typeof c || "object" !== typeof l?c === l:Object.keys(c).length === Object.keys(l).length && Object.keys(c).every(function(m){return g.I9(c[m],l[m]);});};b.RNa=a;},function(r,b,a){var l,g,m,d,f,h;function c(k,n,p){var q;q=this;this.ah=n;n=p();this.sh=new h({log:k.cb("CacheManager"),za:{getTime:function(){return q.ah.Rb().ia(d.va);}},Promise:Promise,dg:!1,iJb:n.uac,hJb:n.sac,nTb:n.iib,mTb:n.tac});}Object.defineProperty(b,"__esModule",{value:!0});b.vJa=void 0;r=a(0);l=a(1);g=a(18);m=a(7);d=a(5);f=a(12);h=a(1331);c=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.jb)),r.__param(1,(0,l.l)(g.jd)),r.__param(2,(0,l.l)(f.xc))],c);b.vJa=c;},function(r,b,a){var d;function c(){return Object.create(null);}function l(f){this.log=f.log;this.za=f.za;this.VF=c();this.Promise=f.Promise;this.hB=f.hB;this.mGa=f.mGa;this.dg=f.dg || !1;this.dy=c();this.BE=c();this.II=c();this.qEb(f);f.sq && (this.sq=f.sq);}function g(f){return "undefined" !== typeof f;}function m(f){var n;for(var h=0,k=arguments.length;h < k;){n=arguments[h++];if(g(n))return n;}}a(1332);d=a(1333);l.prototype.qEb=function(f){this.dy.manifest=m(f.nTb,d.dy.ba);this.dy.ldl=m(f.mTb,d.dy.NZ);this.dy.metadata=m(f.Ytc,d.dy.gd);this.BE.manifest=m(f.iJb,d.BE.ba);this.BE.ldl=m(f.hJb,d.BE.NZ);this.BE.metadata=m(f.Msc,d.BE.gd);this.II.manifest=m(f.Ksc,d.II.ba);this.II.ldl=m(f.Jsc,d.II.NZ);this.II.metadata=m(f.Lsc,d.II.gd);};l.prototype.eZ=function(f,h){this.Gv("undefined" !== typeof f);this.Gv("undefined" !== typeof h);return !!this.EXa(f,h,void 0).value;};l.prototype.EXa=function(f,h,k){var n,p;n={value:null,reason:"",log:""};p=this.VF[h];k=k?k:"DEFAULTCAPS";if("undefined" === typeof p)return (n.log="cache miss: no data exists for field:" + h,n.reason="unavailable",n);"undefined" === typeof p[f]?(n.log="cache miss: no data exists for movieId:" + f,n.reason="unavailable"):(p=p[f][k]) && p.value?this.Oba(h,p.creationTime)?(n.log="cache miss: " + h + " data expired for movieId:" + f,n.reason="expired",this.clearData(f,h,k,!1,"expired")):(n.log=this.Promise && p.value instanceof this.Promise?"cache hit: " + h + " request in flight for movieId:" + f:"cache hit: " + h + " available for movieId:" + f,n.value=p.value):(n.log="cache miss: " + h + " data not available for movieId:" + f,n.reason="unavailable");return n;};l.prototype.getData=function(f,h,k){this.Gv("undefined" !== typeof f);this.Gv("undefined" !== typeof h);f=this.EXa(f,h,k);this.log.trace(f.log);return f.value?this.Promise?f.value instanceof this.Promise?f.value:Promise.resolve(f.value):this.mGa?JSON.parse(this.mGa(f.value,"gzip",!1)):f.value:this.Promise?Promise.reject(f.reason):f.reason;};l.prototype.setData=function(f,h,k,n,p){var q,v,t;this.Gv("undefined" !== typeof f);this.Gv("undefined" !== typeof h);q=this.VF;v=p?p:"DEFAULTCAPS";q[h] || (q[h]=c(),Object.defineProperty(q[h],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(q[h],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));k=this.hB?this.hB(JSON.stringify(k),"gzip",!0):k;q=q[h];this.UBb(f,h,v,q);t=this;n={creationTime:this.za.getTime(),value:k,size:0,type:h,ysa:n,lTb:setTimeout(function(){t.clearData(f,h,v,!1,"expired");},this.dy[h] + 1)};q[f]=q[f] || c();q[f][v]=q[f][v] || c();q[f][v]=n;q.size+=0;q.numEntries++;this.sq && this.sq.emit("addedCacheItem",n);return n;};l.prototype.UBb=function(f,h,k,n){var p,q,v,t,w,u,x,y,z;p=this;q=n.numEntries;v=this.BE[h];t=n[f] && n[f][k];if(t && t.value)(w=f,u="promise_or_expired");else if(q >= v){y=Number.POSITIVE_INFINITY;Object.keys(n).every(function(B){var A;A=n[B] && n[B][k];A && A.value && p.Oba(h,A.creationTime) && (z=B);A && A.value && A.creationTime < y && (y=A.creationTime,x=B);return !0;});w=z || x;u="cache_full";}this.dg && this.log.debug("makespace ",{maxCount:v,currentCount:n.numEntries,field:h,movieId:f,movieToBeRemoved:w});w && (p.clearData(w,h,k,void 0,u),this.log.debug("removed from cache: ",w,h));};l.prototype.gra=function(f,h){var k,n;k=this;k.Gv("undefined" !== typeof f);n=f + "";h.forEach(function(p){var q;q=k.VF[p];q && Object.keys(q).forEach(function(v){v != n && k.clearData(v,p,void 0,void 0,"clear_all");});});};l.prototype.clearData=function(f,h,k,n,p){var q;this.Gv("undefined" !== typeof f);this.Gv("undefined" !== typeof h);q=this.VF[h];h=q?q[f]:void 0;k=k?k:"DEFAULTCAPS";if(h && h[k]){q.size-=h[k].size;q.numEntries--;if(q=h && h[k])(clearTimeout(q.lTb),h[k]=void 0,!n && q.ysa && q.ysa());this.sq && (f={creationTime:q.creationTime,destroyFn:q.ysa,size:q.size,type:q.type,value:q.value,reason:p,movieId:f},this.sq.emit("deletedCacheItem",f));}};l.prototype.flush=function(f){var h;this.Gv("undefined" !== typeof f);h=this.VF;h[f]=c();h[f].numEntries=0;h[f].size=0;};l.prototype.w2a=function(){var f,h;this.Gv(!1);f=this;h=this.VF;h[void 0] instanceof Object && Object.keys(h[void 0]).forEach(function(k){var n;n=h[void 0][k].DEFAULTCAPS;f.za.getTime() - n.creationTime > f.dy[void 0] && f.clearData(k,void 0,"DEFAULTCAPS",void 0,"clean_up");});};l.prototype.Oba=function(f,h){return this.za.getTime() - h > this.dy[f];};l.prototype.getStats=function(f,h,k){var n,p,q,v,t;n={};p=this;q=p.VF;v=g(f) && g(h);t=k || "DEFAULTCAPS";Object.keys(q).forEach(function(w){var u,x;u=Object.keys(q[w]);x=q[w];u.forEach(function(y){!(y=x && x[y] && x[y][t]) || !g(y.value) || y.value instanceof p.Promise || (n[w]=(n[w] | 0) + 1,p.Oba(y.type,y.creationTime) && (n[w + "_expired"]=(n[w + "_expired"] | 0) + 1),v && y.creationTime >= f && y.creationTime < h && (n[w + "_delta"]=(n[w + "_delta"] | 0) + 1));});});return n;};l.prototype.getState=function(f){var h,k,n,p;h=[];k=this;n=k.VF;p=f || "DEFAULTCAPS";Object.keys(n).forEach(function(q){var v,t;v=Object.keys(n[q]);t=n[q];v.forEach(function(w){var u,x;u=t && t[w] && t[w][p];if(u && g(u.value)){x=k.Oba(u.type,u.creationTime)?"expired":u.value instanceof k.Promise?"loading":"cached";h.push({movieId:w,state:x,type:q,size:u.size});}});});return h;};l.prototype.Gv=function(f){if(!f && (this.log.error("Debug Assert Failed",void 0),this.dg))throw Error("Debug Assert Failed ");};r.exports=l;},function(r){function b(a){var c;c=[];return (function m(g){if(g && "object" === typeof g){if(-1 !== c.indexOf(g))return !0;c.push(g);for(var d in g){if(g.hasOwnProperty(d) && m(g[d]))return !0;}}return !1;})(a);}r.exports=function(a,c){var g;if(c && b(a))return -1;c=[];a=[a];for(var l=0;a.length;){g=a.pop();if("boolean" === typeof g)l+=4;else if("string" === typeof g)l+=2 * g.length;else if("number" === typeof g)l+=8;else if("object" === typeof g && -1 === c.indexOf(g)){c.push(g);for(var m in g){a.push(g[m]);}}}return l;};},function(r){r.exports={dy:{ba:12E5,NZ:9E5,gd:12E5},BE:{ba:10,NZ:10,gd:10},II:{ba:10240,NZ:10240,gd:10240}};},function(r,b,a){var c,l,g,m,d,f,h,k,n;Object.defineProperty(b,"__esModule",{value:!0});b.qb=void 0;r=a(1);c=a(207);l=a(1335);g=a(555);m=a(1336);d=a(556);f=a(1337);h=a(1338);k=a(557);n=a(1339);b.qb=new r.Ed(function(p){p(c.Via).to(l.OKa).la();p(g.QPa).to(m.PPa).la();p(d.XQa).to(f.WQa).la();p(d.$Pa).to(h.ZPa).la();p(k.YPa).to(n.XPa).la();});},function(r,b,a){var l,g,m,d;function c(f){function h(k,n){this.K=k;this.un=n;this.z$=!1;this.emit=d.prototype.emit;this.addListener=d.prototype.addListener;this.on=d.prototype.on;this.once=d.prototype.once;this.removeListener=d.prototype.removeListener;this.removeAllListeners=d.prototype.removeAllListeners;this.listeners=d.prototype.listeners;this.listenerCount=d.prototype.listenerCount;d.call(this);this.Eg=f.cb("DownloadTrack");}h.prototype.Bt=function(){!1;this.$V=void 0;this.emit("destroyed");};h.prototype.toString=function(){return "id:" + this.$V + " config: " + JSON.stringify(this.K);};h.prototype.toJSON=function(){return "Download Track id:" + this.$V + " config: " + JSON.stringify(this.K);};h.prototype.oQ=function(){return void 0 === this.$V?!1:!0;};h.prototype.L0=function(k){this.K.connections !== k.connections && (this.K=k);};h.prototype.ew=function(){return 1 < this.K.connections?!0:!1;};Va.Object.defineProperties(h.prototype,{trackId:{configurable:!0,enumerable:!0,get:function(){return this.$V;}},Nn:{configurable:!0,enumerable:!0,get:function(){return void 0 === this.$V;}},config:{configurable:!0,enumerable:!0,get:function(){return this.K;}},pea:{configurable:!0,enumerable:!0,get:function(){return this.Eg;}},wK:{configurable:!0,enumerable:!0,get:function(){return this.un.wK;}}});this.nM=Object.assign(h,new m.PKa());}Object.defineProperty(b,"__esModule",{value:!0});b.OKa=void 0;r=a(0);l=a(1);g=a(7);m=a(207);d=a(105).EventEmitter;c=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.jb))],c);b.OKa=c;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q;function c(v,t,w,u,x,y){this.rO=v;this.Bf=w;this.Ib=u;this.Ia=x;this.config=y;this.log=t.cb("MediaHttp");}Object.defineProperty(b,"__esModule",{value:!0});b.PPa=void 0;r=a(0);l=a(208);g=a(100);m=a(4);d=a(7);f=a(1);h=a(65);k=a(25);n=a(18);p=a(5);a=a(12);c.prototype.gF=function(){return this.Ia.Rb().ia(p.va);};c.prototype.agb=function(v,t){v.l7b({mediaRequest:v,timestamp:t});};c.prototype.vgb=function(v){var t,w;w=v.mediaRequest.hC;w.readyState=l.Fc.cd.aA;w.Zfb(Object.assign(Object.assign({},v),{timestamp:v.connect?v.timestamp:this.gF(),connect:null !== (t=v.connect) && void 0 !== t?t:!1,mediaRequest:w,readyState:w.readyState}));};c.prototype.S_=function(v){this.agb(v.mediaRequest.hC,v.timestamp);};c.prototype.T_=function(v){var t,w;t=v.mediaRequest.hC;w=v.bytes;"undefined" === typeof t?!1:(t.readyState === l.Fc.cd.bA && this.vgb(v),this.Ib.Ol(w) && (v.mediaRequest=t,v.timestamp=this.gF(),w > t.bytesReceived && (v.newBytes=w - t.bytesReceived,v.bytesLoaded=w,t.p7b(v))));};c.prototype.fs=function(v){var t,w,u,x;t=v.mediaRequest;w=v.errorcode;u=v.httpcode;x=l.Fc.J3;if("undefined" === typeof t)!1;else if((t=t.hC,"undefined" === typeof t))!1;else if(t.readyState !== l.Fc.cd.sM)if(w === m.Y.rD)(t.readyState=l.Fc.cd.cT,v.mediaRequest=t,v.readyState=t.readyState,t.i7b(v));else {t.readyState=l.Fc.cd.sM;switch(w){case m.Y.RT:u=x.oJa;break;case m.Y.vja:u=x.sja;break;case m.Y.OT:u=400 < u && 500 > u?x.G4:500 <= u?x.uja:x.sja;break;case m.Y.PT:u=x.tja;break;case m.Y.NT:u=x.pJa;break;case m.Y.QT:u=x.H4;break;case m.Y.iH:u=x.H4;break;case m.Y.OMa:u=x.NMa;break;case m.Y.KMa:u=x.G4;break;case m.Y.Ftb:u=x.tja;break;default:u=x.H4;}v.mediaRequest=t;v.readyState=t.readyState;v.errorcode=u;v.nativecode=w;t.yAa(v);}};c.prototype.P_=function(v,t){var w,u;w=t.request.hC;if(w)if(t.ja){if((!1,v.j && w.readyState !== l.Fc.cd.DONE)){switch(w.readyState){case l.Fc.cd.cT:!1;return;case l.Fc.cd.sM:!1;break;case l.Fc.cd.aA:break;case l.Fc.cd.bA:this.vgb({mediaRequest:t.request,responseHeaders:t.headers});break;default:!1;}w.readyState=l.Fc.cd.DONE;if(!w.Hc){u={mediaRequest:w,readyState:w.readyState,timestamp:this.gF(),cadmiumResponse:t};v.j.XFa+=1;w.yZb();w.q2b() && (v.j.vDa+=1,t.Qm.qj=Math.ceil(w.bua),t.Qm.Qq=Math.ceil(w.TI),t.Qm.ws=Math.floor(w.LF));w.j9=u;w.ZQ(u);}}}else (!1,w.readyState === l.Fc.cd.cT?!1:this.fs({mediaRequest:t.request,errorcode:t.Ca,httpcode:t.Vl,cadmiumResponse:t}));};c.prototype.download=function(v,t){var w,u;w=this;t=this.Bf.download(v,t);if(v.hC){u=v.hC;-1 < [l.Fc.cd.OPENED,l.Fc.cd.sM].indexOf(u.readyState) && (u.readyState=l.Fc.cd.bA,this.config().Mza?t.Afc(function(x){w.S_(x);}):this.agb(u,this.gF()));}t.T7(function(x){w.P_(v,x);});t.Hfc(function(x){w.T_(x);});return t;};q=c;q=r.__decorate([(0,f.$)(),r.__param(0,(0,f.l)(g.hT)),r.__param(1,(0,f.l)(d.jb)),r.__param(2,(0,f.l)(h.cx)),r.__param(3,(0,f.l)(k.Ug)),r.__param(4,(0,f.l)(n.jd)),r.__param(5,(0,f.l)(a.xc))],q);b.PPa=q;},function(r,b,a){var l,g,m;function c(d,f){this.Bf=f;this.log=d.cb("OpenConnectSideChannel");}Object.defineProperty(b,"__esModule",{value:!0});b.WQa=void 0;r=a(0);l=a(1);g=a(7);a=a(65);c.prototype.qY=function(d,f,h){d={url:d.url,vec:h};!1;this.Bf.Agc(d);};c.prototype.iO=function(d){try{d.Qwa();}catch(f){this.log.warn("exception aborting request");}};m=c;m=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.jb)),r.__param(1,(0,l.l)(a.cx))],m);b.WQa=m;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v;function c(t,w,u,x,y,z){this.Ia=t;this.Qv=w;this.config=u;this.Bf=y;this.K5b=z;this.log=x.cb("MediaRequestDownloader");}Object.defineProperty(b,"__esModule",{value:!0});b.ZPa=void 0;r=a(0);l=a(1);g=a(7);m=a(65);d=a(555);f=a(93);h=a(208);k=a(18);n=a(5);p=a(39);q=a(12);v=a(48);c.prototype.qY=function(t,w,u){var y,z,B;function x(){t.removeEventListener(h.Fc.df.xH,x);t.dY?t.dY++:t.dY=1;t.dY >= y.config().Ita.length && (t.dY=y.config().Ita.length - 1);setTimeout(function(){y.qY(t,w,u);},y.config().Ita[t.dY]);}y=this;t.avc=!0;z=0 === w.start && -1 === w.end;z={url:t.url,responseType:this.Bf.t5.CIa,withCredentials:!1,PE:t.mediaType === v.u.T?"audio":"video",offset:z?void 0:w.start,length:z?void 0:t.Rg,track:{type:t.mediaType === v.u.T?f.xj.audio:f.xj.video},stream:{Tb:t.Sa,bitrate:t.bitrate},Cc:t.$c,hC:t,$fa:u,Gu:this.Qv.Gu,uu:t.uu};B=this.gF();z=this.K5b.download(z,function(A){A.ja && t.readyState !== h.Fc.cd.DONE && (t.readyState === h.Fc.cd.cT?!1:(t.readyState === h.Fc.cd.sM?!1:t.readyState === h.Fc.cd.bA?(t.readyState=h.Fc.cd.aA,t.Zfb({mediaRequest:t,readyState:t.readyState,timestamp:t.Hc?B:y.gF(),connect:!1,responseHeaders:A.headers})):t.readyState !== h.Fc.cd.bA && t.readyState !== h.Fc.cd.aA && !1,t.readyState=h.Fc.cd.DONE,A={mediaRequest:t,readyState:t.readyState,timestamp:y.gF(),cadmiumResponse:A,response:A.content},t.j9=A,t.ZQ(A)));});t.addEventListener(h.Fc.df.xH,x);t.Qwa=z.abort;};c.prototype.iO=function(t){try{t.Qwa();}catch(w){this.log.warn("exception aborting request");}};c.prototype.gF=function(){return this.Ia.Rb().ia(n.va);};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(k.jd)),r.__param(1,(0,l.l)(p.Jp)),r.__param(2,(0,l.l)(q.xc)),r.__param(3,(0,l.l)(g.jb)),r.__param(4,(0,l.l)(m.cx)),r.__param(5,(0,l.l)(d.QPa))],a);b.ZPa=a;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q;function c(v,t,w,u,x,y){function z(A,C){this.track=A;this.label=C;this.Fi=n.Fc.cd.UNSENT;this.bytesReceived=0;this.jL=[];this.requestId=y.nB().toString();this.Ib=w;this.log=t.cb("MediaRequest");this.config=v;this.Pb=new k.Gk();"notification" === this.label?this.config().VE && (this.wK=u):this.wK=x;!1;}function B(A,C){this.requestId=y.nB().toString();this.Ib=w;this.log=t.cb("MediaRequest");this.config=v;this.Pb=new k.Gk();this.label=C;"notification" === this.label?this.config().VE && (this.wK=u):this.wK=x;this.sZ=this.AO=this.CO=void 0;this.track=A;this.BO=this.url=this.responseType=void 0;this.Fi=n.Fc.cd.UNSENT;this.Nj=this.wP=this.Ah=this.status=void 0;this.ju=this.bytesReceived=0;this.connect=this.bua=this.TI=this.LF=this.oya=this.tg=this.aua=this.loadTime=this.XN=void 0;this.jL=[];this.Nn=!1;!1;}z.prototype.addEventListener=function(A,C,D){this.Pb.addListener.call(this,A,C,D);};z.prototype.removeEventListener=function(A,C){this.Pb.removeListener.call(this,A,C);};z.prototype.emit=function(A,C,D){this.Pb.Zc.call(this,A,C,D);};z.prototype.l7b=function(A){this.Fi === n.Fc.cd.OPENED && (this.sZ=!0,this.loadTime=this.tg=A.timestamp,!1,this.Fi=n.Fc.cd.bA,this.emit(n.Fc.df.NQa,A));};z.prototype.Zfb=function(A){var C;!this.okb && A.responseHeaders && (this.okb=A.responseHeaders);if(this.Fi < n.Fc.cd.aA){this.jL=[];C=A.timestamp - this.loadTime;!this.Hc && 0 < C && (this.connect=!0,this.jL.push(C));!0 === this.config().w0b?this.aua=A.timestamp:this.aua=this.tg=A.timestamp;!1;this.Fi=n.Fc.cd.aA;this.emit(n.Fc.df.MQa,A);}};z.prototype.p7b=function(A){this.Fi === n.Fc.cd.aA && (!1,this.oya=this.tg=A.timestamp,A.newBytes=A.bytesLoaded - this.bytesReceived,this.bytesReceived=A.bytesLoaded,this.Ib.wh(this.oya) && this.emit(n.Fc.df.OQa,A));};z.prototype.ZQ=function(A){var C;if(-1 < [n.Fc.cd.bA,n.Fc.cd.aA].indexOf(this.Fi)){this.sZ=!1;!1;this.tg=A.timestamp;this.Fi=n.Fc.cd.DONE;C=this.bytesReceived;this.bytesReceived=A.cadmiumResponse.Qm.iX;(0,q.ya)(this.bytesReceived === this.Rg,"bytesReceived do not match expected totalBytes.");A.newBytes=this.Rg - C;this.Ib.wh(this.TI) && (this.tg=this.TI,0 === A.newBytes && (this.oya=this.TI));this.Ib.wh(this.LF) && (this.loadTime=this.LF);this.XN=A.response;this.emit(n.Fc.df.qU,A);this.track.emit("mediaRequestComplete",{type:"mediaRequestComplete",jdc:A});}};z.prototype.i7b=function(A){this.sZ=!1;!1;this.emit(n.Fc.df.Lwb,A);};z.prototype.yAa=function(A){this.tg=A.timestamp;this.status=A.httpcode;this.Ah=A.errorcode;this.wP=n.Fc.J3.name[this.Ah];this.Nj=A.nativecode;!1;this.track.emit("transportreport",{type:"transportreport",ZSb:A});this.emit(n.Fc.df.xH,A);this.sZ=!1;};z.prototype.open=function(A,C,D,E,G,F,L,O){this.jz=!1;this.BO=C;this.uu=O;this.url=A;this.responseType=D;!1;if(!this.url)return (!1,!1);this.Fi=n.Fc.cd.OPENED;this.wK.qY(this,C,L);return !0;};z.prototype.ud=function(){!1;-1 !== [n.Fc.cd.OPENED,n.Fc.cd.bA,n.Fc.cd.aA].indexOf(this.Fi) && this.abort();return !0;};z.prototype.SKb=function(){this.XN=void 0;this.j9 && (this.j9.response=void 0,this.j9.cadmiumResponse.content=void 0);this.Qwa=void 0;};z.prototype.xga=function(A){!1;this.url=A;return !0;};z.prototype.abort=function(){this.Fi=n.Fc.cd.cT;this.wK.iO(this);return !0;};z.prototype.pause=function(){};z.prototype.getResponseHeader=function(A){var C,D;return null !== (D=null === (C=this.okb) || void 0 === C?void 0:C[A.toLowerCase()]) && void 0 !== D?D:null;};z.prototype.getAllResponseHeaders=function(){return "";};z.prototype.FR=function(){};z.prototype.Mi=function(){return this.requestId;};z.prototype.toString=function(){var A;A={requestId:this.Mi(),segmentId:this.S,isHeader:this.Hc,ptsStart:this.AC,ptsOffset:this.Dw,responseType:this.responseType,duration:this.Qn,readystate:this.Fi};this.stream && (A.bitrate=this.stream.bitrate);return JSON.stringify(A);};z.prototype.toJSON=function(){return this.toString();};z.prototype.yZb=function(){var A,C;if(this.config().Dpb && d.gx && d.gx.getEntriesByType && (!this.Ib.wh(this.LF) || !this.Ib.wh(this.TI) && this.Ib.wh(this.url))){A="" + this.url.split("nflxvideo.net")[0].split("//").pop() + ("*nflxvideo.net/range/" + this.CO + "-" + this.AO + "*");C=new RegExp(A);A=d.gx.getEntriesByType("resource").filter(function(D){return C.exec(D.name);})[0];this.Ib.wh(A) && (0 < A.startTime && (this.LF=A.startTime,0 < A.requestStart && (this.LF=Math.max(this.LF,A.requestStart))),0 < A.responseStart && (this.bua=A.responseStart),0 < A.responseEnd && (this.TI=A.responseEnd));}};z.prototype.q2b=function(){return this.Ib.wh(this.LF) && this.Ib.wh(this.TI) && this.Ib.wh(this.bua);};Va.Object.defineProperties(z.prototype,{Rg:{configurable:!0,enumerable:!0,get:function(){return 0 === this.BO.start && -1 === this.BO.end?Number(this.getResponseHeader("content-length")) || this.bytesReceived:this.BO.end - this.BO.start + 1;}},byteLength:{configurable:!0,enumerable:!0,get:function(){return this.AO - this.CO + 1;}},T$a:{configurable:!0,enumerable:!0,get:function(){return !!(this.response && 0 < this.response.byteLength);}},Hc:{configurable:!0,enumerable:!0,get:function(){return !this.CF;}},response:{configurable:!0,enumerable:!0,get:function(){return this.XN;}},readyState:{configurable:!0,enumerable:!0,get:function(){return this.Fi;},set:function(){}}});Object.getOwnPropertyNames(z.prototype).forEach(function(A){var C;C=Object.getOwnPropertyDescriptor(z.prototype,A);Object.defineProperty(B.prototype,A,C);});this.dr=Object.assign(B,n.Fc);}Object.defineProperty(b,"__esModule",{value:!0});b.XPa=void 0;r=a(0);l=a(1);g=a(7);m=a(12);d=a(14);f=a(25);h=a(556);k=a(70);n=a(208);p=a(86);q=a(22);c=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.xc)),r.__param(1,(0,l.l)(g.jb)),r.__param(2,(0,l.l)(f.Ug)),r.__param(3,(0,l.l)(h.XQa)),r.__param(4,(0,l.l)(h.$Pa)),r.__param(5,(0,l.l)(p.Oz))],c);b.XPa=c;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.tfb=void 0;r=a(1);c=a(364);l=a(1341);b.tfb=new r.Ed(function(g){g(c.qka).to(l.oQa).la();});},function(r,b,a){var l,g,m,d,f;function c(h){return g.If.call(this,h,"MseConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.oQa=void 0;r=a(0);l=a(45);g=a(46);m=a(1);d=a(33);f=a(5);ka(c,g.If);Va.Object.defineProperties(c.prototype,{gfb:{configurable:!0,enumerable:!0,get:function(){return (0,f.$b)(5E3);}},Jgb:{configurable:!0,enumerable:!0,get:function(){return (0,f.$b)(1E3);}},Kgb:{configurable:!0,enumerable:!0,get:function(){return (0,f.$b)(1E3);}}});a=c;r.__decorate([l.config(l.am,"minDecoderBufferMilliseconds")],a.prototype,"gfb",null);r.__decorate([l.config(l.am,"optimalDecoderBufferMilliseconds")],a.prototype,"Jgb",null);r.__decorate([l.config(l.am,"optimalDecoderBufferMillisecondsBranching")],a.prototype,"Kgb",null);a=r.__decorate([(0,m.$)(),r.__param(0,(0,m.l)(d.rn))],a);b.oQa=a;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p;Object.defineProperty(b,"__esModule",{value:!0});b.shb=void 0;r=a(1);c=a(558);l=a(1343);g=a(84);m=a(1345);d=a(561);f=a(1346);h=a(510);k=a(1347);n=a(302);p=a(1348);b.shb=new r.Ed(function(q){q(g.Zz).to(m.FRa).la();q(c.HRa).to(l.GRa).la();q(h.RRa).to(k.QRa);q(h.PRa).bf(function(v){return function(){return v.yb.get(h.RRa);};});q(d.mSa).to(f.lSa).la();q(n.Rka).to(p.iSa).la();});},function(r,b,a){var m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A;function c(C){this.config=C;this.eB=[];}function l(C,D,E){this.Ia=C;this.JS=D;this.context=E;this.startTime=this.Ia.Rb();}function g(C,D,E,G,F,L,O,K,I,M){this.sob=D;this.json=E;this.Ia=G;this.Qv=F;this.DCa=L;this.Jc=O;this.config=K;this.Pb=I;this.receiver=M;this.log=C.cb("Pbo");K.tjb && (this.eB=new c(K));this.JS=this.sob();}Object.defineProperty(b,"__esModule",{value:!0});b.GRa=void 0;r=a(0);m=a(1);d=a(5);f=a(559);h=a(7);k=a(37);n=a(18);p=a(39);q=a(147);v=a(47);t=a(560);w=a(84);u=a(112);x=a(16);y=a(66);z=a(1344);a=a(302);B={"shakti-":"akira"};g.prototype.send=function(C,D){var E;E=new l(this.Ia,this.JS,C);this.eB && this.eB.append(E);return this.iEa(C,D,E);};g.prototype.iEa=function(C,D,E){var G;G=this;return new Promise(function(F,L){G.retry(C,D).then(function(O){var K,I;G.Wec(O);K=oa(G.rlc(O));I=K.next().value;K=K.next().value;I && (G.receiver.zCa({command:C.Vo,inputs:D,outputs:I}),G.kLb(E),F(O));K && (G.receiver.zCa({command:C.Vo,inputs:D,outputs:K}),G.M2a(E,K),L(K));}).catch(function(O){var K;G.receiver.zCa({command:C.Vo,inputs:D,outputs:O});K=G.M2a(E,O);O.Ub && (O.Ub=[O.Ub," ",K].join(""));L(O);});});};g.prototype.Wec=function(C){(C=C.serverTime) && this.Pb.Zc(x.Eja.glb,(0,d.$b)(C));};g.prototype.rlc=function(C){var D;!1;D=C.result;if(("deviceCommand" in C)){C=C.deviceCommand;this.log.trace("Received device command '" + C + "'");switch(C){case "reset":D="RESET_DEVICE";break;case "reload":D="RELOAD_DEVICE";break;case "exit":D="EXIT_DEVICE";break;default:(D="FAIL",this.log.error("Unhandled device command '" + C + "'"));}return [,{bG:!0,code:D,detail:{message:"Server sent device action to '" + C + "' device"}}];}if(D)return (!1,[D,void 0]);if(C.code)return (this.log.error("Response did not contain a result or an error but did contain an error code",C),[,{code:C.code,detail:{message:C.message}}]);this.log.error("Response did not contain a result or an error",C);return [,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};g.prototype.GHb=function(C,D,E){var G;G=this;this.Kkc(D,C);this.JS=this.sob(E);return this.JS.send(D,E).then(function(F){return {retry:!1,result:z.g5.H9b(G.json,F.body)};}).catch(function(F){var L,O;L=z.g5.NXb(F);O=void 0 !== L?Math.min(L,D.yDa):D.yDa;return G.Xfa(D,F,C,O)?(L=G.CJb(F,C,O),G.log.warn("Method failed, retrying",Object.assign({Method:D.Vo,Attempt:C + 1,WaitTime:L,MaxRetries:O},G.msa(F))),Promise.resolve({retry:!0,delay:L,error:F})):Promise.resolve({retry:!1,error:F});});};g.prototype.GVb=function(C){var D,E;if(!this.Moa || this.Moa.d9b !== C){D="";E=C;Object.entries(B).find(function(G){var F;F=oa(G);G=F.next().value;F=F.next().value;if(0 === C.indexOf(G))return (D=F,C=C.slice(G.length),!0);});this.Moa={H2a:D,oz:C,d9b:E};}return this.Moa;};g.prototype.Kkc=function(C,D){var E,G,F,L;L=C.url.searchParams;L.set(y.DD.fUa,(D + 1).toString());this.config.xpb.includes(C.ql)?C.headers[y.eyb.yla]=C.ql:L.set(y.DD.yla,C.ql);C=this.GVb(null !== (E=this.config.oz) && void 0 !== E?E:"");C.H2a && (L.set(y.DD.JJa,C.H2a),C.oz && L.set(y.DD.eWa,encodeURIComponent(C.oz)),E=this.Qv.we,(null === E || void 0 === E?0:E.name) && L.set(y.DD.YIa,encodeURIComponent(E.name)),(null === E || void 0 === E?0:E.version) && L.set(y.DD.ZIa,encodeURIComponent(E.version)),(null === (G=null === E || void 0 === E?void 0:E.os) || void 0 === G?0:G.name) && L.set(y.DD.RQa,encodeURIComponent(E.os.name)),(null === (F=null === E || void 0 === E?void 0:E.os) || void 0 === F?0:F.version) && L.set(y.DD.SQa,encodeURIComponent(E.os.version)));};g.prototype.retry=function(C,D,E){var G;G=this;E=void 0 === E?0:E;return this.GHb(E++,C,D).then(function(F){if(F.retry)return G.wait(F.delay).then(function(){return G.retry(C,D,E);});if(F.error)throw F.error;if(void 0 === F.result)throw {pboc:!1,code:"FAIL",detail:{message:"The response was undefined"}};return F.result;});};g.prototype.Xfa=function(C,D,E,G){var F;F=z.g5.r2b(D);if(F && E < G)return !0;F?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:C.Vo,Attempt:E + 1,MaxRetries:G},this.msa(D))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:C.Vo},this.msa(D)));return !1;};g.prototype.CJb=function(C,D,E){if(C && C.uG && void 0 !== C.uG.retryAfterSeconds)return (0,d.Ui)(C.uG.retryAfterSeconds);C=1E3 * (0 === D?1:D);D=1E3 * Math.pow(2,Math.min(D,E));return (0,d.$b)(this.DCa.Sib(C,D));};g.prototype.wait=function(C){var D;D=this;return new Promise(function(E){D.Jc.wl(C || d.Oa,E);});};g.prototype.msa=function(C){return (0,t.Pbb)(C)?C:{message:C.message,subCode:C.wc,extCode:C.vd,mslCode:C.kC,data:C.data};};g.prototype.kLb=function(C){C.tS();};g.prototype.M2a=function(C,D){var E;C.Mv(D);if(this.eB)try{E=this.json.stringify(this.eB);this.log.error("PBO command history",E);return E;}catch(G){}return "";};A=g;A=r.__decorate([(0,m.$)(),r.__param(0,(0,m.l)(h.jb)),r.__param(1,(0,m.l)(f.UVa)),r.__param(2,(0,m.l)(k.lH)),r.__param(3,(0,m.l)(n.jd)),r.__param(4,(0,m.l)(p.Jp)),r.__param(5,(0,m.l)(q.u5)),r.__param(6,(0,m.l)(v.Zj)),r.__param(7,(0,m.l)(w.Zz)),r.__param(8,(0,m.l)(u.ija)),r.__param(9,(0,m.l)(a.Rka))],A);b.GRa=A;l.prototype.tS=function(){this.ja=!0;this.elapsedTime=this.Ia.Rb().Ga(this.startTime);};l.prototype.Mv=function(C){this.ja=!1;this.elapsedTime=this.Ia.Rb().Ga(this.startTime);this.Jhc=C.wc || C.subCode;this.rTb=C.vd || C.extCode;};l.prototype.toString=function(){return JSON.stringify(this);};l.prototype.toJSON=function(){var C;C=Object.assign({success:this.ja,method:this.context.Vo,startTime:this.startTime.ia(d.va),elapsedTime:this.elapsedTime?this.elapsedTime.ia(d.va):"in progress"},this.JS.Ira());return this.ja?C:Object.assign(Object.assign(Object.assign({},C),this.JS.Ira()),{subcode:this.Jhc,extcode:this.rTb});};c.prototype.append=function(C){this.eB.push(C);0 < this.config.Kwa && this.eB.length > this.config.Kwa && this.eB.shift();};c.prototype.toJSON=function(){return this.eB;};},function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.g5=void 0;l=a(4);c.r2b=function(g){var m,d;m=g && g.code;d=g && (g.Ca || g.wc);g=g.vd !== l.J4.vRa;d=!!d && d >= l.Y.RT && d <= l.Y.PT && g;return !("RETRY" !== m && "FAIL" !== m) || d;};c.NXb=function(g){var m,d;d=null === (m=null === g || void 0 === g?void 0:g.uG) || void 0 === m?void 0:m.maxRetries;return "number" === typeof d?d:"FAIL" === (null === g || void 0 === g?void 0:g.code)?1:void 0;};c.H9b=function(g,m){var d;if(m){try{d=g.parse(m);}catch(f){throw {bG:!0,code:"FAIL",message:"Unable to parse the response body",data:m};}if(d.error)throw d.error;if(d.result){if(Array.isArray(d.result) && (g=d.result.find(function(f){return f.error;})))throw g.error;return d;}throw {bG:!0,code:"FAIL",message:"There is no result property on the response"};}throw {bG:!0,code:"FAIL",message:"There is no body property on the response"};};b.g5=c;},function(r,b,a){var l,g,m,d,f,h,k;function c(n,p,q,v){n=g.If.call(this,n,"PboConfigImpl") || this;n.config=p;n.UGb=q;n.bh=v;return n;}Object.defineProperty(b,"__esModule",{value:!0});b.FRa=void 0;r=a(0);l=a(1);g=a(46);m=a(33);d=a(45);f=a(12);h=a(175);a=a(110);ka(c,g.If);Va.Object.defineProperties(c.prototype,{oz:{configurable:!0,enumerable:!0,get:function(){return this.config().Mr.oz || "";}},Tga:{configurable:!0,enumerable:!0,get:function(){return this.config().Mr.Tga || "";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},organization:{configurable:!0,enumerable:!0,get:function(){return "cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().Mr.aCa;}},Nbb:{configurable:!0,enumerable:!0,get:function(){return !1;}},hlb:{configurable:!0,enumerable:!0,get:function(){return Object.assign({logblob:{service:"logblob",isPlayApiDirect:!0,version:"1"},manifest:{service:"manifest",isPlayApiDirect:!0,version:"1"},licensedmanifest:{service:"licensedmanifest",isPlayApiDirect:!0,version:"1"},license:{service:"pbo_licenses",version:"^1.0.0"},events:{service:"event",isPlayApiDirect:!0,version:"1"},bind:{service:this.UGb.g1a,version:"^1.0.0"},ping:{service:"pbo_events",version:"^1.0.0"},config:{service:"pbo_config",version:"^1.0.0"}},this.ilb);}},ilb:{configurable:!0,enumerable:!0,get:function(){return {};}},tjb:{configurable:!0,enumerable:!0,get:function(){return !1;}},Kwa:{configurable:!0,enumerable:!0,get:function(){return 10;}},P_a:{configurable:!0,enumerable:!0,get:function(){return !1;}},Wx:{configurable:!0,enumerable:!0,get:function(){return this.bh.Wx;}},UE:{configurable:!0,enumerable:!0,get:function(){return this.bh.UE;}},$L:{configurable:!0,enumerable:!0,get:function(){return this.bh.$L;}},Fpb:{configurable:!0,enumerable:!0,get:function(){return !1;}},c6a:{configurable:!0,enumerable:!0,get:function(){return !0;}},xpb:{configurable:!0,enumerable:!0,get:function(){return [];}},l6a:{configurable:!0,enumerable:!0,get:function(){return !0;}},jP:{configurable:!0,enumerable:!0,get:function(){return this.bh.jP;}},WI:{configurable:!0,enumerable:!0,get:function(){return this.bh.WI;}}});k=c;r.__decorate([d.config(d.string,"uiVersion")],k.prototype,"oz",null);r.__decorate([d.config(d.string,"uiPlatform")],k.prototype,"Tga",null);r.__decorate([d.config(d.ZC,"pboVersion")],k.prototype,"version",null);r.__decorate([d.config(d.string,"pboOrganization")],k.prototype,"organization",null);r.__decorate([d.config(d.GL,"pboLanguages")],k.prototype,"languages",null);r.__decorate([d.config(d.Hd,"hasLimitedPlaybackFunctionality")],k.prototype,"Nbb",null);r.__decorate([d.config(d.object(),"pboCommands")],k.prototype,"hlb",null);r.__decorate([d.config(d.object(),"pboCommandsOverride")],k.prototype,"ilb",null);r.__decorate([d.config(d.Hd,"pboRecordHistory")],k.prototype,"tjb",null);r.__decorate([d.config(d.ZC,"pboHistorySize")],k.prototype,"Kwa",null);r.__decorate([d.config(d.Hd,"pboAddXEsnHeader")],k.prototype,"P_a",null);r.__decorate([d.config(d.Hd,"combineManifestAndLicense")],k.prototype,"Wx",null);r.__decorate([d.config(d.Hd,"enableLicensedManifestForPrefetch")],k.prototype,"UE",null);r.__decorate([d.config(d.Hd,"useLdlForPrefetchLicensedManifest")],k.prototype,"$L",null);r.__decorate([d.config(d.Hd,"pboUseStudioManifest")],k.prototype,"Fpb",null);r.__decorate([d.config(d.Hd,"pboEnableLeanManifest")],k.prototype,"c6a",null);r.__decorate([d.config(d.Hd,"useHeaderForRequestNames")],k.prototype,"xpb",null);r.__decorate([d.config(d.Hd,"pboEnableV2OptimizedManifest")],k.prototype,"l6a",null);r.__decorate([d.config(d.Hd,"pboEnableManifestPartialHydrationSupport")],k.prototype,"jP",null);r.__decorate([d.config(d.GL,"pboContentPlaygraphTypes")],k.prototype,"WI",null);k=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.rn)),r.__param(1,(0,l.l)(f.xc)),r.__param(2,(0,l.l)(h.a3)),r.__param(3,(0,l.l)(a.yH))],k);b.FRa=k;},function(r,b,a){var g,m;function c(d,f,h,k,n,p,q){this.version=d;this.url=f;this.id=h;this.languages=k;this.Gb=n;this.xRb=p;this.K6b=q;}function l(d){this.Ri=d;}Object.defineProperty(b,"__esModule",{value:!0});b.lSa=void 0;r=a(0);g=a(1);a=a(84);l.prototype.create=function(d,f,h,k,n){return new c(this.Ri.version,f,d,this.Ri.languages,h,k,n);};m=l;m=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(a.Zz))],m);b.lSa=m;c.prototype.toJSON=function(){return {version:this.version,url:this.url,id:this.id,languages:this.languages,params:this.Gb,echo:this.xRb};};},function(r,b,a){var l,g,m;function c(d,f){this.fJ=f;this.log=d.cb("Pbo");this.links={};}Object.defineProperty(b,"__esModule",{value:!0});b.QRa=void 0;r=a(0);l=a(1);g=a(7);a=a(94);c.prototype.$oa=function(d){d && (!1,this.links=Object.assign(Object.assign({},this.links),d));};c.prototype.JP=function(d){!1;return this.links[d];};m=c;m=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.jb)),r.__param(1,(0,l.l)(a.Iz))],m);b.QRa=m;},function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.iSa=void 0;r=a(0);a=a(1);c.prototype.zfc=function(g){this.listener=g;};c.prototype.zCa=function(g){var m;null === (m=this.listener) || void 0 === m?void 0:m.call(this,g);};l=c;l=r.__decorate([(0,a.$)()],l);b.iSa=l;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A,C,D,E,G,F,L,O,K,I,M,H,J,N,P,W,V,S,U,fa,qa,za,Aa,Qa,T,Z,Q,la,sa,R,ha,wa,va,Ea,Ya,wb,nb,zb,Oa,Za;Object.defineProperty(b,"__esModule",{value:!0});b.j=void 0;r=a(1);c=a(508);l=a(562);g=a(1350);m=a(564);d=a(1351);f=a(377);h=a(374);k=a(1352);n=a(1364);p=a(12);q=a(18);v=a(111);t=a(25);w=a(7);u=a(1365);x=a(240);y=a(1366);z=a(5);B=a(1367);A=a(1368);C=a(586);D=a(1369);E=a(112);G=a(565);F=a(1370);L=a(113);O=a(30);K=a(163);I=a(94);M=a(294);H=a(590);J=a(1371);N=a(85);P=a(39);W=a(566);V=a(1372);S=a(567);U=a(26);fa=a(588);qa=a(1373);za=a(568);Aa=a(1374);Qa=a(27);T=a(311);Z=a(310);Q=a(1375);la=a(1376);sa=a(1377);R=a(1378);ha=a(1379);wa=a(1380);va=a(202);Ea=a(1381);Ya=a(47);wb=a(1382);nb=a(1383);zb=a(1384);Oa=a(1385);Za=a(1386);b.j=new r.Ed(function(Xa){Xa(H.ela).to(J.NSa).la();Xa(S.dIa).bf(function(cb){var hb;hb=cb.yb;return function(sb,Hb){return new (a(1387).eIa)(sb,Hb,hb.get(v.Fz),hb.get(E.C3));};});Xa(c.VVa).bf(function(cb){var hb;hb=cb.yb;return function(sb,Hb,Lb,Rb,Tb,Ob,Eb,Sb,Zb){return new (a(1390).WVa)(hb.get(B.aWa),sb,Hb,Lb,Rb,Tb,Ob,Eb,Sb,Zb);};});Xa(B.aWa).to(A.$Va).la();Xa(l.ZVa).to(g.YVa).la();Xa(h.ISa).to(k.HSa).la();Xa(sa.KUa).to(R.JUa).la();Xa(W.eUa).to(V.dUa);Xa(W.cUa).Znb(W.eUa);Xa(f.IKa).bf(function(cb){var hb;hb=cb.yb;return function(sb){return new (a(1391).JKa)(hb.get(E.HKa),hb.get(v.Fz),hb.get(q.jd),sb);};});Xa(m.HIa).bf(function(){return function(cb){return new d.IIa(cb);};});Xa(fa.hla).bf(function(cb){var hb;hb=cb.yb;return function(sb){return new qa.TSa(sb,hb.get(w.jb),hb.get(t.Ug));};});Xa(Z.vHa).bf(function(cb){var hb;hb=cb.yb;return function(sb){return new Q.wHa(sb,hb.get(w.jb).cb("AdImpressionLogger"),hb.get(Qa.Hh),hb.get(p.xc),hb.get(q.jd),hb.get(T.Nha),hb.get(T.Mha));};});Xa(ha.KHa).to(wa.JHa);Xa(Oa.fT).to(wb.CHa);Xa(Oa.fT).to(zb.HHa);Xa(Oa.fT).to(Za.LHa);Xa(Oa.fT).to(nb.MHa);Xa(za.AHa).bf(function(cb){var hb;hb=cb.yb;return function(sb,Hb){return new Aa.BHa(sb,Hb,hb.get(w.jb).cb("AdManager"),hb.get(p.xc),hb.get(sa.KUa),hb.getAll(Oa.fT),hb.get(Z.vHa),function(Lb){return new la.zHa(Lb);},hb.get(ha.KHa));};});Xa(u.zSa).bf(function(cb){var hb;hb=cb.yb;return function(sb){return new n.ASa(sb,hb.get(w.jb),hb.get(p.xc),hb.get(t.Ug),hb.get(v.Fz),hb.get(fa.hla));};});Xa(va.yOa).bf(function(cb){var hb;hb=cb.yb;return function(sb,Hb){return new Ea.zOa(hb.get(p.xc),hb.get(Ya.Zj),hb.get(w.jb),sb,Hb);};});Xa(x.gla).bf(function(cb){var hb;hb=cb.yb;return function(sb,Hb,Lb,Rb,Tb,Ob,Eb,Sb,Zb,Jc,dd){return new y.PSa(sb,Hb,Lb,Rb,Tb,Ob,Eb,Sb,Zb,hb.get(u.zSa),hb.get(H.ela),hb.get(va.yOa),Jc,dd);};});Xa(C.CUa).bf(function(cb){return function(hb){var sb,Hb;sb=cb.yb.get(p.xc);Hb=cb.yb.get(w.jb);return new D.DUa(sb,hb,Hb);};});Xa(G.KSa).bf(function(cb){return function(hb){var sb,Hb,Lb,Rb,Tb;sb=cb.yb.get(I.Iz);Hb=cb.yb.get(L.UM);Lb=cb.yb.get(O.Di);Rb=cb.yb.get(K.DU);Tb=cb.yb.get(U.Hz);return new F.LSa(hb,sb,Hb((0,z.Ui)(1)),Lb,Rb,Tb);};});Xa(M.oka).JG(function(cb){return new (a(1392).kQa)(cb.yb.get(N.kU),cb.yb.get(P.Jp));}).la();});},function(r,b,a){var l,g,m,d,f,h;function c(k,n){this.ah=k;this.config=n;}Object.defineProperty(b,"__esModule",{value:!0});b.YVa=void 0;r=a(0);l=a(16);g=a(563);m=a(18);d=a(1);f=a(5);a=a(12);c.prototype.kP=function(k){var n;k.l2={};if(!k.nQ() && k.YC && 0 < k.YC.length && (k.XC=this.c9a(k),k.XC)){n=this.Zfc(k);n() || (k.Db.addListener(n),k.Hf.addListener(n));}};c.prototype.Zfc=function(k){var p;function n(){var q,v;if(!k.Hf.value || k.Db.value === l.nb.Cg)return !1;q=k.XC;v=q.getState();return v === g.jr.LOADING?!1:v !== g.jr.mH && q.retry?(q=p.BZb(k))?(k.l2.offset=p.ah.Rb().ia(f.va),k.XC=q,q.download(),!0):!1:(k.Db.removeListener(n),k.Hf.removeListener(n),!1);}p=this;return n;};c.prototype.BZb=function(k){var n,p;n=this.config();p=k.Tm.Sr() < n.yjc;n=(k.Hf.value?k.Hf.value.bitrate:0) > n.xjc;return this.UYb(k,p && n);};c.prototype.UYb=function(k,n){if(n && (n=this.c9a(k),this.f$a(k,n.size)))return (k.l2.dkb="h",n);n=this.KXb(k);if(this.f$a(k,n.size))return (k.l2.dkb="l",n);};c.prototype.f$a=function(k,n){var p,q;p=this.config();q=Math.min(k.xW(),k.y2());return k.mIb.sJb(n) * (1 + .01 * p.yGb[2]) < q * p.Bjc;};c.prototype.c9a=function(k){return k.YC[k.YC.length - 1];};c.prototype.KXb=function(k){return k.YC[0];};h=c;h=r.__decorate([(0,d.$)(),r.__param(0,(0,d.l)(m.jd)),r.__param(1,(0,d.l)(a.xc))],h);b.YVa=h;},function(r,b){function a(c){this.j=c;}Object.defineProperty(b,"__esModule",{value:!0});b.IIa=void 0;a.prototype.hpb=function(){var c;c=this.j.qb;if(null !== c && void 0 !== c && c.qA){c=c.Ac.get();if(null === c || void 0 === c?0:c.rl)this.j.rl=c.rl.xa;if(null === c || void 0 === c?0:c.Ya)this.j.Ya=c.Ya.xa;}};a.prototype.mp=function(){-1 === this.j.Ya && this.hpb();return this.j.Ya;};a.prototype.sJb=function(c){-1 !== this.j.rl && -1 !== this.j.Ya || this.hpb();return -1 === this.j.rl || -1 === this.j.Ya?Number.MAX_VALUE:this.j.rl + 8 * c / this.j.Ya;};b.IIa=a;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A,C,D,E,G,F,L,O,K,I,M;function c(H,J,N,P,W,V,S,U,fa,qa,za,Aa,Qa,T,Z,Q,la,sa,R,ha,wa,va,Ea,Ya,wb,nb,zb){this.MB=H;this.sE=J;this.Ia=N;this.za=P;this.nIb=W;this.MFa=V;this.i_=S;this.nza=U;this.zQ=fa;this.Dd=qa;this.Si=za;this.Sj=Aa;this.wO=Qa;this.n0=T;this.xk=Z;this.dGa=Q;this.Qg=la;this.co=sa;this.Re=R;this.LBa=ha;this.fdc=wa;this.Epa=va;this.zK=Ea;this.uBa=Ya;this.Toa=wb;this.kJb=nb;this.rO=zb;}Object.defineProperty(b,"__esModule",{value:!0});b.HSa=void 0;r=a(0);l=a(86);g=a(1);m=a(113);d=a(34);f=a(18);h=a(27);k=a(564);n=a(241);p=a(509);q=a(530);v=a(120);t=a(148);w=a(166);u=a(100);x=a(499);y=a(240);z=a(562);B=a(50);A=a(30);C=a(565);D=a(85);E=a(566);G=a(567);F=a(294);L=a(115);O=a(546);K=a(568);I=a(233);c.prototype.create=function(H,J,N,P,W,V,S,U){return new (a(569).JSa)(H,J,V,S,P,W,this.MB,N,this.Ia,this.sE,this.za,this.i_,this.nIb,this.MFa,this.nza,this.zQ,this.Dd,this.Si,this.Sj,this.wO,this.n0,this.xk,this.dGa,this.Qg,this.Re,this.LBa,this.co,this.fdc(),this.Epa,this.zK,this.uBa,this.Toa,this.kJb,void 0,U);};M=c;M=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(l.Oz)),r.__param(1,(0,g.l)(d.uj)),r.__param(2,(0,g.l)(f.jd)),r.__param(3,(0,g.l)(h.Hh)),r.__param(4,(0,g.l)(k.HIa)),r.__param(5,(0,g.l)(m.UM)),r.__param(6,(0,g.l)(n.ika)),r.__param(7,(0,g.l)(p.APa)),r.__param(8,(0,g.l)(q.bU)),r.__param(9,(0,g.l)(v.IH)),r.__param(10,(0,g.l)(t.wU)),r.__param(11,(0,g.l)(w.AH)),r.__param(12,(0,g.l)(x.PIa)),r.__param(13,(0,g.l)(y.gla)),r.__param(14,(0,g.l)(L.rH)),r.__param(15,(0,g.l)(z.ZVa)),r.__param(16,(0,g.l)(B.Do)),r.__param(17,(0,g.l)(D.kU)),r.__param(18,(0,g.l)(A.Di)),r.__param(19,(0,g.l)(C.KSa)),r.__param(20,(0,g.l)(E.cUa)),r.__param(21,(0,g.l)(G.dIa)),r.__param(22,(0,g.l)(F.oka)),r.__param(23,(0,g.l)(O.dSa)),r.__param(24,(0,g.l)(K.AHa)),r.__param(25,(0,g.l)(I.Cia)),r.__param(26,(0,g.l)(u.hT)),r.__param(26,(0,g.optional)())],M);b.HSa=M;},function(r,b,a){var d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A,C,D,E,G,F,L,O,K;function c(){this.Jga=[];this.jjc=50;}function l(I){var M;M=this;this.j=I;this.lqb=Promise.resolve();this.tLa=mb.WebKitMediaKeys?"webkit":HTMLVideoElement.prototype.msSetMediaKeys?"ms":"";this.oI=[];this.Jl=new k.Gk();this.pXa=0;this.o6=[];this.Eg=(0,q.kj)(this.j,"MediaElementASE");this.zZa=f.Wz;this.Kma=!1;this.mc=new c();this.gq={};this.UXa={};this.maa=this.q6(function(){var H;if(M.ea)return null !== (H=M.ea.webkitDecodedFrameCount) && void 0 !== H?H:0;});this.my=this.q6(function(){var H;if(M.ea){H=M.jna();return H?H.totalVideoFrames:M.ea.webkitDecodedFrameCount;}});this.GJ=this.q6(function(){var H;if(M.ea){H=M.jna();return H?H.droppedVideoFrames:M.ea.webkitDroppedFrameCount;}});this.BY=this.q6(function(){var H;if(M.ea){H=M.jna();return H && H.corruptedVideoFrames;}});this.rYa=function(H){!1;M.Jl.Zc(C.Ik.$cb,{P:H});};this.Om=q.Ha.get(A.tOa).create(h.config.Hu,this,this.j);h.config.KF && (this.lqb=new Promise(function(H){M.zZa=H;M.j.addEventListener(G.ka.uh,H);}));this.Eg.trace("Created Media Element");this.addEventListener=this.Jl.addListener;this.removeEventListener=this.Jl.removeListener;}function g(I){var M,H;M=q.Ha.get(D.JWa).NYb();I=I.width / I.height * M.height;H=(M.width - I) / 2;return h.config.Ufc?(0,p.createElement)("VIDEO","position:absolute;width:" + I + "px;height:" + M.height + "px;left:" + H + "px;top:0px"):(0,p.createElement)("VIDEO","position:absolute;width:100%;height:100%");}function m(I){I.preventDefault();return !1;}Object.defineProperty(b,"__esModule",{value:!0});b.NPa=void 0;d=a(307);f=a(17);h=a(19);k=a(70);n=a(58);p=a(44);q=a(9);v=a(4);t=a(22);w=a(95);u=a(358);x=a(23);y=a(308);z=a(14);B=a(15);A=a(575);C=a(309);D=a(550);E=a(5);G=a(16);F=a(56);L=a(43);O=a(48);K=!!(z.xD && HTMLVideoElement && URL && HTMLVideoElement.prototype.play);l.prototype.fF=function(I){try{this.ea && (this.pXa=this.ea.currentTime);}catch(M){this.Eg.error("Exception while getting VIDEO.currentTime",M);I && this.VU(v.aa.Bxb,M);}return (0,z.Mp)(this.pXa * f.Wu);};l.prototype.seek=function(I){var M;(0,t.ya)(!this.Ar);this.qZa();M=this.fF(!0);if(!h.config.OGb && (0,z.R4)(M - I) <= this.YDa)(this.Eg.trace("Seek delta too small",{currentTime:M,seekTime:I,min:this.YDa}),this.mc.trace("smallseek",I));else {this.mc.trace("seek",I);try{this.Eg.trace("Setting video elements currentTime",{From:(0,w.Ci)(M),To:(0,w.Ci)(I)});this.Ar={};this.ea.currentTime=I / f.Wu;this.Jl.Zc(C.Ik.oq);}catch(H){this.Eg.error("Exception while setting VIDEO.currentTime",H);this.VU(v.aa.Cxb,H);}}};l.prototype.g$a=function(){return !!this.Ar;};l.prototype.addSourceBuffer=function(I){var M;try{M=new d.lka(this.j,I,this.Gg,this.Eg);this.oI.push(M);I == f.dU && M.cua && M.cua.addListener(this.zZa);return M;}catch(H){M=(0,x.mf)(H);this.Eg.error("Unable to add source buffer.",{error:M});this.j.Sd(v.aa.Hka,{Ca:I === O.u.T?v.Y.fka:v.Y.gka,Ub:M});}};l.prototype.X7=function(I){var M;M=this;I.forEach(function(H){return M.addSourceBuffer(H);});this.Jl.Zc(C.Ik.umb);return !0;};l.prototype.removeSourceBuffer=function(I){this.oI=this.oI.filter(function(M){return !(0,p.W2a)(I,M);});this.Gg.removeSourceBuffer(I);};l.prototype.endOfStream=function(){this.mc.trace("endofstream");!1;h.config.Hqa && this.Gg.endOfStream();};l.prototype.Bt=function(I){!1;this.oI=[];I && I.gwc();return !0;};l.prototype.C9a=function(){if(this.Gg)return (0,E.eib)(this.Gg.duration);};l.prototype.AQb=function(){var I;if(!this.Kma && this.ea && this.ea.readyState >= F.Co.MT.HAVE_CURRENT_DATA){I=this.ea.webkitDecodedFrameCount;if(void 0 === I || 0 < I || h.config.Ylc)this.Kma=!0;}return this.Kma;};l.prototype.open=function(){var I,M,H;I=this;this.ea=g(this.j.SG.value);this.sourceBuffers=this.oI;this.j.addEventListener(G.ka.dmb,function(J){return I.fDb(J);});if(K){this.j.hK && !h.config.upb && this.Om.Vda();try{this.Gg=new z.xD();}catch(J){this.VU(v.aa.sxb,J);return;}try{this.Bm=URL.createObjectURL(this.Gg);}catch(J){this.VU(v.aa.txb,J);return;}try{this.Om.WFb(this.rYa);this.Gg.addEventListener("sourceopen",function(J){return I.WYa(J);});this.Gg.addEventListener(this.tLa + "sourceopen",function(J){return I.WYa(J);});this.ea.addEventListener("error",this.gq.error=function(J){return I.AV(J);});this.ea.addEventListener("seeking",this.gq.seeking=function(){return I.eDb();});this.ea.addEventListener("seeked",this.gq.seeked=function(){return I.dDb();});this.ea.addEventListener("timeupdate",this.gq.timeupdate=function(){return I.gDb();});this.ea.addEventListener("loadstart",this.gq.loadstart=function(){return I.Vna();});this.ea.addEventListener("volumechange",this.gq.volumechange=function(J){return I.hDb(J);});this.ea.addEventListener(this.Om.XF,this.gq[this.Om.XF]=function(){I.Eg.trace(I.Om.XF);I.bDb();});M=this.j.lm;H=M.lastChild;H?M.insertBefore(this.ea,H):M.appendChild(this.ea);h.config.i5a && this.ea.addEventListener("contextmenu",m);this.ea.src=this.Bm;n.Xe.addListener(n.Lt,this.UXa[n.Lt]=function(){return I.VYa();});this.VYa();}catch(J){this.VU(v.aa.uxb,J);}}else this.i6(v.aa.mRa);};l.prototype.close=function(){var M;function I(){M.Bm && (M.qZa(),n.Xe.removeListener(n.Lt,M.UXa[n.Lt]),M.cAb());}M=this;this.mc.trace("close");this.ea.removeEventListener(this.Om.XF,this.gq[this.Om.XF]);this.ea.removeEventListener("error",this.gq.error);this.ea.removeEventListener("seeking",this.gq.seeking);this.ea.removeEventListener("seeked",this.gq.seeked);this.ea.removeEventListener("timeupdate",this.gq.timeupdate);this.ea.removeEventListener("loadstart",this.gq.loadstart);this.ea.removeEventListener("volumechange",this.gq.volumechange);this.Om.Mcc(this.rYa);h.config.Hu?this.Om.EC().then(function(){return I();}):I();this.Om.Pjb && clearTimeout(this.Om.Pjb);};l.prototype.mF=function(){return this.mc.mF();};l.prototype.bDb=function(){h.config.upb && this.Om.Vda();};l.prototype.jna=function(){if(this.ea)return this.ea.getVideoPlaybackQuality && this.ea.getVideoPlaybackQuality() || this.ea.videoPlaybackQuality || this.ea.playbackQuality;};l.prototype.sEb=function(){var I;I=this.j.Ki;return (I=I && I.errorCode) && 0 <= [v.aa.e5,v.aa.L4].indexOf(I);};l.prototype.cAb=function(){var I;I=!1;h.config.Eac && this.sEb() && (I=!0);h.config.bLb && !I && (this.ea.removeAttribute("src"),this.ea.load && this.ea.load());URL.revokeObjectURL(this.Bm);h.config.i5a && this.ea.removeEventListener("contextmenu",m);!I && this.ea && this.j.lm.removeChild(this.ea);this.ea=this.Gg=void 0;this.Bm="";};l.prototype.VYa=function(){!0 === z.Xh.hidden?this.o6.forEach(function(I){I.refresh();I.ahc();}):this.o6.forEach(function(I){I.refresh();I.rhc();});};l.prototype.q6=function(I){var M;M=q.Ha.get(u.UQa)(I);this.o6.push(M);return function(){M.refresh();return M.zWb();};};l.prototype.VU=function(I,M){var H,J;H={Ca:v.Y.ln,Ub:(0,x.mf)(M)};try{(J=M.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase()) && 8 == J.length && (H.Rf=J);}catch(N){}this.j.Sd(I,H);};l.prototype.qZa=function(){this.o6.forEach(function(I){I.refresh();});};l.prototype.YAb=function(){return this.ea && this.ea.msGraphicsTrustStatus;};l.prototype.i6=function(I,M){this.j.Sd(I,M,void 0);};l.prototype.fDb=function(I){var M,J,N,P,W,V,S;if(this.ea){I=I.lha;M=this.YAb();M && (I.ConstrictionActive=M.constrictionActive,I.Status=M.status);try{I.readyState="" + this.ea.readyState;I.currentTime="" + this.ea.currentTime;I.pbRate="" + this.ea.playbackRate;}catch(U){}M=this.oI.length;for(var H;M--;){H=this.oI[M];J="";H.type == f.Q4?J="audio":H.type == f.dU && (J="video");(0,x.Oe)(I,H.faa(),{prefix:J});}this.Gg && (M=this.Gg.duration) && !isNaN(M) && (I.duration=M.toFixed(4));if(h.config.p4b)try{N=this.j.We;P=N && N.Mb;if(P){W=P.expiration;isNaN(W) || (I.exp=W);V=P.keyStatuses.entries();if(V.next){S=V.next().value;S && (I.keyStatus=S[1]);}}}catch(U){}}};l.prototype.WYa=function(I){!1;this.vEb || (this.vEb=!0,this.Jl.Zc(C.Ik.wmb,I));};l.prototype.eDb=function(){this.mc.trace("seeking");this.Eg.trace("Video element event: seeking");this.Ar?this.Ar.I7b=!0:(this.Eg.error("unexpected seeking event"),h.config.ITb && this.i6(v.aa.Hxb,{Ub:{Trace:this.mF()}}));};l.prototype.dDb=function(){this.mc.trace("seeked");this.Eg.trace("Video element event: seeked");this.Ar?((0,t.ya)(this.Ar.I7b),this.Ar.H7b=!0,this.YZa()):(this.Eg.error("unexpected seeked event"),h.config.HTb && this.i6(v.aa.Gxb,{Ub:{Trace:this.mF()}}));};l.prototype.gDb=function(){var I;this.mc.trace("timeupdate",null === (I=this.ea) || void 0 === I?void 0:I.currentTime);!1;this.Ar && (this.Ar.K7b=!0,this.YZa());this.Jl.Zc(C.Ik.oq);};l.prototype.Vna=function(){this.Eg.trace("Video element event: loadstart");};l.prototype.hDb=function(I){this.Eg.trace("Video element event:",I.type);try{this.j.volume.set(this.ea.volume);this.j.muted.set(this.ea.muted);}catch(M){this.Eg.error("error updating volume",M);}};l.prototype.AV=function(I){var M,H,J,N,P,W,V,S;M=this.i6;H=v.aa.lRa;J=v.KLa;N=this.mF();P=I.target;W=P && P.error;V=I.errorCode;P=W && W.code;(0,B.xd)(P) || (P=V && V.code);V=W && W.message;S=W && W.msExtendedCode;(0,B.xd)(S) || (S=W && W.systemCode);(0,B.xd)(S) || (S=I.systemCode);(0,B.xd)(S) || (S=(0,L.Bva)(V));I=(0,x.Oe)({},{code:P,systemCode:S,trace:JSON.stringify(N)},{Yda:!0});J={Ca:J(P),Ub:(0,y.iza)(I)};try{V && (J.r_=V);}catch(U){}S=(0,x.Ak)(S);(0,B.Qa)(S) && (J.Rf=(0,q.Ypa)(S,4));M.call(this,H,J);};l.prototype.YZa=function(){this.Ar && this.Ar.H7b && this.Ar.K7b && (this.mc.trace("seekcomplete"),this.Ar=void 0,this.Jl.Zc(C.Ik.g1));};Va.Object.defineProperties(l.prototype,{YDa:{configurable:!0,enumerable:!0,get:function(){return h.config.Ogc;}}});b.NPa=l;c.prototype.trace=function(I,M){this.Jga.push([I,M]);this.Jga.length > this.jjc && this.Jga.shift();};c.prototype.mF=function(){return this.Jga;};},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v;function c(t){var w;w=this;this.j=t;this.BFa=this.xfb=0;this.uh=this.Um=!1;this.pfa=0;this.sba=new Set();this.v1=!0;this.cn=function(){var u,x;w.lfa();w.ZI && (w.log.info("Deactivating",w.ZI),w.UC.gPb(w.cg()));w.j.Cj.set(null);w.OL.Alb(void 0);w.C2a();u=w.j.Ob.value;u && u.Fq() && !u.qp() && (u=null);if(u && w.j.Db.value !== q.nb.Cg){x=w.cg();w.UC.uFb(x,u);}u?(w.log.info("Activating",u),w.j.uo.set(u.getState() === l.GH.FD.mH?q.gg.Se:q.gg.Yd),w.Um || w.j.Ze("tt_start"),u.xba().then(w.jO).catch(w.jO)):w.j.uo.set(q.gg.Se);w.ZI=u;w.bD();};this.sync=function(){w.Um && (w.OL.start(),w.j.Db.value !== q.nb.Xc && w.OL.stop());};this.bD=function(){var u;w.v1 && w.j.state.value === q.ic.Se && w.j.Db.value !== q.nb.Cg && (w.vi?u=w.OL.IVb():w.j.Ob.value && (u=c.nhc[w.j.Ob.value.getState()]));u && (0,p.xd)(u.startTime) && w.j.Lw.value !== u && (w.xfb++,w.BFa+=w.OL.D9a() - u.startTime,w.Y0a=Math.ceil(w.BFa / (w.xfb + 0)));w.j.Lw.set(u);};this.cg=function(){var u;u=w.j.Eva();w.ZI && w.ZI.Zv && (u+=w.ZI.Zv);return u;};this.WAa=function(u){w.sba.add(u);w.v1 && (w.fireEvent(c.fmb,u),u && u.id && (w.UC.mpb(u.id),!1));w.log.trace("showsubtitle",w.Jaa(u));};this.U_=function(u){w.sba.delete(u) && w.v1 && (w.fireEvent(c.Njb,u),w.log.trace("removesubtitle",w.Jaa(u)));};this.R_b=function(){w.sba.forEach(function(u){w.fireEvent(c.Njb,u);w.log.trace("hide subtitle",w.Jaa(u));});};this.Pdc=function(){w.sba.forEach(function(u){w.fireEvent(c.fmb,u);w.log.trace("resume subtitle",w.Jaa(u));});};this.li=function(){w.log.warn("imagesubs buffer underflow",w.j.Ob.value.Bh);w.j.uo.set(q.gg.Yd);};this.JAa=function(){w.log.info("imagesubs buffering complete",w.j.Ob.value.Bh);w.j.uo.set(q.gg.Se);};this.Pda=function(){w.Um && w.vi && w.vi.Fu(w.cg());};this.Bgb=function(u){w.Um && w.vi && (w.vi.pause(),w.vi.zG(u.$k));};this.My=function(){w.Um && w.vi && w.vi.Jib();};this.ygb=function(u){w.vi && w.vi.yl(u.ei,u.WQ);};this.Ggb=function(u){w.vi && w.vi.Ek(u.S,u.Lkc);};this.A8b=function(){w.Um=!0;(0,n.Lg)(function(){var u,x;(null === (u=w.ZI) || void 0 === u?0:u.Zl)?null === (x=w.vi) || void 0 === x?void 0:x.Fu(w.cg()):w.sync();w.bD();});};this.x8b=function(){w.C2a();w.OL.stop();w.bD();w.uh=!0;w.lfa();};this.$Aa=function(u){(u=u.newValue) && (0,p.isArray)(u.blocks) && (w.UC.mpb.apply(w.UC,ia(u.blocks.map(function(x){return x.id;}))),!1);};this.D8b=function(u){w.Fkc(u.newValue,u.oldValue);w.sync();w.bD();};this.jO=function(u){var x;if(!w.uh){x=u.track;if(x === w.j.Ob.value)try{w.vi=x.Zva();x.Zl?w.sFb(u):w.tFb(u);}catch(y){w.log.error("Error activating track:",y,x);return;}w.Um || w.j.Ze(u.ja?"tt_comp":"tt_err");u.ja?(d.config.Ekb?setTimeout(function(){w.j.uo.set(q.gg.Se);},d.config.Ekb):w.j.uo.set(q.gg.Se),x.Zl || w.bD()):u.aborted?w.log.warn("aborted timed text track loading"):d.config.GTb?w.j.Sd(k.aa.nvb,{Ub:u.track?u.track.Bh:{}}):(w.log.error("ignore subtitle initialization error",u),w.j.uo.set(q.gg.Se));}};this.Pb=new m.Gk();this.UC=new h.tVa((0,f.kj)(t,"SubtitleTracker"),d.config.rSb);this.log=(0,f.kj)(t,"TimedTextManager");this.OL=new g.OVa(this.cg,this.bD);this.j.Ob.addListener(this.cn);d.config.Z$b?(this.j.addEventListener(q.ka.Um,this.A8b),this.cn()):(this.j.uo.set(q.gg.Se),this.j.addEventListener(q.ka.Um,function(){w.Um=!0;w.cn();}));this.j.Db.addListener(this.D8b);this.j.addEventListener(q.ka.NFa,this.sync);this.j.Lw.addListener(this.$Aa);this.j.addEventListener(q.ka.uh,this.x8b);}Object.defineProperty(b,"__esModule",{value:!0});b.LVa=void 0;l=a(291);g=a(576);m=a(70);d=a(19);f=a(9);h=a(1355);k=a(4);n=a(59);p=a(15);q=a(16);v=a(1356);c.prototype.zgc=function(){this.v1=!0;this.Pdc();this.bD();};c.prototype.S_b=function(){this.v1=!1;this.R_b();this.bD();};c.prototype.addEventListener=function(t,w,u){this.Pb.addListener(t,w,u);};c.prototype.removeEventListener=function(t,w){this.Pb.removeListener(t,w);};c.prototype.fireEvent=function(t,w,u){this.Pb.Zc(t,w,u);};c.prototype.Woa=function(t,w,u){var x,y;x=this;y=v.JVa.SNb(this.j,t,w,u);this.kbb(this.j.wi,y);this.j.Ej.forEach(function(z){x.kbb(z.wi,y);});this.j.Ob.set(y);this.j.fireEvent(q.ka.Nw);};c.prototype.fac=function(t){this.mDa(t)?t.xba().then(function(){}):Promise.resolve();};c.prototype.qZb=function(t){return this.UC.VYb(t);};c.prototype.$va=function(t){return this.UC.$va(t);};c.prototype.TY=function(){var t,w;t=this.j.e2;w=d.config.Unb.characterSize;w={size:d.config.SFa.characterSize || w};t && (w.visibility=t.fwa(),w.NW=t.dwa(),w.Zt=t.ewa());return w;};c.prototype.Rfc=function(t){d.config.SFa.characterSize=t;t=this.j.Ob.value;this.mDa(t) && !t.Zl && t.xba().then(this.jO).catch(this.jO);};c.prototype.Fkc=function(t,w){var u;t === q.nb.Xc || t == q.nb.aj?w !== q.nb.Xc && w !== q.nb.aj && ((w=this.j.Ob.value) && !this.mDa(w) || this.UC.Ffb(this.cg(),w || void 0,"presentingstate:" + t)):t !== q.nb.Cg && t !== q.nb.Ks || this.UC.cta(null !== (u=this.cg()) && void 0 !== u?u:void 0,"presentingstate:" + t);};c.prototype.lfa=function(){this.pfa=0;clearTimeout(this.Sdc);};c.prototype.C2a=function(){var t;this.vi && this.vi.stop();(null === (t=this.ZI) || void 0 === t?0:t.Zl) && this.Mdb("removeListener");this.vi=void 0;};c.prototype.Mdb=function(t){this.vi && (this.vi[t]("showsubtitle",this.WAa),this.vi[t]("removesubtitle",this.U_),this.vi[t]("underflow",this.li),this.vi[t]("bufferingComplete",this.JAa),"addListener" === t?(this.j.addEventListener(q.ka.oq,this.Pda),this.j.addEventListener(q.ka.pl,this.Bgb),this.j.addEventListener(q.ka.pL,this.My),this.j.addEventListener(q.ka.yda,this.ygb),this.j.addEventListener(q.ka.yGa,this.Ggb)):(this.j.removeEventListener(q.ka.oq,this.Pda),this.j.removeEventListener(q.ka.pl,this.Bgb),this.j.removeEventListener(q.ka.pL,this.My),this.j.removeEventListener(q.ka.yda,this.ygb),this.j.removeEventListener(q.ka.yGa,this.Ggb)));};c.prototype.Jaa=function(t){return {currentPts:this.cg(),displayTime:t.displayTime,duration:t.duration,id:t.id,originX:t.originX,originY:t.originY,sizeX:t.sizeX,sizeY:t.sizeY,rootContainerExtentX:t.rootContainerExtentX,rootContainerExtentY:t.rootContainerExtentY};};c.prototype.sFb=function(t){var w,u;w=this;u=t.track;if(!u || !u.Zl)throw Error("Not an image base subtitle");t.ja?(this.lfa(),this.Mdb("addListener"),this.log.info("Activated",u),this.j.Cj.set(u),this.Um?(0,n.Lg)(function(){w.vi.Fu(w.cg());}):this.vi.pause()):this.tkb(u,t);};c.prototype.tFb=function(t){var w,u;w=t.track;u=t.ja;if(!w || w.Zl)throw Error("Not a valid text track");u?(this.lfa(),this.OL.Alb(this.vi),this.log.info("Activated",w),this.j.Cj.set(w)):this.tkb(w,(0,k.Mz)(t));this.bD();};c.prototype.tkb=function(t,w){var u,x;u=this;x=this.pfa < d.config.v5b;x && (this.Sdc=setTimeout(function(){u.pfa++;t.xba().then(u.jO).catch(u.jO);},d.config.Sic));this.log.error("Failed to activate" + ((null === t || void 0 === t?0:t.Zl)?" img subtitle":""),{retry:x},w,t);};c.prototype.mDa=function(t){return !(!t || t.Fq() && !t.qp());};c.prototype.kbb=function(t,w){var u;u=t.findIndex(function(x){return x.vc >= w.vc;});-1 === u && (u=0);t.splice(u,0,w);};b.LVa=c;r={};c.nhc=(r[l.GH.FD.LOADING]={YZ:!0},r[l.GH.FD.WT]={Mv:!0},r);c.fmb="showsubtitle";c.Njb="removesubtitle";},function(r,b,a){var g;function c(m,d,f){this.start=m;this.track=d;this.FG=Array.isArray(f)?f:[];}function l(m,d){this.log=m;this.cD=d;this.FCa=[];this.orphans=[];}Object.defineProperty(b,"__esModule",{value:!0});b.tVa=void 0;g=a(22);l.prototype.uFb=function(m,d){this.Ffb(m,d,"activating");};l.prototype.gPb=function(m){this.cta(m,"de-activating");};l.prototype.Ffb=function(m,d,f){var h;this.Sl && this.cta(m,"close current for new");h=[];this.orphans.length && (h.push.apply(h,ia(this.orphans)),this.orphans=[]);this.Sl=new c(m,d,h);this.cD && this.log.trace("new range: " + f,this.Sl);};l.prototype.cta=function(m,d){this.Sl && (this.Sl.end=m,this.FCa.push(this.Sl),this.cD && this.log.trace("end range: " + d,this.Sl || ({})),this.Sl=void 0);};l.prototype.mpb=function(m){for(var d=[],f=0;f < arguments.length;++f){d[f - 0]=arguments[f];}this.Sl?this.Sl.FG.push.apply(this.Sl.FG,ia(d)):this.orphans.push.apply(this.orphans,ia(d));};l.prototype.$va=function(m){var d,f;d=this.FCa.slice(0);if(this.Sl && "undefined" !== typeof m){f=new c(this.Sl.start,this.Sl.track,this.Sl.FG);f.end=m;d.push(f);}m=d.reduce(function(h,k){var n,p,q,v;if(!k.track)return h;p=k.track.Tb;q=k.track.Aq(k.start,k.end);if(void 0 === q || null === q)return h;v=new Set(k.FG);h[p]?(k=h[p],k.expected+=q,k.missed+=q - v.size):h[p]={dlid:p,bcp47:k.track.Of,profile:k.track.profile,expected:q,missed:q - v.size,startPts:null !== (n=k.track.gZb()) && void 0 !== n?n:0};return h;},{});m=Object.values(m);this.cD && this.log.trace("subtitleqoe:",JSON.stringify(m,null,"\t"));return m;};l.prototype.VYb=function(m){var d,f,h,k;d=this.FCa.slice(0);f=0;h=0;if(this.Sl && "undefined" != typeof m){k=new c(this.Sl.start,this.Sl.track,this.Sl.FG);k.end=m;d.push(k);}d.forEach(function(n){var p,q;if(n.track){if(n.end < n.start){(0,g.ya)(!1,"negative range");n.vG=0;return;}p=new Set(n.FG);q=n.track.Aq(n.start,n.end);n.w$=q;n.vG=void 0 === q || null === q?0:0 === q?100:100 * p.size / q;}else n.vG=100;p=n.end - n.start;f+=p;h+=n.vG * p;});k=f?Math.round(h / f):100;this.log.trace("qoe score " + k + ", at pts: " + m);this.cD && (m=d.map(function(n){return {start:n.start,"end  ":n.end,duration:n.end - n.start,score:Math.round(n.vG),lang:n.track?n.track.Of:"none","actual  ":n.FG.join(" "),expected:n.w$};}),this.log.trace("score for each range: ",JSON.stringify(m,function(n,p){return p;}," ")));return k;};b.tVa=l;},function(r,b,a){var l,g,m,d,f,h,k,n,p;function c(q,v,t,w,u,x){var y,z;q=f.GH.call(this,v,q,q,u,!0,{og:"",dG:"content"},"1",[{Kh:0,url:t,type:"unknown"}],"xx",w || q,h.hr.KM,void 0,void 0,"primary",null !== (y=null === x || void 0 === x?void 0:x.profile) && void 0 !== y?y:"dfxp-ls-sdh",null !== (z=null === x || void 0 === x?void 0:x.midx) && void 0 !== z?z:{},!1,!1,null === x || void 0 === x?void 0:x.isLanguageLeftToRight) || this;q.j=v;q.url=t;q.options=x;q.Gu=null === x || void 0 === x?void 0:x.useRangeHeader;return q;}Object.defineProperty(b,"__esModule",{value:!0});b.JVa=void 0;r=a(64);l=a(19);g=a(58);m=a(9);d=a(44);f=a(291);h=a(130);k=a(107);n=a(205);p=a(16);(0,r.FSa)(r.ala,function(q){var t;function v(w){var u;if(w.ctrlKey && w.altKey && w.shiftKey && w.keyCode == n.uD.Syb){u=(0,d.createElement)("INPUT",void 0,void 0,{type:"file"});u.addEventListener("change",function(){var x,y,z;x=u.files[0];if(x){y=x.name;t.info("Loading file",{FileName:y});z=new FileReader();z.readAsText(x);z.addEventListener("load",function(){return q.Fp.Woa("nourl",y,{content:z.result});});}});u.click();}}t=(0,m.kj)(q,"TimedTextCustomTrack");l.config.fsa && (t.info("Loading url",{Url:l.config.fsa}),q.Fp.Woa(l.config.fsa,"custom"));g.Xe.addListener(g.qF,v);q.addEventListener(p.ka.uh,function(){g.Xe.removeListener(g.qF,v);});});ka(c,f.GH);c.SNb=function(q,v,t,w){var u;u="custom" + c.r1b++;return new c(u,q,v,t,-1,w);};c.prototype.B5a=function(){var q;q=this;return new Promise(function(v,t){var w,u;if(null === (w=q.options) || void 0 === w?0:w.content)v(q.options.content);else if(q.url){u={responseType:k.Mwa,url:q.url,track:q,Cc:void 0,PE:"tt-" + q.Of,uu:"unknown"};q.j.oba.download(u,function(x){x.ja?v(x.content):(x.reason="downloadfailed",x.url=u.url,x.track=q,t(x));});}});};b.JVa=c;c.r1b=0;},function(r,b,a){var l,g,m,d,f,h;function c(k){var n,p,q;n=this;this.j=k;this.h8b=function(){var v;m.Xe.removeListener(m.Uaa,n.Dgb);v=n.Vr.kp();v && v.parentNode && v.parentNode.removeChild(v);};this.$Aa=function(v){n.Vr.rfc(v.newValue);};this.N8b=function(v){n.Vr.xfc(v.newValue?v.newValue.Tba:void 0);n.Vr.gkc(n.U8a(v.newValue));};this.Dgb=function(){n.Vr.IR();};p=k.Ob.value?k.Ob.value.Tba:void 0;q=this.U8a(k.Ob.value);this.Vr=new f.KVa(q,p);p=k.SG.value;(0,g.ya)(.1 < p.width / p.height);this.Vr.ffc(p.width / p.height);k.lm.appendChild(this.Vr.kp());k.Lw.addListener(this.$Aa);k.Ob.addListener(this.N8b);k.addEventListener(h.ka.uh,this.h8b,l.HM);m.Xe.addListener(m.Uaa,this.Dgb);}Object.defineProperty(b,"__esModule",{value:!0});b.MVa=void 0;l=a(17);g=a(22);m=a(58);d=a(19);f=a(581);h=a(16);c.prototype.FEa=function(k){this.Vr.FEa(k);};c.prototype.fwa=function(){return this.Vr.fwa();};c.prototype.DEa=function(k){this.Vr.DEa(k);};c.prototype.dwa=function(){return this.Vr.dwa();};c.prototype.EEa=function(k){this.Vr.EEa(k);};c.prototype.ewa=function(){return this.Vr.ewa();};c.prototype.U8a=function(k){var n;if(k && d.config.qca && 0 <= d.config.qca.indexOf(k.Of)){n=Object.assign({},d.config.Ega);Object.entries(n).forEach(function(p){var q;q=oa(p);p=q.next().value;q=q.next().value;n[p]=q.replace(/font-weight:bolder/g,"font-weight:normal");});return n;}return d.config.Ega;};b.MVa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Eib=void 0;b.Eib=function(a){var c,l;c=!1;l=!1;return function(){if(c)l=!0;else for(l=!0;l;){l=!1;c=!0;a();c=!1;}};};},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w,u;function c(x,y){this.j=x;this.Uj=y;this.hic=!1;this.log=(0,m.kj)(this.j,"MediaAppendManager");this.Wb=this.j.Wb;this.ea=this.Wb.ea;this.H2=this.FW=!1;this.audio={type:g.xj.audio,Zx:[],Rm:[],jR:!1};this.video={type:g.xj.video,Zx:[],Rm:[],jR:!1};x={};this.UL=(x[u.u.J]=this.video,x[u.u.T]=this.audio,x);this.closed=!1;this.cC=l.config.cC;this.fda=l.config.fda;this.$F=this.j.lb.ji?l.config.dBa:l.config.$F;this.Z0a=!0;this.yc=m.Ha.get("Base64EncoderSymbol");this.dua=!1;this.yBa=[];(0,f.ya)(this.cC > this.fda,"bad config");(0,f.ya)(this.cC > this.$F,"bad config");}Object.defineProperty(b,"__esModule",{value:!0});b.EPa=void 0;l=a(19);g=a(93);m=a(9);d=a(4);f=a(22);h=a(23);k=a(17);n=a(16);p=a(177);q=a(5);v=a(56);t=a(42);w=a(1360);u=a(48);c.prototype.eaa=function(){var z,B;function x(A,C){return y(A,C.Xca);}function y(A,C){var D,E,G,F;G=!!C.response;F=C.response;if(C.Hc)return A + (F.byteLength || 0);C=(null !== (D=null === C || void 0 === C?void 0:C.AO) && void 0 !== D?D:0) - (null !== (E=null === C || void 0 === C?void 0:C.CO) && void 0 !== E?E:0);return (G?F.byteLength:C) + A;}z=this.UL[u.u.J];B=this.UL[u.u.T];return {videoToAppend:z.Rm.reduce(y,0),videoInBuffer:z.Zx.reduce(x,0),audioToAppend:B.Rm.reduce(y,0),audioInBuffer:B.Zx.reduce(x,0)};};c.prototype.y7b=function(){this.audio.Vj && !this.audio.Vj.Li() && (!1,this.audio.Vj.l0a(new Uint8Array([0,0,0,8,102,114,101,101])));};c.prototype.Jfc=function(){this.audio.LEa=!0;this.video.LEa=!0;};c.prototype.Pfc=function(x){x === u.u.T?this.FW=!0:x === u.u.J && (this.H2=!0);};c.prototype.Li=function(){var x,y;return !(null === (x=this.audio.Vj) || void 0 === x || !x.Li()) || !(null === (y=this.video.Vj) || void 0 === y || !y.Li());};c.prototype.Qfa=function(x){var y,z;null === (y=this.audio.Vj) || void 0 === y?void 0:y.Qfa(x);null === (z=this.video.Vj) || void 0 === z?void 0:z.Qfa(x);};c.prototype.XGb=function(x){var y;x.mediaType === u.u.T?this.FW=!1:x.mediaType === u.u.J && (this.H2=!1);y=this.UL[x.mediaType];y?y.Rm.push(x):(0,f.ya)(!1);};c.prototype.WGb=function(x,y,z){var B;B=this;y=this.B1a(x.mediaType,y,z);if(!this.dua)if(x.mediaType === u.u.J)(this.xac(x),this.dua=!0,this.yBa.forEach(function(A){return B.xpa(A);}),this.yBa=[]);else {this.yBa.push(y);return;}this.xpa(y);};c.prototype.xpa=function(x){var y;y=this.UL[x.mediaType];y?y.Rm.push(x):(0,f.ya)(!1);};c.prototype.B1a=function(x,y,z){return {mediaType:x,CF:!1,response:y,Mi:function(){return "header";},get Hc() {return !this.CF;},profile:z.profile};};c.prototype.xac=function(x){(0,f.ya)(!!x.Cmb,"startOfSegment properties need to be set before first header is appended");this.dua || !l.config.QUb || !this.j.$aa() && !this.j.Xaa() || x.Cmb.Cbb || (this.log.trace("Force appending encrypted stream header first to allow mixed clear & encrypted content"),x=this.yc.decode(k.BIa),this.xpa(this.B1a(u.u.J,x,{profile:t.I.eH})));};c.prototype.Nfc=function(x){var y;y=this.UL[x.type];if(y)try{y.Vj=x;}catch(z){this.Sd(d.aa.Hka,{Ca:(0,p.paa)(x.type),Ub:(0,h.mf)(z)});}};c.prototype.close=function(){this.ea=this.Wb=void 0;this.closed=!0;};c.prototype.Sd=function(x,y,z){this.closed || this.j.Sd(x,y,z);};c.prototype.osa=function(x){return this.s5a(this.audio,x,this.E9()) && this.s5a(this.video,x,this.E9());};c.prototype.E9=function(){return this.j.Db.value === n.nb.Cg?this.$F:this.fda;};c.prototype.Xic=function(){var x,y;x=this.video.Rm.filter(function(z){return !z.Hc;}).reduce(function(z,B){return z + B.Qn;},0);y=this.audio.Rm.filter(function(z){return !z.Hc;}).reduce(function(z,B){return z + B.Qn;},0);return Math.min(x,y);};c.prototype.s5a=function(x,y,z){var B;B=x.psa;B=B && B.Xca;return !x.Vj || 0 === x.Rm.length && (x.type === g.xj.audio && this.FW || x.type === g.xj.video && this.H2)?!0:B && B.Cw - y >= z || !1;};c.prototype.vob=function(x){this.hic || (this.uob(this.audio,x),this.uob(this.video,x));this.closed || this.j2a();};c.prototype.j2a=function(){var x,y,z,B,A,C;B=!this.audio.Vj || 0 !== this.audio.Zx.length;A=0 === this.video.Rm.length && this.H2;C=!this.video.Vj || 0 !== this.video.Zx.length;!(0 === this.audio.Rm.length && this.FW && C || A && B) || (null === (x=this.audio.Vj) || void 0 === x?0:x.Li()) || (null === (y=this.video.Vj) || void 0 === y?0:y.Li()) || this.bta || !(this.ea.readyState > v.Co.MT.HAVE_NOTHING) || this.Uj.Vba || (this.bta=!0,null === (z=this.Wb) || void 0 === z?void 0:z.endOfStream());};c.prototype.uob=function(x,y){var z,B,A,C;if(!this.closed && x.Vj){B=x.Vj;A=x.Zx;!B.Li() && 0 < A.length && (x.psa=A[A.length - 1]);if(x.LEa){if(B.Li())return;x.LEa=!1;C=null === (z=this.Wb) || void 0 === z?void 0:z.C9a().dib(q.Eo);C && 0 < C && B.remove(0,C);}for(z=x.Rm[0];z && z.response && (z.Hc || z.AC - y <= this.cC);){if((this.bta=!1,this.Jjc(z)))(x.Rm.shift(),z=x.Rm[0]);else break;}!B.Li() && 0 < A.length && (x.psa=A[A.length - 1]);}};c.prototype.Jjc=function(x){var y,z,B;!1;(0,f.ya)(x && !!x.response);y=x.response;z=x.mediaType;B=this.UL[z];if(!this.closed && B.Vj && !B.Vj.Li()){try{x.Hc && x.profile && B.Vj.gKb(x.profile);this.log.trace("Feeding media segment to decoder",{Bytes:y.byteLength});B.Vj.l0a(y,x);x.Hc || B.Zx.push(this.UNb(x));}catch(A){"QuotaExceededError" === A.name?(this.j.G9=this.j.G9?this.j.G9 + 1:1,this.Z0a=!1,B.jR=!0):(this.log.error("Exception while appending media",x,A),this.Sd("CodecSwitchingError" === A.name?d.aa.nRa:d.aa.Dxb,(0,p.paa)(z)));return;}return !0;}};c.prototype.MNb=function(x){var y;if(w.Kla[x.Sa])return w.Kla[x.Sa];y=this.j.Q$a(x.$c);y || (this.log.warn("Could not find CDN",{cdnId:x.$c}),y={id:x.$c,qdb:x.location});return y;};c.prototype.$3a=function(x){var y,z;y=x.Sa;if(w.Lla[y])return w.Lla[y];x.mediaType === u.u.T?z=this.j.N$a(y):x.mediaType === u.u.J && (z=this.j.bab(y));z || this.log.error("Could not find stream",{stream:y});return z;};c.prototype.UNb=function(x){var y;y=this.$3a(x);return {Xca:x,stream:y,Jn:{startTime:Math.floor(x.AC),endTime:Math.floor(x.Cw)},Cc:this.MNb(x)};};c.prototype.Tqa=function(x){this.o2a(x,u.u.T);this.o2a(x,u.u.J);};c.prototype.o2a=function(x,y){var z,B,A,C,D,E,G,F,L;z=this;B=x;this.Z0a && (B-=l.config.a1);A=this.UL[y];C=A.Zx;G=!1;C.some(function(O,K){var I;I=O.Xca;if(x < I.AC)return ((0,f.ya)(!1,"decoder content does not contain media time"),!0);B >= I.Cw && (D=K);if(x < I.Cw)return (E=K,K=y === u.u.T?z.j.eg:z.j.Pe,O !== K.value && (K.set(O),G=!0),!0);});if((A.jR || G) && void 0 !== D && !this.bta){if(D + 1 === E){if(0 === D)return;D--;}F=C[D].Xca.Cw - 1;if(0 < F){L=A.Vj;L && !L.Li()?(L.remove(0,F / k.Wu),A.jR=!1,C.splice(0,D + 1)):(A.jR=!0,!1);}}};c.prototype.gkb=function(){!1;[this.audio,this.video].forEach(function(x){x.Zx=[];x.psa=void 0;x.Rm=[];});this.H2=this.FW=!1;this.j.fireEvent(n.ka.Sca);};c.prototype.iwa=function(){return [this.audio,this.video].filter(function(x){return x.Vj;});};c.prototype.iWb=function(){var x,y;if(this.Li())(0,f.ya)(!1,"should not be busy while checking buffer ranges");else {x=this.iwa().map(function(z){var B,A,C,D,E;D=z.Rm.filter(function(G){return G.CF;});E=z.Vj.buffered();z=E.length?Math.ceil(1E3 * E.start(0)):void 0;E=E.length?Math.floor(1E3 * E.end(E.length - 1)):void 0;z=null !== z && void 0 !== z?z:null === (B=D[0]) || void 0 === B?void 0:B.AC;B=null !== (C=null === (A=D[D.length - 1]) || void 0 === A?void 0:A.Cw) && void 0 !== C?C:E;if(void 0 !== z && void 0 !== B)return {start:z,end:B};});if(x.every(function(z){return z;})){y=Math.max.apply(Math,ia(x.map(function(z){return z.start;})));x=Math.min.apply(Math,ia(x.map(function(z){return z.end;})));if(x > y)return {start:(0,q.$b)(y),end:(0,q.$b)(x)};}}};c.prototype.skip=function(x){(0,f.ya)(!this.Li(),"should not be busy while skipping");this.iwa().forEach(function(y){y.jR=!0;});this.Tqa(x);this.iwa().forEach(function(y){0 < y.Zx.length || (y.Rm=y.Rm.filter(function(z){return z.Hc || z.Cw > x?!0:!1;}));});};b.EPa=c;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});b.Lla=b.Kla=void 0;r=a(38);a={};b.Kla=(a[r.Op]={id:-1,name:"hardcoded",vc:1,type:"hardcoded",qdb:"-1",e2b:!1,location:{id:"-1",vc:1,level:100,weight:1}},a);a={};b.Lla=(a[r.Op]={track:{type:"padding",trackId:"padding",Vi:"padding",og:"padding",dG:"other",Of:"padding",pG:"padding",aK:"padding",Bh:{}},type:"padding",Tb:"-1",bitrate:1,gb:100,kf:"unknown",size:1,Ksa:{},Bh:{},Hm:"",framerate:0,Ij:!1,Xj:[],height:1,width:1},a);},function(r,b){function a(c,l){this.j=l;this.QK=!0;this.Oga=!1;this.ea=c;}Object.defineProperty(b,"__esModule",{value:!0});b.sWa=void 0;a.prototype.RAa=function(){this.QK && (this.QK=!1,this.j.paused.set(!1));};a.prototype.QAa=function(){this.QK || (this.QK=!0,this.j.paused.set(!0));};a.prototype.pause=function(){var c;this.paused || (this.QK=!0,null === (c=this.ea) || void 0 === c?void 0:c.pause());};a.prototype.play=function(){var c,l;c=this;return this.paused && !this.Oga?(this.Oga=!0,Promise.resolve(null === (l=this.ea) || void 0 === l?void 0:l.play()).then(function(){c.Oga=!1;}).catch(function(g){var m;c.Oga=!1;c.QK=!(null === (m=c.ea) || void 0 === m || !m.paused);throw g;})):Promise.resolve();};a.prototype.close=function(){this.ea=void 0;};Va.Object.defineProperties(a.prototype,{paused:{configurable:!0,enumerable:!0,get:function(){return this.QK;}}});b.sWa=a;},function(r,b){function a(l,g,m){var d,f,h,k;d=[];l.forEach(function(n){-1 == d.indexOf(n.kf) && d.push(n.kf);});f=null;h=null;g.forEach(function(n){null === f?h=f=n.bitrate:h < n.bitrate?h=n.bitrate:f > n.bitrate && (f=n.bitrate);});k=[];d.forEach(function(n){var p;p={ranges:[],profile:n};f && h && (p.ranges.push({min:f,max:h}),m && (p.disallowed=m.filter(function(q){return q.stream.kf === n;}).map(function(q){return {stream:{bitrate:q.stream.bitrate},disallowedBy:q.U9};})),k.push(p));});return k;}function c(l,g){var m;m=void 0;return {cF:l.filter(function(d){var f;f=g(d);f && (m=m || [],m.push({stream:d,U9:f}));return !f;}),MQb:m};}Object.defineProperty(b,"__esModule",{value:!0});b.LQb=b.Cv=b.NOb=b.A$a=void 0;b.A$a=function(l,g){g=c(l,g);return a(l,g.cF,g.MQb);};b.NOb=a;b.Cv=c;b.LQb=function(l){if(l.Ij && l.lower && 1080 < l.height)return ["Prefetch UHD"];};},function(r,b,a){var l,g;function c(m,d){m=l.ec.call(this,m) || this;m.Bza=d;return m;}Object.defineProperty(b,"__esModule",{value:!0});b.OSa=void 0;l=a(74);g=a(95);ka(c,l.ec);c.prototype.set=function(m){l.ec.prototype.set.call(this,(0,g.AD)(m,0,this.Bza));};b.OSa=c;},function(r,b,a){var g,m,d,f,h,k,n,p,q,v;function c(t,w,u,x,y,z){var B;B=this;this.mi=t;this.config=u;this.Ib=x;this.debug=y;this.FI={};this.u5a=!1;this.KW={};this.vxa=0;this.oaa=function(A){var C,D,E;C=A.stream;if(C){A=C.Tb;D=C.bitrate;E=C.gb;}else A=A.track.Tb;return {key:A + "$" + D + "$" + E,Tb:A,bitrate:D,gb:E};};this.H8a=function(A){var C,D,E;D=B.oaa(A);E=null === (C=A.Cc) || void 0 === C?void 0:C.id;A=A.track.og;return Object.assign({},D,{key:D.key + "$" + E + "$" + A,Ro:E,og:A});};this.gWb=function(A){var C;C=A.stream;A=null === C || void 0 === C?void 0:C.Tb;C=null === C || void 0 === C?void 0:C.bitrate;return {key:A + "$" + C,Tb:null !== A && void 0 !== A?A:"",MQ:C};};this.QZb=function(A){var C;C=A.stream;A=null === C || void 0 === C?void 0:C.Tb;C=null === C || void 0 === C?void 0:C.gb;return {key:A + "$" + C,Tb:null !== A && void 0 !== A?A:"",MQ:C};};this.log=w.cb("PlayTimeTracker");this.tea=z(t);this.xw=z(t);this.NBa=z(t);this.startTime=this.mi.mediaTime.value;this.zca=this.config().nFb;this.dM();this.FI.abrdel=0;this.zca.forEach(function(A){A="abrdel" + A;B.KW[A]=0;B.FI[A]=0;});}function l(){}Object.defineProperty(b,"__esModule",{value:!0});b.ASa=void 0;r=a(0);g=a(1);m=a(7);d=a(12);f=a(80);a(5);h=a(25);k=a(111);n=a(17);p=a(23);q=a(588);v=a(202);l.prototype.encode=function(t){return {downloadableId:t.Tb,correlationId:t.og,bitrate:t.bitrate,vmaf:t.gb,duration:t.duration,metric:t.MQ,cdnId:t.Ro};};l.prototype.decode=function(t){return {Tb:t.downloadableId,og:t.correlationId,bitrate:t.bitrate,gb:t.vmaf,duration:t.duration,MQ:t.metric,Ro:t.cdnId};};c.prototype.Sr=function(t){t=void 0 === t?"content":t;this.CG(this.mi.mediaTime.value);return Math.floor(this.xw.Sr(function(w){return w.track.dG === t;}));};c.prototype.Q8a=function(t){this.CG(this.mi.mediaTime.value);return Math.floor(this.xw.Sr(t));};c.prototype.UY=function(t){var w;t=void 0 === t?"content":t;this.CG(this.mi.mediaTime.value);w=this.xw.UY(function(u){return u.track.dG === t;});this.debug.assert(w === Math.floor(w),"Value of totalContentPlayTime is not an integer.");return Math.floor(w);};c.prototype.YVb=function(){this.CG(this.mi.mediaTime.value);return {audio:this.FY(this.tea,this.H8a),video:this.FY(this.xw,this.H8a)};};c.prototype.tYb=function(){var t,w,u;t=this.Sr("content");w=this.Sr("ads");u=this.Sr("other");t={total:t,totalAdDuration:w,totalOtherDuration:u,totalCombinedDuration:t + w + u,totalContentTime:this.UY("content"),totalStartSlateDuration:this.Q8a(function(x){return !0 === x.Fxa;}),totalLiveEdgeDuration:this.Q8a(function(x){return !0 === x.BF;}),audio:this.FY(this.tea,this.oaa),video:this.FY(this.xw,this.oaa),timedtext:this.FY(this.NBa,this.oaa)};this.debug.assert(!(!t.audio || !t.video));return t;};c.prototype.Iua=function(){var t,w;this.CG(this.mi.mediaTime.value);t=this.xw.Bua(this.gWb);try{w=this.d8a(t);}catch(u){return (this.log.warn("Failed to calc average bitrate."),null);}this.FI.abrdel=Math.round(w);return this.FI.abrdel;};c.prototype.e8a=function(){var t,w;this.CG(this.mi.mediaTime.value);t=this.xw.Bua(this.QZb);try{w=this.d8a(t);}catch(u){return (this.log.warn("Failed to calc average vmaf."),null);}return Math.round(w);};c.prototype.c8a=function(){var t,w;t=this;if(!this.u5a){w=this.Sr();this.zca.forEach(function(u){var x,y,z;if(0 === t.KW["abrdel" + u] && w > u * n.Wu){x=0;y=0;z=0;t.xw.some(function(B){x+=B.stream.bitrate * (B.endTime - B.startTime);y+=B.endTime - B.startTime;z=B.stream.bitrate;return y > u * n.Wu;});x && (t.KW["abrdel" + u]=Math.round((x - z * (y - u * n.Wu)) / (u * n.Wu)));}});0 !== this.KW["abrdel" + this.zca[this.zca.length - 1]] && (this.u5a=!0);(0,p.zh)(this.KW,function(u,x){t.FI[u]=0 === x?t.FI.abrdel:x;});}return this.FI;};c.prototype.UFb=function(t){this.vxa+=t;};c.prototype.gba=function(){return this.xw.gba();};c.prototype.dM=function(){var t;t=this;this.mi.eg.addListener(function(w){t.QO=t.c2a(t.QO,t.tea,w.newValue);});this.mi.Pe.addListener(function(w){t.SO=t.c2a(t.SO,t.xw,w.newValue);});this.mi.playbackRate.addListener(function(w){t.CG(t.mi.mediaTime.value,w.oldValue);});this.mi.Cj.addListener(this.X7b.bind(this));};c.prototype.zAa=function(t,w){this.CG(t);this.startTime=w;this.SO=this.QO=void 0;this.RO && (this.RO.startTime=this.startTime);!1;};c.prototype.X7b=function(t){this.NBa.Ig(this.RO,this.mi.mediaTime.value);this.RO=(t=t.newValue)?{track:t,startTime:this.mi.mediaTime.value,endTime:f.Qz}:void 0;};c.prototype.CG=function(t,w){w=void 0 === w?this.mi.playbackRate.value:w;t && this.QO && this.SO && (t=Math.min(t,this.QO.endTime,this.SO.endTime),this.tea.Ig(this.QO,t,w),this.QO.startTime=t,this.xw.Ig(this.SO,t,w),this.SO.startTime=t,this.RO && (this.NBa.Ig(this.RO,t,w),this.RO.startTime=t),this.startTime=t,!1);};c.prototype.c2a=function(t,w,u){var x;t && w.Ig(t,Math.min(t.endTime,this.mi.mediaTime.value));if(u && u.stream){t=u.Jn;w=u.stream;x=this.mi.Kd;return {Cc:u.Cc,track:w.track,stream:w,startTime:Math.max(t.startTime,this.startTime),endTime:t.endTime,Fxa:x.ta?x.iF(t.endTime) === v.Vu.CU:void 0,BF:x.ta?x.mbb():void 0};}};c.prototype.FY=function(t,w){return t.Bua(w,"content").map(function(u){return new l().encode(u);});};c.prototype.d8a=function(t){var w,u,x;w=this;u=0;t.forEach(function(y){if(w.Ib.wh(y.duration) && w.Ib.wh(y.MQ))u+=y.duration;else throw Error("Invalid arguments: missing duration and/or metric in segment.");});if(!u)return 0;x=0;t.forEach(function(y){x+=y.MQ * y.duration / u;});return x;};a=c;a=r.__decorate([(0,g.$)(),r.__param(1,(0,g.l)(m.jb)),r.__param(2,(0,g.l)(d.xc)),r.__param(3,(0,g.l)(h.Ug)),r.__param(4,(0,g.l)(k.Fz)),r.__param(5,(0,g.l)(q.hla))],a);b.ASa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.zSa="PlayTimeTrackerFactorySymbol";},function(r,b,a){var l,g,m;function c(d,f,h,k,n,p,q,v,t,w,u,x,y,z){this.index=d;this.L=f;this.S=h;this.lb=k;this.sa=n;this.nj=p;this.Vya=q;this.ULb=t;this.Web=u;this.gj=y;this.Gc=new l.ec(null);this.Uh=new l.ec(null);this.Ob=new l.ec(null);this.Cj=new l.ec(null);this.Lw=new l.ec(void 0);this.Hf=new l.ec(null);this.bi=new l.ec(null);this.eg=new l.ec(null);this.Pe=new l.ec(null);this.Cc=[new l.ec(null),new l.ec(null)];this.mediaTime=new l.ec(void 0);this.playbackRate=new l.ec(1);this.Ir=new l.ec(null);this.KI=this.JI="notcached";this.T9=this.background=!1;v && (this.Hf.set(v.Hf.value),this.bi.set(v.bi.value));this.Tm=w(this);this.co=this.Web.ucc(this.sa,this.nj);this.Kd=x(this,z);}Object.defineProperty(b,"__esModule",{value:!0});b.PSa=void 0;l=a(74);g=a(5);m=a(22);c.prototype.Ze=function(d){this.co.Er(d);};c.prototype.NB=function(d){var f;f=this;Object.entries(d).forEach(function(h){var k;k=oa(h);h=k.next().value;k=k.next().value;f.co.Er(h,(0,g.$b)(k - f.nj.ia(g.va)));});};c.prototype.Fda=function(){this.Web.Pcc(this.sa);};Va.Object.defineProperties(c.prototype,{je:{configurable:!0,enumerable:!0,get:function(){return this.lb.je;}},gha:{configurable:!0,enumerable:!0,get:function(){return this.lb.gha;}},Hm:{configurable:!0,enumerable:!0,get:function(){return this.Rc && this.Rc.Hm;}},Ej:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.Rc && this.Rc.Ej) && void 0 !== d?d:[];}},uz:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.Rc && this.Rc.uz) && void 0 !== d?d:[];}},YC:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.Rc && this.Rc.YC) && void 0 !== d?d:[];}},wi:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.Rc && this.Rc.wi) && void 0 !== d?d:[];}},fh:{configurable:!0,enumerable:!0,get:function(){return this.Rc && this.Rc.fh;}},hK:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.Rc && this.Rc.hK) && void 0 !== d?d:!1;}},Bw:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.Rc && this.Rc.Bw) && void 0 !== d?d:[];}},th:{configurable:!0,enumerable:!0,get:function(){var d;return null !== (d=this.Rc && this.Rc.th) && void 0 !== d?d:[];}},kB:{configurable:!0,enumerable:!0,get:function(){var d,f,h,k,n;return this.Kd.ta?((0,m.ya)(void 0 === this.pN || Infinity === this.pN.ia(g.va),"Unexpected contentDuration from ASE. Live should be Infinity. - isLive:" + this.Kd.ta + ", contentDuration:" + (null === (d=this.pN) || void 0 === d?void 0:d.display)),(0,g.$b)(Math.max(null !== (f=this.Kd.EB()) && void 0 !== f?f:0,null !== (h=this.mediaTime.value) && void 0 !== h?h:0))):this.pN && 0 < this.pN.ia(g.va)?this.pN:(0,g.$b)(null !== (n=null === (k=this.ba) || void 0 === k?void 0:k.Ra.duration) && void 0 !== n?n:0);},set:function(d){this.pN=d;}},veb:{configurable:!0,enumerable:!0,get:function(){var d;return this.Kd.ta?((0,m.ya)(void 0 === this.W6 || Infinity === this.W6.ia(g.va),"Unexpected maxSeekPts from ASE. Live should be Infinity. - isLive:" + this.Kd.ta + ", maxSeekPts:" + (null === (d=this.W6) || void 0 === d?void 0:d.display)),(0,g.$b)(this.Kd.OXb())):this.W6;},set:function(d){this.W6=d;}},Dl:{configurable:!0,enumerable:!0,get:function(){return this.lb.Dl || 0;}},rX:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.jX?this.jX:void 0 === this.mediaTime.value?null:this.ULb(this.mediaTime.value,this.S);}},og:{configurable:!0,enumerable:!0,get:function(){var d,f;return null === (f=null === (d=this.ba) || void 0 === d?void 0:d.Ra.DE) || void 0 === f?void 0:f.Ap;}},uL:{configurable:!0,enumerable:!0,get:function(){var d,f;return null === (f=null === (d=this.ba) || void 0 === d?void 0:d.Ra.DE) || void 0 === f?void 0:f.uL;}},yd:{configurable:!0,enumerable:!0,get:function(){return this.co.yd;}}});b.PSa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.aWa="TrickPlayParserSymbol";},function(r,b,a){var l,g,m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.$Va=void 0;r=a(0);g=a(171);a=a(1);c.prototype.parse=function(d){var f,h;if(!d)throw Error("invalid array buffer");f=new Uint8Array(d);h=new g.DT(f);d=this.A9b(h);f=this.B9b(h,f,d);return {header:d,images:f};};c.prototype.A9b=function(d){var f,h,k,n;if(d.Kva() < this.vdc())throw Error("array buffer too short");l.dPa.forEach(function(p){if(p != d.CC())throw Error("BIF has invalid magic.");});f=d.BR();if(f > l.VERSION)throw Error("BIF version in unsupported");h=d.BR();if(0 == h)throw Error("BIF has no frames.");k=d.BR();n=d.ol(l.QTa);return {version:f,F7b:h,Wnb:k,zdc:n};};c.prototype.B9b=function(d,f,h){var p,q;for(var k=[],n=0;n <= h.F7b;n++){p={timestamp:d.BR(),offset:d.BR()};void 0 != q && k.push(f.subarray(q.offset,p.offset));q=p;}return k;};c.prototype.vdc=function(){return l.dPa.length + 4 + 4 + 4 + l.QTa;};m=l=c;m.dPa=[137,66,73,70,13,10,26,10];m.VERSION=0;m.QTa=44;m=l=r.__decorate([(0,a.$)()],m);b.$Va=m;},function(r,b,a){var l,g,m,d;function c(f,h,k){this.config=f;this.j=h;this.ug=k;this.uC=void 0;this.jea=!1;this.rya=0;this.log=this.ug.cb();}Object.defineProperty(b,"__esModule",{value:!0});b.DUa=void 0;l=a(16);g=a(5);m=a(95);d=a(15);c.prototype.ZXb=function(f,h,k,n,p){var q,v,t,w;k=void 0 === k?this.j.S:k;n=void 0 === n?!1:n;q=h === l.Fd.QM;v=this.EJb(q?f:this.QKb(f,k),h,n,k);n=this.j.qb;q?(f=v,v=n.lB(v)):f=n.lX(k,v);h === l.Fd.Uu && (this.j.n1a=v);p=this.ci(f,h,p);t=(q=q || p)?f:v;if(this.j.ks){w=this.j.lb.ji?this.config().dBa:this.config().$F;this.j.R$a(t,w) || h !== l.Fd.ED && h !== l.Fd.VT || (t=this.j.ks.ia(g.va) - w - 1E3,q?(f=t,v=n.lB(t)):(f=n.lX(k,t),v=t));}return {xda:t,$k:v,C$b:f,ci:p};};c.prototype.EJb=function(f,h,k,n){this.o2b() || k?f=Math.round(f):(k=this.j.qb.P1a(f,n),f=(0,d.Qa)(k)?k:Math.round(f));this.j.lb.ji && (f=this.WUb(f));this.config().XDa && 0 !== f && h !== l.Fd.Uu && (f+=this.config().XDa);return f;};c.prototype.ci=function(f,h,k){if(this.config().KQb || h === l.Fd.Uu || h === l.Fd.L5 || h === l.Fd.M3 || !k || f < k.start.ia(g.va) || f >= k.end.ia(g.va))return !1;h=this.j.qb;return (null === h || void 0 === h?void 0:h.dj) && h.ci(f) || !1;};c.prototype.o2b=function(){return this.j.lb.ji?!0:"boolean" === typeof this.j.lb.r0?this.j.lb.r0:navigator.hardwareConcurrency && 2 >= navigator.hardwareConcurrency?this.config().r0 && this.config().aac:this.config().r0;};c.prototype.QKb=function(f,h){var k;k=this.j.Hj(h);h=k.kB;k=k.veb;!1;h=k || h;k=this.j.Kd.ta && !this.j.Kd.Kxa()?0:this.config().imc;h=Math.max(0,h.ia(g.va) - k);return (0,m.AD)(f,0,h);};c.prototype.WUb=function(f){var h,k,n;h=this.j.xY();if(Object.values(h).find(function(p){var q;q=p.Aa;q=f < (null !== q && void 0 !== q?q:Infinity);return p.Ba <= f && q;}))return (!1,f);n=f;Object.entries(h).forEach(function(p){var q;p=oa(p);p.next();p=p.next().value.Ba;q=p - f;0 < q && (void 0 === k || q < k) && (k=q,n=p);});!1;return n;};Va.Object.defineProperties(c.prototype,{Vba:{configurable:!0,enumerable:!0,get:function(){return this.jea || !!this.uC;}}});b.DUa=c;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w,u;function c(x,y,z,B,A,C){var D;D=this;this.j=x;this.al=y;this.s2=z;this.Wi=B;this.B1=A;this.$o=C;this.r4a={};this.update=function(){var E;if(D.Sq.selectionStart == D.Sq.selectionEnd){E="";D.HY().forEach(function(G){E=E?E + "\n":"";Object.entries(G).forEach(function(F){var L;L=oa(F);F=L.next().value;L=L.next().value;E+=F + ": " + L + "\n";});});D.Sq.style.fontSize=(0,m.AD)((0,f.CM)(D.element.clientHeight / 60),8,18) + "px";D.Sq.value=E;}};this.n8b=function(){var E,G;if(D.j.pf){G=D.j.pf.GJ();G && (D.$ra=G - (null !== (E=D.dob) && void 0 !== E?E:0),D.dob=G,D.bR());}};this.bR=function(){D.s2.vl(D.update);};this.onkeydown=function(E){E.ctrlKey && E.altKey && E.shiftKey && (E.keyCode == n.uD.Isb || E.keyCode == n.uD.Q) && D.toggle();};this.Jhb=[x.mediaTime,x.Cc[q.u.T],x.Cc[q.u.J],x.eg,x.Pe,x.bi,x.Hf,x.Cj,x.state,x.kt,x.Db,x.volume,x.muted];this.element=this.Wi.createElement("div","position:fixed;left:10px;top:10px;right:10px;bottom:10px;z-index:9999",void 0,{"class":"player-info"});this.Sq=this.Wi.createElement("textarea","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto;",void 0,{readonly:"readonly"});this.element.appendChild(this.Sq);this.controls=this.Wi.createElement("div","position:absolute;top:2px;right:2px");this.element.appendChild(this.controls);y=this.Wi.createElement("button",void 0,"X");y.addEventListener("click",function(){return D.ry();},!1);this.controls.appendChild(y);g.Xe.addListener(g.qF,this.onkeydown);x.addEventListener(k.ka.uh,function(){g.Xe.removeListener(g.qF,D.onkeydown);D.ry();});}Object.defineProperty(b,"__esModule",{value:!0});b.LSa=void 0;l=a(64);g=a(58);m=a(95);d=a(308);f=a(14);h=a(15);k=a(16);n=a(205);p=a(5);q=a(48);r={};v=(r[k.ic.FM]="Not Loaded",r[k.ic.LOADING]="Loading",r[k.ic.Se]="Normal",r[k.ic.CLOSING]="Closing",r[k.ic.CLOSED]="Closed",r);r={};t=(r[k.gg.Se]="Normal",r[k.gg.Yd]="Pre-buffering",r[k.gg.rUa]="Network stalled",r);r={};w=(r[k.nb.Cg]="Waiting for decoder",r[k.nb.Xc]="Playing",r[k.nb.aj]="Paused",r[k.nb.Ks]="Media ended",r);u=[k.ka.Sca];c.prototype.nfc=function(x){this.r4a.DFR=x;};c.prototype.show=function(){var x;x=this;this.visible || (this.tZ=mb.setInterval(this.n8b,1E3),document.body.appendChild(this.element),this.Jhb.forEach(function(y){y.addListener(x.bR);}),u.forEach(function(y){x.j.addEventListener(y,x.bR);}),this.visible=!0,this.$o.Q1().then(function(y){x.ywa=y;x.bR();}));this.update();};c.prototype.ry=function(){var x;x=this;this.visible && (clearInterval(this.tZ),this.dob=this.$ra=void 0,document.body.removeChild(this.element),this.Jhb.forEach(function(y){y.removeListener(x.bR);}),u.forEach(function(y){x.j.removeEventListener(y,x.bR);}),this.s2.vl(),this.visible=!1);};c.prototype.toggle=function(){this.visible?this.ry():this.show();};c.prototype.HY=function(){var x,y,z,B,A,C,D,E,G,F,L,O,K,I,M,H,J,N,P,W,V,S,U,fa,qa,za,Aa,Qa,T,Z,Q,la,sa,R,ha,wa,va,Ea,Ya,wb,nb,zb,Oa,Za,Xa,cb,hb,sb,Hb,Lb,Rb,Tb;N=[];P=this.al();N.push({Version:"6.0039.350.911",Esn:P?P.Wl:"UNKNOWN",PBCID:this.j.og,UserAgent:f.vH});try{W=this.j.mediaTime.value;V={MovieId:this.j.L,PackageId:null === (y=null === (x=this.j.ba) || void 0 === x?void 0:x.Ra) || void 0 === y?void 0:y.zp,Xid:this.j.sa + " (" + l.Pp.map(function(Ob){return Ob.sa;}).join(", ") + ")",Position:(0,m.Ci)(W),Duration:(0,m.Ci)(this.j.kB.ia(p.va)),PlayerDuration:(0,m.Ci)(this.j.ks.ia(p.va)),Volume:(0,f.Mp)(100 * this.j.volume.value) + "%" + (this.j.muted.value?" (Muted)":""),Segment:this.j.Fva()};if(this.j.lb.ji || this.j.lb.Wba)V["Segment Position"]=(0,m.Ci)(this.j.lF());this.j.Kd.ta && (V["Is Live"]="true",V["Live Event Slate"]=this.j.Kd.iF(),V["Is At Live Edge"]="" + this.j.Kd.BF(),V["Adjusted Live Edge"]=(0,m.Ci)(this.j.Kd.EB()),V["Live Adjusted Duration"]=(0,m.Ci)(this.j.Kd.q9a()),V["Live Adjusted Playback Position"]=(0,m.Ci)(this.j.Kd.Oaa()),V["Live Event Time Playback Position"]=this.j.Kd.WWb());N.push(V);}catch(Ob){}try{N.push({"Player state":v[this.j.state.value],"Buffering state":t[this.j.kt.value],"Rendering state":w[this.j.Db.value]});}catch(Ob){}try{S=this.j.QGa() + this.j.Hpa();U=this.j.eg.value;fa=null === U || void 0 === U?void 0:U.stream;qa=this.j.Pe.value;za=null === qa || void 0 === qa?void 0:qa.stream;Aa=null !== (z=null === fa || void 0 === fa?void 0:fa.bitrate) && void 0 !== z?z:"?";Qa=za?za.bitrate + " (" + za.width + "x" + za.height + ")":"?";T=null !== (B=null === fa || void 0 === fa?void 0:fa.Tb) && void 0 !== B?B:"?";Z=null !== (A=null === za || void 0 === za?void 0:za.Tb) && void 0 !== A?A:"?";Q=null !== (C=null === za || void 0 === za?void 0:za.gb) && void 0 !== C?C:"?";la=null !== (E=null === (D=this.j.Hf.value) || void 0 === D?void 0:D.gb) && void 0 !== E?E:"?";sa=null !== (F=null === (G=this.j.bi.value) || void 0 === G?void 0:G.bitrate) && void 0 !== F?F:"?";R=null !== (O=null === (L=this.j.Hf.value) || void 0 === L?void 0:L.bitrate) && void 0 !== O?O:"?";ha=this.j.Cc[q.u.J].value;wa=this.j.Cc[q.u.T].value;N.push({"Playing bitrate (a/v)":Aa + " / " + Qa,"Playing/Buffering vmaf":Q + "/" + la,"Buffering bitrate (a/v)":sa + " / " + R,"Buffer size in Bytes (a/v)":this.j.Hpa() + " / " + this.j.QGa(),"Buffer size in Bytes":"" + S,"Buffer size in Seconds (a/v)":(0,m.Ci)(this.j.xW()) + " / " + (0,m.Ci)(this.j.y2()),"Downloadables (a/v)":T + " / " + Z,"Current CDN (a/v)":(wa?wa.name + ", Id: " + wa.id:"?") + " / " + (ha?ha.name + ", Id: " + ha.id:"?")});}catch(Ob){}try{va=this.j.eg.value;x={};if(va && va.stream){Ea=va.stream;Ya=Ea.track;wb=this.B1.s9(Ya.streams);nb=Ea.kf;zb=(/xheaac/).test(nb)?"xhe-aac":(/heaac/).test(nb)?"he-aac":(/ddplus/).test(nb)?"ddplus":"unknown";(/atmos/).test(nb) && (zb+=", atmos");x["Audio Track"]=Ya.Of + ", Id: " + Ya.trackId + ", Channels: " + Ya.channels + ", Codec: " + wb + " (" + zb + ")";x["Audio Tags"]=null === (K=va.stream) || void 0 === K?void 0:K.Xj.toString();}Oa=this.j.Pe.value;if(Oa && Oa.stream){Za=Oa.stream;Xa=this.B1.y9(this.j.Uh.value?this.j.Uh.value.streams:[]);cb=Za.kf;hb=(/hevc/).test(cb)?"hevc":(/vp9/).test(cb)?"vp9":(/h264hpl/).test(cb)?"avchigh":(/av1/).test(cb)?"av1":"avc";(/hdr/).test(cb) && (hb+=", hdr");(/dv/).test(cb) && (hb+=", dv");(/prk/).test(cb) && (hb+=", prk");x["Video Track"]="Codec: " + Xa + " (" + hb + ")";x["Video Tags"]=null === (I=Oa.stream) || void 0 === I?void 0:I.Xj.toString();}sb=this.j.Cj.value;x["Timed Text Track"]=sb?sb.Of + ", Profile: " + sb.profile + ", Id: " + sb.trackId:"none";N.push(x);}catch(Ob){}try{Hb=this.j.pf;Lb=this.j.Hf.value?this.j.Hf.value.framerate:0;Rb=a(589).Idb;N.push({Framerate:Lb.toFixed(3),"Current Dropped Frames":(0,h.Qa)(this.$ra)?this.$ra:"","Total Frames":Hb.my(),"Total Dropped Frames":Hb.GJ(),"Total Corrupted Frames":Hb.BY(),"Main Thread stall/sec":Rb?Rb.mXb().join(" "):"DISABLED",KeySystem:null === (M=this.j.We) || void 0 === M?void 0:M.IP(),KeyStatus:null === (J=null === (H=this.j.We) || void 0 === H?void 0:H.i9a) || void 0 === J?void 0:J.call(H),VideoDiag:(0,d.iza)(this.j.Raa()),"HDR support":this.ywa?this.ywa.result + " (" + this.ywa.reason + ")":"unknown"});}catch(Ob){}try{N.push({Throughput:this.j.Ya + " kbps"});}catch(Ob){}Tb=void 0;try{Object.entries(this.r4a).forEach(function(Ob){var Eb;Eb=oa(Ob);Ob=Eb.next().value;Eb=Eb.next().value;Tb=Tb || ({});Tb[Ob]=JSON.stringify(Eb);});Tb && N.push(Tb);}catch(Ob){}return N;};b.LSa=c;},function(r,b,a){var g,m,d,f;function c(h,k,n,p){this.sa=h;this.rdc=k;this.qa=n;this.ah=p;this.yd={};}function l(h,k){this.ug=h;this.ah=k;this.gd={};this.qa=h.cb("PlaybackMilestoneStoreImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.Qxb=b.NSa=void 0;r=a(0);g=a(1);m=a(7);d=a(18);f=a(5);l.prototype.ucc=function(h,k){this.gd[h] && this.qa.warn("registerPlayback: xid " + h + " already registered, overriding");k=(k?k:this.ah.Rb()).ia(f.va);this.qa.trace("registerPlayback: xid " + h + " at " + k);this.gd[h]=new c(h,k,this.qa,this.ah);return this.gd[h];};l.prototype.uYb=function(h){this.gd[h] || this.qa.warn("getPlaybackMilestones: xid " + h + " is not registered");return this.gd[h];};l.prototype.Pcc=function(h){this.qa.trace("removePlayback: xid " + h);delete this.gd[h];};a=l;a=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(m.jb)),r.__param(1,(0,g.l)(d.jd))],a);b.NSa=a;c.prototype.Er=function(h,k){k=k?k.ia(f.va):this.ah.Rb().ia(f.va) - this.rdc;this.qa.trace("addMilestone: xid " + this.sa + " " + h + " at " + k);this.yd[h]=k;};b.Qxb=c;},function(r,b,a){var l,g,m,d;function c(f){this.Ia=f;this.trace=[];}Object.defineProperty(b,"__esModule",{value:!0});b.dUa=void 0;r=a(0);l=a(16);g=a(1);m=a(18);d=a(5);c.prototype.pl=function(f){f.cause !== l.Fd.Uu && (this.trace.unshift({time:this.Ia.Rb(),event:f}),5 < this.trace.length && this.trace.pop());};c.prototype.p$a=function(){var f,h;f=this;if(0 === this.trace.length)return {};h=this.trace[0];return {timeSinceLastRepositionMs:this.Rnb(h.time),lastRepositionCause:this.r8a(h.event.cause),repositionTrace:this.trace.map(function(k){return {timeSince:f.Rnb(k.time),cause:f.r8a(k.event.cause),newMediaTime:k.event.xda,oldMediaTime:k.event.GAa,contentPts:k.event.$k,skip:k.event.skip};})};};c.prototype.Rnb=function(f){return this.Ia.Rb().Ga(f).ia(d.va);};c.prototype.r8a=function(f){switch(f){case l.Fd.Uu:return "initial";case l.Fd.ED:return "seek";case l.Fd.VT:return "live_edge";case l.Fd.QM:return "segment_changed";case l.Fd.L5:return "track_changed";case l.Fd.M3:return "force_rebuffer";}};a=c;a=r.__decorate([(0,g.$)(),r.__param(0,(0,g.l)(m.jd))],a);b.dUa=a;},function(r,b,a){var l,g,m;function c(d,f,h){this.mi=d;this.Ib=h;this.U=[];this.log=f.cb("PlayedSegmentsTrackerImpl");}Object.defineProperty(b,"__esModule",{value:!0});b.TSa=void 0;l=a(0);r=a(1);g=a(25);m=a(7);a(5);c.prototype.some=function(d){return this.U.some(d);};c.prototype.gba=function(){return !!(this.U[0] && this.U[0].stream && this.Ib.wh(this.U[0].stream.gb));};c.prototype.Sr=function(d){return this.U.filter(d).reduce(function(f,h){return f + (h.endTime - h.startTime) / h.rate;},0);};c.prototype.UY=function(d){return this.U.filter(d).reduce(function(f,h){return f + h.endTime - h.startTime;},0);};c.prototype.Bua=function(d,f){var h,k;h=this;k={};return this.U.filter(function(n){return !f || n.track.dG === f;}).reduce(function(n,p){var q,v,t;q=d.bind(h,p)();v=q.key;q=l.__rest(q,["key"]);p=p.endTime - p.startTime;t=k[v];t?t.duration+=p:(t=q,t.duration=p,n.push(t),k[v]=t);return n;},[]);};c.prototype.Ig=function(d,f,h){var k;h=void 0 === h?this.mi.playbackRate.value:h;k=this.U;d && f && f >= d.startTime && (d={Cc:d.Cc,track:d.track,stream:d.stream,startTime:d.startTime,BF:d.BF,Fxa:d.Fxa,endTime:f,rate:h},(f=k[k.length - 1]) && f.track === d.track && f.stream === d.stream && f.Cc === d.Cc && f.endTime === d.startTime && f.rate === d.rate?f.endTime=d.endTime:k.push(d),!1);};a=c;a=l.__decorate([l.__param(1,(0,r.l)(m.jb)),l.__param(2,(0,r.l)(g.Ug))],a);b.TSa=a;},function(r,b,a){var l,g,m,d,f,h;function c(k,n,p,q,v,t,w,u,x){var y;y=this;this.qb=k;this.j=n;this.log=p;this.config=q;this.Eec=v;this.Dnb=t;this.Dn=new l.ec(!1);this.Pb=new f.Gk();this.d1a=!1;this.N_=function(){y.d1a=!0;h.Xe.removeListener(h.Lm,y.N_);};this.DSb=u(this);k=k.wq();this.Mx=w({sa:n.sa.toString()});w=null === k || void 0 === k?void 0:k.Ohb.events;null === w || void 0 === w?void 0:w.addListener("adPresenting",function(){!1;y.N6a();});null === w || void 0 === w?void 0:w.addListener("adBreakPresenting",function(){!1;x.RQ(n);y.Dn.set(!0);});null === w || void 0 === w?void 0:w.addListener("adBreakEnded",function(){!1;y.Dn.set(!1);});null === w || void 0 === w?void 0:w.addListener("adPlaygraphUpdated",function(){!1;});null === w || void 0 === w?void 0:w.addListener("segmentDropped",function(z){var B;!1;B=y.j.Hj(z.segmentId);y.Eec.ebc(z,B);});this.hs=new m.zU();this.j.addEventListener("playbackStart",function(){y.hs.resolve();});w=null === k || void 0 === k?void 0:k.Vwa.events;null === w || void 0 === w?void 0:w.addListener("adEvent",function(z){y.hs.promise.then(function(){var B,A,C;z.event === g.Oha.EFb && z.dw && y.Dnb.forEach(function(D){return D.start(y.j);});A=null === (B=n.ba) || void 0 === B?void 0:B.Ra.fh;B=y.vZb(z);if(z.event === g.Oha.FFb && B){C=y.d1a?g.Pha.Job:n.Ki?g.Pha.error:g.Pha.iTb;B=Object.assign(Object.assign({},B),{reason:C});}y.Mx.Qec(z,A,B);});});h.Xe.addListener(h.Lm,this.N_);null === w || void 0 === w?void 0:w.addListener("adBreakEvent",function(z){z.event === g.pHa.nE && y.Pb.Zc(d.Z2.nE);y.hs.promise.then(function(){y.Mx.Pec(z,n);});});}Object.defineProperty(b,"__esModule",{value:!0});b.BHa=void 0;l=a(74);g=a(310);m=a(350);d=a(16);f=a(70);h=a(58);c.prototype.addEventListener=function(k,n,p){this.Pb.addListener(k,n,p);};c.prototype.removeEventListener=function(k,n){this.Pb.removeListener(k,n);};c.prototype.NP=function(){var k,n;return null === (n=null === (k=this.qb) || void 0 === k?void 0:k.wq()) || void 0 === n?void 0:n.rR.yC;};c.prototype.HXb=function(){var k,n,p,q;p=this.NP();if(p){q={position:null === p || void 0 === p?void 0:p.position.offset.Z,adDuration:null === (k=null === p || void 0 === p?void 0:p.oE) || void 0 === k?void 0:k.$f.endTime.Z,adIndex:null === (n=p.oE) || void 0 === n?void 0:n.index,adBreakIndex:p.index,adBreakDuration:null === p || void 0 === p?void 0:p.uf.duration.Z};(k=p.bhb) && (q.padding={type:k.kBa,duration:k.dea.Z});return q;}};c.prototype.Aua=function(){var k,n,p,q,v;q=this.j.ha.L.toString();v=null === (n=null === (k=this.qb) || void 0 === k?void 0:k.wq()) || void 0 === n?void 0:n.Ohb.Aua({cqb:[q]});return null !== (p=null === v || void 0 === v?void 0:v.result[q]) && void 0 !== p?p:[];};c.prototype.N6a=function(){};c.prototype.vZb=function(k){var n;if(k.dw){n=this.Dnb.reduce(function(p,q){return Object.assign(Object.assign({},p),q.Naa(k));},{});return Object.assign(Object.assign({},n),{thirdPartyVerificationToken:k.wS});}};b.BHa=c;},function(r,b,a){var l,g,m,d,f,h,k;function c(n,p,q,v,t,w,u){this.context=n;this.log=p;this.za=q;this.config=v;this.Ia=t;this.DFb=w;this.wFb=u;this.pEa={};}Object.defineProperty(b,"__esModule",{value:!0});b.wHa=void 0;r=a(0);l=a(1);g=a(18);m=a(27);d=a(5);f=a(12);h=a(311);k=a(310);c.prototype.Pec=function(n,p){var q,v,t;q=this;v=n.event;if(Object.values(k.pHa).includes(v)){t=p.SB?p.SB.ia(d.va):-1;n={href:p.ba.Kj.JP("events").href,sa:this.context.sa.toString(),event:v,Lx:n.Lx,uI:n.uI,position:n.Ni.offset.Z,oo:t,Py:{},dB:this.za.sL.ia(d.va),appId:this.config().appId || this.Ia.id,sessionId:this.config().sessionId || this.Ia.id};this.wFb.Sf(this.log,n).catch(function(w){q.log.error("Failed to send event",{eventKey:v,xid:p.sa,error:w});});}else this.log.debug("Ignoring unsupported event " + n.event);};c.prototype.Qec=function(n,p,q){var v,t,w;v=this;t=n.event;if(Object.values(k.Oha).includes(t)){w=n.ba.links.events.href;this.pEa[n.oo] || (this.pEa[n.oo]=this.za.BGb((0,d.$b)(n.oo)).ia(d.va));n={href:w,sa:this.context.sa.toString(),event:t,Lx:n.Lx,uI:n.uI,position:n.Ni.offset.Z,oo:this.pEa[n.oo],Py:n.Py,dB:this.za.sL.ia(d.va),appId:this.config().appId || this.Ia.id,sessionId:this.config().sessionId || this.Ia.id,E4b:p,Cic:null !== q && void 0 !== q?q:void 0};this.DFb.Sf(this.log,n).catch(function(u){v.log.error("Failed to send event",{eventKey:t,xid:v.context.sa,error:u});});}else this.log.debug("Ignoring unsupported event " + n.event);};a=c;a=r.__decorate([r.__param(2,(0,l.l)(m.Hh)),r.__param(3,(0,l.l)(f.xc)),r.__param(4,(0,l.l)(g.jd)),r.__param(5,(0,l.l)(h.Nha)),r.__param(6,(0,l.l)(h.Mha))],a);b.wHa=a;},function(r,b){function a(p){this.$f=p;}function c(p){this.padding=p;}function l(p){this.kW=p;}function g(p){this.Ni=p;}function m(p){this.Eea=p;}function d(p){this.fCa=p;}function f(p){this.eCa=p;}function h(p){this.kO=p;}function k(p){this.yC=p;}function n(p){this.wf=p;}Object.defineProperty(b,"__esModule",{value:!0});b.krb=b.Lxb=b.jrb=b.Cub=b.Uxb=b.Vxb=b.Txb=b.irb=b.Sxb=b.zHa=void 0;n.prototype.getPresentingAdBreak=function(){var p;p=this.wf.NP();if(p)return new k(p);};n.prototype.getAds=function(){return this.wf.Aua();};n.prototype.getLogInfo=function(){return this.wf.HXb();};b.zHa=n;Va.Object.defineProperties(k.prototype,{adBreak:{configurable:!0,enumerable:!0,get:function(){return new h(this.yC.uf);}},adInfo:{configurable:!0,enumerable:!0,get:function(){var p;p=this.yC.oE;if(p)return new f(p);}},paddingInfo:{configurable:!0,enumerable:!0,get:function(){var p;p=this.yC.bhb;if(p)return new d(p);}},progress:{configurable:!0,enumerable:!0,get:function(){return new m(this.yC.progress);}},position:{configurable:!0,enumerable:!0,get:function(){return new g(this.yC.position);}},index:{configurable:!0,enumerable:!0,get:function(){return this.yC.index;}}});b.Sxb=k;Va.Object.defineProperties(h.prototype,{adCollection:{configurable:!0,enumerable:!0,get:function(){return new l(this.kO.kW);}},startPadding:{configurable:!0,enumerable:!0,get:function(){return new c(this.kO.jga);}},endPadding:{configurable:!0,enumerable:!0,get:function(){return new c(this.kO.WX);}},hasPadding:{configurable:!0,enumerable:!0,get:function(){return this.kO.C_b;}},duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.kO.duration.Z};}},paddingDuration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.kO.dea.Z};}}});b.irb=h;Va.Object.defineProperties(f.prototype,{ad:{configurable:!0,enumerable:!0,get:function(){return new a(this.eCa.$f);}},adProgress:{configurable:!0,enumerable:!0,get:function(){return this.eCa.p_a;}},index:{configurable:!0,enumerable:!0,get:function(){return this.eCa.index;}}});b.Txb=f;Va.Object.defineProperties(d.prototype,{paddingType:{configurable:!0,enumerable:!0,get:function(){return this.fCa.kBa;}},paddingProgress:{configurable:!0,enumerable:!0,get:function(){return this.fCa.t9b;}},paddingDuration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.fCa.dea.Z};}}});b.Vxb=d;Va.Object.defineProperties(m.prototype,{adBreakProgress:{configurable:!0,enumerable:!0,get:function(){return this.Eea.zFb;}},adBreakOffset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.Eea.xFb.Z};}},adBreakWithPaddingProgress:{configurable:!0,enumerable:!0,get:function(){return this.Eea.BFb;}},adBreakWithPaddingOffset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.Eea.AFb.Z};}}});b.Uxb=m;Va.Object.defineProperties(g.prototype,{segmentId:{configurable:!0,enumerable:!0,get:function(){return this.Ni.S;}},offset:{configurable:!0,enumerable:!0,get:function(){return {ms:this.Ni.offset.Z};}}});b.Cub=g;Va.Object.defineProperties(l.prototype,{ads:{configurable:!0,enumerable:!0,get:function(){return this.kW.kg.map(function(p){return new a(p);});}},duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.kW.duration.Z};}}});b.jrb=l;Va.Object.defineProperties(c.prototype,{duration:{configurable:!0,enumerable:!0,get:function(){return {ms:this.padding.duration.Z};}}});b.Lxb=c;Va.Object.defineProperties(a.prototype,{hasPlayed:{configurable:!0,enumerable:!0,get:function(){return this.$f.Nt;}},id:{configurable:!0,enumerable:!0,get:function(){return this.$f.id;}},startTime:{configurable:!0,enumerable:!0,get:function(){return {ms:this.$f.startTime.Z};}},endTime:{configurable:!0,enumerable:!0,get:function(){return {ms:this.$f.endTime.Z};}},is3pVerificationEnabled:{configurable:!0,enumerable:!0,get:function(){return this.$f.dw;}},thirdPartyVerificationToken:{configurable:!0,enumerable:!0,get:function(){return this.$f.wS;}}});b.krb=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.KUa="SegmentDroppedLoggerSymbol";},function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.JUa=void 0;r=a(0);a=a(1);c.prototype.ebc=function(g,m){m.yQ.rb.$Da({xid:m.sa,auxPlaybackcontextid:m.fh,auxMid:g.auxMid,auxMidType:g.auxMidType,reason:g.reason,adBreakLocationMs:g.adBreakLocationMs},"error" === g.sev);};l=c;l=r.__decorate([(0,a.$)()],l);b.JUa=l;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.KHa="AdFocusMonitorSymbol";},function(r,b,a){var l,g;function c(m){var d;d=this;this.NI=function(){var f,h,k;h=!document.hidden;k=null === (f=d.j.wq()) || void 0 === f?void 0:f.Dn.value;f=d.j.paused.value;h || !k || f || (d.qa.debug("Pausing playback because window is not visible"),d.j.paused.set(!0,{I_:!0,reason:"adnotvisible"}));};this.unsubscribe=function(){document.removeEventListener("visibilitychange",d.NI);d.j.wq().Dn.removeListener(d.NI);d.j.paused.removeListener(d.NI);};this.qa=m.cb("AdVisibilityMonitor");}Object.defineProperty(b,"__esModule",{value:!0});b.JHa=void 0;r=a(0);l=a(1);a=a(7);c.prototype.RQ=function(m){this.D6b || (this.qa.debug("Starting to monitor playback for visibility"),this.j=m,this.D6b=!0,document.addEventListener("visibilitychange",this.NI),this.j.wq().Dn.addListener(this.NI),this.j.paused.addListener(this.NI),this.j.addEventListener("closing",this.unsubscribe),this.NI());};g=c;g=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.jb))],g);b.JHa=g;},function(r,b,a){var l,g,m,d,f;function c(h,k,n,p,q){var v,t,w,u;v=this;this.config=h;this.Jc=k;this.G=p;this.j=q;this.L6=this.mV=!1;this.qr=this.Pk=this.zP=void 0;this.toa=!1;this.log=n.cb("LivePlaybackManager");this.zP=this.config().RUb;t=this.config().khc;w=this.config().U3b;this.toa=(0,m.Qa)(t) && (0,m.Qa)(w);null === q || void 0 === q?void 0:q.addEventListener(d.ka.Um,function(){var x;if(v.ta && ((0,g.ya)(v.j && v.j.ha === v.G,"Unexpected playback segment on playbackReady"),v.toa)){x=v.EB();u=v.Jc.TR((0,l.$b)(500),function(){var y,z,B,A;y=v.EB();B=x + t;y >= B - 500 && (z=v.Mra(B));B=x + t + w;if(y >= B - 500){A=v.Mra(B);null === u || void 0 === u?void 0:u.cancel();}v.vEa(z,A,!0);});}});null === q || void 0 === q?void 0:q.addEventListener(d.ka.uh,function(){var x;v.ta && ((0,g.ya)(v.j && v.j.ha === v.G,"Unexpected playback segment on closing"),null === (x=v.UZ) || void 0 === x?void 0:x.cancel(),v.UZ=void 0,null === u || void 0 === u?void 0:u.cancel());});null === q || void 0 === q?void 0:q.addEventListener(d.ka.rG,function(x){v.ta && ((0,g.ya)(v.j && v.j.ha === v.G,"Unexpected playback segment on repositioning"),x.cause !== d.Fd.Uu && (v.mV=x.cause === d.Fd.VT && !v.Tbb()));});null === q || void 0 === q?void 0:q.addEventListener(d.ka.Ipb,function(){v.ta && ((0,g.ya)(v.j && v.j.ha === v.G,"Unexpected playback segment on userInitiatedPause"),v.mV=!1);});null === q || void 0 === q?void 0:q.oj.addListener(function(){v.ta && ((0,g.ya)(v.j && v.j.ha === v.G,"Unexpected playback segment on playing update"),v.j.oj.value && v.y7a());});this.G.mediaTime.addListener(function(x){var y;if(v.ta){(0,g.ya)(v.j && v.j.ha === v.G,"Unexpected playback segment on mediaTime update");v.Bqa();y=v.iF(x.oldValue);x=v.iF(x.newValue);y !== x && (!1,v.j.fireEvent(d.ka.pK));void 0 !== v.Pk && v.y7a();}});}Object.defineProperty(b,"__esModule",{value:!0});b.zOa=void 0;l=a(5);g=a(22);m=a(15);d=a(16);f=a(202);c.prototype.Xac=function(){var h;(0,g.ya)(this.ta,"Unexpected call to processManifest(). isLive:" + this.ta);(0,g.ya)(this.j && this.j.ha === this.G,"Playback is required for live.");(0,g.ya)(null === (h=this.G.ba) || void 0 === h?void 0:h.Ra.ll,"Live manifest is unavailable.");h=this.G.ba.Ra.ll;this.vEa(h.xta,h.s$);h=this.config().TUb;void 0 !== h && void 0 !== this.Pk && (this.zP=this.Pk + h);};c.prototype.vEa=function(h,k,n){var p,q,v,t,w,u,x;p=this;(0,g.ya)(this.ta,"Unexpected call to setLiveEventTimes(). isLive:" + this.ta);(0,g.ya)(this.j && this.j.ha === this.G,"Playback is required for live.");if(!this.toa || n){w=this.j;n=this.Pk;u=this.qr;x=null !== (q=this.x3a(h)) && void 0 !== q?q:n;q=null !== (v=this.x3a(k)) && void 0 !== v?v:u;if(void 0 === x && void 0 === q || void 0 !== x && 0 <= x && void 0 === q || void 0 !== x && 0 <= x && void 0 !== q && q > x){this.Pk=x;this.qr=q;if(n !== this.Pk || u !== this.qr)(!1,w.fireEvent(d.ka.pK));this.Kxa()?(null === (t=this.UZ) || void 0 === t?void 0:t.cancel(),this.UZ=void 0):this.UZ || (this.UZ=this.Jc.TR((0,l.$b)(1E3),function(){p.Bqa();w.fireEvent(d.ka.pK);}));}else this.log.error("Unexpected live event times. Ignoring:startTime:" + (h + ", startPts:") + (x + ", endTime:") + (k + ", endPts:") + q);}};c.prototype.WWb=function(){var h;(0,g.ya)(this.ta,"Unexpected call to getLiveEventTimeForCurrentMediaTime(). isLive:" + this.ta);(0,g.ya)(this.j && this.j.ha === this.G,"Playback is required for live.");h=this.G.mediaTime.value;if(void 0 !== h)return this.Mra(h);};c.prototype.Oaa=function(){var h;(0,g.ya)(this.ta,"Unexpected call to getUIAdjustedTime(). isLive:" + this.ta);(0,g.ya)(this.j && this.j.ha === this.G,"Playback is required for live.");h=this.G.mediaTime.value;if(void 0 !== h)switch(this.iF(h)){case f.Vu.CU:return 0;case f.Vu.Nja:return ((0,g.ya)(void 0 !== this.Pk,"eventStartPts should be defined in LIVE_EVENT slate."),h - this.Pk);case f.Vu.aja:return ((0,g.ya)(void 0 !== this.Pk && void 0 !== this.qr,"eventStartPts and eventEndPts should be defined in END_SLATE slate."),this.qr - this.Pk);}};c.prototype.vkb=function(h){var k,n;(0,g.ya)(this.ta,"Unexpected call to revertUIAdjustedTime(). isLive:" + this.ta);(0,g.ya)(this.j && this.j.ha === this.G,"Playback is required for live.");return void 0 === this.Pk?null !== (n=null !== (k=this.EB()) && void 0 !== k?k:this.G.mediaTime.value) && void 0 !== n?n:h:this.Pk + h;};c.prototype.kcb=function(h){var k;(0,g.ya)(this.ta,"Unexpected call to isWithinUILiveEdgeThreshold(). isLive:" + this.ta);(0,g.ya)(this.j && this.j.ha === this.G,"Playback is required for live.");k=this.EB();return void 0 !== k && h >= k - this.config().R3b;};c.prototype.pva=function(h,k){var n,p;(0,g.ya)(this.ta,"Unexpected call to getLiveBookmark(). isLive:" + this.ta);(0,g.ya)(this.j && this.j.ha === this.G,"Playback is required for live.");if(void 0 !== this.zP)return {Gn:this.zP,eG:Number.MAX_SAFE_INTEGER,K4a:this.zP};k || void 0 === this.Pk || void 0 === this.qr && 0 === h?(this.mV=!0,h=36E7):(h=this.Pk + h,void 0 !== this.qr && h > this.qr && (h=this.Pk));return {Gn:h,eG:null !== (n=this.qr) && void 0 !== n?n:Number.MAX_SAFE_INTEGER,K4a:null !== (p=this.Pk) && void 0 !== p?p:36E7};};c.prototype.q9a=function(){var h,k;(0,g.ya)(this.ta,"Unexpected call to getLiveContentDuration(). isLive:" + this.ta);(0,g.ya)(this.j && this.j.ha === this.G,"Playback is required for live.");k=null !== (h=this.qr) && void 0 !== h?h:this.BF()?this.G.mediaTime.value:this.EB();return void 0 !== k && void 0 !== this.Pk?k - this.Pk:0;};c.prototype.OXb=function(){var h,k,n;(0,g.ya)(this.ta,"Unexpected call to getMaxSeekPts(). isLive:" + this.ta);(0,g.ya)(this.j && this.j.ha === this.G,"Playback is required for live.");n=null !== (k=null !== (h=this.qr) && void 0 !== h?h:this.EB()) && void 0 !== k?k:0;!1;return n;};c.prototype.EB=function(){var h,k;(0,g.ya)(this.ta,"Unexpected call to getLiveEdge(). isLive:" + this.ta);(0,g.ya)(this.j && this.j.ha === this.G,"Playback is required for live.");return null === (k=null === (h=this.j.qb) || void 0 === h?void 0:h.jF(this.G.S)) || void 0 === k?void 0:k.Z;};c.prototype.ZDa=function(){var h;(0,g.ya)(this.ta,"Unexpected call to seekToLiveEdge(). isLive:" + this.ta);(0,g.ya)(this.j && this.j.ha === this.G,"Playback is required for live.");this.mV=!this.Tbb();if(this.j.pf){h=this.EB();void 0 !== h?this.j.pf.seek(h,d.Fd.VT,this.G.S):!1;}else this.G.Gn=this.pva(0,!0).Gn;};c.prototype.BF=function(){(0,g.ya)(this.ta,"Unexpected call to isAtLiveEdge(). isLive:" + this.ta);(0,g.ya)(this.j && this.j.ha === this.G,"Playback is required for live.");return this.L6;};c.prototype.mbb=function(){(0,g.ya)(this.ta,"Unexpected call to intentToPlayAtLiveEdge(). isLive:" + this.ta);(0,g.ya)(this.j && this.j.ha === this.G,"Playback is required for live.");return this.mV;};c.prototype.iF=function(h){var k,n,p;(0,g.ya)(this.ta,"Unexpected call to getLiveEventState(). isLive:" + this.ta);(0,g.ya)(this.j && this.j.ha === this.G,"Playback is required for live.");h=null !== (k=null !== h && void 0 !== h?h:this.G.mediaTime.value) && void 0 !== k?k:0;k=null !== (n=this.Pk) && void 0 !== n?n:Infinity;n=null !== (p=this.qr) && void 0 !== p?p:Infinity;return h < k?f.Vu.CU:h > n?f.Vu.aja:f.Vu.Nja;};c.prototype.Kxa=function(){(0,g.ya)(this.ta,"Unexpected call to isLiveEventEnded(). isLive:" + this.ta);(0,g.ya)(this.j && this.j.ha === this.G,"Playback is required for live.");return void 0 !== this.qr;};c.prototype.Tbb=function(){var h;(0,g.ya)(this.ta,"Unexpected call to isPlaybackPausedByUser(). isLive:" + this.ta);(0,g.ya)(this.j && this.j.ha === this.G,"Playback is required for live.");return this.j.paused.value && !(null === (h=this.j.paused.ij) || void 0 === h?0:h.I_);};c.prototype.y7a=function(){this.Bqa();this.BF() || this.iF() !== f.Vu.CU || void 0 !== this.zP || this.ZDa();};c.prototype.Bqa=function(){var h,k;(0,g.ya)(this.ta,"Unexpected call to calculateIsAtLiveEdge(). isLive:" + this.ta);(0,g.ya)(this.j && this.j.ha === this.G,"Playback is required for live.");k=this.L6;this.L6=this.kcb(null !== (h=this.G.mediaTime.value) && void 0 !== h?h:0);k !== this.L6 && (!1,this.j.fireEvent(d.ka.pK));};c.prototype.Mra=function(h){var k,n;(0,g.ya)(this.ta,"Unexpected call to convertPtsToEventTime(). isLive:" + this.ta);(0,g.ya)(this.j && this.j.ha === this.G,"Playback is required for live.");(0,g.ya)(null === (k=this.G.ba) || void 0 === k?void 0:k.Ra.ll,"Live manifest is unavailable.");k=this.G.ba.Ra.ll;n=new Date(k.Hfa[k.a$[this.G.ba.Ra.Rw[0].streams[0].ap]].G8).getTime();return new Date(n - k.r$ + h).toISOString();};c.prototype.x3a=function(h){var k,n,p;(0,g.ya)(this.ta,"Unexpected call to convertEventTimeToPts(). isLive:" + this.ta);(0,g.ya)(this.j && this.j.ha === this.G,"Playback is required for live.");(0,g.ya)(null === (k=this.G.ba) || void 0 === k?void 0:k.Ra.ll,"Live manifest is unavailable.");if(h){k=this.G.ba.Ra.ll;n=k.Hfa[k.a$[this.G.ba.Ra.Rw[0].streams[0].ap]];p=new Date(h).getTime() + k.r$ - new Date(n.G8).getTime();if(isNaN(p) || 0 > p)this.log.error("Invalid live event time. Ignoring: eventDateString:" + (h + ", eventAvailabilityOffsetMs:") + (k.r$ + ", availabilityStartTime:") + n.G8);else return p;}};Va.Object.defineProperties(c.prototype,{ta:{configurable:!0,enumerable:!0,get:function(){var h,k;h=this.G;k=h.ba;h=h.je;return k?(h=k.Ra,k=h.ih,h=h.ll,(0,g.ya)("LIVE" === k && !!h || "VOD" === k && !h,"streamingType and liveMetadata mismatch - streamingType:" + k + ", liveMetadata:" + h),"LIVE" === k && !!h):"live" === h;}}});b.zOa=c;},function(r,b,a){var l,g,m,d,f;function c(h,k){var n;n=f.sm.call(this) || this;n.Ia=h;n.paused=!1;n.tt=function(){var p,q,v;v=n.wf.NP();n.wf.Dn.value && null !== (p=null === v || void 0 === v?void 0:v.oE) && void 0 !== p && p.$f.dw?(p=null === (q=v.oE) || void 0 === q?void 0:q.$f.id,q=n.paused,n.paused=n.j.paused.value,q !== n.paused && (n.paused?(n.hea=n.Ia.Rb(),n.lW=v.position.offset.Z,n.qa.debug("Ad " + p + " paused at " + n.lW + " ms into the ad")):void 0 !== n.hea && void 0 !== n.lW && (v=n.Ia.Rb().Ga(n.hea).ia(d.va),n.qa.debug("Ad " + p + " resumed. Pause duration: " + v),n.trace.push([n.lW,v]),n.lW=void 0,n.hea=void 0))):n.unsubscribe();};n.qa=k.cb("AdPauseStateTracker");return n;}Object.defineProperty(b,"__esModule",{value:!0});b.CHa=void 0;r=a(0);l=a(1);g=a(18);m=a(7);d=a(5);f=a(209);ka(c,f.sm);c.prototype.start=function(h){f.sm.prototype.start.call(this,h);this.uy || (this.j.paused.addListener(this.tt),this.uy=!0);};c.prototype.Naa=function(){return {pauseTrace:this.trace};};c.prototype.b1=function(){this.lW=void 0;this.paused=this.j.paused.value;this.hea=void 0;this.trace=[];};c.prototype.unsubscribe=function(){f.sm.prototype.unsubscribe.call(this);this.j.paused.removeListener(this.tt);};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.jd)),r.__param(1,(0,l.l)(m.jb))],a);b.CHa=a;},function(r,b,a){var l,g,m,d,f;function c(h,k){var n;n=f.sm.call(this) || this;n.ug=h;n.hsa=k;n.tt=function(){var p,q;q=n.wf.NP();n.wf.Dn.value && null !== (p=null === q || void 0 === q?void 0:q.oE) && void 0 !== p && p.$f.dw?(p=n.trace[n.trace.length - 1],q=q.position.offset.Z,p && p[0] === q && n.trace.pop(),(p=n.trace[n.trace.length - 1]) && p[1] === n.j.esa || n.trace.push([q,n.j.esa])):n.unsubscribe();};n.qa=h.cb("AdVolumeTracker");n.tta=k((0,d.Ui)(1));return n;}Object.defineProperty(b,"__esModule",{value:!0});b.MHa=void 0;r=a(0);l=a(1);g=a(176);m=a(7);d=a(5);f=a(209);ka(c,f.sm);c.prototype.start=function(h){f.sm.prototype.start.call(this,h);this.uy || (this.j.volume.addListener(this.C9),this.j.muted.addListener(this.C9),this.uy=!0);};c.prototype.Naa=function(){return {volumeChangeTrace:this.trace,volume:this.j.esa};};c.prototype.b1=function(){this.trace=[];};c.prototype.unsubscribe=function(){f.sm.prototype.unsubscribe.call(this);this.j.volume.removeListener(this.C9);this.j.muted.removeListener(this.C9);};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.jb)),r.__param(1,(0,l.l)(g.B3))],a);b.MHa=a;},function(r,b,a){var l,g,m,d,f;function c(h,k){var n;n=f.sm.call(this) || this;n.hsa=k;n.Cdc=function(){0 === n.trace.length?n.tt():n.tta.vl(function(){n.tt();});};n.tt=function(){var p,q,v,t;q=n.wf.NP();if(n.wf.Dn.value && null !== (p=null === q || void 0 === q?void 0:q.oE) && void 0 !== p && p.$f.dw){(p=n.trace[n.trace.length - 1]) && p[0] === q.position.offset.Z && n.trace.pop();p=n.trace[n.trace.length - 1];v=n.j.lm.getBoundingClientRect();t=v.height;v=v.width;0 < t && 0 < v && (!p || p[1] !== v || p[2] !== t) && n.trace.push([q.position.offset.Z,v,t]);}else n.unsubscribe();};n.qa=h.cb("AdResizeTracker");n.tta=k((0,d.Ui)(1));return n;}Object.defineProperty(b,"__esModule",{value:!0});b.HHa=void 0;r=a(0);l=a(1);g=a(176);m=a(7);d=a(5);f=a(209);ka(c,f.sm);c.prototype.start=function(h){f.sm.prototype.start.call(this,h);this.uy || (this.qgb=new ResizeObserver(this.Cdc),this.qgb.observe(this.j.lm),this.uy=!0);};c.prototype.Naa=function(){return {resizeTrace:this.trace.slice(1)};};c.prototype.b1=function(){this.trace=[];};c.prototype.unsubscribe=function(){var h;f.sm.prototype.unsubscribe.call(this);null === (h=this.qgb) || void 0 === h?void 0:h.disconnect();};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.jb)),r.__param(1,(0,l.l)(g.B3))],a);b.HHa=a;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fT="AdTrackerBaseSymbol";},function(r,b,a){var l,g,m;function c(d){var f;f=m.sm.call(this) || this;f.Fza=0;f.l4a=[0];f.uK=[0];f.visibility=0;f.tt=function(){var h,k;k=f.wf.NP();f.wf.Dn.value && null !== (h=null === k || void 0 === k?void 0:k.oE) && void 0 !== h && h.$f.dw?(h=f.visibility,f.visibility=document.hidden?0:1,h !== f.visibility && (1 === f.visibility?(f.Fza=f.visibility,f.Pca=k.position.offset.Z):(k=k.position.offset.Z - (f.Pca || 0),k > f.uK[0] && (f.uK[0]=k),f.Pca=void 0))):f.unsubscribe();};f.qa=d.cb("AdVisibilityTracker");return f;}Object.defineProperty(b,"__esModule",{value:!0});b.LHa=void 0;r=a(0);l=a(1);g=a(7);m=a(209);ka(c,m.sm);c.prototype.start=function(d){m.sm.prototype.start.call(this,d);this.uy || (document.addEventListener("visibilitychange",this.tt),this.uy=!0);};c.prototype.Naa=function(d){var f,h,k;h=this.j.lm.getBoundingClientRect();k=h.height;h=h.width;"adStart" === d.event && (k=0 === k?document.documentElement.clientHeight:k,h=0 === h?document.documentElement.clientWidth:h);d=d.Ni.offset.Z - (null !== (f=this.Pca) && void 0 !== f?f:0);d > this.uK[0] && (this.uK[0]=d);f=document.fullscreenElement?!0:screen.height === mb.outerHeight && screen.width === mb.outerWidth;this.l4a=this.uK;return {cumulativeTimeByVisibilityMs:this.l4a,maxContinuousTimeByVisibilityMs:this.uK,visibility:this.visibility,maxVisibility:this.Fza,screenHeight:screen.height,screenWidth:screen.width,adHeight:k,adWidth:h,fullScreen:f};};c.prototype.b1=function(){this.Pca=void 0;this.uK=[0];this.Fza=this.visibility=document.hidden?0:1;};c.prototype.unsubscribe=function(){m.sm.prototype.unsubscribe.call(this);document.removeEventListener("visibilitychange",this.tt);};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.jb))],a);b.LHa=a;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w,u,x;function c(y,z,B){var A;A=this;this.wb=y;this.j=z;this.debug=B;this.pV=this.dj=this.qA=!1;this.PV=this.OV=void 0;y={};this.VZ=(y[u.u.T]={},y[u.u.J]={},y[u.u.Za]={},y);this.TD=void 0;this.Jg=function(){var C,D,E,G,F,L;A.debug.assert(A.Ja,"has access to asePlaygraph");A.debug.assert(A.Uc,"has access to internalLogger");A.debug.assert(A.kw,"has access to mediaBufferGetLogFields");F=A.kq;L=null === (D=null === (C=A.Ac.get()) || void 0 === C?void 0:C.Ya) || void 0 === D?void 0:D.xa;C={type:"logdata",target:"startplay",fields:{hasasereport:A.j.fP,hashindsight:!1,buffCompleteReason:F.reason,actualbw:L,initSelReason:null !== (E=F.initSelReason) && void 0 !== E?E:"unknown",bcVBufferLevelMs:F.vBufferLevelMs,bcABufferLevelMs:F.aBufferLevelMs}};(0,f.w8)({yta:C,vk:A.vk,loadTime:A.loadTime});A.Ja.fGa("startplay",l.Kc.zl);null !== (G=A.Hb) && void 0 !== G && G.nf?(A.Uc.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:F},A.kw()),A.j.kq=F,A.j.kt.set(h.gg.Se),A.JUb || (A.JUb=!0,A.j.Ze("pb")),A.qf.value !== l.La.GD && A.qf.value !== l.La.vm && A.play()):A.Uc.error("Shim received buffering complete but player has no position (player " + (A.Hb?"":"un") + "defined, state " + A.j.state + ")");};this.iob=function(){var C,D;A.debug.assert(A.Uc,"has access to internalLogger");!1;A.OV=void 0;A.PV=void 0;A.j.paused.value && A.PK && (A.PK=!1,A.j.paused.set(!1,{I_:!0}));null === (C=A.j.pf) || void 0 === C?void 0:C.ALb();null === (D=A.Fgb) || void 0 === D?void 0:D.call(A);A.Fgb=void 0;};this.events=new x();this.Fh=new w.dma(this.Yx.bind(this));}Object.defineProperty(b,"__esModule",{value:!0});b.eIa=void 0;l=a(60);g=a(13);m=a(59);d=a(4);f=a(1388);h=a(16);k=a(19);n=a(15);p=a(5);q=a(1389);v=a(95);t=a(74);w=a(554);a(139);u=a(48);x=a(105).EventEmitter;c.prototype.ud=function(){var y;!1;this.pV=!1;this.Ac.s1(null);this.debug.assert(this.tj,"has access to streamingEngine");this.Ja && this.tj.FC(this.Ja);this.Hb && this.tj.Ijb(this.Hb);this.tj.Kjb(this.Fh.It(this.wb.ha.P));this.Fh.clear();null === (y=this.Kq) || void 0 === y?void 0:y.Bt();};c.prototype.Yfc=function(y){var z,B,A,C,D,E,G,F,L,O,K,I,M;z=y.config;B=y.Fr;A=y.Uc;C=y.Re;D=y.kw;E=y.lk;G=y.q1;y=y.qL;this.Uc=A;this.log=A.v9("AseIntegrationImpl");!1;this.kw=D;this.q1=G;this.qL=y;D=this.j.ha;this.debug.assert(D,"has a playback segment");this.debug.assert(z,"has access to config");this.debug.assert(C,"has access to utils");this.debug.assert(E,"has access to getCategoryLog");this.debug.assert(B,"has access to aseGlobals");this.debug.assert(B.tj,"has access to streamingEngine");this.debug.assert(D.Rc,"has access to parsedManifest");this.debug.assert(D.ba,"has access to manifest");this.config=z;this.tj=B.tj;B.Le.set(a(178)(z),!0,E("ASE"));B.Le.set({maxNumberTitlesScheduled:null !== (L=null === (F=z.Y$b) || void 0 === F?void 0:F.maxNumberTitlesScheduled) && void 0 !== L?L:1},!0,A);z.dMb && !D.Kd.ta && 3E5 > D.ba.Ra.duration?B.Le.b0({expandDownloadTime:!1},!0,A):B.Le.b0({expandDownloadTime:B.Le.xhb().expandDownloadTime},!0,A);z=D.background || z.W$b && "postplay" === D.je?"historical":B.Le.xhb().initBitrateSelectorAlgorithm;B.Le.b0({initBitrateSelectorAlgorithm:z},!0,A);z=null === (M=null === (I=null === (K=null === (O=D.Uh) || void 0 === O?void 0:O.value) || void 0 === K?void 0:K.streams) || void 0 === I?void 0:I[0]) || void 0 === M?void 0:M.kf;B.Le.b0((0,k.h3a)(!!D.lb.ji,!!D.lb.Wba,z),!0,A);A=C.TF({},(0,k.k9)(D.je));D.Kd.ta && (A=C.TF(A,(0,k.k9)("live")));this.Le=B.Le.Hi(A);l.platform.events.emit("networkchange",D.Rc.dfc);this.qA=!0;};c.prototype.Eba=function(y){var z,B;this.debug.assert(this.tj,"has access to streamingEngine");z=this.j.Hj(y.S);this.debug.assert(z.Rc,"has access to playback parsedManifest");!1;B=y.flags;this.Ac.reset();this.Wf=new Set([u.u.T,u.u.J]);(B.D2 || B.Kpa) && this.Wf.delete(B.D2?u.u.T:u.u.J);this.NG=[z.Rc.FPb,z.Rc.NPb,z.Rc.MPb];this.Yx(z.L,void 0,y.k4a);this.h1b(y);this.NO();};c.prototype.Qw=function(y){var z;!1;null === (z=this.Ja) || void 0 === z?void 0:z.Qw(y);};c.prototype.zIb=function(y){var z,B,A,C;z=this;B=y.loadTime;A=y.vk;this.debug.assert(this.Ja,"has access to asePlaygraph");this.debug.assert(this.Hb,"has access to asePlayer");!1;this.vk=A;this.loadTime=B;y=this.Ja.events;C=this.Hb.events;y.addListener("error",function(D){!1;"NFErr_MC_StreamingFailure" === D.error && (z.Uc.trace("receiving an unrecoverable streaming error: " + JSON.stringify(D)),z.Uc.trace("StreamingFailure, buffer status:" + JSON.stringify(z.kw())),(0,m.Lg)(function(){z.j.Sd(d.aa.Qqb,{Ca:D.nativeCode,Ub:D.errormsg,Vl:D.httpCode,sda:D.networkErrorCode});}));});y.addListener("logdata",function(D){var E;!1;"string" === typeof D.target && "object" === typeof D.fields && (D.fields.aseApiVersion=null === (E=z.Ja) || void 0 === E?void 0:E.j8,(0,f.w8)({yta:D,vk:A,loadTime:B}));});C.addListener("logdata",function(D){!1;"string" === typeof D.target && "object" === typeof D.fields && (0,f.w8)({yta:D,vk:A,loadTime:B});});y.addListener("bufferingStarted",function(){!1;z.j.kt.set(h.gg.Yd);});y.addListener("bufferingComplete",function(D){!1;z.kq=D;});this.j.paused.addListener(function(D){var E;z.debug.assert(z.Uc,"has access to internalLogger");null !== (E=D.ij) && void 0 !== E && E.I_ || !z.qA || (D.newValue && z.qf.value === l.La.Xc?(z.qf.set(l.La.aj),z.Oj.emit("paused",{type:"paused",pts:z.Oj.Oc})):D.newValue || z.qf.value !== l.La.aj || (z.qf.set(l.La.Xc),z.Oj.emit("playing",{type:"playing",pts:z.Oj.Oc})));D.newValue || (z.PK=!1);z.Uc.info("Paused changed",{From:D.oldValue,To:D.newValue,MediaTime:(0,v.Ci)(z.j.mediaTime.value)});});this.j.Gc.addListener(function(D){var E,G,F,L;if(z.qA)if((z.debug.assert(z.Uc,"has access to internalLogger"),D.ij && D.ij.e8))z.Uc.trace("Not processing already applied track",null === (E=D.newValue) || void 0 === E?void 0:E.trackId);else {L=D.newValue;z.JFa({iq:L.trackId,toJSON:function(){return L.Bh;}})?z.Uc.trace("ASE accepted the audio track switch",null === (F=D.newValue) || void 0 === F?void 0:F.trackId):(z.Uc.trace("ASE rejected the audio track switch",null === (G=D.newValue) || void 0 === G?void 0:G.trackId),D.oldValue && D.oldValue.trackId !== L.trackId && z.j.Gc.set(D.oldValue,{e8:!0}));}});this.j.Kd.ta && this.j.Ob.addListener(function(D){var E,G,F,L;if(z.qA)if((z.debug.assert(z.Uc,"has access to internalLogger"),D.ij && D.ij.e8))z.Uc.trace("Not processing already applied track",null === (E=D.newValue) || void 0 === E?void 0:E.trackId);else {L=D.newValue;z.JFa({Anb:L.trackId,toJSON:function(){return L.Bh;}})?z.Uc.trace("ASE accepted the text track switch",null === (F=D.newValue) || void 0 === F?void 0:F.trackId):(z.Uc.trace("ASE rejected the text track switch",null === (G=D.newValue) || void 0 === G?void 0:G.trackId),D.oldValue && D.oldValue.trackId !== L.trackId && z.j.Ob.set(D.oldValue,{e8:!0}));}});y.addListener("serverSwitch",function(D){var E;!1;z.j.fireEvent(h.ka.m1,D);if("video" === D.mediatype)E=u.u.J;else "audio" === D.mediatype && (E=u.u.T);(0,n.xd)(E) && z.q1(D.segmentId,D.server,E);});y.addListener("streamSelected",function(D){var E,G,F,L;!1;if(z.pV){G=D.manifest.fh;if(!z.j.D_b(G) && z.config.FTb)return z.j.Sd(d.aa.Pvb,{ZE:G});G=(null === (E=z.Ja) || void 0 === E?void 0:E.$Y(D.position)).vt.Z;E=[];if(D.mediaType === u.u.J){F=z.j.bab(D.streamId);L=z.j.Hf;E=z.j.nF();}else D.mediaType === u.u.T && (F=z.j.N$a(D.streamId),L=z.j.bi,E=z.j.VVb());F && L?(!1,L.set(F,{OI:G,LW:D.bandwidth})):z.Uc.error("no matching stream for streamSelected event",{streamId:D.streamId,mediaType:D.mediaType,streamList:E,cachedManifest:z.j.KI});}});y.addListener("segmentNormalized",function(D){var E,G,F,L,O;!1;E=D.segmentId;G=Math.floor(D.viewableContentEnd.Z);D=Math.floor(D.viewableEarliestContentEnd.Z);G=(0,p.$b)(G);D=(0,p.$b)(D);if(!z.j.W$a(E) && (!1,z.hk && z.hk.U[E])){F=z.hk.U[E];L=z.hk.U[E].tc;if(L && z.wb.fz(L)){L=z.j.Hj(L);O=L.ba;(null === O || void 0 === O?0:O.wv) && (null === O || void 0 === O?0:O.wv.some(function(K){return K.Ra.L === F.P;})) && z.j.Q3a(F.P,{Pl:{Ve:O.Ra.Ve,Ph:O.Ra.L}},L.sa);}}if(E=z.j.Hj(E))(E.kB=G,E.veb=D);z.j.ks || (z.j.Kd.ta?(z.debug.assert(Infinity === G.ia(p.va),"Unexpected contentDuration from ASE. Live should be Infinity. - isLive:" + z.j.Kd.ta + ", contentDuration:" + G),z.j.ks=p.Oa):z.j.ks=G);});C.addListener("segmentPresenting",function(D){var E,G,F,L;!1;z.debug.assert(z.Ja,"has access to asePlaygraph");z.debug.assert(z.Hb,"has access to asePlayer");z.debug.assert(z.qL,"has access to segmentPresentingHandler");G=z.Ja.$Y(D.position);F=void 0;L=null === (E=D.inner) || void 0 === E?void 0:E.position;L && z.hk && (F=z.hk.U[L.S]);z.qL({P:G.P,SI:F,cK:!1});z.j.fireEvent(h.ka.pL,{type:"segmentPresenting",position:{segmentId:D.position.S,offset:D.position.offset},playerTimestamp:D.playerTimestamp,metrics:D.metrics});!1;z.TD=z.Hb.Wn();});C.addListener("ptsChanged",function(D){var E;!1;z.j.pf.sbc({rua:null === (E=D.forcedTimestamp) || void 0 === E?void 0:E.xC,f1b:D.initialTimestamp.xC});z.Oj.emit("skipped");});y.addListener("locationSelected",function(D){!1;z.j.fireEvent(h.ka.ZZ,D);});y.addListener("aseReportEnabled",function(){!1;z.j.fP=!0;});y.addListener("aseReport",function(D){!1;z.j.fireEvent(h.ka.BI,D);});y.addListener("liveReport",function(D){!1;z.j.fireEvent(h.ka.vca,D);});y.addListener("mediaRequestComplete",function(D){D=null === D || void 0 === D?void 0:D.jdc;(D=null === D || void 0 === D?void 0:D.cadmiumResponse) && z.j.fireEvent(h.ka.uB,{response:D,L:z.j.ha.L});});y.addListener("transportReport",function(D){var E;(D=null === (E=D.ZSb) || void 0 === E?void 0:E.cadmiumResponse) && z.j.fireEvent(h.ka.uB,{response:D,L:z.j.ha.L});});y.addListener("liveEventTimesUpdated",function(D){var E,G;E=D.S;G=D.startTime;D=D.endTime;z.j.W$a(E) && (E=z.j.Hj(E),E.Kd.ta && E.Kd.vEa(G,D));});y.addListener("liveLoggingInfoUpdated",function(D){var E,G;E=D.mediaType;G=z.VZ[E];z.VZ[E]=D.info;D=z.VZ[E].pJ !== G.pJ && void 0 !== G.pJ;(z.VZ[E].oJ !== G.oJ && void 0 !== G.oJ || D) && z.j.fireEvent(h.ka.uca,{mediaType:E,ho:G,current:z.VZ[E]});});};c.prototype.Wn=function(){var y,z,B,A,C,D,E,G,F;G=null === (y=this.Hb) || void 0 === y?void 0:y.fba();y=(null !== (z=this.TD) && void 0 !== z?z:G && this.Hb.Wn()) || ({});z=y.G;G=y.Rd;F=y.fG;y=y.ls;return {id:String(null === z || void 0 === z?void 0:z.id),mg:null !== (B=null === G || void 0 === G?void 0:G.Z) && void 0 !== B?B:0,Td:null !== (A=null === z || void 0 === z?void 0:z.sf.Z) && void 0 !== A?A:Infinity,Nc:null !== (C=null === z || void 0 === z?void 0:z.yh.Z) && void 0 !== C?C:0,Xf:null !== (D=null === F || void 0 === F?void 0:F.Z) && void 0 !== D?D:Infinity,Bd:null !== (E=null === y || void 0 === y?void 0:y.Z) && void 0 !== E?E:0};};c.prototype.Oua=function(){return {mg:0};};c.prototype.uxa=function(){var y,z;this.debug.assert(this.Ja,"has access to asePlaygraph");y={};z=this.Ja.CJ();y.vbuflmsec=z.totalvbuflmsecs;y.vbuflbytes=z.vbuflbytes;y.abuflmsec=z.totalabuflmsecs;y.abuflbytes=z.abuflbytes;return y;};c.prototype.paused=function(){};c.prototype.Khb=function(){!1;this.Oj.emit("playbackRateChanged",{type:"playbackRateChanged",pts:this.Oj.Oc});};c.prototype.GW=function(y,z){var B;this.debug.assert(this.j.ba,"has access to playback manifest");B=this.NG[u.u.T];return y.L === this.j.ba.Ra.L?B:this.mUb(this.j.ba.Ra.vv[B],z);};c.prototype.zga=function(y,z){var B;this.debug.assert(this.j.ba,"has access to playback manifest");if(this.j.Kd.ta){this.debug.assert(y.L === this.j.ba.Ra.L);B=this.NG[u.u.Za];if((y=this.j.wi.find(function(A){return A.trackId === z[B].wg;})) && (!y.Fq() || y.qp()))return B;}};c.prototype.mUb=function(y,z){var B,A,C;this.debug.assert(this.Uc,"has access to internalLogger");!1;B=z.filter(function(D){return D.profile === y.profile;}).sort(function(D,E){var G,F,L;G=(D.language === y.language || "zxx" === D.language?0:1) - (E.language === y.language || "zxx" === E.language?0:1);0 === G && (G=(D.Vi === y.Vi?0:1) - (E.Vi === y.Vi?0:1));if(0 === G){D=(null !== (F=D.vc) && void 0 !== F?F:0) - (null !== (L=E.vc) && void 0 !== L?L:0);}else D=G;return D;});A=0;C=oa(B).next().value;C && z.some(function(D,E){if(D === C)return (A=E,!0);});!1;return A;};c.prototype.JFa=function(y){var z,B,A,C,D,E;this.debug.assert(this.Uc,"has access to internalLogger");this.debug.assert(this.Hb,"has access to asePlayer");this.debug.assert(this.j.ba,"has access to playback manifest");if(this.ZFa)return (!1,!1);B=y.iq;A=this.NG[u.u.T];if(void 0 === B)C=A;else if(!this.j.ba.Ra.audio_tracks.some(function(G,F){if(G.new_track_id === B)return (C=F,!0);}))return (!1,!1);D=y.Anb;y=this.NG[u.u.Za];if(void 0 === D)E=y;else if(!this.j.ba.Ra.timedtexttracks.some(function(G,F){if(G.new_track_id === D)return (E=F,!0);}))return (!1,!1);!1;this.OV=C;this.PV=E;null === (z=this.j.pf) || void 0 === z?void 0:z.mhc();this.j.paused.value || (this.Hb.pause([u.u.T,u.u.Za]),this.PK=!0,this.j.paused.set(!0,{I_:!0}));this.debug.u8(this.OV,"has access to valid requestedAudioTrackIndex number");this.NG[u.u.T]=this.OV;this.debug.u8(this.PV,"has access to valid requestedTextTrackIndex number");this.NG[u.u.Za]=this.PV;(this.NC() || this.PK) && this.Hb.resume(this.PK?[u.u.T,u.u.Za]:void 0);this.cM(this.iob);return !0;};c.prototype.NC=function(){var y;y=this;this.debug.assert(this.Ja,"has access to asePlaygraph");return this.Ja.NC({XR:this.GW.bind(this)},{XR:function(){return y.NG[u.u.J];}},{XR:this.zga.bind(this)});};c.prototype.hn=function(){var y;!1;this.qf.set(l.La.Vg);null === (y=this.Ja) || void 0 === y?void 0:y.fGa("intrplay",l.Kc.hn);this.Oj.emit("underflow",{type:"underflow",pts:this.Oj.Oc});this.cM(this.Jg);};c.prototype.Kw=function(y,z){this.SS.Kw(y,z);};c.prototype.open=function(){this.pV || (this.debug.assert(this.Ja,"has access to asePlaygraph"),this.debug.assert(this.Hb,"has access to asePlayer"),!1,this.pV=this.dj=!0,this.Ja.open(),this.debug.assert(this.hz,"invalid start position relative to playgraph"),this.Ja.wG(this.hz,l.N.Na(this.j.ca)),this.qf.set(l.La.Yd),this.cM(this.Jg),this.Ja.Qx(this.Hb),this.P3b());};c.prototype.play=function(){this.debug.assert(this.Ja,"has access to asePlaygraph");this.debug.assert(this.Hb,"has access to asePlayer");!1;0 !== this.Ja.state && (this.Hb.resume(this.PK?[u.u.T,u.u.Za]:void 0),this.qf.set(l.La.Xc),this.Oj.emit("playing",{type:"playing",pts:this.Oj.Oc}));};c.prototype.stop=function(){var y;!1;this.qf.set(l.La.GD);null === (y=this.Hb) || void 0 === y?void 0:y.pause();this.events.emit("stop");this.Oj.emit("paused",{type:"paused",pts:this.Oj.Oc});};c.prototype.flush=function(){this.debug.assert(this.Ja,"has access to asePlaygraph");this.debug.assert(this.tj,"has access to streamingEngine");!1;this.pV && this.qf.value !== l.La.vm && this.qf.value !== l.La.GD && this.stop();this.Ja.fGa("endplay",l.Kc.el);this.Ja.ee();this.tj.tk.save();this.tj.fu.save();};c.prototype.wq=function(){var y;return null === (y=this.Ja) || void 0 === y?void 0:y.wf;};c.prototype.lB=function(y){var z;this.debug.assert(this.Ja,"has access to asePlaygraph");z=l.N.Na(y);return (z=this.Ja.Vm(z,{Qgc:!0,Pgc:!0}))?this.Ja.na.U[z.S].Ba + Number(z.offset.Z.toFixed(0)):this.fail("convertPlayerPtsToContentPts failed to convert playerPts: " + y);};c.prototype.lX=function(y,z){this.debug.assert(this.Ja,"has access to asePlaygraph");this.debug.assert(this.Uc,"has access to internalLogger");!1;this.Ja.na.U[y] || (y=this.Tta(z));this.debug.v8(y,"has access to segmentId");y={S:y,offset:l.N.Na(z - this.Ja.na.U[y].Ba)};if(y=this.Ja.aZ(y))return y.Z;!1;return z;};c.prototype.P1a=function(y,z){var B,A,C;this.debug.assert(this.Ja,"has access to asePlaygraph");this.debug.assert(this.Hb,"has access to asePlayer");!1;z && this.Ja.na.U[z] || (z=null !== (B=this.Tta(y)) && void 0 !== B?B:null === (A=this.Hb) || void 0 === A?void 0:A.Ii.S);z=this.j.Hj(z);y={vt:l.N.Na(y),P:z.L};return null === (C=this.Ja.hp(y)) || void 0 === C?void 0:C.Td;};c.prototype.kJ=function(y){var z;z=void 0 === z?!0:z;!1;this.dj?Number.isFinite(y) && (this.debug.assert(this.Hb,"has access to asePlayer"),z?this.Hb.Sfa(y):this.Hb.rlb(y)):this.fail("Must call open prior to drmReady");};c.prototype.uwa=function(){var y;return null !== (y=this.Hb) && void 0 !== y && y.nf?this.Hb.Yr(this.wb.ha.P):!1;};c.prototype.ci=function(y){var z,B;!1;if(!this.Hb)return (!1,!1);z=this.wq();y=l.N.Na(y);B=this.Hb.ci(y);return z && this.j.Xaa()?B && z.ci(y):B;};c.prototype.oL=function(y,z){var B;this.debug.assert(this.Ja,"has access to asePlaygraph");this.debug.assert(this.Hb,"has access to asePlayer");!1;z && this.Ja.na.U[z] || (z=null !== (B=this.Tta(y)) && void 0 !== B?B:this.wb.ei);this.debug.v8(z,"has access to segmentId");this.debug.assert(this.Ja.na.U[z],"segment exists in playgraph map");z={S:z,offset:l.N.Na(y - this.Ja.na.U[z].Ba)};this.Ja.wG(z,l.N.Na(y));this.Hb.resume();this.qf.set(l.La.Yd);this.cM(this.Jg);y=this.Ja.Hkb(z);this.debug.assert(y,"Valid position must be provided for seek");return y.offset.Z;};c.prototype.addEventListener=function(y,z){this.events.addListener(y,z);return this;};c.prototype.removeEventListener=function(y,z){this.events.removeListener(y,z);return this;};c.prototype.Uga=function(y,z){var B;!1;B={};this.Ja.Ek((B[y]=z,B));};c.prototype.Vx=function(y,z){var B,A;this.debug.assert(this.Uc,"has access to internalLogger");this.debug.assert(this.Ja,"has access to asePlaygraph");this.debug.assert(this.Hb,"has access to asePlayer");!1;B=this.Wn().id;A=this.Ja.MY(B,y);if(z){if(!A.llc)return (this.Uc.warn("chooseNextSegment, seamless transition, invalid destination: " + (y + " for current segment: " + B)),!1);if(void 0 !== A.oAa)return (!1,A.oAa === y);this.Ja.yl(B,y,!1,z);return !0;}if(void 0 !== A.oAa)return (!1,!1);A.QW && (this.Hb.reset(),this.Ja.yl(B,y,!1,z),this.Hb.resume(),this.qf.set(l.La.Yd),this.cM(this.Jg));return !!A.QW;};c.prototype.yl=function(y,z,B,A){this.debug.assert(this.Ja,"has access to asePlaygraph");!1;this.Ja.yl(y,z,B,A);};c.prototype.po=function(){var y;this.debug.assert(this.Uc,"has access to internalLogger");!1;y=this.Oj.Oc;!1;this.Oj.emit("skipped",{type:"skipped",pts:y});return new l.XM(Promise.resolve()).skb;};c.prototype.vaa=function(y,z){var B;return null === (B=this.Ja) || void 0 === B?void 0:B.vaa(y,z);};c.prototype.Tta=function(y){var z,B,A,C,D,E,G,F;this.debug.assert(this.Ja,"has access to asePlaygraph");this.debug.assert(this.Uc,"has access to internalLogger");!1;z=this.Ja.na;B=[];A=Infinity;for(C in z.U){D=z.U[C];E=D.Ba;D=D.Aa;G=y < Number(null !== D && void 0 !== D?D:Infinity);if(E <= y && G)(!1,B.push(C));else if((E=Math.min(Math.abs(y - E),Math.abs(y - D)),E < A)){A=E;F=C;}}y=B[0] || F;this.debug.v8(y,"has access to locatedSegmentId");!1;return y;};c.prototype.P3b=function(){var y,z;y=this;this.debug.assert(this.j.Wb,"has access to mediaElement");z=this.j.Wb.ea;this.debug.assert(z,"has access to videoElement");z.addEventListener("play",function(){y.qf.value === l.La.aj && (y.qf.set(l.La.Xc),y.Oj.emit("playing",{type:"playing",pts:y.Oj.Oc}));});z.addEventListener("pause",function(){y.qf.value === l.La.Xc && (y.qf.set(l.La.aj),y.Oj.emit("paused",{type:"paused",pts:y.Oj.Oc}));});};c.prototype.fail=function(y){var z;null === (z=this.Ja) || void 0 === z?void 0:z.events.emit("error",{type:"error",error:"NFErr_MC_StreamingFailure",errormsg:y});};c.prototype.cM=function(y){var z,B,A,C,D,E,G,F;z=this;if(y !== this.iob && this.ZFa)(!1,this.Fgb=y);else {F=null === (B=this.Hb) || void 0 === B?void 0:B.cu.value;B=null === (A=this.Ja) || void 0 === A?void 0:A.Kg.value;A=!0 === F;F=B === l.bd.wm;!1;null === (C=this.Hb) || void 0 === C?void 0:C.cu.removeListener(this.Deb);null === (D=this.Ja) || void 0 === D?void 0:D.Kg.removeListener(this.z1a);A && F?y():(this.Deb=function(){return z.cM(y);},this.z1a=function(){return z.cM(y);},null === (E=this.Hb) || void 0 === E?void 0:E.cu.addListener(this.Deb),null === (G=this.Ja) || void 0 === G?void 0:G.Kg.addListener(this.z1a));}};c.prototype.X7a=function(y){var z,B;z=this;y=this.j.Vn(y);return Promise.resolve(null !== (B=y.ba) && void 0 !== B?B:this.Oea(y)).then(function(A){A=A.Ra;return {ba:A,Rl:A.Zaa && !A.rF,config:z.Le,Wf:[].concat(ia(z.Wf))};});};c.prototype.Oea=function(y){var z,B,A,C,D;z=this;!1;A=Promise.resolve();if(y.gj){C=y.gj.Ph;(D=null === (B=this.j.Vn(C).ba) || void 0 === B?void 0:B.Ra)?y.gj.f0=D:A=this.Fh.It(C).Ju.then(function(E){return E.ba;}).then(function(E){y.gj.f0=E;}).catch(function(){return z.j.Sd(d.aa.AM,d.Y.arb);});}return A.then(function(){return z.j.Oea(y);}).then(function(){return y.ba;});};c.prototype.Yx=function(y,z,B){var A,C,D,E,G,F,L,O,K,I;A=this;this.debug.assert(this.tj,"has access to streamingEngine");!1;L={P:y,Ph:null === (C=null === z || void 0 === z?void 0:z.Pl) || void 0 === C?void 0:C.Ph,Ve:null === (D=null === z || void 0 === z?void 0:z.Pl) || void 0 === D?void 0:D.Ve};if(!this.Fh.has(L)){!this.j.wwa(y) && (null === (E=null === z || void 0 === z?void 0:z.Pl) || void 0 === E?0:E.Ph) && this.j.wwa(null === (G=null === z || void 0 === z?void 0:z.Pl) || void 0 === G?void 0:G.Ph) && (C=this.j.Vn(null === (F=z.Pl) || void 0 === F?void 0:F.Ph),this.j.Q3a(y,z,C.sa));this.j.wwa(y) && (O=this.j.Vn(y));K=B?B.sa:O?O.sa:void 0;F=B?B.Ap:O?O.og:void 0;this.Fh.store(L,{W1a:function(){},equals:function(M){return M && M.P === L.P && (K === M.sa || !M.sa || !K);},get Ju() {I || (I=A.X7a(y));return I;},set Ju(M) {I=M;},events:new g.EventEmitter(),sa:K,P:L.P,cy:!1,CFa:!1});this.Le.VE && this.tj.xL(this.Fh.It(L.P,z),{sa:K,Ap:F,IX:null === B || void 0 === B?void 0:B.ay});}};c.prototype.ZL=function(y){var z,B,A;this.debug.assert(this.tj,"has access to streamingEngine");!1;z=this.j.Hj(y);B=z.gj;z={P:z.L,Ph:null === B || void 0 === B?void 0:B.Ph,Ve:null === B || void 0 === B?void 0:B.Ve};y=this.wb.Be(y).P;if(!this.Fh.has(z))return Promise.resolve();B && (A={Pl:{Ve:null === B || void 0 === B?void 0:B.Ve,Ph:B.Ph}});B=this.Fh.It(y,A);B.Ju=this.X7a(y);return this.tj.ZL(B);};c.prototype.MY=function(y){var z;this.debug.assert(this.Hb,"has access to asePlayer");this.debug.assert(this.Ja,"has access to asePlaygraph");return this.Ja.MY(null === (z=this.Hb.Wn().G) || void 0 === z?void 0:z.id,y);};c.prototype.jF=function(y){var z;y=null === (z=this.Ja) || void 0 === z?void 0:z.jF(y);!1;return y;};c.prototype.h1b=function(y){var z,B;z=y.k4a;B=y.S;this.debug.assert(this.tj,"has access to streamingEngine");this.debug.assert(this.Uc,"has access to internalLogger");!1;y=this.j.Hj(B);y=this.wb.Daa(y);B=y.U[B];this.debug.assert(B,"segment exists");this.hz=(0,q.k$a)(B.P,y,this.j.ca,B.Ba);z=Object.create(this.Le,{ay:{value:z.ay},i6a:{value:this.j.background}});this.qf=new t.ec(l.La.Yh);this.Ja=this.tj.rW(y,this.Le.I$b,z,this.Fh);this.SS=new l.ZM(this.Uc);z=this.Ja.YI(this.SS);y=this.Ja.XI();this.Ja.BEa(y,z);this.NC();this.PK=!1;};c.prototype.NO=function(){var y,z;y=this;this.debug.assert(this.tj,"has access to streamingEngine");!1;z=Object.create(this.Le,{Wf:{value:[].concat(ia(this.Wf))},vva:{value:function(){return y.kYb();}}});this.Oj=Object.create(new g.EventEmitter(),{Oc:{get:function(){y.debug.u8(y.j.mediaTime.value,"has access to mediaTime.value");return l.N.Na(y.j.mediaTime.value);}},playbackRate:{get:function(){return Math.max(y.j.playbackRate.value,.01);}},tva:{value:function(){y.debug.assert(y.j.Wb,"has access to mediaElement");return y.j.Wb;}}});this.Hb=this.tj.hGb(this.Oj,z);};c.prototype.kYb=function(){this.Kq || (this.Kq=new l.platform.MediaSource(this.Oj),this.Kq.Yc || (this.Kq.Yc=l.platform.MediaSource.Yc));return this.Kq;};Va.Object.defineProperties(c.prototype,{ZFa:{configurable:!0,enumerable:!0,get:function(){return void 0 !== this.OV && void 0 !== this.PV;}},Ac:{configurable:!0,enumerable:!0,get:function(){this.debug.assert(this.tj,"has access to streamingEngine");return this.tj.Ac;}},hk:{configurable:!0,enumerable:!0,get:function(){for(var y,z=null === (y=this.Ja) || void 0 === y?void 0:y.hk;null === z || void 0 === z?0:z.hk;){z=z.hk;}return null === z || void 0 === z?void 0:z.na;}},S2a:{configurable:!0,enumerable:!0,get:function(){for(var y=this.Hb;null === y || void 0 === y?0:y.rZ;){y=y.rZ;}return y;}},aPb:{configurable:!0,enumerable:!0,get:function(){var y,z,B;if(null === (y=this.S2a) || void 0 === y?0:y.nf){B=(y=this.S2a.Ii) && (null === (z=this.hk) || void 0 === z?void 0:z.U[y.S]);if(B)return {vt:l.N.Na(y.offset.Z + B.Ba),P:B.P};}}}});b.eIa=c;},function(r,b,a){var c;Object.defineProperty(b,"__esModule",{value:!0});b.w8=void 0;c=a(15);b.w8=function(l){var g,m,d,f;g=l.vk;m=l.loadTime;l=l.yta;d=(0,c.Qa)(m)?m:0;f=g[l.target] || ({});g[l.target] !== f && (g[l.target]=f);Object.entries(l.fields).forEach(function(h){var k,n,p,q;k=oa(h);h=k.next().value;k=k.next().value;if("object" !== typeof k || null === k)f[h]=k;else {n=k.type;if("count" === n)(void 0 === f[h] && (f[h]=0),++f[h]);else if(void 0 !== k.value){if("array" === n){n=f[h];p=k.adjust;q=k.value;n || (n=f[h]=[]);p && 0 < p.length && p.forEach(function(v){q[v]-=d || 0;});n.push(q);}else f[h]="sum" === n?(f[h] || 0) + k.value:k.value;}else f[h]=k;}});};},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.k$a=void 0;c=a(60);l=a(22);b.k$a=function(g,m,d,f){return m.U[m.ie].Ba === f?(g=(0,c.kX)(m,g,c.N.Na(d)),(0,l.ya)(g,"has valid start position relative to playgraph"),g):{S:m.ie,offset:c.N.Oa};};},function(r,b,a){var l,g,m,d,f,h,k;function c(n,p,q,v,t,w,u,x,y,z){var B;B=this;this.Ajc=n;this.j=p;this.id=q;this.height=v;this.width=t;this.i$b=w;this.j$b=u;this.size=x;this.Zv=y;this.urls=z;this.type=l.xj.eGa;this.retry=!0;this.state=f.jr.Y4;this.Bh={};this.y8={};this.dbc=function(A){if(A.ja)try{B.data=B.Ajc.parse(A.content);B.state=f.jr.mH;B.log.trace("TrickPlay parsed",{Images:B.data.images.length},B.Bh);B.j.fireEvent(h.ka.k2);}catch(C){B.state=f.jr.YQa;B.log.error("TrickPlay parse failed.",C);}else (B.state=f.jr.Y4,B.log.error("TrickPlay download failed.",(0,k.Mz)(A),B.Bh));};this.log=(0,m.kj)(p,"TrickPlay");}Object.defineProperty(b,"__esModule",{value:!0});b.WVa=void 0;l=a(93);g=a(19);m=a(9);d=a(107);f=a(563);h=a(16);k=a(4);c.prototype.dXb=function(n){if(this.data && (this.Zv && (n+=this.Zv),n=Math.floor(n / this.data.header.Wnb),0 <= n && n < this.data.images.length))return {image:this.data.images[n],time:n * this.data.header.Wnb,height:this.height,width:this.width,pixelAspectHeight:this.i$b,pixelAspectWidth:this.j$b};};c.prototype.QP=function(){switch(this.state){case f.jr.mH:return "downloaded";case f.jr.LOADING:return "loading";case f.jr.WT:return "downloadfailed";case f.jr.YQa:return "parsefailed";default:return "notstarted";}};c.prototype.download=function(){var n;n=this.GZb();n?(this.state=f.jr.LOADING,this.cRb(n)):this.retry=!1;};c.prototype.getState=function(){return this.state;};c.prototype.GZb=function(){var n,p,q;n=this;p=Object.keys(this.urls).find(function(v){return (n.y8[n.urls[v]] || 0) <= g.config.wjc;});if(p){q=this.urls[p];(q in this.y8)?this.y8[q]++:this.y8[q]=1;return {url:q,Ro:p};}};c.prototype.cRb=function(n){var p,q;this.log.trace("Downloading",n.url,this.Bh);q=this.haa(n.Ro);n={responseType:d.hZ,Cc:q,url:n.url,track:this,uu:null !== (p=null === q || void 0 === q?void 0:q.type) && void 0 !== p?p:"unknown",PE:"trickplay"};this.j.oba.download(n,this.dbc);};c.prototype.haa=function(n){return this.j.th.find(function(p){return p && p.id === n;});};b.WVa=c;},function(r,b,a){var l;function c(g,m,d,f){this.Csa=g;this.debug=m;this.Ia=d;this.j=f;this.eea=[];this.nda={};this.Esa={};this.Zta=!1;this.xnb=1;this.DIa=7.8125;}Object.defineProperty(b,"__esModule",{value:!0});b.JKa=void 0;l=a(5);a(16);a(15);a(107);c.prototype.register=function(g,m){this.debug.assert(!(0 <= this.eea.indexOf(g)),"panel already registered");this.nda[g]=m;this.eea.push(g);};c.prototype.ggb=function(g){var m;m=this;this.Esa[g]=!0;this.Zta || (this.Zta=!0,setTimeout(function(){return m.BUb();},0));};c.prototype.TXb=function(g){return (g=this.nda[g])?g():void 0;};c.prototype.HY=function(){var g;g=this.j.oea;return g?g.HY():[];};c.prototype.addEventListener=function(g,m){this.Csa.addListener(g,m);this.nda[g] && this.ggb(g);};c.prototype.removeEventListener=function(g,m){this.Csa.removeListener(g,m);};c.prototype.getTime=function(){return this.Ia.Rb().ia(l.va);};c.prototype.BUb=function(){this.Zta=!1;for(var g=this.eea.length,m;g--;){m=this.eea[g];this.Esa[m] && (this.Esa[m]=!1,this.Csa.Zc(m + "changed",{getModel:this.nda[m]}));}};b.JKa=c;},function(r,b,a){var l,g,m,d,f,h,k,n;function c(p,q){var v;v=this;this.co=p;this.Qv=q;this.hob=function(t){var w,u,x,y,z,B,A;w=v.xnb++;u=t.request.PE || "dl";x=v.x$a(u,"start");if(x){y=t.request.hC;z=y.stream.O.Oq;y=oa(y.stream.O.Ei).next().value;if(z || y)if((z=null !== z && void 0 !== z?z:y.G.id,!v.Jmb.has(z))){B=v.Q9a(z);A=t.ou;v.co.mark(x,B,A?u + "-" + A + "-" + w:u);t.T7(function(){var C,D;C=v.x$a(u,"end");D=A?u + "-" + A + "-" + w:u;C && v.co.mark(C,B,D);});}}};this.xnb=0;this.Jmb=new Set();this.bEa=new Map();q.UX && this.cmc();}Object.defineProperty(b,"__esModule",{value:!0});b.kQa=void 0;r=a(0);l=a(1);g=a(56);m=a(85);d=a(5);f=a(107);h=a(39);k=a(253);n={start:{video:g.Ua.vT,audio:g.Ua.rT},end:{video:g.Ua.uT,audio:g.Ua.qT}};c.prototype.R9a=function(p){var v,t,w,u,x,y,z,B;function q(A){return (0,d.timestamp)(v.U_a((0,d.timestamp)(A),p,!0));}v=this;t=new Set();w=p.yd;u=p.sa;x=void 0 === p.Dmb?null:p.Dmb;y=p.S;z=this.co.w9a(u);B=y && this.Q9a(y);B && z.push.apply(z,ia(this.co.w9a(B)));this.co.Fjb(p.sa);B && this.co.Fjb(B);y && this.Jmb.add(y);y=[];("pr_ats" in w) && y.push({name:g.Ua.s5,Au:q(w.pr_ats),sa:u,og:"request-pre-manifest"});("ats" in w) && y.push({name:g.Ua.q5,Au:q(w.ats),sa:u,og:"request-manifest"});("pr_at" in w) && y.push({name:g.Ua.r5,Au:q(w.pr_at),sa:u,og:"request-pre-manifest"});("at" in w) && y.push({name:g.Ua.p5,Au:q(w.at),sa:u,og:"request-manifest"});("lg" in w) && y.push({name:g.Ua.o5,Au:q(w.lg),sa:u,og:"request-license"});("lr" in w) && (y.push({name:g.Ua.n5,Au:q(w.lr),sa:u,og:"request-license"}),y.push({name:g.Ua.V2,Au:q(w.lr),sa:u,og:"apply-license"}));("ld" in w) && y.push({name:g.Ua.U2,Au:q(w.ld),sa:u,og:"apply-license"});("tt_start" in w) && y.push({name:g.Ua.tT,Au:q(w.tt_start),sa:u,og:"request-timed-text"});("tt_comp" in w) && y.push({name:g.Ua.sT,Au:q(w.tt_comp),sa:u,og:"request-timed-text"});return y.concat(z).map(function(A){return v.Vic(A,p);}).filter(function(A){return A.ts <= (null !== x && void 0 !== x?x:A.ts)?("end" === A.step && t.add(A.eventId),!0):!1;}).filter(function(A){return "start" !== A.step || t.has(A.eventId)?!0:!1;}).sort(function(A,C){return A.ts - C.ts;}).reduce(function(A,C){var D;D=C.eventName;delete C.eventName;D && (A[D]=C);return A;},{});};c.prototype.AGb=function(p,q,v){return (void 0 === v?0:v)?p.ia(d.va) + q.nj.ia(d.va):p.ia(d.va) - q.nj.ia(d.va);};c.prototype.U_a=function(p,q,v){v=void 0 === v?!1:v;if(q.wo)if(v)p.ia(d.va) + q.wo;else return p.ia(d.va) - q.wo;return this.AGb(p,q,v);};c.prototype.Vic=function(p,q){var v,t;v=p.og;t=p.name;return {eventName:this.e7b(t,v),eventId:v || t,ts:this.U_a(p.Au,q),comp:this.AY(t),cat:this.mWb(t),step:this.kZb(t)};};c.prototype.e7b=function(p,q){switch(p){case g.Ua.tT:case g.Ua.sT:case g.Ua.rT:case g.Ua.qT:case g.Ua.vT:case g.Ua.uT:return p + "-" + q;default:return p;}};c.prototype.AY=function(p){switch(p){case g.Ua.s5:case g.Ua.r5:case g.Ua.q5:case g.Ua.p5:return "manifest";case g.Ua.o5:case g.Ua.n5:case g.Ua.Ala:case g.Ua.zla:case g.Ua.O3:case g.Ua.N3:case g.Ua.V2:case g.Ua.U2:return "license";case g.Ua.tT:case g.Ua.sT:case g.Ua.rT:case g.Ua.qT:case g.Ua.vT:case g.Ua.uT:case g.Ua.Fha:case g.Ua.Eha:return "buffering";case g.Ua.Eka:case g.Ua.Dka:return "playback";default:return (0,k.bY)(p);}};c.prototype.mWb=function(p){switch(p){case g.Ua.s5:case g.Ua.r5:case g.Ua.q5:case g.Ua.p5:return "aws";case g.Ua.o5:case g.Ua.n5:return "mixed";case g.Ua.Eka:case g.Ua.Dka:case g.Ua.Ala:case g.Ua.zla:case g.Ua.O3:case g.Ua.N3:case g.Ua.V2:case g.Ua.U2:case g.Ua.Fha:case g.Ua.Eha:return "device";case g.Ua.tT:case g.Ua.sT:case g.Ua.rT:case g.Ua.qT:case g.Ua.vT:case g.Ua.uT:return "cdn";default:return (0,k.bY)(p);}};c.prototype.kZb=function(p){switch(p){case g.Ua.s5:case g.Ua.Eka:case g.Ua.q5:case g.Ua.o5:case g.Ua.Fha:case g.Ua.tT:case g.Ua.rT:case g.Ua.vT:case g.Ua.Ala:case g.Ua.O3:case g.Ua.V2:return "start";case g.Ua.r5:case g.Ua.Dka:case g.Ua.p5:case g.Ua.n5:case g.Ua.zla:case g.Ua.N3:case g.Ua.U2:case g.Ua.Eha:case g.Ua.sT:case g.Ua.qT:case g.Ua.uT:return "end";default:return (0,k.bY)(p);}};c.prototype.x$a=function(p,q){if((p in n[q]))return n[q][p];};c.prototype.Yjc=function(){f.Bf.removeEventListener(f.nba,this.hob);};c.prototype.cmc=function(){this.Yjc();f.Bf.addEventListener(f.nba,this.hob);};c.prototype.Q9a=function(p){var q;if(this.bEa.has(p))return this.bEa.get(p);q=Date.now();this.bEa.set(p,q);return q;};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.kU)),r.__param(1,(0,l.l)(h.Jp))],a);b.kQa=a;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A,C,D,E,G,F,L,O,K,I,M,H,J,N,P,W,V,S;Object.defineProperty(b,"__esModule",{value:!0});b.U2a=void 0;r=a(1);c=a(524);l=a(1394);g=a(101);m=a(1395);d=a(536);f=a(1396);h=a(541);k=a(1397);n=a(542);p=a(1398);q=a(295);v=a(1399);t=a(88);w=a(1400);u=a(1401);x=a(36);y=a(4);z=a(1402);B=a(1403);A=a(1404);C=a(51);D=a(1405);E=a(592);G=a(1406);F=a(521);L=a(1407);O=a(1408);K=a(1409);I=a(378);M=a(1410);H=a(84);J=a(591);N=a(1411);P=a(1412);W=a(1413);V=a(311);S=a(1414);b.U2a=new r.Ed(function(U){U(C.pn).to(D.ERa);U(c.TRa).to(l.SRa);U(E.zRa).to(G.yRa);U(F.BRa).to(L.ARa);U(g.Pka).to(m.URa);U(J.VRa).bf(function(fa){return function(){var qa;qa=fa.yb.get(H.Zz);return qa && qa.Fpb?fa.yb.resolve(P.nSa):fa.yb.resolve(N.WRa);};});U(d.xRa).to(f.wRa);U(h.kSa).to(k.jSa);U(n.NRa).to(p.MRa);U(q.Oka).to(v.ORa);U(t.dVa).to(w.cVa);U(t.kVa).to(u.jVa);U(t.cOa).to(z.bOa);U(t.ZUa).to(B.YUa);U(t.DLa).to(A.CLa);U(K.Nxb).to(O.XRa);U(I.LRa).to(M.KRa);U(V.Nha).to(W.tHa);U(V.Mha).to(S.oHa);U(t.eja).bf(function(fa){return function(qa){switch(qa){case t.ar.start:return fa.yb.get(t.dVa);case t.ar.stop:return fa.yb.get(t.kVa);case t.ar.HZ:return fa.yb.get(t.cOa);case t.ar.splice:return fa.yb.get(t.ZUa);case t.ar.lP:return fa.yb.get(t.DLa);}throw new x.rd(y.aa.Zwb,void 0,void 0,void 0,void 0,"The event key was invalid - " + qa);};});});},function(r,b,a){var l,g,m,d,f;function c(h){return d.Bi.call(this,h,g.aa.Kvb,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.SRa=void 0;r=a(0);l=a(1);g=a(4);m=a(66);d=a(72);a=a(51);ka(c,d.Bi);c.prototype.Sf=function(h,k){var n;n=this;return this.send(h,{url:"/" + m.Ih.Xya,name:m.Ih.Xya,ql:m.Ih.Xya},k).then(function(p){return p.result;}).catch(function(p){throw n.Tn(p);});};c.prototype.tq=function(){return Promise.reject(Error("Links are unsupported with logblobs"));};f=c;f=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.pn))],f);b.SRa=f;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v;function c(t,w,u,x,y){t=d.Bi.call(this,t,g.aa.AM,3) || this;t.platform=w;t.g_=u;t.v3b=x;t.R4b=y;return t;}Object.defineProperty(b,"__esModule",{value:!0});b.URa=void 0;r=a(0);l=a(101);g=a(4);m=a(66);a(139);d=a(72);f=a(51);h=a(49);k=a(39);n=a(138);p=a(295);q=a(1);a=a(591);ka(c,d.Bi);c.prototype.PYb=function(t,w){var u;u=w?m.Ih.w3b:m.Ih.ba;w=w?"licensedManifest":"manifest";t.hy === l.Lp.JM && (w="prefetch/" + w);"live" === t.lb.je && (w+="/live");return {ql:w,uLb:u};};c.prototype.Sf=function(t,w){var u,x;u=this;x=w.hy === l.Lp.C5?k.fx.yTa:k.fx.xU;return this.R4b().transform(w,x).then(function(y){var z,B;z=oa(y);y=z.next().value;B=z.next().value;!1;z=u.PYb(w,"licensedManifest" === B.Vo);return u.send(t,{url:B.Vo,name:z.uLb,ql:z.ql},y,void 0,void 0,x).then(function(A){var C;A=u.g_.create(A.result);C=A.Ra.Rw.map(function(D){return D.ki;}).filter(Boolean);B.vB && (0 < C.length?(C=u.v3b.mob(C),B.vB.A_a(C),A.vB=B.vB,A.Jxa=w.hy === l.Lp.JM,A.Ixa=!0):B.vB.close());A.BW=B.BW;A.E2=B.E2;!1;return A;});}).catch(function(y){!1;throw u.Tn(y);});};c.prototype.tq=function(){return Promise.reject(Error("Links are not supported with manifest command"));};v=c;v=r.__decorate([(0,q.$)(),r.__param(0,(0,q.l)(f.pn)),r.__param(1,(0,q.l)(h.fr)),r.__param(2,(0,q.l)(n.BM)),r.__param(3,(0,q.l)(p.Oka)),r.__param(4,(0,q.l)(a.VRa))],v);b.URa=v;},function(r,b,a){var l,g,m,d,f;function c(h){return d.Bi.call(this,h,g.aa.xM,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.wRa=void 0;r=a(0);l=a(1);g=a(4);m=a(66);d=a(72);a=a(51);ka(c,d.Bi);c.prototype.Sf=function(){return Promise.reject(Error("Links are required with acquire command"));};c.prototype.Haa=function(h){var k;k="ldl" === h.bdb?"prefetch/license":"license";"LIVE" === h.ih && (k+="/live");return k;};c.prototype.tq=function(h,k,n){var p;p=this;k={url:k.JP(n.bdb).href,name:m.Ih.ki,ql:this.Haa(n)};return this.send(h,k,n.inputs,"drmSessionId").then(function(q){q=q.result;p.qKb(q);return q;}).catch(function(q){throw p.Tn(q);});};c.prototype.qKb=function(h){h.forEach(function(k){if(!k.licenseResponseBase64)throw Error("Received empty licenseResponseBase64");});};f=c;f=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.pn))],f);b.wRa=f;},function(r,b,a){var l,g,m,d,f;function c(h){return d.Bi.call(this,h,g.aa.ula,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.jSa=void 0;r=a(0);l=a(1);g=a(4);m=a(66);d=a(72);a=a(51);ka(c,d.Bi);c.prototype.Sf=function(h,k){var n;n=this;return this.send(h,{url:"/bundle",name:m.Ih.ki,ql:"release/license"},k).then(function(p){return p.result;}).catch(function(p){throw n.Tn(p);});};c.prototype.tq=function(){return Promise.reject(Error("Links are unsupported with release"));};f=c;f=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.pn))],f);b.jSa=f;},function(r,b,a){var l,g,m;function c(d){this.za=d;}Object.defineProperty(b,"__esModule",{value:!0});b.MRa=void 0;r=a(0);l=a(1);g=a(27);m=a(5);c.prototype.ojc=function(d){var f;f=this.za.lf.ia(m.Eo);return {inputs:d.Yk.map(function(h){return {drmSessionId:h.sessionId,clientTime:f,challengeBase64:h.dataBase64,xid:d.sa.toString()};}),bdb:"standard" === d.Og.toLowerCase()?"license":"ldl",ih:d.ih};};c.prototype.rjc=function(d){var f,h;f=this;h=[];return d.Ye.map(function(k){h.push(k.id);return {url:f.YIb(k.oK,k.SZ),echo:"drmSessionId",params:{drmSessionId:k.id,xid:d.sa.toString()}};});};c.prototype.YIb=function(d,f){return "/releaseLicense?drmLicenseContextId=" + d + (f?"&licenseId=" + f:"");};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.Hh))],a);b.MRa=a;},function(r,b,a){var l,g,m;function c(d,f){this.Wi=d;this.vE=f;}Object.defineProperty(b,"__esModule",{value:!0});b.ORa=void 0;r=a(0);l=a(1);g=a(30);a=a(31);c.prototype.mob=function(d){var f,h;f=this;h=d.map(function(k){return k.links.releaseLicense.href;}).map(function(k){return f.Wi.g0(k.substring(k.indexOf("?") + 1));});return {ja:!0,Ye:d.map(function(k,n){return {id:k.drmSessionId,oK:h[n].drmlicensecontextid,SZ:h[n].licenseid};}),sk:d.map(function(k){return {data:f.vE.decode(k.licenseResponseBase64),sessionId:k.drmSessionId};})};};m=c;m=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.Di)),r.__param(1,(0,l.l)(a.Yi))],m);b.ORa=m;},function(r,b,a){var l,g,m,d,f;function c(h){return m.Is.call(this,h,g.aa.xyb,d.ar.start,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.cVa=void 0;r=a(0);l=a(1);g=a(4);m=a(168);d=a(88);a=a(51);ka(c,m.Is);f=c;f=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.pn))],f);b.cVa=f;},function(r,b,a){var l,g,m,d,f;function c(h){return m.Is.call(this,h,g.aa.yyb,d.ar.stop,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.jVa=void 0;r=a(0);l=a(1);g=a(4);m=a(168);d=a(88);a=a(51);ka(c,m.Is);f=c;f=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.pn))],f);b.jVa=f;},function(r,b,a){var l,g,m,d,f;function c(h){return m.Is.call(this,h,g.aa.Ija,d.ar.HZ,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.bOa=void 0;r=a(0);l=a(1);g=a(4);m=a(168);d=a(88);a=a(51);ka(c,m.Is);f=c;f=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.pn))],f);b.bOa=f;},function(r,b,a){var l,g,m,d,f;function c(h){return m.Is.call(this,h,g.aa.qUa,d.ar.splice,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.YUa=void 0;r=a(0);l=a(1);g=a(4);m=a(168);d=a(88);a=a(51);ka(c,m.Is);f=c;f=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.pn))],f);b.YUa=f;},function(r,b,a){var l,g,m,d,f;function c(h){return m.Is.call(this,h,g.aa.kub,d.ar.lP,3) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.CLa=void 0;r=a(0);l=a(1);g=a(4);m=a(168);d=a(88);a=a(51);ka(c,m.Is);c.prototype.AE=function(h){return Object.assign(Object.assign({},m.Is.prototype.AE.call(this,h)),{action:h.action});};f=c;f=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.pn))],f);b.CLa=f;},function(r,b,a){var l,g,m,d,f,h,k,n,p;function c(q,v,t,w,u,x,y,z,B){this.Gi=q;this.Bf=v;this.Ri=t;this.QQb=w;this.MB=u;this.Rkc=x;this.kdc=z;this.fJ=B;}Object.defineProperty(b,"__esModule",{value:!0});b.ERa=void 0;r=a(0);l=a(1);g=a(175);m=a(84);d=a(561);f=a(558);h=a(86);k=a(65);n=a(366);p=a(112);a=a(94);c=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.a3)),r.__param(1,(0,l.l)(k.cx)),r.__param(2,(0,l.l)(m.Zz)),r.__param(3,(0,l.l)(f.HRa)),r.__param(4,(0,l.l)(h.Oz)),r.__param(5,(0,l.l)(n.hWa)),r.__param(6,(0,l.l)(p.C3)),r.__param(7,(0,l.l)(d.mSa)),r.__param(8,(0,l.l)(a.Iz))],c);b.ERa=c;},function(r,b,a){var l,g,m,d,f;function c(h){return d.Bi.call(this,h,g.aa.urb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.yRa=void 0;r=a(0);l=a(1);g=a(4);m=a(66);d=a(72);a=a(51);ka(c,d.Bi);c.prototype.Sf=function(h,k,n){var p;p=this;return this.send(h,{url:"/" + m.Ih.bind,name:m.Ih.bind,ql:m.Ih.bind},k,void 0,n).then(function(q){return q.result;}).catch(function(q){throw p.Tn(q);});};c.prototype.tq=function(){return Promise.reject(Error("Links are unsupported with bind"));};f=c;f=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.pn))],f);b.yRa=f;},function(r,b,a){var l,g,m,d,f;function c(h){return d.Bi.call(this,h,g.aa.vrb,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.ARa=void 0;r=a(0);l=a(1);g=a(4);m=a(66);d=a(72);a=a(51);ka(c,d.Bi);c.prototype.Sf=function(h,k,n){var p;p=this;return this.send(h,{url:"/bindDevice",name:m.Ih.bind,ql:m.Ih.bind},k,void 0,n).then(function(q){return q.result;}).catch(function(q){throw p.Tn(q);});};c.prototype.tq=function(){return Promise.reject(Error("Links are unsupported with bindDevice"));};f=c;f=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.pn))],f);b.ARa=f;},function(r,b,a){var l,g,m,d,f;function c(h){return d.Bi.call(this,h,g.aa.nxb,1) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.XRa=void 0;r=a(0);l=a(1);g=a(4);m=a(66);d=a(72);a=a(51);ka(c,d.Bi);c.prototype.Sf=function(h,k,n){var p;p=this;return this.send(h,{url:"/" + m.Ih.ping,name:m.Ih.ping,ql:m.Ih.ping},k,void 0,n).then(function(q){return q.result;}).catch(function(q){throw p.Tn(q);});};c.prototype.tq=function(){return Promise.reject(Error("Links are unsupported with ping"));};f=c;f=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.pn))],f);b.XRa=f;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.Nxb="PboPingCommandSymbol";},function(r,b,a){var l,g,m,d,f;function c(h){return d.Bi.call(this,h,g.aa.Aub,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.KRa=void 0;r=a(0);l=a(1);g=a(4);m=a(66);d=a(72);a=a(51);ka(c,d.Bi);c.prototype.Sf=function(h,k){var n;n=this;return this.send(h,{url:"/generateScreenshots",name:m.Ih.ba,ql:"generateScreenshots"},k).then(function(p){return p.result;}).catch(function(p){throw n.Tn(p);});};c.prototype.tq=function(h,k,n){var p;p=this;k={url:k.JP("generateScreenshots").href,name:m.Ih.ba,ql:"generateScreenshots"};return this.send(h,k,n).then(function(q){return q.result;}).catch(function(q){throw p.Tn(q);});};f=c;f=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(a.pn))],f);b.KRa=f;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w,u,x;function c(y,z,B,A,C,D,E,G,F,L){this.Ri=y;this.platform=z;this.config=B;this.YJb=A;this.t$b=C;this.Jq=D;this.WW=E;this.za=G;this.Uca=F;this.$o=L;}Object.defineProperty(b,"__esModule",{value:!0});b.WRa=void 0;r=a(0);l=a(1);g=a(101);m=a(12);d=a(504);f=a(502);h=a(590);k=a(99);n=a(49);p=a(27);q=a(5);v=a(173);t=a(84);w=a(368);u=a(26);x=a(57);c.prototype.transform=function(y,z){var B,A,C,D,E,G,F,L;B=this;A=y.lb;C=Object.assign({},A.E8,A.no);D={};E=y.P;G=this.config();D[E]={unletterboxed:!!C.preferUnletterboxed || G.eac};F=G.alc?30:25;G=G.Hu?this.Jq.RWb():Promise.resolve(this.Uca.Sv());L={je:null === A || void 0 === A?void 0:A.je};return Promise.all([this.$o.q$a(L),this.$o.s$a(L),this.$o.PY(),this.$o.Caa(),this.nWb(y.sa,z),this.TWb(y),G]).then(function(O){var K,I,M,H,J,N,P,W,V,S,U,fa,qa,za,Aa,Qa;K=oa(O);I=K.next().value;M=K.next().value;H=K.next().value;J=K.next().value;N=K.next().value;O=K.next().value;P=K.next().value;K=I.Laa().concat(M.Laa()).concat(B.config().Mw).concat(["BIF240","BIF320"]).filter(Boolean);J=J?J.DEVICE_SECURITY_LEVEL:void 0;Qa="postplay" === A.je?!0:!!C.isUIAutoPlay;H={type:"standard",manifestVersion:B.Ri.l6a?"v2":"v1",viewableId:E,profiles:K,flavor:y.hy,drmType:P,drmVersion:F,usePsshBox:!0,isBranching:!!y.lb.ji,useHttpsStreams:!0,supportsUnequalizedDownloadables:B.config().gic,imageSubtitleHeight:d.Rla.Y9a(),uiVersion:B.Ri.oz,uiPlatform:B.Ri.Tga,clientVersion:B.platform.version,platform:null === (W=B.config().we) || void 0 === W?void 0:W.version,osVersion:null === (S=null === (V=B.config().we) || void 0 === V?void 0:V.os) || void 0 === S?void 0:S.version,osName:null === (fa=null === (U=B.config().we) || void 0 === U?void 0:U.os) || void 0 === fa?void 0:fa.name,supportsPreReleasePin:B.config().Mr.aic,supportsWatermark:B.config().Mr.bic,packageId:B.oYb(A),deviceSecurityLevel:J,videoOutputInfo:H,titleSpecificData:D,preferAssistiveAudio:!!C.assistiveAudioPreferred,preferredTextLocale:C.preferredTextLocale,preferredAudioLocale:C.preferredAudioLocale,isUIAutoPlay:Qa,challenge:N,isNonMember:B.Ri.Nbb,pin:A.yhb,desiredVmaf:B.config().ypb?B.config().$4a:B.config().a5a,desiredSegmentVmaf:B.config().ypb?B.config().$4a:B.config().a5a,requestSegmentVmaf:B.config().qdc,supportsPartialHydration:B.Ri.jP,contentPlaygraph:y.lb.ji?[]:B.Ri.WI,auxiliaryManifestToken:y.lb.ji?void 0:null === (qa=y.gj) || void 0 === qa?void 0:qa.Ve,originalPlaybackContextId:!y.lb.ji && (null === (za=y.gj) || void 0 === za?0:za.Ve)?null === (Aa=y.gj) || void 0 === Aa?void 0:Aa.fBa:void 0,liveMetadataFormat:"INDEXED_SEGMENT_TEMPLATE",useBetterTextUrls:!0};A.F6a && (H.extraParams=A.F6a);A.Z4a && (H.desiredDownloadables=A.Z4a);A.jDa && (H.requestReference=A.jDa);W={Vo:O?"licensedManifest":"manifest",vB:null === O || void 0 === O?void 0:O.kc,BW:I,E2:M};O && (O={drmSessionId:O.kc.DB() || "session",clientTime:B.za.sL.ia(q.Eo),challengeBase64:O.Oqa},H.challenges={"default":[O]},H.profileGroups=[{name:"default",profiles:K}],H.licenseType=y.Og == x.$i.Kp?"limited":"standard",y.sa && (H.xid=y.sa.toString()));B.Ri.jP || (H.showAllSubDubTracks=B.config().Mr.ygc || !!C.showAllSubDubTracks,B.Ri.c6a && y.hy === g.Lp.C5 && (H.maxSupportedLanguages=2));y.Kga && (H.originalPlaybackContextId=y.Kga.fBa,H.requiredAudioTrackId=y.Kga.udc,H.requiredTextTrackId=y.Kga.xdc);return [H,W];});};c.prototype.oYb=function(y){if(this.config().Mea.enabled){if(void 0 !== y.zp)return y.zp;if(void 0 !== this.config().Mea.zp)return Number(this.config().Mea.zp);}};c.prototype.nWb=function(y,z){var B;B=this;return this.YJb.s8a(z).then(function(A){var C;C=y && B.t$b.uYb(y);C && C.Er("cad");return A;});};c.prototype.TWb=function(y){var z;if(void 0 === y.Og || !this.config().Hu)return Promise.resolve(void 0);z=y.Og === x.$i.gr && this.Ri.Wx;return y.Og === x.$i.Kp && this.Ri.UE || z?this.WW.Rva(y.Og):Promise.resolve(void 0);};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(t.Zz)),r.__param(1,(0,l.l)(n.fr)),r.__param(2,(0,l.l)(m.xc)),r.__param(3,(0,l.l)(f.gJa)),r.__param(4,(0,l.l)(h.ela)),r.__param(5,(0,l.l)(k.Sz)),r.__param(6,(0,l.l)(v.l3)),r.__param(7,(0,l.l)(p.Hh)),r.__param(8,(0,l.l)(w.kka)),r.__param(9,(0,l.l)(u.Hz))],a);b.WRa=a;},function(r,b,a){var l,g,m,d,f,h;function c(k,n,p,q){this.platform=k;this.config=n;this.WW=p;this.$o=q;}Object.defineProperty(b,"__esModule",{value:!0});b.nSa=void 0;r=a(0);l=a(1);g=a(12);m=a(49);d=a(173);f=a(26);h=a(57);c.prototype.transform=function(k){var n,p,q;n=this;p=k.lb;q={je:void 0};return Promise.all([this.$o.q$a(q),this.$o.s$a(q),this.WW.Rva(h.$i.gr)]).then(function(v){var t,w;t=oa(v);v=t.next().value;w=t.next().value;t=t.next().value;return [{viewableId:k.P,packageId:p.zp,assetId:p.Gpa,challenge:t.Oqa,audioProfiles:v.Laa(),textProfiles:n.config().Mw,trickplayProfiles:["BIF240","BIF320"],videoProfiles:w.Laa(),audioLanguages:p.MHb,textLanguages:p.zic,videoLanguages:p.Upb?[p.Upb]:void 0,requestReference:p.jDa,additionalAudioAssets:p.vGb,additionalTextAssets:p.zGb,useBetterTextUrls:!0},{vB:null === t || void 0 === t?void 0:t.kc,Vo:"studioManifest",BW:v,E2:w}];});};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.fr)),r.__param(1,(0,l.l)(g.xc)),r.__param(2,(0,l.l)(d.l3)),r.__param(3,(0,l.l)(f.Hz))],a);b.nSa=a;},function(r,b,a){var l,g,m,d,f;function c(h){return d.Bi.call(this,h,g.aa.hHa,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.tHa=void 0;r=a(0);l=a(1);g=a(4);m=a(66);d=a(72);f=a(51);a(139);ka(c,d.Bi);c.prototype.Sf=function(h,k){var n,p,q;n=this;p=k.event;q=this.AE(k);!1;!1;return this.send(h,{url:k.href,name:m.Ih.events,ql:m.Ih.events + "/" + p},q).then(function(){return k;}).catch(function(v){throw n.Tn(v);});};c.prototype.tq=function(){return Promise.reject(Error("Links are unsupported with ad events"));};c.prototype.AE=function(h){return {xid:h.sa,event:h.event,adEventToken:h.Lx,adBreakLocationMs:h.uI,position:h.position,clientTime:h.dB,sessionStartTime:h.oo,appId:h.appId,sessionId:h.sessionId,playTimes:this.qqa(h.Py),mainManifestPlaybackContextId:h.E4b,thirdPartyAdVerificationMetadata:h.Cic};};c.prototype.qqa=function(h){return {total:h.total,audio:h.audio.map(function(k){return {duration:k.duration,downloadableId:k.Tb,cdnId:k.Ro};}),video:h.video.map(function(k){return {duration:k.duration,downloadableId:k.Tb,cdnId:k.Ro};}),text:h.text.map(function(k){return {duration:k.duration,downloadableId:k.Tb,cdnId:k.Ro};})};};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(f.pn))],a);b.tHa=a;},function(r,b,a){var l,g,m,d,f;function c(h){return d.Bi.call(this,h,g.aa.hHa,2) || this;}Object.defineProperty(b,"__esModule",{value:!0});b.oHa=void 0;r=a(0);l=a(1);g=a(4);m=a(66);d=a(72);f=a(51);a(139);ka(c,d.Bi);c.prototype.Sf=function(h,k){var n,p,q;n=this;p=k.event;q=this.AE(k);!1;!1;return this.send(h,{url:k.href,name:m.Ih.events,ql:m.Ih.events + "/" + p},q).then(function(){return k;}).catch(function(v){throw n.Tn(v);});};c.prototype.tq=function(){return Promise.reject(Error("Links are unsupported with ad break events"));};c.prototype.AE=function(h){return {xid:h.sa,event:h.event,adEventToken:h.Lx,adBreakLocationMs:h.uI,position:h.position,clientTime:h.dB,sessionStartTime:h.oo,appId:h.appId,sessionId:h.sessionId,playTimes:{}};};a=c;a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(f.pn))],a);b.oHa=a;},function(r,b,a){var c,l,g,m,d,f;Object.defineProperty(b,"__esModule",{value:!0});b.transports=void 0;r=a(1);c=a(289);l=a(559);g=a(1416);m=a(1417);d=a(1418);f=a(39);b.transports=new r.Ed(function(h){h(c.P5).to(d.TVa).la();h(l.rQa).to(g.qQa);h(l.aVa).to(m.$Ua);h(l.UVa).bf(function(k){return function(n){var p;return k.yb.get(c.P5).Yfa(null !== (p=null === n || void 0 === n?void 0:n.K6b) && void 0 !== p?p:f.fx.xU)?k.yb.get(l.rQa):k.yb.get(l.aVa);};});});},function(r,b,a){var l,g,m,d,f,h;function c(k,n,p){var q;q=this;this.WF=n;this.profile=p;this.log=k.cb("MslTransport");this.WF().then(function(v){return q.pda=v;});}Object.defineProperty(b,"__esModule",{value:!0});b.qQa=void 0;r=a(0);l=a(1);g=a(7);m=a(164);d=a(5);a=a(80);f={license:!0};c.prototype.send=function(k,n){var p,q;p=this;q={gAa:Object.assign({Bf:k.Bf,log:k.log,profile:this.profile},k.yIb),method:k.Vo,url:k.url.href,body:JSON.stringify(n),timeout:k.timeout.ia(d.va),Hpb:this.profile,$cc:!f[k.Vo],Sfb:!!f[k.Vo],Im:!0,pfa:k.yDa,headers:k.headers};!1;return this.WF().then(function(v){return v.send(q).catch(function(t){var w;if(!t.error)throw (t.wc=t.Ca || t.wc,t);w=t.error;w.uG=t.uG;p.log.error("Error sending MSL request",{mslCode:w.kC,subCode:w.wc,data:w.data,message:w.message});throw w;});});};c.prototype.Ira=function(){var k;return {userTokens:null === (k=this.pda) || void 0 === k?void 0:k.C_.getUserIdTokenKeys()};};h=c;h=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.jb)),r.__param(1,(0,l.l)(m.mU)),r.__param(2,(0,l.l)(a.NM))],h);b.qQa=h;},function(r,b,a){var l,g,m,d;function c(f,h){this.Bf=h;this.log=f.cb("SslTransport");}Object.defineProperty(b,"__esModule",{value:!0});b.$Ua=void 0;r=a(0);l=a(1);g=a(5);m=a(7);a=a(65);c.prototype.send=function(f,h){var k,n;k=this;n={url:f.url.href,PE:"nq-" + f.Vo,$hb:JSON.stringify(h),m9:f.timeout.ia(g.va),headers:f.headers,withCredentials:!0,uu:"pbo"};!1;return new Promise(function(p,q){k.Bf.download(n,function(v){v.ja?p(v):q(v);});}).then(function(p){return {status:"success",body:p.content};}).catch(function(p){var q;if(!p.error)throw (p.wc=p.Ca || p.wc,p);q=p.error;q.uG=p.uG;k.log.error("Error sending SSL request",{subCode:q.wc,data:q.content,message:q.message});throw q;});};c.prototype.Ira=function(){return {};};d=c;d=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.jb)),r.__param(1,(0,l.l)(a.cx))],d);b.$Ua=d;},function(r,b,a){var l,g,m,d,f;function c(h){return g.If.call(this,h,"TransportConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.TVa=void 0;r=a(0);l=a(1);g=a(46);m=a(33);d=a(45);f=a(39);ka(c,g.If);c.prototype.Yfa=function(h){var k,n;k=this.NS;n=this.$_a;switch(h){case f.fx.xU:return k;case f.fx.yTa:return k && !n;case f.fx.Hwb:return !1;}};Va.Object.defineProperties(c.prototype,{NS:{configurable:!0,enumerable:!0,get:function(){return !0;}},$_a:{configurable:!0,enumerable:!0,get:function(){return !1;}}});a=c;r.__decorate([d.config(d.Hd,"usesMsl")],a.prototype,"NS",null);r.__decorate([d.config(d.Hd,"allowRequestsWithoutMsl")],a.prototype,"$_a",null);a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.rn))],a);b.TVa=a;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.Om=void 0;r=a(1);c=a(575);l=a(1420);b.Om=new r.Ed(function(g){g(c.tOa).to(l.sOa);});},function(r,b,a){var l,g,m,d,f,h,k,n;function c(p,q,v,t,w){this.lJ=p;this.cl=q;this.config=v;this.IQ=t;this.Dd=w;}Object.defineProperty(b,"__esModule",{value:!0});b.sOa=void 0;r=a(0);l=a(1);g=a(128);m=a(1421);d=a(1422);f=a(69);h=a(12);k=a(145);a=a(120);c.prototype.create=function(p,q,v){return p?new m.uOa(this.config(),this.cl,this.Dd,q,v,this.lJ,this.IQ()):new d.mOa(this.config,this.cl,this.Dd,q,v);};n=c;n=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.G3)),r.__param(1,(0,l.l)(f.Tu)),r.__param(2,(0,l.l)(h.xc)),r.__param(3,(0,l.l)(k.gU)),r.__param(4,(0,l.l)(a.IH))],n);b.sOa=n;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q;function c(v,t,w,u,x,y,z){u=k.oT.call(this,u,x) || this;u.config=v;u.cl=t;u.Dd=w;u.lJ=y;u.Vca=z;u.log=(0,g.kj)(u.j,"LicenseBroker");u.QZ=new Set();u.Lza=!1;return u;}Object.defineProperty(b,"__esModule",{value:!0});b.uOa=void 0;r=a(0);l=a(4);g=a(9);m=a(349);d=a(5);f=a(1);h=a(593);k=a(594);n=a(57);p=a(16);q=a(43);ka(c,k.oT);c.prototype.Vda=function(){var v,t;v=this;t=this.j.ha;this.QZ.has(t.L) || (this.QZ.add(t.L),this.aHb(t).catch(function(){return v.Vjb(t);}).then(function(){return v.s0a(t);}).catch(function(w){return v.r0a(t,w);}).catch(function(w){return v.Sd(w.code,w,w.vd);}));};c.prototype.aHb=function(v){var t;t=this;return Promise.all([this.Dd.n8a(v.L),this.lJ()]).then(function(w){var u,x;w=oa(w);u=w.next().value;x=w.next().value;return u.Ofa.then(function(y){var z;z=t.Vca.mediaKeys;if(z && z !== y.mediaKeys)return (t.log.warn("Cannot use cached license session as its uses different MediaKeys"),Promise.reject());"manifest" === u.source && (z=t.p9a(v),x.lfb(z,y));return y;}).then(function(y){return t.m8(y,v,u.source);});}).catch(function(w){t.log.warn("eme not in cache",w);throw w;});};c.prototype.m8=function(v,t,w){this.sib(v,t);t.JI=w;this.Vca.C_a(v.mediaKeys);return v.Apa();};c.prototype.ZUb=function(v){var t;t={};v.forEach(function(w){t[(0,m.G5a)(w.u_)]=w.time.ia(d.va);});return t;};c.prototype.sib=function(v,t){var w;w=this;t.We=v;v.sfc(function(u){w.Sd(u.code,u,u.vd);});};c.prototype.s0a=function(v){this.log.info("Successfully applied license for xid: " + v.sa + ", viewable: " + v.L + ", segment: " + v.S);this.NB(v);this.Lza?this.J$(v.L):this.setMediaKeys(v);};c.prototype.r0a=function(v,t){this.NB(v);throw t;};c.prototype.NB=function(v){v.We && v.NB(this.ZUb(v.We.yd));};c.prototype.p9a=function(v){var t,w;t=v.uz[0];w=t.streams[0].kf;w=(0,q.xxa)(w);t=(0,q.nva)(t.streams);return {type:this.uaa(!1),initData:v.Bw.map(function(u){return (0,g.mt)(u);}),Kba:w,context:{ea:this.Wb.ea,hca:t},Rj:{L:v.L,sa:v.sa,fh:v.fh,Hm:v.Hm,Kj:v.ba.Kj,ih:v.ba.Ra.ih}};};c.prototype.Vjb=function(v){var t;t=this;return this.lJ().then(function(w){var u;u=t.p9a(v);t.QZ.add(v.L);return w.ki(u,t.Vca).then(function(x){t.sib(x,v);t.j.fireEvent(p.ka.TZ,{L:v.L});return x.Apa();});});};c.prototype.setMediaKeys=function(v){var t;t=this;if(this.Lza)this.log.trace("Media Keys already set");else try{this.Wb.ea?(this.Lza=!0,this.Wb.ea.setMediaKeys(v.We.mediaKeys).then(function(){t.J$(v.L);}).catch(function(w){w=t.z$a(w);t.Sd(l.aa.IM,w,w.Rf);})):this.J$(v.L);}catch(w){this.Sd(l.aa.IM,w,void 0);}};c.prototype.EC=function(){var v,t;v=this;t=this.j.ha.We;return t?this.lJ().then(function(w){return w.release(t,v.Vca).then(function(u){v.log.trace("Successfully released the license");return u.close();}).catch(function(u){v.log.error("Unable to release the license",u);});}):Promise.resolve();};c.prototype.Ujb=function(v){var t;t=this;v=void 0 === v?this.j:v;return this.Vjb(v).then(function(){return t.s0a(v);}).catch(function(w){return t.r0a(v,w);});};c.prototype.uaa=function(v){return this.cl.nY?n.$i.Kp:v?n.$i.Kp:n.$i.gr;};Va.Object.defineProperties(c.prototype,{XF:{configurable:!0,enumerable:!0,get:function(){return "encrypted";}},Zn:{configurable:!0,enumerable:!0,get:function(){return this.config.Zn;}}});a=c;r.__decorate([h.oca],a.prototype,"XF",null);a=r.__decorate([(0,f.$)()],a);b.uOa=a;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t;function c(w,u,x,y,z){y=p.oT.call(this,y,z) || this;y.config=w;y.cl=u;y.Dd=x;y.log=(0,g.kj)(y.j,"LegacyLicenseBroker");y.Zn=y.config().Zn;y.config().Cib?(0,d.Wbb)()?y.fha=!0:y.log.error("Promise based eme requested but platform does not support it",{browserua:f.vH}):y.fha=!1;return y;}Object.defineProperty(b,"__esModule",{value:!0});b.mOa=void 0;r=a(0);l=a(4);g=a(9);m=a(163);d=a(44);f=a(14);h=a(1);k=a(593);n=a(49);p=a(594);q=a(57);v=a(5);ka(c,p.oT);c.prototype.H3a=function(w){var u;u=void 0 === u?this.j:u;return new this.hu.pM(w,function(x){return u.n9.IJ(x);},function(x){return u.n9.release(x);},{dg:!1,Yl:!1});};c.prototype.JE=function(w){var u,x,y,z,B,A;u=this;w=void 0 === w?this.j:w;x=a(62).Uo;this.hu.pM || this.Sd(l.aa.xM,l.Y.$tb);y=(0,g.kj)(w,"Eme");z=this.H3a(y);B=g.Ha.get(m.DU);A=B.s9(w.Gc.value.streams);B=B.y9(w.Uh.value.streams);return this.hu.rM(y,function(C){return w.Ze(C);},{dg:!1,Yl:!1,za:{getTime:x},Zm:z,C0:!!this.fha,ea:this.Wb.ea,cD:this.config().Y5a,onerror:function(C,D,E){return u.Sd(C,D,E);},xAa:function(){},TK:!0,LHb:A,Clc:B,Dya:this.cl.i8.ia(v.va)});};c.prototype.setMediaKeys=function(w){var u;u=this;return this.fha?new Promise(function(x,y){if(u.Wb.ea)u.Wb.ea.setMediaKeys(w).then(function(){x();}).catch(function(z){var B;B=u.z$a(z);y({ja:!1,code:l.aa.IM,wc:B.Ca,vd:B.Rf,Ub:B.Ub,message:"Set media keys is a failure",cause:z});});else return Promise.resolve();}):Promise.resolve();};c.prototype.z6a=function(w){return {code:w.code,subCode:w.wc,extCode:w.vd,edgeCode:w.ep,message:w.message,errorDetails:w.Ub,errorData:w.ZE,state:w.state};};c.prototype.uEa=function(w,u,x){var z,B,A;function y(){B.dL().catch(function(C){z.log.error("Unable to set the license",z.z6a(C));C.cause && C.cause.Ub && (C.Ub=C.Ub?C.Ub + C.cause.Ub:C.cause.Ub);z.Sd(C.code,C,C.vd);});}z=this;x=void 0 === x?this.j:x;B=x.We;this.log.info("Setting the license");A=u?function(){return Promise.resolve();}:function(){return B.ki(z.uaa(!1),w);};return (u?function(){return B.m8(z.Wb.ea);}:function(){return B.create(z.Zn).then(function(){return Promise.resolve();});})().then(A).then(function(){return z.setMediaKeys(B.mediaKeys);}).then(function(){z.log.info("license set");z.J$(x.L);z.Wb.lqb.then(function(){z.config().KF && (u || z.config().nY) && (z.Pjb=mb.setTimeout(y,z.config().KF));});}).catch(function(C){z.log.error("Unable to set the license",z.z6a(C));C.cause && C.cause.Ub && (C.Ub=C.Ub?C.Ub + C.cause.Ub:C.cause.Ub);if(u)throw Error(C && C.message?C.message:"failed to set license");z.Sd(C.code,C,C.vd);});};c.prototype.EC=function(){return Promise.resolve();};c.prototype.Vda=function(){var u;function w(){var x;u.j.We=u.JE();x=[];u.j.Bw.forEach(function(y){x.push((0,g.mt)(y));});u.uEa(x);}u=this;this.QZ || (this.QZ=!0,this.hu.rM?this.j.Bw?this.config().TX && this.config().iu?this.Dd.n8a(this.j.L).then(function(x){u.j.We=x;return x.YGa.then(function(){var y;y=[];u.j.Bw.forEach(function(z){y.push((0,g.mt)(z));});return u.uEa(y,!0).then(function(){var z;if(x.Zsc)u.Sd(l.aa.dub);else {z=(0,g.kj)(u.j,"Eme");x.fpb({log:z,wp:function(B){return u.j.Ze(B);}},{Zm:u.H3a(z),onerror:function(B,A,C){return u.Sd(B,A,C);}});u.j.NB(x.yd || ({}));u.j.JI="videopreparer";}});});}).catch(function(x){u.log.warn("eme not in cache",x);w();}):w():(this.log.error("Missing the PSSH on the video track, closing the player"),this.Sd(l.aa.zxb)):this.Sd(l.aa.xM,l.Y.aub));};c.prototype.Ujb=function(w){var u;w=void 0 === w?this.j:w;w.We=this.JE();u=[];w.Bw.forEach(function(x){u.push((0,g.mt)(x));});return this.uEa(u,!1,w);};c.prototype.uaa=function(w){return this.config().nY?q.$i.Kp:w?q.$i.Kp:q.$i.gr;};Va.Object.defineProperties(c.prototype,{hu:{configurable:!0,enumerable:!0,get:function(){return g.Ha.get(n.j5);}},XF:{configurable:!0,enumerable:!0,get:function(){return this.fha?"encrypted":this.Wb.tLa + "needkey";}}});t=c;r.__decorate([k.oca],t.prototype,"hu",null);r.__decorate([k.oca],t.prototype,"XF",null);t=r.__decorate([(0,h.$)()],t);b.mOa=t;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t,w,u;Object.defineProperty(b,"__esModule",{value:!0});b.Qh=void 0;r=a(1);c=a(312);l=a(1424);g=a(313);m=a(1429);d=a(121);f=a(1431);h=a(1432);k=a(166);n=a(595);p=a(1433);q=a(596);v=a(1435);t=a(86);w=a(597);u=a(1436);b.Qh=new r.Ed(function(x){x(c.lla).to(l.jTa).la();x(g.nla).to(m.vTa).la();x(d.LM).to(f.hTa).la();x(k.AH).to(h.fTa).la();x(n.pTa).to(p.oTa).la();x(q.tTa).bf(function(y){var z;z=y.yb;return function(B){return new v.uTa(B,z.get(t.Oz),z.get(k.AH));};});x(w.qOa).bf(function(y){var z;z=y.yb;return function(B,A,C){return new u.rOa(B,A,C,z.get(k.AH),z.get(d.LM));};});});},function(r,b,a){var l,g,m,d,f,h,k,n,p;function c(q,v,t,w,u,x,y){this.ug=q;this.wta=v;this.Sj=t;this.aGa=w;this.K$b=u;this.M$b=x;this.L$b=y;}Object.defineProperty(b,"__esModule",{value:!0});b.jTa=void 0;r=a(0);l=a(1);g=a(1425);m=a(7);d=a(166);f=a(369);h=a(595);k=a(376);n=a(596);a=a(313);c.prototype.create=function(q){return new g.kTa(q,this.ug,this.wta,this.Sj,this.aGa,this.K$b,this.M$b,this.L$b);};p=c;p=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.jb)),r.__param(1,(0,l.l)(f.HT)),r.__param(2,(0,l.l)(d.AH)),r.__param(3,(0,l.l)(k.SVa)),r.__param(4,(0,l.l)(h.pTa)),r.__param(5,(0,l.l)(n.tTa)),r.__param(6,(0,l.l)(a.nla))],p);b.jTa=p;},function(r,b,a){var l,g,m;function c(d,f,h,k,n,p,q,v){this.aGa=n;this.UGa=v;this.lY=!1;k.eha && (d=new m.lTa().qjc(d));this.wb=q(d);this.El=new g.wTa(this.wb);this.El.qlb(this.wb.ha.P);this.log=f.cb("PlaygraphManager");this.Pb=h.create();this.vw=p.create(this.wb,this.El,this.log,this.Pb);this.agc();}Object.defineProperty(b,"__esModule",{value:!0});b.kTa=void 0;l=a(16);g=a(1426);m=a(1428);c.prototype.xYb=function(){return this.wb.xea;};c.prototype.Sua=function(){return this.wb.ha;};c.prototype.B8a=function(){return this.wb.ei;};c.prototype.OJ=function(){return this.wb.hm;};c.prototype.yl=function(d){for(var f=[],h=0;h < arguments.length;++h){f[h - 0]=arguments[h];}this.wb.yl.apply(this.wb,ia(f));};c.prototype.XKb=function(d){for(var f=[],h=0;h < arguments.length;++h){f[h - 0]=arguments[h];}this.wb.F0a(f);};c.prototype.Qw=function(d){this.wb.hm=d;};c.prototype.Ek=function(d,f){this.wb.Ek(d,f);};c.prototype.lwa=function(d,f,h,k){var n,p;h=void 0 === h?{}:h;k=void 0 === k?!0:k;if(d !== this.wb.ei)throw Error("Invalid currentSegmentId");if(-1 === Object.keys(null !== (n=this.OJ().U[d].next) && void 0 !== n?n:{}).indexOf(f))throw Error("Invalid nextSegmentId");this.log.info("Transition initiated: " + d + " -> " + f);this.Ylb();null === (p=h.no) || void 0 === p?void 0:p.isUIAutoPlay;return this.vw.mwa(f,h,k);};c.prototype.isReady=function(){return this.vw.isReady();};c.prototype.addListener=function(d,f,h){this.Pb.addListener(d,f,h);};c.prototype.removeListener=function(d,f){this.Pb.removeListener(d,f);};c.prototype.kp=function(){return this.vw.kp();};c.prototype.Jb=function(){return this.vw.MJ();};c.prototype.COb=function(d,f,h){var k;d=void 0 === d?this.OJ().ie:d;f=void 0 === f?{}:f;k=this.UGa.Y3a(this);this.qac(null !== d && void 0 !== d?d:this.OJ().ie,f,h);return k;};c.prototype.tGb=function(d){var f;this.log.info("Adding segment - movieId: " + d.L + ", startPts: " + d.ca + ", logicalEnd: " + d.wk);f=Object.assign({},d.Gb,d.ca?{ca:d.ca}:{},d.wk?{wk:d.wk}:{});this.Tmb(d.L,f,d.ba);d=this.vw.O_a(d);this.Ylb();return d;};c.prototype.transition=function(d){var f;f=this.wb.LY(this.wb.ei);return f?this.lwa(this.wb.ei,f,d):(this.log.error("Next segment is not defined"),Promise.reject());};c.prototype.close=function(d){return this.vw.close(d);};c.prototype.qac=function(d,f,h){var k;void 0 === d && (d=null === (k=this.OJ()) || void 0 === k?void 0:k.ie);(f || h) && this.Tmb(this.OJ().U[d].P,null !== f && void 0 !== f?f:{},h);this.vw.$K(d);};c.prototype.Tmb=function(d,f,h){h && this.El.pW(d,h);this.El.fGb(d,f);};c.prototype.agc=function(){var d;d=this;this.wb.Ohc(function(){d.El.Ly();d.vw.Ly();});this.wb.Phc(function(f){d.vw.XAa(f);});this.wb.Nhc(function(f){d.vw.IK(f);});this.addListener(l.BH.i1,function(){return d.I8b();});this.addListener(l.Pa.nbb,function(f){return d.y8b(f);});};c.prototype.Ylb=function(){var d;d=this;this.lY || (this.Jb().fpa(l.ka.pL,function(f){return d.My(f);}),this.lY=!0);};c.prototype.y8b=function(d){var f;f=this;this.vw.zob(d).catch(function(){return f.Pb.Zc(l.Pa.error,d.i2());});};c.prototype.I8b=function(){var d;d=this.Jb().getError();d?this.Pb.Zc(l.Pa.zO,d):(this.Pb.Zc(l.Pa.C8),this.Pb.Zc(l.Pa.Fn),this.Pb.Zc(l.Pa.Nw),this.Pb.Zc(l.Pa.cn),this.Pb.Zc(l.Pa.k2),this.Pb.Zc(l.Pa.zO));};c.prototype.My=function(d){var f,h,k;!1;f=d.metrics;if(f){h=this.Jb();k=h.Hj(d.position.segmentId);f=h.Hj(f.srcsegment);this.aGa.hbc(d,k,f,!!h.S9a().ji);}};b.kTa=c;},function(r,b,a){var l;function c(g){this.na=g;this.US={};this.Ly();}Object.defineProperty(b,"__esModule",{value:!0});b.wTa=void 0;l=a(1427);c.prototype.Ly=function(){var g;g=this;Object.values(this.na.hm.U).forEach(function(m){m=m.P;g.US[m] || g.dbb(m);});this.Wga();};c.prototype.VP=function(g){return this.US[g];};c.prototype.ufc=function(g){this.OY(g).state=l.fA.XLa;this.Wga();};c.prototype.tfc=function(g,m){g=this.OY(g);g.state=l.fA.Error;g.error=m;g.nkb(!1);this.Wga();};c.prototype.qlb=function(g){g=this.OY(g);g.state=l.fA.Qtb;g.nkb(!0);this.Wga();};c.prototype.fGb=function(g,m){this.OY(g).Gb=m;};c.prototype.pW=function(g,m){this.OY(g).ba=m;};c.prototype.OY=function(g){var m;return null !== (m=this.VP(g)) && void 0 !== m?m:this.dbb(g);};c.prototype.dbb=function(g){var m,d;m=void 0;d=new Promise(function(f,h){m=function(k){(k?f:h)();};});return this.US[g]={state:l.fA.GQa,Nbc:d,nkb:m};};c.prototype.Wga=function(){var m;for(var g=this.na.ei;g=this.na.LY(g);){m=this.np(g);if(this.US[m].state === l.fA.Error)break;if(this.US[m].state === l.fA.XLa)break;if(this.US[m].state === l.fA.GQa)break;}};c.prototype.np=function(g){return this.na.hm.U[g].P;};b.wTa=c;},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});b.fA=void 0;r=b.fA || (b.fA={});r[r.GQa=0]="None";r[r.XLa=1]="Fetching";r[r.Qtb=2]="Done";r[r.Error=3]="Error";},function(r,b,a){var l;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.lTa=void 0;l=a(38);c.prototype.qjc=function(g){var m;if(!this.u2b(g.U))return g;m=new l.ix().vL(g.ie);Object.entries(g.U).forEach(function(d){var f;f=oa(d);d=f.next().value;f=f.next().value;d === g.ie?m.Ig(d,Object.assign(Object.assign({},f),{next:void 0,Aa:void 0,dc:void 0})):m.Ig(d,f);});return m.hj();};c.prototype.u2b=function(g){g=Object.values(g).map(function(m){return m.P;});return 1 === new Set(g).size;};b.lTa=c;},function(r,b,a){var l,g,m,d;function c(f,h){this.Ia=f;this.t3b=h;}Object.defineProperty(b,"__esModule",{value:!0});b.vTa=void 0;r=a(0);l=a(1);g=a(18);m=a(597);c.prototype.create=function(f){return new (a(314).T5)(this.Ia.Rb(),f);};c.prototype.Y3a=function(f){return new (a(1430).tWa)(this.Ia.Rb(),f,this.t3b);};d=c;d=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.jd)),r.__param(1,(0,l.l)(m.qOa))],d);b.vTa=d;},function(r,b,a){var l;function c(g,m,d){var f;f=l.T5.call(this,g,m) || this;f.seek=function(h){return f.Jb().seek(h);};f.addEpisode=function(h){return f.Cya.OFb(h);};f.playNextEpisode=function(h){h=void 0 === h?{}:h;return f.Cya.q$b(h);};f.watchCredits=function(h){return f.Cya.Vlc(h);};f.playSegment=function(h){return f.Jb().Ghb(h);};f.queueSegment=function(h){return f.Jb().Pib(h);};f.updateNextSegmentWeights=function(h,k){return f.Jb().Ek(h,k);};f.setNextSegment=function(h){for(var k=[],n=0;n < arguments.length;++n){k[n - 0]=arguments[n];}k=k.map(function(p){return {S:p.segmentId,WQ:p.nextSegmentId};});f.Qh.yl.apply(f.Qh,ia(k));};f.clearNextSegment=function(h){for(var k=[],n=0;n < arguments.length;++n){k[n - 0]=arguments[n];}return f.Qh.XKb.apply(f.Qh,ia(k));};f.goToNextSegment=function(h,k){return f.Qh.lwa(h,k);};f.getPlaying=function(){return f.isPlaying();};f.getPaused=function(){return f.isPaused();};f.getMuted=function(){return f.isMuted();};f.getEnded=function(){return f.isEnded();};f.getTimedTextVisibility=function(){return f.isTimedTextVisible();};f.isTimedTextVisible=function(){return !!f.Jb().TY().visibility;};f.setTimedTextVisibility=function(h){return f.setTimedTextVisible(h);};f.setTimedTextSize=function(h){return f.Jb().dS({size:h});};f.setTimedTextBounds=function(h){return f.Jb().dS({bounds:h});};f.setTimedTextMargins=function(h){return f.Jb().dS({margins:h});};f.setTimedTextVisible=function(h){return f.Jb().dS({visibility:h});};f.getCongestionInfo=function(h){h && h({success:!1,name:null,isCongested:null});};f.Cya=d(g,m,f.log);return f;}Object.defineProperty(b,"__esModule",{value:!0});b.tWa=void 0;l=a(314);ka(c,l.T5);b.tWa=c;},function(r,b,a){var l,g,m;function c(){}Object.defineProperty(b,"__esModule",{value:!0});b.hTa=void 0;r=a(0);l=a(121);g=a(1);m=a(38);c.prototype.zOb=function(d){var k,n,p;for(var f=[],h=0;h < arguments.length;++h){f[h - 0]=arguments[h];}k=this;if(0 === f.length)throw Error("Empty playgraph");n=new m.ix().vL(this.Ht(f[0]));f.reverse().forEach(function(q){var v;v=k.Ht(q);n.Ig(v,Object.assign({P:q,Ba:0,Aa:Infinity},p?{dc:p}:{}));p=v;});return n.hj();};c.prototype.Ht=function(d,f){f=void 0 === f?l.CH.$ja:f;return d + ":" + f;};c.prototype.ZGb=function(d,f){var h,k,n,p;if(void 0 === n)n=null !== (h=f.id) && void 0 !== h?h:this.Ht(f.L);h=this.l9a(d);p=new m.ix(d);p.Ig(n,{P:f.L,Ba:null !== (k=f.ca) && void 0 !== k?k:0,Aa:Infinity});d=d.U[h];f={};p.Ig(h,Object.assign({},d,{dc:n,next:Object.assign({},d.next || ({}),(f[n]={},f))}));return p.hj();};c.prototype.l9a=function(d){for(var f=d.ie,h=f;h=d.U[h].dc;){f=h;}return f;};a=c;a=r.__decorate([(0,g.$)()],a);b.hTa=a;},function(r,b,a){var l,g,m,d,f;function c(h){return g.If.call(this,h,"PlaygraphConfigImpl") || this;}Object.defineProperty(b,"__esModule",{value:!0});b.fTa=void 0;r=a(0);l=a(1);g=a(46);m=a(33);d=a(45);f=a(5);ka(c,g.If);Va.Object.defineProperties(c.prototype,{wac:{configurable:!0,enumerable:!0,get:function(){return 2;}},vac:{configurable:!0,enumerable:!0,get:function(){return (0,f.mda)(3);}},NGa:{configurable:!0,enumerable:!0,get:function(){return !1;}},eha:{configurable:!0,enumerable:!0,get:function(){return !1;}},Epb:{configurable:!0,enumerable:!0,get:function(){return !1;}},z7a:{configurable:!0,enumerable:!0,get:function(){return !1;}},Aea:{configurable:!0,enumerable:!0,get:function(){return !0;}}});a=c;r.__decorate([d.config(d.ZC,"prepareSegmentsUpfront")],a.prototype,"wac",null);r.__decorate([d.config(d.am,"prepareSegmentsDuration")],a.prototype,"vac",null);r.__decorate([d.config(d.Hd,"usePlaygraphForPostPlay")],a.prototype,"NGa",null);r.__decorate([d.config(d.Hd,"usePlaygraphForSkipSegment")],a.prototype,"eha",null);r.__decorate([d.config(d.Hd,"useSinglePlayerPlayback")],a.prototype,"Epb",null);r.__decorate([d.config(d.Hd,"forcePlaygraphTrace")],a.prototype,"z7a",null);r.__decorate([d.config(d.Hd,"postPlayDefaultNextEpisode")],a.prototype,"Aea",null);a=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(m.rn))],a);b.fTa=a;},function(r,b,a){var l,g,m,d,f,h,k,n,p,q;function c(v,t,w,u,x,y,z){this.Ia=v;this.Fec=w;this.Sj=x;this.eo=z;this.Dec=t.DJ(!1,"6.0039.350.911",v.id,y,u);}Object.defineProperty(b,"__esModule",{value:!0});b.oTa=void 0;r=a(0);l=a(1);g=a(18);m=a(166);d=a(1434);f=a(373);h=a(238);k=a(12);n=a(598);p=a(37);a=a(121);c.prototype.create=function(v,t,w,u){var x,y;x=this.Fec.oOb(v,this.Dec,t);y=v.OGa;w.debug("Using " + (y?"single":"multiple") + " player playback strategy");return y?new d.WUa(this.Sj,v,t,w,x,u,this.eo):new n.uH(v,t,x,u,this.eo);};q=c;q=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(g.jd)),r.__param(1,(0,l.l)(f.HUa)),r.__param(2,(0,l.l)(h.Fla)),r.__param(3,(0,l.l)(k.xc)),r.__param(4,(0,l.l)(m.AH)),r.__param(5,(0,l.l)(p.i5)),r.__param(6,(0,l.l)(a.LM))],q);b.oTa=q;},function(r,b,a){var l,g,m,d,f;function c(h,k,n,p,q,v,t){var w;w=d.uH.call(this,k,n,q,v,t) || this;w.Sj=h;w.qa=p;w.lY=!1;w.lta=new Map();w.B8b=function(){w.MJ().fpa(g.ka.pL,function(u){w.Pb.Zc(g.BH.i1);w.wb.ei=u.position.segmentId;});};w.T0b();v.addListener(g.Pa.loaded,w.B8b);return w;}Object.defineProperty(b,"__esModule",{value:!0});b.WUa=void 0;l=a(38);g=a(16);m=a(4);d=a(598);f=a(121);ka(c,d.uH);c.prototype.O_a=function(h){var k,n,p,q,v,t,w,u,x,y,z;k=this;p=this.wb.hm;q=this.eo.Ht(h.L,"ident");v=this.eo.Ht(h.L,"main");t=this.eo.Ht(h.L,"credits");w=isFinite(h.wk);u=isFinite(h.ca) && h.L !== p.U[p.ie].P;x={};y=new l.ix(p).Ig(v,Object.assign({P:h.L,Ba:u && h.ca || 0,Aa:null !== (n=h.wk) && void 0 !== n?n:Infinity},w?{next:(x[t]={},x),dc:t}:{}));u && (n={},y.Ig(q,{P:h.L,Ba:0,Aa:h.ca,next:(n[v]={},n),dc:v}));w && y.Ig(t,{P:h.L,Ba:h.wk,Aa:Infinity});if(!this.wb.fz(v)){h=p.U[this.eo.l9a(p)].P;z=this.eo.Ht(h,f.CH.sJa);[this.eo.Ht(h,f.CH.$ja),z].filter(function(B){return k.wb.fz(B);}).forEach(function(B){var A,C,D;A=k.wb.Be(B);C=B === z || k.Sj.Aea;D={};y.Ig(B,Object.assign({},A,{next:Object.assign({},A.next,(D[v]={},D))},C?{dc:v}:{}));});}this.wb.hm=y.hj();return this.$K(v);};c.prototype.Ly=function(){this.isReady() && this.MJ().Ly();};c.prototype.XAa=function(){};c.prototype.IK=function(h){this.MJ().IK(h);};c.prototype.mwa=function(h,k,n){k=void 0 === k?{}:k;this.qa.debug("goToSegment " + h);return this.MJ().ZY(h,k,n);};c.prototype.$K=function(h){if(h === this.Cec)return null;this.Cec=h;return this.lY?this.El.VP(this.wb.Be(h).P).Nbc:(this.lY=!0,d.uH.prototype.$K.call(this,h));};c.prototype.zob=function(h){return h.errorCode && this.lta.has(h.errorCode)?this.lta.get(h.errorCode)(h):Promise.reject(Error("Error " + h.errorCode + " isn't recoverable"));};c.prototype.T0b=function(){var h;h=this;this.lta.set(m.aa.nRa,function(){var k,n;return null !== (n=null === (k=d.uH.prototype.$K.call(h,h.wb.ei)) || void 0 === k?void 0:k.then(function(){var p,q;d.uH.prototype.mwa.call(h,h.wb.ei,null !== (q=null === (p=h.El.VP(h.wb.ha.P)) || void 0 === p?void 0:p.Gb) && void 0 !== q?q:{});})) && void 0 !== n?n:Promise.reject(Error("Couldn't prepare segment for transition"));});};b.WUa=c;},function(r,b,a){var l,g;function c(m,d,f){this.MB=d;this.Sj=f;this.X6={};this.Xob=[];this.nmb=[];this.Jfb=[];this.Fpa=new WeakMap();this.reset(m);}Object.defineProperty(b,"__esModule",{value:!0});b.uTa=void 0;l=a(38);g=a(38);c.prototype.reset=function(m){var d;d=1 < Object.keys(m.U).length && 1 === new Set(Object.values(m.U).map(function(f){return f.P;})).size;this.$Eb=this.Sj.Epb || d;this.Ilb(m);this.ei=m.ie;this.tDb=this.MB.nB();this.$Ea=new Map();};c.prototype.Daa=function(m){if(this.OGa)return this.hm;this.Fpa.has(m) || this.Fpa.set(m,(0,l.dga)(m.L,m.S));return this.Fpa.get(m);};c.prototype.Ilb=function(m){this.uDb=m;this.X6={};m=Object.keys(m.U);this.F0a(m);this.x7b();};c.prototype.yl=function(m){var h;for(var d=[],f=0;f < arguments.length;++f){d[f - 0]=arguments[f];}h=this;d.filter(function(k){return h.fz(k.S);}).filter(function(k){k=k.WQ;return !k || h.fz(k);}).forEach(function(k){var n;n=k.S;h.X6[n]=h.hgb(k.WQ);h.o7b(n);});};c.prototype.F0a=function(m){var d;d=this;m.filter(function(f){return d.fz(f);}).forEach(function(f){d.X6[f]=d.hgb(d.Be(f).dc);});};c.prototype.Ek=function(m,d){var f,h,k;f=this.Be(m);if(f && f.next){h=new g.ix(this.hm);k=Object.keys(f.next).reduce(function(n,p){n[p]=void 0 === d[p]?f.next[p]:Object.assign({},f.next[p],{weight:d[p]});return n;},{});k=Object.assign({},f,{next:k});h.Ig(m,k);this.hm=h.hj();}};c.prototype.fz=function(m,d){d=void 0 === d?this.hm.U:d;return (m in d);};c.prototype.LY=function(m){return this.X6[m];};c.prototype.Be=function(m){return this.hm.U[m];};c.prototype.dZb=function(m){if(this.$Ea.has(m))return this.$Ea.get(m);m=this.Be(m);return isFinite(m.Aa)?m.Aa:void 0;};c.prototype.Akc=function(m,d){this.$Ea.set(m,d);this.t7b(m);};c.prototype.Ohc=function(m){this.Xob.push(m);};c.prototype.Phc=function(m){this.nmb.push(m);};c.prototype.Nhc=function(m){this.Jfb.push(m);};c.prototype.x7b=function(){var m;m=this;this.Xob.forEach(function(d){return d(m.hm);});};c.prototype.o7b=function(m){this.Jfb.forEach(function(d){return d(m);});};c.prototype.t7b=function(m){this.nmb.forEach(function(d){return d(m);});};c.prototype.hgb=function(m){return null === m?void 0:m;};Va.Object.defineProperties(c.prototype,{xea:{configurable:!0,enumerable:!0,get:function(){return this.tDb;}},OGa:{configurable:!0,enumerable:!0,get:function(){return this.$Eb;}},hm:{configurable:!0,enumerable:!0,get:function(){return this.uDb;},set:function(m){if(this.ei && !this.fz(this.ei,m.U))throw Error("Provided playgraphMap does not contain the current segmentId " + this.ei);this.Ilb(m);}},ei:{configurable:!0,enumerable:!0,get:function(){return this.pAb;},set:function(m){if(!this.fz(m))throw Error("Provided currentSegmentId " + m + " does not exist in the current playgraph");this.pAb=m;}},ha:{configurable:!0,enumerable:!0,get:function(){return this.Be(this.ei);}}});b.uTa=c;},function(r,b,a){var l,g;function c(m,d,f,h,k){this.nj=m;this.Qh=d;this.log=f;this.Sj=h;this.eo=k;this.qea=new l.fla();}Object.defineProperty(b,"__esModule",{value:!0});b.rOa=void 0;l=a(599);g=a(121);c.prototype.OFb=function(m){var d,f,h,k,n,p,q;this.log.info("Next episode added",m);p=this.qea.oza(m.playbackParams);q=Math.max(0,null !== (h=null !== (f=null !== (d=m.startPts) && void 0 !== d?d:m.nextStartPts) && void 0 !== f?f:p.ca) && void 0 !== h?h:0);d=null !== (n=null !== (k=m.endPts) && void 0 !== k?k:m.currentEndPts) && void 0 !== n?n:p.wk;return this.Qh.tGb({L:m.movieId,ca:q,wk:d,Gb:p,ba:m.manifest,nj:this.nj});};c.prototype.q$b=function(m){var d,f,h,k,n,p;m=this.qea.oza(m);this.log.info("Playing the next episode",m);h=this.Qh.B8a();k=this.Qh.OJ();n=k.U[h];p=Object.keys(null !== (d=n.next) && void 0 !== d?d:{}).find(function(q){return n.P !== k.U[q].P;});d=!this.Sj.Aea || !(null === (f=m.no) || void 0 === f?0:f.isUIAutoPlay);return p?this.Qh.lwa(h,p,m,d):Promise.reject(Error("Next episode not found"));};c.prototype.Vlc=function(m){var d,f;d=this.eo.Ht(m,g.CH.$ja);m=this.eo.Ht(m,g.CH.sJa);f=this.Qh.wb;this.Sj.Aea && f.ei !== m && f.fz(m) && f.LY(d) !== m && this.Qh.yl({S:d,WQ:m});};b.rOa=c;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.I0a=void 0;r=a(1);c=a(1438);l=a(34);b.I0a=new r.Ed(function(g){g(l.uj).to(c.uIa).la();});},function(r,b,a){var l,g,m,d,f,h,k,n,p,q,v,t,w;function c(u,x,y,z,B,A){var C;C=this;this.qm=u;this.config=y;this.Pq=z;this.debug=B;this.Ia=A;this.$nb=[];this.yd={};this.log=x.cb("loadAsync");this.L4b=(0,v.eMa)(function(D){C.xcc=!0;C.startTime=C.Ia.Rb().ia(p.va);C.load(C.$nb).then(function(){C.endTime=C.Ia.Rb().ia(p.va);D(w.mh);}).catch(function(E){C.endTime=C.Ia.Rb().ia(p.va);D(E);});});}Object.defineProperty(b,"__esModule",{value:!0});b.uIa=void 0;r=a(0);l=a(85);g=a(4);m=a(1439);d=a(56);f=a(1);h=a(7);k=a(12);n=a(63);p=a(5);q=a(111);v=a(600);t=a(18);w=a(17);c.prototype.XZ=function(u){this.L4b(u);};c.prototype.register=function(u,x){this.debug.assert(!this.xcc);this.$nb.push({e4b:this.KJb(x),errorCode:u});};c.prototype.Ze=function(u){this.debug.assert(void 0 === this.yd[u]);this.yd[u]=this.Ia.Rb().ia(p.va);};c.prototype.load=function(u){var x;x=this;return (0,m.pib)(u).then(function(y){x.qm.mark(d.Co.Kk.Yqb);return y.reduce(function(z,B){return z.then(function(){return x.a4b(B);});},Promise.resolve()).then(function(){x.qm.mark(d.Co.Kk.Wqb);});});};c.prototype.a4b=function(u){var x,y;x=this;y=u.e4b;!1;return this.Pq.xs((0,p.$b)(this.config().AHb),y()).catch(function(z){x.log.error("Failed to load component " + u.errorCode,z);x.qm.mark(d.Co.Kk.Xqb);if(z instanceof n.Ps)throw {Ca:g.Y.Vqb,errorCode:u.errorCode};z.errorCode=z.errorCode || u.errorCode;z.Ca=z.Ca || g.Y.Uqb;throw z;});};c.prototype.KJb=function(u){return function(){return new Promise(function(x,y){u(function(z){z.ja?x():y(z);});});};};a=c;a=r.__decorate([(0,f.$)(),r.__param(0,(0,f.l)(l.WM)),r.__param(1,(0,f.l)(h.jb)),r.__param(2,(0,f.l)(k.xc)),r.__param(3,(0,f.l)(n.CD)),r.__param(4,(0,f.l)(q.Fz)),r.__param(5,(0,f.l)(t.jd))],a);b.uIa=a;},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});b.pib=void 0;c=a(4);l=[c.aa.hvb,c.aa.vNa,c.aa.wNa,c.aa.ANa,c.aa.sNa,c.aa.qNa,c.aa.zja,c.aa.lvb,c.aa.tNa,c.aa.rNa,c.aa.sD,c.aa.nNa,c.aa.pNa,c.aa.xNa,c.aa.yNa,c.aa.zNa,c.aa.uNa,c.aa.oNa];(function(m){m.Fwb=function(d){var k;for(var f={},h=0;h < d.length;h++){k=d[h];if(f[k.errorCode])return {errorCode:k.errorCode,Ca:c.Y.Sqb};f[k.errorCode]=1;}};m.Gwb=function(d){var h;for(var f=0;f < d.length;f++){h=d[f];if(-1 === l.indexOf(h.errorCode))return {errorCode:h.errorCode,Ca:c.Y.Tqb};}};})(g || (g={}));b.pib=function(m){return new Promise(function(d,f){var h;h=g.Gwb(m);h && f(h);(h=g.Fwb(m)) && f(h);d(m.sort(function(k,n){return l.indexOf(k.errorCode) - l.indexOf(n.errorCode);}));});};},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.ba=void 0;r=a(1);c=a(1441);l=a(115);b.ba=new r.Ed(function(g){g(l.rH).to(c.uPa).la();});},function(r,b,a){var l,g,m,d,f,h,k,n,p,q;function c(v,t,w,u,x,y){this.ah=t;this.Rdb=u;this.g_=y;this.O0=new Map();this.log=v.cb("ManifestFetcher");this.sh=w.sh;this.gJb=x().fSb;}Object.defineProperty(b,"__esModule",{value:!0});b.uPa=void 0;r=a(0);l=a(1);g=a(18);m=a(36);d=a(7);f=a(5);h=a(12);k=a(101);n=a(62);p=a(300);a=a(138);c.prototype.JJ=function(v,t,w){var u;u=this;t=void 0 === t?!0:t;w && this.kGb(v.P,w);return t && this.Yaa(v.P)?this.gaa(v.P).catch(function(){return u.Xjb(v,t);}):this.Xjb(v,t);};c.prototype.Yaa=function(v){return this.sh.eZ(v,"manifest");};c.prototype.L1=function(v,t){var w;w=this;this.gJb && this.sh.setData(v,"manifest",t,function(){return w.b_b(v,t?Promise.resolve(t):void 0);});};c.prototype.gaa=function(v){var t;t=this;return this.sh.getData(v,"manifest").then(function(w){if(!w)throw Error("Manifest not found");if(w.Ra.expiration <= (0,n.e9)())throw (t.sh.clearData(v,"manifest"),Error("Manifest has expired"));return w;});};c.prototype.b_b=function(v,t){var w;null === (w=this.O0.get(v)) || void 0 === w?void 0:w.forEach(function(u){return u(t);});this.O0.delete(v);};c.prototype.kGb=function(v,t){this.O0.has(v) || this.O0.set(v,[]);this.O0.get(v).push(t);};c.prototype.Xjb=function(v,t){var w,u,x;w=this;this.log.trace("Requesting a new manifest",v.P);u=this.ah.Rb().ia(f.va);x=(v.gj?this.Kjc(v).catch(function(y){w.log.warn(y.message);return w.Rdb.Sf(w.log,v);}):this.Rdb.Sf(this.log,v)).then(function(y){var z,B;if(y.vB){z=y.vB;B={Ofa:Promise.resolve(z),source:"manifest"};delete y.vB;w.sh.setData(v.P,"ldl",B,function(){z.close().catch(function(A){w.log.info("Unable to cleanup LDL session.",A);});});}v.hy === k.Lp.JM && (y.gL=u,y.KR=w.ah.Rb().ia(f.va));return y;}).catch(function(y){t && w.L1(v.P,void 0);w.log.error("Failed to fetch manifest",m.rd.mf(y));throw y;});t && this.L1(v.P,x);return x;};c.prototype.Kjc=function(v){var t;t=this;return new Promise(function(w,u){var x,y,z,B,A;t.log.trace("Trying to retrieve an auxiliary manifest from parent manifest",v.P);B=null === (x=v.gj) || void 0 === x?void 0:x.f0;if(!B)return u(Error("Parent manifest does not exist."));A=null === (y=v.gj) || void 0 === y?void 0:y.Ve;x=null === (z=B.wv) || void 0 === z?void 0:z.find(function(C){return C.L === v.P && (void 0 === A || C.Ve === A);});if(!x)return u(Error("Auxiliary manifest not found in parent manifest."));w(t.g_.create(x));});};q=c;q=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(d.jb)),r.__param(1,(0,l.l)(g.jd)),r.__param(2,(0,l.l)(p.zia)),r.__param(3,(0,l.l)(k.Pka)),r.__param(4,(0,l.l)(h.xc)),r.__param(5,(0,l.l)(a.BM))],q);b.uPa=q;},function(r,b,a){var c,l,g,m;Object.defineProperty(b,"__esModule",{value:!0});b.profile=b.i0a=void 0;c=a(1443);l=a(175);r=a(1);g=a(80);m=a(12);b.i0a=new r.Ed(function(d){d(l.a3).to(c.RHa).la();});b.profile=new r.Ed(function(d){d(g.NM).JG(function(f){return (f=f.yb.get(m.xc)()) && f.yB?"browsertest":"browser";});});},function(r,b,a){var l,g,m,d,f,h;function c(k,n,p,q){k=d.If.call(this,k,void 0 === q?"AppInfoConfigImpl":q) || this;k.config=n;k.Nga=p;return k;}Object.defineProperty(b,"__esModule",{value:!0});b.RHa=void 0;r=a(0);l=a(1);g=a(39);m=a(45);d=a(46);f=a(33);a=a(289);ka(c,d.If);c.prototype.gYb=function(k){return "" + this.r6a + (this.Nga.Yfa(k)?"/msl_v1":"");};c.prototype.sYb=function(k){return "" + this.host + (this.Nga.Yfa(k)?"/msl":"") + "/playapi";};Va.Object.defineProperties(c.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host + "/api";}},r6a:{configurable:!0,enumerable:!0,get:function(){return this.host + "/nq";}},host:{configurable:!0,enumerable:!0,get:function(){var k;switch(this.config.pP){case g.Lz.Iyb:k="www.stage";break;case g.Lz.BVa:k="www-qa.test";break;case g.Lz.UNa:k="www-int.test";break;default:k="www";}return "https://" + k + ".netflix.com";}},g1a:{configurable:!0,enumerable:!0,get:function(){return "pbo_licenses";}}});h=c;r.__decorate([m.config(m.string,"apiEndpoint")],h.prototype,"endpoint",null);r.__decorate([m.config(m.string,"nqEndpoint")],h.prototype,"r6a",null);r.__decorate([m.config(m.string,"bindService")],h.prototype,"g1a",null);h=r.__decorate([(0,l.$)(),r.__param(0,(0,l.l)(f.rn)),r.__param(1,(0,l.l)(g.Jp)),r.__param(2,(0,l.l)(a.P5)),r.__param(3,(0,l.l)(f.m3)),r.__param(3,(0,l.optional)())],h);b.RHa=h;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.glc=b.Qyb=b.Oyb=b.Nyb=b.Pyb=void 0;c=a(15);l=a(14);b.Pyb=function(g,m,d){for(d=(d - g.length) / m.length;0 < d--;){g+=m;}return g;};b.Nyb=function(g,m,d){d=(0,c.Ng)(d)?d:"...";return g.length <= m?g:g.substr(0,g.length - (g.length + d.length - m)) + d;};b.Oyb=function(g,m){var f;for(var d=1;d < arguments.length;++d){;}f=l.slice.call(arguments,1);return g.replace(/{(\d+)}/g,function(h,k){return "undefined" != typeof f[k]?f[k]:h;});};b.Qyb=function(g){for(var m=g.length,d=new Uint16Array(m),f=0;f < m;f++){d[f]=g.charCodeAt(f);}return d.buffer;};b.glc=function(g){var m;m=new Uint8Array(g.length);Array.prototype.forEach.call(g,function(d,f){m[f]=d.charCodeAt(0);});return m;};},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});r=a(9);b=a(114);a=a(298);r.Ha.get(b.zM).Zea(a.Wja.xsb,function(c){var l,g;l=c.level;if(!mb._cad_global.config || l <= mb._cad_global.config.v4b){c=c.Gga();g=mb.console;1 >= l?g.error(c):2 >= l?g.warn(c):g.log(c);}});},function(r,b,a){var h,k,n,p,q;function c(v){var t,u;(0,k.wX)(v);if((0,p.Ng)(v) && b.ENa.test(v)){t=v.split(".");if(4 === t.length){for(var w=0;w < t.length;w++){u=(0,q.Ak)(t[w]);if(0 > u || !(0,p.FF)(u,0,255) || 1 !== t[w].length && 0 === t[w].indexOf("0"))return;}return v;}}}function l(v){var t;t=0;if(c(v) === v)return (v=v.split("."),t+=(0,q.Ak)(v[0]) << 24,t+=(0,q.Ak)(v[1]) << 16,t+=(0,q.Ak)(v[2]) << 8,t + (0,q.Ak)(v[3]));}function g(v){var t,w;(0,k.wX)(v);if((0,p.Ng)(v) && v.match(b.FNa)){t=v.split(":");-1 !== t[t.length - 1].indexOf(".") && (v=m(t[t.length - 1]),t.pop(),t.push(v[0]),t.push(v[1]),v=t.join(":"));v=v.split("::");if(!(2 < v.length || 1 === v.length && 8 !== t.length) && (t=1 < v.length?d(v):t,v=t.length,8 === v)){for(;v--;){w=parseInt(t[v],16);if(!(0,p.FF)(w,0,h.gPa))return;}return t.join(":");}}}function m(v){var t;v=l(v) >>> 0;t=[];t.push((v >>> 16 & 65535).toString(16));t.push((v & 65535).toString(16));return t;}function d(v){var t,w,u;t=v[0].split(":");v=v[1].split(":");1 === t.length && "" === t[0] && (t=[]);1 === v.length && "" === v[0] && (v=[]);w=8 - (t.length + v.length);if(1 > w)return [];for(u=0;u < w;u++){t.push("0");}for(u=0;u < v.length;u++){t.push(v[u]);}return t;}function f(v){return -1 << 32 - v;}Object.defineProperty(b,"__esModule",{value:!0});b.wvb=b.Bvb=b.yvb=b.xvb=b.Avb=b.vvb=b.zvb=b.jH=b.FNa=b.ENa=void 0;h=a(17);k=a(22);n=a(14);p=a(15);q=a(23);b.ENa=/^[0-9.]*$/;b.FNa=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;b.jH="0000000000000000";b.zvb=c;b.vvb=l;b.Avb=g;b.xvb=m;b.yvb=d;b.Bvb=function(v,t,w){var u,x,y,z;u=c(v);x=g(v);y=c(t);z=g(t);if(!u && !x || !y && !z || u && !y || x && !z)return !1;if(v === u)return (w=f(w),(l(v) & w) !== (l(t) & w)?!1:!0);if(v === x){v=v.split(":");t=t.split(":");for(u=(0,n.CM)(w / b.jH.length);u--;){if(v[u] !== t[u])return !1;}w%=b.jH.length;if(0 !== w)for((v=parseInt(v[u],16).toString(2),t=parseInt(t[u],16).toString(2),v=b.jH.substring(0,b.jH.length - v.length) + v,t=b.jH.substring(0,b.jH.length - t.length) + t,u=0);u < w;u++){if(v[u] !== t[u])return !1;}return !0;}return !1;};b.wvb=f;},function(r,b,a){Object.defineProperty(b,"__esModule",{value:!0});a(19);a(17);r=a(9);a(114);a(298);a(4);a(113);a(5);a=a(34);r.Ha.get(a.uj);!1;},function(r,b,a){var c,l,g,m,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(44);l=a(17);g=a(4);m=a(14);r=a(9);a=a(34);d=r.Ha.get(a.uj);d.register(g.aa.ANa,function(f){m.Lr && m.Lr.generateKey && m.Lr.importKey && m.Lr.unwrapKey?(d.Ze("wcs"),(0,c.LK)(m.Lr.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){d.Ze("wcdone");f(l.mh);},function(h){var k;h="" + h;if(0 <= h.indexOf("missing crypto.subtle"))k=g.Y.fma;else 0 <= h.indexOf("timeout waiting for iframe to load") && (k=g.Y.gzb);f({Ca:k,Ub:h});})):f({Ca:g.Y.fma});});},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});r=a(4);c=a(9);l=a(548);a=a(34);c.Ha.get(a.uj).register(r.aa.qNa,function(g){c.Ha.get(l.cLa)().then(function(){g({ja:!0});}).catch(function(m){c.log.error("error in initializing indexedDb debug tool",m);g({ja:!0});});});},function(r,b,a){var m,d,f,h;function c(k,n,p,q){var v,t,w;(0,m.ya)((0,h.nk)(k) && !(0,h.isArray)(k));q=q || "";v="";t=k.hasOwnProperty(f.P2) && k[f.P2];t && (0,d.zh)(t,function(u,x){v && (v+=" ");v+=u + '="' + g(x) + '"';});p=(n?n + ":":"") + p;t=q + "<" + p + (v?" " + v:"");w=k.hasOwnProperty(f.yz) && k[f.yz].trim && "" !== k[f.yz].trim() && k[f.yz];if(w)return t + ">" + g(w) + "</" + p + ">";k=l(k,n,q + "  ");return t + (k?">\n" + k + "\n" + q + "</" + p + ">":"/>");}function l(k,n,p){var q;(0,m.ya)((0,h.nk)(k) && !(0,h.isArray)(k));p=p || "";q="";(0,d.zh)(k,function(v,t){var x;if("$" != v[0])for(var w=(0,d.yy)(t),u=0;u < w.length;u++){if((t=w[u],q && (q+="\n"),(0,h.nk)(t)))q+=c(t,n,v,p);else {x=(n?n + ":":"") + v;q+=p + "<" + x + ">" + g(t) + "</" + x + ">";}}});return q;}function g(k){if((0,h.Ng)(k))return (0,d.Lwa)(k);if((0,h.Qa)(k))return ((0,m.vX)(k,"Convert non-integer numbers to string for xml serialization."),"" + k);if(null === k || void 0 === k)return "";(0,m.ya)(!1,"Invalid xml value.");return "";}Object.defineProperty(b,"__esModule",{value:!0});b.fjc=b.Q2b=b.P2b=void 0;m=a(22);d=a(23);f=a(204);h=a(15);b.P2b=c;b.Q2b=l;b.fjc=g;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y,z,B,A,C,D,E;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(303);g=a(210);m=a(19);d=a(17);f=a(4);h=a(22);k=a(9);n=a(85);p=a(56);q=a(83);v=a(23);t=a(14);w=a(15);u=a(44);x=a(113);y=a(5);r=a(34);z=a(517);B=a(141);A=a(65);C=a(80);D={};E=k.Ha.get(r.uj);E.register(f.aa.tNa,function(G){var K,I,M,H,J,N,P,W,V,S,U,fa,qa,za;function F(Aa){Aa && Aa.userList && m.config.mgc && (Aa.userList=[]);H({esn:g.al.Wl,esnPrefix:g.al.rq,authenticationKeyNames:m.config.bIb,systemKeyWrapFormat:m.config.mic,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:qa,storeState:Aa,notifyMilestone:E.Ze.bind(E),log:P,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:f.Y.jwb,MSL_READ_TIMEOUT:f.Y.iwb}},{result:function(Qa){L(Qa);},timeout:function(){G({Ca:f.Y.oPa});},error:function(Qa){G(O(f.Y.oPa,void 0,Qa));}});}function L(Aa){var T,Z,Q,la;function Qa(){fa && k.Ha.get(q.Az).create().then(function(sa){return sa.save(S,Q,!1);}).catch(function(sa){P.error("Error persisting msl store",(0,f.Mz)(sa));});}T=this;Z=k.Ha.get(x.UM)((0,y.$b)(100));la=J.extend({init:function(sa){this.KYa=sa;},getResponse:function(sa,R,ha){var wa,va;R=this.KYa;wa=R.gAa.Bf || wa;sa=(0,w.$xa)(sa.body)?(0,k.v2)(sa.body):sa.body;(0,h.wX)(sa,"Msl should not be sending empty request");sa={url:R.url,$hb:sa,withCredentials:!0,PE:"nq-" + R.method,headers:R.headers};R=this.KYa.timeout;sa.m9=R;sa.rAa=R;va=wa.download(sa,function(Ea){try{if(Ea.ja)ha.result({body:Ea.content});else if(400 === Ea.Vl && Ea.Ub)ha.result({body:Ea.Ub});else throw (0,v.Oe)(new N("HTTP error, SubCode: " + Ea.Ca + (Ea.Vl?", HttpCode: " + Ea.Vl:"")),{cadmiumResponse:Ea});}catch(Ya){ha.error(Ya);}});return {abort:function(){va.abort();}};}});V && Aa.addEventHandler("shouldpersist",function(sa){Q=sa.storeState;Z.vl(Qa);});(0,v.Oe)(D,{Uuc:function(){U=!0;},send:function(sa){function R(){var ha,wa;ha=sa.gAa;wa={method:sa.method,nonReplayable:sa.Sfb,encrypted:sa.Im,userId:sa.Hpb,body:sa.body,timeout:2 * sa.timeout,url:new la(sa),allowTokenRefresh:fa,sendUserAuthIfRequired:za,shouldSendUserAuthData:m.config.sgc};ha.email?(wa.email=ha.email,wa.password=ha.password || ""):U && (wa.useNetflixUserAuthData=!0);return wa;}return new Promise(function(ha,wa){var va;va=R();Aa.send(va).then(function(Ea){U && (U=!1);ha({ja:!0,body:Ea.body});}).catch(function(Ea){var Ya,wb;if(Ea.error){Ya=Ea.error.cadmiumResponse && Ea.error.cadmiumResponse.Ca?Ea.error.cadmiumResponse.Ca:Aa.isErrorReauth(Ea.error)?f.Y.nPa:Aa.isErrorHeader(Ea.error)?f.Y.cwb:f.Y.bwb;wb=Aa.getErrorCode(Ea.error);wa(O(Ya,wb,Ea.error));}else (P.error("Unknown MSL error",Ea),Ea.wc=Ea.subCode,wa({Ca:Ea.wc?Ea.wc:f.Y.kwb}));});});},C_:Aa});B.JH.tO.mslFetch=function(sa,R){return c.__awaiter(T,void 0,void 0,function wa(){var va,Ea,Ya;return Ka(wa,function(wb){if(1 == wb.YF)return (va=k.Ha.get(C.NM),Ma(wb,D.send({gAa:{Bf:k.Ha.get(A.cx),profile:va},timeout:3E3,url:sa.toString(),body:null === R || void 0 === R?void 0:R.body,headers:{"Content-Type":"application/x-msl+json"},Hpb:va,$cc:!1,Sfb:!0,Im:!0})));Ea=wb.yha;Ya={get body() {this.bodyUsed=!0;return Ea.body;}};return wb.return((Ya.bodyUsed=!1,Ya.ok=Ea.ja,Ya.status=Ea.ja?200:400,Ya.statusText=Ea.ja?"OK":"Bad Request",Ya.type="basic",Ya.url=sa.toString(),Ya.headers=new Headers({"Content-Type":"application/json"}),Ya.text=function(){return Promise.resolve(this.body);},Ya.json=function(){return Promise.resolve(JSON.parse(this.body));},Ya.arrayBuffer=function(){return Promise.resolve(new Uint8Array(this.body));},Ya.clone=function(){return Object.assign({},this);},Ya.blob=function(){return this.arrayBuffer().then(function(nb){return new Blob([nb]);});},Ya.formData=function(){throw Error("Not implemented");},Ya.redirected=!1,Ya));});});};G(d.mh);k.Ha.get(z.rka).N6b(D);}function O(Aa,Qa,T){var Z,Q,la,sa;la={Ca:Aa,o$:Qa};if(T){sa=function(R){var ha;R=R || "" + T;if(T.stack){ha="" + T.stack;R=0 <= ha.indexOf(R)?ha:R + ha;}return R;};if(Q=T.cadmiumResponse){if(Z=Q.Rf && Q.Rf.toString())Q.Rf=Z;Q.Ca=Aa;Q.o$=Qa;Q.Ub=sa(T.message);Q.error={wc:Aa,vd:Z,kC:Qa,data:T.cause,message:T.message};return Q;}sa=sa(T.errorMessage);Z=(0,v.Ak)(T.internalCode) || (0,v.Ak)(T.error && T.error.internalCode);Q=void 0 !== T.$Sb?(0,u.EAa)(T.$Sb):void 0;}sa && (la.Ub=sa);Z && (la.Rf=Z);la.error={wc:Aa,vd:Z.toString(),kC:Qa,data:Q,message:sa};return la;}(0,h.ya)(m.config);K=k.Ha.get(n.WM);I=p.Co.Kk;if(t.yD && t.Lr && t.Lr.unwrapKey){try{M=mb.netflix.msl;H=M.createMslClient;J=M.IHttpLocation;N=M.MslIoException;}catch(Aa){G({Ca:f.Y.dwb});return;}P=(0,k.lk)("Msl");W=m.config.J6b;V=m.config.L6b;S=m.config.yB?"mslstoretest":"mslstore";M=l.FL.jlb;U=!0;fa=!M || M.ja;qa=(0,k.mt)(m.config.yB?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");za=!!m.config.kEa;k.Ha.get(q.Az).create().then(function(Aa){W?Aa.remove(S).then(function(){F();}).catch(function(Qa){P.error("Unable to delete MSL store",(0,f.Mz)(Qa));F();}):V?Aa.load(S).then(function(Qa){K.mark(I.fwb);F(Qa.value);}).catch(function(Qa){Qa.Ca == f.Y.cA?(K.mark(I.hwb),F()):(P.error("Error loading msl store",(0,f.Mz)(Qa)),K.mark(I.gwb),Aa.remove(S).then(function(){F();}).catch(function(T){G(T);}));}):F();}).catch(function(Aa){P.error("Error creating app storage while loading msl store",(0,f.Mz)(Aa));G(Aa);});}else G({Ca:f.Y.ewb});});},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t,w,u;Object.defineProperty(b,"__esModule",{value:!0});c=a(201);l=a(17);g=a(19);m=a(64);d=a(62);r=a(4);f=a(9);h=a(85);k=a(14);n=a(59);p=a(15);q=a(50);v=a(87);a=a(34);u=f.Ha.get(a.uj);u.register(r.aa.rNa,function(x){var z;function y(){var B,A,C;B=u.startTime;A={browserua:k.vH,browserhref:k.W4.href,initstart:B,initdelay:u.endTime - B};(B=k.Xh.documentMode) && (A.browserdm="" + B);(0,p.pQ)(g.config.Q6a) && (A.fesn=g.config.Q6a);Object.assign(A,(0,c.Mva)());C=k.gx && k.gx.timing;C && g.config.s4b.map(function(D){var E;E=C[D];E && (A["pt_" + D]=E - (0,d.I2a)());});B=z.MXb();Object.entries(B).forEach(function(D){var E;E=oa(D);D=E.next().value;E=E.next().value;return A["m_" + D]=E;});B=w.Dv("startup","info",A,m.BD.fua);t.Dc(B);}w=f.Ha.get(v.Pz);t=f.Ha.get(q.Do);z=f.Ha.get(h.WM);u.XZ(function(){t.oa();(0,n.Lg)(y);});x(l.mh);});},function(r,b){Object.defineProperty(b,"__esModule",{value:!0});},function(r,b,a){var l,g,m;function c(d){this.j=d;this.mediaType=l.u.Za;this.error=void 0;this.aFb=m.Ha.get(g.Qs);this.Lb=0;this.ob=1E3;}Object.defineProperty(b,"__esModule",{value:!0});b.NVa=void 0;l=a(60);g=a(68);m=a(9);c.prototype.appendBuffer=function(d){this.j.Ob.value.ACa({data:this.aFb.encode(new Uint8Array(d)),offset:this.Lb,W:this.ob});return !0;};c.prototype.Vfa=function(d,f){this.Lb=d;this.ob=f;};b.NVa=c;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t,w,u,x,y;Object.defineProperty(b,"__esModule",{value:!0});c=a(0);l=a(60);g=a(557);m=a(1456);d=a(307);f=a(19);h=a(17);k=a(207);n=a(601);p=a(62);r=a(4);q=a(9);v=a(533);t=a(14);w=a(304);b=a(34);u=a(64);x=a(167);y=a(360);q.Ha.get(b.uj).register(r.aa.nNa,function(z){var B,A,C,D,E,G,F,L;B=q.Ha.get(v.DQa).vOb();A=q.Ha.get(k.Via).nM;C=q.Ha.get(g.YPa).dr;D=new y.kia();E={pea:(0,q.sY)("ASE"),jHb:(0,q.sY)("JS-ASE",void 0,"Platform"),lk:q.sY,storage:w.storage,fYb:t.oKa,getTime:p.Uo,D9:function(O){return D.decode(O).buffer;},uQ:{},dr:C,jx:m.jx,nM:A,MediaSource:n.aQa,SourceBuffer:d.lka,zq:function(){return [f.config.p8,f.config.t8];},Cv:function(O){u.Pp.forEach(function(K){K.Qlb(O);});}};A=new Promise(function(O){w.storage.load("nh",function(K){E.uQ.nh=K.ja?K.data:void 0;O();});});C=new Promise(function(O){w.storage.load("lh",function(K){E.uQ.lh=K.ja?K.data:void 0;O();});});G=new Promise(function(O){w.storage.load("gh",function(K){E.uQ.gh=K.ja?K.data:void 0;O();});});F=new Promise(function(O){w.storage.load("sth",function(K){E.uQ.sth=K.ja?K.data:void 0;O();});});L=new Promise(function(O){w.storage.load("vb",function(K){E.uQ.vb=K.ja?K.data:void 0;O();});});Promise.all([A,C,L,F,G]).then(function(){return c.__awaiter(this,void 0,void 0,function K(){var I,M;return Ka(K,function(H){if(1 == H.YF)return (I=a(1458)(E),x.Fr.Le=a(602),x.Fr.Le.declare(l.bh),x.Fr.Le.set(a(178)(f.config),!0,(0,q.sY)("ASE")),Ma(H,l.LP(I)));M=H.yha;M.open(x.Fr.Le,B);M.hfc({audio:f.config.p8,video:f.config.t8},{Z:f.config.a1,ga:void 0});x.Fr.tj=M;z(h.mh);H.YF=0;});});}).catch(function(O){E.pea.error("Exception loading location history from local storage",O);});});},function(r,b,a){var l,g,m,d,f,h,k;function c(){var n;n=new g.Gk();this.addEventListener=n.addListener.bind(this);this.removeEventListener=n.removeListener.bind(this);this.emit=n.Zc.bind(this);this.f7=h++;this.Eg=(0,m.lk)("ProbeRequest");this.gZa=l.JTa;(0,d.ya)(void 0 !== this.gZa);this.Fi=b.jx.cd.UNSENT;!1;}Object.defineProperty(b,"__esModule",{value:!0});b.jx=void 0;l=a(1457);g=a(70);m=a(9);d=a(22);f=a(23);h=0;(function(){function n(){return JSON.stringify({url:this.Bm,id:this.f7,affected:this.a6,readystate:this.Fi});}(0,f.Oe)(c.prototype,{ZQ:function(p){p.affected=this.a6;p.probed={requestId:this.f7,url:this.Bm,$c:this.SV,groupId:this.G6};this.emit(b.jx.df.qU,p);},yAa:function(p){this.zEb=p.httpcode;p.affected=this.a6;p.probed={requestId:this.f7,url:this.Bm,$c:this.SV,groupId:this.G6};this.emit(b.jx.df.xH,p);},open:function(p,q,v,t){if(!p)return (!1,!1);this.Bm=p;this.a6=q;this.SV=v;this.Fi=b.jx.cd.OPENED;this.PBb=t;this.gZa.qY(this);return !0;},ud:function(){!1;return !0;},Mi:function(){return this.f7;},toString:n,toJSON:n});Object.defineProperties(c.prototype,{readyState:{get:function(){return this.Fi;},set:function(){}},status:{get:function(){return this.zEb;}},url:{get:function(){return this.Bm;}},ksc:{get:function(){return this.a6;}},k4b:{get:function(){return this.PBb;}}});})();(function(n){n.df={qU:"pr0",xH:"pr1"};n.cd={UNSENT:0,OPENED:1,bA:2,DONE:3,sM:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};})(k || (k={}));b.jx=Object.assign(c,k);},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});b.JTa=void 0;c=a(9);l=a(107);b.JTa=(function(){(0,c.lk)("ProbeDownloader");return {qY:function(g){g={url:g.url,Pac:g};!1;l.Bf.Sac(g);}};})();},function(r,b,a){var f,h,k,n,p,q,v,t,w,u,x,y,z,B,A,C;function c(D,E,G){this.lq=D;this.groups=E;this.prefix=G;D=u(D,E,G);this.info=D.info.bind(D);this.fatal=D.fatal.bind(D);this.error=D.error.bind(D);this.warn=D.warn.bind(D);this.trace=D.trace.bind(D);this.debug=D.debug.bind(D);this.log=D.log.bind(D);}function l(){this.F3a=function(){throw Error("Not implemented");};this.PQb={query:function(){throw Error("Not implemented");},read:function(){throw Error("Not implemented");},create:function(){throw Error("Not implemented");},append:function(){throw Error("Not implemented");}};}function g(){}function m(){return w?w:"0.0.0.0";}function d(D){D({Ngb:0,W1:0,lab:0,P6a:0});}f=a(13);l.prototype.set=function(D,E){n[D]=E;p.save(D,E);};l.prototype.get=function(D,E){if(n.hasOwnProperty(D))return n[D];t.trace("key: " + D + ", is not available in storage cache and needs to be retrieved asynchronously");p.load(D,function(G){G.ja?(n[D]=G.data,E && E(G.data)):n[D]=void 0;});};l.prototype.remove=function(D){p.remove(D);};l.prototype.clear=function(){t.info("WARNING: Calling unimplemented function Storage.clear()");};g.prototype.now=function(){return q();};g.prototype.fa=function(){return v();};g.prototype.eAa=function(D){return D + q() - v();};g.prototype.AAa=function(D){return D + v() - q();};c.prototype.a4a=function(D){var E;E=[];this.prefix && Array.isArray(this.prefix)?E.push.apply(E,ia(this.prefix)):this.prefix && E.push(this.prefix);E.push(D);return new c(this.lq,this.groups,E);};x=(function(){var D;D=Promise;D.prototype.fail=Promise.prototype.catch;return D;})();r.exports=function(D){h=D.pea;u=D.lk;p=D.storage;n=D.uQ;q=D.fYb;v=D.getTime;t=D.jHb;y=D.dr;C=D.jx;z=D.nM;B=D.SourceBuffer;A=D.MediaSource;w=D.Wuc;k=D.Cv;return {name:"cadmium",Cv:k,pea:h,storage:new l(),Storage:l,time:new g(),events:new f.EventEmitter(),console:new c("JS-ASE",void 0,"default"),Console:c,options:{},Promise:x,dr:y,nM:z,nwb:B,MediaSource:A,jx:C,Lq:{name:m},memory:{kXb:d},zq:D.zq,D9:D.D9};};},function(r,b,a){r.exports={EventEmitter:a(1460),ef:a(1461)};},function(r){function b(c,l){var g;if(void 0 === l || "function" !== typeof l || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.Qd)return (this.Qd={},this.Qd[c]=[l],!0);g=this.Qd[c];return void 0 === g?(this.Qd[c]=[l],!0):0 > g.indexOf(l)?(g.push(l),!0):!1;}function a(c,l){c=this.Qd?this.Qd[c]:void 0;if(!c)return !1;c.forEach(function(g){g(l);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,l){var g;if(void 0 === l || "function" !== typeof l || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.Qd)return !1;g=this.Qd[c];if(void 0 === g)return !1;l=g.indexOf(l);if(0 > l)return !1;if(1 === g.length)return (delete this.Qd[c],!0);g.splice(l,1);return !0;},kb:a,emit:a,removeAllListeners:function(c){this.Qd && (void 0 === c?delete this.Qd:delete this.Qd[c]);return this;}};},function(r){function b(c,l,g,m){c.trace(":",g,":",m);l(m);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,l,g,m){g=m?g.bind(m):g;m=!1;if(c){this.console && (g=b.bind(null,this.console,g,l));if("function" === typeof c.addEventListener)m=c.addEventListener(l,g);else if("function" === typeof c.addListener)m=c.addListener(l,g);else throw Error("Emitter does not have a function to add listeners for '" + l + "'");this.listeners.push([c,l,g]);}return m;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(l){var g,m;g=l[0];m=l[1];l=l[2];"function" === typeof g.removeEventListener?g.removeEventListener(m,l):"function" === typeof g.removeListener && g.removeListener(m,l);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;},function(r,b,a){var l,g;function c(m,d){var f,h;f=(0,g.kj)(m,"MSS");if(l.config.c6b)return {D$:"mss",OC:function(k){var n,p;if(k.lower && 2160 <= k.height)a:{for(n=k;n.lower;){if(2160 > n.height && 1080 < n.height){n=!0;break a;}if(1080 >= n.height)break;n=n.lower;}n=!1;}else n=void 0;if(n){if(void 0 === h){try{p=mb.MSMediaKeys;h=p && p.isTypeSupportedWithFeatures?"probably" === p.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(q){f.error("hasUltraHdDisplay exception");h=!0;}h || (f.warn("Restricting resolution due screen size",{MaxHeight:k.height}),d.Ir.set({reason:"microsoftScreenSize",height:k.height}));}return !h;}}};}Object.defineProperty(b,"__esModule",{value:!0});b.pwb=void 0;r=a(140);l=a(19);g=a(9);(0,r.hU)(c);b.pwb=c;},function(r,b,a){var c,l,g,m;Object.defineProperty(b,"__esModule",{value:!0});r=a(140);c=a(9);l=a(12);g=a(1464);m=a(18);(0,r.hU)(function(d,f){var h,k;h=c.Ha.get(l.xc);if(h().qRb){k=c.Ha.get(m.jd);return new g.$Ka(d,f,c.ug,k,h);}});},function(r,b,a){var l,g,m,d,f,h;function c(k,n,p,q,v){var t;t=this;this.j=k;this.Fa=n;this.qa=p;this.Ia=q;this.Lda={};this.bP={};this.iS=[];this.pbb=1E3;this.pga=l.fPa;this.YAa=function(){var w;w=t.j.Db.value === d.nb.Xc && t.j.state.value === d.ic.Se && t.j.L === t.Fa.L;t.tZ?w || (clearInterval(t.tZ),t.tZ=void 0,t.LZ=void 0):w && (t.tZ=mb.setInterval(t.Oic,t.pbb));};this.Oic=function(){var w,u,x,y;u=t.j.Pe.value;u=u && u.stream;u=null !== (w=u && u.height) && void 0 !== w?w:null;if(null !== u && 0 < u){w=t.Ia.Rb().ia(h.va);x=t.j.pf.GJ();if(x){if(t.LZ && w - t.LZ.time < 2 * t.pbb && u === t.LZ.height){y=x - t.LZ.pRb;t.epa(u,y);t.bGb(u,y);}t.LZ={time:w,pRb:x,height:u};t.j.oea && t.j.oea.nfc(t.Lda);}}};this.Jua=function(){var w;w={};t.bP && t.iS.forEach(function(u){var x,y,z;x=t.bP[u];if(x){y=0;z=0;(0,f.zh)(x,function(B,A){z+=(0,f.Ak)(B);y+=A;});w[u]=z / y;}});return w;};this.LJ=function(w){var u;u={};w.forEach(function(x){u[x]={};});t.bP && ((0,g.b3)(w),t.iS.forEach(function(x){var y,z,B,A;y=t.bP[x];if(y){z=0;B=0;(0,f.zh)(y,function(F,L){z+=L;});A=Object.keys(y).map(Number);(0,g.b3)(A);for(var C=A.length - 1,D=A[C],E=w.length - 1;0 <= E;E--){for(var G=w[E];D >= G && 0 <= C;){(D=y[D]) && (B+=D);D=A[--C];}u[G][x]=(0,m.Mp)(B / z * 100);}}}));return u;};this.log=this.qa.cb("DFF",k);this.Q$b=v().tRb;this.s5b=v().rRb;this.efb=v().sRb;this.Fa.Rsa={Jua:this.Jua,LJ:this.LJ};k.state.addListener(this.YAa);k.Db.addListener(this.YAa);k.addEventListener(d.ka.rK,this.YAa);}Object.defineProperty(b,"__esModule",{value:!0});b.$Ka=void 0;l=a(17);g=a(44);m=a(14);d=a(16);f=a(23);h=a(5);c.prototype.OC=function(k){return k.lower && k.height > this.efb?k.height >= this.lZb():!1;};c.prototype.epa=function(k,n){var p;p=this.Lda[k];p || (this.Lda[k]=p=[],k > this.efb && (this.iS.push(k),(0,g.b3)(this.iS)));0 < n && !(this.y_ && this.y_ < k) && (this.y_=k);p.push(n);p.length > this.s5b && p.shift();};c.prototype.bGb=function(k,n){var p;p=this.bP[k];p || (this.bP[k]=p={});k=p[n];p[n]=k?k + 1:1;};c.prototype.lZb=function(){var p,q;if(this.y_){for(var k=this.iS.length,n=0;n < k;n++){p=this.iS[n];if(p >= this.y_ && p < this.pga){q=this.Lda[p];if(q && this.vKb(this.Q$b,q) && this.pga != p)return (this.log.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:p}),this.Fa.Ir.set({reason:"droppedFrames",height:p}),this.pga=p);}}this.y_=void 0;}return this.pga;};c.prototype.vKb=function(k,n){var t,w;for(var p=k.length,q=n.length,v=0;v < p;v++){t=k[v];w=t[0];t=t[1];for(var u=0;u < q;u++){if(n[u] >= t && 0 >= --w)return !0;}}return !1;};Va.Object.defineProperties(c.prototype,{D$:{configurable:!0,enumerable:!0,get:function(){return "df";}}});b.$Ka=c;},function(r,b,a){var c,l,g;Object.defineProperty(b,"__esModule",{value:!0});r=a(140);c=a(19);l=a(9);g=a(1466);(0,r.hU)(function(m,d){if(c.config.T2b)return new g.dOa(m,d,l.ug,c.config,l.za,l.Jc);});},function(r,b,a){var l,g,m;function c(d,f,h,k,n,p){var q;q=this;this.j=d;this.Fa=f;this.qa=h;this.config=k;this.za=n;this.Jc=p;this.PGb=function(v){!0 === v.oldValue && !1 === v.newValue && (q.log.error("RestartStreaming: UHD key is no longer usable"),q.j.Ndc());};this.Mjc=function(v){var t,w,u;q.log.trace("UhdKeyStatus: " + v.oldValue + " -> " + v.newValue);w=null === v || void 0 === v?void 0:v.newValue;u=null === v || void 0 === v?void 0:v.oldValue;"usable" !== w && (q.gfc(w,(null === (t=null === v || void 0 === v?void 0:v.ij) || void 0 === t?void 0:t.height) || 0),"usable" === u && (v=q.za.lf.Ga(q.V2b),q.log.error("UHD KeyStatus unexpectedly changed: " + v.ia(m.va))));};this.hcb=!1;this.log=this.qa.cb("KeyStatusStreamFilter",this.j);this.a0a=new g.ec(!1,this.PGb);this.Ljc=new g.ec(void 0,this.Mjc);}Object.defineProperty(b,"__esModule",{value:!0});b.dOa=void 0;l=a(231);g=a(74);m=a(5);c.prototype.OC=function(d){return d.Ij && (this.Lhc(),this.a0a.set(this.hcb && this.H_b),d.lower && 1080 < d.height && !this.a0a.value)?!0:!1;};c.prototype.zLb=function(){this.H_b=!0;this.log.trace("HDCP enagement wait is complete: " + this.config.fab);};c.prototype.Hfb=function(d){var f;f=this;Object.entries(d).forEach(function(h){var k,n,p;k=oa(h);h=k.next().value;k=k.next().value;h=null !== (p=null === (n=f.U2b) || void 0 === n?void 0:n[h]) && void 0 !== p?p:0;1080 < h && (f.hcb="usable" === k,f.Ljc.set(k,{height:h}));});};c.prototype.Lhc=function(){var d,f,h;d=this;h=this.Fa.We;!this.x2b && (0,l.zxa)(h) && (this.x2b=!0,this.U2b=null === (f=null === h || void 0 === h?void 0:h.context) || void 0 === f?void 0:f.hca,this.Hfb(h.keyStatuses.value),h.keyStatuses.addListener(function(k){return d.Hfb(k.newValue);}),this.Jc.wl((0,m.$b)(this.config.fab),function(){return d.zLb();}),this.V2b=this.za.lf);};c.prototype.gfc=function(d,f){this.log.error("Restricting resolution due to keyStatus",{keyHeight:f,keyStatus:d});this.Fa.Ir.set({reason:"keyStatus",height:f});};Va.Object.defineProperties(c.prototype,{D$:{configurable:!0,enumerable:!0,get:function(){return "UhdKeyStatus";}}});b.dOa=c;},function(r,b,a){var c,l;Object.defineProperty(b,"__esModule",{value:!0});r=a(140);c=a(19);l=a(9);(0,r.hU)(function(g,m){var d,f,h,k;d={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720,"show-as-a-row-bob-horizontal":480,"mini-modal-horizontal":720};Object.assign(d,c.config.Njc);f=d[m.je];if(c.config.Ojc && f){h={};k=(0,l.kj)(g,"MediaStreamFilter");return {D$:"uiLabel",OC:function(n){if(n.lower && n.height > f)return (h[n.height] || (h[n.height]=!0,k.warn("Restricting resolution due to uiLabel",{MaxHeight:f,streamHeight:n.height}),m.Ir.set({reason:"uiLabel",height:n.height})),!0);}};}});},function(r,b,a){var c,l,g,m;Object.defineProperty(b,"__esModule",{value:!0});c=a(19);l=a(17);r=a(4);g=a(9);m=a(174);a=a(34);g.Ha.get(a.uj).register(r.aa.pNa,function(d){c.config.$$ && g.Ha.get(m.dMa).start();d(l.mh);});},function(r,b,a){var c,l,g,m,d,f,h,k,n,p;Object.defineProperty(b,"__esModule",{value:!0});c=a(210);l=a(141);g=a(17);m=a(19);r=a(4);d=a(9);f=a(22);h=a(23);k=a(15);n=a(50);p=a(87);a=a(34);d.Ha.get(a.uj).register(r.aa.xNa,function(q){var v,t;v=(0,d.lk)("NccpApi");t=(0,h.z0a)(["info","warn","trace","error"]);l.JH.tO.nccp={getEsn:function(){return c.al.Wl;},getPreferredLanguages:function(){return m.config.Mr.aCa;},setPreferredLanguages:function(w){(0,f.ya)((0,k.isArray)(w) && (0,k.pQ)(w[0]));m.config.Mr.aCa=w;},queueLogblob:function(w,u,x){var y;if(w && u)if((u=u.toLowerCase(),t[u])){y=d.Ha.get(n.Do);w=d.Ha.get(p.Pz).Dv(w,u,x);y.Dc(w);}else v.warn("Invalid severity",{severity:u});},flushLogblobs:function(){d.Ha.get(n.Do).flush(!0);}};q(g.mh);});},function(r,b,a){var c,l,g,m,d,f,h,k,n,p;Object.defineProperty(b,"__esModule",{value:!0});r=a(34);b=a(4);c=a(7);l=a(49);g=a(302);m=a(17);d=a(19);f=a(9);h=a(64);k=a(141);n=a(592);p=a(120);f.Ha.get(r.uj).register(b.aa.zNa,function(q){var w,u,x;function v(y,z){return void 0 === y || void 0 === z?Promise.reject("Invalid email and/or password"):f.Ha.get(n.zRa).Sf(this.log,{},{email:y,password:z}).then(function(){});}function t(y){var z;z=f.Ha.get(p.IH);return z.S6a.fetch(y,z);}if(d.config.pTb){w=f.Ha.get(g.Rka);u=f.Ha.get(l.fr);x=f.Ha.get(c.jb).cb("Test");k.JH.tO.test={setPboRequestsListener:function(y){return w.zfc(y);},playbacks:h.Pp,getPlayback:function(y){return h.Pp.find(function(z){return z.sa === y;});},playgraphManager:{isNextSegmentReady:function(y,z){var B,A;return void 0 !== (null === (A=null === (B=h.Pp.find(function(C){return C.sa === y;})) || void 0 === B?void 0:B.qb) || void 0 === A?void 0:A.Oua(z));},isNextSegmentBuffering:function(y,z){var B,A;return null === (A=null === (B=h.Pp.find(function(C){return C.sa === y;})) || void 0 === B?void 0:B.qb) || void 0 === A?void 0:A.MY(z).QW;}},device:{esn:mb._cad_global.device.Wl,esnPrefix:u.rq,errorPrefix:u.Ft},log:{info:function(y,z){for(var B=[],A=1;A < arguments.length;++A){B[A - 1]=arguments[A];}return x.info(y,B);},error:function(y,z){for(var B=[],A=1;A < arguments.length;++A){B[A - 1]=arguments[A];}return x.error(y,B);},warn:function(y,z){for(var B=[],A=1;A < arguments.length;++A){B[A - 1]=arguments[A];}return x.warn(y,B);},trace:function(y,z){for(var B=[],A=1;A < arguments.length;++A){B[A - 1]=arguments[A];}return x.trace(y,B);},log:function(y,z){for(var B=[],A=1;A < arguments.length;++A){B[A - 1]=arguments[A];}return x.log(y,B);},debug:function(y,z){for(var B=[],A=1;A < arguments.length;++A){B[A - 1]=arguments[A];}return x.debug(y,B);}},login:v,getManifest:t};}q(m.mh);});},function(r,b,a){var c,l,g,m,d,f,h;Object.defineProperty(b,"__esModule",{value:!0});r=a(1472);c=a(19);l=a(64);b=a(7);g=a(9);m=a(50);d=a(114);f=a(22);h=a(15);mb.netflix=mb.netflix || ({});(0,f.ya)(!mb.netflix.player);mb.netflix.player={VideoSession:r.AWa,diag:{togglePanel:function(k,n){var p;p=[];if(!c.config || c.config.Q0){switch(k){case "info":p=l.Pp.map(function(q){return q.oea;});break;case "streams":p=l.Pp.map(function(q){return q.rea;});break;case "log":p=[];}p.forEach(function(q){(0,h.xd)(n)?n?q.show():q.ry():q.toggle();});}},addLogMessageSink:function(k){g.Ha.get(m.Do).addListener({jxc:function(){},U5b:function(n){k({data:n.data});}});}},log:(0,g.lk)("Ext"),LogLevel:b.Hk,addLogSink:function(k,n){g.Ha.get(d.zM).Zea(k,n);},getVersion:function(){return "6.0039.350.911";},getMostRecentPlaybackDiagnosticGroups:function(){var k;return null === (k=l.BD.pfb) || void 0 === k?void 0:k.e5a.HY();}};},function(r,b,a){var l,g,m,d,f,h;function c(k){var n;n=m.JH.call(this,k) || this;n.createPlayer=function(p,q){var v,t,w;q=void 0 === q?{}:q;q="number" === typeof q?{Dl:q}:q;v=l.Ha.get(g.LM);t=l.Ha.get(f.BM).create(q.manifest);w=l.Ha.get(d.nla);p=v.zOb(p);v=l.Ha.get(h.lla).create(p);p=v.Sua();w=w.Y3a(v);w.addEpisode({movieId:p.P,playbackParams:n.Q0a(q,p),manifest:t});return w;};return n;}Object.defineProperty(b,"__esModule",{value:!0});b.AWa=void 0;l=a(9);g=a(121);m=a(141);d=a(313);f=a(138);h=a(312);ka(c,m.JH);b.AWa=c;},function(r,b,a){var c,l,g,m,d,f,h,k,n,p,q,v,t;Object.defineProperty(b,"__esModule",{value:!0});c=a(141);l=a(210);g=a(17);m=a(44);r=a(4);d=a(9);f=a(171);h=a(22);k=a(15);n=a(14);b=a(34);p=a(62);q=a(80);v=a(164);t=a(169);d.Ha.get(b.uj).register(r.aa.yNa,function(w){var A;function u(){return l.al.Wl;}function x(C){var D;D=d.Ha.get(q.NM);d.Ha.get(v.mU)().then(function(E){var G,F;G=E.C_.getStateForMdx(D);F=G.cryptoContext;E=G.masterToken;G=G.userIdToken;E && G?((0,h.ya)(F),E=["1",(0,d.SA)(JSON.stringify(E.toJSON())),(0,d.SA)(JSON.stringify(G.toJSON()))].join(),C({success:!0,cryptoContext:{cTicket:E,encrypt:function(L,O){L=(0,k.Ng)(L)?(0,d.OS)(L):L;F.encrypt(L,{result:function(K){K=(0,d.SA)(K);O({success:!0,mslEncryptionEnvelopeBase64:K});},timeout:function(){O({success:!1});},error:function(K){(0,h.ya)(!1,"Encrypt error: " + K);O({success:!1});}});},decrypt:function(L,O){L=(0,d.mt)(L);F.decrypt(L,{result:function(K){O({success:!0,text:(0,d.v2)(K)});},timeout:function(){O({success:!1});},error:function(K){(0,h.ya)(!1,"Decrypt error: " + K);O({success:!1});}});},hmac:function(L,O){L=(0,k.Ng)(L)?(0,d.OS)(L):L;F.sign(L,{result:function(K){O({success:!0,hmacBase64:(0,d.SA)(K)});},timeout:function(){O({success:!1});},error:function(K){(0,h.ya)(!1,"Hmac error: " + K);O({success:!1});}});}}})):((0,h.ya)(!1,"Must login first"),C({success:!1}));});}function y(C,D){var E;E=(0,d.mt)(C);C=E.subarray(32,48);E=E.subarray(0,32);if(16 != C.length || 32 != E.length)throw Error("Bad shared secret");Promise.all([(0,m.LK)(n.Lr.importKey("raw",C,{name:"AES-CBC"},!1,["encrypt","decrypt"])),(0,m.LK)(n.Lr.importKey("raw",E,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]))]).then(function(G){D({success:!0,cryptoContext:z(G[0],G[1])});},function(){D({success:!1});});}function z(C,D){function E(G){G=new f.DT((0,d.mt)(G));G.CC();return {iv:G.Wib(),ESb:G.Wib()};}return {encrypt:function(G,F){var L;G=(0,k.Ng)(G)?(0,d.OS)(G):G;L=n.yD.getRandomValues(new Uint8Array(16));(0,m.LK)(n.Lr.encrypt({name:"AES-CBC",iv:L},C,G)).then(function(O){var K,I;O=new Uint8Array(O);K=[];I=new f.DT(K);I.xha(2);I.uqb(L);I.uqb(O);O=(0,d.SA)(K);F({success:!0,encryptedDataAsn1Base64:O});},function(O){(0,h.ya)(!1,"Encrypt error: " + O);F({success:!1});});},decrypt:function(G,F){var L;L=E(G);G=L.iv;L=L.ESb;(0,m.LK)(n.Lr.decrypt({name:"AES-CBC",iv:G},C,L)).then(function(O){O=new Uint8Array(O);F({success:!0,text:(0,d.v2)(O)});},function(O){(0,h.ya)(!1,"Decrypt error: " + O);F({success:!1});});},hmac:function(G,F){G=(0,k.Ng)(G)?(0,d.OS)(G):G;(0,m.LK)(n.Lr.sign({name:"HMAC",hash:{name:"SHA-256"}},D,G)).then(function(L){L=new Uint8Array(L);F({success:!0,hmacBase64:(0,d.SA)(L)});},function(L){(0,h.ya)(!1,"Hmac error: " + L);F({success:!1});});}};}function B(){return (0,p.e9)();}A=d.Ha.get(t.$G);if(A.Abb || A.TB)c.JH.tO.mdx={getEsn:u,createCryptoContext:x,createCryptoContextFromSharedSecret:y,getServerEpoch:B};w(g.mh);});},function(r,b,a){var c,l,g,m,d;Object.defineProperty(b,"__esModule",{value:!0});c=a(19);l=a(17);r=a(4);g=a(9);b=a(34);m=a(120);g.Ha.get(b.uj).register(r.aa.uNa,function(f){var h,k,n;if(c.config.iu){h=(0,g.lk)("PlayerPredictionModel");k=g.Ha.get(m.IH);n=a(1475);h.log=h.trace.bind(h);d=new n({},h,{T0:function(){},adc:function(){}},k,{ZK:function(){}});mb._cad_global.playerPredictionModel=d;h.info("ppm v2 initialized");}f(l.mh);});},function(r,b,a){var m,d,f,h,k,n,p;function c(q,v,t,w,u,x){this.L=this.P=q;this.priority=v;this.re=t;x && x.je && (this.je=x.je);void 0 !== w && (this.lR=w);this.Jm=u;this.Gb=x;}function l(q,v,t,w,u){f(void 0 !== w,"video preparer is null");f(void 0 !== u,"ui preparer is null");this.H=v || console;this.H=v;this.Da=t;this.bFb=w;this.PEb=u;this.dZa=n.YBa;this.bO=[];this.Goa=!1;this.YU=0;new p().on(n,"changed",g,this);this.reset();}function g(){this.H.log("config changed");n.YBa && (this.dZa=n.YBa);n.B_ !== this.NN && (this.reset(),this.cDa());}m=a(315);d=a(316);b=a(603);f=b.assert;h=b.d7a;k=a(1476);n=a(604).config;p=a(1477).ef;n.declare({YBa:["ppmConfig",{unc:{mgb:0,lgb:2,jgb:0,kgb:5,Vlb:0},irc:{mgb:0,lgb:1,jgb:0,kgb:3,Vlb:1E3},Hnc:{mgb:0,lgb:1,jgb:0,kgb:3,Vlb:1E3}}]});l.prototype.constructor=l;l.prototype.reset=function(){this.ena=!0;this.NN=n.B_;this.H.log("create model: " + n.B_,n.ykb,n.N2a);switch(n.B_){case "modelone":this.NN=new k(this.H);break;default:this.NN=new k(this.H);}};l.prototype.cDa=function(){var v,t;if(!1 === this.Goa){this.Goa=!0;for(var q=0;q < this.bO.length;q++){this.H.log("PlayPredictionModel replay: ",JSON.stringify(this.bO[q]));v=this.z3a(this.bO[q]);t=this.Y7a(v);this.NN.update(v,t);this.ena=!1;}this.bO=[];}};l.prototype.update=function(q){var v,t,w;this.H.log("PlayPredictionModel update: ",JSON.stringify(q));if(q && q.Sb && q.Sb[0]){!1 === this.Goa && this.bO.length < n.r5b && this.bO.push(q);v=this.z3a(q);t=this.Y7a(v);this.H.log("actionType",t);v="mlmodel" == n.B_?this.NN.update(q,t):this.NN.update(v,t);v=this.EVb(v,n.K2b || 1);this.H.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(v));0 === this.YU && (this.YU=m(),this.Da && this.Da.T0 && this.Da.T0({tQb:this.YU}));if(this.Da && this.Da.adc){this.GWb();w=[];v.forEach(function(u){w.push({Qxc:u.P});});JSON.stringify(q);JSON.stringify(v);}this.bFb.ZK(v);this.PEb.ZK(v);this.ena=!1;}};l.prototype.GWb=function(){m();};l.prototype.T0=function(){this.YU=m();this.Da && this.Da.T0 && this.Da.T0({tQb:this.YU});};l.prototype.z3a=function(q){var v,t,w,u,x;v={};w=q.Sb || [];u=(function(y){var z,B;z={};x=d.UT.name.indexOf(y.context);z.context=0 <= x?x:d.UT.Xz;z.rowIndex=y.rowIndex;z.requestId=y.requestId;z.list=[];t=y.list || [];t.forEach((function(A){B={P:A.P,re:A.re,index:A.index,lR:A.lR,Dea:A.Dea,list:A.list,Gb:A.Gb};void 0 !== A.property && (x=d.wM.name.indexOf(A.property),B.property=0 <= x?x:d.wM.Xz);z.list.push(B);}).bind(this));v.Sb.push(z);}).bind(this);if(void 0 !== q.direction){x=d.dx.name.indexOf(q.direction);v.direction=0 <= x?x:d.dx.Xz;}void 0 !== q.mY && (v.euc=q.mY.rowIndex,v.duc=q.mY.sLb);v.mY=q.mY;v.Sb=[];w.forEach(u);return v;};l.prototype.Y7a=function(q){var v,t,w;v=q.direction || d.dx.Xz;t=q.mY;w=q.Sb || [];!0 === this.ena?q=d.zz.SLa:!0 === w.some(this.E_b)?(q=d.zz.rU,this.gfa(w,v,t)):q=w[0].context === d.UT.z5?d.zz.z5:v === d.dx.TTa || v === d.dx.hOa?d.zz.nUa:d.zz.Xz;return q;};l.prototype.E_b=function(q){return (q.list || []).some(function(v){return v.property === d.wM.rU || v.property === d.wM.gKa;});};l.prototype.gfa=function(q,v,t){var w,u;this.H.log("reportPlayFocusEvent: ",v,t);w={};u=h(q);this.Da && this.Da.gfa && (w.Vtc=m(),w.direction=d.dx.name[v],t && (w.rowIndex=t.rowIndex,w.O2a=t.sLb),void 0 !== u.sl && (w.requestId=q[u.sl].requestId),this.Da.gfa && this.Da.gfa(w));};l.prototype.EVb=function(q,v){for(var t=q.length,w=[],u,x,y,z,B=0;B < t;B++){x=q[B];u=Math.floor(B / v) + 1;if(void 0 !== x.list){y=x.list;z=y.length;for(var A=0;A < Math.min(n.oLb,z) && !(y[A].Jm=x.Jm,this.E_a(y[A],u,w),w.length >= n.oeb);A++){;}}else this.E_a(x,u,w);if(w.length >= n.oeb)break;}return w;};l.prototype.E_a=function(q,v,t){var u,x;function w(y){y.je && (y.Gb || (y.Gb={}),y.Gb.je=y.je);return y.Gb;}u=q.Dea;if(void 0 !== u && u instanceof Array)u.forEach(function(y){void 0 !== y.P && (x=w(y),t.push(new c(y.P,v,y.re,y.lR,q.Jm,x)));});else if(void 0 !== u && void 0 !== u.P){u=q.Dea;x=w(u);t.push(new c(u.P,v,u.re,u.lR,q.Jm,x));}void 0 !== q.P && (x=w(q),t.push(new c(q.P,v,q.re,q.lR,q.Jm,x)));};l.prototype.DJ=function(q){var v;v=this.dZa;return q?v[q]:v;};r.exports=l;},function(r,b,a){var g,m,d,f,h,k,n,p,q,v;function c(t,w){this.sl=t;this.Ln=w;}function l(t){this.H=t;this.reset();}g=a(315);m=a(316);b=a(603);d=a(604).config;f=b.yWb;h=b.fWb;k=b.wQb;n=b.O7b;p=b.N7b;q=b.M7b;v=b.d7a;l.prototype.constructor=l;l.prototype.reset=function(){this.eZa=void 0;this.Ll=[];this.TYa=this.UYa=!1;};l.prototype.update=function(t,w){var u;this.Ll && (this.Ll=this.Ll.filter(this.pgc,this));if(!1 === this.UYa){u=f(t.Sb).slice(0,d.s4a);0 < u.length && (this.CK(u,m.Ez.um),this.UYa=!0,this.Ll=this.XL(u.concat(this.Ll)));}!1 === this.TYa && (u=h(t.Sb).slice(0,d.s4a),0 < u.length && (this.CK(u,m.Ez.um),this.TYa=!0,this.Ll=this.XL(u.concat(this.Ll))));switch(w){case m.zz.SLa:w=this.ZZb(t);break;case m.zz.nUa:w=this.i_b(t);break;case m.zz.z5:w=this.j_b(t);break;case m.zz.rU:w=this.d_b(t);break;default:w=this.WZb(t);}this.eZa=t;return w;};l.prototype.ZZb=function(t){t=n(t.Sb,d.ykb,d.N2a);this.CK(t,m.Ez.um);return this.Ll=this.XL(this.Ll.concat(t));};l.prototype.i_b=function(t){var w,u;this.H.log("handleScrollHorizontal");w=t.Sb;t=n(w,d.zkb,d.P2a);u=k(w,this.eZa.Sb);w=w[u].list.slice(0,d.Xdc);w.concat(t);this.CK(w,m.Ez.Ula);return this.XL(w.concat(this.Ll));};l.prototype.CK=function(t,w){t.forEach(function(u){if(void 0 === u.CE || u.CE < w)u.CE=w;void 0 === u.yS && (u.yS=g());void 0 === u.Jm && (u.Jm=g());});};l.prototype.j_b=function(t){this.H.log("handleSearch");t=p(t.Sb,d.wec);this.CK(t,m.Ez.oUa);this.Ll=t.concat(this.Ll);return this.Ll=this.XL(this.Ll);};l.prototype.d_b=function(t){var w,u,x,y,z;this.H.log("handlePlayFocus: ",d.gZ);w=t.direction;u=t.Sb;t=[];x=v(u);if(void 0 !== x.sl)switch((t.push(x),w)){case m.dx.TTa:for(w=1;w < d.gZ;w++){t.push(new c(x.sl,x.Ln + w));}t.push(new c(x.sl - 1,x.Ln));t.push(new c(x.sl + 1,x.Ln));break;case m.dx.hOa:for(w=1;w < d.gZ;w++){t.push(new c(x.sl,x.Ln - w));}t.push(new c(x.sl - 1,x.Ln));t.push(new c(x.sl + 1,x.Ln));break;case m.dx.$yb:t.push(new c(x.sl - 1,x.Ln));for(w=1;w <= d.gZ / 2;w++){t.push(new c(x.sl,x.Ln + w));t.push(new c(x.sl,x.Ln - w));}break;case m.dx.Etb:for((t.push(new c(x.sl + 1,x.Ln)),w=1);w <= d.gZ / 2;w++){t.push(new c(x.sl,x.Ln + w));t.push(new c(x.sl,x.Ln - w));}}y=[];t.forEach(function(B){z=q(u,B.sl,B.Ln);void 0 !== z && y.push(z);});this.CK(y,m.Ez.Ula);return this.XL(y.concat(this.Ll));};l.prototype.WZb=function(t){this.H.log("ModelOne: handleDefaultCase");t=n(t.Sb,d.zkb,d.P2a);this.CK(t,m.Ez.Ula);return this.XL(t.concat(this.Ll));};l.prototype.pgc=function(t){return t.CE == m.Ez.um | t.CE == m.Ez.oUa & g() - t.yS < d.$_b;};l.prototype.XL=function(t){var w,u,x,y,z,B,A;w=[];u={};y=0;z=t.length;for(x=0;x < z;x++){B=t[x].P;A=t[x];!1 === (B in u)?(w.push(A),u[B]=y,y++):(B=w[u[B]],A.Jm < B.Jm && (B.Jm=A.Jm),A.CE > B.CE && (B.CE=A.CE),A.yS > B.yS && (B.yS=A.yS));}return w;};r.exports=l;},function(r,b,a){r.exports={EventEmitter:a(1478),ef:a(1479)};},function(r){function b(c,l){var g;if(void 0 === l || "function" !== typeof l || "string" !== typeof c)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0 === this.Qd)return (this.Qd={},this.Qd[c]=[l],!0);g=this.Qd[c];return void 0 === g?(this.Qd[c]=[l],!0):0 > g.indexOf(l)?(g.push(l),!0):!1;}function a(c,l){c=this.Qd?this.Qd[c]:void 0;if(!c)return !1;c.forEach(function(g){g(l);});return !0;}r.exports={addEventListener:b,on:b,removeEventListener:function(c,l){var g;if(void 0 === l || "function" !== typeof l || "string" !== typeof c)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0 === this.Qd)return !1;g=this.Qd[c];if(void 0 === g)return !1;l=g.indexOf(l);if(0 > l)return !1;if(1 === g.length)return (delete this.Qd[c],!0);g.splice(l,1);return !0;},kb:a,emit:a,removeAllListeners:function(c){this.Qd && (void 0 === c?delete this.Qd:delete this.Qd[c]);return this;}};},function(r){function b(c,l,g,m){c.trace(":",g,":",m);l(m);}function a(c){this.listeners=[];this.console=c;}a.prototype.constructor=a;a.prototype.addEventListener=function(c,l,g,m){g=m?g.bind(m):g;m=!1;if(c){this.console && (g=b.bind(null,this.console,g,l));if("function" === typeof c.addEventListener)m=c.addEventListener(l,g);else if("function" === typeof c.addListener)m=c.addListener(l,g);else throw Error("Emitter does not have a function to add listeners for '" + l + "'");this.listeners.push([c,l,g]);}return m;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var c;c=this.listeners.length;this.listeners.forEach(function(l){var g,m;g=l[0];m=l[1];l=l[2];"function" === typeof g.removeEventListener?g.removeEventListener(m,l):"function" === typeof g.removeListener && g.removeListener(m,l);});this.listeners=[];this.console && this.console.trace("removed",c,"listener(s)");};r.exports=a;}]);}).call(mb);})(window);}).call(window);